function Eb(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Hd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function PC(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),n}var Yh={exports:{}},Pa={},Jh={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function RC(){if(hy)return Ye;hy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=m&&D[m]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,j={};function k(D,V,W){this.props=D,this.context=V,this.refs=j,this.updater=W||w}k.prototype.isReactComponent={},k.prototype.setState=function(D,V){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,V,"setState")},k.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function N(){}N.prototype=k.prototype;function E(D,V,W){this.props=D,this.context=V,this.refs=j,this.updater=W||w}var C=E.prototype=new N;C.constructor=E,b(C,k.prototype),C.isPureReactComponent=!0;var A=Array.isArray,O=Object.prototype.hasOwnProperty,L={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function R(D,V,W){var se,I={},U=null,H=null;if(V!=null)for(se in V.ref!==void 0&&(H=V.ref),V.key!==void 0&&(U=""+V.key),V)O.call(V,se)&&!B.hasOwnProperty(se)&&(I[se]=V[se]);var Z=arguments.length-2;if(Z===1)I.children=W;else if(1<Z){for(var he=Array(Z),ue=0;ue<Z;ue++)he[ue]=arguments[ue+2];I.children=he}if(D&&D.defaultProps)for(se in Z=D.defaultProps,Z)I[se]===void 0&&(I[se]=Z[se]);return{$$typeof:t,type:D,key:U,ref:H,props:I,_owner:L.current}}function z(D,V){return{$$typeof:t,type:D.type,key:V,ref:D.ref,props:D.props,_owner:D._owner}}function X(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function ae(D){var V={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(W){return V[W]})}var K=/\/+/g;function te(D,V){return typeof D=="object"&&D!==null&&D.key!=null?ae(""+D.key):V.toString(36)}function ee(D,V,W,se,I){var U=typeof D;(U==="undefined"||U==="boolean")&&(D=null);var H=!1;if(D===null)H=!0;else switch(U){case"string":case"number":H=!0;break;case"object":switch(D.$$typeof){case t:case e:H=!0}}if(H)return H=D,I=I(H),D=se===""?"."+te(H,0):se,A(I)?(W="",D!=null&&(W=D.replace(K,"$&/")+"/"),ee(I,V,W,"",function(ue){return ue})):I!=null&&(X(I)&&(I=z(I,W+(!I.key||H&&H.key===I.key?"":(""+I.key).replace(K,"$&/")+"/")+D)),V.push(I)),1;if(H=0,se=se===""?".":se+":",A(D))for(var Z=0;Z<D.length;Z++){U=D[Z];var he=se+te(U,Z);H+=ee(U,V,W,he,I)}else if(he=y(D),typeof he=="function")for(D=he.call(D),Z=0;!(U=D.next()).done;)U=U.value,he=se+te(U,Z++),H+=ee(U,V,W,he,I);else if(U==="object")throw V=String(D),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return H}function re(D,V,W){if(D==null)return D;var se=[],I=0;return ee(D,se,"","",function(U){return V.call(W,U,I++)}),se}function J(D){if(D._status===-1){var V=D._result;V=V(),V.then(function(W){(D._status===0||D._status===-1)&&(D._status=1,D._result=W)},function(W){(D._status===0||D._status===-1)&&(D._status=2,D._result=W)}),D._status===-1&&(D._status=0,D._result=V)}if(D._status===1)return D._result.default;throw D._result}var M={current:null},T={transition:null},F={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:T,ReactCurrentOwner:L};function q(){throw Error("act(...) is not supported in production builds of React.")}return Ye.Children={map:re,forEach:function(D,V,W){re(D,function(){V.apply(this,arguments)},W)},count:function(D){var V=0;return re(D,function(){V++}),V},toArray:function(D){return re(D,function(V){return V})||[]},only:function(D){if(!X(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ye.Component=k,Ye.Fragment=n,Ye.Profiler=o,Ye.PureComponent=E,Ye.StrictMode=s,Ye.Suspense=h,Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,Ye.act=q,Ye.cloneElement=function(D,V,W){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var se=b({},D.props),I=D.key,U=D.ref,H=D._owner;if(V!=null){if(V.ref!==void 0&&(U=V.ref,H=L.current),V.key!==void 0&&(I=""+V.key),D.type&&D.type.defaultProps)var Z=D.type.defaultProps;for(he in V)O.call(V,he)&&!B.hasOwnProperty(he)&&(se[he]=V[he]===void 0&&Z!==void 0?Z[he]:V[he])}var he=arguments.length-2;if(he===1)se.children=W;else if(1<he){Z=Array(he);for(var ue=0;ue<he;ue++)Z[ue]=arguments[ue+2];se.children=Z}return{$$typeof:t,type:D.type,key:I,ref:U,props:se,_owner:H}},Ye.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:l,_context:D},D.Consumer=D},Ye.createElement=R,Ye.createFactory=function(D){var V=R.bind(null,D);return V.type=D,V},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(D){return{$$typeof:d,render:D}},Ye.isValidElement=X,Ye.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:J}},Ye.memo=function(D,V){return{$$typeof:f,type:D,compare:V===void 0?null:V}},Ye.startTransition=function(D){var V=T.transition;T.transition={};try{D()}finally{T.transition=V}},Ye.unstable_act=q,Ye.useCallback=function(D,V){return M.current.useCallback(D,V)},Ye.useContext=function(D){return M.current.useContext(D)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(D){return M.current.useDeferredValue(D)},Ye.useEffect=function(D,V){return M.current.useEffect(D,V)},Ye.useId=function(){return M.current.useId()},Ye.useImperativeHandle=function(D,V,W){return M.current.useImperativeHandle(D,V,W)},Ye.useInsertionEffect=function(D,V){return M.current.useInsertionEffect(D,V)},Ye.useLayoutEffect=function(D,V){return M.current.useLayoutEffect(D,V)},Ye.useMemo=function(D,V){return M.current.useMemo(D,V)},Ye.useReducer=function(D,V,W){return M.current.useReducer(D,V,W)},Ye.useRef=function(D){return M.current.useRef(D)},Ye.useState=function(D){return M.current.useState(D)},Ye.useSyncExternalStore=function(D,V,W){return M.current.useSyncExternalStore(D,V,W)},Ye.useTransition=function(){return M.current.useTransition()},Ye.version="18.3.1",Ye}var fy;function hl(){return fy||(fy=1,Jh.exports=RC()),Jh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function DC(){if(py)return Pa;py=1;var t=hl(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,f){var p,m={},y=null,w=null;f!==void 0&&(y=""+f),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(w=h.ref);for(p in h)s.call(h,p)&&!l.hasOwnProperty(p)&&(m[p]=h[p]);if(d&&d.defaultProps)for(p in h=d.defaultProps,h)m[p]===void 0&&(m[p]=h[p]);return{$$typeof:e,type:d,key:y,ref:w,props:m,_owner:o.current}}return Pa.Fragment=n,Pa.jsx=c,Pa.jsxs=c,Pa}var my;function OC(){return my||(my=1,Yh.exports=DC()),Yh.exports}var r=OC(),Oc={},Qh={exports:{}},_n={},Xh={exports:{}},Zh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function FC(){return gy||(gy=1,(function(t){function e(T,F){var q=T.length;T.push(F);e:for(;0<q;){var D=q-1>>>1,V=T[D];if(0<o(V,F))T[D]=F,T[q]=V,q=D;else break e}}function n(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var F=T[0],q=T.pop();if(q!==F){T[0]=q;e:for(var D=0,V=T.length,W=V>>>1;D<W;){var se=2*(D+1)-1,I=T[se],U=se+1,H=T[U];if(0>o(I,q))U<V&&0>o(H,I)?(T[D]=H,T[U]=q,D=U):(T[D]=I,T[se]=q,D=se);else if(U<V&&0>o(H,q))T[D]=H,T[U]=q,D=U;else break e}}return F}function o(T,F){var q=T.sortIndex-F.sortIndex;return q!==0?q:T.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],f=[],p=1,m=null,y=3,w=!1,b=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(T){for(var F=n(f);F!==null;){if(F.callback===null)s(f);else if(F.startTime<=T)s(f),F.sortIndex=F.expirationTime,e(h,F);else break;F=n(f)}}function A(T){if(j=!1,C(T),!b)if(n(h)!==null)b=!0,J(O);else{var F=n(f);F!==null&&M(A,F.startTime-T)}}function O(T,F){b=!1,j&&(j=!1,N(R),R=-1),w=!0;var q=y;try{for(C(F),m=n(h);m!==null&&(!(m.expirationTime>F)||T&&!ae());){var D=m.callback;if(typeof D=="function"){m.callback=null,y=m.priorityLevel;var V=D(m.expirationTime<=F);F=t.unstable_now(),typeof V=="function"?m.callback=V:m===n(h)&&s(h),C(F)}else s(h);m=n(h)}if(m!==null)var W=!0;else{var se=n(f);se!==null&&M(A,se.startTime-F),W=!1}return W}finally{m=null,y=q,w=!1}}var L=!1,B=null,R=-1,z=5,X=-1;function ae(){return!(t.unstable_now()-X<z)}function K(){if(B!==null){var T=t.unstable_now();X=T;var F=!0;try{F=B(!0,T)}finally{F?te():(L=!1,B=null)}}else L=!1}var te;if(typeof E=="function")te=function(){E(K)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,re=ee.port2;ee.port1.onmessage=K,te=function(){re.postMessage(null)}}else te=function(){k(K,0)};function J(T){B=T,L||(L=!0,te())}function M(T,F){R=k(function(){T(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){b||w||(b=!0,J(O))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(T){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var q=y;y=F;try{return T()}finally{y=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,F){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var q=y;y=T;try{return F()}finally{y=q}},t.unstable_scheduleCallback=function(T,F,q){var D=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?D+q:D):q=D,T){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=q+V,T={id:p++,callback:F,priorityLevel:T,startTime:q,expirationTime:V,sortIndex:-1},q>D?(T.sortIndex=q,e(f,T),n(h)===null&&T===n(f)&&(j?(N(R),R=-1):j=!0,M(A,q-D))):(T.sortIndex=V,e(h,T),b||w||(b=!0,J(O))),T},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(T){var F=y;return function(){var q=y;y=F;try{return T.apply(this,arguments)}finally{y=q}}}})(Zh)),Zh}var xy;function IC(){return xy||(xy=1,Xh.exports=FC()),Xh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function MC(){if(yy)return _n;yy=1;var t=hl(),e=IC();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(i,a){c(i,a),c(i+"Capture",a)}function c(i,a){for(o[i]=a,i=0;i<a.length;i++)s.add(a[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(i){return h.call(m,i)?!0:h.call(p,i)?!1:f.test(i)?m[i]=!0:(p[i]=!0,!1)}function w(i,a,u,g){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,a,u,g){if(a===null||typeof a>"u"||w(i,a,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function j(i,a,u,g,v,S,_){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=i,this.type=a,this.sanitizeURL=S,this.removeEmptyString=_}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){k[i]=new j(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];k[a]=new j(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){k[i]=new j(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){k[i]=new j(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){k[i]=new j(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){k[i]=new j(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){k[i]=new j(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){k[i]=new j(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){k[i]=new j(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function E(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(N,E);k[a]=new j(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(N,E);k[a]=new j(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(N,E);k[a]=new j(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){k[i]=new j(i,1,!1,i.toLowerCase(),null,!1,!1)}),k.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){k[i]=new j(i,1,!1,i.toLowerCase(),null,!0,!0)});function C(i,a,u,g){var v=k.hasOwnProperty(a)?k[a]:null;(v!==null?v.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,u,v,g)&&(u=null),g||v===null?y(a)&&(u===null?i.removeAttribute(a):i.setAttribute(a,""+u)):v.mustUseProperty?i[v.propertyName]=u===null?v.type===3?!1:"":u:(a=v.attributeName,g=v.attributeNamespace,u===null?i.removeAttribute(a):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,g?i.setAttributeNS(g,a,u):i.setAttribute(a,u))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),L=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),ae=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),T=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=T&&i[T]||i["@@iterator"],typeof i=="function"?i:null)}var q=Object.assign,D;function V(i){if(D===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);D=a&&a[1]||""}return`
`+D+i}var W=!1;function se(i,a){if(!i||W)return"";W=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(oe){var g=oe}Reflect.construct(i,[],a)}else{try{a.call()}catch(oe){g=oe}i.call(a.prototype)}else{try{throw Error()}catch(oe){g=oe}i()}}catch(oe){if(oe&&g&&typeof oe.stack=="string"){for(var v=oe.stack.split(`
`),S=g.stack.split(`
`),_=v.length-1,$=S.length-1;1<=_&&0<=$&&v[_]!==S[$];)$--;for(;1<=_&&0<=$;_--,$--)if(v[_]!==S[$]){if(_!==1||$!==1)do if(_--,$--,0>$||v[_]!==S[$]){var G=`
`+v[_].replace(" at new "," at ");return i.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",i.displayName)),G}while(1<=_&&0<=$);break}}}finally{W=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?V(i):""}function I(i){switch(i.tag){case 5:return V(i.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return i=se(i.type,!1),i;case 11:return i=se(i.type.render,!1),i;case 1:return i=se(i.type,!0),i;default:return""}}function U(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case L:return"Portal";case z:return"Profiler";case R:return"StrictMode";case te:return"Suspense";case ee:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ae:return(i.displayName||"Context")+".Consumer";case X:return(i._context.displayName||"Context")+".Provider";case K:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case re:return a=i.displayName||null,a!==null?a:U(i.type)||"Memo";case J:a=i._payload,i=i._init;try{return U(i(a))}catch{}}return null}function H(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(a);case 8:return a===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Z(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function he(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ue(i){var a=he(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),g=""+i[a];if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,S=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(_){g=""+_,S.call(this,_)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(_){g=""+_},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ve(i){i._valueTracker||(i._valueTracker=ue(i))}function Ne(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),g="";return i&&(g=he(i)?i.checked?"true":"false":i.value),i=g,i!==u?(a.setValue(i),!0):!1}function Ge(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function tt(i,a){var u=a.checked;return q({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function qe(i,a){var u=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;u=Z(a.value!=null?a.value:u),i._wrapperState={initialChecked:g,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ut(i,a){a=a.checked,a!=null&&C(i,"checked",a,!1)}function Et(i,a){Ut(i,a);var u=Z(a.value),g=a.type;if(u!=null)g==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?xt(i,a.type,u):a.hasOwnProperty("defaultValue")&&xt(i,a.type,Z(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function ut(i,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,u||a===i.value||(i.value=a),i.defaultValue=a}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function xt(i,a,u){(a!=="number"||Ge(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Ie=Array.isArray;function Ft(i,a,u,g){if(i=i.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=a.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&g&&(i[u].defaultSelected=!0)}else{for(u=""+Z(u),a=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,g&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function wt(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Qe(i,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(Ie(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}i._wrapperState={initialValue:Z(u)}}function Y(i,a){var u=Z(a.value),g=Z(a.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),a.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),g!=null&&(i.defaultValue=""+g)}function ce(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function ke(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?ke(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ue,at=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,g,v){MSApp.execUnsafeLocalFunction(function(){return i(a,u,g,v)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Ue=Ue||document.createElement("div"),Ue.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ue.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function ht(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qt=["Webkit","ms","Moz","O"];Object.keys(sn).forEach(function(i){Qt.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),sn[a]=sn[i]})});function xn(i,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||sn.hasOwnProperty(i)&&sn[i]?(""+a).trim():a+"px"}function as(i,a){i=i.style;for(var u in a)if(a.hasOwnProperty(u)){var g=u.indexOf("--")===0,v=xn(u,a[u],g);u==="float"&&(u="cssFloat"),g?i.setProperty(u,v):i[u]=v}}var lt=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dn(i,a){if(a){if(lt[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function ls(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ht=null;function on(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var jn=null,rr=null,_t=null;function sr(i){if(i=ga(i)){if(typeof jn!="function")throw Error(n(280));var a=i.stateNode;a&&(a=Yl(a),jn(i.stateNode,i.type,a))}}function le(i){rr?_t?_t.push(i):_t=[i]:rr=i}function Oe(){if(rr){var i=rr,a=_t;if(_t=rr=null,sr(i),a)for(i=0;i<a.length;i++)sr(a[i])}}function Be(i,a){return i(a)}function Je(){}var qt=!1;function st(i,a,u){if(qt)return i(a,u);qt=!0;try{return Be(i,a,u)}finally{qt=!1,(rr!==null||_t!==null)&&(Je(),Oe())}}function ct(i,a){var u=i.stateNode;if(u===null)return null;var g=Yl(u);if(g===null)return null;u=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var Bt=!1;if(d)try{var At={};Object.defineProperty(At,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",At,At),window.removeEventListener("test",At,At)}catch{Bt=!1}function de(i,a,u,g,v,S,_,$,G){var oe=Array.prototype.slice.call(arguments,3);try{a.apply(u,oe)}catch(pe){this.onError(pe)}}var je=!1,we=null,He=!1,dt=null,nt={onError:function(i){je=!0,we=i}};function On(i,a,u,g,v,S,_,$,G){je=!1,we=null,de.apply(nt,arguments)}function Gt(i,a,u,g,v,S,_,$,G){if(On.apply(this,arguments),je){if(je){var oe=we;je=!1,we=null}else throw Error(n(198));He||(He=!0,dt=oe)}}function Xt(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function _l(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Fi(i){if(Xt(i)!==i)throw Error(n(188))}function ir(i){var a=i.alternate;if(!a){if(a=Xt(i),a===null)throw Error(n(188));return a!==i?null:i}for(var u=i,g=a;;){var v=u.return;if(v===null)break;var S=v.alternate;if(S===null){if(g=v.return,g!==null){u=g;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===u)return Fi(v),i;if(S===g)return Fi(v),a;S=S.sibling}throw Error(n(188))}if(u.return!==g.return)u=v,g=S;else{for(var _=!1,$=v.child;$;){if($===u){_=!0,u=v,g=S;break}if($===g){_=!0,g=v,u=S;break}$=$.sibling}if(!_){for($=S.child;$;){if($===u){_=!0,u=S,g=v;break}if($===g){_=!0,g=S,u=v;break}$=$.sibling}if(!_)throw Error(n(189))}}if(u.alternate!==g)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:a}function Nr(i){return i=ir(i),i!==null?cs(i):null}function cs(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=cs(i);if(a!==null)return a;i=i.sibling}return null}var Bg=e.unstable_scheduleCallback,$g=e.unstable_cancelCallback,WN=e.unstable_shouldYield,VN=e.unstable_requestPaint,Rt=e.unstable_now,UN=e.unstable_getCurrentPriorityLevel,mu=e.unstable_ImmediatePriority,zg=e.unstable_UserBlockingPriority,Al=e.unstable_NormalPriority,HN=e.unstable_LowPriority,Wg=e.unstable_IdlePriority,Tl=null,kr=null;function qN(i){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(Tl,i,void 0,(i.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:YN,GN=Math.log,KN=Math.LN2;function YN(i){return i>>>=0,i===0?32:31-(GN(i)/KN|0)|0}var Pl=64,Rl=4194304;function Xo(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Dl(i,a){var u=i.pendingLanes;if(u===0)return 0;var g=0,v=i.suspendedLanes,S=i.pingedLanes,_=u&268435455;if(_!==0){var $=_&~v;$!==0?g=Xo($):(S&=_,S!==0&&(g=Xo(S)))}else _=u&~v,_!==0?g=Xo(_):S!==0&&(g=Xo(S));if(g===0)return 0;if(a!==0&&a!==g&&(a&v)===0&&(v=g&-g,S=a&-a,v>=S||v===16&&(S&4194240)!==0))return a;if((g&4)!==0&&(g|=u&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=g;0<a;)u=31-or(a),v=1<<u,g|=i[u],a&=~v;return g}function JN(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QN(i,a){for(var u=i.suspendedLanes,g=i.pingedLanes,v=i.expirationTimes,S=i.pendingLanes;0<S;){var _=31-or(S),$=1<<_,G=v[_];G===-1?(($&u)===0||($&g)!==0)&&(v[_]=JN($,a)):G<=a&&(i.expiredLanes|=$),S&=~$}}function gu(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Vg(){var i=Pl;return Pl<<=1,(Pl&4194240)===0&&(Pl=64),i}function xu(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function Zo(i,a,u){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-or(a),i[a]=u}function XN(i,a){var u=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<u;){var v=31-or(u),S=1<<v;a[v]=0,g[v]=-1,i[v]=-1,u&=~S}}function yu(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var g=31-or(u),v=1<<g;v&a|i[g]&a&&(i[g]|=a),u&=~v}}var it=0;function Ug(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Hg,vu,qg,Gg,Kg,wu=!1,Ol=[],ds=null,us=null,hs=null,ea=new Map,ta=new Map,fs=[],ZN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yg(i,a){switch(i){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":ea.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(a.pointerId)}}function na(i,a,u,g,v,S){return i===null||i.nativeEvent!==S?(i={blockedOn:a,domEventName:u,eventSystemFlags:g,nativeEvent:S,targetContainers:[v]},a!==null&&(a=ga(a),a!==null&&vu(a)),i):(i.eventSystemFlags|=g,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function ek(i,a,u,g,v){switch(a){case"focusin":return ds=na(ds,i,a,u,g,v),!0;case"dragenter":return us=na(us,i,a,u,g,v),!0;case"mouseover":return hs=na(hs,i,a,u,g,v),!0;case"pointerover":var S=v.pointerId;return ea.set(S,na(ea.get(S)||null,i,a,u,g,v)),!0;case"gotpointercapture":return S=v.pointerId,ta.set(S,na(ta.get(S)||null,i,a,u,g,v)),!0}return!1}function Jg(i){var a=Js(i.target);if(a!==null){var u=Xt(a);if(u!==null){if(a=u.tag,a===13){if(a=_l(u),a!==null){i.blockedOn=a,Kg(i.priority,function(){qg(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fl(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=ju(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var g=new u.constructor(u.type,u);Ht=g,u.target.dispatchEvent(g),Ht=null}else return a=ga(u),a!==null&&vu(a),i.blockedOn=u,!1;a.shift()}return!0}function Qg(i,a,u){Fl(i)&&u.delete(a)}function tk(){wu=!1,ds!==null&&Fl(ds)&&(ds=null),us!==null&&Fl(us)&&(us=null),hs!==null&&Fl(hs)&&(hs=null),ea.forEach(Qg),ta.forEach(Qg)}function ra(i,a){i.blockedOn===a&&(i.blockedOn=null,wu||(wu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tk)))}function sa(i){function a(v){return ra(v,i)}if(0<Ol.length){ra(Ol[0],i);for(var u=1;u<Ol.length;u++){var g=Ol[u];g.blockedOn===i&&(g.blockedOn=null)}}for(ds!==null&&ra(ds,i),us!==null&&ra(us,i),hs!==null&&ra(hs,i),ea.forEach(a),ta.forEach(a),u=0;u<fs.length;u++)g=fs[u],g.blockedOn===i&&(g.blockedOn=null);for(;0<fs.length&&(u=fs[0],u.blockedOn===null);)Jg(u),u.blockedOn===null&&fs.shift()}var Ii=A.ReactCurrentBatchConfig,Il=!0;function nk(i,a,u,g){var v=it,S=Ii.transition;Ii.transition=null;try{it=1,bu(i,a,u,g)}finally{it=v,Ii.transition=S}}function rk(i,a,u,g){var v=it,S=Ii.transition;Ii.transition=null;try{it=4,bu(i,a,u,g)}finally{it=v,Ii.transition=S}}function bu(i,a,u,g){if(Il){var v=ju(i,a,u,g);if(v===null)Bu(i,a,g,Ml,u),Yg(i,g);else if(ek(v,i,a,u,g))g.stopPropagation();else if(Yg(i,g),a&4&&-1<ZN.indexOf(i)){for(;v!==null;){var S=ga(v);if(S!==null&&Hg(S),S=ju(i,a,u,g),S===null&&Bu(i,a,g,Ml,u),S===v)break;v=S}v!==null&&g.stopPropagation()}else Bu(i,a,g,null,u)}}var Ml=null;function ju(i,a,u,g){if(Ml=null,i=on(g),i=Js(i),i!==null)if(a=Xt(i),a===null)i=null;else if(u=a.tag,u===13){if(i=_l(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Ml=i,null}function Xg(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UN()){case mu:return 1;case zg:return 4;case Al:case HN:return 16;case Wg:return 536870912;default:return 16}default:return 16}}var ps=null,Su=null,Ll=null;function Zg(){if(Ll)return Ll;var i,a=Su,u=a.length,g,v="value"in ps?ps.value:ps.textContent,S=v.length;for(i=0;i<u&&a[i]===v[i];i++);var _=u-i;for(g=1;g<=_&&a[u-g]===v[S-g];g++);return Ll=v.slice(i,1<g?1-g:void 0)}function Bl(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function $l(){return!0}function e0(){return!1}function Fn(i){function a(u,g,v,S,_){this._reactName=u,this._targetInst=v,this.type=g,this.nativeEvent=S,this.target=_,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(u=i[$],this[$]=u?u(S):S[$]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?$l:e0,this.isPropagationStopped=e0,this}return q(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),a}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=Fn(Mi),ia=q({},Mi,{view:0,detail:0}),sk=Fn(ia),ku,Cu,oa,zl=q({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==oa&&(oa&&i.type==="mousemove"?(ku=i.screenX-oa.screenX,Cu=i.screenY-oa.screenY):Cu=ku=0,oa=i),ku)},movementY:function(i){return"movementY"in i?i.movementY:Cu}}),t0=Fn(zl),ik=q({},zl,{dataTransfer:0}),ok=Fn(ik),ak=q({},ia,{relatedTarget:0}),Eu=Fn(ak),lk=q({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),ck=Fn(lk),dk=q({},Mi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),uk=Fn(dk),hk=q({},Mi,{data:0}),n0=Fn(hk),fk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gk(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=mk[i])?!!a[i]:!1}function _u(){return gk}var xk=q({},ia,{key:function(i){if(i.key){var a=fk[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Bl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pk[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(i){return i.type==="keypress"?Bl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Bl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),yk=Fn(xk),vk=q({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r0=Fn(vk),wk=q({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),bk=Fn(wk),jk=q({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sk=Fn(jk),Nk=q({},zl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),kk=Fn(Nk),Ck=[9,13,27,32],Au=d&&"CompositionEvent"in window,aa=null;d&&"documentMode"in document&&(aa=document.documentMode);var Ek=d&&"TextEvent"in window&&!aa,s0=d&&(!Au||aa&&8<aa&&11>=aa),i0=" ",o0=!1;function a0(i,a){switch(i){case"keyup":return Ck.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Li=!1;function _k(i,a){switch(i){case"compositionend":return l0(a);case"keypress":return a.which!==32?null:(o0=!0,i0);case"textInput":return i=a.data,i===i0&&o0?null:i;default:return null}}function Ak(i,a){if(Li)return i==="compositionend"||!Au&&a0(i,a)?(i=Zg(),Ll=Su=ps=null,Li=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return s0&&a.locale!=="ko"?null:a.data;default:return null}}var Tk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c0(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Tk[i.type]:a==="textarea"}function d0(i,a,u,g){le(g),a=ql(a,"onChange"),0<a.length&&(u=new Nu("onChange","change",null,u,g),i.push({event:u,listeners:a}))}var la=null,ca=null;function Pk(i){_0(i,0)}function Wl(i){var a=Vi(i);if(Ne(a))return i}function Rk(i,a){if(i==="change")return a}var u0=!1;if(d){var Tu;if(d){var Pu="oninput"in document;if(!Pu){var h0=document.createElement("div");h0.setAttribute("oninput","return;"),Pu=typeof h0.oninput=="function"}Tu=Pu}else Tu=!1;u0=Tu&&(!document.documentMode||9<document.documentMode)}function f0(){la&&(la.detachEvent("onpropertychange",p0),ca=la=null)}function p0(i){if(i.propertyName==="value"&&Wl(ca)){var a=[];d0(a,ca,i,on(i)),st(Pk,a)}}function Dk(i,a,u){i==="focusin"?(f0(),la=a,ca=u,la.attachEvent("onpropertychange",p0)):i==="focusout"&&f0()}function Ok(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Wl(ca)}function Fk(i,a){if(i==="click")return Wl(a)}function Ik(i,a){if(i==="input"||i==="change")return Wl(a)}function Mk(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var ar=typeof Object.is=="function"?Object.is:Mk;function da(i,a){if(ar(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),g=Object.keys(a);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var v=u[g];if(!h.call(a,v)||!ar(i[v],a[v]))return!1}return!0}function m0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function g0(i,a){var u=m0(i);i=0;for(var g;u;){if(u.nodeType===3){if(g=i+u.textContent.length,i<=a&&g>=a)return{node:u,offset:a-i};i=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=m0(u)}}function x0(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?x0(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function y0(){for(var i=window,a=Ge();a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=Ge(i.document)}return a}function Ru(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function Lk(i){var a=y0(),u=i.focusedElem,g=i.selectionRange;if(a!==u&&u&&u.ownerDocument&&x0(u.ownerDocument.documentElement,u)){if(g!==null&&Ru(u)){if(a=g.start,i=g.end,i===void 0&&(i=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(i,u.value.length);else if(i=(a=u.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var v=u.textContent.length,S=Math.min(g.start,v);g=g.end===void 0?S:Math.min(g.end,v),!i.extend&&S>g&&(v=g,g=S,S=v),v=g0(u,S);var _=g0(u,g);v&&_&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==_.node||i.focusOffset!==_.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),i.removeAllRanges(),S>g?(i.addRange(a),i.extend(_.node,_.offset)):(a.setEnd(_.node,_.offset),i.addRange(a)))}}for(a=[],i=u;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)i=a[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Bk=d&&"documentMode"in document&&11>=document.documentMode,Bi=null,Du=null,ua=null,Ou=!1;function v0(i,a,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ou||Bi==null||Bi!==Ge(g)||(g=Bi,"selectionStart"in g&&Ru(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ua&&da(ua,g)||(ua=g,g=ql(Du,"onSelect"),0<g.length&&(a=new Nu("onSelect","select",null,a,u),i.push({event:a,listeners:g}),a.target=Bi)))}function Vl(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var $i={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionend:Vl("Transition","TransitionEnd")},Fu={},w0={};d&&(w0=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function Ul(i){if(Fu[i])return Fu[i];if(!$i[i])return i;var a=$i[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in w0)return Fu[i]=a[u];return i}var b0=Ul("animationend"),j0=Ul("animationiteration"),S0=Ul("animationstart"),N0=Ul("transitionend"),k0=new Map,C0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(i,a){k0.set(i,a),l(a,[i])}for(var Iu=0;Iu<C0.length;Iu++){var Mu=C0[Iu],$k=Mu.toLowerCase(),zk=Mu[0].toUpperCase()+Mu.slice(1);ms($k,"on"+zk)}ms(b0,"onAnimationEnd"),ms(j0,"onAnimationIteration"),ms(S0,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(N0,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ha));function E0(i,a,u){var g=i.type||"unknown-event";i.currentTarget=u,Gt(g,a,void 0,i),i.currentTarget=null}function _0(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var g=i[u],v=g.event;g=g.listeners;e:{var S=void 0;if(a)for(var _=g.length-1;0<=_;_--){var $=g[_],G=$.instance,oe=$.currentTarget;if($=$.listener,G!==S&&v.isPropagationStopped())break e;E0(v,$,oe),S=G}else for(_=0;_<g.length;_++){if($=g[_],G=$.instance,oe=$.currentTarget,$=$.listener,G!==S&&v.isPropagationStopped())break e;E0(v,$,oe),S=G}}}if(He)throw i=dt,He=!1,dt=null,i}function mt(i,a){var u=a[Hu];u===void 0&&(u=a[Hu]=new Set);var g=i+"__bubble";u.has(g)||(A0(a,i,2,!1),u.add(g))}function Lu(i,a,u){var g=0;a&&(g|=4),A0(u,i,g,a)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function fa(i){if(!i[Hl]){i[Hl]=!0,s.forEach(function(u){u!=="selectionchange"&&(Wk.has(u)||Lu(u,!1,i),Lu(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Hl]||(a[Hl]=!0,Lu("selectionchange",!1,a))}}function A0(i,a,u,g){switch(Xg(a)){case 1:var v=nk;break;case 4:v=rk;break;default:v=bu}u=v.bind(null,a,u,i),v=void 0,!Bt||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),g?v!==void 0?i.addEventListener(a,u,{capture:!0,passive:v}):i.addEventListener(a,u,!0):v!==void 0?i.addEventListener(a,u,{passive:v}):i.addEventListener(a,u,!1)}function Bu(i,a,u,g,v){var S=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var _=g.tag;if(_===3||_===4){var $=g.stateNode.containerInfo;if($===v||$.nodeType===8&&$.parentNode===v)break;if(_===4)for(_=g.return;_!==null;){var G=_.tag;if((G===3||G===4)&&(G=_.stateNode.containerInfo,G===v||G.nodeType===8&&G.parentNode===v))return;_=_.return}for(;$!==null;){if(_=Js($),_===null)return;if(G=_.tag,G===5||G===6){g=S=_;continue e}$=$.parentNode}}g=g.return}st(function(){var oe=S,pe=on(u),me=[];e:{var fe=k0.get(i);if(fe!==void 0){var Se=Nu,Ee=i;switch(i){case"keypress":if(Bl(u)===0)break e;case"keydown":case"keyup":Se=yk;break;case"focusin":Ee="focus",Se=Eu;break;case"focusout":Ee="blur",Se=Eu;break;case"beforeblur":case"afterblur":Se=Eu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=t0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=ok;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=bk;break;case b0:case j0:case S0:Se=ck;break;case N0:Se=Sk;break;case"scroll":Se=sk;break;case"wheel":Se=kk;break;case"copy":case"cut":case"paste":Se=uk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=r0}var Te=(a&4)!==0,Dt=!Te&&i==="scroll",ne=Te?fe!==null?fe+"Capture":null:fe;Te=[];for(var Q=oe,ie;Q!==null;){ie=Q;var xe=ie.stateNode;if(ie.tag===5&&xe!==null&&(ie=xe,ne!==null&&(xe=ct(Q,ne),xe!=null&&Te.push(pa(Q,xe,ie)))),Dt)break;Q=Q.return}0<Te.length&&(fe=new Se(fe,Ee,null,u,pe),me.push({event:fe,listeners:Te}))}}if((a&7)===0){e:{if(fe=i==="mouseover"||i==="pointerover",Se=i==="mouseout"||i==="pointerout",fe&&u!==Ht&&(Ee=u.relatedTarget||u.fromElement)&&(Js(Ee)||Ee[zr]))break e;if((Se||fe)&&(fe=pe.window===pe?pe:(fe=pe.ownerDocument)?fe.defaultView||fe.parentWindow:window,Se?(Ee=u.relatedTarget||u.toElement,Se=oe,Ee=Ee?Js(Ee):null,Ee!==null&&(Dt=Xt(Ee),Ee!==Dt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(Se=null,Ee=oe),Se!==Ee)){if(Te=t0,xe="onMouseLeave",ne="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(Te=r0,xe="onPointerLeave",ne="onPointerEnter",Q="pointer"),Dt=Se==null?fe:Vi(Se),ie=Ee==null?fe:Vi(Ee),fe=new Te(xe,Q+"leave",Se,u,pe),fe.target=Dt,fe.relatedTarget=ie,xe=null,Js(pe)===oe&&(Te=new Te(ne,Q+"enter",Ee,u,pe),Te.target=ie,Te.relatedTarget=Dt,xe=Te),Dt=xe,Se&&Ee)t:{for(Te=Se,ne=Ee,Q=0,ie=Te;ie;ie=zi(ie))Q++;for(ie=0,xe=ne;xe;xe=zi(xe))ie++;for(;0<Q-ie;)Te=zi(Te),Q--;for(;0<ie-Q;)ne=zi(ne),ie--;for(;Q--;){if(Te===ne||ne!==null&&Te===ne.alternate)break t;Te=zi(Te),ne=zi(ne)}Te=null}else Te=null;Se!==null&&T0(me,fe,Se,Te,!1),Ee!==null&&Dt!==null&&T0(me,Dt,Ee,Te,!0)}}e:{if(fe=oe?Vi(oe):window,Se=fe.nodeName&&fe.nodeName.toLowerCase(),Se==="select"||Se==="input"&&fe.type==="file")var Pe=Rk;else if(c0(fe))if(u0)Pe=Ik;else{Pe=Ok;var Me=Dk}else(Se=fe.nodeName)&&Se.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Pe=Fk);if(Pe&&(Pe=Pe(i,oe))){d0(me,Pe,u,pe);break e}Me&&Me(i,fe,oe),i==="focusout"&&(Me=fe._wrapperState)&&Me.controlled&&fe.type==="number"&&xt(fe,"number",fe.value)}switch(Me=oe?Vi(oe):window,i){case"focusin":(c0(Me)||Me.contentEditable==="true")&&(Bi=Me,Du=oe,ua=null);break;case"focusout":ua=Du=Bi=null;break;case"mousedown":Ou=!0;break;case"contextmenu":case"mouseup":case"dragend":Ou=!1,v0(me,u,pe);break;case"selectionchange":if(Bk)break;case"keydown":case"keyup":v0(me,u,pe)}var Le;if(Au)e:{switch(i){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Li?a0(i,u)&&(We="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(We="onCompositionStart");We&&(s0&&u.locale!=="ko"&&(Li||We!=="onCompositionStart"?We==="onCompositionEnd"&&Li&&(Le=Zg()):(ps=pe,Su="value"in ps?ps.value:ps.textContent,Li=!0)),Me=ql(oe,We),0<Me.length&&(We=new n0(We,i,null,u,pe),me.push({event:We,listeners:Me}),Le?We.data=Le:(Le=l0(u),Le!==null&&(We.data=Le)))),(Le=Ek?_k(i,u):Ak(i,u))&&(oe=ql(oe,"onBeforeInput"),0<oe.length&&(pe=new n0("onBeforeInput","beforeinput",null,u,pe),me.push({event:pe,listeners:oe}),pe.data=Le))}_0(me,a)})}function pa(i,a,u){return{instance:i,listener:a,currentTarget:u}}function ql(i,a){for(var u=a+"Capture",g=[];i!==null;){var v=i,S=v.stateNode;v.tag===5&&S!==null&&(v=S,S=ct(i,u),S!=null&&g.unshift(pa(i,S,v)),S=ct(i,a),S!=null&&g.push(pa(i,S,v))),i=i.return}return g}function zi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function T0(i,a,u,g,v){for(var S=a._reactName,_=[];u!==null&&u!==g;){var $=u,G=$.alternate,oe=$.stateNode;if(G!==null&&G===g)break;$.tag===5&&oe!==null&&($=oe,v?(G=ct(u,S),G!=null&&_.unshift(pa(u,G,$))):v||(G=ct(u,S),G!=null&&_.push(pa(u,G,$)))),u=u.return}_.length!==0&&i.push({event:a,listeners:_})}var Vk=/\r\n?/g,Uk=/\u0000|\uFFFD/g;function P0(i){return(typeof i=="string"?i:""+i).replace(Vk,`
`).replace(Uk,"")}function Gl(i,a,u){if(a=P0(a),P0(i)!==a&&u)throw Error(n(425))}function Kl(){}var $u=null,zu=null;function Wu(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Vu=typeof setTimeout=="function"?setTimeout:void 0,Hk=typeof clearTimeout=="function"?clearTimeout:void 0,R0=typeof Promise=="function"?Promise:void 0,qk=typeof queueMicrotask=="function"?queueMicrotask:typeof R0<"u"?function(i){return R0.resolve(null).then(i).catch(Gk)}:Vu;function Gk(i){setTimeout(function(){throw i})}function Uu(i,a){var u=a,g=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(g===0){i.removeChild(v),sa(a);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=v}while(u);sa(a)}function gs(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function D0(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return i;a--}else u==="/$"&&a++}i=i.previousSibling}return null}var Wi=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Wi,ma="__reactProps$"+Wi,zr="__reactContainer$"+Wi,Hu="__reactEvents$"+Wi,Kk="__reactListeners$"+Wi,Yk="__reactHandles$"+Wi;function Js(i){var a=i[Cr];if(a)return a;for(var u=i.parentNode;u;){if(a=u[zr]||u[Cr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=D0(i);i!==null;){if(u=i[Cr])return u;i=D0(i)}return a}i=u,u=i.parentNode}return null}function ga(i){return i=i[Cr]||i[zr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Vi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Yl(i){return i[ma]||null}var qu=[],Ui=-1;function xs(i){return{current:i}}function gt(i){0>Ui||(i.current=qu[Ui],qu[Ui]=null,Ui--)}function ft(i,a){Ui++,qu[Ui]=i.current,i.current=a}var ys={},an=xs(ys),Sn=xs(!1),Qs=ys;function Hi(i,a){var u=i.type.contextTypes;if(!u)return ys;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var v={},S;for(S in u)v[S]=a[S];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=v),v}function Nn(i){return i=i.childContextTypes,i!=null}function Jl(){gt(Sn),gt(an)}function O0(i,a,u){if(an.current!==ys)throw Error(n(168));ft(an,a),ft(Sn,u)}function F0(i,a,u){var g=i.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var v in g)if(!(v in a))throw Error(n(108,H(i)||"Unknown",v));return q({},u,g)}function Ql(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ys,Qs=an.current,ft(an,i),ft(Sn,Sn.current),!0}function I0(i,a,u){var g=i.stateNode;if(!g)throw Error(n(169));u?(i=F0(i,a,Qs),g.__reactInternalMemoizedMergedChildContext=i,gt(Sn),gt(an),ft(an,i)):gt(Sn),ft(Sn,u)}var Wr=null,Xl=!1,Gu=!1;function M0(i){Wr===null?Wr=[i]:Wr.push(i)}function Jk(i){Xl=!0,M0(i)}function vs(){if(!Gu&&Wr!==null){Gu=!0;var i=0,a=it;try{var u=Wr;for(it=1;i<u.length;i++){var g=u[i];do g=g(!0);while(g!==null)}Wr=null,Xl=!1}catch(v){throw Wr!==null&&(Wr=Wr.slice(i+1)),Bg(mu,vs),v}finally{it=a,Gu=!1}}return null}var qi=[],Gi=0,Zl=null,ec=0,Hn=[],qn=0,Xs=null,Vr=1,Ur="";function Zs(i,a){qi[Gi++]=ec,qi[Gi++]=Zl,Zl=i,ec=a}function L0(i,a,u){Hn[qn++]=Vr,Hn[qn++]=Ur,Hn[qn++]=Xs,Xs=i;var g=Vr;i=Ur;var v=32-or(g)-1;g&=~(1<<v),u+=1;var S=32-or(a)+v;if(30<S){var _=v-v%5;S=(g&(1<<_)-1).toString(32),g>>=_,v-=_,Vr=1<<32-or(a)+v|u<<v|g,Ur=S+i}else Vr=1<<S|u<<v|g,Ur=i}function Ku(i){i.return!==null&&(Zs(i,1),L0(i,1,0))}function Yu(i){for(;i===Zl;)Zl=qi[--Gi],qi[Gi]=null,ec=qi[--Gi],qi[Gi]=null;for(;i===Xs;)Xs=Hn[--qn],Hn[qn]=null,Ur=Hn[--qn],Hn[qn]=null,Vr=Hn[--qn],Hn[qn]=null}var In=null,Mn=null,yt=!1,lr=null;function B0(i,a){var u=Jn(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=i,a=i.deletions,a===null?(i.deletions=[u],i.flags|=16):a.push(u)}function $0(i,a){switch(i.tag){case 5:var u=i.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,In=i,Mn=gs(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,In=i,Mn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=Xs!==null?{id:Vr,overflow:Ur}:null,i.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Jn(18,null,null,0),u.stateNode=a,u.return=i,i.child=u,In=i,Mn=null,!0):!1;default:return!1}}function Ju(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Qu(i){if(yt){var a=Mn;if(a){var u=a;if(!$0(i,a)){if(Ju(i))throw Error(n(418));a=gs(u.nextSibling);var g=In;a&&$0(i,a)?B0(g,u):(i.flags=i.flags&-4097|2,yt=!1,In=i)}}else{if(Ju(i))throw Error(n(418));i.flags=i.flags&-4097|2,yt=!1,In=i}}}function z0(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;In=i}function tc(i){if(i!==In)return!1;if(!yt)return z0(i),yt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Wu(i.type,i.memoizedProps)),a&&(a=Mn)){if(Ju(i))throw W0(),Error(n(418));for(;a;)B0(i,a),a=gs(a.nextSibling)}if(z0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(a===0){Mn=gs(i.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}i=i.nextSibling}Mn=null}}else Mn=In?gs(i.stateNode.nextSibling):null;return!0}function W0(){for(var i=Mn;i;)i=gs(i.nextSibling)}function Ki(){Mn=In=null,yt=!1}function Xu(i){lr===null?lr=[i]:lr.push(i)}var Qk=A.ReactCurrentBatchConfig;function xa(i,a,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var g=u.stateNode}if(!g)throw Error(n(147,i));var v=g,S=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===S?a.ref:(a=function(_){var $=v.refs;_===null?delete $[S]:$[S]=_},a._stringRef=S,a)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function nc(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function V0(i){var a=i._init;return a(i._payload)}function U0(i){function a(ne,Q){if(i){var ie=ne.deletions;ie===null?(ne.deletions=[Q],ne.flags|=16):ie.push(Q)}}function u(ne,Q){if(!i)return null;for(;Q!==null;)a(ne,Q),Q=Q.sibling;return null}function g(ne,Q){for(ne=new Map;Q!==null;)Q.key!==null?ne.set(Q.key,Q):ne.set(Q.index,Q),Q=Q.sibling;return ne}function v(ne,Q){return ne=Es(ne,Q),ne.index=0,ne.sibling=null,ne}function S(ne,Q,ie){return ne.index=ie,i?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<Q?(ne.flags|=2,Q):ie):(ne.flags|=2,Q)):(ne.flags|=1048576,Q)}function _(ne){return i&&ne.alternate===null&&(ne.flags|=2),ne}function $(ne,Q,ie,xe){return Q===null||Q.tag!==6?(Q=Vh(ie,ne.mode,xe),Q.return=ne,Q):(Q=v(Q,ie),Q.return=ne,Q)}function G(ne,Q,ie,xe){var Pe=ie.type;return Pe===B?pe(ne,Q,ie.props.children,xe,ie.key):Q!==null&&(Q.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===J&&V0(Pe)===Q.type)?(xe=v(Q,ie.props),xe.ref=xa(ne,Q,ie),xe.return=ne,xe):(xe=Cc(ie.type,ie.key,ie.props,null,ne.mode,xe),xe.ref=xa(ne,Q,ie),xe.return=ne,xe)}function oe(ne,Q,ie,xe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ie.containerInfo||Q.stateNode.implementation!==ie.implementation?(Q=Uh(ie,ne.mode,xe),Q.return=ne,Q):(Q=v(Q,ie.children||[]),Q.return=ne,Q)}function pe(ne,Q,ie,xe,Pe){return Q===null||Q.tag!==7?(Q=ai(ie,ne.mode,xe,Pe),Q.return=ne,Q):(Q=v(Q,ie),Q.return=ne,Q)}function me(ne,Q,ie){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=Vh(""+Q,ne.mode,ie),Q.return=ne,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case O:return ie=Cc(Q.type,Q.key,Q.props,null,ne.mode,ie),ie.ref=xa(ne,null,Q),ie.return=ne,ie;case L:return Q=Uh(Q,ne.mode,ie),Q.return=ne,Q;case J:var xe=Q._init;return me(ne,xe(Q._payload),ie)}if(Ie(Q)||F(Q))return Q=ai(Q,ne.mode,ie,null),Q.return=ne,Q;nc(ne,Q)}return null}function fe(ne,Q,ie,xe){var Pe=Q!==null?Q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Pe!==null?null:$(ne,Q,""+ie,xe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:return ie.key===Pe?G(ne,Q,ie,xe):null;case L:return ie.key===Pe?oe(ne,Q,ie,xe):null;case J:return Pe=ie._init,fe(ne,Q,Pe(ie._payload),xe)}if(Ie(ie)||F(ie))return Pe!==null?null:pe(ne,Q,ie,xe,null);nc(ne,ie)}return null}function Se(ne,Q,ie,xe,Pe){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return ne=ne.get(ie)||null,$(Q,ne,""+xe,Pe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case O:return ne=ne.get(xe.key===null?ie:xe.key)||null,G(Q,ne,xe,Pe);case L:return ne=ne.get(xe.key===null?ie:xe.key)||null,oe(Q,ne,xe,Pe);case J:var Me=xe._init;return Se(ne,Q,ie,Me(xe._payload),Pe)}if(Ie(xe)||F(xe))return ne=ne.get(ie)||null,pe(Q,ne,xe,Pe,null);nc(Q,xe)}return null}function Ee(ne,Q,ie,xe){for(var Pe=null,Me=null,Le=Q,We=Q=0,Jt=null;Le!==null&&We<ie.length;We++){Le.index>We?(Jt=Le,Le=null):Jt=Le.sibling;var et=fe(ne,Le,ie[We],xe);if(et===null){Le===null&&(Le=Jt);break}i&&Le&&et.alternate===null&&a(ne,Le),Q=S(et,Q,We),Me===null?Pe=et:Me.sibling=et,Me=et,Le=Jt}if(We===ie.length)return u(ne,Le),yt&&Zs(ne,We),Pe;if(Le===null){for(;We<ie.length;We++)Le=me(ne,ie[We],xe),Le!==null&&(Q=S(Le,Q,We),Me===null?Pe=Le:Me.sibling=Le,Me=Le);return yt&&Zs(ne,We),Pe}for(Le=g(ne,Le);We<ie.length;We++)Jt=Se(Le,ne,We,ie[We],xe),Jt!==null&&(i&&Jt.alternate!==null&&Le.delete(Jt.key===null?We:Jt.key),Q=S(Jt,Q,We),Me===null?Pe=Jt:Me.sibling=Jt,Me=Jt);return i&&Le.forEach(function(_s){return a(ne,_s)}),yt&&Zs(ne,We),Pe}function Te(ne,Q,ie,xe){var Pe=F(ie);if(typeof Pe!="function")throw Error(n(150));if(ie=Pe.call(ie),ie==null)throw Error(n(151));for(var Me=Pe=null,Le=Q,We=Q=0,Jt=null,et=ie.next();Le!==null&&!et.done;We++,et=ie.next()){Le.index>We?(Jt=Le,Le=null):Jt=Le.sibling;var _s=fe(ne,Le,et.value,xe);if(_s===null){Le===null&&(Le=Jt);break}i&&Le&&_s.alternate===null&&a(ne,Le),Q=S(_s,Q,We),Me===null?Pe=_s:Me.sibling=_s,Me=_s,Le=Jt}if(et.done)return u(ne,Le),yt&&Zs(ne,We),Pe;if(Le===null){for(;!et.done;We++,et=ie.next())et=me(ne,et.value,xe),et!==null&&(Q=S(et,Q,We),Me===null?Pe=et:Me.sibling=et,Me=et);return yt&&Zs(ne,We),Pe}for(Le=g(ne,Le);!et.done;We++,et=ie.next())et=Se(Le,ne,We,et.value,xe),et!==null&&(i&&et.alternate!==null&&Le.delete(et.key===null?We:et.key),Q=S(et,Q,We),Me===null?Pe=et:Me.sibling=et,Me=et);return i&&Le.forEach(function(TC){return a(ne,TC)}),yt&&Zs(ne,We),Pe}function Dt(ne,Q,ie,xe){if(typeof ie=="object"&&ie!==null&&ie.type===B&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:e:{for(var Pe=ie.key,Me=Q;Me!==null;){if(Me.key===Pe){if(Pe=ie.type,Pe===B){if(Me.tag===7){u(ne,Me.sibling),Q=v(Me,ie.props.children),Q.return=ne,ne=Q;break e}}else if(Me.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===J&&V0(Pe)===Me.type){u(ne,Me.sibling),Q=v(Me,ie.props),Q.ref=xa(ne,Me,ie),Q.return=ne,ne=Q;break e}u(ne,Me);break}else a(ne,Me);Me=Me.sibling}ie.type===B?(Q=ai(ie.props.children,ne.mode,xe,ie.key),Q.return=ne,ne=Q):(xe=Cc(ie.type,ie.key,ie.props,null,ne.mode,xe),xe.ref=xa(ne,Q,ie),xe.return=ne,ne=xe)}return _(ne);case L:e:{for(Me=ie.key;Q!==null;){if(Q.key===Me)if(Q.tag===4&&Q.stateNode.containerInfo===ie.containerInfo&&Q.stateNode.implementation===ie.implementation){u(ne,Q.sibling),Q=v(Q,ie.children||[]),Q.return=ne,ne=Q;break e}else{u(ne,Q);break}else a(ne,Q);Q=Q.sibling}Q=Uh(ie,ne.mode,xe),Q.return=ne,ne=Q}return _(ne);case J:return Me=ie._init,Dt(ne,Q,Me(ie._payload),xe)}if(Ie(ie))return Ee(ne,Q,ie,xe);if(F(ie))return Te(ne,Q,ie,xe);nc(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,Q!==null&&Q.tag===6?(u(ne,Q.sibling),Q=v(Q,ie),Q.return=ne,ne=Q):(u(ne,Q),Q=Vh(ie,ne.mode,xe),Q.return=ne,ne=Q),_(ne)):u(ne,Q)}return Dt}var Yi=U0(!0),H0=U0(!1),rc=xs(null),sc=null,Ji=null,Zu=null;function eh(){Zu=Ji=sc=null}function th(i){var a=rc.current;gt(rc),i._currentValue=a}function nh(i,a,u){for(;i!==null;){var g=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),i===u)break;i=i.return}}function Qi(i,a){sc=i,Zu=Ji=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(kn=!0),i.firstContext=null)}function Gn(i){var a=i._currentValue;if(Zu!==i)if(i={context:i,memoizedValue:a,next:null},Ji===null){if(sc===null)throw Error(n(308));Ji=i,sc.dependencies={lanes:0,firstContext:i}}else Ji=Ji.next=i;return a}var ei=null;function rh(i){ei===null?ei=[i]:ei.push(i)}function q0(i,a,u,g){var v=a.interleaved;return v===null?(u.next=u,rh(a)):(u.next=v.next,v.next=u),a.interleaved=u,Hr(i,g)}function Hr(i,a){i.lanes|=a;var u=i.alternate;for(u!==null&&(u.lanes|=a),u=i,i=i.return;i!==null;)i.childLanes|=a,u=i.alternate,u!==null&&(u.childLanes|=a),u=i,i=i.return;return u.tag===3?u.stateNode:null}var ws=!1;function sh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G0(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function qr(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function bs(i,a,u){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Xe&2)!==0){var v=g.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),g.pending=a,Hr(i,u)}return v=g.interleaved,v===null?(a.next=a,rh(g)):(a.next=v.next,v.next=a),g.interleaved=a,Hr(i,u)}function ic(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var g=a.lanes;g&=i.pendingLanes,u|=g,a.lanes=u,yu(i,u)}}function K0(i,a){var u=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var v=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var _={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};S===null?v=S=_:S=S.next=_,u=u.next}while(u!==null);S===null?v=S=a:S=S.next=a}else v=S=a;u={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:g.shared,effects:g.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}function oc(i,a,u,g){var v=i.updateQueue;ws=!1;var S=v.firstBaseUpdate,_=v.lastBaseUpdate,$=v.shared.pending;if($!==null){v.shared.pending=null;var G=$,oe=G.next;G.next=null,_===null?S=oe:_.next=oe,_=G;var pe=i.alternate;pe!==null&&(pe=pe.updateQueue,$=pe.lastBaseUpdate,$!==_&&($===null?pe.firstBaseUpdate=oe:$.next=oe,pe.lastBaseUpdate=G))}if(S!==null){var me=v.baseState;_=0,pe=oe=G=null,$=S;do{var fe=$.lane,Se=$.eventTime;if((g&fe)===fe){pe!==null&&(pe=pe.next={eventTime:Se,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Ee=i,Te=$;switch(fe=a,Se=u,Te.tag){case 1:if(Ee=Te.payload,typeof Ee=="function"){me=Ee.call(Se,me,fe);break e}me=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Te.payload,fe=typeof Ee=="function"?Ee.call(Se,me,fe):Ee,fe==null)break e;me=q({},me,fe);break e;case 2:ws=!0}}$.callback!==null&&$.lane!==0&&(i.flags|=64,fe=v.effects,fe===null?v.effects=[$]:fe.push($))}else Se={eventTime:Se,lane:fe,tag:$.tag,payload:$.payload,callback:$.callback,next:null},pe===null?(oe=pe=Se,G=me):pe=pe.next=Se,_|=fe;if($=$.next,$===null){if($=v.shared.pending,$===null)break;fe=$,$=fe.next,fe.next=null,v.lastBaseUpdate=fe,v.shared.pending=null}}while(!0);if(pe===null&&(G=me),v.baseState=G,v.firstBaseUpdate=oe,v.lastBaseUpdate=pe,a=v.shared.interleaved,a!==null){v=a;do _|=v.lane,v=v.next;while(v!==a)}else S===null&&(v.shared.lanes=0);ri|=_,i.lanes=_,i.memoizedState=me}}function Y0(i,a,u){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var g=i[a],v=g.callback;if(v!==null){if(g.callback=null,g=u,typeof v!="function")throw Error(n(191,v));v.call(g)}}}var ya={},Er=xs(ya),va=xs(ya),wa=xs(ya);function ti(i){if(i===ya)throw Error(n(174));return i}function ih(i,a){switch(ft(wa,a),ft(va,i),ft(Er,ya),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:De(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=De(a,i)}gt(Er),ft(Er,a)}function Xi(){gt(Er),gt(va),gt(wa)}function J0(i){ti(wa.current);var a=ti(Er.current),u=De(a,i.type);a!==u&&(ft(va,i),ft(Er,u))}function oh(i){va.current===i&&(gt(Er),gt(va))}var bt=xs(0);function ac(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ah=[];function lh(){for(var i=0;i<ah.length;i++)ah[i]._workInProgressVersionPrimary=null;ah.length=0}var lc=A.ReactCurrentDispatcher,ch=A.ReactCurrentBatchConfig,ni=0,jt=null,$t=null,Kt=null,cc=!1,ba=!1,ja=0,Xk=0;function ln(){throw Error(n(321))}function dh(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!ar(i[u],a[u]))return!1;return!0}function uh(i,a,u,g,v,S){if(ni=S,jt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,lc.current=i===null||i.memoizedState===null?nC:rC,i=u(g,v),ba){S=0;do{if(ba=!1,ja=0,25<=S)throw Error(n(301));S+=1,Kt=$t=null,a.updateQueue=null,lc.current=sC,i=u(g,v)}while(ba)}if(lc.current=hc,a=$t!==null&&$t.next!==null,ni=0,Kt=$t=jt=null,cc=!1,a)throw Error(n(300));return i}function hh(){var i=ja!==0;return ja=0,i}function _r(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?jt.memoizedState=Kt=i:Kt=Kt.next=i,Kt}function Kn(){if($t===null){var i=jt.alternate;i=i!==null?i.memoizedState:null}else i=$t.next;var a=Kt===null?jt.memoizedState:Kt.next;if(a!==null)Kt=a,$t=i;else{if(i===null)throw Error(n(310));$t=i,i={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Kt===null?jt.memoizedState=Kt=i:Kt=Kt.next=i}return Kt}function Sa(i,a){return typeof a=="function"?a(i):a}function fh(i){var a=Kn(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var g=$t,v=g.baseQueue,S=u.pending;if(S!==null){if(v!==null){var _=v.next;v.next=S.next,S.next=_}g.baseQueue=v=S,u.pending=null}if(v!==null){S=v.next,g=g.baseState;var $=_=null,G=null,oe=S;do{var pe=oe.lane;if((ni&pe)===pe)G!==null&&(G=G.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),g=oe.hasEagerState?oe.eagerState:i(g,oe.action);else{var me={lane:pe,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};G===null?($=G=me,_=g):G=G.next=me,jt.lanes|=pe,ri|=pe}oe=oe.next}while(oe!==null&&oe!==S);G===null?_=g:G.next=$,ar(g,a.memoizedState)||(kn=!0),a.memoizedState=g,a.baseState=_,a.baseQueue=G,u.lastRenderedState=g}if(i=u.interleaved,i!==null){v=i;do S=v.lane,jt.lanes|=S,ri|=S,v=v.next;while(v!==i)}else v===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function ph(i){var a=Kn(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var g=u.dispatch,v=u.pending,S=a.memoizedState;if(v!==null){u.pending=null;var _=v=v.next;do S=i(S,_.action),_=_.next;while(_!==v);ar(S,a.memoizedState)||(kn=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),u.lastRenderedState=S}return[S,g]}function Q0(){}function X0(i,a){var u=jt,g=Kn(),v=a(),S=!ar(g.memoizedState,v);if(S&&(g.memoizedState=v,kn=!0),g=g.queue,mh(tx.bind(null,u,g,i),[i]),g.getSnapshot!==a||S||Kt!==null&&Kt.memoizedState.tag&1){if(u.flags|=2048,Na(9,ex.bind(null,u,g,v,a),void 0,null),Yt===null)throw Error(n(349));(ni&30)!==0||Z0(u,a,v)}return v}function Z0(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=jt.updateQueue,a===null?(a={lastEffect:null,stores:null},jt.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function ex(i,a,u,g){a.value=u,a.getSnapshot=g,nx(a)&&rx(i)}function tx(i,a,u){return u(function(){nx(a)&&rx(i)})}function nx(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!ar(i,u)}catch{return!0}}function rx(i){var a=Hr(i,1);a!==null&&hr(a,i,1,-1)}function sx(i){var a=_r();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:i},a.queue=i,i=i.dispatch=tC.bind(null,jt,i),[a.memoizedState,i]}function Na(i,a,u,g){return i={tag:i,create:a,destroy:u,deps:g,next:null},a=jt.updateQueue,a===null?(a={lastEffect:null,stores:null},jt.updateQueue=a,a.lastEffect=i.next=i):(u=a.lastEffect,u===null?a.lastEffect=i.next=i:(g=u.next,u.next=i,i.next=g,a.lastEffect=i)),i}function ix(){return Kn().memoizedState}function dc(i,a,u,g){var v=_r();jt.flags|=i,v.memoizedState=Na(1|a,u,void 0,g===void 0?null:g)}function uc(i,a,u,g){var v=Kn();g=g===void 0?null:g;var S=void 0;if($t!==null){var _=$t.memoizedState;if(S=_.destroy,g!==null&&dh(g,_.deps)){v.memoizedState=Na(a,u,S,g);return}}jt.flags|=i,v.memoizedState=Na(1|a,u,S,g)}function ox(i,a){return dc(8390656,8,i,a)}function mh(i,a){return uc(2048,8,i,a)}function ax(i,a){return uc(4,2,i,a)}function lx(i,a){return uc(4,4,i,a)}function cx(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function dx(i,a,u){return u=u!=null?u.concat([i]):null,uc(4,4,cx.bind(null,a,i),u)}function gh(){}function ux(i,a){var u=Kn();a=a===void 0?null:a;var g=u.memoizedState;return g!==null&&a!==null&&dh(a,g[1])?g[0]:(u.memoizedState=[i,a],i)}function hx(i,a){var u=Kn();a=a===void 0?null:a;var g=u.memoizedState;return g!==null&&a!==null&&dh(a,g[1])?g[0]:(i=i(),u.memoizedState=[i,a],i)}function fx(i,a,u){return(ni&21)===0?(i.baseState&&(i.baseState=!1,kn=!0),i.memoizedState=u):(ar(u,a)||(u=Vg(),jt.lanes|=u,ri|=u,i.baseState=!0),a)}function Zk(i,a){var u=it;it=u!==0&&4>u?u:4,i(!0);var g=ch.transition;ch.transition={};try{i(!1),a()}finally{it=u,ch.transition=g}}function px(){return Kn().memoizedState}function eC(i,a,u){var g=ks(i);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},mx(i))gx(a,u);else if(u=q0(i,a,u,g),u!==null){var v=vn();hr(u,i,g,v),xx(u,a,g)}}function tC(i,a,u){var g=ks(i),v={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if(mx(i))gx(a,v);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var _=a.lastRenderedState,$=S(_,u);if(v.hasEagerState=!0,v.eagerState=$,ar($,_)){var G=a.interleaved;G===null?(v.next=v,rh(a)):(v.next=G.next,G.next=v),a.interleaved=v;return}}catch{}finally{}u=q0(i,a,v,g),u!==null&&(v=vn(),hr(u,i,g,v),xx(u,a,g))}}function mx(i){var a=i.alternate;return i===jt||a!==null&&a===jt}function gx(i,a){ba=cc=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function xx(i,a,u){if((u&4194240)!==0){var g=a.lanes;g&=i.pendingLanes,u|=g,a.lanes=u,yu(i,u)}}var hc={readContext:Gn,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},nC={readContext:Gn,useCallback:function(i,a){return _r().memoizedState=[i,a===void 0?null:a],i},useContext:Gn,useEffect:ox,useImperativeHandle:function(i,a,u){return u=u!=null?u.concat([i]):null,dc(4194308,4,cx.bind(null,a,i),u)},useLayoutEffect:function(i,a){return dc(4194308,4,i,a)},useInsertionEffect:function(i,a){return dc(4,2,i,a)},useMemo:function(i,a){var u=_r();return a=a===void 0?null:a,i=i(),u.memoizedState=[i,a],i},useReducer:function(i,a,u){var g=_r();return a=u!==void 0?u(a):a,g.memoizedState=g.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},g.queue=i,i=i.dispatch=eC.bind(null,jt,i),[g.memoizedState,i]},useRef:function(i){var a=_r();return i={current:i},a.memoizedState=i},useState:sx,useDebugValue:gh,useDeferredValue:function(i){return _r().memoizedState=i},useTransition:function(){var i=sx(!1),a=i[0];return i=Zk.bind(null,i[1]),_r().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,u){var g=jt,v=_r();if(yt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),Yt===null)throw Error(n(349));(ni&30)!==0||Z0(g,a,u)}v.memoizedState=u;var S={value:u,getSnapshot:a};return v.queue=S,ox(tx.bind(null,g,S,i),[i]),g.flags|=2048,Na(9,ex.bind(null,g,S,u,a),void 0,null),u},useId:function(){var i=_r(),a=Yt.identifierPrefix;if(yt){var u=Ur,g=Vr;u=(g&~(1<<32-or(g)-1)).toString(32)+u,a=":"+a+"R"+u,u=ja++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=Xk++,a=":"+a+"r"+u.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},rC={readContext:Gn,useCallback:ux,useContext:Gn,useEffect:mh,useImperativeHandle:dx,useInsertionEffect:ax,useLayoutEffect:lx,useMemo:hx,useReducer:fh,useRef:ix,useState:function(){return fh(Sa)},useDebugValue:gh,useDeferredValue:function(i){var a=Kn();return fx(a,$t.memoizedState,i)},useTransition:function(){var i=fh(Sa)[0],a=Kn().memoizedState;return[i,a]},useMutableSource:Q0,useSyncExternalStore:X0,useId:px,unstable_isNewReconciler:!1},sC={readContext:Gn,useCallback:ux,useContext:Gn,useEffect:mh,useImperativeHandle:dx,useInsertionEffect:ax,useLayoutEffect:lx,useMemo:hx,useReducer:ph,useRef:ix,useState:function(){return ph(Sa)},useDebugValue:gh,useDeferredValue:function(i){var a=Kn();return $t===null?a.memoizedState=i:fx(a,$t.memoizedState,i)},useTransition:function(){var i=ph(Sa)[0],a=Kn().memoizedState;return[i,a]},useMutableSource:Q0,useSyncExternalStore:X0,useId:px,unstable_isNewReconciler:!1};function cr(i,a){if(i&&i.defaultProps){a=q({},a),i=i.defaultProps;for(var u in i)a[u]===void 0&&(a[u]=i[u]);return a}return a}function xh(i,a,u,g){a=i.memoizedState,u=u(g,a),u=u==null?a:q({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var fc={isMounted:function(i){return(i=i._reactInternals)?Xt(i)===i:!1},enqueueSetState:function(i,a,u){i=i._reactInternals;var g=vn(),v=ks(i),S=qr(g,v);S.payload=a,u!=null&&(S.callback=u),a=bs(i,S,v),a!==null&&(hr(a,i,v,g),ic(a,i,v))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var g=vn(),v=ks(i),S=qr(g,v);S.tag=1,S.payload=a,u!=null&&(S.callback=u),a=bs(i,S,v),a!==null&&(hr(a,i,v,g),ic(a,i,v))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=vn(),g=ks(i),v=qr(u,g);v.tag=2,a!=null&&(v.callback=a),a=bs(i,v,g),a!==null&&(hr(a,i,g,u),ic(a,i,g))}};function yx(i,a,u,g,v,S,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,S,_):a.prototype&&a.prototype.isPureReactComponent?!da(u,g)||!da(v,S):!0}function vx(i,a,u){var g=!1,v=ys,S=a.contextType;return typeof S=="object"&&S!==null?S=Gn(S):(v=Nn(a)?Qs:an.current,g=a.contextTypes,S=(g=g!=null)?Hi(i,v):ys),a=new a(u,S),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=fc,i.stateNode=a,a._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=S),a}function wx(i,a,u,g){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,g),a.state!==i&&fc.enqueueReplaceState(a,a.state,null)}function yh(i,a,u,g){var v=i.stateNode;v.props=u,v.state=i.memoizedState,v.refs={},sh(i);var S=a.contextType;typeof S=="object"&&S!==null?v.context=Gn(S):(S=Nn(a)?Qs:an.current,v.context=Hi(i,S)),v.state=i.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(xh(i,a,S,u),v.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&fc.enqueueReplaceState(v,v.state,null),oc(i,u,v,g),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function Zi(i,a){try{var u="",g=a;do u+=I(g),g=g.return;while(g);var v=u}catch(S){v=`
Error generating stack: `+S.message+`
`+S.stack}return{value:i,source:a,stack:v,digest:null}}function vh(i,a,u){return{value:i,source:null,stack:u??null,digest:a??null}}function wh(i,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var iC=typeof WeakMap=="function"?WeakMap:Map;function bx(i,a,u){u=qr(-1,u),u.tag=3,u.payload={element:null};var g=a.value;return u.callback=function(){wc||(wc=!0,Fh=g),wh(i,a)},u}function jx(i,a,u){u=qr(-1,u),u.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var v=a.value;u.payload=function(){return g(v)},u.callback=function(){wh(i,a)}}var S=i.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(u.callback=function(){wh(i,a),typeof g!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var _=a.stack;this.componentDidCatch(a.value,{componentStack:_!==null?_:""})}),u}function Sx(i,a,u){var g=i.pingCache;if(g===null){g=i.pingCache=new iC;var v=new Set;g.set(a,v)}else v=g.get(a),v===void 0&&(v=new Set,g.set(a,v));v.has(u)||(v.add(u),i=vC.bind(null,i,a,u),a.then(i,i))}function Nx(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function kx(i,a,u,g,v){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=qr(-1,1),a.tag=2,bs(u,a,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=v,i)}var oC=A.ReactCurrentOwner,kn=!1;function yn(i,a,u,g){a.child=i===null?H0(a,null,u,g):Yi(a,i.child,u,g)}function Cx(i,a,u,g,v){u=u.render;var S=a.ref;return Qi(a,v),g=uh(i,a,u,g,S,v),u=hh(),i!==null&&!kn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,Gr(i,a,v)):(yt&&u&&Ku(a),a.flags|=1,yn(i,a,g,v),a.child)}function Ex(i,a,u,g,v){if(i===null){var S=u.type;return typeof S=="function"&&!Wh(S)&&S.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=S,_x(i,a,S,g,v)):(i=Cc(u.type,null,g,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(S=i.child,(i.lanes&v)===0){var _=S.memoizedProps;if(u=u.compare,u=u!==null?u:da,u(_,g)&&i.ref===a.ref)return Gr(i,a,v)}return a.flags|=1,i=Es(S,g),i.ref=a.ref,i.return=a,a.child=i}function _x(i,a,u,g,v){if(i!==null){var S=i.memoizedProps;if(da(S,g)&&i.ref===a.ref)if(kn=!1,a.pendingProps=g=S,(i.lanes&v)!==0)(i.flags&131072)!==0&&(kn=!0);else return a.lanes=i.lanes,Gr(i,a,v)}return bh(i,a,u,g,v)}function Ax(i,a,u){var g=a.pendingProps,v=g.children,S=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(to,Ln),Ln|=u;else{if((u&1073741824)===0)return i=S!==null?S.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,ft(to,Ln),Ln|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:u,ft(to,Ln),Ln|=g}else S!==null?(g=S.baseLanes|u,a.memoizedState=null):g=u,ft(to,Ln),Ln|=g;return yn(i,a,v,u),a.child}function Tx(i,a){var u=a.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function bh(i,a,u,g,v){var S=Nn(u)?Qs:an.current;return S=Hi(a,S),Qi(a,v),u=uh(i,a,u,g,S,v),g=hh(),i!==null&&!kn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,Gr(i,a,v)):(yt&&g&&Ku(a),a.flags|=1,yn(i,a,u,v),a.child)}function Px(i,a,u,g,v){if(Nn(u)){var S=!0;Ql(a)}else S=!1;if(Qi(a,v),a.stateNode===null)mc(i,a),vx(a,u,g),yh(a,u,g,v),g=!0;else if(i===null){var _=a.stateNode,$=a.memoizedProps;_.props=$;var G=_.context,oe=u.contextType;typeof oe=="object"&&oe!==null?oe=Gn(oe):(oe=Nn(u)?Qs:an.current,oe=Hi(a,oe));var pe=u.getDerivedStateFromProps,me=typeof pe=="function"||typeof _.getSnapshotBeforeUpdate=="function";me||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||($!==g||G!==oe)&&wx(a,_,g,oe),ws=!1;var fe=a.memoizedState;_.state=fe,oc(a,g,_,v),G=a.memoizedState,$!==g||fe!==G||Sn.current||ws?(typeof pe=="function"&&(xh(a,u,pe,g),G=a.memoizedState),($=ws||yx(a,u,$,g,fe,G,oe))?(me||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=G),_.props=g,_.state=G,_.context=oe,g=$):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{_=a.stateNode,G0(i,a),$=a.memoizedProps,oe=a.type===a.elementType?$:cr(a.type,$),_.props=oe,me=a.pendingProps,fe=_.context,G=u.contextType,typeof G=="object"&&G!==null?G=Gn(G):(G=Nn(u)?Qs:an.current,G=Hi(a,G));var Se=u.getDerivedStateFromProps;(pe=typeof Se=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||($!==me||fe!==G)&&wx(a,_,g,G),ws=!1,fe=a.memoizedState,_.state=fe,oc(a,g,_,v);var Ee=a.memoizedState;$!==me||fe!==Ee||Sn.current||ws?(typeof Se=="function"&&(xh(a,u,Se,g),Ee=a.memoizedState),(oe=ws||yx(a,u,oe,g,fe,Ee,G)||!1)?(pe||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(g,Ee,G),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(g,Ee,G)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||$===i.memoizedProps&&fe===i.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||$===i.memoizedProps&&fe===i.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=Ee),_.props=g,_.state=Ee,_.context=G,g=oe):(typeof _.componentDidUpdate!="function"||$===i.memoizedProps&&fe===i.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||$===i.memoizedProps&&fe===i.memoizedState||(a.flags|=1024),g=!1)}return jh(i,a,u,g,S,v)}function jh(i,a,u,g,v,S){Tx(i,a);var _=(a.flags&128)!==0;if(!g&&!_)return v&&I0(a,u,!1),Gr(i,a,S);g=a.stateNode,oC.current=a;var $=_&&typeof u.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,i!==null&&_?(a.child=Yi(a,i.child,null,S),a.child=Yi(a,null,$,S)):yn(i,a,$,S),a.memoizedState=g.state,v&&I0(a,u,!0),a.child}function Rx(i){var a=i.stateNode;a.pendingContext?O0(i,a.pendingContext,a.pendingContext!==a.context):a.context&&O0(i,a.context,!1),ih(i,a.containerInfo)}function Dx(i,a,u,g,v){return Ki(),Xu(v),a.flags|=256,yn(i,a,u,g),a.child}var Sh={dehydrated:null,treeContext:null,retryLane:0};function Nh(i){return{baseLanes:i,cachePool:null,transitions:null}}function Ox(i,a,u){var g=a.pendingProps,v=bt.current,S=!1,_=(a.flags&128)!==0,$;if(($=_)||($=i!==null&&i.memoizedState===null?!1:(v&2)!==0),$?(S=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),ft(bt,v&1),i===null)return Qu(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(_=g.children,i=g.fallback,S?(g=a.mode,S=a.child,_={mode:"hidden",children:_},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=_):S=Ec(_,g,0,null),i=ai(i,g,u,null),S.return=a,i.return=a,S.sibling=i,a.child=S,a.child.memoizedState=Nh(u),a.memoizedState=Sh,i):kh(a,_));if(v=i.memoizedState,v!==null&&($=v.dehydrated,$!==null))return aC(i,a,_,g,$,v,u);if(S){S=g.fallback,_=a.mode,v=i.child,$=v.sibling;var G={mode:"hidden",children:g.children};return(_&1)===0&&a.child!==v?(g=a.child,g.childLanes=0,g.pendingProps=G,a.deletions=null):(g=Es(v,G),g.subtreeFlags=v.subtreeFlags&14680064),$!==null?S=Es($,S):(S=ai(S,_,u,null),S.flags|=2),S.return=a,g.return=a,g.sibling=S,a.child=g,g=S,S=a.child,_=i.child.memoizedState,_=_===null?Nh(u):{baseLanes:_.baseLanes|u,cachePool:null,transitions:_.transitions},S.memoizedState=_,S.childLanes=i.childLanes&~u,a.memoizedState=Sh,g}return S=i.child,i=S.sibling,g=Es(S,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=u),g.return=a,g.sibling=null,i!==null&&(u=a.deletions,u===null?(a.deletions=[i],a.flags|=16):u.push(i)),a.child=g,a.memoizedState=null,g}function kh(i,a){return a=Ec({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function pc(i,a,u,g){return g!==null&&Xu(g),Yi(a,i.child,null,u),i=kh(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function aC(i,a,u,g,v,S,_){if(u)return a.flags&256?(a.flags&=-257,g=vh(Error(n(422))),pc(i,a,_,g)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(S=g.fallback,v=a.mode,g=Ec({mode:"visible",children:g.children},v,0,null),S=ai(S,v,_,null),S.flags|=2,g.return=a,S.return=a,g.sibling=S,a.child=g,(a.mode&1)!==0&&Yi(a,i.child,null,_),a.child.memoizedState=Nh(_),a.memoizedState=Sh,S);if((a.mode&1)===0)return pc(i,a,_,null);if(v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var $=g.dgst;return g=$,S=Error(n(419)),g=vh(S,g,void 0),pc(i,a,_,g)}if($=(_&i.childLanes)!==0,kn||$){if(g=Yt,g!==null){switch(_&-_){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(g.suspendedLanes|_))!==0?0:v,v!==0&&v!==S.retryLane&&(S.retryLane=v,Hr(i,v),hr(g,i,v,-1))}return zh(),g=vh(Error(n(421))),pc(i,a,_,g)}return v.data==="$?"?(a.flags|=128,a.child=i.child,a=wC.bind(null,i),v._reactRetry=a,null):(i=S.treeContext,Mn=gs(v.nextSibling),In=a,yt=!0,lr=null,i!==null&&(Hn[qn++]=Vr,Hn[qn++]=Ur,Hn[qn++]=Xs,Vr=i.id,Ur=i.overflow,Xs=a),a=kh(a,g.children),a.flags|=4096,a)}function Fx(i,a,u){i.lanes|=a;var g=i.alternate;g!==null&&(g.lanes|=a),nh(i.return,a,u)}function Ch(i,a,u,g,v){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:v}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=u,S.tailMode=v)}function Ix(i,a,u){var g=a.pendingProps,v=g.revealOrder,S=g.tail;if(yn(i,a,g.children,u),g=bt.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Fx(i,u,a);else if(i.tag===19)Fx(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(ft(bt,g),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(u=a.child,v=null;u!==null;)i=u.alternate,i!==null&&ac(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),Ch(a,!1,v,u,S);break;case"backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&ac(i)===null){a.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}Ch(a,!0,u,null,S);break;case"together":Ch(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function mc(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function Gr(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),ri|=a.lanes,(u&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,u=Es(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=Es(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function lC(i,a,u){switch(a.tag){case 3:Rx(a),Ki();break;case 5:J0(a);break;case 1:Nn(a.type)&&Ql(a);break;case 4:ih(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,v=a.memoizedProps.value;ft(rc,g._currentValue),g._currentValue=v;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(ft(bt,bt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?Ox(i,a,u):(ft(bt,bt.current&1),i=Gr(i,a,u),i!==null?i.sibling:null);ft(bt,bt.current&1);break;case 19:if(g=(u&a.childLanes)!==0,(i.flags&128)!==0){if(g)return Ix(i,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ft(bt,bt.current),g)break;return null;case 22:case 23:return a.lanes=0,Ax(i,a,u)}return Gr(i,a,u)}var Mx,Eh,Lx,Bx;Mx=function(i,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Eh=function(){},Lx=function(i,a,u,g){var v=i.memoizedProps;if(v!==g){i=a.stateNode,ti(Er.current);var S=null;switch(u){case"input":v=tt(i,v),g=tt(i,g),S=[];break;case"select":v=q({},v,{value:void 0}),g=q({},g,{value:void 0}),S=[];break;case"textarea":v=wt(i,v),g=wt(i,g),S=[];break;default:typeof v.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Kl)}Dn(u,g);var _;u=null;for(oe in v)if(!g.hasOwnProperty(oe)&&v.hasOwnProperty(oe)&&v[oe]!=null)if(oe==="style"){var $=v[oe];for(_ in $)$.hasOwnProperty(_)&&(u||(u={}),u[_]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(o.hasOwnProperty(oe)?S||(S=[]):(S=S||[]).push(oe,null));for(oe in g){var G=g[oe];if($=v?.[oe],g.hasOwnProperty(oe)&&G!==$&&(G!=null||$!=null))if(oe==="style")if($){for(_ in $)!$.hasOwnProperty(_)||G&&G.hasOwnProperty(_)||(u||(u={}),u[_]="");for(_ in G)G.hasOwnProperty(_)&&$[_]!==G[_]&&(u||(u={}),u[_]=G[_])}else u||(S||(S=[]),S.push(oe,u)),u=G;else oe==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,$=$?$.__html:void 0,G!=null&&$!==G&&(S=S||[]).push(oe,G)):oe==="children"?typeof G!="string"&&typeof G!="number"||(S=S||[]).push(oe,""+G):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(o.hasOwnProperty(oe)?(G!=null&&oe==="onScroll"&&mt("scroll",i),S||$===G||(S=[])):(S=S||[]).push(oe,G))}u&&(S=S||[]).push("style",u);var oe=S;(a.updateQueue=oe)&&(a.flags|=4)}},Bx=function(i,a,u,g){u!==g&&(a.flags|=4)};function ka(i,a){if(!yt)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function cn(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,g=0;if(a)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,g|=v.subtreeFlags&14680064,g|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=g,i.childLanes=u,a}function cC(i,a,u){var g=a.pendingProps;switch(Yu(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(a),null;case 1:return Nn(a.type)&&Jl(),cn(a),null;case 3:return g=a.stateNode,Xi(),gt(Sn),gt(an),lh(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(tc(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,lr!==null&&(Lh(lr),lr=null))),Eh(i,a),cn(a),null;case 5:oh(a);var v=ti(wa.current);if(u=a.type,i!==null&&a.stateNode!=null)Lx(i,a,u,g,v),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(n(166));return cn(a),null}if(i=ti(Er.current),tc(a)){g=a.stateNode,u=a.type;var S=a.memoizedProps;switch(g[Cr]=a,g[ma]=S,i=(a.mode&1)!==0,u){case"dialog":mt("cancel",g),mt("close",g);break;case"iframe":case"object":case"embed":mt("load",g);break;case"video":case"audio":for(v=0;v<ha.length;v++)mt(ha[v],g);break;case"source":mt("error",g);break;case"img":case"image":case"link":mt("error",g),mt("load",g);break;case"details":mt("toggle",g);break;case"input":qe(g,S),mt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},mt("invalid",g);break;case"textarea":Qe(g,S),mt("invalid",g)}Dn(u,S),v=null;for(var _ in S)if(S.hasOwnProperty(_)){var $=S[_];_==="children"?typeof $=="string"?g.textContent!==$&&(S.suppressHydrationWarning!==!0&&Gl(g.textContent,$,i),v=["children",$]):typeof $=="number"&&g.textContent!==""+$&&(S.suppressHydrationWarning!==!0&&Gl(g.textContent,$,i),v=["children",""+$]):o.hasOwnProperty(_)&&$!=null&&_==="onScroll"&&mt("scroll",g)}switch(u){case"input":ve(g),ut(g,S,!0);break;case"textarea":ve(g),ce(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=Kl)}g=v,a.updateQueue=g,g!==null&&(a.flags|=4)}else{_=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ke(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=_.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=_.createElement(u,{is:g.is}):(i=_.createElement(u),u==="select"&&(_=i,g.multiple?_.multiple=!0:g.size&&(_.size=g.size))):i=_.createElementNS(i,u),i[Cr]=a,i[ma]=g,Mx(i,a,!1,!1),a.stateNode=i;e:{switch(_=ls(u,g),u){case"dialog":mt("cancel",i),mt("close",i),v=g;break;case"iframe":case"object":case"embed":mt("load",i),v=g;break;case"video":case"audio":for(v=0;v<ha.length;v++)mt(ha[v],i);v=g;break;case"source":mt("error",i),v=g;break;case"img":case"image":case"link":mt("error",i),mt("load",i),v=g;break;case"details":mt("toggle",i),v=g;break;case"input":qe(i,g),v=tt(i,g),mt("invalid",i);break;case"option":v=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},v=q({},g,{value:void 0}),mt("invalid",i);break;case"textarea":Qe(i,g),v=wt(i,g),mt("invalid",i);break;default:v=g}Dn(u,v),$=v;for(S in $)if($.hasOwnProperty(S)){var G=$[S];S==="style"?as(i,G):S==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&at(i,G)):S==="children"?typeof G=="string"?(u!=="textarea"||G!=="")&&ht(i,G):typeof G=="number"&&ht(i,""+G):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(o.hasOwnProperty(S)?G!=null&&S==="onScroll"&&mt("scroll",i):G!=null&&C(i,S,G,_))}switch(u){case"input":ve(i),ut(i,g,!1);break;case"textarea":ve(i),ce(i);break;case"option":g.value!=null&&i.setAttribute("value",""+Z(g.value));break;case"select":i.multiple=!!g.multiple,S=g.value,S!=null?Ft(i,!!g.multiple,S,!1):g.defaultValue!=null&&Ft(i,!!g.multiple,g.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=Kl)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return cn(a),null;case 6:if(i&&a.stateNode!=null)Bx(i,a,i.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(n(166));if(u=ti(wa.current),ti(Er.current),tc(a)){if(g=a.stateNode,u=a.memoizedProps,g[Cr]=a,(S=g.nodeValue!==u)&&(i=In,i!==null))switch(i.tag){case 3:Gl(g.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Gl(g.nodeValue,u,(i.mode&1)!==0)}S&&(a.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[Cr]=a,a.stateNode=g}return cn(a),null;case 13:if(gt(bt),g=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(yt&&Mn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)W0(),Ki(),a.flags|=98560,S=!1;else if(S=tc(a),g!==null&&g.dehydrated!==null){if(i===null){if(!S)throw Error(n(318));if(S=a.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[Cr]=a}else Ki(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;cn(a),S=!1}else lr!==null&&(Lh(lr),lr=null),S=!0;if(!S)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(bt.current&1)!==0?zt===0&&(zt=3):zh())),a.updateQueue!==null&&(a.flags|=4),cn(a),null);case 4:return Xi(),Eh(i,a),i===null&&fa(a.stateNode.containerInfo),cn(a),null;case 10:return th(a.type._context),cn(a),null;case 17:return Nn(a.type)&&Jl(),cn(a),null;case 19:if(gt(bt),S=a.memoizedState,S===null)return cn(a),null;if(g=(a.flags&128)!==0,_=S.rendering,_===null)if(g)ka(S,!1);else{if(zt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(_=ac(i),_!==null){for(a.flags|=128,ka(S,!1),g=_.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=u,u=a.child;u!==null;)S=u,i=g,S.flags&=14680066,_=S.alternate,_===null?(S.childLanes=0,S.lanes=i,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=_.childLanes,S.lanes=_.lanes,S.child=_.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=_.memoizedProps,S.memoizedState=_.memoizedState,S.updateQueue=_.updateQueue,S.type=_.type,i=_.dependencies,S.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return ft(bt,bt.current&1|2),a.child}i=i.sibling}S.tail!==null&&Rt()>no&&(a.flags|=128,g=!0,ka(S,!1),a.lanes=4194304)}else{if(!g)if(i=ac(_),i!==null){if(a.flags|=128,g=!0,u=i.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),ka(S,!0),S.tail===null&&S.tailMode==="hidden"&&!_.alternate&&!yt)return cn(a),null}else 2*Rt()-S.renderingStartTime>no&&u!==1073741824&&(a.flags|=128,g=!0,ka(S,!1),a.lanes=4194304);S.isBackwards?(_.sibling=a.child,a.child=_):(u=S.last,u!==null?u.sibling=_:a.child=_,S.last=_)}return S.tail!==null?(a=S.tail,S.rendering=a,S.tail=a.sibling,S.renderingStartTime=Rt(),a.sibling=null,u=bt.current,ft(bt,g?u&1|2:u&1),a):(cn(a),null);case 22:case 23:return $h(),g=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(Ln&1073741824)!==0&&(cn(a),a.subtreeFlags&6&&(a.flags|=8192)):cn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function dC(i,a){switch(Yu(a),a.tag){case 1:return Nn(a.type)&&Jl(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Xi(),gt(Sn),gt(an),lh(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return oh(a),null;case 13:if(gt(bt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ki()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return gt(bt),null;case 4:return Xi(),null;case 10:return th(a.type._context),null;case 22:case 23:return $h(),null;case 24:return null;default:return null}}var gc=!1,dn=!1,uC=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function eo(i,a){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){Tt(i,a,g)}else u.current=null}function _h(i,a,u){try{u()}catch(g){Tt(i,a,g)}}var $x=!1;function hC(i,a){if($u=Il,i=y0(),Ru(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var v=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var _=0,$=-1,G=-1,oe=0,pe=0,me=i,fe=null;t:for(;;){for(var Se;me!==u||v!==0&&me.nodeType!==3||($=_+v),me!==S||g!==0&&me.nodeType!==3||(G=_+g),me.nodeType===3&&(_+=me.nodeValue.length),(Se=me.firstChild)!==null;)fe=me,me=Se;for(;;){if(me===i)break t;if(fe===u&&++oe===v&&($=_),fe===S&&++pe===g&&(G=_),(Se=me.nextSibling)!==null)break;me=fe,fe=me.parentNode}me=Se}u=$===-1||G===-1?null:{start:$,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(zu={focusedElem:i,selectionRange:u},Il=!1,Ce=a;Ce!==null;)if(a=Ce,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Ce=i;else for(;Ce!==null;){a=Ce;try{var Ee=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Te=Ee.memoizedProps,Dt=Ee.memoizedState,ne=a.stateNode,Q=ne.getSnapshotBeforeUpdate(a.elementType===a.type?Te:cr(a.type,Te),Dt);ne.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var ie=a.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(xe){Tt(a,a.return,xe)}if(i=a.sibling,i!==null){i.return=a.return,Ce=i;break}Ce=a.return}return Ee=$x,$x=!1,Ee}function Ca(i,a,u){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var v=g=g.next;do{if((v.tag&i)===i){var S=v.destroy;v.destroy=void 0,S!==void 0&&_h(a,u,S)}v=v.next}while(v!==g)}}function xc(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&i)===i){var g=u.create;u.destroy=g()}u=u.next}while(u!==a)}}function Ah(i){var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof a=="function"?a(i):a.current=i}}function zx(i){var a=i.alternate;a!==null&&(i.alternate=null,zx(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Cr],delete a[ma],delete a[Hu],delete a[Kk],delete a[Yk])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Wx(i){return i.tag===5||i.tag===3||i.tag===4}function Vx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Wx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Th(i,a,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(i,a):u.insertBefore(i,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(i,u)):(a=u,a.appendChild(i)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Kl));else if(g!==4&&(i=i.child,i!==null))for(Th(i,a,u),i=i.sibling;i!==null;)Th(i,a,u),i=i.sibling}function Ph(i,a,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Ph(i,a,u),i=i.sibling;i!==null;)Ph(i,a,u),i=i.sibling}var Zt=null,dr=!1;function js(i,a,u){for(u=u.child;u!==null;)Ux(i,a,u),u=u.sibling}function Ux(i,a,u){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(Tl,u)}catch{}switch(u.tag){case 5:dn||eo(u,a);case 6:var g=Zt,v=dr;Zt=null,js(i,a,u),Zt=g,dr=v,Zt!==null&&(dr?(i=Zt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Zt.removeChild(u.stateNode));break;case 18:Zt!==null&&(dr?(i=Zt,u=u.stateNode,i.nodeType===8?Uu(i.parentNode,u):i.nodeType===1&&Uu(i,u),sa(i)):Uu(Zt,u.stateNode));break;case 4:g=Zt,v=dr,Zt=u.stateNode.containerInfo,dr=!0,js(i,a,u),Zt=g,dr=v;break;case 0:case 11:case 14:case 15:if(!dn&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){v=g=g.next;do{var S=v,_=S.destroy;S=S.tag,_!==void 0&&((S&2)!==0||(S&4)!==0)&&_h(u,a,_),v=v.next}while(v!==g)}js(i,a,u);break;case 1:if(!dn&&(eo(u,a),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch($){Tt(u,a,$)}js(i,a,u);break;case 21:js(i,a,u);break;case 22:u.mode&1?(dn=(g=dn)||u.memoizedState!==null,js(i,a,u),dn=g):js(i,a,u);break;default:js(i,a,u)}}function Hx(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new uC),a.forEach(function(g){var v=bC.bind(null,i,g);u.has(g)||(u.add(g),g.then(v,v))})}}function ur(i,a){var u=a.deletions;if(u!==null)for(var g=0;g<u.length;g++){var v=u[g];try{var S=i,_=a,$=_;e:for(;$!==null;){switch($.tag){case 5:Zt=$.stateNode,dr=!1;break e;case 3:Zt=$.stateNode.containerInfo,dr=!0;break e;case 4:Zt=$.stateNode.containerInfo,dr=!0;break e}$=$.return}if(Zt===null)throw Error(n(160));Ux(S,_,v),Zt=null,dr=!1;var G=v.alternate;G!==null&&(G.return=null),v.return=null}catch(oe){Tt(v,a,oe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)qx(a,i),a=a.sibling}function qx(i,a){var u=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ur(a,i),Ar(i),g&4){try{Ca(3,i,i.return),xc(3,i)}catch(Te){Tt(i,i.return,Te)}try{Ca(5,i,i.return)}catch(Te){Tt(i,i.return,Te)}}break;case 1:ur(a,i),Ar(i),g&512&&u!==null&&eo(u,u.return);break;case 5:if(ur(a,i),Ar(i),g&512&&u!==null&&eo(u,u.return),i.flags&32){var v=i.stateNode;try{ht(v,"")}catch(Te){Tt(i,i.return,Te)}}if(g&4&&(v=i.stateNode,v!=null)){var S=i.memoizedProps,_=u!==null?u.memoizedProps:S,$=i.type,G=i.updateQueue;if(i.updateQueue=null,G!==null)try{$==="input"&&S.type==="radio"&&S.name!=null&&Ut(v,S),ls($,_);var oe=ls($,S);for(_=0;_<G.length;_+=2){var pe=G[_],me=G[_+1];pe==="style"?as(v,me):pe==="dangerouslySetInnerHTML"?at(v,me):pe==="children"?ht(v,me):C(v,pe,me,oe)}switch($){case"input":Et(v,S);break;case"textarea":Y(v,S);break;case"select":var fe=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!S.multiple;var Se=S.value;Se!=null?Ft(v,!!S.multiple,Se,!1):fe!==!!S.multiple&&(S.defaultValue!=null?Ft(v,!!S.multiple,S.defaultValue,!0):Ft(v,!!S.multiple,S.multiple?[]:"",!1))}v[ma]=S}catch(Te){Tt(i,i.return,Te)}}break;case 6:if(ur(a,i),Ar(i),g&4){if(i.stateNode===null)throw Error(n(162));v=i.stateNode,S=i.memoizedProps;try{v.nodeValue=S}catch(Te){Tt(i,i.return,Te)}}break;case 3:if(ur(a,i),Ar(i),g&4&&u!==null&&u.memoizedState.isDehydrated)try{sa(a.containerInfo)}catch(Te){Tt(i,i.return,Te)}break;case 4:ur(a,i),Ar(i);break;case 13:ur(a,i),Ar(i),v=i.child,v.flags&8192&&(S=v.memoizedState!==null,v.stateNode.isHidden=S,!S||v.alternate!==null&&v.alternate.memoizedState!==null||(Oh=Rt())),g&4&&Hx(i);break;case 22:if(pe=u!==null&&u.memoizedState!==null,i.mode&1?(dn=(oe=dn)||pe,ur(a,i),dn=oe):ur(a,i),Ar(i),g&8192){if(oe=i.memoizedState!==null,(i.stateNode.isHidden=oe)&&!pe&&(i.mode&1)!==0)for(Ce=i,pe=i.child;pe!==null;){for(me=Ce=pe;Ce!==null;){switch(fe=Ce,Se=fe.child,fe.tag){case 0:case 11:case 14:case 15:Ca(4,fe,fe.return);break;case 1:eo(fe,fe.return);var Ee=fe.stateNode;if(typeof Ee.componentWillUnmount=="function"){g=fe,u=fe.return;try{a=g,Ee.props=a.memoizedProps,Ee.state=a.memoizedState,Ee.componentWillUnmount()}catch(Te){Tt(g,u,Te)}}break;case 5:eo(fe,fe.return);break;case 22:if(fe.memoizedState!==null){Yx(me);continue}}Se!==null?(Se.return=fe,Ce=Se):Yx(me)}pe=pe.sibling}e:for(pe=null,me=i;;){if(me.tag===5){if(pe===null){pe=me;try{v=me.stateNode,oe?(S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):($=me.stateNode,G=me.memoizedProps.style,_=G!=null&&G.hasOwnProperty("display")?G.display:null,$.style.display=xn("display",_))}catch(Te){Tt(i,i.return,Te)}}}else if(me.tag===6){if(pe===null)try{me.stateNode.nodeValue=oe?"":me.memoizedProps}catch(Te){Tt(i,i.return,Te)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===i)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===i)break e;for(;me.sibling===null;){if(me.return===null||me.return===i)break e;pe===me&&(pe=null),me=me.return}pe===me&&(pe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:ur(a,i),Ar(i),g&4&&Hx(i);break;case 21:break;default:ur(a,i),Ar(i)}}function Ar(i){var a=i.flags;if(a&2){try{e:{for(var u=i.return;u!==null;){if(Wx(u)){var g=u;break e}u=u.return}throw Error(n(160))}switch(g.tag){case 5:var v=g.stateNode;g.flags&32&&(ht(v,""),g.flags&=-33);var S=Vx(i);Ph(i,S,v);break;case 3:case 4:var _=g.stateNode.containerInfo,$=Vx(i);Th(i,$,_);break;default:throw Error(n(161))}}catch(G){Tt(i,i.return,G)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function fC(i,a,u){Ce=i,Gx(i)}function Gx(i,a,u){for(var g=(i.mode&1)!==0;Ce!==null;){var v=Ce,S=v.child;if(v.tag===22&&g){var _=v.memoizedState!==null||gc;if(!_){var $=v.alternate,G=$!==null&&$.memoizedState!==null||dn;$=gc;var oe=dn;if(gc=_,(dn=G)&&!oe)for(Ce=v;Ce!==null;)_=Ce,G=_.child,_.tag===22&&_.memoizedState!==null?Jx(v):G!==null?(G.return=_,Ce=G):Jx(v);for(;S!==null;)Ce=S,Gx(S),S=S.sibling;Ce=v,gc=$,dn=oe}Kx(i)}else(v.subtreeFlags&8772)!==0&&S!==null?(S.return=v,Ce=S):Kx(i)}}function Kx(i){for(;Ce!==null;){var a=Ce;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:dn||xc(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!dn)if(u===null)g.componentDidMount();else{var v=a.elementType===a.type?u.memoizedProps:cr(a.type,u.memoizedProps);g.componentDidUpdate(v,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=a.updateQueue;S!==null&&Y0(a,S,g);break;case 3:var _=a.updateQueue;if(_!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Y0(a,_,u)}break;case 5:var $=a.stateNode;if(u===null&&a.flags&4){u=$;var G=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&u.focus();break;case"img":G.src&&(u.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var oe=a.alternate;if(oe!==null){var pe=oe.memoizedState;if(pe!==null){var me=pe.dehydrated;me!==null&&sa(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}dn||a.flags&512&&Ah(a)}catch(fe){Tt(a,a.return,fe)}}if(a===i){Ce=null;break}if(u=a.sibling,u!==null){u.return=a.return,Ce=u;break}Ce=a.return}}function Yx(i){for(;Ce!==null;){var a=Ce;if(a===i){Ce=null;break}var u=a.sibling;if(u!==null){u.return=a.return,Ce=u;break}Ce=a.return}}function Jx(i){for(;Ce!==null;){var a=Ce;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{xc(4,a)}catch(G){Tt(a,u,G)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var v=a.return;try{g.componentDidMount()}catch(G){Tt(a,v,G)}}var S=a.return;try{Ah(a)}catch(G){Tt(a,S,G)}break;case 5:var _=a.return;try{Ah(a)}catch(G){Tt(a,_,G)}}}catch(G){Tt(a,a.return,G)}if(a===i){Ce=null;break}var $=a.sibling;if($!==null){$.return=a.return,Ce=$;break}Ce=a.return}}var pC=Math.ceil,yc=A.ReactCurrentDispatcher,Rh=A.ReactCurrentOwner,Yn=A.ReactCurrentBatchConfig,Xe=0,Yt=null,It=null,en=0,Ln=0,to=xs(0),zt=0,Ea=null,ri=0,vc=0,Dh=0,_a=null,Cn=null,Oh=0,no=1/0,Kr=null,wc=!1,Fh=null,Ss=null,bc=!1,Ns=null,jc=0,Aa=0,Ih=null,Sc=-1,Nc=0;function vn(){return(Xe&6)!==0?Rt():Sc!==-1?Sc:Sc=Rt()}function ks(i){return(i.mode&1)===0?1:(Xe&2)!==0&&en!==0?en&-en:Qk.transition!==null?(Nc===0&&(Nc=Vg()),Nc):(i=it,i!==0||(i=window.event,i=i===void 0?16:Xg(i.type)),i)}function hr(i,a,u,g){if(50<Aa)throw Aa=0,Ih=null,Error(n(185));Zo(i,u,g),((Xe&2)===0||i!==Yt)&&(i===Yt&&((Xe&2)===0&&(vc|=u),zt===4&&Cs(i,en)),En(i,g),u===1&&Xe===0&&(a.mode&1)===0&&(no=Rt()+500,Xl&&vs()))}function En(i,a){var u=i.callbackNode;QN(i,a);var g=Dl(i,i===Yt?en:0);if(g===0)u!==null&&$g(u),i.callbackNode=null,i.callbackPriority=0;else if(a=g&-g,i.callbackPriority!==a){if(u!=null&&$g(u),a===1)i.tag===0?Jk(Xx.bind(null,i)):M0(Xx.bind(null,i)),qk(function(){(Xe&6)===0&&vs()}),u=null;else{switch(Ug(g)){case 1:u=mu;break;case 4:u=zg;break;case 16:u=Al;break;case 536870912:u=Wg;break;default:u=Al}u=oy(u,Qx.bind(null,i))}i.callbackPriority=a,i.callbackNode=u}}function Qx(i,a){if(Sc=-1,Nc=0,(Xe&6)!==0)throw Error(n(327));var u=i.callbackNode;if(ro()&&i.callbackNode!==u)return null;var g=Dl(i,i===Yt?en:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||a)a=kc(i,g);else{a=g;var v=Xe;Xe|=2;var S=ey();(Yt!==i||en!==a)&&(Kr=null,no=Rt()+500,ii(i,a));do try{xC();break}catch($){Zx(i,$)}while(!0);eh(),yc.current=S,Xe=v,It!==null?a=0:(Yt=null,en=0,a=zt)}if(a!==0){if(a===2&&(v=gu(i),v!==0&&(g=v,a=Mh(i,v))),a===1)throw u=Ea,ii(i,0),Cs(i,g),En(i,Rt()),u;if(a===6)Cs(i,g);else{if(v=i.current.alternate,(g&30)===0&&!mC(v)&&(a=kc(i,g),a===2&&(S=gu(i),S!==0&&(g=S,a=Mh(i,S))),a===1))throw u=Ea,ii(i,0),Cs(i,g),En(i,Rt()),u;switch(i.finishedWork=v,i.finishedLanes=g,a){case 0:case 1:throw Error(n(345));case 2:oi(i,Cn,Kr);break;case 3:if(Cs(i,g),(g&130023424)===g&&(a=Oh+500-Rt(),10<a)){if(Dl(i,0)!==0)break;if(v=i.suspendedLanes,(v&g)!==g){vn(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=Vu(oi.bind(null,i,Cn,Kr),a);break}oi(i,Cn,Kr);break;case 4:if(Cs(i,g),(g&4194240)===g)break;for(a=i.eventTimes,v=-1;0<g;){var _=31-or(g);S=1<<_,_=a[_],_>v&&(v=_),g&=~S}if(g=v,g=Rt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*pC(g/1960))-g,10<g){i.timeoutHandle=Vu(oi.bind(null,i,Cn,Kr),g);break}oi(i,Cn,Kr);break;case 5:oi(i,Cn,Kr);break;default:throw Error(n(329))}}}return En(i,Rt()),i.callbackNode===u?Qx.bind(null,i):null}function Mh(i,a){var u=_a;return i.current.memoizedState.isDehydrated&&(ii(i,a).flags|=256),i=kc(i,a),i!==2&&(a=Cn,Cn=u,a!==null&&Lh(a)),i}function Lh(i){Cn===null?Cn=i:Cn.push.apply(Cn,i)}function mC(i){for(var a=i;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var v=u[g],S=v.getSnapshot;v=v.value;try{if(!ar(S(),v))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Cs(i,a){for(a&=~Dh,a&=~vc,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var u=31-or(a),g=1<<u;i[u]=-1,a&=~g}}function Xx(i){if((Xe&6)!==0)throw Error(n(327));ro();var a=Dl(i,0);if((a&1)===0)return En(i,Rt()),null;var u=kc(i,a);if(i.tag!==0&&u===2){var g=gu(i);g!==0&&(a=g,u=Mh(i,g))}if(u===1)throw u=Ea,ii(i,0),Cs(i,a),En(i,Rt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,oi(i,Cn,Kr),En(i,Rt()),null}function Bh(i,a){var u=Xe;Xe|=1;try{return i(a)}finally{Xe=u,Xe===0&&(no=Rt()+500,Xl&&vs())}}function si(i){Ns!==null&&Ns.tag===0&&(Xe&6)===0&&ro();var a=Xe;Xe|=1;var u=Yn.transition,g=it;try{if(Yn.transition=null,it=1,i)return i()}finally{it=g,Yn.transition=u,Xe=a,(Xe&6)===0&&vs()}}function $h(){Ln=to.current,gt(to)}function ii(i,a){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Hk(u)),It!==null)for(u=It.return;u!==null;){var g=u;switch(Yu(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Jl();break;case 3:Xi(),gt(Sn),gt(an),lh();break;case 5:oh(g);break;case 4:Xi();break;case 13:gt(bt);break;case 19:gt(bt);break;case 10:th(g.type._context);break;case 22:case 23:$h()}u=u.return}if(Yt=i,It=i=Es(i.current,null),en=Ln=a,zt=0,Ea=null,Dh=vc=ri=0,Cn=_a=null,ei!==null){for(a=0;a<ei.length;a++)if(u=ei[a],g=u.interleaved,g!==null){u.interleaved=null;var v=g.next,S=u.pending;if(S!==null){var _=S.next;S.next=v,g.next=_}u.pending=g}ei=null}return i}function Zx(i,a){do{var u=It;try{if(eh(),lc.current=hc,cc){for(var g=jt.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}cc=!1}if(ni=0,Kt=$t=jt=null,ba=!1,ja=0,Rh.current=null,u===null||u.return===null){zt=1,Ea=a,It=null;break}e:{var S=i,_=u.return,$=u,G=a;if(a=en,$.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var oe=G,pe=$,me=pe.tag;if((pe.mode&1)===0&&(me===0||me===11||me===15)){var fe=pe.alternate;fe?(pe.updateQueue=fe.updateQueue,pe.memoizedState=fe.memoizedState,pe.lanes=fe.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Se=Nx(_);if(Se!==null){Se.flags&=-257,kx(Se,_,$,S,a),Se.mode&1&&Sx(S,oe,a),a=Se,G=oe;var Ee=a.updateQueue;if(Ee===null){var Te=new Set;Te.add(G),a.updateQueue=Te}else Ee.add(G);break e}else{if((a&1)===0){Sx(S,oe,a),zh();break e}G=Error(n(426))}}else if(yt&&$.mode&1){var Dt=Nx(_);if(Dt!==null){(Dt.flags&65536)===0&&(Dt.flags|=256),kx(Dt,_,$,S,a),Xu(Zi(G,$));break e}}S=G=Zi(G,$),zt!==4&&(zt=2),_a===null?_a=[S]:_a.push(S),S=_;do{switch(S.tag){case 3:S.flags|=65536,a&=-a,S.lanes|=a;var ne=bx(S,G,a);K0(S,ne);break e;case 1:$=G;var Q=S.type,ie=S.stateNode;if((S.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(Ss===null||!Ss.has(ie)))){S.flags|=65536,a&=-a,S.lanes|=a;var xe=jx(S,$,a);K0(S,xe);break e}}S=S.return}while(S!==null)}ny(u)}catch(Pe){a=Pe,It===u&&u!==null&&(It=u=u.return);continue}break}while(!0)}function ey(){var i=yc.current;return yc.current=hc,i===null?hc:i}function zh(){(zt===0||zt===3||zt===2)&&(zt=4),Yt===null||(ri&268435455)===0&&(vc&268435455)===0||Cs(Yt,en)}function kc(i,a){var u=Xe;Xe|=2;var g=ey();(Yt!==i||en!==a)&&(Kr=null,ii(i,a));do try{gC();break}catch(v){Zx(i,v)}while(!0);if(eh(),Xe=u,yc.current=g,It!==null)throw Error(n(261));return Yt=null,en=0,zt}function gC(){for(;It!==null;)ty(It)}function xC(){for(;It!==null&&!WN();)ty(It)}function ty(i){var a=iy(i.alternate,i,Ln);i.memoizedProps=i.pendingProps,a===null?ny(i):It=a,Rh.current=null}function ny(i){var a=i;do{var u=a.alternate;if(i=a.return,(a.flags&32768)===0){if(u=cC(u,a,Ln),u!==null){It=u;return}}else{if(u=dC(u,a),u!==null){u.flags&=32767,It=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{zt=6,It=null;return}}if(a=a.sibling,a!==null){It=a;return}It=a=i}while(a!==null);zt===0&&(zt=5)}function oi(i,a,u){var g=it,v=Yn.transition;try{Yn.transition=null,it=1,yC(i,a,u,g)}finally{Yn.transition=v,it=g}return null}function yC(i,a,u,g){do ro();while(Ns!==null);if((Xe&6)!==0)throw Error(n(327));u=i.finishedWork;var v=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var S=u.lanes|u.childLanes;if(XN(i,S),i===Yt&&(It=Yt=null,en=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||bc||(bc=!0,oy(Al,function(){return ro(),null})),S=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||S){S=Yn.transition,Yn.transition=null;var _=it;it=1;var $=Xe;Xe|=4,Rh.current=null,hC(i,u),qx(u,i),Lk(zu),Il=!!$u,zu=$u=null,i.current=u,fC(u),VN(),Xe=$,it=_,Yn.transition=S}else i.current=u;if(bc&&(bc=!1,Ns=i,jc=v),S=i.pendingLanes,S===0&&(Ss=null),qN(u.stateNode),En(i,Rt()),a!==null)for(g=i.onRecoverableError,u=0;u<a.length;u++)v=a[u],g(v.value,{componentStack:v.stack,digest:v.digest});if(wc)throw wc=!1,i=Fh,Fh=null,i;return(jc&1)!==0&&i.tag!==0&&ro(),S=i.pendingLanes,(S&1)!==0?i===Ih?Aa++:(Aa=0,Ih=i):Aa=0,vs(),null}function ro(){if(Ns!==null){var i=Ug(jc),a=Yn.transition,u=it;try{if(Yn.transition=null,it=16>i?16:i,Ns===null)var g=!1;else{if(i=Ns,Ns=null,jc=0,(Xe&6)!==0)throw Error(n(331));var v=Xe;for(Xe|=4,Ce=i.current;Ce!==null;){var S=Ce,_=S.child;if((Ce.flags&16)!==0){var $=S.deletions;if($!==null){for(var G=0;G<$.length;G++){var oe=$[G];for(Ce=oe;Ce!==null;){var pe=Ce;switch(pe.tag){case 0:case 11:case 15:Ca(8,pe,S)}var me=pe.child;if(me!==null)me.return=pe,Ce=me;else for(;Ce!==null;){pe=Ce;var fe=pe.sibling,Se=pe.return;if(zx(pe),pe===oe){Ce=null;break}if(fe!==null){fe.return=Se,Ce=fe;break}Ce=Se}}}var Ee=S.alternate;if(Ee!==null){var Te=Ee.child;if(Te!==null){Ee.child=null;do{var Dt=Te.sibling;Te.sibling=null,Te=Dt}while(Te!==null)}}Ce=S}}if((S.subtreeFlags&2064)!==0&&_!==null)_.return=S,Ce=_;else e:for(;Ce!==null;){if(S=Ce,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Ca(9,S,S.return)}var ne=S.sibling;if(ne!==null){ne.return=S.return,Ce=ne;break e}Ce=S.return}}var Q=i.current;for(Ce=Q;Ce!==null;){_=Ce;var ie=_.child;if((_.subtreeFlags&2064)!==0&&ie!==null)ie.return=_,Ce=ie;else e:for(_=Q;Ce!==null;){if($=Ce,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:xc(9,$)}}catch(Pe){Tt($,$.return,Pe)}if($===_){Ce=null;break e}var xe=$.sibling;if(xe!==null){xe.return=$.return,Ce=xe;break e}Ce=$.return}}if(Xe=v,vs(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(Tl,i)}catch{}g=!0}return g}finally{it=u,Yn.transition=a}}return!1}function ry(i,a,u){a=Zi(u,a),a=bx(i,a,1),i=bs(i,a,1),a=vn(),i!==null&&(Zo(i,1,a),En(i,a))}function Tt(i,a,u){if(i.tag===3)ry(i,i,u);else for(;a!==null;){if(a.tag===3){ry(a,i,u);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ss===null||!Ss.has(g))){i=Zi(u,i),i=jx(a,i,1),a=bs(a,i,1),i=vn(),a!==null&&(Zo(a,1,i),En(a,i));break}}a=a.return}}function vC(i,a,u){var g=i.pingCache;g!==null&&g.delete(a),a=vn(),i.pingedLanes|=i.suspendedLanes&u,Yt===i&&(en&u)===u&&(zt===4||zt===3&&(en&130023424)===en&&500>Rt()-Oh?ii(i,0):Dh|=u),En(i,a)}function sy(i,a){a===0&&((i.mode&1)===0?a=1:(a=Rl,Rl<<=1,(Rl&130023424)===0&&(Rl=4194304)));var u=vn();i=Hr(i,a),i!==null&&(Zo(i,a,u),En(i,u))}function wC(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),sy(i,u)}function bC(i,a){var u=0;switch(i.tag){case 13:var g=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(a),sy(i,u)}var iy;iy=function(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps||Sn.current)kn=!0;else{if((i.lanes&u)===0&&(a.flags&128)===0)return kn=!1,lC(i,a,u);kn=(i.flags&131072)!==0}else kn=!1,yt&&(a.flags&1048576)!==0&&L0(a,ec,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;mc(i,a),i=a.pendingProps;var v=Hi(a,an.current);Qi(a,u),v=uh(null,a,g,i,v,u);var S=hh();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Nn(g)?(S=!0,Ql(a)):S=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,sh(a),v.updater=fc,a.stateNode=v,v._reactInternals=a,yh(a,g,i,u),a=jh(null,a,g,!0,S,u)):(a.tag=0,yt&&S&&Ku(a),yn(null,a,v,u),a=a.child),a;case 16:g=a.elementType;e:{switch(mc(i,a),i=a.pendingProps,v=g._init,g=v(g._payload),a.type=g,v=a.tag=SC(g),i=cr(g,i),v){case 0:a=bh(null,a,g,i,u);break e;case 1:a=Px(null,a,g,i,u);break e;case 11:a=Cx(null,a,g,i,u);break e;case 14:a=Ex(null,a,g,cr(g.type,i),u);break e}throw Error(n(306,g,""))}return a;case 0:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:cr(g,v),bh(i,a,g,v,u);case 1:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:cr(g,v),Px(i,a,g,v,u);case 3:e:{if(Rx(a),i===null)throw Error(n(387));g=a.pendingProps,S=a.memoizedState,v=S.element,G0(i,a),oc(a,g,null,u);var _=a.memoizedState;if(g=_.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},a.updateQueue.baseState=S,a.memoizedState=S,a.flags&256){v=Zi(Error(n(423)),a),a=Dx(i,a,g,u,v);break e}else if(g!==v){v=Zi(Error(n(424)),a),a=Dx(i,a,g,u,v);break e}else for(Mn=gs(a.stateNode.containerInfo.firstChild),In=a,yt=!0,lr=null,u=H0(a,null,g,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ki(),g===v){a=Gr(i,a,u);break e}yn(i,a,g,u)}a=a.child}return a;case 5:return J0(a),i===null&&Qu(a),g=a.type,v=a.pendingProps,S=i!==null?i.memoizedProps:null,_=v.children,Wu(g,v)?_=null:S!==null&&Wu(g,S)&&(a.flags|=32),Tx(i,a),yn(i,a,_,u),a.child;case 6:return i===null&&Qu(a),null;case 13:return Ox(i,a,u);case 4:return ih(a,a.stateNode.containerInfo),g=a.pendingProps,i===null?a.child=Yi(a,null,g,u):yn(i,a,g,u),a.child;case 11:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:cr(g,v),Cx(i,a,g,v,u);case 7:return yn(i,a,a.pendingProps,u),a.child;case 8:return yn(i,a,a.pendingProps.children,u),a.child;case 12:return yn(i,a,a.pendingProps.children,u),a.child;case 10:e:{if(g=a.type._context,v=a.pendingProps,S=a.memoizedProps,_=v.value,ft(rc,g._currentValue),g._currentValue=_,S!==null)if(ar(S.value,_)){if(S.children===v.children&&!Sn.current){a=Gr(i,a,u);break e}}else for(S=a.child,S!==null&&(S.return=a);S!==null;){var $=S.dependencies;if($!==null){_=S.child;for(var G=$.firstContext;G!==null;){if(G.context===g){if(S.tag===1){G=qr(-1,u&-u),G.tag=2;var oe=S.updateQueue;if(oe!==null){oe=oe.shared;var pe=oe.pending;pe===null?G.next=G:(G.next=pe.next,pe.next=G),oe.pending=G}}S.lanes|=u,G=S.alternate,G!==null&&(G.lanes|=u),nh(S.return,u,a),$.lanes|=u;break}G=G.next}}else if(S.tag===10)_=S.type===a.type?null:S.child;else if(S.tag===18){if(_=S.return,_===null)throw Error(n(341));_.lanes|=u,$=_.alternate,$!==null&&($.lanes|=u),nh(_,u,a),_=S.sibling}else _=S.child;if(_!==null)_.return=S;else for(_=S;_!==null;){if(_===a){_=null;break}if(S=_.sibling,S!==null){S.return=_.return,_=S;break}_=_.return}S=_}yn(i,a,v.children,u),a=a.child}return a;case 9:return v=a.type,g=a.pendingProps.children,Qi(a,u),v=Gn(v),g=g(v),a.flags|=1,yn(i,a,g,u),a.child;case 14:return g=a.type,v=cr(g,a.pendingProps),v=cr(g.type,v),Ex(i,a,g,v,u);case 15:return _x(i,a,a.type,a.pendingProps,u);case 17:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:cr(g,v),mc(i,a),a.tag=1,Nn(g)?(i=!0,Ql(a)):i=!1,Qi(a,u),vx(a,g,v),yh(a,g,v,u),jh(null,a,g,!0,i,u);case 19:return Ix(i,a,u);case 22:return Ax(i,a,u)}throw Error(n(156,a.tag))};function oy(i,a){return Bg(i,a)}function jC(i,a,u,g){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(i,a,u,g){return new jC(i,a,u,g)}function Wh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function SC(i){if(typeof i=="function")return Wh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===K)return 11;if(i===re)return 14}return 2}function Es(i,a){var u=i.alternate;return u===null?(u=Jn(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Cc(i,a,u,g,v,S){var _=2;if(g=i,typeof i=="function")Wh(i)&&(_=1);else if(typeof i=="string")_=5;else e:switch(i){case B:return ai(u.children,v,S,a);case R:_=8,v|=8;break;case z:return i=Jn(12,u,a,v|2),i.elementType=z,i.lanes=S,i;case te:return i=Jn(13,u,a,v),i.elementType=te,i.lanes=S,i;case ee:return i=Jn(19,u,a,v),i.elementType=ee,i.lanes=S,i;case M:return Ec(u,v,S,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case X:_=10;break e;case ae:_=9;break e;case K:_=11;break e;case re:_=14;break e;case J:_=16,g=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Jn(_,u,a,v),a.elementType=i,a.type=g,a.lanes=S,a}function ai(i,a,u,g){return i=Jn(7,i,g,a),i.lanes=u,i}function Ec(i,a,u,g){return i=Jn(22,i,g,a),i.elementType=M,i.lanes=u,i.stateNode={isHidden:!1},i}function Vh(i,a,u){return i=Jn(6,i,null,a),i.lanes=u,i}function Uh(i,a,u){return a=Jn(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function NC(i,a,u,g,v){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xu(0),this.expirationTimes=xu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xu(0),this.identifierPrefix=g,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Hh(i,a,u,g,v,S,_,$,G){return i=new NC(i,a,u,$,G),a===1?(a=1,S===!0&&(a|=8)):a=0,S=Jn(3,null,null,a),i.current=S,S.stateNode=i,S.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},sh(S),i}function kC(i,a,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:g==null?null:""+g,children:i,containerInfo:a,implementation:u}}function ay(i){if(!i)return ys;i=i._reactInternals;e:{if(Xt(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Nn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Nn(u))return F0(i,u,a)}return a}function ly(i,a,u,g,v,S,_,$,G){return i=Hh(u,g,!0,i,v,S,_,$,G),i.context=ay(null),u=i.current,g=vn(),v=ks(u),S=qr(g,v),S.callback=a??null,bs(u,S,v),i.current.lanes=v,Zo(i,v,g),En(i,g),i}function _c(i,a,u,g){var v=a.current,S=vn(),_=ks(v);return u=ay(u),a.context===null?a.context=u:a.pendingContext=u,a=qr(S,_),a.payload={element:i},g=g===void 0?null:g,g!==null&&(a.callback=g),i=bs(v,a,_),i!==null&&(hr(i,v,_,S),ic(i,v,_)),_}function Ac(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function cy(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function qh(i,a){cy(i,a),(i=i.alternate)&&cy(i,a)}function CC(){return null}var dy=typeof reportError=="function"?reportError:function(i){console.error(i)};function Gh(i){this._internalRoot=i}Tc.prototype.render=Gh.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));_c(i,a,null,null)},Tc.prototype.unmount=Gh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;si(function(){_c(null,i,null,null)}),a[zr]=null}};function Tc(i){this._internalRoot=i}Tc.prototype.unstable_scheduleHydration=function(i){if(i){var a=Gg();i={blockedOn:null,target:i,priority:a};for(var u=0;u<fs.length&&a!==0&&a<fs[u].priority;u++);fs.splice(u,0,i),u===0&&Jg(i)}};function Kh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Pc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function uy(){}function EC(i,a,u,g,v){if(v){if(typeof g=="function"){var S=g;g=function(){var oe=Ac(_);S.call(oe)}}var _=ly(a,g,i,0,null,!1,!1,"",uy);return i._reactRootContainer=_,i[zr]=_.current,fa(i.nodeType===8?i.parentNode:i),si(),_}for(;v=i.lastChild;)i.removeChild(v);if(typeof g=="function"){var $=g;g=function(){var oe=Ac(G);$.call(oe)}}var G=Hh(i,0,!1,null,null,!1,!1,"",uy);return i._reactRootContainer=G,i[zr]=G.current,fa(i.nodeType===8?i.parentNode:i),si(function(){_c(a,G,u,g)}),G}function Rc(i,a,u,g,v){var S=u._reactRootContainer;if(S){var _=S;if(typeof v=="function"){var $=v;v=function(){var G=Ac(_);$.call(G)}}_c(a,_,i,v)}else _=EC(u,a,i,v,g);return Ac(_)}Hg=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var u=Xo(a.pendingLanes);u!==0&&(yu(a,u|1),En(a,Rt()),(Xe&6)===0&&(no=Rt()+500,vs()))}break;case 13:si(function(){var g=Hr(i,1);if(g!==null){var v=vn();hr(g,i,1,v)}}),qh(i,1)}},vu=function(i){if(i.tag===13){var a=Hr(i,134217728);if(a!==null){var u=vn();hr(a,i,134217728,u)}qh(i,134217728)}},qg=function(i){if(i.tag===13){var a=ks(i),u=Hr(i,a);if(u!==null){var g=vn();hr(u,i,a,g)}qh(i,a)}},Gg=function(){return it},Kg=function(i,a){var u=it;try{return it=i,a()}finally{it=u}},jn=function(i,a,u){switch(a){case"input":if(Et(i,u),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var g=u[a];if(g!==i&&g.form===i.form){var v=Yl(g);if(!v)throw Error(n(90));Ne(g),Et(g,v)}}}break;case"textarea":Y(i,u);break;case"select":a=u.value,a!=null&&Ft(i,!!u.multiple,a,!1)}},Be=Bh,Je=si;var _C={usingClientEntryPoint:!1,Events:[ga,Vi,Yl,le,Oe,Bh]},Ta={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AC={bundleType:Ta.bundleType,version:Ta.version,rendererPackageName:Ta.rendererPackageName,rendererConfig:Ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Nr(i),i===null?null:i.stateNode},findFiberByHostInstance:Ta.findFiberByHostInstance||CC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Tl=Dc.inject(AC),kr=Dc}catch{}}return _n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_C,_n.createPortal=function(i,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kh(a))throw Error(n(200));return kC(i,a,null,u)},_n.createRoot=function(i,a){if(!Kh(i))throw Error(n(299));var u=!1,g="",v=dy;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Hh(i,1,!1,null,null,u,!1,g,v),i[zr]=a.current,fa(i.nodeType===8?i.parentNode:i),new Gh(a)},_n.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Nr(a),i=i===null?null:i.stateNode,i},_n.flushSync=function(i){return si(i)},_n.hydrate=function(i,a,u){if(!Pc(a))throw Error(n(200));return Rc(null,i,a,!0,u)},_n.hydrateRoot=function(i,a,u){if(!Kh(i))throw Error(n(405));var g=u!=null&&u.hydratedSources||null,v=!1,S="",_=dy;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(S=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),a=ly(a,null,i,1,u??null,v,!1,S,_),i[zr]=a.current,fa(i),g)for(i=0;i<g.length;i++)u=g[i],v=u._getVersion,v=v(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,v]:a.mutableSourceEagerHydrationData.push(u,v);return new Tc(a)},_n.render=function(i,a,u){if(!Pc(a))throw Error(n(200));return Rc(null,i,a,!1,u)},_n.unmountComponentAtNode=function(i){if(!Pc(i))throw Error(n(40));return i._reactRootContainer?(si(function(){Rc(null,null,i,!1,function(){i._reactRootContainer=null,i[zr]=null})}),!0):!1},_n.unstable_batchedUpdates=Bh,_n.unstable_renderSubtreeIntoContainer=function(i,a,u,g){if(!Pc(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Rc(i,a,u,!1,g)},_n.version="18.3.1-next-f1338f8080-20240426",_n}var vy;function _b(){if(vy)return Qh.exports;vy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qh.exports=MC(),Qh.exports}var wy;function LC(){if(wy)return Oc;wy=1;var t=_b();return Oc.createRoot=t.createRoot,Oc.hydrateRoot=t.hydrateRoot,Oc}var BC=LC(),x=hl();const ge=Hd(x),hm=Eb({__proto__:null,default:ge},[x]);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var by="popstate";function $C(t={}){function e(s,o){let{pathname:l,search:c,hash:d}=s.location;return rp("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Xa(o)}return WC(e,n,null,t)}function kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zC(){return Math.random().toString(36).substring(2,10)}function jy(t,e){return{usr:t.state,key:t.key,idx:e}}function rp(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Bo(e):e,state:n,key:e&&e.key||s||zC()}}function Xa({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Bo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function WC(t,e,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,d="POP",h=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function m(){d="POP";let k=p(),N=k==null?null:k-f;f=k,h&&h({action:d,location:j.location,delta:N})}function y(k,N){d="PUSH";let E=rp(j.location,k,N);f=p()+1;let C=jy(E,f),A=j.createHref(E);try{c.pushState(C,"",A)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign(A)}l&&h&&h({action:d,location:j.location,delta:1})}function w(k,N){d="REPLACE";let E=rp(j.location,k,N);f=p();let C=jy(E,f),A=j.createHref(E);c.replaceState(C,"",A),l&&h&&h({action:d,location:j.location,delta:0})}function b(k){return VC(k)}let j={get action(){return d},get location(){return t(o,c)},listen(k){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(by,m),h=k,()=>{o.removeEventListener(by,m),h=null}},createHref(k){return e(o,k)},createURL:b,encodeLocation(k){let N=b(k);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:w,go(k){return c.go(k)}};return j}function VC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),kt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Xa(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Ab(t,e,n="/"){return UC(t,e,n,!1)}function UC(t,e,n,s){let o=typeof e=="string"?Bo(e):e,l=es(o.pathname||"/",n);if(l==null)return null;let c=Tb(t);HC(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=n5(l);d=e5(c[h],f,s)}return d}function Tb(t,e=[],n=[],s="",o=!1){let l=(c,d,h=o,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(s)&&h)return;kt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length)}let m=Zr([s,p.relativePath]),y=n.concat(p);c.children&&c.children.length>0&&(kt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Tb(c.children,e,y,m,h)),!(c.path==null&&!c.index)&&e.push({path:m,score:XC(m,c.index),routesMeta:y})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let h of Pb(c.path))l(c,d,!0,h)}),e}function Pb(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=Pb(s.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),o&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function HC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZC(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var qC=/^:[\w-]+$/,GC=3,KC=2,YC=1,JC=10,QC=-2,Sy=t=>t==="*";function XC(t,e){let n=t.split("/"),s=n.length;return n.some(Sy)&&(s+=QC),e&&(s+=KC),n.filter(o=>!Sy(o)).reduce((o,l)=>o+(qC.test(l)?GC:l===""?YC:JC),s)}function ZC(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function e5(t,e,n=!1){let{routesMeta:s}=t,o={},l="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],f=d===s.length-1,p=l==="/"?e:e.slice(l.length)||"/",m=wd({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),y=h.route;if(!m&&f&&n&&!s[s.length-1].route.index&&(m=wd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!m)return null;Object.assign(o,m.params),c.push({params:o,pathname:Zr([l,m.pathname]),pathnameBase:a5(Zr([l,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(l=Zr([l,m.pathnameBase]))}return c}function wd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=t5(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((f,{paramName:p,isOptional:m},y)=>{if(p==="*"){let b=d[y]||"";c=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const w=d[y];return m&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:t}}function t5(t,e=!1,n=!0){vr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function n5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function es(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var r5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,s5=t=>r5.test(t);function i5(t,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?Bo(t):t,l;if(n)if(s5(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),vr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=Ny(n.substring(1),"/"):l=Ny(n,e)}else l=e;return{pathname:l,search:l5(s),hash:c5(o)}}function Ny(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ef(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function o5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rb(t){let e=o5(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Db(t,e,n,s=!1){let o;typeof t=="string"?o=Bo(t):(o={...t},kt(!o.pathname||!o.pathname.includes("?"),ef("?","pathname","search",o)),kt(!o.pathname||!o.pathname.includes("#"),ef("#","pathname","hash",o)),kt(!o.search||!o.search.includes("#"),ef("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=n;else{let m=e.length-1;if(!s&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),m-=1;o.pathname=y.join("/")}d=m>=0?e[m]:"/"}let h=i5(o,d),f=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Zr=t=>t.join("/").replace(/\/\/+/g,"/"),a5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),l5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,c5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function d5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ob=["POST","PUT","PATCH","DELETE"];new Set(Ob);var u5=["GET",...Ob];new Set(u5);var $o=x.createContext(null);$o.displayName="DataRouter";var qd=x.createContext(null);qd.displayName="DataRouterState";x.createContext(!1);var Fb=x.createContext({isTransitioning:!1});Fb.displayName="ViewTransition";var h5=x.createContext(new Map);h5.displayName="Fetchers";var f5=x.createContext(null);f5.displayName="Await";var Br=x.createContext(null);Br.displayName="Navigation";var fl=x.createContext(null);fl.displayName="Location";var is=x.createContext({outlet:null,matches:[],isDataRoute:!1});is.displayName="Route";var fm=x.createContext(null);fm.displayName="RouteError";function p5(t,{relative:e}={}){kt(pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=x.useContext(Br),{hash:o,pathname:l,search:c}=ml(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Zr([n,l])),s.createHref({pathname:d,search:c,hash:o})}function pl(){return x.useContext(fl)!=null}function $s(){return kt(pl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(fl).location}var Ib="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mb(t){x.useContext(Br).static||x.useLayoutEffect(t)}function Lb(){let{isDataRoute:t}=x.useContext(is);return t?E5():m5()}function m5(){kt(pl(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext($o),{basename:e,navigator:n}=x.useContext(Br),{matches:s}=x.useContext(is),{pathname:o}=$s(),l=JSON.stringify(Rb(s)),c=x.useRef(!1);return Mb(()=>{c.current=!0}),x.useCallback((h,f={})=>{if(vr(c.current,Ib),!c.current)return;if(typeof h=="number"){n.go(h);return}let p=Db(h,JSON.parse(l),o,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Zr([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,l,o,t])}x.createContext(null);function ml(t,{relative:e}={}){let{matches:n}=x.useContext(is),{pathname:s}=$s(),o=JSON.stringify(Rb(n));return x.useMemo(()=>Db(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function g5(t,e){return Bb(t,e)}function Bb(t,e,n,s,o){kt(pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=x.useContext(Br),{matches:c}=x.useContext(is),d=c[c.length-1],h=d?d.params:{},f=d?d.pathname:"/",p=d?d.pathnameBase:"/",m=d&&d.route;{let E=m&&m.path||"";$b(f,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=$s(),w;if(e){let E=typeof e=="string"?Bo(e):e;kt(p==="/"||E.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${E.pathname}" was given in the \`location\` prop.`),w=E}else w=y;let b=w.pathname||"/",j=b;if(p!=="/"){let E=p.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=Ab(t,{pathname:j});vr(m||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),vr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=b5(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:Zr([p,l.encodeLocation?l.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:Zr([p,l.encodeLocation?l.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),c,n,s,o);return e&&N?x.createElement(fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},N):N}function x5(){let t=C5(),e=d5(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:l},"ErrorBoundary")," or"," ",x.createElement("code",{style:l},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:o},n):null,c)}var y5=x.createElement(x5,null),v5=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?x.createElement(is.Provider,{value:this.props.routeContext},x.createElement(fm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function w5({routeContext:t,match:e,children:n}){let s=x.useContext($o);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(is.Provider,{value:t},n)}function b5(t,e=[],n=null,s=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let p=l.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);kt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(n)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:w}=n,b=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||b){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let f=n&&s?(p,m)=>{s(p,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:m})}:void 0;return l.reduceRight((p,m,y)=>{let w,b=!1,j=null,k=null;n&&(w=c&&m.route.id?c[m.route.id]:void 0,j=m.route.errorElement||y5,d&&(h<0&&y===0?($b("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,k=null):h===y&&(b=!0,k=m.route.hydrateFallbackElement||null)));let N=e.concat(l.slice(0,y+1)),E=()=>{let C;return w?C=j:b?C=k:m.route.Component?C=x.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=p,x.createElement(w5,{match:m,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?x.createElement(v5,{location:n.location,revalidation:n.revalidation,component:j,error:w,children:E(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:f}):E()},null)}function pm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j5(t){let e=x.useContext($o);return kt(e,pm(t)),e}function S5(t){let e=x.useContext(qd);return kt(e,pm(t)),e}function N5(t){let e=x.useContext(is);return kt(e,pm(t)),e}function mm(t){let e=N5(t),n=e.matches[e.matches.length-1];return kt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function k5(){return mm("useRouteId")}function C5(){let t=x.useContext(fm),e=S5("useRouteError"),n=mm("useRouteError");return t!==void 0?t:e.errors?.[n]}function E5(){let{router:t}=j5("useNavigate"),e=mm("useNavigate"),n=x.useRef(!1);return Mb(()=>{n.current=!0}),x.useCallback(async(o,l={})=>{vr(n.current,Ib),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var ky={};function $b(t,e,n){!e&&!ky[t]&&(ky[t]=!0,vr(!1,n))}x.memo(_5);function _5({routes:t,future:e,state:n,unstable_onError:s}){return Bb(t,void 0,n,s,e)}function yo(t){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function A5({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:l=!1}){kt(!pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=Bo(n));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:y="default"}=n,w=x.useMemo(()=>{let b=es(h,c);return b==null?null:{location:{pathname:b,search:f,hash:p,state:m,key:y},navigationType:s}},[c,h,f,p,m,y,s]);return vr(w!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:x.createElement(Br.Provider,{value:d},x.createElement(fl.Provider,{children:e,value:w}))}function T5({children:t,location:e}){return g5(sp(t),e)}function sp(t,e=[]){let n=[];return x.Children.forEach(t,(s,o)=>{if(!x.isValidElement(s))return;let l=[...e,o];if(s.type===x.Fragment){n.push.apply(n,sp(s.props.children,l));return}kt(s.type===yo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=sp(s.props.children,l)),n.push(c)}),n}var cd="get",dd="application/x-www-form-urlencoded";function Gd(t){return t!=null&&typeof t.tagName=="string"}function P5(t){return Gd(t)&&t.tagName.toLowerCase()==="button"}function R5(t){return Gd(t)&&t.tagName.toLowerCase()==="form"}function D5(t){return Gd(t)&&t.tagName.toLowerCase()==="input"}function O5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function F5(t,e){return t.button===0&&(!e||e==="_self")&&!O5(t)}var Fc=null;function I5(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var M5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tf(t){return t!=null&&!M5.has(t)?(vr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dd}"`),null):t}function L5(t,e){let n,s,o,l,c;if(R5(t)){let d=t.getAttribute("action");s=d?es(d,e):null,n=t.getAttribute("method")||cd,o=tf(t.getAttribute("enctype"))||dd,l=new FormData(t)}else if(P5(t)||D5(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(s=h?es(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||cd,o=tf(t.getAttribute("formenctype"))||tf(d.getAttribute("enctype"))||dd,l=new FormData(d,t),!I5()){let{name:f,type:p,value:m}=t;if(p==="image"){let y=f?`${f}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else f&&l.append(f,m)}}else{if(Gd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=cd,s=null,o=dd,c=t}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function B5(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&es(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function $5(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function z5(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function W5(t,e,n){let s=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await $5(l,n);return c.links?c.links():[]}return[]}));return q5(s.flat(1).filter(z5).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Cy(t,e,n,s,o,l){let c=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,d=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,f)=>c(h,f)||d(h,f)):l==="data"?e.filter((h,f)=>{let p=s.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let m=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function V5(t,e,{includeHydrateFallback:n}={}){return U5(t.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function U5(t){return[...new Set(t)]}function H5(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function q5(t,e){let n=new Set;return new Set(e),t.reduce((s,o)=>{let l=JSON.stringify(H5(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function zb(){let t=x.useContext($o);return gm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function G5(){let t=x.useContext(qd);return gm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var xm=x.createContext(void 0);xm.displayName="FrameworkContext";function Wb(){let t=x.useContext(xm);return gm(t,"You must render this element inside a <HydratedRouter> element"),t}function K5(t,e){let n=x.useContext(xm),[s,o]=x.useState(!1),[l,c]=x.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,y=x.useRef(null);x.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let j=N=>{N.forEach(E=>{c(E.isIntersecting)})},k=new IntersectionObserver(j,{threshold:.5});return y.current&&k.observe(y.current),()=>{k.disconnect()}}},[t]),x.useEffect(()=>{if(s){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[s]);let w=()=>{o(!0)},b=()=>{o(!1),c(!1)};return n?t!=="intent"?[l,y,{}]:[l,y,{onFocus:Ra(d,w),onBlur:Ra(h,b),onMouseEnter:Ra(f,w),onMouseLeave:Ra(p,b),onTouchStart:Ra(m,w)}]:[!1,y,{}]}function Ra(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Y5({page:t,...e}){let{router:n}=zb(),s=x.useMemo(()=>Ab(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?x.createElement(Q5,{page:t,matches:s,...e}):null}function J5(t){let{manifest:e,routeModules:n}=Wb(),[s,o]=x.useState([]);return x.useEffect(()=>{let l=!1;return W5(t,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[t,e,n]),s}function Q5({page:t,matches:e,...n}){let s=$s(),{manifest:o,routeModules:l}=Wb(),{basename:c}=zb(),{loaderData:d,matches:h}=G5(),f=x.useMemo(()=>Cy(t,e,h,o,s,"data"),[t,e,h,o,s]),p=x.useMemo(()=>Cy(t,e,h,o,s,"assets"),[t,e,h,o,s]),m=x.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let b=new Set,j=!1;if(e.forEach(N=>{let E=o.routes[N.route.id];!E||!E.hasLoader||(!f.some(C=>C.route.id===N.route.id)&&N.route.id in d&&l[N.route.id]?.shouldRevalidate||E.hasClientLoader?j=!0:b.add(N.route.id))}),b.size===0)return[];let k=B5(t,c,"data");return j&&b.size>0&&k.searchParams.set("_routes",e.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[k.pathname+k.search]},[c,d,s,o,f,e,t,l]),y=x.useMemo(()=>V5(p,o),[p,o]),w=J5(p);return x.createElement(x.Fragment,null,m.map(b=>x.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),y.map(b=>x.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),w.map(({key:b,link:j})=>x.createElement("link",{key:b,nonce:n.nonce,...j})))}function X5(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vb&&(window.__reactRouterVersion="7.9.6")}catch{}function Z5({basename:t,children:e,window:n}){let s=x.useRef();s.current==null&&(s.current=$C({window:n,v5Compat:!0}));let o=s.current,[l,c]=x.useState({action:o.action,location:o.location}),d=x.useCallback(h=>{x.startTransition(()=>c(h))},[c]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.createElement(A5,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var Ub=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hb=x.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:d,target:h,to:f,preventScrollReset:p,viewTransition:m,...y},w){let{basename:b}=x.useContext(Br),j=typeof f=="string"&&Ub.test(f),k,N=!1;if(typeof f=="string"&&j&&(k=f,Vb))try{let z=new URL(window.location.href),X=f.startsWith("//")?new URL(z.protocol+f):new URL(f),ae=es(X.pathname,b);X.origin===z.origin&&ae!=null?f=ae+X.search+X.hash:N=!0}catch{vr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=p5(f,{relative:o}),[C,A,O]=K5(s,y),L=rE(f,{replace:c,state:d,target:h,preventScrollReset:p,relative:o,viewTransition:m});function B(z){e&&e(z),z.defaultPrevented||L(z)}let R=x.createElement("a",{...y,...O,href:k||E,onClick:N||l?e:B,ref:X5(w,A),target:h,"data-discover":!j&&n==="render"?"true":void 0});return C&&!j?x.createElement(x.Fragment,null,R,x.createElement(Y5,{page:E})):R});Hb.displayName="Link";var eE=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:d,children:h,...f},p){let m=ml(c,{relative:f.relative}),y=$s(),w=x.useContext(qd),{navigator:b,basename:j}=x.useContext(Br),k=w!=null&&lE(m)&&d===!0,N=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,E=y.pathname,C=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(E=E.toLowerCase(),C=C?C.toLowerCase():null,N=N.toLowerCase()),C&&j&&(C=es(C,j)||C);const A=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let O=E===N||!o&&E.startsWith(N)&&E.charAt(A)==="/",L=C!=null&&(C===N||!o&&C.startsWith(N)&&C.charAt(N.length)==="/"),B={isActive:O,isPending:L,isTransitioning:k},R=O?e:void 0,z;typeof s=="function"?z=s(B):z=[s,O?"active":null,L?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let X=typeof l=="function"?l(B):l;return x.createElement(Hb,{...f,"aria-current":R,className:z,ref:p,style:X,to:c,viewTransition:d},typeof h=="function"?h(B):h)});eE.displayName="NavLink";var tE=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:l,method:c=cd,action:d,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:m,...y},w)=>{let b=oE(),j=aE(d,{relative:f}),k=c.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&Ub.test(d),E=C=>{if(h&&h(C),C.defaultPrevented)return;C.preventDefault();let A=C.nativeEvent.submitter,O=A?.getAttribute("formmethod")||c;b(A||C.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:o,state:l,relative:f,preventScrollReset:p,viewTransition:m})};return x.createElement("form",{ref:w,method:k,action:j,onSubmit:s?h:E,...y,"data-discover":!N&&t==="render"?"true":void 0})});tE.displayName="Form";function nE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qb(t){let e=x.useContext($o);return kt(e,nE(t)),e}function rE(t,{target:e,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=Lb(),h=$s(),f=ml(t,{relative:l});return x.useCallback(p=>{if(F5(p,e)){p.preventDefault();let m=n!==void 0?n:Xa(h)===Xa(f);d(t,{replace:m,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[h,d,f,n,s,e,t,o,l,c])}var sE=0,iE=()=>`__${String(++sE)}__`;function oE(){let{router:t}=qb("useSubmit"),{basename:e}=x.useContext(Br),n=k5();return x.useCallback(async(s,o={})=>{let{action:l,method:c,encType:d,formData:h,body:f}=L5(s,e);if(o.navigate===!1){let p=o.fetcherKey||iE();await t.fetch(p,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function aE(t,{relative:e}={}){let{basename:n}=x.useContext(Br),s=x.useContext(is);kt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...ml(t||".",{relative:e})},c=$s();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(m=>m).forEach(m=>d.append("index",m));let p=d.toString();l.search=p?`?${p}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Zr([n,l.pathname])),Xa(l)}function lE(t,{relative:e}={}){let n=x.useContext(Fb);kt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=qb("useViewTransitionState"),o=ml(t,{relative:e});if(!n.isTransitioning)return!1;let l=es(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=es(n.nextLocation.pathname,s)||n.nextLocation.pathname;return wd(o.pathname,c)!=null||wd(o.pathname,l)!=null}var gl=_b();const Gb=Hd(gl),ym=x.createContext({});function vm(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const wm=typeof window<"u",Kb=wm?x.useLayoutEffect:x.useEffect,Kd=x.createContext(null);function bm(t,e){t.indexOf(e)===-1&&t.push(e)}function jm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ts=(t,e,n)=>n>e?e:n<t?t:n;let Sm=()=>{};const ns={},Yb=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Jb(t){return typeof t=="object"&&t!==null}const Qb=t=>/^0[^.\s]+$/u.test(t);function Nm(t){let e;return()=>(e===void 0&&(e=t()),e)}const nr=t=>t,cE=(t,e)=>n=>e(t(n)),xl=(...t)=>t.reduce(cE),Za=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class km{constructor(){this.subscriptions=[]}add(e){return bm(this.subscriptions,e),()=>jm(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dr=t=>t*1e3,tr=t=>t/1e3;function Xb(t,e){return e?t*(1e3/e):0}const Zb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,dE=1e-7,uE=12;function hE(t,e,n,s,o){let l,c,d=0;do c=e+(n-e)/2,l=Zb(c,s,o)-t,l>0?n=c:e=c;while(Math.abs(l)>dE&&++d<uE);return c}function yl(t,e,n,s){if(t===e&&n===s)return nr;const o=l=>hE(l,0,1,t,n);return l=>l===0||l===1?l:Zb(o(l),e,s)}const e1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,t1=t=>e=>1-t(1-e),n1=yl(.33,1.53,.69,.99),Cm=t1(n1),r1=e1(Cm),s1=t=>(t*=2)<1?.5*Cm(t):.5*(2-Math.pow(2,-10*(t-1))),Em=t=>1-Math.sin(Math.acos(t)),i1=t1(Em),o1=e1(Em),fE=yl(.42,0,1,1),pE=yl(0,0,.58,1),a1=yl(.42,0,.58,1),mE=t=>Array.isArray(t)&&typeof t[0]!="number",l1=t=>Array.isArray(t)&&typeof t[0]=="number",gE={linear:nr,easeIn:fE,easeInOut:a1,easeOut:pE,circIn:Em,circInOut:o1,circOut:i1,backIn:Cm,backInOut:r1,backOut:n1,anticipate:s1},xE=t=>typeof t=="string",Ey=t=>{if(l1(t)){Sm(t.length===4);const[e,n,s,o]=t;return yl(e,n,s,o)}else if(xE(t))return gE[t];return t},Ic=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function yE(t,e){let n=new Set,s=new Set,o=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(p){c.has(p)&&(f.schedule(p),t()),p(d)}const f={schedule:(p,m=!1,y=!1)=>{const b=y&&o?n:s;return m&&c.add(p),b.has(p)||b.add(p),p},cancel:p=>{s.delete(p),c.delete(p)},process:p=>{if(d=p,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(h),n.clear(),o=!1,l&&(l=!1,f.process(p))}};return f}const vE=40;function c1(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Ic.reduce((C,A)=>(C[A]=yE(l),C),{}),{setup:d,read:h,resolveKeyframes:f,preUpdate:p,update:m,preRender:y,render:w,postRender:b}=c,j=()=>{const C=ns.useManualTiming?o.timestamp:performance.now();n=!1,ns.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(C-o.timestamp,vE),1)),o.timestamp=C,o.isProcessing=!0,d.process(o),h.process(o),f.process(o),p.process(o),m.process(o),y.process(o),w.process(o),b.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(j))},k=()=>{n=!0,s=!0,o.isProcessing||t(j)};return{schedule:Ic.reduce((C,A)=>{const O=c[A];return C[A]=(L,B=!1,R=!1)=>(n||k(),O.schedule(L,B,R)),C},{}),cancel:C=>{for(let A=0;A<Ic.length;A++)c[Ic[A]].cancel(C)},state:o,steps:c}}const{schedule:vt,cancel:Fs,state:nn,steps:nf}=c1(typeof requestAnimationFrame<"u"?requestAnimationFrame:nr,!0);let ud;function wE(){ud=void 0}const Tn={now:()=>(ud===void 0&&Tn.set(nn.isProcessing||ns.useManualTiming?nn.timestamp:performance.now()),ud),set:t=>{ud=t,queueMicrotask(wE)}},d1=t=>e=>typeof e=="string"&&e.startsWith(t),_m=d1("--"),bE=d1("var(--"),Am=t=>bE(t)?jE.test(t.split("/*")[0].trim()):!1,jE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},el={...zo,transform:t=>ts(0,1,t)},Mc={...zo,default:1},Va=t=>Math.round(t*1e5)/1e5,Tm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SE(t){return t==null}const NE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Pm=(t,e)=>n=>!!(typeof n=="string"&&NE.test(n)&&n.startsWith(t)||e&&!SE(n)&&Object.prototype.hasOwnProperty.call(n,e)),u1=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,l,c,d]=s.match(Tm);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},kE=t=>ts(0,255,t),rf={...zo,transform:t=>Math.round(kE(t))},vi={test:Pm("rgb","red"),parse:u1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+rf.transform(t)+", "+rf.transform(e)+", "+rf.transform(n)+", "+Va(el.transform(s))+")"};function CE(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const ip={test:Pm("#"),parse:CE,transform:vi.transform},vl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ps=vl("deg"),Or=vl("%"),ze=vl("px"),EE=vl("vh"),_E=vl("vw"),_y={...Or,parse:t=>Or.parse(t)/100,transform:t=>Or.transform(t*100)},jo={test:Pm("hsl","hue"),parse:u1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Or.transform(Va(e))+", "+Or.transform(Va(n))+", "+Va(el.transform(s))+")"},Lt={test:t=>vi.test(t)||ip.test(t)||jo.test(t),parse:t=>vi.test(t)?vi.parse(t):jo.test(t)?jo.parse(t):ip.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vi.transform(t):jo.transform(t),getAnimatableNone:t=>{const e=Lt.parse(t);return e.alpha=0,Lt.transform(e)}},AE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TE(t){return isNaN(t)&&typeof t=="string"&&(t.match(Tm)?.length||0)+(t.match(AE)?.length||0)>0}const h1="number",f1="color",PE="var",RE="var(",Ay="${}",DE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tl(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(DE,h=>(Lt.test(h)?(s.color.push(l),o.push(f1),n.push(Lt.parse(h))):h.startsWith(RE)?(s.var.push(l),o.push(PE),n.push(h)):(s.number.push(l),o.push(h1),n.push(parseFloat(h))),++l,Ay)).split(Ay);return{values:n,split:d,indexes:s,types:o}}function p1(t){return tl(t).values}function m1(t){const{split:e,types:n}=tl(t),s=e.length;return o=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],o[c]!==void 0){const d=n[c];d===h1?l+=Va(o[c]):d===f1?l+=Lt.transform(o[c]):l+=o[c]}return l}}const OE=t=>typeof t=="number"?0:Lt.test(t)?Lt.getAnimatableNone(t):t;function FE(t){const e=p1(t);return m1(t)(e.map(OE))}const Is={test:TE,parse:p1,createTransformer:m1,getAnimatableNone:FE};function sf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function IE({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,l=0,c=0;if(!e)o=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;o=sf(h,d,t+1/3),l=sf(h,d,t),c=sf(h,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function bd(t,e){return n=>n>0?e:t}const Nt=(t,e,n)=>t+(e-t)*n,of=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},ME=[ip,vi,jo],LE=t=>ME.find(e=>e.test(t));function Ty(t){const e=LE(t);if(!e)return!1;let n=e.parse(t);return e===jo&&(n=IE(n)),n}const Py=(t,e)=>{const n=Ty(t),s=Ty(e);if(!n||!s)return bd(t,e);const o={...n};return l=>(o.red=of(n.red,s.red,l),o.green=of(n.green,s.green,l),o.blue=of(n.blue,s.blue,l),o.alpha=Nt(n.alpha,s.alpha,l),vi.transform(o))},op=new Set(["none","hidden"]);function BE(t,e){return op.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $E(t,e){return n=>Nt(t,e,n)}function Rm(t){return typeof t=="number"?$E:typeof t=="string"?Am(t)?bd:Lt.test(t)?Py:VE:Array.isArray(t)?g1:typeof t=="object"?Lt.test(t)?Py:zE:bd}function g1(t,e){const n=[...t],s=n.length,o=t.map((l,c)=>Rm(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=o[c](l);return n}}function zE(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=Rm(t[o])(t[o],e[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function WE(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=t.indexes[l][s[l]],d=t.values[c]??0;n[o]=d,s[l]++}return n}const VE=(t,e)=>{const n=Is.createTransformer(e),s=tl(t),o=tl(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?op.has(t)&&!o.values.length||op.has(e)&&!s.values.length?BE(t,e):xl(g1(WE(s,o),o.values),n):bd(t,e)};function x1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Nt(t,e,n):Rm(t)(t,e)}const UE=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>vt.update(e,n),stop:()=>Fs(e),now:()=>nn.isProcessing?nn.timestamp:Tn.now()}},y1=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)s+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},jd=2e4;function Dm(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<jd;)e+=n,s=t.next(e);return e>=jd?1/0:e}function HE(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(Dm(s),jd);return{type:"keyframes",ease:l=>s.next(o*l).value/e,duration:tr(o)}}const qE=5;function v1(t,e,n){const s=Math.max(e-qE,0);return Xb(n-t(s),e-s)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},af=.001;function GE({duration:t=Pt.duration,bounce:e=Pt.bounce,velocity:n=Pt.velocity,mass:s=Pt.mass}){let o,l,c=1-e;c=ts(Pt.minDamping,Pt.maxDamping,c),t=ts(Pt.minDuration,Pt.maxDuration,tr(t)),c<1?(o=f=>{const p=f*c,m=p*t,y=p-n,w=ap(f,c),b=Math.exp(-m);return af-y/w*b},l=f=>{const m=f*c*t,y=m*n+n,w=Math.pow(c,2)*Math.pow(f,2)*t,b=Math.exp(-m),j=ap(Math.pow(f,2),c);return(-o(f)+af>0?-1:1)*((y-w)*b)/j}):(o=f=>{const p=Math.exp(-f*t),m=(f-n)*t+1;return-af+p*m},l=f=>{const p=Math.exp(-f*t),m=(n-f)*(t*t);return p*m});const d=5/t,h=YE(o,l,d);if(t=Dr(t),isNaN(h))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:t};{const f=Math.pow(h,2)*s;return{stiffness:f,damping:c*2*Math.sqrt(s*f),duration:t}}}const KE=12;function YE(t,e,n){let s=n;for(let o=1;o<KE;o++)s=s-t(s)/e(s);return s}function ap(t,e){return t*Math.sqrt(1-e*e)}const JE=["duration","bounce"],QE=["stiffness","damping","mass"];function Ry(t,e){return e.some(n=>t[n]!==void 0)}function XE(t){let e={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...t};if(!Ry(t,QE)&&Ry(t,JE))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*ts(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Pt.mass,stiffness:o,damping:l}}else{const n=GE(t);e={...e,...n,mass:Pt.mass},e.isResolvedFromDuration=!0}return e}function Sd(t=Pt.visualDuration,e=Pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:f,mass:p,duration:m,velocity:y,isResolvedFromDuration:w}=XE({...n,velocity:-tr(n.velocity||0)}),b=y||0,j=f/(2*Math.sqrt(h*p)),k=c-l,N=tr(Math.sqrt(h/p)),E=Math.abs(k)<5;s||(s=E?Pt.restSpeed.granular:Pt.restSpeed.default),o||(o=E?Pt.restDelta.granular:Pt.restDelta.default);let C;if(j<1){const O=ap(N,j);C=L=>{const B=Math.exp(-j*N*L);return c-B*((b+j*N*k)/O*Math.sin(O*L)+k*Math.cos(O*L))}}else if(j===1)C=O=>c-Math.exp(-N*O)*(k+(b+N*k)*O);else{const O=N*Math.sqrt(j*j-1);C=L=>{const B=Math.exp(-j*N*L),R=Math.min(O*L,300);return c-B*((b+j*N*k)*Math.sinh(R)+O*k*Math.cosh(R))/O}}const A={calculatedDuration:w&&m||null,next:O=>{const L=C(O);if(w)d.done=O>=m;else{let B=O===0?b:0;j<1&&(B=O===0?Dr(b):v1(C,O,L));const R=Math.abs(B)<=s,z=Math.abs(c-L)<=o;d.done=R&&z}return d.value=d.done?c:L,d},toString:()=>{const O=Math.min(Dm(A),jd),L=y1(B=>A.next(O*B).value,O,30);return O+"ms "+L},toTransition:()=>{}};return A}Sd.applyToOptions=t=>{const e=HE(t,100,Sd);return t.ease=e.ease,t.duration=Dr(e.duration),t.type="keyframes",t};function lp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:f=.5,restSpeed:p}){const m=t[0],y={done:!1,value:m},w=R=>d!==void 0&&R<d||h!==void 0&&R>h,b=R=>d===void 0?h:h===void 0||Math.abs(d-R)<Math.abs(h-R)?d:h;let j=n*e;const k=m+j,N=c===void 0?k:c(k);N!==k&&(j=N-m);const E=R=>-j*Math.exp(-R/s),C=R=>N+E(R),A=R=>{const z=E(R),X=C(R);y.done=Math.abs(z)<=f,y.value=y.done?N:X};let O,L;const B=R=>{w(y.value)&&(O=R,L=Sd({keyframes:[y.value,b(y.value)],velocity:v1(C,R,y.value),damping:o,stiffness:l,restDelta:f,restSpeed:p}))};return B(0),{calculatedDuration:null,next:R=>{let z=!1;return!L&&O===void 0&&(z=!0,A(R),B(R)),O!==void 0&&R>=O?L.next(R-O):(!z&&A(R),y)}}}function ZE(t,e,n){const s=[],o=n||ns.mix||x1,l=t.length-1;for(let c=0;c<l;c++){let d=o(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||nr:e;d=xl(h,d)}s.push(d)}return s}function e_(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const l=t.length;if(Sm(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=ZE(e,s,o),h=d.length,f=p=>{if(c&&p<t[0])return e[0];let m=0;if(h>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const y=Za(t[m],t[m+1],p);return d[m](y)};return n?p=>f(ts(t[0],t[l-1],p)):f}function t_(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=Za(0,e,s);t.push(Nt(n,1,o))}}function n_(t){const e=[0];return t_(e,t.length-1),e}function r_(t,e){return t.map(n=>n*e)}function s_(t,e){return t.map(()=>e||a1).splice(0,t.length-1)}function Ua({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=mE(s)?s.map(Ey):Ey(s),l={done:!1,value:e[0]},c=r_(n&&n.length===e.length?n:n_(e),t),d=e_(c,e,{ease:Array.isArray(o)?o:s_(e,o)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const i_=t=>t!==null;function Om(t,{repeat:e,repeatType:n="loop"},s,o=1){const l=t.filter(i_),d=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const o_={decay:lp,inertia:lp,tween:Ua,keyframes:Ua,spring:Sd};function w1(t){typeof t.type=="string"&&(t.type=o_[t.type])}class Fm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const a_=t=>t/100;class Im extends Fm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;w1(e);const{type:n=Ua,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const h=n||Ua;h!==Ua&&typeof d[0]!="number"&&(this.mixKeyframes=xl(a_,x1(d[0],d[1])),d=[0,100]);const f=h({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=Dm(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:f=0,keyframes:p,repeat:m,repeatType:y,repeatDelay:w,type:b,onUpdate:j,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-f*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?N<0:N>o;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let C=this.currentTime,A=s;if(m){const R=Math.min(this.currentTime,o)/d;let z=Math.floor(R),X=R%1;!X&&R>=1&&(X=1),X===1&&z--,z=Math.min(z,m+1),!!(z%2)&&(y==="reverse"?(X=1-X,w&&(X-=w/d)):y==="mirror"&&(A=c)),C=ts(0,1,X)*d}const O=E?{done:!1,value:p[0]}:A.next(C);l&&(O.value=l(O.value));let{done:L}=O;!E&&h!==null&&(L=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return B&&b!==lp&&(O.value=Om(p,this.options,k,this.speed)),j&&j(O.value),B&&this.finish(),O}then(e,n){return this.finished.then(e,n)}get duration(){return tr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+tr(e)}get time(){return tr(this.currentTime)}set time(e){e=Dr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Tn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=tr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=UE,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function l_(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const wi=t=>t*180/Math.PI,cp=t=>{const e=wi(Math.atan2(t[1],t[0]));return dp(e)},c_={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:cp,rotateZ:cp,skewX:t=>wi(Math.atan(t[1])),skewY:t=>wi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},dp=t=>(t=t%360,t<0&&(t+=360),t),Dy=cp,Oy=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Fy=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),d_={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Oy,scaleY:Fy,scale:t=>(Oy(t)+Fy(t))/2,rotateX:t=>dp(wi(Math.atan2(t[6],t[5]))),rotateY:t=>dp(wi(Math.atan2(-t[2],t[0]))),rotateZ:Dy,rotate:Dy,skewX:t=>wi(Math.atan(t[4])),skewY:t=>wi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function up(t){return t.includes("scale")?1:0}function hp(t,e){if(!t||t==="none")return up(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=d_,o=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=c_,o=d}if(!o)return up(e);const l=s[e],c=o[1].split(",").map(h_);return typeof l=="function"?l(c):c[l]}const u_=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return hp(n,e)};function h_(t){return parseFloat(t.trim())}const Wo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vo=new Set(Wo),Iy=t=>t===zo||t===ze,f_=new Set(["x","y","z"]),p_=Wo.filter(t=>!f_.has(t));function m_(t){const e=[];return p_.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ni={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>hp(e,"x"),y:(t,{transform:e})=>hp(e,"y")};Ni.translateX=Ni.x;Ni.translateY=Ni.y;const ki=new Set;let fp=!1,pp=!1,mp=!1;function b1(){if(pp){const t=Array.from(ki).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=m_(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}pp=!1,fp=!1,ki.forEach(t=>t.complete(mp)),ki.clear()}function j1(){ki.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(pp=!0)})}function g_(){mp=!0,j1(),b1(),mp=!1}class Mm{constructor(e,n,s,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ki.add(this),fp||(fp=!0,vt.read(j1),vt.resolveKeyframes(b1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const l=o?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),o&&l===void 0&&o.set(e[0])}l_(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ki.delete(this)}cancel(){this.state==="scheduled"&&(ki.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const x_=t=>t.startsWith("--");function y_(t,e,n){x_(e)?t.style.setProperty(e,n):t.style[e]=n}const v_=Nm(()=>window.ScrollTimeline!==void 0),w_={};function b_(t,e){const n=Nm(t);return()=>w_[e]??n()}const S1=b_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ma=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,My={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ma([0,.65,.55,1]),circOut:Ma([.55,0,1,.45]),backIn:Ma([.31,.01,.66,-.59]),backOut:Ma([.33,1.53,.69,.99])};function N1(t,e){if(t)return typeof t=="function"?S1()?y1(t,e):"ease-out":l1(t)?Ma(t):Array.isArray(t)?t.map(n=>N1(n,e)||My.easeOut):My[t]}function j_(t,e,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:h}={},f=void 0){const p={[e]:n};h&&(p.offset=h);const m=N1(d,o);Array.isArray(m)&&(p.easing=m);const y={delay:s,duration:o,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return f&&(y.pseudoElement=f),t.animate(p,y)}function k1(t){return typeof t=="function"&&"applyToOptions"in t}function S_({type:t,...e}){return k1(t)&&S1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class N_ extends Fm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Sm(typeof e.type!="string");const f=S_(e);this.animation=j_(n,s,o,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=Om(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):y_(n,s,p),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return tr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+tr(e)}get time(){return tr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Dr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&v_()?(this.animation.timeline=e,nr):n(this)}}const C1={anticipate:s1,backInOut:r1,circInOut:o1};function k_(t){return t in C1}function C_(t){typeof t.ease=="string"&&k_(t.ease)&&(t.ease=C1[t.ease])}const Ly=10;class E_ extends N_{constructor(e){C_(e),w1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Im({...c,autoplay:!1}),h=Dr(this.finishedTime??this.time);n.setWithVelocity(d.sample(h-Ly).value,d.sample(h).value,Ly),d.stop()}}const By=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Is.test(t)||t==="0")&&!t.startsWith("url("));function __(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function A_(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=By(o,e),d=By(l,e);return!c||!d?!1:__(t)||(n==="spring"||k1(n))&&s}function gp(t){t.duration=0,t.type="keyframes"}const T_=new Set(["opacity","clipPath","filter","transform"]),P_=Nm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function R_(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return P_()&&n&&T_.has(n)&&(n!=="transform"||!f)&&!h&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}const D_=40;class O_ extends Fm{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:h,motionValue:f,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Tn.now();const y={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:c,name:h,motionValue:f,element:p,...m},w=p?.KeyframeResolver||Mm;this.keyframeResolver=new w(d,(b,j,k)=>this.onKeyframesResolved(b,j,y,!k),h,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:h,isHandoff:f,onUpdate:p}=s;this.resolvedAt=Tn.now(),A_(e,l,c,d)||((ns.instantAnimations||!h)&&p?.(Om(e,s,n)),e[0]=e[e.length-1],gp(s),s.repeat=0);const y={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>D_?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},w=!f&&R_(y)?new E_({...y,element:y.motionValue.owner.current}):new Im(y);w.finished.then(()=>this.notifyFinished()).catch(nr),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),g_()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const F_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function I_(t){const e=F_.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function E1(t,e,n=1){const[s,o]=I_(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return Yb(c)?parseFloat(c):c}return Am(o)?E1(o,e,n+1):o}function Lm(t,e){return t?.[e]??t?.default??t}const _1=new Set(["width","height","top","left","right","bottom",...Wo]),M_={test:t=>t==="auto",parse:t=>t},A1=t=>e=>e.test(t),T1=[zo,ze,Or,Ps,_E,EE,M_],$y=t=>T1.find(A1(t));function L_(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Qb(t):!0}const B_=new Set(["brightness","contrast","saturate","opacity"]);function $_(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Tm)||[];if(!s)return t;const o=n.replace(s,"");let l=B_.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+o+")"}const z_=/\b([a-z-]*)\(.*?\)/gu,xp={...Is,getAnimatableNone:t=>{const e=t.match(z_);return e?e.map($_).join(" "):t}},zy={...zo,transform:Math.round},W_={rotate:Ps,rotateX:Ps,rotateY:Ps,rotateZ:Ps,scale:Mc,scaleX:Mc,scaleY:Mc,scaleZ:Mc,skew:Ps,skewX:Ps,skewY:Ps,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:el,originX:_y,originY:_y,originZ:ze},Bm={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze,...W_,zIndex:zy,fillOpacity:el,strokeOpacity:el,numOctaves:zy},V_={...Bm,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:xp,WebkitFilter:xp},P1=t=>V_[t];function R1(t,e){let n=P1(t);return n!==xp&&(n=Is),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const U_=new Set(["auto","none","0"]);function H_(t,e,n){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!U_.has(l)&&tl(l).values.length&&(o=t[s]),s++}if(o&&n)for(const l of e)t[l]=R1(n,o)}class q_ extends Mm{constructor(e,n,s,o,l){super(e,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),Am(f))){const p=E1(f,n.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!_1.has(s)||e.length!==2)return;const[o,l]=e,c=$y(o),d=$y(l);if(c!==d)if(Iy(c)&&Iy(d))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else Ni[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||L_(e[o]))&&s.push(o);s.length&&H_(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ni[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Ni[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function G_(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=n?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const D1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function O1(t){return Jb(t)&&"offsetHeight"in t}const Wy=30,K_=t=>!isNaN(parseFloat(t));class Y_{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=Tn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=K_(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new km);const s=this.events[e].add(n);return e==="change"?()=>{s(),vt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Wy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Wy);return Xb(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ro(t,e){return new Y_(t,e)}const{schedule:$m}=c1(queueMicrotask,!1),mr={x:!1,y:!1};function F1(){return mr.x||mr.y}function J_(t){return t==="x"||t==="y"?mr[t]?null:(mr[t]=!0,()=>{mr[t]=!1}):mr.x||mr.y?null:(mr.x=mr.y=!0,()=>{mr.x=mr.y=!1})}function I1(t,e){const n=G_(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function Vy(t){return!(t.pointerType==="touch"||F1())}function Q_(t,e,n={}){const[s,o,l]=I1(t,n),c=d=>{if(!Vy(d))return;const{target:h}=d,f=e(h,d);if(typeof f!="function"||!h)return;const p=m=>{Vy(m)&&(f(m),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const M1=(t,e)=>e?t===e?!0:M1(t,e.parentElement):!1,zm=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,X_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Z_(t){return X_.has(t.tagName)||t.tabIndex!==-1}const hd=new WeakSet;function Uy(t){return e=>{e.key==="Enter"&&t(e)}}function lf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const eA=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Uy(()=>{if(hd.has(n))return;lf(n,"down");const o=Uy(()=>{lf(n,"up")}),l=()=>lf(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Hy(t){return zm(t)&&!F1()}function tA(t,e,n={}){const[s,o,l]=I1(t,n),c=d=>{const h=d.currentTarget;if(!Hy(d))return;hd.add(h);const f=e(h,d),p=(w,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),hd.has(h)&&hd.delete(h),Hy(w)&&typeof f=="function"&&f(w,{success:b})},m=w=>{p(w,h===window||h===document||n.useGlobalTarget||M1(h,w.target))},y=w=>{p(w,!1)};window.addEventListener("pointerup",m,o),window.addEventListener("pointercancel",y,o)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),O1(d)&&(d.addEventListener("focus",f=>eA(f,o)),!Z_(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function L1(t){return Jb(t)&&"ownerSVGElement"in t}function nA(t){return L1(t)&&t.tagName==="svg"}const pn=t=>!!(t&&t.getVelocity),rA=[...T1,Lt,Is],sA=t=>rA.find(A1(t)),Wm=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function qy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function iA(...t){return e=>{let n=!1;const s=t.map(o=>{const l=qy(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():qy(t[o],null)}}}}function oA(...t){return x.useCallback(iA(...t),t)}class aA extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=O1(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lA({children:t,isPresent:e,anchorX:n,root:s}){const o=x.useId(),l=x.useRef(null),c=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=x.useContext(Wm),h=oA(l,t?.ref);return x.useInsertionEffect(()=>{const{width:f,height:p,top:m,left:y,right:w}=c.current;if(e||!l.current||!f||!p)return;const b=n==="left"?`left: ${y}`:`right: ${w}`;l.current.dataset.motionPopId=o;const j=document.createElement("style");d&&(j.nonce=d);const k=s??document.head;return k.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{k.contains(j)&&k.removeChild(j)}},[e]),r.jsx(aA,{isPresent:e,childRef:l,sizeRef:c,children:x.cloneElement(t,{ref:h})})}const cA=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:c,anchorX:d,root:h})=>{const f=vm(dA),p=x.useId();let m=!0,y=x.useMemo(()=>(m=!1,{id:p,initial:e,isPresent:n,custom:o,onExitComplete:w=>{f.set(w,!0);for(const b of f.values())if(!b)return;s&&s()},register:w=>(f.set(w,!1),()=>f.delete(w))}),[n,f,s]);return l&&m&&(y={...y}),x.useMemo(()=>{f.forEach((w,b)=>f.set(b,!1))},[n]),x.useEffect(()=>{!n&&!f.size&&s&&s()},[n]),c==="popLayout"&&(t=r.jsx(lA,{isPresent:n,anchorX:d,root:h,children:t})),r.jsx(Kd.Provider,{value:y,children:t})};function dA(){return new Map}function B1(t=!0){const e=x.useContext(Kd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,l=x.useId();x.useEffect(()=>{if(t)return o(l)},[t]);const c=x.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Lc=t=>t.key||"";function Gy(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const Ze=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:h})=>{const[f,p]=B1(c),m=x.useMemo(()=>Gy(t),[t]),y=c&&!f?[]:m.map(Lc),w=x.useRef(!0),b=x.useRef(m),j=vm(()=>new Map),[k,N]=x.useState(m),[E,C]=x.useState(m);Kb(()=>{w.current=!1,b.current=m;for(let L=0;L<E.length;L++){const B=Lc(E[L]);y.includes(B)?j.delete(B):j.get(B)!==!0&&j.set(B,!1)}},[E,y.length,y.join("-")]);const A=[];if(m!==k){let L=[...m];for(let B=0;B<E.length;B++){const R=E[B],z=Lc(R);y.includes(z)||(L.splice(B,0,R),A.push(R))}return l==="wait"&&A.length&&(L=A),C(Gy(L)),N(m),null}const{forceRender:O}=x.useContext(ym);return r.jsx(r.Fragment,{children:E.map(L=>{const B=Lc(L),R=c&&!f?!1:m===E||y.includes(B),z=()=>{if(j.has(B))j.set(B,!0);else return;let X=!0;j.forEach(ae=>{ae||(X=!1)}),X&&(O?.(),C(b.current),c&&p?.(),s&&s())};return r.jsx(cA,{isPresent:R,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:h,onExitComplete:R?void 0:z,anchorX:d,children:L},B)})})},$1=x.createContext({strict:!1}),Ky={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Do={};for(const t in Ky)Do[t]={isEnabled:e=>Ky[t].some(n=>!!e[n])};function uA(t){for(const e in t)Do[e]={...Do[e],...t[e]}}const hA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||hA.has(t)}let z1=t=>!Nd(t);function fA(t){typeof t=="function"&&(z1=e=>e.startsWith("on")?!Nd(e):t(e))}try{fA(require("@emotion/is-prop-valid").default)}catch{}function pA(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(z1(o)||n===!0&&Nd(o)||!e&&!Nd(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const Yd=x.createContext({});function Jd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function nl(t){return typeof t=="string"||Array.isArray(t)}const Vm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Um=["initial",...Vm];function Qd(t){return Jd(t.animate)||Um.some(e=>nl(t[e]))}function W1(t){return!!(Qd(t)||t.variants)}function mA(t,e){if(Qd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||nl(n)?n:void 0,animate:nl(s)?s:void 0}}return t.inherit!==!1?e:{}}function gA(t){const{initial:e,animate:n}=mA(t,x.useContext(Yd));return x.useMemo(()=>({initial:e,animate:n}),[Yy(e),Yy(n)])}function Yy(t){return Array.isArray(t)?t.join(" "):t}const rl={};function xA(t){for(const e in t)rl[e]=t[e],_m(e)&&(rl[e].isCSSVariable=!0)}function V1(t,{layout:e,layoutId:n}){return Vo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rl[t]||t==="opacity")}const yA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vA=Wo.length;function wA(t,e,n){let s="",o=!0;for(let l=0;l<vA;l++){const c=Wo[l],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const f=D1(d,Bm[c]);if(!h){o=!1;const p=yA[c]||c;s+=`${p}(${f}) `}n&&(e[c]=f)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function Hm(t,e,n){const{style:s,vars:o,transformOrigin:l}=t;let c=!1,d=!1;for(const h in e){const f=e[h];if(Vo.has(h)){c=!0;continue}else if(_m(h)){o[h]=f;continue}else{const p=D1(f,Bm[h]);h.startsWith("origin")?(d=!0,l[h]=p):s[h]=p}}if(e.transform||(c||n?s.transform=wA(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:h="50%",originY:f="50%",originZ:p=0}=l;s.transformOrigin=`${h} ${f} ${p}`}}const qm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function U1(t,e,n){for(const s in e)!pn(e[s])&&!V1(s,n)&&(t[s]=e[s])}function bA({transformTemplate:t},e){return x.useMemo(()=>{const n=qm();return Hm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function jA(t,e){const n=t.style||{},s={};return U1(s,n,t),Object.assign(s,bA(t,e)),s}function SA(t,e){const n={},s=jA(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const NA={offset:"stroke-dashoffset",array:"stroke-dasharray"},kA={offset:"strokeDashoffset",array:"strokeDasharray"};function CA(t,e,n=1,s=0,o=!0){t.pathLength=1;const l=o?NA:kA;t[l.offset]=ze.transform(-s);const c=ze.transform(e),d=ze.transform(n);t[l.array]=`${c} ${d}`}function H1(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},h,f,p){if(Hm(t,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y}=t;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),o!==void 0&&CA(m,o,l,c,!1)}const q1=()=>({...qm(),attrs:{}}),G1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function EA(t,e,n,s){const o=x.useMemo(()=>{const l=q1();return H1(l,e,G1(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};U1(l,t.style,t),o.style={...l,...o.style}}return o}const _A=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gm(t){return typeof t!="string"||t.includes("-")?!1:!!(_A.indexOf(t)>-1||/[A-Z]/u.test(t))}function AA(t,e,n,{latestValues:s},o,l=!1){const d=(Gm(t)?EA:SA)(e,s,o,t),h=pA(e,typeof t=="string",l),f=t!==x.Fragment?{...h,...d,ref:n}:{},{children:p}=e,m=x.useMemo(()=>pn(p)?p.get():p,[p]);return x.createElement(t,{...f,children:m})}function Jy(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Km(t,e,n,s){if(typeof e=="function"){const[o,l]=Jy(s);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=Jy(s);e=e(n!==void 0?n:t.custom,o,l)}return e}function fd(t){return pn(t)?t.get():t}function TA({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:PA(n,s,o,t),renderState:e()}}function PA(t,e,n,s){const o={},l=s(t,{});for(const y in l)o[y]=fd(l[y]);let{initial:c,animate:d}=t;const h=Qd(t),f=W1(t);e&&f&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const m=p?d:c;if(m&&typeof m!="boolean"&&!Jd(m)){const y=Array.isArray(m)?m:[m];for(let w=0;w<y.length;w++){const b=Km(t,y[w]);if(b){const{transitionEnd:j,transition:k,...N}=b;for(const E in N){let C=N[E];if(Array.isArray(C)){const A=p?C.length-1:0;C=C[A]}C!==null&&(o[E]=C)}for(const E in j)o[E]=j[E]}}}return o}const K1=t=>(e,n)=>{const s=x.useContext(Yd),o=x.useContext(Kd),l=()=>TA(t,e,s,o);return n?l():vm(l)};function Ym(t,e,n){const{style:s}=t,o={};for(const l in s)(pn(s[l])||e.style&&pn(e.style[l])||V1(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(o[l]=s[l]);return o}const RA=K1({scrapeMotionValuesFromProps:Ym,createRenderState:qm});function Y1(t,e,n){const s=Ym(t,e,n);for(const o in t)if(pn(t[o])||pn(e[o])){const l=Wo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}const DA=K1({scrapeMotionValuesFromProps:Y1,createRenderState:q1}),OA=Symbol.for("motionComponentSymbol");function So(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function FA(t,e,n){return x.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):So(n)&&(n.current=s))},[e])}const Jm=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),IA="framerAppearId",J1="data-"+Jm(IA),Q1=x.createContext({});function MA(t,e,n,s,o){const{visualElement:l}=x.useContext(Yd),c=x.useContext($1),d=x.useContext(Kd),h=x.useContext(Wm).reducedMotion,f=x.useRef(null);s=s||c.renderer,!f.current&&s&&(f.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,m=x.useContext(Q1);p&&!p.projection&&o&&(p.type==="html"||p.type==="svg")&&LA(f.current,n,o,m);const y=x.useRef(!1);x.useInsertionEffect(()=>{p&&y.current&&p.update(n,d)});const w=n[J1],b=x.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return Kb(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),b.current&&p.animationState&&p.animationState.animateChanges())}),x.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),b.current=!1),p.enteringChildren=void 0)}),p}function LA(t,e,n,s){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:X1(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&So(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:h,layoutRoot:f})}function X1(t){if(t)return t.options.allowProjection!==!1?t.projection:X1(t.parent)}function cf(t,{forwardMotionProps:e=!1}={},n,s){n&&uA(n);const o=Gm(t)?DA:RA;function l(d,h){let f;const p={...x.useContext(Wm),...d,layoutId:BA(d)},{isStatic:m}=p,y=gA(d),w=o(d,m);if(!m&&wm){$A();const b=zA(p);f=b.MeasureLayout,y.visualElement=MA(t,w,p,s,b.ProjectionNode)}return r.jsxs(Yd.Provider,{value:y,children:[f&&y.visualElement?r.jsx(f,{visualElement:y.visualElement,...p}):null,AA(t,d,FA(w,y.visualElement,h),w,m,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=x.forwardRef(l);return c[OA]=t,c}function BA({layoutId:t}){const e=x.useContext(ym).id;return e&&t!==void 0?e+"-"+t:t}function $A(t,e){x.useContext($1).strict}function zA(t){const{drag:e,layout:n}=Do;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function WA(t,e){if(typeof Proxy>"u")return cf;const n=new Map,s=(l,c)=>cf(l,c,t,e),o=(l,c)=>s(l,c);return new Proxy(o,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,cf(c,void 0,t,e)),n.get(c))})}function Z1({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function VA({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function UA(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function df(t){return t===void 0||t===1}function yp({scale:t,scaleX:e,scaleY:n}){return!df(t)||!df(e)||!df(n)}function hi(t){return yp(t)||ej(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ej(t){return Qy(t.x)||Qy(t.y)}function Qy(t){return t&&t!=="0%"}function kd(t,e,n){const s=t-n,o=e*s;return n+o}function Xy(t,e,n,s,o){return o!==void 0&&(t=kd(t,o,s)),kd(t,n,s)+e}function vp(t,e=0,n=1,s,o){t.min=Xy(t.min,e,n,s,o),t.max=Xy(t.max,e,n,s,o)}function tj(t,{x:e,y:n}){vp(t.x,e.translate,e.scale,e.originPoint),vp(t.y,n.translate,n.scale,n.originPoint)}const Zy=.999999999999,ev=1.0000000000001;function HA(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,c;for(let d=0;d<o;d++){l=n[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ko(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,tj(t,c)),s&&hi(l.latestValues)&&ko(t,l.latestValues))}e.x<ev&&e.x>Zy&&(e.x=1),e.y<ev&&e.y>Zy&&(e.y=1)}function No(t,e){t.min=t.min+e,t.max=t.max+e}function tv(t,e,n,s,o=.5){const l=Nt(t.min,t.max,o);vp(t,e,n,l,s)}function ko(t,e){tv(t.x,e.x,e.scaleX,e.scale,e.originX),tv(t.y,e.y,e.scaleY,e.scale,e.originY)}function nj(t,e){return Z1(UA(t.getBoundingClientRect(),e))}function qA(t,e,n){const s=nj(t,n),{scroll:o}=e;return o&&(No(s.x,o.offset.x),No(s.y,o.offset.y)),s}const nv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Co=()=>({x:nv(),y:nv()}),rv=()=>({min:0,max:0}),Ot=()=>({x:rv(),y:rv()}),wp={current:null},rj={current:!1};function GA(){if(rj.current=!0,!!wm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>wp.current=t.matches;t.addEventListener("change",e),e()}else wp.current=!1}const KA=new WeakMap;function YA(t,e,n){for(const s in e){const o=e[s],l=n[s];if(pn(o))t.addValue(s,o);else if(pn(l))t.addValue(s,Ro(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(s);t.addValue(s,Ro(c!==void 0?c:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const sv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class JA{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Mm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Tn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,vt.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Qd(n),this.isVariantNode=W1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const w=m[y];h[y]!==void 0&&pn(w)&&w.set(h[y])}}mount(e){this.current=e,KA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),rj.current||GA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wp.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fs(this.notifyUpdate),Fs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Vo.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&vt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Do){const n=Do[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ot()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<sv.length;s++){const o=sv[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=YA(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ro(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Yb(s)||Qb(s))?s=parseFloat(s):!sA(s)&&Is.test(n)&&(s=R1(e,n)),this.setBaseTarget(e,pn(s)?s.get():s)),pn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Km(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!pn(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new km),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){$m.render(this.render)}}class sj extends JA{constructor(){super(...arguments),this.KeyframeResolver=q_}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ij(t,{style:e,vars:n},s,o){const l=t.style;let c;for(c in e)l[c]=e[c];o?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function QA(t){return window.getComputedStyle(t)}class XA extends sj{constructor(){super(...arguments),this.type="html",this.renderInstance=ij}readValueFromInstance(e,n){if(Vo.has(n))return this.projection?.isProjecting?up(n):u_(e,n);{const s=QA(e),o=(_m(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return nj(e,n)}build(e,n,s){Hm(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Ym(e,n,s)}}const oj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ZA(t,e,n,s){ij(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(oj.has(o)?o:Jm(o),e.attrs[o])}class eT extends sj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ot}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vo.has(n)){const s=P1(n);return s&&s.default||0}return n=oj.has(n)?n:Jm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Y1(e,n,s)}build(e,n,s){H1(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){ZA(e,n,s,o)}mount(e){this.isSVGTag=G1(e.tagName),super.mount(e)}}const tT=(t,e)=>Gm(t)?new eT(e):new XA(e,{allowProjection:t!==x.Fragment});function Eo(t,e,n){const s=t.getProps();return Km(s,e,n!==void 0?n:s.custom,t)}const bp=t=>Array.isArray(t);function nT(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ro(n))}function rT(t){return bp(t)?t[t.length-1]||0:t}function sT(t,e){const n=Eo(t,e);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const c in l){const d=rT(l[c]);nT(t,c,d)}}function iT(t){return!!(pn(t)&&t.add)}function jp(t,e){const n=t.getValue("willChange");if(iT(n))return n.add(e);if(!n&&ns.WillChange){const s=new ns.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function aj(t){return t.props[J1]}const oT=t=>t!==null;function aT(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(oT),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}const lT={type:"spring",stiffness:500,damping:25,restSpeed:10},cT=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dT={type:"keyframes",duration:.8},uT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hT=(t,{keyframes:e})=>e.length>2?dT:Vo.has(t)?t.startsWith("scale")?cT(e[1]):lT:uT;function fT({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const Qm=(t,e,n,s={},o,l)=>c=>{const d=Lm(s,t)||{},h=d.delay||s.delay||0;let{elapsed:f=0}=s;f=f-Dr(h);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-f,onUpdate:y=>{e.set(y),d.onUpdate&&d.onUpdate(y)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};fT(d)||Object.assign(p,hT(t,p)),p.duration&&(p.duration=Dr(p.duration)),p.repeatDelay&&(p.repeatDelay=Dr(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(gp(p),p.delay===0&&(m=!0)),(ns.instantAnimations||ns.skipAnimations)&&(m=!0,gp(p),p.delay=0),p.allowFlatten=!d.type&&!d.ease,m&&!l&&e.get()!==void 0){const y=aT(p.keyframes,d);if(y!==void 0){vt.update(()=>{p.onUpdate(y),p.onComplete()});return}}return d.isSync?new Im(p):new O_(p)};function pT({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function lj(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const h=[],f=o&&t.animationState&&t.animationState.getState()[o];for(const p in d){const m=t.getValue(p,t.latestValues[p]??null),y=d[p];if(y===void 0||f&&pT(f,p))continue;const w={delay:n,...Lm(l||{},p)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===b&&!w.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const N=aj(t);if(N){const E=window.MotionHandoffAnimation(N,p,vt);E!==null&&(w.startTime=E,j=!0)}}jp(t,p),m.start(Qm(p,m,y,t.shouldReduceMotion&&_1.has(p)?{type:!1}:w,t,j));const k=m.animation;k&&h.push(k)}return c&&Promise.all(h).then(()=>{vt.update(()=>{c&&sT(t,c)})}),h}function cj(t,e,n,s=0,o=1){const l=Array.from(t).sort((f,p)=>f.sortNodePosition(p)).indexOf(e),c=t.size,d=(c-1)*s;return typeof n=="function"?n(l,c):o===1?l*s:d-l*s}function Sp(t,e,n={}){const s=Eo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(lj(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=o;return mT(t,e,h,f,p,m,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[h,f]=d==="beforeChildren"?[l,c]:[c,l];return h().then(()=>f())}else return Promise.all([l(),c(n.delay)])}function mT(t,e,n=0,s=0,o=0,l=1,c){const d=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),d.push(Sp(h,e,{...c,delay:n+(typeof s=="function"?0:s)+cj(t.variantChildren,h,s,o,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(d)}function gT(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>Sp(t,l,n));s=Promise.all(o)}else if(typeof e=="string")s=Sp(t,e,n);else{const o=typeof e=="function"?Eo(t,e,n.custom):e;s=Promise.all(lj(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function dj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const xT=Um.length;function uj(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?uj(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<xT;n++){const s=Um[n],o=t.props[s];(nl(o)||o===!1)&&(e[s]=o)}return e}const yT=[...Vm].reverse(),vT=Vm.length;function wT(t){return e=>Promise.all(e.map(({animation:n,options:s})=>gT(t,n,s)))}function bT(t){let e=wT(t),n=iv(),s=!0;const o=h=>(f,p)=>{const m=Eo(t,p,h==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:y,transitionEnd:w,...b}=m;f={...f,...b,...w}}return f};function l(h){e=h(t)}function c(h){const{props:f}=t,p=uj(t.parent)||{},m=[],y=new Set;let w={},b=1/0;for(let k=0;k<vT;k++){const N=yT[k],E=n[N],C=f[N]!==void 0?f[N]:p[N],A=nl(C),O=N===h?E.isActive:null;O===!1&&(b=k);let L=C===p[N]&&C!==f[N]&&A;if(L&&s&&t.manuallyAnimateOnMount&&(L=!1),E.protectedKeys={...w},!E.isActive&&O===null||!C&&!E.prevProp||Jd(C)||typeof C=="boolean")continue;const B=jT(E.prevProp,C);let R=B||N===h&&E.isActive&&!L&&A||k>b&&A,z=!1;const X=Array.isArray(C)?C:[C];let ae=X.reduce(o(N),{});O===!1&&(ae={});const{prevResolvedValues:K={}}=E,te={...K,...ae},ee=M=>{R=!0,y.has(M)&&(z=!0,y.delete(M)),E.needsAnimating[M]=!0;const T=t.getValue(M);T&&(T.liveStyle=!1)};for(const M in te){const T=ae[M],F=K[M];if(w.hasOwnProperty(M))continue;let q=!1;bp(T)&&bp(F)?q=!dj(T,F):q=T!==F,q?T!=null?ee(M):y.add(M):T!==void 0&&y.has(M)?ee(M):E.protectedKeys[M]=!0}E.prevProp=C,E.prevResolvedValues=ae,E.isActive&&(w={...w,...ae}),s&&t.blockInitialAnimation&&(R=!1);const re=L&&B;R&&(!re||z)&&m.push(...X.map(M=>{const T={type:N};if(typeof M=="string"&&s&&!re&&t.manuallyAnimateOnMount&&t.parent){const{parent:F}=t,q=Eo(F,M);if(F.enteringChildren&&q){const{delayChildren:D}=q.transition||{};T.delay=cj(F.enteringChildren,t,D)}}return{animation:M,options:T}}))}if(y.size){const k={};if(typeof f.initial!="boolean"){const N=Eo(t,Array.isArray(f.initial)?f.initial[0]:f.initial);N&&N.transition&&(k.transition=N.transition)}y.forEach(N=>{const E=t.getBaseTarget(N),C=t.getValue(N);C&&(C.liveStyle=!0),k[N]=E??null}),m.push({animation:k})}let j=!!m.length;return s&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(j=!1),s=!1,j?e(m):Promise.resolve()}function d(h,f){if(n[h].isActive===f)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(h,f)),n[h].isActive=f;const p=c(h);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=iv()}}}function jT(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!dj(e,t):!1}function li(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iv(){return{animate:li(!0),whileInView:li(),whileHover:li(),whileTap:li(),whileDrag:li(),whileFocus:li(),exit:li()}}class zs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ST extends zs{constructor(e){super(e),e.animationState||(e.animationState=bT(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let NT=0;class kT extends zs{constructor(){super(...arguments),this.id=NT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const CT={animation:{Feature:ST},exit:{Feature:kT}};function sl(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function wl(t){return{point:{x:t.pageX,y:t.pageY}}}const ET=t=>e=>zm(e)&&t(e,wl(e));function Ha(t,e,n,s){return sl(t,e,ET(n),s)}const hj=1e-4,_T=1-hj,AT=1+hj,fj=.01,TT=0-fj,PT=0+fj;function bn(t){return t.max-t.min}function RT(t,e,n){return Math.abs(t-e)<=n}function ov(t,e,n,s=.5){t.origin=s,t.originPoint=Nt(e.min,e.max,t.origin),t.scale=bn(n)/bn(e),t.translate=Nt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_T&&t.scale<=AT||isNaN(t.scale))&&(t.scale=1),(t.translate>=TT&&t.translate<=PT||isNaN(t.translate))&&(t.translate=0)}function qa(t,e,n,s){ov(t.x,e.x,n.x,s?s.originX:void 0),ov(t.y,e.y,n.y,s?s.originY:void 0)}function av(t,e,n){t.min=n.min+e.min,t.max=t.min+bn(e)}function DT(t,e,n){av(t.x,e.x,n.x),av(t.y,e.y,n.y)}function lv(t,e,n){t.min=e.min-n.min,t.max=t.min+bn(e)}function Ga(t,e,n){lv(t.x,e.x,n.x),lv(t.y,e.y,n.y)}function Xn(t){return[t("x"),t("y")]}const pj=({current:t})=>t?t.ownerDocument.defaultView:null,cv=(t,e)=>Math.abs(t-e);function OT(t,e){const n=cv(t.x,e.x),s=cv(t.y,e.y);return Math.sqrt(n**2+s**2)}class mj{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=hf(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,b=OT(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!b)return;const{point:j}=y,{timestamp:k}=nn;this.history.push({...j,timestamp:k});const{onStart:N,onMove:E}=this.handlers;w||(N&&N(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=uf(w,this.transformPagePoint),vt.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:b,onSessionEnd:j,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=hf(y.type==="pointercancel"?this.lastMoveEventInfo:uf(w,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,N),j&&j(y,N)},!zm(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const d=wl(e),h=uf(d,this.transformPagePoint),{point:f}=h,{timestamp:p}=nn;this.history=[{...f,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,hf(h,this.history)),this.removeListeners=xl(Ha(this.contextWindow,"pointermove",this.handlePointerMove),Ha(this.contextWindow,"pointerup",this.handlePointerUp),Ha(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fs(this.updatePoint)}}function uf(t,e){return e?{point:e(t.point)}:t}function dv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hf({point:t},e){return{point:t,delta:dv(t,gj(e)),offset:dv(t,FT(e)),velocity:IT(e,.1)}}function FT(t){return t[0]}function gj(t){return t[t.length-1]}function IT(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=gj(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>Dr(e)));)n--;if(!s)return{x:0,y:0};const l=tr(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function MT(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Nt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Nt(n,t,s.max):Math.min(t,n)),t}function uv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function LT(t,{top:e,left:n,bottom:s,right:o}){return{x:uv(t.x,n,o),y:uv(t.y,e,s)}}function hv(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function BT(t,e){return{x:hv(t.x,e.x),y:hv(t.y,e.y)}}function $T(t,e){let n=.5;const s=bn(t),o=bn(e);return o>s?n=Za(e.min,e.max-s,t.min):s>o&&(n=Za(t.min,t.max-o,e.min)),ts(0,1,n)}function zT(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Np=.35;function WT(t=Np){return t===!1?t=0:t===!0&&(t=Np),{x:fv(t,"left","right"),y:fv(t,"top","bottom")}}function fv(t,e,n){return{min:pv(t,e),max:pv(t,n)}}function pv(t,e){return typeof t=="number"?t:t[e]||0}const VT=new WeakMap;class UT{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ot(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wl(m).point)},c=(m,y)=>{const{drag:w,dragPropagation:b,onDragStart:j}=this.getProps();if(w&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=J_(w),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(N=>{let E=this.getAxisMotionValue(N).get()||0;if(Or.test(E)){const{projection:C}=this.visualElement;if(C&&C.layout){const A=C.layout.layoutBox[N];A&&(E=bn(A)*(parseFloat(E)/100))}}this.originPoint[N]=E}),j&&vt.postRender(()=>j(m,y)),jp(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y;const{dragPropagation:w,dragDirectionLock:b,onDirectionLock:j,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:N}=y;if(b&&this.currentDirection===null){this.currentDirection=HT(N),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",y.point,N),this.updateAxis("y",y.point,N),this.visualElement.render(),k&&k(m,y)},h=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y,this.stop(m,y),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Xn(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new mj(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:pj(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&vt.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!Bc(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=MT(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&So(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=LT(s.layoutBox,e):this.constraints=!1,this.elastic=WT(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Xn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=zT(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!So(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=qA(s,o.root,this.visualElement.getTransformPagePoint());let c=BT(o.layout.layoutBox,l);if(n){const d=n(VA(c));this.hasMutatedConstraints=!!d,d&&(c=Z1(d))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},f=Xn(p=>{if(!Bc(p,n,this.currentDirection))return;let m=h&&h[p]||{};c&&(m={min:0,max:0});const y=o?200:1e6,w=o?40:1e7,b={type:"inertia",velocity:s?e[p]:0,bounceStiffness:y,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...m};return this.startAxisValueAnimation(p,b)});return Promise.all(f).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return jp(this.visualElement,e),s.start(Qm(e,s,0,n,this.visualElement,!1))}stopAnimation(){Xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Xn(n=>{const{drag:s}=this.getProps();if(!Bc(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];l.set(e[n]-Nt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!So(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Xn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();o[c]=$T({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Xn(c=>{if(!Bc(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:f}=this.constraints[c];d.set(Nt(h,f,o[c]))})}addListeners(){if(!this.visualElement.current)return;VT.set(this.visualElement,this);const e=this.visualElement.current,n=Ha(e,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();So(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),vt.read(s);const c=sl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Xn(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=h[p].translate,m.set(m.get()+h[p].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=Np,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Bc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function HT(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qT extends zs{constructor(e){super(e),this.removeGroupControls=nr,this.removeListeners=nr,this.controls=new UT(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nr}unmount(){this.removeGroupControls(),this.removeListeners()}}const mv=t=>(e,n)=>{t&&vt.postRender(()=>t(e,n))};class GT extends zs{constructor(){super(...arguments),this.removePointerDownListener=nr}onPointerDown(e){this.session=new mj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:mv(e),onStart:mv(n),onMove:s,onEnd:(l,c)=>{delete this.session,o&&vt.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Ha(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const pd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Da={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ze.test(t))t=parseFloat(t);else return t;const n=gv(t,e.target.x),s=gv(t,e.target.y);return`${n}% ${s}%`}},KT={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=Is.parse(t);if(o.length>5)return s;const l=Is.createTransformer(t),c=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;o[0+c]/=d,o[1+c]/=h;const f=Nt(d,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=f),typeof o[3+c]=="number"&&(o[3+c]/=f),l(o)}};let ff=!1;class YT extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;xA(JT),l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),ff&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),pd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,ff=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||vt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$m.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;ff=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xj(t){const[e,n]=B1(),s=x.useContext(ym);return r.jsx(YT,{...t,layoutGroup:s,switchLayoutGroup:x.useContext(Q1),isPresent:e,safeToRemove:n})}const JT={borderRadius:{...Da,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Da,borderTopRightRadius:Da,borderBottomLeftRadius:Da,borderBottomRightRadius:Da,boxShadow:KT};function QT(t,e,n){const s=pn(t)?t:Ro(t);return s.start(Qm("",s,e,n)),s.animation}const XT=(t,e)=>t.depth-e.depth;class ZT{constructor(){this.children=[],this.isDirty=!1}add(e){bm(this.children,e),this.isDirty=!0}remove(e){jm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XT),this.isDirty=!1,this.children.forEach(e)}}function e4(t,e){const n=Tn.now(),s=({timestamp:o})=>{const l=o-n;l>=e&&(Fs(s),t(l-e))};return vt.setup(s,!0),()=>Fs(s)}const yj=["TopLeft","TopRight","BottomLeft","BottomRight"],t4=yj.length,xv=t=>typeof t=="string"?parseFloat(t):t,yv=t=>typeof t=="number"||ze.test(t);function n4(t,e,n,s,o,l){o?(t.opacity=Nt(0,n.opacity??1,r4(s)),t.opacityExit=Nt(e.opacity??1,0,s4(s))):l&&(t.opacity=Nt(e.opacity??1,n.opacity??1,s));for(let c=0;c<t4;c++){const d=`border${yj[c]}Radius`;let h=vv(e,d),f=vv(n,d);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||yv(h)===yv(f)?(t[d]=Math.max(Nt(xv(h),xv(f),s),0),(Or.test(f)||Or.test(h))&&(t[d]+="%")):t[d]=f}(e.rotate||n.rotate)&&(t.rotate=Nt(e.rotate||0,n.rotate||0,s))}function vv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const r4=vj(0,.5,i1),s4=vj(.5,.95,nr);function vj(t,e,n){return s=>s<t?0:s>e?1:n(Za(t,e,s))}function wv(t,e){t.min=e.min,t.max=e.max}function Qn(t,e){wv(t.x,e.x),wv(t.y,e.y)}function bv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function jv(t,e,n,s,o){return t-=e,t=kd(t,1/n,s),o!==void 0&&(t=kd(t,1/o,s)),t}function i4(t,e=0,n=1,s=.5,o,l=t,c=t){if(Or.test(e)&&(e=parseFloat(e),e=Nt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Nt(l.min,l.max,s);t===l&&(d-=e),t.min=jv(t.min,e,n,d,o),t.max=jv(t.max,e,n,d,o)}function Sv(t,e,[n,s,o],l,c){i4(t,e[n],e[s],e[o],e.scale,l,c)}const o4=["x","scaleX","originX"],a4=["y","scaleY","originY"];function Nv(t,e,n,s){Sv(t.x,e,o4,n?n.x:void 0,s?s.x:void 0),Sv(t.y,e,a4,n?n.y:void 0,s?s.y:void 0)}function kv(t){return t.translate===0&&t.scale===1}function wj(t){return kv(t.x)&&kv(t.y)}function Cv(t,e){return t.min===e.min&&t.max===e.max}function l4(t,e){return Cv(t.x,e.x)&&Cv(t.y,e.y)}function Ev(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function bj(t,e){return Ev(t.x,e.x)&&Ev(t.y,e.y)}function _v(t){return bn(t.x)/bn(t.y)}function Av(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class c4{constructor(){this.members=[]}add(e){bm(this.members,e),e.scheduleRender()}remove(e){if(jm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function d4(t,e,n){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((o||l||c)&&(s=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:m,rotateY:y,skewX:w,skewY:b}=n;f&&(s=`perspective(${f}px) ${s}`),p&&(s+=`rotate(${p}deg) `),m&&(s+=`rotateX(${m}deg) `),y&&(s+=`rotateY(${y}deg) `),w&&(s+=`skewX(${w}deg) `),b&&(s+=`skewY(${b}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(s+=`scale(${d}, ${h})`),s||"none"}const pf=["","X","Y","Z"],u4=1e3;let h4=0;function mf(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function jj(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=aj(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",vt,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&jj(s)}function Sj({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=e?.()){this.id=h4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(m4),this.nodes.forEach(v4),this.nodes.forEach(w4),this.nodes.forEach(g4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZT)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new km),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=L1(c)&&!nA(c),this.instance=c;const{layoutId:d,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let p,m=0;const y=()=>this.root.updateBlockedByResize=!1;vt.read(()=>{m=window.innerWidth}),t(c,()=>{const w=window.innerWidth;w!==m&&(m=w,this.root.updateBlockedByResize=!0,p&&p(),p=e4(y,250),pd.hasAnimatedSinceResize&&(pd.hasAnimatedSinceResize=!1,this.nodes.forEach(Rv)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&f&&(d||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||k4,{onLayoutAnimationStart:j,onLayoutAnimationComplete:k}=f.getProps(),N=!this.targetLayout||!bj(this.targetLayout,w),E=!m&&y;if(this.options.layoutRoot||this.resumeFrom||E||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...Lm(b,"layout"),onPlay:j,onComplete:k};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(p,E)}else m||Rv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b4),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Tv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Pv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(y4),this.nodes.forEach(f4),this.nodes.forEach(p4)):this.nodes.forEach(Pv),this.clearAllSnapshots();const d=Tn.now();nn.delta=ts(0,1e3/60,d-nn.timestamp),nn.timestamp=d,nn.isProcessing=!0,nf.update.process(nn),nf.preRender.process(nn),nf.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$m.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(x4),this.sharedNodes.forEach(j4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!bn(this.snapshot.measuredBox.x)&&!bn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!wj(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;c&&this.instance&&(d||hi(this.latestValues)||p)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),C4(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ot();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(E4))){const{scroll:f}=this.root;f&&(No(d.x,f.offset.x),No(d.y,f.offset.y))}return d}removeElementScroll(c){const d=Ot();if(Qn(d,c),this.scroll?.wasRoot)return d;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&Qn(d,c),No(d.x,p.offset.x),No(d.y,p.offset.y))}return d}applyTransform(c,d=!1){const h=Ot();Qn(h,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ko(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),hi(p.latestValues)&&ko(h,p.latestValues)}return hi(this.latestValues)&&ko(h,this.latestValues),h}removeTransform(c){const d=Ot();Qn(d,c);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!hi(f.latestValues))continue;yp(f.latestValues)&&f.updateSnapshot();const p=Ot(),m=f.measurePageBox();Qn(p,m),Nv(d,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return hi(this.latestValues)&&Nv(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),Ga(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ot(),this.targetWithTransforms=Ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qn(this.target,this.layout.layoutBox),tj(this.target,this.targetDelta)):Qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),Ga(this.relativeTargetOrigin,this.target,y.target),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yp(this.parent.latestValues)||ej(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Qn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;HA(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ot());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bv(this.prevProjectionDelta.x,this.projectionDelta.x),bv(this.prevProjectionDelta.y,this.projectionDelta.y)),qa(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!Av(this.projectionDelta.x,this.prevProjectionDelta.x)||!Av(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Co(),this.projectionDelta=Co(),this.projectionDeltaWithTransform=Co()}setAnimationOrigin(c,d=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},m=Co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const y=Ot(),w=h?h.source:void 0,b=this.layout?this.layout.source:void 0,j=w!==b,k=this.getStack(),N=!k||k.members.length<=1,E=!!(j&&!N&&this.options.crossfade===!0&&!this.path.some(N4));this.animationProgress=0;let C;this.mixTargetDelta=A=>{const O=A/1e3;Dv(m.x,c.x,O),Dv(m.y,c.y,O),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ga(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),S4(this.relativeTarget,this.relativeTargetOrigin,y,O),C&&l4(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Ot()),Qn(C,this.relativeTarget)),j&&(this.animationValues=p,n4(p,f,this.latestValues,O,E,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Fs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vt.update(()=>{pd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ro(0)),this.currentAnimation=QT(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(u4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:f,latestValues:p}=c;if(!(!d||!h||!f)){if(this!==c&&this.layout&&f&&Nj(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Ot();const m=bn(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+m;const y=bn(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+y}Qn(d,h),ko(d,p),qa(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new c4),this.sharedNodes.get(c).add(d);const f=d.options.initialPromotionConfig;d.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const f={};h.z&&mf("z",c,f,this.animationValues);for(let p=0;p<pf.length;p++)mf(`rotate${pf[p]}`,c,f,this.animationValues),mf(`skew${pf[p]}`,c,f,this.animationValues);c.render();for(const p in f)c.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=fd(d?.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=fd(d?.pointerEvents)||""),this.hasProjected&&!hi(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=d4(this.projectionDeltaWithTransform,this.treeScale,p);h&&(m=h(p,m)),c.transform=m;const{x:y,y:w}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${w.origin*100}% 0`,f.animationValues?c.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in rl){if(p[b]===void 0)continue;const{correct:j,applyTo:k,isCSSVariable:N}=rl[b],E=m==="none"?p[b]:j(p[b],f);if(k){const C=k.length;for(let A=0;A<C;A++)c[k[A]]=E}else N?this.options.visualElement.renderState.vars[b]=E:c[b]=E}this.options.layoutId&&(c.pointerEvents=f===this?fd(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Tv),this.root.sharedNodes.clear()}}}function f4(t){t.updateLayout()}function p4(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?Xn(p=>{const m=l?e.measuredBox[p]:e.layoutBox[p],y=bn(m);m.min=n[p].min,m.max=m.min+y}):Nj(o,e.layoutBox,n)&&Xn(p=>{const m=l?e.measuredBox[p]:e.layoutBox[p],y=bn(n[p]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const c=Co();qa(c,n,e.layoutBox);const d=Co();l?qa(d,t.applyTransform(s,!0),e.measuredBox):qa(d,n,e.layoutBox);const h=!wj(c);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const w=Ot();Ga(w,e.layoutBox,m.layoutBox);const b=Ot();Ga(b,n,y.layoutBox),bj(w,b)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=w,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function m4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function g4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function x4(t){t.clearSnapshot()}function Tv(t){t.clearMeasurements()}function Pv(t){t.isLayoutDirty=!1}function y4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Rv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function v4(t){t.resolveTargetDelta()}function w4(t){t.calcProjection()}function b4(t){t.resetSkewAndRotation()}function j4(t){t.removeLeadSnapshot()}function Dv(t,e,n){t.translate=Nt(e.translate,0,n),t.scale=Nt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ov(t,e,n,s){t.min=Nt(e.min,n.min,s),t.max=Nt(e.max,n.max,s)}function S4(t,e,n,s){Ov(t.x,e.x,n.x,s),Ov(t.y,e.y,n.y,s)}function N4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const k4={duration:.45,ease:[.4,0,.1,1]},Fv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Iv=Fv("applewebkit/")&&!Fv("chrome/")?Math.round:nr;function Mv(t){t.min=Iv(t.min),t.max=Iv(t.max)}function C4(t){Mv(t.x),Mv(t.y)}function Nj(t,e,n){return t==="position"||t==="preserve-aspect"&&!RT(_v(e),_v(n),.2)}function E4(t){return t!==t.root&&t.scroll?.wasRoot}const _4=Sj({attachResizeListener:(t,e)=>sl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gf={current:void 0},kj=Sj({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gf.current){const t=new _4({});t.mount(window),t.setOptions({layoutScroll:!0}),gf.current=t}return gf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),A4={pan:{Feature:GT},drag:{Feature:qT,ProjectionNode:kj,MeasureLayout:xj}};function Lv(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&vt.postRender(()=>l(e,wl(e)))}class T4 extends zs{mount(){const{current:e}=this.node;e&&(this.unmount=Q_(e,(n,s)=>(Lv(this.node,s,"Start"),o=>Lv(this.node,o,"End"))))}unmount(){}}class P4 extends zs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xl(sl(this.node.current,"focus",()=>this.onFocus()),sl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Bv(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&vt.postRender(()=>l(e,wl(e)))}class R4 extends zs{mount(){const{current:e}=this.node;e&&(this.unmount=tA(e,(n,s)=>(Bv(this.node,s,"Start"),(o,{success:l})=>Bv(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kp=new WeakMap,xf=new WeakMap,D4=t=>{const e=kp.get(t.target);e&&e(t)},O4=t=>{t.forEach(D4)};function F4({root:t,...e}){const n=t||document;xf.has(n)||xf.set(n,{});const s=xf.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(O4,{root:t,...e})),s[o]}function I4(t,e,n){const s=F4(e);return kp.set(t,n),s.observe(t),()=>{kp.delete(t),s.unobserve(t)}}const M4={some:0,all:1};class L4 extends zs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:M4[o]},d=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),y=f?p:m;y&&y(h)};return I4(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(B4(e,n))&&this.startObserver()}unmount(){}}function B4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const $4={inView:{Feature:L4},tap:{Feature:R4},focus:{Feature:P4},hover:{Feature:T4}},z4={layout:{ProjectionNode:kj,MeasureLayout:xj}},W4={...CT,...$4,...A4,...z4},P=WA(W4,tT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),$v=t=>{const e=U4(t);return e.charAt(0).toUpperCase()+e.slice(1)},Cj=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...d},h)=>x.createElement("svg",{ref:h,...H4,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:Cj("lucide",o),...d},[...c.map(([f,p])=>x.createElement(f,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(t,e)=>{const n=x.forwardRef(({className:s,...o},l)=>x.createElement(q4,{ref:l,iconNode:e,className:Cj(`lucide-${V4($v(t))}`,`lucide-${t}`,s),...o}));return n.displayName=$v(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ir=ye("arrow-left",G4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ej=ye("arrow-right",K4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],J4=ye("award",Y4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Xr=ye("book-open",Q4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],_j=ye("book",X4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],e3=ye("bookmark",Z4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Cp=ye("bot",t3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bl=ye("calendar",n3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],s3=ye("camera",r3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jl=ye("check",i3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yr=ye("chevron-down",o3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ep=ye("chevron-left",a3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ms=ye("chevron-right",l3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Xm=ye("chevron-up",c3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rn=ye("circle-check-big",d3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Aj=ye("circle-check",u3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],zv=ye("circle-play",h3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Zm=ye("circle-x",f3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],m3=ye("circle",p3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Oo=ye("clock",g3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],y3=ye("cloud-off",x3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],w3=ye("cloud",v3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],j3=ye("download",b3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],N3=ye("ellipsis-vertical",S3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],il=ye("eye-off",k3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_o=ye("eye",C3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3 15 2 2 4-4",key:"1lhrkk"}]],Tj=ye("file-check-2",E3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],_p=ye("file-text",_3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"m9 13 2 2 4-4",key:"6343dt"}]],T3=ye("folder-check",A3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Pj=ye("folder-plus",P3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],D3=ye("gamepad-2",R3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Cd=ye("gift",O3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ap=ye("heart",F3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Di=ye("house",I3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],$c=ye("key",M3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],B3=ye("layers",L3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],z3=ye("layout-dashboard",$3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Rj=ye("layout-grid",W3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],U3=ye("library",V3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Dj=ye("lightbulb",H3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],G3=ye("link-2",q3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],Oj=ye("list-checks",K3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],J3=ye("list",Y3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Tp=ye("loader-circle",Q3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Z3=ye("loader",X3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ed=ye("lock",eP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],nP=ye("log-out",tP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Fj=ye("mail",rP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],iP=ye("maximize",sP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],aP=ye("medal",oP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ij=ye("message-square",lP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],_d=ye("pause",cP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],uP=ye("pen",dP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Ci=ye("play",hP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fo=ye("plus",fP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],mP=ye("printer",pP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],La=ye("puzzle",gP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],eg=ye("rotate-ccw",xP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]],Mj=ye("rows-3",yP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wP=ye("save",vP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],tg=ye("search",bP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],SP=ye("send",jP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Lj=ye("settings",NP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],CP=ye("share-2",kP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],_P=ye("shield",EP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],TP=ye("shopping-cart",AP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],ng=ye("shuffle",PP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Pp=ye("skull",RP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],OP=ye("smile",DP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],rn=ye("sparkles",FP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Wv=ye("square-pen",IP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],LP=ye("square",MP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Mr=ye("star",BP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],Bj=ye("table-2",$P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Pn=ye("target",zP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],VP=ye("thumbs-down",WP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],HP=ye("thumbs-up",UP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Vv=ye("timer",qP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ol=ye("trash-2",GP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],$j=ye("trending-up",KP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Pr=ye("trophy",YP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],QP=ye("undo-2",JP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ZP=ye("upload",XP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],t6=ye("user-plus",e6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zj=ye("user",n6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],rg=ye("users",r6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],sg=ye("volume-2",s6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bn=ye("x",i6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Os=ye("zap",o6);function jr({onClick:t}){return r.jsx(P.button,{whileTap:{scale:.95},onClick:t,className:"w-11 h-11 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/40",style:{minWidth:"44px",minHeight:"44px"},children:r.jsx(Ir,{className:"w-5 h-5 text-[#491B6D]"})})}function Sl({onBack:t,title:e,subtitle:n,rightElement:s}){return r.jsx("div",{className:"sticky top-0 z-40 backdrop-blur-lg flex-shrink-0",style:{background:"transparent"},children:r.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 md:p-8 gap-2 sm:gap-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(jr,{onClick:t})}),r.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[r.jsx("h1",{className:"text-[#091A7A] text-center truncate max-w-full",style:{fontSize:"18px",fontWeight:600},children:e}),n&&r.jsx("p",{className:"text-[#6B7280] text-center truncate max-w-full",style:{fontSize:"12px",fontWeight:500},children:n})]}),r.jsx("div",{className:"flex-shrink-0",children:s||r.jsx("div",{className:"w-11 h-11"})})]})})}function Wj(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=Wj(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Vj(){for(var t,e,n=0,s="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=Wj(t))&&(s&&(s+=" "),s+=e);return s}const a6=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},l6=(t,e)=>({classGroupId:t,validator:e}),Uj=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Ad="-",Uv=[],c6="arbitrary..",d6=t=>{const e=h6(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return u6(c);const d=c.split(Ad),h=d[0]===""&&d.length>1?1:0;return Hj(d,h,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const h=s[c],f=n[c];return h?f?a6(f,h):h:f||Uv}return n[c]||Uv}}},Hj=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const o=t[e],l=n.nextPart.get(o);if(l){const f=Hj(t,e+1,l);if(f)return f}const c=n.validators;if(c===null)return;const d=e===0?t.join(Ad):t.slice(e).join(Ad),h=c.length;for(let f=0;f<h;f++){const p=c[f];if(p.validator(d))return p.classGroupId}},u6=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?c6+s:void 0})(),h6=t=>{const{theme:e,classGroups:n}=t;return f6(n,e)},f6=(t,e)=>{const n=Uj();for(const s in t){const o=t[s];ig(o,n,s,e)}return n},ig=(t,e,n,s)=>{const o=t.length;for(let l=0;l<o;l++){const c=t[l];p6(c,e,n,s)}},p6=(t,e,n,s)=>{if(typeof t=="string"){m6(t,e,n);return}if(typeof t=="function"){g6(t,e,n,s);return}x6(t,e,n,s)},m6=(t,e,n)=>{const s=t===""?e:qj(e,t);s.classGroupId=n},g6=(t,e,n,s)=>{if(y6(t)){ig(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(l6(n,t))},x6=(t,e,n,s)=>{const o=Object.entries(t),l=o.length;for(let c=0;c<l;c++){const[d,h]=o[c];ig(h,qj(e,d),n,s)}},qj=(t,e)=>{let n=t;const s=e.split(Ad),o=s.length;for(let l=0;l<o;l++){const c=s[l];let d=n.nextPart.get(c);d||(d=Uj(),n.nextPart.set(c,d)),n=d}return n},y6=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,v6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const o=(l,c)=>{n[l]=c,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=s[l])!==void 0)return o(l,c),c},set(l,c){l in n?n[l]=c:o(l,c)}}},Rp="!",Hv=":",w6=[],qv=(t,e,n,s,o)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:o}),b6=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=o=>{const l=[];let c=0,d=0,h=0,f;const p=o.length;for(let j=0;j<p;j++){const k=o[j];if(c===0&&d===0){if(k===Hv){l.push(o.slice(h,j)),h=j+1;continue}if(k==="/"){f=j;continue}}k==="["?c++:k==="]"?c--:k==="("?d++:k===")"&&d--}const m=l.length===0?o:o.slice(h);let y=m,w=!1;m.endsWith(Rp)?(y=m.slice(0,-1),w=!0):m.startsWith(Rp)&&(y=m.slice(1),w=!0);const b=f&&f>h?f-h:void 0;return qv(l,w,y,b)};if(e){const o=e+Hv,l=s;s=c=>c.startsWith(o)?l(c.slice(o.length)):qv(w6,!1,c,void 0,!0)}if(n){const o=s;s=l=>n({className:l,parseClassName:o})}return s},j6=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let o=[];for(let l=0;l<n.length;l++){const c=n[l],d=c[0]==="[",h=e.has(c);d||h?(o.length>0&&(o.sort(),s.push(...o),o=[]),s.push(c)):o.push(c)}return o.length>0&&(o.sort(),s.push(...o)),s}},S6=t=>({cache:v6(t.cacheSize),parseClassName:b6(t),sortModifiers:j6(t),...d6(t)}),N6=/\s+/,k6=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:l}=e,c=[],d=t.trim().split(N6);let h="";for(let f=d.length-1;f>=0;f-=1){const p=d[f],{isExternal:m,modifiers:y,hasImportantModifier:w,baseClassName:b,maybePostfixModifierPosition:j}=n(p);if(m){h=p+(h.length>0?" "+h:h);continue}let k=!!j,N=s(k?b.substring(0,j):b);if(!N){if(!k){h=p+(h.length>0?" "+h:h);continue}if(N=s(b),!N){h=p+(h.length>0?" "+h:h);continue}k=!1}const E=y.length===0?"":y.length===1?y[0]:l(y).join(":"),C=w?E+Rp:E,A=C+N;if(c.indexOf(A)>-1)continue;c.push(A);const O=o(N,k);for(let L=0;L<O.length;++L){const B=O[L];c.push(C+B)}h=p+(h.length>0?" "+h:h)}return h},C6=(...t)=>{let e=0,n,s,o="";for(;e<t.length;)(n=t[e++])&&(s=Gj(n))&&(o&&(o+=" "),o+=s);return o},Gj=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=Gj(t[s]))&&(n&&(n+=" "),n+=e);return n},E6=(t,...e)=>{let n,s,o,l;const c=h=>{const f=e.reduce((p,m)=>m(p),t());return n=S6(f),s=n.cache.get,o=n.cache.set,l=d,d(h)},d=h=>{const f=s(h);if(f)return f;const p=k6(h,n);return o(h,p),p};return l=c,(...h)=>l(C6(...h))},_6=[],Wt=t=>{const e=n=>n[t]||_6;return e.isThemeGetter=!0,e},Kj=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Yj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,A6=/^\d+\/\d+$/,T6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,R6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,D6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,O6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,so=t=>A6.test(t),Ke=t=>!!t&&!Number.isNaN(Number(t)),As=t=>!!t&&Number.isInteger(Number(t)),yf=t=>t.endsWith("%")&&Ke(t.slice(0,-1)),Yr=t=>T6.test(t),F6=()=>!0,I6=t=>P6.test(t)&&!R6.test(t),Jj=()=>!1,M6=t=>D6.test(t),L6=t=>O6.test(t),B6=t=>!_e(t)&&!Ae(t),$6=t=>Uo(t,Zj,Jj),_e=t=>Kj.test(t),ci=t=>Uo(t,e2,I6),vf=t=>Uo(t,H6,Ke),Gv=t=>Uo(t,Qj,Jj),z6=t=>Uo(t,Xj,L6),zc=t=>Uo(t,t2,M6),Ae=t=>Yj.test(t),Oa=t=>Ho(t,e2),W6=t=>Ho(t,q6),Kv=t=>Ho(t,Qj),V6=t=>Ho(t,Zj),U6=t=>Ho(t,Xj),Wc=t=>Ho(t,t2,!0),Uo=(t,e,n)=>{const s=Kj.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Ho=(t,e,n=!1)=>{const s=Yj.exec(t);return s?s[1]?e(s[1]):n:!1},Qj=t=>t==="position"||t==="percentage",Xj=t=>t==="image"||t==="url",Zj=t=>t==="length"||t==="size"||t==="bg-size",e2=t=>t==="length",H6=t=>t==="number",q6=t=>t==="family-name",t2=t=>t==="shadow",G6=()=>{const t=Wt("color"),e=Wt("font"),n=Wt("text"),s=Wt("font-weight"),o=Wt("tracking"),l=Wt("leading"),c=Wt("breakpoint"),d=Wt("container"),h=Wt("spacing"),f=Wt("radius"),p=Wt("shadow"),m=Wt("inset-shadow"),y=Wt("text-shadow"),w=Wt("drop-shadow"),b=Wt("blur"),j=Wt("perspective"),k=Wt("aspect"),N=Wt("ease"),E=Wt("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...A(),Ae,_e],L=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],R=()=>[Ae,_e,h],z=()=>[so,"full","auto",...R()],X=()=>[As,"none","subgrid",Ae,_e],ae=()=>["auto",{span:["full",As,Ae,_e]},As,Ae,_e],K=()=>[As,"auto",Ae,_e],te=()=>["auto","min","max","fr",Ae,_e],ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...R()],M=()=>[so,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],T=()=>[t,Ae,_e],F=()=>[...A(),Kv,Gv,{position:[Ae,_e]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",V6,$6,{size:[Ae,_e]}],V=()=>[yf,Oa,ci],W=()=>["","none","full",f,Ae,_e],se=()=>["",Ke,Oa,ci],I=()=>["solid","dashed","dotted","double"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>[Ke,yf,Kv,Gv],Z=()=>["","none",b,Ae,_e],he=()=>["none",Ke,Ae,_e],ue=()=>["none",Ke,Ae,_e],ve=()=>[Ke,Ae,_e],Ne=()=>[so,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Yr],breakpoint:[Yr],color:[F6],container:[Yr],"drop-shadow":[Yr],ease:["in","out","in-out"],font:[B6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Yr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Yr],shadow:[Yr],spacing:["px",Ke],text:[Yr],"text-shadow":[Yr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",so,_e,Ae,k]}],container:["container"],columns:[{columns:[Ke,_e,Ae,d]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[As,"auto",Ae,_e]}],basis:[{basis:[so,"full","auto",d,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ke,so,"auto","initial","none",_e]}],grow:[{grow:["",Ke,Ae,_e]}],shrink:[{shrink:["",Ke,Ae,_e]}],order:[{order:[As,"first","last","none",Ae,_e]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:ae()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:ae()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":te()}],"auto-rows":[{"auto-rows":te()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...ee(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...ee()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":ee()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:M()}],w:[{w:[d,"screen",...M()]}],"min-w":[{"min-w":[d,"screen","none",...M()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...M()]}],h:[{h:["screen","lh",...M()]}],"min-h":[{"min-h":["screen","lh","none",...M()]}],"max-h":[{"max-h":["screen","lh",...M()]}],"font-size":[{text:["base",n,Oa,ci]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ae,vf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",yf,_e]}],"font-family":[{font:[W6,_e,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ae,_e]}],"line-clamp":[{"line-clamp":[Ke,"none",Ae,vf]}],leading:[{leading:[l,...R()]}],"list-image":[{"list-image":["none",Ae,_e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ae,_e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ke,"from-font","auto",Ae,ci]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[Ke,"auto",Ae,_e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae,_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae,_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},As,Ae,_e],radial:["",Ae,_e],conic:[As,Ae,_e]},U6,z6]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...I(),"hidden","none"]}],"divide-style":[{divide:[...I(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...I(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ke,Ae,_e]}],"outline-w":[{outline:["",Ke,Oa,ci]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",p,Wc,zc]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",m,Wc,zc]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[Ke,ci]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",y,Wc,zc]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[Ke,Ae,_e]}],"mix-blend":[{"mix-blend":[...U(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":U()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":H()}],"mask-image-linear-to-pos":[{"mask-linear-to":H()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":H()}],"mask-image-t-to-pos":[{"mask-t-to":H()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":H()}],"mask-image-r-to-pos":[{"mask-r-to":H()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":H()}],"mask-image-b-to-pos":[{"mask-b-to":H()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":H()}],"mask-image-l-to-pos":[{"mask-l-to":H()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":H()}],"mask-image-x-to-pos":[{"mask-x-to":H()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":H()}],"mask-image-y-to-pos":[{"mask-y-to":H()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[Ae,_e]}],"mask-image-radial-from-pos":[{"mask-radial-from":H()}],"mask-image-radial-to-pos":[{"mask-radial-to":H()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[Ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":H()}],"mask-image-conic-to-pos":[{"mask-conic-to":H()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ae,_e]}],filter:[{filter:["","none",Ae,_e]}],blur:[{blur:Z()}],brightness:[{brightness:[Ke,Ae,_e]}],contrast:[{contrast:[Ke,Ae,_e]}],"drop-shadow":[{"drop-shadow":["","none",w,Wc,zc]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",Ke,Ae,_e]}],"hue-rotate":[{"hue-rotate":[Ke,Ae,_e]}],invert:[{invert:["",Ke,Ae,_e]}],saturate:[{saturate:[Ke,Ae,_e]}],sepia:[{sepia:["",Ke,Ae,_e]}],"backdrop-filter":[{"backdrop-filter":["","none",Ae,_e]}],"backdrop-blur":[{"backdrop-blur":Z()}],"backdrop-brightness":[{"backdrop-brightness":[Ke,Ae,_e]}],"backdrop-contrast":[{"backdrop-contrast":[Ke,Ae,_e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ke,Ae,_e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ke,Ae,_e]}],"backdrop-invert":[{"backdrop-invert":["",Ke,Ae,_e]}],"backdrop-opacity":[{"backdrop-opacity":[Ke,Ae,_e]}],"backdrop-saturate":[{"backdrop-saturate":[Ke,Ae,_e]}],"backdrop-sepia":[{"backdrop-sepia":["",Ke,Ae,_e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ae,_e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ke,"initial",Ae,_e]}],ease:[{ease:["linear","initial",N,Ae,_e]}],delay:[{delay:[Ke,Ae,_e]}],animate:[{animate:["none",E,Ae,_e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Ae,_e]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:he()}],"rotate-x":[{"rotate-x":he()}],"rotate-y":[{"rotate-y":he()}],"rotate-z":[{"rotate-z":he()}],scale:[{scale:ue()}],"scale-x":[{"scale-x":ue()}],"scale-y":[{"scale-y":ue()}],"scale-z":[{"scale-z":ue()}],"scale-3d":["scale-3d"],skew:[{skew:ve()}],"skew-x":[{"skew-x":ve()}],"skew-y":[{"skew-y":ve()}],transform:[{transform:[Ae,_e,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ne()}],"translate-x":[{"translate-x":Ne()}],"translate-y":[{"translate-y":Ne()}],"translate-z":[{"translate-z":Ne()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae,_e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae,_e]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[Ke,Oa,ci,vf]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},K6=E6(G6);function mn(...t){return K6(Vj(t))}function Td({className:t,type:e,...n}){return r.jsx("input",{type:e,"data-slot":"input",className:mn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function Y6({className:t,...e}){return r.jsx("textarea",{"data-slot":"textarea",className:mn("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function Yv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Oi(...t){return e=>{let n=!1;const s=t.map(o=>{const l=Yv(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():Yv(t[o],null)}}}}function Ct(...t){return x.useCallback(Oi(...t),t)}var J6=Symbol.for("react.lazy"),Pd=hm[" use ".trim().toString()];function Q6(t){return typeof t=="object"&&t!==null&&"then"in t}function n2(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===J6&&"_payload"in t&&Q6(t._payload)}function r2(t){const e=Z6(t),n=x.forwardRef((s,o)=>{let{children:l,...c}=s;n2(l)&&typeof Pd=="function"&&(l=Pd(l._payload));const d=x.Children.toArray(l),h=d.find(tR);if(h){const f=h.props.children,p=d.map(m=>m===h?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:m);return r.jsx(e,{...c,ref:o,children:x.isValidElement(f)?x.cloneElement(f,void 0,p):null})}return r.jsx(e,{...c,ref:o,children:l})});return n.displayName=`${t}.Slot`,n}var X6=r2("Slot");function Z6(t){const e=x.forwardRef((n,s)=>{let{children:o,...l}=n;if(n2(o)&&typeof Pd=="function"&&(o=Pd(o._payload)),x.isValidElement(o)){const c=rR(o),d=nR(l,o.props);return o.type!==x.Fragment&&(d.ref=s?Oi(s,c):c),x.cloneElement(o,d)}return x.Children.count(o)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eR=Symbol("radix.slottable");function tR(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eR}function nR(t,e){const n={...e};for(const s in e){const o=t[s],l=e[s];/^on[A-Z]/.test(s)?o&&l?n[s]=(...d)=>{const h=l(...d);return o(...d),h}:o&&(n[s]=o):s==="style"?n[s]={...o,...l}:s==="className"&&(n[s]=[o,l].filter(Boolean).join(" "))}return{...t,...n}}function rR(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Jv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Qv=Vj,sR=(t,e)=>n=>{var s;if(e?.variants==null)return Qv(t,n?.class,n?.className);const{variants:o,defaultVariants:l}=e,c=Object.keys(o).map(f=>{const p=n?.[f],m=l?.[f];if(p===null)return null;const y=Jv(p)||Jv(m);return o[f][y]}),d=n&&Object.entries(n).reduce((f,p)=>{let[m,y]=p;return y===void 0||(f[m]=y),f},{}),h=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((f,p)=>{let{class:m,className:y,...w}=p;return Object.entries(w).every(b=>{let[j,k]=b;return Array.isArray(k)?k.includes({...l,...d}[j]):{...l,...d}[j]===k})?[...f,m,y]:f},[]);return Qv(t,c,h,n?.class,n?.className)},iR=sR("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function $n({className:t,variant:e,size:n,asChild:s=!1,...o}){const l=s?X6:"button";return r.jsx(l,{"data-slot":"button",className:mn(iR({variant:e,size:n,className:t})),...o})}function Xv(t,[e,n]){return Math.min(n,Math.max(e,t))}function rt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t?.(o),n===!1||!o.defaultPrevented)return e?.(o)}}function oR(t,e){const n=x.createContext(e),s=l=>{const{children:c,...d}=l,h=x.useMemo(()=>d,Object.values(d));return r.jsx(n.Provider,{value:h,children:c})};s.displayName=t+"Provider";function o(l){const c=x.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[s,o]}function Nl(t,e=[]){let n=[];function s(l,c){const d=x.createContext(c),h=n.length;n=[...n,c];const f=m=>{const{scope:y,children:w,...b}=m,j=y?.[t]?.[h]||d,k=x.useMemo(()=>b,Object.values(b));return r.jsx(j.Provider,{value:k,children:w})};f.displayName=l+"Provider";function p(m,y){const w=y?.[t]?.[h]||d,b=x.useContext(w);if(b)return b;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${l}\``)}return[f,p]}const o=()=>{const l=n.map(c=>x.createContext(c));return function(d){const h=d?.[t]||l;return x.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return o.scopeName=t,[s,aR(o,...e)]}function aR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=s.reduce((d,{useScope:h,scopeName:f})=>{const m=h(l)[`__scope${f}`];return{...d,...m}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function Zv(t){const e=lR(t),n=x.forwardRef((s,o)=>{const{children:l,...c}=s,d=x.Children.toArray(l),h=d.find(dR);if(h){const f=h.props.children,p=d.map(m=>m===h?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:m);return r.jsx(e,{...c,ref:o,children:x.isValidElement(f)?x.cloneElement(f,void 0,p):null})}return r.jsx(e,{...c,ref:o,children:l})});return n.displayName=`${t}.Slot`,n}function lR(t){const e=x.forwardRef((n,s)=>{const{children:o,...l}=n;if(x.isValidElement(o)){const c=hR(o),d=uR(l,o.props);return o.type!==x.Fragment&&(d.ref=s?Oi(s,c):c),x.cloneElement(o,d)}return x.Children.count(o)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cR=Symbol("radix.slottable");function dR(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cR}function uR(t,e){const n={...e};for(const s in e){const o=t[s],l=e[s];/^on[A-Z]/.test(s)?o&&l?n[s]=(...d)=>{const h=l(...d);return o(...d),h}:o&&(n[s]=o):s==="style"?n[s]={...o,...l}:s==="className"&&(n[s]=[o,l].filter(Boolean).join(" "))}return{...t,...n}}function hR(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function fR(t){const e=t+"CollectionProvider",[n,s]=Nl(e),[o,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=j=>{const{scope:k,children:N}=j,E=ge.useRef(null),C=ge.useRef(new Map).current;return r.jsx(o,{scope:k,itemMap:C,collectionRef:E,children:N})};c.displayName=e;const d=t+"CollectionSlot",h=Zv(d),f=ge.forwardRef((j,k)=>{const{scope:N,children:E}=j,C=l(d,N),A=Ct(k,C.collectionRef);return r.jsx(h,{ref:A,children:E})});f.displayName=d;const p=t+"CollectionItemSlot",m="data-radix-collection-item",y=Zv(p),w=ge.forwardRef((j,k)=>{const{scope:N,children:E,...C}=j,A=ge.useRef(null),O=Ct(k,A),L=l(p,N);return ge.useEffect(()=>(L.itemMap.set(A,{ref:A,...C}),()=>void L.itemMap.delete(A))),r.jsx(y,{[m]:"",ref:O,children:E})});w.displayName=p;function b(j){const k=l(t+"CollectionConsumer",j);return ge.useCallback(()=>{const E=k.collectionRef.current;if(!E)return[];const C=Array.from(E.querySelectorAll(`[${m}]`));return Array.from(k.itemMap.values()).sort((L,B)=>C.indexOf(L.ref.current)-C.indexOf(B.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:c,Slot:f,ItemSlot:w},b,s]}var pR=x.createContext(void 0);function mR(t){const e=x.useContext(pR);return t||e||"ltr"}function gR(t){const e=xR(t),n=x.forwardRef((s,o)=>{const{children:l,...c}=s,d=x.Children.toArray(l),h=d.find(vR);if(h){const f=h.props.children,p=d.map(m=>m===h?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:m);return r.jsx(e,{...c,ref:o,children:x.isValidElement(f)?x.cloneElement(f,void 0,p):null})}return r.jsx(e,{...c,ref:o,children:l})});return n.displayName=`${t}.Slot`,n}function xR(t){const e=x.forwardRef((n,s)=>{const{children:o,...l}=n;if(x.isValidElement(o)){const c=bR(o),d=wR(l,o.props);return o.type!==x.Fragment&&(d.ref=s?Oi(s,c):c),x.cloneElement(o,d)}return x.Children.count(o)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var yR=Symbol("radix.slottable");function vR(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yR}function wR(t,e){const n={...e};for(const s in e){const o=t[s],l=e[s];/^on[A-Z]/.test(s)?o&&l?n[s]=(...d)=>{const h=l(...d);return o(...d),h}:o&&(n[s]=o):s==="style"?n[s]={...o,...l}:s==="className"&&(n[s]=[o,l].filter(Boolean).join(" "))}return{...t,...n}}function bR(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var jR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ot=jR.reduce((t,e)=>{const n=gR(`Primitive.${e}`),s=x.forwardRef((o,l)=>{const{asChild:c,...d}=o,h=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(h,{...d,ref:l})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function SR(t,e){t&&gl.flushSync(()=>t.dispatchEvent(e))}function _i(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>e.current?.(...n),[])}function NR(t,e=globalThis?.document){const n=_i(t);x.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var kR="DismissableLayer",Dp="dismissableLayer.update",CR="dismissableLayer.pointerDownOutside",ER="dismissableLayer.focusOutside",ew,s2=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xd=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...h}=t,f=x.useContext(s2),[p,m]=x.useState(null),y=p?.ownerDocument??globalThis?.document,[,w]=x.useState({}),b=Ct(e,B=>m(B)),j=Array.from(f.layers),[k]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=j.indexOf(k),E=p?j.indexOf(p):-1,C=f.layersWithOutsidePointerEventsDisabled.size>0,A=E>=N,O=TR(B=>{const R=B.target,z=[...f.branches].some(X=>X.contains(R));!A||z||(o?.(B),c?.(B),B.defaultPrevented||d?.())},y),L=PR(B=>{const R=B.target;[...f.branches].some(X=>X.contains(R))||(l?.(B),c?.(B),B.defaultPrevented||d?.())},y);return NR(B=>{E===f.layers.size-1&&(s?.(B),!B.defaultPrevented&&d&&(B.preventDefault(),d()))},y),x.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(ew=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),tw(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=ew)}},[p,y,n,f]),x.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),tw())},[p,f]),x.useEffect(()=>{const B=()=>w({});return document.addEventListener(Dp,B),()=>document.removeEventListener(Dp,B)},[]),r.jsx(ot.div,{...h,ref:b,style:{pointerEvents:C?A?"auto":"none":void 0,...t.style},onFocusCapture:rt(t.onFocusCapture,L.onFocusCapture),onBlurCapture:rt(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:rt(t.onPointerDownCapture,O.onPointerDownCapture)})});Xd.displayName=kR;var _R="DismissableLayerBranch",AR=x.forwardRef((t,e)=>{const n=x.useContext(s2),s=x.useRef(null),o=Ct(e,s);return x.useEffect(()=>{const l=s.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),r.jsx(ot.div,{...t,ref:o})});AR.displayName=_R;function TR(t,e=globalThis?.document){const n=_i(t),s=x.useRef(!1),o=x.useRef(()=>{});return x.useEffect(()=>{const l=d=>{if(d.target&&!s.current){let h=function(){i2(CR,n,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}else e.removeEventListener("click",o.current);s.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function PR(t,e=globalThis?.document){const n=_i(t),s=x.useRef(!1);return x.useEffect(()=>{const o=l=>{l.target&&!s.current&&i2(ER,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function tw(){const t=new CustomEvent(Dp);document.dispatchEvent(t)}function i2(t,e,n,{discrete:s}){const o=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),s?SR(o,l):o.dispatchEvent(l)}var wf=0;function og(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??nw()),document.body.insertAdjacentElement("beforeend",t[1]??nw()),wf++,()=>{wf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),wf--}},[])}function nw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var bf="focusScope.autoFocusOnMount",jf="focusScope.autoFocusOnUnmount",rw={bubbles:!1,cancelable:!0},RR="FocusScope",Zd=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=t,[d,h]=x.useState(null),f=_i(o),p=_i(l),m=x.useRef(null),y=Ct(e,j=>h(j)),w=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(s){let j=function(C){if(w.paused||!d)return;const A=C.target;d.contains(A)?m.current=A:Rs(m.current,{select:!0})},k=function(C){if(w.paused||!d)return;const A=C.relatedTarget;A!==null&&(d.contains(A)||Rs(m.current,{select:!0}))},N=function(C){if(document.activeElement===document.body)for(const O of C)O.removedNodes.length>0&&Rs(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",k);const E=new MutationObserver(N);return d&&E.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",k),E.disconnect()}}},[s,d,w.paused]),x.useEffect(()=>{if(d){iw.add(w);const j=document.activeElement;if(!d.contains(j)){const N=new CustomEvent(bf,rw);d.addEventListener(bf,f),d.dispatchEvent(N),N.defaultPrevented||(DR(LR(o2(d)),{select:!0}),document.activeElement===j&&Rs(d))}return()=>{d.removeEventListener(bf,f),setTimeout(()=>{const N=new CustomEvent(jf,rw);d.addEventListener(jf,p),d.dispatchEvent(N),N.defaultPrevented||Rs(j??document.body,{select:!0}),d.removeEventListener(jf,p),iw.remove(w)},0)}}},[d,f,p,w]);const b=x.useCallback(j=>{if(!n&&!s||w.paused)return;const k=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,N=document.activeElement;if(k&&N){const E=j.currentTarget,[C,A]=OR(E);C&&A?!j.shiftKey&&N===A?(j.preventDefault(),n&&Rs(C,{select:!0})):j.shiftKey&&N===C&&(j.preventDefault(),n&&Rs(A,{select:!0})):N===E&&j.preventDefault()}},[n,s,w.paused]);return r.jsx(ot.div,{tabIndex:-1,...c,ref:y,onKeyDown:b})});Zd.displayName=RR;function DR(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(Rs(s,{select:e}),document.activeElement!==n)return}function OR(t){const e=o2(t),n=sw(e,t),s=sw(e.reverse(),t);return[n,s]}function o2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function sw(t,e){for(const n of t)if(!FR(n,{upTo:e}))return n}function FR(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function IR(t){return t instanceof HTMLInputElement&&"select"in t}function Rs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&IR(t)&&e&&t.select()}}var iw=MR();function MR(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=ow(t,e),t.unshift(e)},remove(e){t=ow(t,e),t[0]?.resume()}}}function ow(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function LR(t){return t.filter(e=>e.tagName!=="A")}var gn=globalThis?.document?x.useLayoutEffect:()=>{},BR=hm[" useId ".trim().toString()]||(()=>{}),$R=0;function Ei(t){const[e,n]=x.useState(BR());return gn(()=>{n(s=>s??String($R++))},[t]),t||(e?`radix-${e}`:"")}const zR=["top","right","bottom","left"],Ls=Math.min,zn=Math.max,Rd=Math.round,Vc=Math.floor,Fr=t=>({x:t,y:t}),WR={left:"right",right:"left",bottom:"top",top:"bottom"},VR={start:"end",end:"start"};function Op(t,e,n){return zn(t,Ls(e,n))}function rs(t,e){return typeof t=="function"?t(e):t}function ss(t){return t.split("-")[0]}function qo(t){return t.split("-")[1]}function ag(t){return t==="x"?"y":"x"}function lg(t){return t==="y"?"height":"width"}const UR=new Set(["top","bottom"]);function Rr(t){return UR.has(ss(t))?"y":"x"}function cg(t){return ag(Rr(t))}function HR(t,e,n){n===void 0&&(n=!1);const s=qo(t),o=cg(t),l=lg(o);let c=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Dd(c)),[c,Dd(c)]}function qR(t){const e=Dd(t);return[Fp(t),e,Fp(e)]}function Fp(t){return t.replace(/start|end/g,e=>VR[e])}const aw=["left","right"],lw=["right","left"],GR=["top","bottom"],KR=["bottom","top"];function YR(t,e,n){switch(t){case"top":case"bottom":return n?e?lw:aw:e?aw:lw;case"left":case"right":return e?GR:KR;default:return[]}}function JR(t,e,n,s){const o=qo(t);let l=YR(ss(t),n==="start",s);return o&&(l=l.map(c=>c+"-"+o),e&&(l=l.concat(l.map(Fp)))),l}function Dd(t){return t.replace(/left|right|bottom|top/g,e=>WR[e])}function QR(t){return{top:0,right:0,bottom:0,left:0,...t}}function a2(t){return typeof t!="number"?QR(t):{top:t,right:t,bottom:t,left:t}}function Od(t){const{x:e,y:n,width:s,height:o}=t;return{width:s,height:o,top:n,left:e,right:e+s,bottom:n+o,x:e,y:n}}function cw(t,e,n){let{reference:s,floating:o}=t;const l=Rr(e),c=cg(e),d=lg(c),h=ss(e),f=l==="y",p=s.x+s.width/2-o.width/2,m=s.y+s.height/2-o.height/2,y=s[d]/2-o[d]/2;let w;switch(h){case"top":w={x:p,y:s.y-o.height};break;case"bottom":w={x:p,y:s.y+s.height};break;case"right":w={x:s.x+s.width,y:m};break;case"left":w={x:s.x-o.width,y:m};break;default:w={x:s.x,y:s.y}}switch(qo(e)){case"start":w[c]-=y*(n&&f?-1:1);break;case"end":w[c]+=y*(n&&f?-1:1);break}return w}const XR=async(t,e,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:l=[],platform:c}=n,d=l.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let f=await c.getElementRects({reference:t,floating:e,strategy:o}),{x:p,y:m}=cw(f,s,h),y=s,w={},b=0;for(let j=0;j<d.length;j++){const{name:k,fn:N}=d[j],{x:E,y:C,data:A,reset:O}=await N({x:p,y:m,initialPlacement:s,placement:y,strategy:o,middlewareData:w,rects:f,platform:c,elements:{reference:t,floating:e}});p=E??p,m=C??m,w={...w,[k]:{...w[k],...A}},O&&b<=50&&(b++,typeof O=="object"&&(O.placement&&(y=O.placement),O.rects&&(f=O.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:o}):O.rects),{x:p,y:m}=cw(f,y,h)),j=-1)}return{x:p,y:m,placement:y,strategy:o,middlewareData:w}};async function al(t,e){var n;e===void 0&&(e={});const{x:s,y:o,platform:l,rects:c,elements:d,strategy:h}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:y=!1,padding:w=0}=rs(e,t),b=a2(w),k=d[y?m==="floating"?"reference":"floating":m],N=Od(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(k)))==null||n?k:k.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:f,rootBoundary:p,strategy:h})),E=m==="floating"?{x:s,y:o,width:c.floating.width,height:c.floating.height}:c.reference,C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),A=await(l.isElement==null?void 0:l.isElement(C))?await(l.getScale==null?void 0:l.getScale(C))||{x:1,y:1}:{x:1,y:1},O=Od(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:E,offsetParent:C,strategy:h}):E);return{top:(N.top-O.top+b.top)/A.y,bottom:(O.bottom-N.bottom+b.bottom)/A.y,left:(N.left-O.left+b.left)/A.x,right:(O.right-N.right+b.right)/A.x}}const ZR=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:o,rects:l,platform:c,elements:d,middlewareData:h}=e,{element:f,padding:p=0}=rs(t,e)||{};if(f==null)return{};const m=a2(p),y={x:n,y:s},w=cg(o),b=lg(w),j=await c.getDimensions(f),k=w==="y",N=k?"top":"left",E=k?"bottom":"right",C=k?"clientHeight":"clientWidth",A=l.reference[b]+l.reference[w]-y[w]-l.floating[b],O=y[w]-l.reference[w],L=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let B=L?L[C]:0;(!B||!await(c.isElement==null?void 0:c.isElement(L)))&&(B=d.floating[C]||l.floating[b]);const R=A/2-O/2,z=B/2-j[b]/2-1,X=Ls(m[N],z),ae=Ls(m[E],z),K=X,te=B-j[b]-ae,ee=B/2-j[b]/2+R,re=Op(K,ee,te),J=!h.arrow&&qo(o)!=null&&ee!==re&&l.reference[b]/2-(ee<K?X:ae)-j[b]/2<0,M=J?ee<K?ee-K:ee-te:0;return{[w]:y[w]+M,data:{[w]:re,centerOffset:ee-re-M,...J&&{alignmentOffset:M}},reset:J}}}),eD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:o,middlewareData:l,rects:c,initialPlacement:d,platform:h,elements:f}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:j=!0,...k}=rs(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const N=ss(o),E=Rr(d),C=ss(d)===d,A=await(h.isRTL==null?void 0:h.isRTL(f.floating)),O=y||(C||!j?[Dd(d)]:qR(d)),L=b!=="none";!y&&L&&O.push(...JR(d,j,b,A));const B=[d,...O],R=await al(e,k),z=[];let X=((s=l.flip)==null?void 0:s.overflows)||[];if(p&&z.push(R[N]),m){const ee=HR(o,c,A);z.push(R[ee[0]],R[ee[1]])}if(X=[...X,{placement:o,overflows:z}],!z.every(ee=>ee<=0)){var ae,K;const ee=(((ae=l.flip)==null?void 0:ae.index)||0)+1,re=B[ee];if(re&&(!(m==="alignment"?E!==Rr(re):!1)||X.every(T=>Rr(T.placement)===E?T.overflows[0]>0:!0)))return{data:{index:ee,overflows:X},reset:{placement:re}};let J=(K=X.filter(M=>M.overflows[0]<=0).sort((M,T)=>M.overflows[1]-T.overflows[1])[0])==null?void 0:K.placement;if(!J)switch(w){case"bestFit":{var te;const M=(te=X.filter(T=>{if(L){const F=Rr(T.placement);return F===E||F==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(F=>F>0).reduce((F,q)=>F+q,0)]).sort((T,F)=>T[1]-F[1])[0])==null?void 0:te[0];M&&(J=M);break}case"initialPlacement":J=d;break}if(o!==J)return{reset:{placement:J}}}return{}}}};function dw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function uw(t){return zR.some(e=>t[e]>=0)}const tD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...o}=rs(t,e);switch(s){case"referenceHidden":{const l=await al(e,{...o,elementContext:"reference"}),c=dw(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:uw(c)}}}case"escaped":{const l=await al(e,{...o,altBoundary:!0}),c=dw(l,n.floating);return{data:{escapedOffsets:c,escaped:uw(c)}}}default:return{}}}}},l2=new Set(["left","top"]);async function nD(t,e){const{placement:n,platform:s,elements:o}=t,l=await(s.isRTL==null?void 0:s.isRTL(o.floating)),c=ss(n),d=qo(n),h=Rr(n)==="y",f=l2.has(c)?-1:1,p=l&&h?-1:1,m=rs(e,t);let{mainAxis:y,crossAxis:w,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return d&&typeof b=="number"&&(w=d==="end"?b*-1:b),h?{x:w*p,y:y*f}:{x:y*f,y:w*p}}const rD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:o,y:l,placement:c,middlewareData:d}=e,h=await nD(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:o+h.x,y:l+h.y,data:{...h,placement:c}}}}},sD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:o}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:k=>{let{x:N,y:E}=k;return{x:N,y:E}}},...h}=rs(t,e),f={x:n,y:s},p=await al(e,h),m=Rr(ss(o)),y=ag(m);let w=f[y],b=f[m];if(l){const k=y==="y"?"top":"left",N=y==="y"?"bottom":"right",E=w+p[k],C=w-p[N];w=Op(E,w,C)}if(c){const k=m==="y"?"top":"left",N=m==="y"?"bottom":"right",E=b+p[k],C=b-p[N];b=Op(E,b,C)}const j=d.fn({...e,[y]:w,[m]:b});return{...j,data:{x:j.x-n,y:j.y-s,enabled:{[y]:l,[m]:c}}}}}},iD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:o,rects:l,middlewareData:c}=e,{offset:d=0,mainAxis:h=!0,crossAxis:f=!0}=rs(t,e),p={x:n,y:s},m=Rr(o),y=ag(m);let w=p[y],b=p[m];const j=rs(d,e),k=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(h){const C=y==="y"?"height":"width",A=l.reference[y]-l.floating[C]+k.mainAxis,O=l.reference[y]+l.reference[C]-k.mainAxis;w<A?w=A:w>O&&(w=O)}if(f){var N,E;const C=y==="y"?"width":"height",A=l2.has(ss(o)),O=l.reference[m]-l.floating[C]+(A&&((N=c.offset)==null?void 0:N[m])||0)+(A?0:k.crossAxis),L=l.reference[m]+l.reference[C]+(A?0:((E=c.offset)==null?void 0:E[m])||0)-(A?k.crossAxis:0);b<O?b=O:b>L&&(b=L)}return{[y]:w,[m]:b}}}},oD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:o,rects:l,platform:c,elements:d}=e,{apply:h=()=>{},...f}=rs(t,e),p=await al(e,f),m=ss(o),y=qo(o),w=Rr(o)==="y",{width:b,height:j}=l.floating;let k,N;m==="top"||m==="bottom"?(k=m,N=y===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(N=m,k=y==="end"?"top":"bottom");const E=j-p.top-p.bottom,C=b-p.left-p.right,A=Ls(j-p[k],E),O=Ls(b-p[N],C),L=!e.middlewareData.shift;let B=A,R=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=C),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(B=E),L&&!y){const X=zn(p.left,0),ae=zn(p.right,0),K=zn(p.top,0),te=zn(p.bottom,0);w?R=b-2*(X!==0||ae!==0?X+ae:zn(p.left,p.right)):B=j-2*(K!==0||te!==0?K+te:zn(p.top,p.bottom))}await h({...e,availableWidth:R,availableHeight:B});const z=await c.getDimensions(d.floating);return b!==z.width||j!==z.height?{reset:{rects:!0}}:{}}}};function eu(){return typeof window<"u"}function Go(t){return c2(t)?(t.nodeName||"").toLowerCase():"#document"}function Un(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $r(t){var e;return(e=(c2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function c2(t){return eu()?t instanceof Node||t instanceof Un(t).Node:!1}function wr(t){return eu()?t instanceof Element||t instanceof Un(t).Element:!1}function Lr(t){return eu()?t instanceof HTMLElement||t instanceof Un(t).HTMLElement:!1}function hw(t){return!eu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Un(t).ShadowRoot}const aD=new Set(["inline","contents"]);function kl(t){const{overflow:e,overflowX:n,overflowY:s,display:o}=br(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!aD.has(o)}const lD=new Set(["table","td","th"]);function cD(t){return lD.has(Go(t))}const dD=[":popover-open",":modal"];function tu(t){return dD.some(e=>{try{return t.matches(e)}catch{return!1}})}const uD=["transform","translate","scale","rotate","perspective"],hD=["transform","translate","scale","rotate","perspective","filter"],fD=["paint","layout","strict","content"];function dg(t){const e=ug(),n=wr(t)?br(t):t;return uD.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||hD.some(s=>(n.willChange||"").includes(s))||fD.some(s=>(n.contain||"").includes(s))}function pD(t){let e=Bs(t);for(;Lr(e)&&!Io(e);){if(dg(e))return e;if(tu(e))return null;e=Bs(e)}return null}function ug(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mD=new Set(["html","body","#document"]);function Io(t){return mD.has(Go(t))}function br(t){return Un(t).getComputedStyle(t)}function nu(t){return wr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Bs(t){if(Go(t)==="html")return t;const e=t.assignedSlot||t.parentNode||hw(t)&&t.host||$r(t);return hw(e)?e.host:e}function d2(t){const e=Bs(t);return Io(e)?t.ownerDocument?t.ownerDocument.body:t.body:Lr(e)&&kl(e)?e:d2(e)}function ll(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=d2(t),l=o===((s=t.ownerDocument)==null?void 0:s.body),c=Un(o);if(l){const d=Ip(c);return e.concat(c,c.visualViewport||[],kl(o)?o:[],d&&n?ll(d):[])}return e.concat(o,ll(o,[],n))}function Ip(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function u2(t){const e=br(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const o=Lr(t),l=o?t.offsetWidth:n,c=o?t.offsetHeight:s,d=Rd(n)!==l||Rd(s)!==c;return d&&(n=l,s=c),{width:n,height:s,$:d}}function hg(t){return wr(t)?t:t.contextElement}function Ao(t){const e=hg(t);if(!Lr(e))return Fr(1);const n=e.getBoundingClientRect(),{width:s,height:o,$:l}=u2(e);let c=(l?Rd(n.width):n.width)/s,d=(l?Rd(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const gD=Fr(0);function h2(t){const e=Un(t);return!ug()||!e.visualViewport?gD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Un(t)?!1:e}function Ai(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),l=hg(t);let c=Fr(1);e&&(s?wr(s)&&(c=Ao(s)):c=Ao(t));const d=xD(l,n,s)?h2(l):Fr(0);let h=(o.left+d.x)/c.x,f=(o.top+d.y)/c.y,p=o.width/c.x,m=o.height/c.y;if(l){const y=Un(l),w=s&&wr(s)?Un(s):s;let b=y,j=Ip(b);for(;j&&s&&w!==b;){const k=Ao(j),N=j.getBoundingClientRect(),E=br(j),C=N.left+(j.clientLeft+parseFloat(E.paddingLeft))*k.x,A=N.top+(j.clientTop+parseFloat(E.paddingTop))*k.y;h*=k.x,f*=k.y,p*=k.x,m*=k.y,h+=C,f+=A,b=Un(j),j=Ip(b)}}return Od({width:p,height:m,x:h,y:f})}function ru(t,e){const n=nu(t).scrollLeft;return e?e.left+n:Ai($r(t)).left+n}function f2(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-ru(t,n),o=n.top+e.scrollTop;return{x:s,y:o}}function yD(t){let{elements:e,rect:n,offsetParent:s,strategy:o}=t;const l=o==="fixed",c=$r(s),d=e?tu(e.floating):!1;if(s===c||d&&l)return n;let h={scrollLeft:0,scrollTop:0},f=Fr(1);const p=Fr(0),m=Lr(s);if((m||!m&&!l)&&((Go(s)!=="body"||kl(c))&&(h=nu(s)),Lr(s))){const w=Ai(s);f=Ao(s),p.x=w.x+s.clientLeft,p.y=w.y+s.clientTop}const y=c&&!m&&!l?f2(c,h):Fr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+p.x+y.x,y:n.y*f.y-h.scrollTop*f.y+p.y+y.y}}function vD(t){return Array.from(t.getClientRects())}function wD(t){const e=$r(t),n=nu(t),s=t.ownerDocument.body,o=zn(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),l=zn(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let c=-n.scrollLeft+ru(t);const d=-n.scrollTop;return br(s).direction==="rtl"&&(c+=zn(e.clientWidth,s.clientWidth)-o),{width:o,height:l,x:c,y:d}}const fw=25;function bD(t,e){const n=Un(t),s=$r(t),o=n.visualViewport;let l=s.clientWidth,c=s.clientHeight,d=0,h=0;if(o){l=o.width,c=o.height;const p=ug();(!p||p&&e==="fixed")&&(d=o.offsetLeft,h=o.offsetTop)}const f=ru(s);if(f<=0){const p=s.ownerDocument,m=p.body,y=getComputedStyle(m),w=p.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,b=Math.abs(s.clientWidth-m.clientWidth-w);b<=fw&&(l-=b)}else f<=fw&&(l+=f);return{width:l,height:c,x:d,y:h}}const jD=new Set(["absolute","fixed"]);function SD(t,e){const n=Ai(t,!0,e==="fixed"),s=n.top+t.clientTop,o=n.left+t.clientLeft,l=Lr(t)?Ao(t):Fr(1),c=t.clientWidth*l.x,d=t.clientHeight*l.y,h=o*l.x,f=s*l.y;return{width:c,height:d,x:h,y:f}}function pw(t,e,n){let s;if(e==="viewport")s=bD(t,n);else if(e==="document")s=wD($r(t));else if(wr(e))s=SD(e,n);else{const o=h2(t);s={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Od(s)}function p2(t,e){const n=Bs(t);return n===e||!wr(n)||Io(n)?!1:br(n).position==="fixed"||p2(n,e)}function ND(t,e){const n=e.get(t);if(n)return n;let s=ll(t,[],!1).filter(d=>wr(d)&&Go(d)!=="body"),o=null;const l=br(t).position==="fixed";let c=l?Bs(t):t;for(;wr(c)&&!Io(c);){const d=br(c),h=dg(c);!h&&d.position==="fixed"&&(o=null),(l?!h&&!o:!h&&d.position==="static"&&!!o&&jD.has(o.position)||kl(c)&&!h&&p2(t,c))?s=s.filter(p=>p!==c):o=d,c=Bs(c)}return e.set(t,s),s}function kD(t){let{element:e,boundary:n,rootBoundary:s,strategy:o}=t;const c=[...n==="clippingAncestors"?tu(e)?[]:ND(e,this._c):[].concat(n),s],d=c[0],h=c.reduce((f,p)=>{const m=pw(e,p,o);return f.top=zn(m.top,f.top),f.right=Ls(m.right,f.right),f.bottom=Ls(m.bottom,f.bottom),f.left=zn(m.left,f.left),f},pw(e,d,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function CD(t){const{width:e,height:n}=u2(t);return{width:e,height:n}}function ED(t,e,n){const s=Lr(e),o=$r(e),l=n==="fixed",c=Ai(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const h=Fr(0);function f(){h.x=ru(o)}if(s||!s&&!l)if((Go(e)!=="body"||kl(o))&&(d=nu(e)),s){const w=Ai(e,!0,l,e);h.x=w.x+e.clientLeft,h.y=w.y+e.clientTop}else o&&f();l&&!s&&o&&f();const p=o&&!s&&!l?f2(o,d):Fr(0),m=c.left+d.scrollLeft-h.x-p.x,y=c.top+d.scrollTop-h.y-p.y;return{x:m,y,width:c.width,height:c.height}}function Sf(t){return br(t).position==="static"}function mw(t,e){if(!Lr(t)||br(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return $r(t)===n&&(n=n.ownerDocument.body),n}function m2(t,e){const n=Un(t);if(tu(t))return n;if(!Lr(t)){let o=Bs(t);for(;o&&!Io(o);){if(wr(o)&&!Sf(o))return o;o=Bs(o)}return n}let s=mw(t,e);for(;s&&cD(s)&&Sf(s);)s=mw(s,e);return s&&Io(s)&&Sf(s)&&!dg(s)?n:s||pD(t)||n}const _D=async function(t){const e=this.getOffsetParent||m2,n=this.getDimensions,s=await n(t.floating);return{reference:ED(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function AD(t){return br(t).direction==="rtl"}const TD={convertOffsetParentRelativeRectToViewportRelativeRect:yD,getDocumentElement:$r,getClippingRect:kD,getOffsetParent:m2,getElementRects:_D,getClientRects:vD,getDimensions:CD,getScale:Ao,isElement:wr,isRTL:AD};function g2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function PD(t,e){let n=null,s;const o=$r(t);function l(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),l();const f=t.getBoundingClientRect(),{left:p,top:m,width:y,height:w}=f;if(d||e(),!y||!w)return;const b=Vc(m),j=Vc(o.clientWidth-(p+y)),k=Vc(o.clientHeight-(m+w)),N=Vc(p),C={rootMargin:-b+"px "+-j+"px "+-k+"px "+-N+"px",threshold:zn(0,Ls(1,h))||1};let A=!0;function O(L){const B=L[0].intersectionRatio;if(B!==h){if(!A)return c();B?c(!1,B):s=setTimeout(()=>{c(!1,1e-7)},1e3)}B===1&&!g2(f,t.getBoundingClientRect())&&c(),A=!1}try{n=new IntersectionObserver(O,{...C,root:o.ownerDocument})}catch{n=new IntersectionObserver(O,C)}n.observe(t)}return c(!0),l}function RD(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,f=hg(t),p=o||l?[...f?ll(f):[],...ll(e)]:[];p.forEach(N=>{o&&N.addEventListener("scroll",n,{passive:!0}),l&&N.addEventListener("resize",n)});const m=f&&d?PD(f,n):null;let y=-1,w=null;c&&(w=new ResizeObserver(N=>{let[E]=N;E&&E.target===f&&w&&(w.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var C;(C=w)==null||C.observe(e)})),n()}),f&&!h&&w.observe(f),w.observe(e));let b,j=h?Ai(t):null;h&&k();function k(){const N=Ai(t);j&&!g2(j,N)&&n(),j=N,b=requestAnimationFrame(k)}return n(),()=>{var N;p.forEach(E=>{o&&E.removeEventListener("scroll",n),l&&E.removeEventListener("resize",n)}),m?.(),(N=w)==null||N.disconnect(),w=null,h&&cancelAnimationFrame(b)}}const DD=rD,OD=sD,FD=eD,ID=oD,MD=tD,gw=ZR,LD=iD,BD=(t,e,n)=>{const s=new Map,o={platform:TD,...n},l={...o.platform,_c:s};return XR(t,e,{...o,platform:l})};var $D=typeof document<"u",zD=function(){},md=$D?x.useLayoutEffect:zD;function Fd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Fd(t[s],e[s]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,o[s]))return!1;for(s=n;s--!==0;){const l=o[s];if(!(l==="_owner"&&t.$$typeof)&&!Fd(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function x2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xw(t,e){const n=x2(t);return Math.round(e*n)/n}function Nf(t){const e=x.useRef(t);return md(()=>{e.current=t}),e}function WD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:h,open:f}=t,[p,m]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,w]=x.useState(s);Fd(y,s)||w(s);const[b,j]=x.useState(null),[k,N]=x.useState(null),E=x.useCallback(T=>{T!==L.current&&(L.current=T,j(T))},[]),C=x.useCallback(T=>{T!==B.current&&(B.current=T,N(T))},[]),A=l||b,O=c||k,L=x.useRef(null),B=x.useRef(null),R=x.useRef(p),z=h!=null,X=Nf(h),ae=Nf(o),K=Nf(f),te=x.useCallback(()=>{if(!L.current||!B.current)return;const T={placement:e,strategy:n,middleware:y};ae.current&&(T.platform=ae.current),BD(L.current,B.current,T).then(F=>{const q={...F,isPositioned:K.current!==!1};ee.current&&!Fd(R.current,q)&&(R.current=q,gl.flushSync(()=>{m(q)}))})},[y,e,n,ae,K]);md(()=>{f===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,m(T=>({...T,isPositioned:!1})))},[f]);const ee=x.useRef(!1);md(()=>(ee.current=!0,()=>{ee.current=!1}),[]),md(()=>{if(A&&(L.current=A),O&&(B.current=O),A&&O){if(X.current)return X.current(A,O,te);te()}},[A,O,te,X,z]);const re=x.useMemo(()=>({reference:L,floating:B,setReference:E,setFloating:C}),[E,C]),J=x.useMemo(()=>({reference:A,floating:O}),[A,O]),M=x.useMemo(()=>{const T={position:n,left:0,top:0};if(!J.floating)return T;const F=xw(J.floating,p.x),q=xw(J.floating,p.y);return d?{...T,transform:"translate("+F+"px, "+q+"px)",...x2(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:q}},[n,d,J.floating,p.x,p.y]);return x.useMemo(()=>({...p,update:te,refs:re,elements:J,floatingStyles:M}),[p,te,re,J,M])}const VD=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:o}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?gw({element:s.current,padding:o}).fn(n):{}:s?gw({element:s,padding:o}).fn(n):{}}}},UD=(t,e)=>({...DD(t),options:[t,e]}),HD=(t,e)=>({...OD(t),options:[t,e]}),qD=(t,e)=>({...LD(t),options:[t,e]}),GD=(t,e)=>({...FD(t),options:[t,e]}),KD=(t,e)=>({...ID(t),options:[t,e]}),YD=(t,e)=>({...MD(t),options:[t,e]}),JD=(t,e)=>({...VD(t),options:[t,e]});var QD="Arrow",y2=x.forwardRef((t,e)=>{const{children:n,width:s=10,height:o=5,...l}=t;return r.jsx(ot.svg,{...l,ref:e,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});y2.displayName=QD;var XD=y2;function ZD(t){const[e,n]=x.useState(void 0);return gn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,d;if("borderBoxSize"in l){const h=l.borderBoxSize,f=Array.isArray(h)?h[0]:h;c=f.inlineSize,d=f.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var fg="Popper",[v2,su]=Nl(fg),[eO,w2]=v2(fg),b2=t=>{const{__scopePopper:e,children:n}=t,[s,o]=x.useState(null);return r.jsx(eO,{scope:e,anchor:s,onAnchorChange:o,children:n})};b2.displayName=fg;var j2="PopperAnchor",S2=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...o}=t,l=w2(j2,n),c=x.useRef(null),d=Ct(e,c),h=x.useRef(null);return x.useEffect(()=>{const f=h.current;h.current=s?.current||c.current,f!==h.current&&l.onAnchorChange(h.current)}),s?null:r.jsx(ot.div,{...o,ref:d})});S2.displayName=j2;var pg="PopperContent",[tO,nO]=v2(pg),N2=x.forwardRef((t,e)=>{const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:w="optimized",onPlaced:b,...j}=t,k=w2(pg,n),[N,E]=x.useState(null),C=Ct(e,H=>E(H)),[A,O]=x.useState(null),L=ZD(A),B=L?.width??0,R=L?.height??0,z=s+(l!=="center"?"-"+l:""),X=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ae=Array.isArray(f)?f:[f],K=ae.length>0,te={padding:X,boundary:ae.filter(sO),altBoundary:K},{refs:ee,floatingStyles:re,placement:J,isPositioned:M,middlewareData:T}=WD({strategy:"fixed",placement:z,whileElementsMounted:(...H)=>RD(...H,{animationFrame:w==="always"}),elements:{reference:k.anchor},middleware:[UD({mainAxis:o+R,alignmentAxis:c}),h&&HD({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?qD():void 0,...te}),h&&GD({...te}),KD({...te,apply:({elements:H,rects:Z,availableWidth:he,availableHeight:ue})=>{const{width:ve,height:Ne}=Z.reference,Ge=H.floating.style;Ge.setProperty("--radix-popper-available-width",`${he}px`),Ge.setProperty("--radix-popper-available-height",`${ue}px`),Ge.setProperty("--radix-popper-anchor-width",`${ve}px`),Ge.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),A&&JD({element:A,padding:d}),iO({arrowWidth:B,arrowHeight:R}),y&&YD({strategy:"referenceHidden",...te})]}),[F,q]=E2(J),D=_i(b);gn(()=>{M&&D?.()},[M,D]);const V=T.arrow?.x,W=T.arrow?.y,se=T.arrow?.centerOffset!==0,[I,U]=x.useState();return gn(()=>{N&&U(window.getComputedStyle(N).zIndex)},[N]),r.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:M?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:I,"--radix-popper-transform-origin":[T.transformOrigin?.x,T.transformOrigin?.y].join(" "),...T.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:r.jsx(tO,{scope:n,placedSide:F,onArrowChange:O,arrowX:V,arrowY:W,shouldHideArrow:se,children:r.jsx(ot.div,{"data-side":F,"data-align":q,...j,ref:C,style:{...j.style,animation:M?void 0:"none"}})})})});N2.displayName=pg;var k2="PopperArrow",rO={top:"bottom",right:"left",bottom:"top",left:"right"},C2=x.forwardRef(function(e,n){const{__scopePopper:s,...o}=e,l=nO(k2,s),c=rO[l.placedSide];return r.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:r.jsx(XD,{...o,ref:n,style:{...o.style,display:"block"}})})});C2.displayName=k2;function sO(t){return t!==null}var iO=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:s,middlewareData:o}=e,c=o.arrow?.centerOffset!==0,d=c?0:t.arrowWidth,h=c?0:t.arrowHeight,[f,p]=E2(n),m={start:"0%",center:"50%",end:"100%"}[p],y=(o.arrow?.x??0)+d/2,w=(o.arrow?.y??0)+h/2;let b="",j="";return f==="bottom"?(b=c?m:`${y}px`,j=`${-h}px`):f==="top"?(b=c?m:`${y}px`,j=`${s.floating.height+h}px`):f==="right"?(b=`${-h}px`,j=c?m:`${w}px`):f==="left"&&(b=`${s.floating.width+h}px`,j=c?m:`${w}px`),{data:{x:b,y:j}}}});function E2(t){const[e,n="center"]=t.split("-");return[e,n]}var _2=b2,mg=S2,A2=N2,T2=C2,oO="Portal",iu=x.forwardRef((t,e)=>{const{container:n,...s}=t,[o,l]=x.useState(!1);gn(()=>l(!0),[]);const c=n||o&&globalThis?.document?.body;return c?Gb.createPortal(r.jsx(ot.div,{...s,ref:e}),c):null});iu.displayName=oO;function aO(t){const e=lO(t),n=x.forwardRef((s,o)=>{const{children:l,...c}=s,d=x.Children.toArray(l),h=d.find(dO);if(h){const f=h.props.children,p=d.map(m=>m===h?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:m);return r.jsx(e,{...c,ref:o,children:x.isValidElement(f)?x.cloneElement(f,void 0,p):null})}return r.jsx(e,{...c,ref:o,children:l})});return n.displayName=`${t}.Slot`,n}function lO(t){const e=x.forwardRef((n,s)=>{const{children:o,...l}=n;if(x.isValidElement(o)){const c=hO(o),d=uO(l,o.props);return o.type!==x.Fragment&&(d.ref=s?Oi(s,c):c),x.cloneElement(o,d)}return x.Children.count(o)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cO=Symbol("radix.slottable");function dO(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cO}function uO(t,e){const n={...e};for(const s in e){const o=t[s],l=e[s];/^on[A-Z]/.test(s)?o&&l?n[s]=(...d)=>{const h=l(...d);return o(...d),h}:o&&(n[s]=o):s==="style"?n[s]={...o,...l}:s==="className"&&(n[s]=[o,l].filter(Boolean).join(" "))}return{...t,...n}}function hO(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var fO=hm[" useInsertionEffect ".trim().toString()]||gn;function Id({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[o,l,c]=pO({defaultProp:e,onChange:n}),d=t!==void 0,h=d?t:o;{const p=x.useRef(t!==void 0);x.useEffect(()=>{const m=p.current;m!==d&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,s])}const f=x.useCallback(p=>{if(d){const m=mO(p)?p(t):p;m!==t&&c.current?.(m)}else l(p)},[d,t,l,c]);return[h,f]}function pO({defaultProp:t,onChange:e}){const[n,s]=x.useState(t),o=x.useRef(n),l=x.useRef(e);return fO(()=>{l.current=e},[e]),x.useEffect(()=>{o.current!==n&&(l.current?.(n),o.current=n)},[n,o]),[n,s,l]}function mO(t){return typeof t=="function"}function gO(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var P2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xO="VisuallyHidden",yO=x.forwardRef((t,e)=>r.jsx(ot.span,{...t,ref:e,style:{...P2,...t.style}}));yO.displayName=xO;var vO=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},io=new WeakMap,Uc=new WeakMap,Hc={},kf=0,R2=function(t){return t&&(t.host||R2(t.parentNode))},wO=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=R2(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},bO=function(t,e,n,s){var o=wO(e,Array.isArray(t)?t:[t]);Hc[n]||(Hc[n]=new WeakMap);var l=Hc[n],c=[],d=new Set,h=new Set(o),f=function(m){!m||d.has(m)||(d.add(m),f(m.parentNode))};o.forEach(f);var p=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(y){if(d.has(y))p(y);else try{var w=y.getAttribute(s),b=w!==null&&w!=="false",j=(io.get(y)||0)+1,k=(l.get(y)||0)+1;io.set(y,j),l.set(y,k),c.push(y),j===1&&b&&Uc.set(y,!0),k===1&&y.setAttribute(n,"true"),b||y.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",y,N)}})};return p(e),d.clear(),kf++,function(){c.forEach(function(m){var y=io.get(m)-1,w=l.get(m)-1;io.set(m,y),l.set(m,w),y||(Uc.has(m)||m.removeAttribute(s),Uc.delete(m)),w||m.removeAttribute(n)}),kf--,kf||(io=new WeakMap,io=new WeakMap,Uc=new WeakMap,Hc={})}},gg=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),o=vO(t);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),bO(s,o,n,"aria-hidden")):function(){return null}},Mp=function(t,e){return Mp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},Mp(t,e)};function D2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Mp(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var er=function(){return er=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},er.apply(this,arguments)};function Ws(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function O2(t,e,n,s){var o=arguments.length,l=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,n,s);else for(var d=t.length-1;d>=0;d--)(c=t[d])&&(l=(o<3?c(l):o>3?c(e,n,l):c(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function F2(t,e){return function(n,s){e(n,s,t)}}function I2(t,e,n,s,o,l){function c(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var d=s.kind,h=d==="getter"?"get":d==="setter"?"set":"value",f=!e&&t?s.static?t:t.prototype:null,p=e||(f?Object.getOwnPropertyDescriptor(f,s.name):{}),m,y=!1,w=n.length-1;w>=0;w--){var b={};for(var j in s)b[j]=j==="access"?{}:s[j];for(var j in s.access)b.access[j]=s.access[j];b.addInitializer=function(N){if(y)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(N||null))};var k=(0,n[w])(d==="accessor"?{get:p.get,set:p.set}:p[h],b);if(d==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(m=c(k.get))&&(p.get=m),(m=c(k.set))&&(p.set=m),(m=c(k.init))&&o.unshift(m)}else(m=c(k))&&(d==="field"?o.unshift(m):p[h]=m)}f&&Object.defineProperty(f,s.name,p),y=!0}function M2(t,e,n){for(var s=arguments.length>2,o=0;o<e.length;o++)n=s?e[o].call(t,n):e[o].call(t);return s?n:void 0}function L2(t){return typeof t=="symbol"?t:"".concat(t)}function B2(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function $2(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Re(t,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(p){try{f(s.next(p))}catch(m){c(m)}}function h(p){try{f(s.throw(p))}catch(m){c(m)}}function f(p){p.done?l(p.value):o(p.value).then(d,h)}f((s=s.apply(t,e||[])).next())})}function z2(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(f){return function(p){return h([f,p])}}function h(f){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(s=1,o&&(l=f[0]&2?o.return:f[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,f[1])).done)return l;switch(o=0,l&&(f=[f[0]&2,l.value]),f[0]){case 0:case 1:l=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!l||f[1]>l[0]&&f[1]<l[3])){n.label=f[1];break}if(f[0]===6&&n.label<l[1]){n.label=l[1],l=f;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(f);break}l[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(p){f=[6,p],o=0}finally{s=l=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var ou=Object.create?(function(t,e,n,s){s===void 0&&(s=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,s,o)}):(function(t,e,n,s){s===void 0&&(s=n),t[s]=e[n]});function W2(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&ou(e,t,n)}function Md(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xg(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var s=n.call(t),o,l=[],c;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)l.push(o.value)}catch(d){c={error:d}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(c)throw c.error}}return l}function V2(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(xg(arguments[e]));return t}function U2(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var s=Array(t),o=0,e=0;e<n;e++)for(var l=arguments[e],c=0,d=l.length;c<d;c++,o++)s[o]=l[c];return s}function yg(t,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,l;s<o;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return t.concat(l||Array.prototype.slice.call(e))}function Mo(t){return this instanceof Mo?(this.v=t,this):new Mo(t)}function H2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(w){return function(b){return Promise.resolve(b).then(w,m)}}function d(w,b){s[w]&&(o[w]=function(j){return new Promise(function(k,N){l.push([w,j,k,N])>1||h(w,j)})},b&&(o[w]=b(o[w])))}function h(w,b){try{f(s[w](b))}catch(j){y(l[0][3],j)}}function f(w){w.value instanceof Mo?Promise.resolve(w.value.v).then(p,m):y(l[0][2],w)}function p(w){h("next",w)}function m(w){h("throw",w)}function y(w,b){w(b),l.shift(),l.length&&h(l[0][0],l[0][1])}}function q2(t){var e,n;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,l){e[o]=t[o]?function(c){return(n=!n)?{value:Mo(t[o](c)),done:!1}:l?l(c):c}:l}}function G2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Md=="function"?Md(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(l){n[l]=t[l]&&function(c){return new Promise(function(d,h){c=t[l](c),o(d,h,c.done,c.value)})}}function o(l,c,d,h){Promise.resolve(h).then(function(f){l({value:f,done:d})},c)}}function K2(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var jO=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Lp=function(t){return Lp=Object.getOwnPropertyNames||function(e){var n=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[n.length]=s);return n},Lp(t)};function Y2(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Lp(t),s=0;s<n.length;s++)n[s]!=="default"&&ou(e,t,n[s]);return jO(e,t),e}function J2(t){return t&&t.__esModule?t:{default:t}}function Q2(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)}function X2(t,e,n,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function Z2(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function eS(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],n&&(o=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");o&&(s=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:s,async:n})}else n&&t.stack.push({async:!0});return e}var SO=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var s=new Error(n);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function tS(t){function e(l){t.error=t.hasError?new SO(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var n,s=0;function o(){for(;n=t.stack.pop();)try{if(!n.async&&s===1)return s=0,t.stack.push(n),Promise.resolve().then(o);if(n.dispose){var l=n.dispose.call(n.value);if(n.async)return s|=2,Promise.resolve(l).then(o,function(c){return e(c),o()})}else s|=1}catch(c){e(c)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function nS(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,s,o,l,c){return s?e?".jsx":".js":o&&(!l||!c)?n:o+l+"."+c.toLowerCase()+"js"}):t}const NO={__extends:D2,__assign:er,__rest:Ws,__decorate:O2,__param:F2,__esDecorate:I2,__runInitializers:M2,__propKey:L2,__setFunctionName:B2,__metadata:$2,__awaiter:Re,__generator:z2,__createBinding:ou,__exportStar:W2,__values:Md,__read:xg,__spread:V2,__spreadArrays:U2,__spreadArray:yg,__await:Mo,__asyncGenerator:H2,__asyncDelegator:q2,__asyncValues:G2,__makeTemplateObject:K2,__importStar:Y2,__importDefault:J2,__classPrivateFieldGet:Q2,__classPrivateFieldSet:X2,__classPrivateFieldIn:Z2,__addDisposableResource:eS,__disposeResources:tS,__rewriteRelativeImportExtension:nS},kO=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:eS,get __assign(){return er},__asyncDelegator:q2,__asyncGenerator:H2,__asyncValues:G2,__await:Mo,__awaiter:Re,__classPrivateFieldGet:Q2,__classPrivateFieldIn:Z2,__classPrivateFieldSet:X2,__createBinding:ou,__decorate:O2,__disposeResources:tS,__esDecorate:I2,__exportStar:W2,__extends:D2,__generator:z2,__importDefault:J2,__importStar:Y2,__makeTemplateObject:K2,__metadata:$2,__param:F2,__propKey:L2,__read:xg,__rest:Ws,__rewriteRelativeImportExtension:nS,__runInitializers:M2,__setFunctionName:B2,__spread:V2,__spreadArray:yg,__spreadArrays:U2,__values:Md,default:NO},Symbol.toStringTag,{value:"Module"}));var gd="right-scroll-bar-position",xd="width-before-scroll-bar",CO="with-scroll-bars-hidden",EO="--removed-body-scroll-bar-size";function Cf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _O(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var o=n.value;o!==s&&(n.value=s,n.callback(s,o))}}}})[0];return n.callback=e,n.facade}var AO=typeof window<"u"?x.useLayoutEffect:x.useEffect,yw=new WeakMap;function TO(t,e){var n=_O(null,function(s){return t.forEach(function(o){return Cf(o,s)})});return AO(function(){var s=yw.get(n);if(s){var o=new Set(s),l=new Set(t),c=n.current;o.forEach(function(d){l.has(d)||Cf(d,null)}),l.forEach(function(d){o.has(d)||Cf(d,c)})}yw.set(n,t)},[t]),n}function PO(t){return t}function RO(t,e){e===void 0&&(e=PO);var n=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var c=e(l,s);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(s=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){s=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(l),c=n}var h=function(){var p=c;c=[],p.forEach(l)},f=function(){return Promise.resolve().then(h)};f(),n={push:function(p){c.push(p),f()},filter:function(p){return c=c.filter(p),n}}}};return o}function DO(t){t===void 0&&(t={});var e=RO(null);return e.options=er({async:!0,ssr:!1},t),e}var rS=function(t){var e=t.sideCar,n=Ws(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return x.createElement(s,er({},n))};rS.isSideCarExport=!0;function OO(t,e){return t.useMedium(e),rS}var sS=DO(),Ef=function(){},au=x.forwardRef(function(t,e){var n=x.useRef(null),s=x.useState({onScrollCapture:Ef,onWheelCapture:Ef,onTouchMoveCapture:Ef}),o=s[0],l=s[1],c=t.forwardProps,d=t.children,h=t.className,f=t.removeScrollBar,p=t.enabled,m=t.shards,y=t.sideCar,w=t.noRelative,b=t.noIsolation,j=t.inert,k=t.allowPinchZoom,N=t.as,E=N===void 0?"div":N,C=t.gapMode,A=Ws(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=y,L=TO([n,e]),B=er(er({},A),o);return x.createElement(x.Fragment,null,p&&x.createElement(O,{sideCar:sS,removeScrollBar:f,shards:m,noRelative:w,noIsolation:b,inert:j,setCallbacks:l,allowPinchZoom:!!k,lockRef:n,gapMode:C}),c?x.cloneElement(x.Children.only(d),er(er({},B),{ref:L})):x.createElement(E,er({},B,{className:h,ref:L}),d))});au.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};au.classNames={fullWidth:xd,zeroRight:gd};var FO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IO(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=FO();return e&&t.setAttribute("nonce",e),t}function MO(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function LO(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var BO=function(){var t=0,e=null;return{add:function(n){t==0&&(e=IO())&&(MO(e,n),LO(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$O=function(){var t=BO();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},iS=function(){var t=$O(),e=function(n){var s=n.styles,o=n.dynamic;return t(s,o),null};return e},zO={left:0,top:0,right:0,gap:0},_f=function(t){return parseInt(t||"",10)||0},WO=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[_f(n),_f(s),_f(o)]},VO=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zO;var e=WO(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},UO=iS(),To="data-scroll-locked",HO=function(t,e,n,s){var o=t.left,l=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(CO,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(To,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gd,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(xd,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(gd," .").concat(gd,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(xd," .").concat(xd,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(To,`] {
    `).concat(EO,": ").concat(d,`px;
  }
`)},vw=function(){var t=parseInt(document.body.getAttribute(To)||"0",10);return isFinite(t)?t:0},qO=function(){x.useEffect(function(){return document.body.setAttribute(To,(vw()+1).toString()),function(){var t=vw()-1;t<=0?document.body.removeAttribute(To):document.body.setAttribute(To,t.toString())}},[])},GO=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,o=s===void 0?"margin":s;qO();var l=x.useMemo(function(){return VO(o)},[o]);return x.createElement(UO,{styles:HO(l,!e,o,n?"":"!important")})},Bp=!1;if(typeof window<"u")try{var qc=Object.defineProperty({},"passive",{get:function(){return Bp=!0,!0}});window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,qc)}catch{Bp=!1}var oo=Bp?{passive:!1}:!1,KO=function(t){return t.tagName==="TEXTAREA"},oS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!KO(t)&&n[e]==="visible")},YO=function(t){return oS(t,"overflowY")},JO=function(t){return oS(t,"overflowX")},ww=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=aS(t,s);if(o){var l=lS(t,s),c=l[1],d=l[2];if(c>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},QO=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},XO=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},aS=function(t,e){return t==="v"?YO(e):JO(e)},lS=function(t,e){return t==="v"?QO(e):XO(e)},ZO=function(t,e){return t==="h"&&e==="rtl"?-1:1},eF=function(t,e,n,s,o){var l=ZO(t,window.getComputedStyle(e).direction),c=l*s,d=n.target,h=e.contains(d),f=!1,p=c>0,m=0,y=0;do{if(!d)break;var w=lS(t,d),b=w[0],j=w[1],k=w[2],N=j-k-l*b;(b||N)&&aS(t,d)&&(m+=N,y+=b);var E=d.parentNode;d=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(p&&Math.abs(m)<1||!p&&Math.abs(y)<1)&&(f=!0),f},Gc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},bw=function(t){return[t.deltaX,t.deltaY]},jw=function(t){return t&&"current"in t?t.current:t},tF=function(t,e){return t[0]===e[0]&&t[1]===e[1]},nF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},rF=0,ao=[];function sF(t){var e=x.useRef([]),n=x.useRef([0,0]),s=x.useRef(),o=x.useState(rF++)[0],l=x.useState(iS)[0],c=x.useRef(t);x.useEffect(function(){c.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var j=yg([t.lockRef.current],(t.shards||[]).map(jw),!0).filter(Boolean);return j.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),j.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var d=x.useCallback(function(j,k){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!c.current.allowPinchZoom;var N=Gc(j),E=n.current,C="deltaX"in j?j.deltaX:E[0]-N[0],A="deltaY"in j?j.deltaY:E[1]-N[1],O,L=j.target,B=Math.abs(C)>Math.abs(A)?"h":"v";if("touches"in j&&B==="h"&&L.type==="range")return!1;var R=ww(B,L);if(!R)return!0;if(R?O=B:(O=B==="v"?"h":"v",R=ww(B,L)),!R)return!1;if(!s.current&&"changedTouches"in j&&(C||A)&&(s.current=O),!O)return!0;var z=s.current||O;return eF(z,k,j,z==="h"?C:A)},[]),h=x.useCallback(function(j){var k=j;if(!(!ao.length||ao[ao.length-1]!==l)){var N="deltaY"in k?bw(k):Gc(k),E=e.current.filter(function(O){return O.name===k.type&&(O.target===k.target||k.target===O.shadowParent)&&tF(O.delta,N)})[0];if(E&&E.should){k.cancelable&&k.preventDefault();return}if(!E){var C=(c.current.shards||[]).map(jw).filter(Boolean).filter(function(O){return O.contains(k.target)}),A=C.length>0?d(k,C[0]):!c.current.noIsolation;A&&k.cancelable&&k.preventDefault()}}},[]),f=x.useCallback(function(j,k,N,E){var C={name:j,delta:k,target:N,should:E,shadowParent:iF(N)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(A){return A!==C})},1)},[]),p=x.useCallback(function(j){n.current=Gc(j),s.current=void 0},[]),m=x.useCallback(function(j){f(j.type,bw(j),j.target,d(j,t.lockRef.current))},[]),y=x.useCallback(function(j){f(j.type,Gc(j),j.target,d(j,t.lockRef.current))},[]);x.useEffect(function(){return ao.push(l),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",h,oo),document.addEventListener("touchmove",h,oo),document.addEventListener("touchstart",p,oo),function(){ao=ao.filter(function(j){return j!==l}),document.removeEventListener("wheel",h,oo),document.removeEventListener("touchmove",h,oo),document.removeEventListener("touchstart",p,oo)}},[]);var w=t.removeScrollBar,b=t.inert;return x.createElement(x.Fragment,null,b?x.createElement(l,{styles:nF(o)}):null,w?x.createElement(GO,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function iF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const oF=OO(sS,sF);var lu=x.forwardRef(function(t,e){return x.createElement(au,er({},t,{ref:e,sideCar:oF}))});lu.classNames=au.classNames;var aF=[" ","Enter","ArrowUp","ArrowDown"],lF=[" ","Enter"],Ti="Select",[cu,du,cF]=fR(Ti),[Ko]=Nl(Ti,[cF,su]),uu=su(),[dF,Vs]=Ko(Ti),[uF,hF]=Ko(Ti),cS=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:o,onOpenChange:l,value:c,defaultValue:d,onValueChange:h,dir:f,name:p,autoComplete:m,disabled:y,required:w,form:b}=t,j=uu(e),[k,N]=x.useState(null),[E,C]=x.useState(null),[A,O]=x.useState(!1),L=mR(f),[B,R]=Id({prop:s,defaultProp:o??!1,onChange:l,caller:Ti}),[z,X]=Id({prop:c,defaultProp:d,onChange:h,caller:Ti}),ae=x.useRef(null),K=k?b||!!k.closest("form"):!0,[te,ee]=x.useState(new Set),re=Array.from(te).map(J=>J.props.value).join(";");return r.jsx(_2,{...j,children:r.jsxs(dF,{required:w,scope:e,trigger:k,onTriggerChange:N,valueNode:E,onValueNodeChange:C,valueNodeHasChildren:A,onValueNodeHasChildrenChange:O,contentId:Ei(),value:z,onValueChange:X,open:B,onOpenChange:R,dir:L,triggerPointerDownPosRef:ae,disabled:y,children:[r.jsx(cu.Provider,{scope:e,children:r.jsx(uF,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(J=>{ee(M=>new Set(M).add(J))},[]),onNativeOptionRemove:x.useCallback(J=>{ee(M=>{const T=new Set(M);return T.delete(J),T})},[]),children:n})}),K?r.jsxs(PS,{"aria-hidden":!0,required:w,tabIndex:-1,name:p,autoComplete:m,value:z,onChange:J=>X(J.target.value),disabled:y,form:b,children:[z===void 0?r.jsx("option",{value:""}):null,Array.from(te)]},re):null]})})};cS.displayName=Ti;var dS="SelectTrigger",uS=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...o}=t,l=uu(n),c=Vs(dS,n),d=c.disabled||s,h=Ct(e,c.onTriggerChange),f=du(n),p=x.useRef("touch"),[m,y,w]=DS(j=>{const k=f().filter(C=>!C.disabled),N=k.find(C=>C.value===c.value),E=OS(k,j,N);E!==void 0&&c.onValueChange(E.value)}),b=j=>{d||(c.onOpenChange(!0),w()),j&&(c.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return r.jsx(mg,{asChild:!0,...l,children:r.jsx(ot.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":RS(c.value)?"":void 0,...o,ref:h,onClick:rt(o.onClick,j=>{j.currentTarget.focus(),p.current!=="mouse"&&b(j)}),onPointerDown:rt(o.onPointerDown,j=>{p.current=j.pointerType;const k=j.target;k.hasPointerCapture(j.pointerId)&&k.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(b(j),j.preventDefault())}),onKeyDown:rt(o.onKeyDown,j=>{const k=m.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&y(j.key),!(k&&j.key===" ")&&aF.includes(j.key)&&(b(),j.preventDefault())})})})});uS.displayName=dS;var hS="SelectValue",fS=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:o,children:l,placeholder:c="",...d}=t,h=Vs(hS,n),{onValueNodeHasChildrenChange:f}=h,p=l!==void 0,m=Ct(e,h.onValueNodeChange);return gn(()=>{f(p)},[f,p]),r.jsx(ot.span,{...d,ref:m,style:{pointerEvents:"none"},children:RS(h.value)?r.jsx(r.Fragment,{children:c}):l})});fS.displayName=hS;var fF="SelectIcon",pS=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...o}=t;return r.jsx(ot.span,{"aria-hidden":!0,...o,ref:e,children:s||""})});pS.displayName=fF;var pF="SelectPortal",mS=t=>r.jsx(iu,{asChild:!0,...t});mS.displayName=pF;var Pi="SelectContent",gS=x.forwardRef((t,e)=>{const n=Vs(Pi,t.__scopeSelect),[s,o]=x.useState();if(gn(()=>{o(new DocumentFragment)},[]),!n.open){const l=s;return l?gl.createPortal(r.jsx(xS,{scope:t.__scopeSelect,children:r.jsx(cu.Slot,{scope:t.__scopeSelect,children:r.jsx("div",{children:t.children})})}),l):null}return r.jsx(yS,{...t,ref:e})});gS.displayName=Pi;var gr=10,[xS,Us]=Ko(Pi),mF="SelectContentImpl",gF=aO("SelectContent.RemoveScroll"),yS=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:h,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:y,collisionPadding:w,sticky:b,hideWhenDetached:j,avoidCollisions:k,...N}=t,E=Vs(Pi,n),[C,A]=x.useState(null),[O,L]=x.useState(null),B=Ct(e,H=>A(H)),[R,z]=x.useState(null),[X,ae]=x.useState(null),K=du(n),[te,ee]=x.useState(!1),re=x.useRef(!1);x.useEffect(()=>{if(C)return gg(C)},[C]),og();const J=x.useCallback(H=>{const[Z,...he]=K().map(Ne=>Ne.ref.current),[ue]=he.slice(-1),ve=document.activeElement;for(const Ne of H)if(Ne===ve||(Ne?.scrollIntoView({block:"nearest"}),Ne===Z&&O&&(O.scrollTop=0),Ne===ue&&O&&(O.scrollTop=O.scrollHeight),Ne?.focus(),document.activeElement!==ve))return},[K,O]),M=x.useCallback(()=>J([R,C]),[J,R,C]);x.useEffect(()=>{te&&M()},[te,M]);const{onOpenChange:T,triggerPointerDownPosRef:F}=E;x.useEffect(()=>{if(C){let H={x:0,y:0};const Z=ue=>{H={x:Math.abs(Math.round(ue.pageX)-(F.current?.x??0)),y:Math.abs(Math.round(ue.pageY)-(F.current?.y??0))}},he=ue=>{H.x<=10&&H.y<=10?ue.preventDefault():C.contains(ue.target)||T(!1),document.removeEventListener("pointermove",Z),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",he,{capture:!0})}}},[C,T,F]),x.useEffect(()=>{const H=()=>T(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[T]);const[q,D]=DS(H=>{const Z=K().filter(ve=>!ve.disabled),he=Z.find(ve=>ve.ref.current===document.activeElement),ue=OS(Z,H,he);ue&&setTimeout(()=>ue.ref.current.focus())}),V=x.useCallback((H,Z,he)=>{const ue=!re.current&&!he;(E.value!==void 0&&E.value===Z||ue)&&(z(H),ue&&(re.current=!0))},[E.value]),W=x.useCallback(()=>C?.focus(),[C]),se=x.useCallback((H,Z,he)=>{const ue=!re.current&&!he;(E.value!==void 0&&E.value===Z||ue)&&ae(H)},[E.value]),I=s==="popper"?$p:vS,U=I===$p?{side:d,sideOffset:h,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:y,collisionPadding:w,sticky:b,hideWhenDetached:j,avoidCollisions:k}:{};return r.jsx(xS,{scope:n,content:C,viewport:O,onViewportChange:L,itemRefCallback:V,selectedItem:R,onItemLeave:W,itemTextRefCallback:se,focusSelectedItem:M,selectedItemText:X,position:s,isPositioned:te,searchRef:q,children:r.jsx(lu,{as:gF,allowPinchZoom:!0,children:r.jsx(Zd,{asChild:!0,trapped:E.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:rt(o,H=>{E.trigger?.focus({preventScroll:!0}),H.preventDefault()}),children:r.jsx(Xd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:r.jsx(I,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:H=>H.preventDefault(),...N,...U,onPlaced:()=>ee(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:rt(N.onKeyDown,H=>{const Z=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!Z&&H.key.length===1&&D(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let ue=K().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(H.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const ve=H.target,Ne=ue.indexOf(ve);ue=ue.slice(Ne+1)}setTimeout(()=>J(ue)),H.preventDefault()}})})})})})})});yS.displayName=mF;var xF="SelectItemAlignedPosition",vS=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...o}=t,l=Vs(Pi,n),c=Us(Pi,n),[d,h]=x.useState(null),[f,p]=x.useState(null),m=Ct(e,B=>p(B)),y=du(n),w=x.useRef(!1),b=x.useRef(!0),{viewport:j,selectedItem:k,selectedItemText:N,focusSelectedItem:E}=c,C=x.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&f&&j&&k&&N){const B=l.trigger.getBoundingClientRect(),R=f.getBoundingClientRect(),z=l.valueNode.getBoundingClientRect(),X=N.getBoundingClientRect();if(l.dir!=="rtl"){const ve=X.left-R.left,Ne=z.left-ve,Ge=B.left-Ne,tt=B.width+Ge,qe=Math.max(tt,R.width),Ut=window.innerWidth-gr,Et=Xv(Ne,[gr,Math.max(gr,Ut-qe)]);d.style.minWidth=tt+"px",d.style.left=Et+"px"}else{const ve=R.right-X.right,Ne=window.innerWidth-z.right-ve,Ge=window.innerWidth-B.right-Ne,tt=B.width+Ge,qe=Math.max(tt,R.width),Ut=window.innerWidth-gr,Et=Xv(Ne,[gr,Math.max(gr,Ut-qe)]);d.style.minWidth=tt+"px",d.style.right=Et+"px"}const ae=y(),K=window.innerHeight-gr*2,te=j.scrollHeight,ee=window.getComputedStyle(f),re=parseInt(ee.borderTopWidth,10),J=parseInt(ee.paddingTop,10),M=parseInt(ee.borderBottomWidth,10),T=parseInt(ee.paddingBottom,10),F=re+J+te+T+M,q=Math.min(k.offsetHeight*5,F),D=window.getComputedStyle(j),V=parseInt(D.paddingTop,10),W=parseInt(D.paddingBottom,10),se=B.top+B.height/2-gr,I=K-se,U=k.offsetHeight/2,H=k.offsetTop+U,Z=re+J+H,he=F-Z;if(Z<=se){const ve=ae.length>0&&k===ae[ae.length-1].ref.current;d.style.bottom="0px";const Ne=f.clientHeight-j.offsetTop-j.offsetHeight,Ge=Math.max(I,U+(ve?W:0)+Ne+M),tt=Z+Ge;d.style.height=tt+"px"}else{const ve=ae.length>0&&k===ae[0].ref.current;d.style.top="0px";const Ge=Math.max(se,re+j.offsetTop+(ve?V:0)+U)+he;d.style.height=Ge+"px",j.scrollTop=Z-se+j.offsetTop}d.style.margin=`${gr}px 0`,d.style.minHeight=q+"px",d.style.maxHeight=K+"px",s?.(),requestAnimationFrame(()=>w.current=!0)}},[y,l.trigger,l.valueNode,d,f,j,k,N,l.dir,s]);gn(()=>C(),[C]);const[A,O]=x.useState();gn(()=>{f&&O(window.getComputedStyle(f).zIndex)},[f]);const L=x.useCallback(B=>{B&&b.current===!0&&(C(),E?.(),b.current=!1)},[C,E]);return r.jsx(vF,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:w,onScrollButtonChange:L,children:r.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:r.jsx(ot.div,{...o,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});vS.displayName=xF;var yF="SelectPopperPosition",$p=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:o=gr,...l}=t,c=uu(n);return r.jsx(A2,{...c,...l,ref:e,align:s,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$p.displayName=yF;var[vF,vg]=Ko(Pi,{}),zp="SelectViewport",wS=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...o}=t,l=Us(zp,n),c=vg(zp,n),d=Ct(e,l.onViewportChange),h=x.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(cu.Slot,{scope:n,children:r.jsx(ot.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:rt(o.onScroll,f=>{const p=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=c;if(y?.current&&m){const w=Math.abs(h.current-p.scrollTop);if(w>0){const b=window.innerHeight-gr*2,j=parseFloat(m.style.minHeight),k=parseFloat(m.style.height),N=Math.max(j,k);if(N<b){const E=N+w,C=Math.min(b,E),A=E-C;m.style.height=C+"px",m.style.bottom==="0px"&&(p.scrollTop=A>0?A:0,m.style.justifyContent="flex-end")}}}h.current=p.scrollTop})})})]})});wS.displayName=zp;var bS="SelectGroup",[wF,bF]=Ko(bS),jF=x.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,o=Ei();return r.jsx(wF,{scope:n,id:o,children:r.jsx(ot.div,{role:"group","aria-labelledby":o,...s,ref:e})})});jF.displayName=bS;var jS="SelectLabel",SF=x.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,o=bF(jS,n);return r.jsx(ot.div,{id:o.id,...s,ref:e})});SF.displayName=jS;var Ld="SelectItem",[NF,SS]=Ko(Ld),NS=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:o=!1,textValue:l,...c}=t,d=Vs(Ld,n),h=Us(Ld,n),f=d.value===s,[p,m]=x.useState(l??""),[y,w]=x.useState(!1),b=Ct(e,E=>h.itemRefCallback?.(E,s,o)),j=Ei(),k=x.useRef("touch"),N=()=>{o||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(NF,{scope:n,value:s,disabled:o,textId:j,isSelected:f,onItemTextChange:x.useCallback(E=>{m(C=>C||(E?.textContent??"").trim())},[]),children:r.jsx(cu.ItemSlot,{scope:n,value:s,disabled:o,textValue:p,children:r.jsx(ot.div,{role:"option","aria-labelledby":j,"data-highlighted":y?"":void 0,"aria-selected":f&&y,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:b,onFocus:rt(c.onFocus,()=>w(!0)),onBlur:rt(c.onBlur,()=>w(!1)),onClick:rt(c.onClick,()=>{k.current!=="mouse"&&N()}),onPointerUp:rt(c.onPointerUp,()=>{k.current==="mouse"&&N()}),onPointerDown:rt(c.onPointerDown,E=>{k.current=E.pointerType}),onPointerMove:rt(c.onPointerMove,E=>{k.current=E.pointerType,o?h.onItemLeave?.():k.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:rt(c.onPointerLeave,E=>{E.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:rt(c.onKeyDown,E=>{h.searchRef?.current!==""&&E.key===" "||(lF.includes(E.key)&&N(),E.key===" "&&E.preventDefault())})})})})});NS.displayName=Ld;var Ba="SelectItemText",kS=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:o,...l}=t,c=Vs(Ba,n),d=Us(Ba,n),h=SS(Ba,n),f=hF(Ba,n),[p,m]=x.useState(null),y=Ct(e,N=>m(N),h.onItemTextChange,N=>d.itemTextRefCallback?.(N,h.value,h.disabled)),w=p?.textContent,b=x.useMemo(()=>r.jsx("option",{value:h.value,disabled:h.disabled,children:w},h.value),[h.disabled,h.value,w]),{onNativeOptionAdd:j,onNativeOptionRemove:k}=f;return gn(()=>(j(b),()=>k(b)),[j,k,b]),r.jsxs(r.Fragment,{children:[r.jsx(ot.span,{id:h.textId,...l,ref:y}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?gl.createPortal(l.children,c.valueNode):null]})});kS.displayName=Ba;var CS="SelectItemIndicator",ES=x.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return SS(CS,n).isSelected?r.jsx(ot.span,{"aria-hidden":!0,...s,ref:e}):null});ES.displayName=CS;var Wp="SelectScrollUpButton",_S=x.forwardRef((t,e)=>{const n=Us(Wp,t.__scopeSelect),s=vg(Wp,t.__scopeSelect),[o,l]=x.useState(!1),c=Ct(e,s.onScrollButtonChange);return gn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const f=h.scrollTop>0;l(f)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?r.jsx(TS,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});_S.displayName=Wp;var Vp="SelectScrollDownButton",AS=x.forwardRef((t,e)=>{const n=Us(Vp,t.__scopeSelect),s=vg(Vp,t.__scopeSelect),[o,l]=x.useState(!1),c=Ct(e,s.onScrollButtonChange);return gn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const f=h.scrollHeight-h.clientHeight,p=Math.ceil(h.scrollTop)<f;l(p)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?r.jsx(TS,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});AS.displayName=Vp;var TS=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...o}=t,l=Us("SelectScrollButton",n),c=x.useRef(null),d=du(n),h=x.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return x.useEffect(()=>()=>h(),[h]),gn(()=>{d().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),r.jsx(ot.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:rt(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(s,50))}),onPointerMove:rt(o.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(s,50))}),onPointerLeave:rt(o.onPointerLeave,()=>{h()})})}),kF="SelectSeparator",CF=x.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return r.jsx(ot.div,{"aria-hidden":!0,...s,ref:e})});CF.displayName=kF;var Up="SelectArrow",EF=x.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,o=uu(n),l=Vs(Up,n),c=Us(Up,n);return l.open&&c.position==="popper"?r.jsx(T2,{...o,...s,ref:e}):null});EF.displayName=Up;var _F="SelectBubbleInput",PS=x.forwardRef(({__scopeSelect:t,value:e,...n},s)=>{const o=x.useRef(null),l=Ct(s,o),c=gO(e);return x.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==e&&p){const m=new Event("change",{bubbles:!0});p.call(d,e),d.dispatchEvent(m)}},[c,e]),r.jsx(ot.select,{...n,style:{...P2,...n.style},ref:l,defaultValue:e})});PS.displayName=_F;function RS(t){return t===""||t===void 0}function DS(t){const e=_i(t),n=x.useRef(""),s=x.useRef(0),o=x.useCallback(c=>{const d=n.current+c;e(d),(function h(f){n.current=f,window.clearTimeout(s.current),f!==""&&(s.current=window.setTimeout(()=>h(""),1e3))})(d)},[e]),l=x.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,o,l]}function OS(t,e,n){const o=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let c=AF(t,Math.max(l,0));o.length===1&&(c=c.filter(f=>f!==n));const h=c.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return h!==n?h:void 0}function AF(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var TF=cS,PF=uS,RF=fS,DF=pS,OF=mS,FF=gS,IF=wS,MF=NS,LF=kS,BF=ES,$F=_S,zF=AS;function WF({...t}){return r.jsx(TF,{"data-slot":"select",...t})}function VF({...t}){return r.jsx(RF,{"data-slot":"select-value",...t})}function UF({className:t,size:e="default",children:n,...s}){return r.jsxs(PF,{"data-slot":"select-trigger","data-size":e,className:mn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s,children:[n,r.jsx(DF,{asChild:!0,children:r.jsx(yr,{className:"size-4 opacity-50"})})]})}function HF({className:t,children:e,position:n="popper",...s}){return r.jsx(OF,{children:r.jsxs(FF,{"data-slot":"select-content",className:mn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[r.jsx(GF,{}),r.jsx(IF,{className:mn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),r.jsx(KF,{})]})})}function qF({className:t,children:e,...n}){return r.jsxs(MF,{"data-slot":"select-item",className:mn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[r.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:r.jsx(BF,{children:r.jsx(jl,{className:"size-4"})})}),r.jsx(LF,{children:e})]})}function GF({className:t,...e}){return r.jsx($F,{"data-slot":"select-scroll-up-button",className:mn("flex cursor-default items-center justify-center py-1",t),...e,children:r.jsx(Xm,{className:"size-4"})})}function KF({className:t,...e}){return r.jsx(zF,{"data-slot":"select-scroll-down-button",className:mn("flex cursor-default items-center justify-center py-1",t),...e,children:r.jsx(yr,{className:"size-4"})})}function YF(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const JF=t=>{switch(t){case"success":return ZF;case"info":return tI;case"warning":return eI;case"error":return nI;default:return null}},QF=Array(12).fill(0),XF=({visible:t,className:e})=>ge.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ge.createElement("div",{className:"sonner-spinner"},QF.map((n,s)=>ge.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),ZF=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eI=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),tI=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nI=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rI=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ge.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ge.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),sI=()=>{const[t,e]=ge.useState(document.hidden);return ge.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Hp=1;class iI{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:s,...o}=e,l=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Hp++,c=this.toasts.find(h=>h.id===l),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(h=>h.id===l?(this.publish({...h,...e,id:l,title:s}),{...h,...e,id:l,dismissible:d,title:s}):h):this.addToast({title:s,...o,dismissible:d,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let l=s!==void 0,c;const d=o.then(async f=>{if(c=["resolve",f],ge.isValidElement(f))l=!1,this.create({id:s,type:"default",message:f});else if(aI(f)&&!f.ok){l=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,y=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,b=typeof m=="object"&&!ge.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:y,...b})}else if(f instanceof Error){l=!1;const m=typeof n.error=="function"?await n.error(f):n.error,y=typeof n.description=="function"?await n.description(f):n.description,b=typeof m=="object"&&!ge.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:y,...b})}else if(n.success!==void 0){l=!1;const m=typeof n.success=="function"?await n.success(f):n.success,y=typeof n.description=="function"?await n.description(f):n.description,b=typeof m=="object"&&!ge.isValidElement(m)?m:{message:m};this.create({id:s,type:"success",description:y,...b})}}).catch(async f=>{if(c=["reject",f],n.error!==void 0){l=!1;const p=typeof n.error=="function"?await n.error(f):n.error,m=typeof n.description=="function"?await n.description(f):n.description,w=typeof p=="object"&&!ge.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:m,...w})}}).finally(()=>{l&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((f,p)=>d.then(()=>c[0]==="reject"?p(c[1]):f(c[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:h}:Object.assign(s,{unwrap:h})},this.custom=(e,n)=>{const s=n?.id||Hp++;return this.create({jsx:e(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const An=new iI,oI=(t,e)=>{const n=e?.id||Hp++;return An.addToast({title:t,...e,id:n}),n},aI=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",lI=oI,cI=()=>An.toasts,dI=()=>An.getActiveToasts(),be=Object.assign(lI,{success:An.success,info:An.info,warning:An.warning,error:An.error,custom:An.custom,message:An.message,promise:An.promise,dismiss:An.dismiss,loading:An.loading},{getHistory:cI,getToasts:dI});YF("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Kc(t){return t.label!==void 0}const uI=3,hI="24px",fI="16px",Sw=4e3,pI=356,mI=14,gI=45,xI=200;function Tr(...t){return t.filter(Boolean).join(" ")}function yI(t){const[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}const vI=t=>{var e,n,s,o,l,c,d,h,f;const{invert:p,toast:m,unstyled:y,interacting:w,setHeights:b,visibleToasts:j,heights:k,index:N,toasts:E,expanded:C,removeToast:A,defaultRichColors:O,closeButton:L,style:B,cancelButtonStyle:R,actionButtonStyle:z,className:X="",descriptionClassName:ae="",duration:K,position:te,gap:ee,expandByDefault:re,classNames:J,icons:M,closeButtonAriaLabel:T="Close toast"}=t,[F,q]=ge.useState(null),[D,V]=ge.useState(null),[W,se]=ge.useState(!1),[I,U]=ge.useState(!1),[H,Z]=ge.useState(!1),[he,ue]=ge.useState(!1),[ve,Ne]=ge.useState(!1),[Ge,tt]=ge.useState(0),[qe,Ut]=ge.useState(0),Et=ge.useRef(m.duration||K||Sw),ut=ge.useRef(null),xt=ge.useRef(null),Ie=N===0,Ft=N+1<=j,wt=m.type,Qe=m.dismissible!==!1,Y=m.className||"",ce=m.descriptionClassName||"",ke=ge.useMemo(()=>k.findIndex(le=>le.toastId===m.id)||0,[k,m.id]),De=ge.useMemo(()=>{var le;return(le=m.closeButton)!=null?le:L},[m.closeButton,L]),Ue=ge.useMemo(()=>m.duration||K||Sw,[m.duration,K]),at=ge.useRef(0),ht=ge.useRef(0),sn=ge.useRef(0),Qt=ge.useRef(null),[xn,as]=te.split("-"),lt=ge.useMemo(()=>k.reduce((le,Oe,Be)=>Be>=ke?le:le+Oe.height,0),[k,ke]),Dn=sI(),ls=m.invert||p,Ht=wt==="loading";ht.current=ge.useMemo(()=>ke*ee+lt,[ke,lt]),ge.useEffect(()=>{Et.current=Ue},[Ue]),ge.useEffect(()=>{se(!0)},[]),ge.useEffect(()=>{const le=xt.current;if(le){const Oe=le.getBoundingClientRect().height;return Ut(Oe),b(Be=>[{toastId:m.id,height:Oe,position:m.position},...Be]),()=>b(Be=>Be.filter(Je=>Je.toastId!==m.id))}},[b,m.id]),ge.useLayoutEffect(()=>{if(!W)return;const le=xt.current,Oe=le.style.height;le.style.height="auto";const Be=le.getBoundingClientRect().height;le.style.height=Oe,Ut(Be),b(Je=>Je.find(st=>st.toastId===m.id)?Je.map(st=>st.toastId===m.id?{...st,height:Be}:st):[{toastId:m.id,height:Be,position:m.position},...Je])},[W,m.title,m.description,b,m.id,m.jsx,m.action,m.cancel]);const on=ge.useCallback(()=>{U(!0),tt(ht.current),b(le=>le.filter(Oe=>Oe.toastId!==m.id)),setTimeout(()=>{A(m)},xI)},[m,A,b,ht]);ge.useEffect(()=>{if(m.promise&&wt==="loading"||m.duration===1/0||m.type==="loading")return;let le;return C||w||Dn?(()=>{if(sn.current<at.current){const Je=new Date().getTime()-at.current;Et.current=Et.current-Je}sn.current=new Date().getTime()})():(()=>{Et.current!==1/0&&(at.current=new Date().getTime(),le=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),on()},Et.current))})(),()=>clearTimeout(le)},[C,w,m,wt,Dn,on]),ge.useEffect(()=>{m.delete&&(on(),m.onDismiss==null||m.onDismiss.call(m,m))},[on,m.delete]);function jn(){var le;if(M?.loading){var Oe;return ge.createElement("div",{className:Tr(J?.loader,m==null||(Oe=m.classNames)==null?void 0:Oe.loader,"sonner-loader"),"data-visible":wt==="loading"},M.loading)}return ge.createElement(XF,{className:Tr(J?.loader,m==null||(le=m.classNames)==null?void 0:le.loader),visible:wt==="loading"})}const rr=m.icon||M?.[wt]||JF(wt);var _t,sr;return ge.createElement("li",{tabIndex:0,ref:xt,className:Tr(X,Y,J?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,J?.default,J?.[wt],m==null||(n=m.classNames)==null?void 0:n[wt]),"data-sonner-toast":"","data-rich-colors":(_t=m.richColors)!=null?_t:O,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":W,"data-promise":!!m.promise,"data-swiped":ve,"data-removed":I,"data-visible":Ft,"data-y-position":xn,"data-x-position":as,"data-index":N,"data-front":Ie,"data-swiping":H,"data-dismissible":Qe,"data-type":wt,"data-invert":ls,"data-swipe-out":he,"data-swipe-direction":D,"data-expanded":!!(C||re&&W),"data-testid":m.testId,style:{"--index":N,"--toasts-before":N,"--z-index":E.length-N,"--offset":`${I?Ge:ht.current}px`,"--initial-height":re?"auto":`${qe}px`,...B,...m.style},onDragEnd:()=>{Z(!1),q(null),Qt.current=null},onPointerDown:le=>{le.button!==2&&(Ht||!Qe||(ut.current=new Date,tt(ht.current),le.target.setPointerCapture(le.pointerId),le.target.tagName!=="BUTTON"&&(Z(!0),Qt.current={x:le.clientX,y:le.clientY})))},onPointerUp:()=>{var le,Oe,Be;if(he||!Qe)return;Qt.current=null;const Je=Number(((le=xt.current)==null?void 0:le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),qt=Number(((Oe=xt.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),st=new Date().getTime()-((Be=ut.current)==null?void 0:Be.getTime()),ct=F==="x"?Je:qt,Bt=Math.abs(ct)/st;if(Math.abs(ct)>=gI||Bt>.11){tt(ht.current),m.onDismiss==null||m.onDismiss.call(m,m),V(F==="x"?Je>0?"right":"left":qt>0?"down":"up"),on(),ue(!0);return}else{var At,de;(At=xt.current)==null||At.style.setProperty("--swipe-amount-x","0px"),(de=xt.current)==null||de.style.setProperty("--swipe-amount-y","0px")}Ne(!1),Z(!1),q(null)},onPointerMove:le=>{var Oe,Be,Je;if(!Qt.current||!Qe||((Oe=window.getSelection())==null?void 0:Oe.toString().length)>0)return;const st=le.clientY-Qt.current.y,ct=le.clientX-Qt.current.x;var Bt;const At=(Bt=t.swipeDirections)!=null?Bt:yI(te);!F&&(Math.abs(ct)>1||Math.abs(st)>1)&&q(Math.abs(ct)>Math.abs(st)?"x":"y");let de={x:0,y:0};const je=we=>1/(1.5+Math.abs(we)/20);if(F==="y"){if(At.includes("top")||At.includes("bottom"))if(At.includes("top")&&st<0||At.includes("bottom")&&st>0)de.y=st;else{const we=st*je(st);de.y=Math.abs(we)<Math.abs(st)?we:st}}else if(F==="x"&&(At.includes("left")||At.includes("right")))if(At.includes("left")&&ct<0||At.includes("right")&&ct>0)de.x=ct;else{const we=ct*je(ct);de.x=Math.abs(we)<Math.abs(ct)?we:ct}(Math.abs(de.x)>0||Math.abs(de.y)>0)&&Ne(!0),(Be=xt.current)==null||Be.style.setProperty("--swipe-amount-x",`${de.x}px`),(Je=xt.current)==null||Je.style.setProperty("--swipe-amount-y",`${de.y}px`)}},De&&!m.jsx&&wt!=="loading"?ge.createElement("button",{"aria-label":T,"data-disabled":Ht,"data-close-button":!0,onClick:Ht||!Qe?()=>{}:()=>{on(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Tr(J?.closeButton,m==null||(s=m.classNames)==null?void 0:s.closeButton)},(sr=M?.close)!=null?sr:rI):null,(wt||m.icon||m.promise)&&m.icon!==null&&(M?.[wt]!==null||m.icon)?ge.createElement("div",{"data-icon":"",className:Tr(J?.icon,m==null||(o=m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||jn():null,m.type!=="loading"?rr:null):null,ge.createElement("div",{"data-content":"",className:Tr(J?.content,m==null||(l=m.classNames)==null?void 0:l.content)},ge.createElement("div",{"data-title":"",className:Tr(J?.title,m==null||(c=m.classNames)==null?void 0:c.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?ge.createElement("div",{"data-description":"",className:Tr(ae,ce,J?.description,m==null||(d=m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),ge.isValidElement(m.cancel)?m.cancel:m.cancel&&Kc(m.cancel)?ge.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:le=>{Kc(m.cancel)&&Qe&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,le),on())},className:Tr(J?.cancelButton,m==null||(h=m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,ge.isValidElement(m.action)?m.action:m.action&&Kc(m.action)?ge.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||z,onClick:le=>{Kc(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,le),!le.defaultPrevented&&on())},className:Tr(J?.actionButton,m==null||(f=m.classNames)==null?void 0:f.actionButton)},m.action.label):null)};function Nw(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function wI(t,e){const n={};return[t,e].forEach((s,o)=>{const l=o===1,c=l?"--mobile-offset":"--offset",d=l?fI:hI;function h(f){["top","right","bottom","left"].forEach(p=>{n[`${c}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof s=="number"||typeof s=="string"?h(s):typeof s=="object"?["top","right","bottom","left"].forEach(f=>{s[f]===void 0?n[`${c}-${f}`]=d:n[`${c}-${f}`]=typeof s[f]=="number"?`${s[f]}px`:s[f]}):h(d)}),n}const bI=ge.forwardRef(function(e,n){const{id:s,invert:o,position:l="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:h,className:f,offset:p,mobileOffset:m,theme:y="light",richColors:w,duration:b,style:j,visibleToasts:k=uI,toastOptions:N,dir:E=Nw(),gap:C=mI,icons:A,containerAriaLabel:O="Notifications"}=e,[L,B]=ge.useState([]),R=ge.useMemo(()=>s?L.filter(W=>W.toasterId===s):L.filter(W=>!W.toasterId),[L,s]),z=ge.useMemo(()=>Array.from(new Set([l].concat(R.filter(W=>W.position).map(W=>W.position)))),[R,l]),[X,ae]=ge.useState([]),[K,te]=ge.useState(!1),[ee,re]=ge.useState(!1),[J,M]=ge.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=ge.useRef(null),F=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=ge.useRef(null),D=ge.useRef(!1),V=ge.useCallback(W=>{B(se=>{var I;return(I=se.find(U=>U.id===W.id))!=null&&I.delete||An.dismiss(W.id),se.filter(({id:U})=>U!==W.id)})},[]);return ge.useEffect(()=>An.subscribe(W=>{if(W.dismiss){requestAnimationFrame(()=>{B(se=>se.map(I=>I.id===W.id?{...I,delete:!0}:I))});return}setTimeout(()=>{Gb.flushSync(()=>{B(se=>{const I=se.findIndex(U=>U.id===W.id);return I!==-1?[...se.slice(0,I),{...se[I],...W},...se.slice(I+1)]:[W,...se]})})})}),[L]),ge.useEffect(()=>{if(y!=="system"){M(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;const W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:se})=>{M(se?"dark":"light")})}catch{W.addListener(({matches:I})=>{try{M(I?"dark":"light")}catch(U){console.error(U)}})}},[y]),ge.useEffect(()=>{L.length<=1&&te(!1)},[L]),ge.useEffect(()=>{const W=se=>{var I;if(c.every(Z=>se[Z]||se.code===Z)){var H;te(!0),(H=T.current)==null||H.focus()}se.code==="Escape"&&(document.activeElement===T.current||(I=T.current)!=null&&I.contains(document.activeElement))&&te(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[c]),ge.useEffect(()=>{if(T.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,D.current=!1)}},[T.current]),ge.createElement("section",{ref:n,"aria-label":`${O} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},z.map((W,se)=>{var I;const[U,H]=W.split("-");return R.length?ge.createElement("ol",{key:W,dir:E==="auto"?Nw():E,tabIndex:-1,ref:T,className:f,"data-sonner-toaster":!0,"data-sonner-theme":J,"data-y-position":U,"data-x-position":H,style:{"--front-toast-height":`${((I=X[0])==null?void 0:I.height)||0}px`,"--width":`${pI}px`,"--gap":`${C}px`,...j,...wI(p,m)},onBlur:Z=>{D.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(D.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||D.current||(D.current=!0,q.current=Z.relatedTarget)},onMouseEnter:()=>te(!0),onMouseMove:()=>te(!0),onMouseLeave:()=>{ee||te(!1)},onDragEnd:()=>te(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||re(!0)},onPointerUp:()=>re(!1)},R.filter(Z=>!Z.position&&se===0||Z.position===W).map((Z,he)=>{var ue,ve;return ge.createElement(vI,{key:Z.id,icons:A,index:he,toast:Z,defaultRichColors:w,duration:(ue=N?.duration)!=null?ue:b,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:o,visibleToasts:k,closeButton:(ve=N?.closeButton)!=null?ve:h,interacting:ee,position:W,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:V,toasts:R.filter(Ne=>Ne.position==Z.position),heights:X.filter(Ne=>Ne.position==Z.position),setHeights:ae,expandByDefault:d,gap:C,expanded:K,swipeDirections:e.swipeDirections})})):null}))}),Ve="ooxinxuphknbfhbancgs",wn="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9veGlueHVwaGtuYmZoYmFuY2dzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MDExMTQsImV4cCI6MjA3NDM3NzExNH0.lrbSZb3DTTWBkX3skjOHZ7N_WC_5YURB0ncDHFrwEzY",jI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class wg extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class SI extends wg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class kw extends wg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Cw extends wg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qp;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qp||(qp={}));class NI{constructor(e,{headers:n={},customFetch:s,region:o=qp.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=jI(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Re(this,arguments,void 0,function*(n,s={}){var o;let l,c;try{const{headers:d,method:h,body:f,signal:p,timeout:m}=s;let y={},{region:w}=s;w||(w=this.region);const b=new URL(`${this.url}/${n}`);w&&w!=="any"&&(y["x-region"]=w,b.searchParams.set("forceFunctionRegion",w));let j;f&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",j=f):typeof f=="string"?(y["Content-Type"]="text/plain",j=f):typeof FormData<"u"&&f instanceof FormData?j=f:(y["Content-Type"]="application/json",j=JSON.stringify(f)):j=f;let k=p;m&&(c=new AbortController,l=setTimeout(()=>c.abort(),m),p?(k=c.signal,p.addEventListener("abort",()=>c.abort())):k=c.signal);const N=yield this.fetch(b.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),d),body:j,signal:k}).catch(O=>{throw new SI(O)}),E=N.headers.get("x-relay-error");if(E&&E==="true")throw new kw(N);if(!N.ok)throw new Cw(N);let C=((o=N.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),A;return C==="application/json"?A=yield N.json():C==="application/octet-stream"||C==="application/pdf"?A=yield N.blob():C==="text/event-stream"?A=N:C==="multipart/form-data"?A=yield N.formData():A=yield N.text(),{data:A,error:null,response:N}}catch(d){return{data:null,error:d,response:d instanceof Cw||d instanceof kw?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var un={};const Yo=PC(kO);var Yc={},Jc={},Qc={},Xc={},Zc={},ed={},Ew;function FS(){if(Ew)return ed;Ew=1,Object.defineProperty(ed,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ed.default=t,ed}var _w;function IS(){if(_w)return Zc;_w=1,Object.defineProperty(Zc,"__esModule",{value:!0});const e=Yo.__importDefault(FS());class n{constructor(o){var l,c;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(c=o.isMaybeSingle)!==null&&c!==void 0?c:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var f,p,m,y;let w=null,b=null,j=null,k=h.status,N=h.statusText;if(h.ok){if(this.method!=="HEAD"){const O=await h.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?b=O:b=JSON.parse(O))}const C=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),A=(m=h.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");C&&A&&A.length>1&&(j=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(w={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,j=null,k=406,N="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const C=await h.text();try{w=JSON.parse(C),Array.isArray(w)&&h.status===404&&(b=[],w=null,k=200,N="OK")}catch{h.status===404&&C===""?(k=204,N="No Content"):w={message:C}}if(w&&this.isMaybeSingle&&(!((y=w?.details)===null||y===void 0)&&y.includes("0 rows"))&&(w=null,k=200,N="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:b,count:j,status:k,statusText:N}});return this.shouldThrowOnError||(d=d.catch(h=>{var f,p,m;return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:`${(p=h?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(m=h?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),d.then(o,l)}returns(){return this}overrideTypes(){return this}}return Zc.default=n,Zc}var Aw;function MS(){if(Aw)return Xc;Aw=1,Object.defineProperty(Xc,"__esModule",{value:!0});const e=Yo.__importDefault(IS());class n extends e.default{select(o){let l=!1;const c=(o??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const f=h?`${h}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${o}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,l,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(f,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:f="text"}={}){var p;const m=[o?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Xc.default=n,Xc}var Tw;function bg(){if(Tw)return Qc;Tw=1,Object.defineProperty(Qc,"__esModule",{value:!0});const e=Yo.__importDefault(MS()),n=new RegExp("[,()]");class s extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(h=>typeof h=="string"&&n.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:h}={}){let f="";h==="plain"?f="pl":h==="phrase"?f="ph":h==="websearch"&&(f="w");const p=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${f}fts${p}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}}return Qc.default=s,Qc}var Pw;function LS(){if(Pw)return Jc;Pw=1,Object.defineProperty(Jc,"__esModule",{value:!0});const e=Yo.__importDefault(bg());class n{constructor(o,{headers:l={},schema:c,fetch:d}){this.url=o,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(o,l){const{head:c=!1,count:d}=l??{},h=c?"HEAD":"GET";let f=!1;const p=(o??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",p),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:c=!0}={}){var d;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const f=o.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(m.length>0){const y=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(o,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var l;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Jc.default=n,Jc}var Rw;function kI(){if(Rw)return Yc;Rw=1,Object.defineProperty(Yc,"__esModule",{value:!0});const t=Yo,e=t.__importDefault(LS()),n=t.__importDefault(bg());class s{constructor(l,{headers:c={},schema:d,fetch:h}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=h}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:h=!1,count:f}={}){var p;let m;const y=new URL(`${this.url}/rpc/${l}`);let w;d||h?(m=d?"HEAD":"GET",Object.entries(c).filter(([j,k])=>k!==void 0).map(([j,k])=>[j,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([j,k])=>{y.searchParams.append(j,k)})):(m="POST",w=c);const b=new Headers(this.headers);return f&&b.set("Prefer",`count=${f}`),new n.default({method:m,url:y,headers:b,schema:this.schemaName,body:w,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Yc.default=s,Yc}var Dw;function CI(){if(Dw)return un;Dw=1,Object.defineProperty(un,"__esModule",{value:!0}),un.PostgrestError=un.PostgrestBuilder=un.PostgrestTransformBuilder=un.PostgrestFilterBuilder=un.PostgrestQueryBuilder=un.PostgrestClient=void 0;const t=Yo,e=t.__importDefault(kI());un.PostgrestClient=e.default;const n=t.__importDefault(LS());un.PostgrestQueryBuilder=n.default;const s=t.__importDefault(bg());un.PostgrestFilterBuilder=s.default;const o=t.__importDefault(MS());un.PostgrestTransformBuilder=o.default;const l=t.__importDefault(IS());un.PostgrestBuilder=l.default;const c=t.__importDefault(FS());return un.PostgrestError=c.default,un.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default},un}var BS=CI();const $S=Hd(BS),EI=Eb({__proto__:null,default:$S},[BS]),{PostgrestClient:_I,PostgrestQueryBuilder:F$,PostgrestFilterBuilder:I$,PostgrestTransformBuilder:M$,PostgrestBuilder:L$,PostgrestError:B$}=$S||EI;class AI{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const TI="2.81.1",PI=`realtime-js/${TI}`,zS="1.0.0",RI="2.0.0",Ow=zS,Gp=1e4,DI=1e3,OI=100;var mi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(mi||(mi={}));var Vt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Vt||(Vt={}));var Zn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Zn||(Zn={}));var Kp;(function(t){t.websocket="websocket"})(Kp||(Kp={}));var gi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(gi||(gi={}));class FI{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodePush(e){const{join_ref:n,ref:s,event:o,topic:l,payload:c}=e,d=this.META_LENGTH+n.length+s.length+l.length+o.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(h),p=0;f.setUint8(p++,this.KINDS.push),f.setUint8(p++,n.length),f.setUint8(p++,s.length),f.setUint8(p++,l.length),f.setUint8(p++,o.length),Array.from(n,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(s,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(l,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(o,y=>f.setUint8(p++,y.charCodeAt(0)));var m=new Uint8Array(h.byteLength+c.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(c),h.byteLength),m.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const{join_ref:o,ref:l,topic:c}=e,d=e.payload.event,h=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+l.length+c.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(p),y=0;m.setUint8(y++,this.KINDS.userBroadcastPush),m.setUint8(y++,o.length),m.setUint8(y++,l.length),m.setUint8(y++,c.length),m.setUint8(y++,d.length),m.setUint8(y++,this.BINARY_ENCODING),Array.from(o,b=>m.setUint8(y++,b.charCodeAt(0))),Array.from(l,b=>m.setUint8(y++,b.charCodeAt(0))),Array.from(c,b=>m.setUint8(y++,b.charCodeAt(0))),Array.from(d,b=>m.setUint8(y++,b.charCodeAt(0)));var w=new Uint8Array(p.byteLength+h.byteLength);return w.set(new Uint8Array(p),0),w.set(new Uint8Array(h),p.byteLength),w.buffer}_encodeJsonUserBroadcastPush(e){var n,s;const{join_ref:o,ref:l,topic:c}=e,d=e.payload.event,h=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},p=new TextEncoder().encode(JSON.stringify(h)).buffer,m=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+l.length+c.length+d.length,y=new ArrayBuffer(this.HEADER_LENGTH+m);let w=new DataView(y),b=0;w.setUint8(b++,this.KINDS.userBroadcastPush),w.setUint8(b++,o.length),w.setUint8(b++,l.length),w.setUint8(b++,c.length),w.setUint8(b++,d.length),w.setUint8(b++,this.JSON_ENCODING),Array.from(o,k=>w.setUint8(b++,k.charCodeAt(0))),Array.from(l,k=>w.setUint8(b++,k.charCodeAt(0))),Array.from(c,k=>w.setUint8(b++,k.charCodeAt(0))),Array.from(d,k=>w.setUint8(b++,k.charCodeAt(0)));var j=new Uint8Array(y.byteLength+p.byteLength);return j.set(new Uint8Array(y),0),j.set(new Uint8Array(p),y.byteLength),j.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,l,c,d,h]=s;return n({join_ref:o,ref:l,topic:c,event:d,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),o=new TextDecoder;switch(s){case this.KINDS.push:return this._decodePush(e,n,o);case this.KINDS.reply:return this._decodeReply(e,n,o);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,o);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodePush(e,n,s){const o=n.getUint8(1),l=n.getUint8(2),c=n.getUint8(3);let d=this.HEADER_LENGTH+this.META_LENGTH-1;const h=s.decode(e.slice(d,d+o));d=d+o;const f=s.decode(e.slice(d,d+l));d=d+l;const p=s.decode(e.slice(d,d+c));d=d+c;const m=JSON.parse(s.decode(e.slice(d,e.byteLength)));return{join_ref:h,ref:null,topic:f,event:p,payload:m}}_decodeReply(e,n,s){const o=n.getUint8(1),l=n.getUint8(2),c=n.getUint8(3),d=n.getUint8(4);let h=this.HEADER_LENGTH+this.META_LENGTH;const f=s.decode(e.slice(h,h+o));h=h+o;const p=s.decode(e.slice(h,h+l));h=h+l;const m=s.decode(e.slice(h,h+c));h=h+c;const y=s.decode(e.slice(h,h+d));h=h+d;const w=JSON.parse(s.decode(e.slice(h,e.byteLength))),b={status:y,response:w};return{join_ref:f,ref:p,topic:m,event:Zn.reply,payload:b}}_decodeBroadcast(e,n,s){const o=n.getUint8(1),l=n.getUint8(2);let c=this.HEADER_LENGTH+2;const d=s.decode(e.slice(c,c+o));c=c+o;const h=s.decode(e.slice(c,c+l));c=c+l;const f=JSON.parse(s.decode(e.slice(c,e.byteLength)));return{join_ref:null,ref:null,topic:d,event:h,payload:f}}_decodeUserBroadcast(e,n,s){const o=n.getUint8(1),l=n.getUint8(2),c=n.getUint8(3),d=n.getUint8(4);let h=this.HEADER_LENGTH+4;const f=s.decode(e.slice(h,h+o));h=h+o;const p=s.decode(e.slice(h,h+l));h=h+l;const m=s.decode(e.slice(h,h+c));h=h+c;const y=e.slice(h,e.byteLength),w=d===this.JSON_ENCODING?JSON.parse(s.decode(y)):y,b={type:this.BROADCAST,event:p,payload:w};return c>0&&(b.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST,payload:b}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class WS{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(pt||(pt={}));const Fw=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=II(c,t,e,o),l),{}):{}},II=(t,e,n,s)=>{const o=e.find(d=>d.name===t),l=o?.type,c=n[t];return l&&!s.includes(l)?VS(l,c):Yp(c)},VS=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return $I(e,n)}switch(t){case pt.bool:return MI(e);case pt.float4:case pt.float8:case pt.int2:case pt.int4:case pt.int8:case pt.numeric:case pt.oid:return LI(e);case pt.json:case pt.jsonb:return BI(e);case pt.timestamp:return zI(e);case pt.abstime:case pt.date:case pt.daterange:case pt.int4range:case pt.int8range:case pt.money:case pt.reltime:case pt.text:case pt.time:case pt.timestamptz:case pt.timetz:case pt.tsrange:case pt.tstzrange:return Yp(e);default:return Yp(e)}},Yp=t=>t,MI=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},LI=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},BI=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},$I=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let l;const c=t.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>VS(e,d))}return t},zI=t=>typeof t=="string"?t.replace(" ","T"):t,US=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Af{constructor(e,n,s={},o=Gp){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Iw;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Iw||(Iw={}));class Ka{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ka.syncState(this.state,o,l,c),this.pendingDiffs.forEach(h=>{this.state=Ka.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ka.syncDiff(this.state,o,l,c),d())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const l=this.cloneDeep(e),c=this.transformState(n),d={},h={};return this.map(l,(f,p)=>{c[f]||(h[f]=p)}),this.map(c,(f,p)=>{const m=l[f];if(m){const y=p.map(k=>k.presence_ref),w=m.map(k=>k.presence_ref),b=p.filter(k=>w.indexOf(k.presence_ref)<0),j=m.filter(k=>y.indexOf(k.presence_ref)<0);b.length>0&&(d[f]=b),j.length>0&&(h[f]=j)}else d[f]=p}),this.syncDiff(l,{joins:d,leaves:h},s,o)}static syncDiff(e,n,s,o){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(d,h)=>{var f;const p=(f=e[d])!==null&&f!==void 0?f:[];if(e[d]=this.cloneDeep(h),p.length>0){const m=e[d].map(w=>w.presence_ref),y=p.filter(w=>m.indexOf(w.presence_ref)<0);e[d].unshift(...y)}s(d,p,h)}),this.map(c,(d,h)=>{let f=e[d];if(!f)return;const p=h.map(m=>m.presence_ref);f=f.filter(m=>p.indexOf(m.presence_ref)<0),e[d]=f,o(d,f,h),f.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Mw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Mw||(Mw={}));var Ya;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ya||(Ya={}));var Qr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Qr||(Qr={}));class jg{constructor(e,n={config:{}},s){var o,l;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Af(this,Zn.join,this.params,this.timeout),this.rejoinTimer=new WS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zn.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Ka(this),this.broadcastEndpointURL=US(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Vt.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,f=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(w=>w.filter))!==null&&o!==void 0?o:[],p=!!this.bindings[Ya.PRESENCE]&&this.bindings[Ya.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,m={},y={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(Qr.CHANNEL_ERROR,w)),this._onClose(()=>e?.(Qr.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var b;if(this.socket.setAuth(),w===void 0){e?.(Qr.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,k=(b=j?.length)!==null&&b!==void 0?b:0,N=[];for(let E=0;E<k;E++){const C=j[E],{filter:{event:A,schema:O,table:L,filter:B}}=C,R=w&&w[E];if(R&&R.event===A&&R.schema===O&&R.table===L&&R.filter===B)N.push(Object.assign(Object.assign({},C),{id:R.id}));else{this.unsubscribe(),this.state=Vt.errored,e?.(Qr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(Qr.SUBSCRIBED);return}}).receive("error",w=>{this.state=Vt.errored,e?.(Qr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(Qr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===Vt.joined&&e===Ya.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const f=await d.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,h;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),f.receive("ok",()=>l("ok")),f.receive("error",()=>l("error")),f.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new Af(this,Zn.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vt.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),c}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Af(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>OI){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,l;const c=e.toLocaleLowerCase(),{close:d,error:h,leave:f,join:p}=Zn;if(s&&[d,h,f,p].indexOf(c)>=0&&s!==this._joinRef())return;let y=this._onMessage(c,n,s);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var b,j,k;return((b=w.filter)===null||b===void 0?void 0:b.event)==="*"||((k=(j=w.filter)===null||j===void 0?void 0:j.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===c}).map(w=>w.callback(y,s)):(l=this.bindings[c])===null||l===void 0||l.filter(w=>{var b,j,k,N,E,C;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const A=w.id,O=(b=w.filter)===null||b===void 0?void 0:b.event;return A&&((j=n.ids)===null||j===void 0?void 0:j.includes(A))&&(O==="*"||O?.toLocaleLowerCase()===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const A=(E=(N=w?.filter)===null||N===void 0?void 0:N.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return A==="*"||A===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof y=="object"&&"ids"in y){const b=y.data,{schema:j,table:k,commit_timestamp:N,type:E,errors:C}=b;y=Object.assign(Object.assign({},{schema:j,table:k,commit_timestamp:N,eventType:E,new:{},old:{},errors:C}),this._getPayloadRecords(b))}w.callback(y,s)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&jg.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Zn.close,{},e)}_onError(e){this._on(Zn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Fw(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Fw(e.columns,e.old_record)),n}}const Tf=()=>{},td={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},WI=[1e3,2e3,5e3,1e4],VI=1e4,UI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HI{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gp,this.transport=null,this.heartbeatIntervalMs=td.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tf,this.ref=0,this.reconnectTimer=null,this.vsn=Ow,this.logger=Tf,this.conn=null,this.sendBuffer=[],this.serializer=new FI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Kp.websocket}`,this.httpEndpoint=US(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=AI.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case mi.connecting:return gi.Connecting;case mi.open:return gi.Open;case mi.closing:return gi.Closing;default:return gi.Closed}}isConnected(){return this.connectionState()===gi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new jg(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:s,payload:o,ref:l}=e,c=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${s} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(DI,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},td.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:l,ref:c}=n,d=c?`(${c})`:"",h=l.status||"";this.log("receive",`${h} ${s} ${o} ${d}`.trim(),l),this.channels.filter(f=>f._isMember(s)).forEach(f=>f._trigger(o,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===mi.open||this.conn.readyState===mi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Zn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([UI],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:PI};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Zn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new WS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},td.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,l,c,d,h,f,p,m,y,w;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Gp,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:td.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Tf,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:Ow,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(b=>WI[b-1]||VI),this.vsn){case zS:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((b,j)=>j(JSON.stringify(b))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:((b,j)=>j(JSON.parse(b)));break;case RI:this.encode=(y=e?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(w=e?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Sg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function St(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class qI extends Sg{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jp extends Sg{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Ng=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),GI=()=>Response,Qp=t=>{if(Array.isArray(t))return t.map(n=>Qp(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Qp(s)}),e},KI=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Pf=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},YI=(t,e,n)=>Re(void 0,void 0,void 0,function*(){const s=yield GI();t instanceof s&&!n?.noResolveJson?t.json().then(o=>{const l=t.status||500,c=o?.statusCode||l+"";e(new qI(Pf(o),l,c))}).catch(o=>{e(new Jp(Pf(o),o))}):e(new Jp(Pf(t),t))}),JI=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:(KI(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function Cl(t,e,n,s,o,l){return Re(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(n,JI(e,s,o,l)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>YI(h,d,s))})})}function cl(t,e,n,s){return Re(this,void 0,void 0,function*(){return Cl(t,"GET",e,n,s)})}function xr(t,e,n,s,o){return Re(this,void 0,void 0,function*(){return Cl(t,"POST",e,s,o,n)})}function Xp(t,e,n,s,o){return Re(this,void 0,void 0,function*(){return Cl(t,"PUT",e,s,o,n)})}function QI(t,e,n,s){return Re(this,void 0,void 0,function*(){return Cl(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function kg(t,e,n,s,o){return Re(this,void 0,void 0,function*(){return Cl(t,"DELETE",e,s,o,n)})}class XI{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Re(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(St(e))return{data:null,error:e};throw e}})}}var HS;class ZI{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[HS]="BlobDownloadBuilder",this.promise=null}asStream(){return new XI(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Re(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(St(e))return{data:null,error:e};throw e}})}}HS=Symbol.toStringTag;const e8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class t8{constructor(e,n={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=Ng(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,o){return Re(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Lw),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),h&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(h))):(l=s,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const f=this._removeEmptyFolders(n),p=this._getFinalPath(f),m=yield(e=="PUT"?Xp:xr)(this.fetch,`${this.url}/object/${p}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(St(l))return{data:null,error:l};throw l}})}upload(e,n,s){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,o){return Re(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",n);try{let h;const f=Object.assign({upsert:Lw.upsert},o),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.append("cacheControl",f.cacheControl)):(h=s,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const m=yield Xp(this.fetch,d.toString(),h,{headers:p});return{data:{path:l,fullPath:m.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(St(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return Re(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");const l=yield xr(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new Sg("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(St(s))return{data:null,error:s};throw s}})}update(e,n,s){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return Re(this,void 0,void 0,function*(){try{return{data:yield xr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(St(o))return{data:null,error:o};throw o}})}copy(e,n,s){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield xr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(St(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,s){return Re(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield xr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(St(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,s){return Re(this,void 0,void 0,function*(){try{const o=yield xr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(St(o))return{data:null,error:o};throw o}})}download(e,n){const o=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),h=()=>cl(this.fetch,`${this.url}/${o}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new ZI(h,this.shouldThrowOnError)}info(e){return Re(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield cl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Qp(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(St(s))return{data:null,error:s};throw s}})}exists(e){return Re(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield QI(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(St(s)&&s instanceof Jp){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),o=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&o.push(l);const d=typeof n?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(n?.transform||{});h!==""&&o.push(h);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${f}`)}}}remove(e){return Re(this,void 0,void 0,function*(){try{return{data:yield kg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}list(e,n,s){return Re(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},e8),n),{prefix:e||""});return{data:yield xr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(St(o))return{data:null,error:o};throw o}})}listV2(e,n){return Re(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield xr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(St(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const qS="2.81.1",GS={"X-Client-Info":`storage-js/${qS}`};class n8{constructor(e,n={},s,o){this.shouldThrowOnError=!1;const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},GS),n),this.fetch=Ng(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Re(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield cl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}getBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield cl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}createBucket(e){return Re(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield xr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(St(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return Re(this,void 0,void 0,function*(){try{return{data:yield Xp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(St(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield xr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield kg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class r8{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},GS),n),this.fetch=Ng(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield xr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}listBuckets(e){return Re(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const s=n.toString(),o=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield cl(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield kg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}}const Cg={"X-Client-Info":`storage-js/${qS}`,"Content-Type":"application/json"};class KS extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Wn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Rf extends KS{constructor(e,n,s){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class s8 extends KS{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Bw;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Bw||(Bw={}));const Eg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),i8=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$w=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),o8=(t,e,n)=>Re(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const o=t.status||500,l=t;if(typeof l.json=="function")l.json().then(c=>{const d=c?.statusCode||c?.code||o+"";e(new Rf($w(c),o,d))}).catch(()=>{const c=o+"",d=l.statusText||`HTTP ${o} error`;e(new Rf(d,o,c))});else{const c=o+"",d=l.statusText||`HTTP ${o} error`;e(new Rf(d,o,c))}}else e(new s8($w(t),t))}),a8=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return s?(i8(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,Object.assign(Object.assign({},o),n)):o};function l8(t,e,n,s,o,l){return Re(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(n,a8(e,s,o,l)).then(h=>{if(!h.ok)throw h;if(s?.noResolveJson)return h;const f=h.headers.get("content-type");return!f||!f.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>o8(h,d,s))})})}function Vn(t,e,n,s,o){return Re(this,void 0,void 0,function*(){return l8(t,"POST",e,s,o,n)})}class c8{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cg),n),this.fetch=Eg(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Re(this,void 0,void 0,function*(){try{return{data:(yield Vn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Re(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wn(s))return{data:null,error:s};throw s}})}listIndexes(e){return Re(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Re(this,void 0,void 0,function*(){try{return{data:(yield Vn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wn(s))return{data:null,error:s};throw s}})}}class d8{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cg),n),this.fetch=Eg(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Re(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Vn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}getVectors(e){return Re(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}listVectors(e){return Re(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Vn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}queryVectors(e){return Re(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Re(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Vn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}}class u8{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cg),n),this.fetch=Eg(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:(yield Vn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}getBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}listBuckets(){return Re(this,arguments,void 0,function*(e={}){try{return{data:yield Vn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Re(this,void 0,void 0,function*(){try{return{data:(yield Vn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}}class h8 extends u8{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new f8(this.url,this.headers,e,this.fetch)}}class f8 extends c8{constructor(e,n,s,o){super(e,n,o),this.vectorBucketName=s}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Re(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Re(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Re(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Re(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new p8(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class p8 extends d8{constructor(e,n,s,o,l){super(e,n,l),this.vectorBucketName=s,this.indexName=o}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Re(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Re(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Re(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Re(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Re(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class m8 extends n8{constructor(e,n={},s,o){super(e,n,s,o)}from(e){return new t8(this.url,this.headers,e,this.fetch)}get vectors(){return new h8(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new r8(this.url+"/iceberg",this.headers,this.fetch)}}const g8="2.81.1";let $a="";typeof Deno<"u"?$a="deno":typeof document<"u"?$a="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$a="react-native":$a="node";const x8={"X-Client-Info":`supabase-js-${$a}/${g8}`},y8={headers:x8},v8={schema:"public"},w8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},b8={},j8=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),S8=()=>Headers,N8=(t,e,n)=>{const s=j8(n),o=S8();return async(l,c)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let f=new o(c?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),s(l,Object.assign(Object.assign({},c),{headers:f}))}};function k8(t){return t.endsWith("/")?t:t+"/"}function C8(t,e){var n,s;const{db:o,auth:l,realtime:c,global:d}=t,{db:h,auth:f,realtime:p,global:m}=e,y={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},f),l),realtime:Object.assign(Object.assign({},p),c),storage:{},global:Object.assign(Object.assign(Object.assign({},m),d),{headers:Object.assign(Object.assign({},(n=m?.headers)!==null&&n!==void 0?n:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function E8(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(k8(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const YS="2.81.1",vo=30*1e3,Zp=3,Df=Zp*vo,_8="http://localhost:9999",A8="supabase.auth.token",T8={"X-Client-Info":`gotrue-js/${YS}`},em="X-Supabase-Api-Version",JS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},P8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,R8=600*1e3;class dl extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Fe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class D8 extends dl{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function O8(t){return Fe(t)&&t.name==="AuthApiError"}class xi extends dl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Hs extends dl{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class fr extends Hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function F8(t){return Fe(t)&&t.name==="AuthSessionMissingError"}class lo extends Hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nd extends Hs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class rd extends Hs{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function I8(t){return Fe(t)&&t.name==="AuthImplicitGrantRedirectError"}class zw extends Hs{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tm extends Hs{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Of(t){return Fe(t)&&t.name==="AuthRetryableFetchError"}class Ww extends Hs{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class nm extends Hs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vw=` 	
\r=`.split(""),M8=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Vw.length;e+=1)t[Vw[e].charCodeAt(0)]=-2;for(let e=0;e<Bd.length;e+=1)t[Bd[e].charCodeAt(0)]=e;return t})();function Uw(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Bd[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Bd[s]),e.queuedBits-=6}}function QS(t,e,n){const s=M8[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Hw(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{$8(c,s,n)};for(let c=0;c<t.length;c+=1)QS(t.charCodeAt(c),o,l);return e.join("")}function L8(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function B8(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}L8(s,e)}}function $8(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Po(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)QS(t.charCodeAt(o),n,s);return new Uint8Array(e)}function z8(t){const e=[];return B8(t,n=>e.push(n)),new Uint8Array(e)}function bi(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>Uw(o,n,s)),Uw(null,n,s),e.join("")}function W8(t){return Math.round(Date.now()/1e3)+t}function V8(){return Symbol("auth-callback")}const tn=()=>typeof window<"u"&&typeof document<"u",di={tested:!1,writable:!1},XS=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(di.tested)return di.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),di.tested=!0,di.writable=!0}catch{di.tested=!0,di.writable=!1}return di.writable};function U8(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const ZS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),H8=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ui=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ts=async(t,e)=>{await t.removeItem(e)};class hu{constructor(){this.promise=new hu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}hu.promiseConstructor=Promise;function Ff(t){const e=t.split(".");if(e.length!==3)throw new nm("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!P8.test(e[s]))throw new nm("JWT not in base64url format");return{header:JSON.parse(Hw(e[0])),payload:JSON.parse(Hw(e[1])),signature:Po(e[2]),raw:{header:e[0],payload:e[1]}}}async function q8(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function G8(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){s(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function K8(t){return("0"+t.toString(16)).substr(-2)}function Y8(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,K8).join("")}async function J8(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function Q8(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await J8(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function co(t,e,n=!1){const s=Y8();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await wo(t,`${e}-code-verifier`,o);const l=await Q8(s);return[l,s===l?"plain":"s256"]}const X8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Z8(t){const e=t.headers.get(em);if(!e||!e.match(X8))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function eM(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function tM(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function uo(t){if(!nM.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function If(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rM(t,e){return new Proxy(t,{get:(n,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,o)}})}function qw(t){return JSON.parse(JSON.stringify(t))}const fi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sM=[502,503,504];async function Gw(t){var e;if(!H8(t))throw new tm(fi(t),0);if(sM.includes(t.status))throw new tm(fi(t),t.status);let n;try{n=await t.json()}catch(l){throw new xi(fi(l),l)}let s;const o=Z8(t);if(o&&o.getTime()>=JS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Ww(fi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new fr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Ww(fi(n),t.status,n.weak_password.reasons);throw new D8(fi(n),t.status||500,s)}const iM=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function $e(t,e,n,s){var o;const l=Object.assign({},s?.headers);l[em]||(l[em]=JS["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await oM(t,e,n+d,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function oM(t,e,n,s,o,l){const c=iM(e,s,o,l);let d;try{d=await t(n,Object.assign({},c))}catch(h){throw console.error(h),new tm(fi(h),0)}if(d.ok||await Gw(d),s?.noResolveJson)return d;try{return await d.json()}catch(h){await Gw(h)}}function pr(t){var e;let n=null;cM(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=W8(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function Kw(t){const e=pr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ds(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function aM(t){return{data:t,error:null}}function lM(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l}=t,c=Ws(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function Yw(t){return t}function cM(t){return t.access_token&&t.refresh_token&&t.expires_in}const Mf=["global","local","others"];class dM{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=ZS(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Mf[0]){if(Mf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mf.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ds})}catch(s){if(Fe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=Ws(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:lM,redirectTo:n?.redirectTo})}catch(n){if(Fe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ds})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,l,c,d,h;try{const f={nextPage:null,lastPage:0,total:0},p=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Yw});if(p.error)throw p.error;const m=await p.json(),y=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(b=>{const j=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);f[`${k}Page`]=j}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Fe(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){uo(e);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ds})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){uo(e);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ds})}catch(s){if(Fe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){uo(e);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ds})}catch(s){if(Fe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){uo(e.userId);try{const{data:n,error:s}=await $e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){uo(e.userId),uo(e.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,l,c,d,h;try{const f={nextPage:null,lastPage:0,total:0},p=await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Yw});if(p.error)throw p.error;const m=await p.json(),y=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(b=>{const j=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);f[`${k}Page`]=j}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Fe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await $e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await $e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}}function Jw(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ho={debug:!!(globalThis&&XS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class eN extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class uM extends eN{}async function hM(t,e,n){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new uM(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ho.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function fM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function tN(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function pM(t){return parseInt(t,16)}function mM(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function gM(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:h,resources:f,scheme:p,uri:m,version:y}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=tN(t.address),b=p?`${p}://${s}`:s,j=t.statement?`${t.statement}
`:"",k=`${b} wants you to sign in with your Ethereum account:
${w}

${j}`;let N=`URI: ${m}
Version: ${y}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(N+=`
Expiration Time: ${o.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),h&&(N+=`
Request ID: ${h}`),f){let E=`
Resources:`;for(const C of f){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);E+=`
- ${C}`}N+=E}return`${k}
${N}`}class Mt extends Error{constructor({message:e,code:n,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class $d extends Mt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function xM({error:t,options:e}){var n,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(nN(c)){if(l.rp.id!==c)return new Mt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function yM({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(nN(s)){if(n.rpId!==s)return new Mt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class vM{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const wM=new vM;function bM(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,o=Ws(t,["challenge","user","excludeCredentials"]),l=Po(e).buffer,c=Object.assign(Object.assign({},n),{id:Po(n.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:c});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const f=s[h];d.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:Po(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return d}function jM(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=Ws(t,["challenge","allowCredentials"]),o=Po(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Po(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function SM(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:bi(new Uint8Array(t.response.attestationObject)),clientDataJSON:bi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function NM(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:bi(new Uint8Array(o.authenticatorData)),clientDataJSON:bi(new Uint8Array(o.clientDataJSON)),signature:bi(new Uint8Array(o.signature)),userHandle:o.userHandle?bi(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function nN(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Qw(){var t,e;return!!(tn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function kM(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new $d("Browser returned unexpected credential type",e)}:{data:null,error:new $d("Empty credential response",e)}}catch(e){return{data:null,error:xM({error:e,options:t})}}}async function CM(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new $d("Browser returned unexpected credential type",e)}:{data:null,error:new $d("Empty credential response",e)}}catch(e){return{data:null,error:yM({error:e,options:t})}}}const EM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_M={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function zd(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))s[l]=c;else if(n(c))s[l]=c;else if(e(c)){const d=s[l];e(d)?s[l]=zd(d,c):s[l]=zd(c)}else s[l]=c}return s}function AM(t,e){return zd(EM,t,e||{})}function TM(t,e){return zd(_M,t,e||{})}class PM{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:d};const h=o??wM.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${s}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=AM(c.webauthn.credential_options.publicKey,l?.create),{data:p,error:m}=await kM({publicKey:f,signal:h});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const f=TM(c.webauthn.credential_options.publicKey,l?.request),{data:p,error:m}=await CM(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:h}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(c){return Fe(c)?{data:null,error:c}:{data:null,error:new xi("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new dl("rpId is required for WebAuthn authentication")};try{if(!Qw())return{data:null,error:new xi("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:l});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:s,credential_response:h.credential_response}})}catch(c){return Fe(c)?{data:null,error:c}:{data:null,error:new xi("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new dl("rpId is required for WebAuthn registration")};try{if(!Qw())return{data:null,error:new xi("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:d};const{data:h,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:l});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(c){return Fe(c)?{data:null,error:c}:{data:null,error:new xi("Unexpected error in register",c)}}}}fM();const RM={url:_8,storageKey:A8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Xw(t,e,n){return await n()}const fo={};class ul{get jwks(){var e,n;return(n=(e=fo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){fo[this.storageKey]=Object.assign(Object.assign({},fo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=fo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){fo[this.storageKey]=Object.assign(Object.assign({},fo[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},RM),e);if(this.storageKey=l.storageKey,this.instanceID=(n=ul.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ul.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&tn()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new dM({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=ZS(l.fetch),this.lock=l.lock||Xw,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:tn()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=hM:this.lock=Xw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new PM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:XS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jw(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Jw(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${YS}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(tn()&&(n=U8(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),tn()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),I8(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Fe(n)?this._returnResult({error:n}):this._returnResult({error:new xi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const l=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:pr}),{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(l){if(Fe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,s,o;try{let l;if("email"in e){const{email:p,password:m,options:y}=e;let w=null,b=null;this.flowType==="pkce"&&([w,b]=await co(this.storage,this.storageKey)),l=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:p,password:m,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:w,code_challenge_method:b},xform:pr})}else if("phone"in e){const{phone:p,password:m,options:y}=e;l=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(s=y?.data)!==null&&s!==void 0?s:{},channel:(o=y?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:pr})}else throw new nd("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(l){if(Fe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:d}=e;n=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Kw})}else if("phone"in e){const{phone:l,password:c,options:d}=e;n=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Kw})}else throw new nd("You must provide either an email or phone number and a password");const{data:s,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const l=new lo;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(Fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,l,c,d,h,f,p,m,y;let w,b;if("message"in e)w=e.message,b=e.signature;else{const{chain:j,wallet:k,statement:N,options:E}=e;let C;if(tn())if(typeof k=="object")C=k;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")C=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=k}const A=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href),O=await C.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=tN(O[0]);let B=(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!B){const z=await C.request({method:"eth_chainId"});B=pM(z)}const R={domain:A.host,address:L,statement:N,uri:A.href,version:"1",chainId:B,nonce:(o=E?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=E?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=E?.signInWithEthereum)===null||p===void 0?void 0:p.resources};w=gM(R),b=await C.request({method:"personal_sign",params:[mM(w),L]})}try{const{data:j,error:k}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:b},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:pr});if(k)throw k;if(!j||!j.session||!j.user){const N=new lo;return this._returnResult({data:{user:null,session:null},error:N})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:k})}catch(j){if(Fe(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(e){var n,s,o,l,c,d,h,f,p,m,y,w;let b,j;if("message"in e)b=e.message,j=e.signature;else{const{chain:k,wallet:N,statement:E,options:C}=e;let A;if(tn())if(typeof N=="object")A=N;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))A=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=N}const O=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const L=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),E?{statement:E}:null));let B;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")B=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)B=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)b=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),j=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${O.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(o=(s=C?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=C?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((m=(p=C?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...C.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const L=await A.signMessage(new TextEncoder().encode(b),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=L}}try{const{data:k,error:N}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:bi(j)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:pr});if(N)throw N;if(!k||!k.session||!k.user){const E=new lo;return this._returnResult({data:{user:null,session:null},error:E})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:N})}catch(k){if(Fe(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const n=await ui(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{const{data:l,error:c}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:pr});if(await Ts(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const d=new lo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(Fe(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:l,nonce:c}=e,d=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:pr}),{data:h,error:f}=d;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h||!h.session||!h.user){const p=new lo;return this._returnResult({data:{user:null,session:null},error:p})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:f})}catch(n){if(Fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,o,l,c;try{if("email"in e){const{email:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await co(this.storage,this.storageKey));const{error:m}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:d,options:h}=e,{data:f,error:p}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new nd("You must provide either an email or phone number.")}catch(d){if(Fe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,s;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:d}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:pr});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,f=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(o){if(Fe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,s,o,l,c;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await co(this.storage,this.storageKey));const f=await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:aM});return!((l=f.data)===null||l===void 0)&&l.url&&tn()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(d){if(Fe(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new fr;const{error:o}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(Fe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:c}=await $e(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:c,error:d}=await $e(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new nd("You must provide either an email or phone number and a type")}catch(n){if(Fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ui(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Df:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await ui(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=If()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=rM(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ds}):await this._useSession(async n=>{var s,o,l;const{data:c,error:d}=n;if(d)throw d;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fr}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Ds})})}catch(n){if(Fe(n))return F8(n)&&(await this._removeSession(),await Ts(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new fr;const c=o.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await co(this.storage,this.storageKey));const{data:f,error:p}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:Ds});if(p)throw p;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(Fe(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new fr;const n=Date.now()/1e3;let s=n,o=!0,l=null;const{payload:c}=Ff(e.access_token);if(c.exp&&(s=c.exp,o=s<=n),o){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(Fe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:c,error:d}=n;if(d)throw d;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new fr;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!tn())throw new rd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new rd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new zw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new zw("No code detected.");const{data:E,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:d,expires_at:h,token_type:f}=e;if(!l||!d||!c||!f)throw new rd("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(d);let y=p+m;h&&(y=parseInt(h));const w=y-p;w*1e3<=vo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${m}s`);const b=y-m;p-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,y,p):p-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,y,p);const{data:j,error:k}=await this._getUser(l);if(k)throw k;const N={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:m,expires_at:y,refresh_token:c,token_type:f,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:e.type},error:null})}catch(s){if(Fe(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ui(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const c=(s=o.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(O8(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Ts(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=V8(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:l},error:c}=n;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await co(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(Fe(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async l=>{var c,d,h,f,p;const{data:m,error:y}=l;if(y)throw y;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",w,{headers:this.headers,jwt:(p=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return tn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(Fe(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:c,provider:d,token:h,access_token:f,nonce:p}=e,m=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:h,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:pr}),{data:y,error:w}=m;return w?this._returnResult({data:{user:null,session:null},error:w}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new lo}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:w}))}catch(o){if(Fe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:c}=n;if(c)throw c;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await G8(async o=>(o>0&&await q8(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pr})),(o,l)=>{const c=200*Math.pow(2,o);return l&&Of(l)&&Date.now()+c-s<vo})}catch(s){if(this._debug(n,"error",s),Fe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),tn()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await ui(this.storage,this.storageKey);if(o&&this.userStorage){let c=await ui(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await wo(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c?.user)!==null&&e!==void 0?e:If()}else if(o&&!o.user&&!o.user){const c=await ui(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await Ts(this.storage,this.storageKey+"-user"),await wo(this.storage,this.storageKey,o)):o.user=If()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Df;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${Df}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Of(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(o.access_token);!d&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new fr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new hu;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new fr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),Fe(l)){const c={data:null,error:l};return Of(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await wo(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=qw(o);await wo(this.storage,this.storageKey,l)}else{const o=qw(n);await wo(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Ts(this.storage,this.storageKey),await Ts(this.storage,this.storageKey+"-code-verifier"),await Ts(this.storage,this.storageKey+"-user"),this.userStorage&&await Ts(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/vo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${vo}ms, refresh threshold is ${Zp} ticks`),o<=Zp&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof eN)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,c]=await co(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(d.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await $e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:f}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?SM(e.webauthn.credential_response):NM(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await $e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=await $e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:bM(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:jM(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Ff(s.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const f=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?await $e(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new fr})})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new fr});const c=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&tn()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(Fe(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new fr});const c=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&tn()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(Fe(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(d=>d.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+R8>o)return s;const{data:l,error:c}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:w,error:b}=await this.getSession();if(b||!w.session)return this._returnResult({data:null,error:b});s=w.session.access_token}const{header:o,payload:l,signature:c,raw:{header:d,payload:h}}=Ff(s);n?.allowExpired||eM(l.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:l,header:o,signature:c},error:null}}const p=tM(o.alg),m=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,c,z8(`${d}.${h}`)))throw new nm("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(s){if(Fe(s))return this._returnResult({data:null,error:s});throw s}}}ul.nextInstanceID={};const DM=ul;class OM extends DM{constructor(e){super(e)}}class FM{constructor(e,n,s){var o,l,c;this.supabaseUrl=e,this.supabaseKey=n;const d=E8(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:v8,realtime:b8,auth:Object.assign(Object.assign({},w8),{storageKey:h}),global:y8},p=C8(s??{},f);this.storageKey=(o=p.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=p.global.headers)!==null&&l!==void 0?l:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=p.auth)!==null&&c!==void 0?c:{},this.headers,p.global.fetch),this.fetch=N8(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new _I(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new m8(this.storageUrl.href,this.headers,this.fetch,s?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new NI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:o,userStorage:l,storageKey:c,flowType:d,lock:h,debug:f,throwOnError:p},m,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OM({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),m),storageKey:c,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:o,userStorage:l,flowType:d,lock:h,debug:f,throwOnError:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new HI(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const IM=(t,e,n)=>new FM(t,e,n);function MM(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}MM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const LM=`https://${Ve}.supabase.co`;let Lf=null;function os(){return Lf||(Lf=IM(LM,wn,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:{getItem:t=>typeof window>"u"?null:localStorage.getItem(t),setItem:(t,e)=>{typeof window>"u"||localStorage.setItem(t,e)},removeItem:t=>{typeof window>"u"||localStorage.removeItem(t)}}}}),console.log(" Supabase client initialized")),Lf}const Bf=()=>new Date().toISOString().split("T")[0],BM=()=>typeof globalThis.crypto<"u"&&typeof globalThis.crypto.randomUUID=="function"?globalThis.crypto.randomUUID():`vocab_${Math.random().toString(36).slice(2)}`,$f=os(),zf=20,$M=3;function zM({onBack:t,onSaveComplete:e,getAuthToken:n,onNavigateToGift:s}){const[o,l]=x.useState(Bf()),[c,d]=x.useState(""),[h,f]=x.useState(!1),[p,m]=x.useState(null),[y,w]=x.useState([]),[b,j]=x.useState(null),[k,N]=x.useState(!1),[E,C]=x.useState(!1),[A,O]=x.useState([]),[L,B]=x.useState(""),[R,z]=x.useState(!1),X=x.useMemo(()=>c.split(/[\n,]+/).map(re=>re.trim()).filter(Boolean),[c]),ae=async()=>{const{data:{session:re}}=await $f.auth.getSession(),J=re?.access_token||n?.();if(J){z(!0);try{const M=await fetch(`https://${Ve}.supabase.co/functions/v1/server/user-vocabularies`,{headers:{Authorization:`Bearer ${J}`}});if(M.ok){const T=await M.json(),F=Array.isArray(T)?T:T.vocabularies||[];O(F.map(q=>({id:q.id,title:q.title})))}}catch(M){console.error("   :",M)}finally{z(!1)}}},K=async(re,J)=>{const M=[];for(let U=0;U<re.length;U+=zf)M.push(re.slice(U,U+zf));const T=[];let F=0,q=0,D=0;j({current:0,total:M.length});const V=async(U,H,Z=3)=>{for(let he=1;he<=Z;he++)try{const ue=await fetch(`https://${Ve}.supabase.co/functions/v1/server/generate-vocabulary-batch`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify({words:U.map(Ge=>({word:Ge}))})}),ve=await ue.json();if(!ue.ok)throw new Error(ve?.error||` ${H+1}  `);const Ne=Array.isArray(ve.results)?ve.results:Array.isArray(ve.data)?ve.data:[];if(ve.success===!1||Ne.length===0)throw new Error(ve?.error||` ${H+1} AI  `);return{index:H,items:Ne,inputTokens:ve.inputTokens||0,outputTokens:ve.outputTokens||0}}catch(ue){if(console.error(`  ${H+1}  ${he}/${Z} :`,ue),he<Z)await new Promise(ve=>setTimeout(ve,2e3));else throw ue}throw new Error(` ${H+1}   `)},W=async U=>{const H=Math.min(U+$M,M.length),Z=[];for(let ue=U;ue<H;ue++)Z.push(V(M[ue],ue));const he=await Promise.all(Z);for(const ue of he)T.push({index:ue.index,items:ue.items}),F+=ue.inputTokens,q+=ue.outputTokens,D++,j({current:D,total:M.length}),be.loading(`AI   ... (${D}/${M.length} , ${D*zf}/${re.length})`,{id:"user-vocab-progress"});return H};let se=0;for(;se<M.length;)se=await W(se),se<M.length&&await new Promise(U=>setTimeout(U,300));return j(null),T.sort((U,H)=>U.index-H.index),{results:T.flatMap(U=>U.items),inputTokens:F,outputTokens:q}},te=async()=>{if(X.length===0){be.error("   .");return}const{data:{session:re}}=await $f.auth.getSession(),J=re?.access_token||n?.();if(!J){be.error(" .  .");return}f(!0),m(null),w([]);try{be.dismiss("user-vocab-progress"),be.loading(`AI ${X.length}   `,{id:"user-vocab-progress"});const{results:M,inputTokens:T,outputTokens:F}=await K(X,J);if(M.length===0)throw new Error("AI    .");be.loading(`${M.length}   ...`,{id:"user-vocab-progress"});const q=BM(),D=await fetch(`https://${Ve}.supabase.co/functions/v1/server/save-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify({vocabularyId:q,title:o.trim()||Bf(),category:"My Own",level:"Beginner",words:M})}),V=await D.json();if(!D.ok)throw new Error(V.error||"  .");w(M),m({inputTokens:T||0,outputTokens:F||0}),d(""),l(Bf()),be.success("     ! ",{id:"user-vocab-progress"}),e&&V.vocabulary?.id&&e(V.vocabulary.id,V.vocabulary.title||o)}catch(M){console.error("  :",M),be.error(M?.message||"    .",{id:"user-vocab-progress"})}finally{f(!1),N(!1)}},ee=async()=>{if(X.length===0){be.error("   .");return}if(!L){be.error("  .");return}const{data:{session:re}}=await $f.auth.getSession(),J=re?.access_token||n?.();if(!J){be.error(" .  .");return}f(!0),m(null),w([]);try{be.dismiss("user-vocab-progress"),be.loading(`AI ${X.length}   `,{id:"user-vocab-progress"});const{results:M,inputTokens:T,outputTokens:F}=await K(X,J);if(M.length===0)throw new Error("AI    .");be.loading(`${M.length}   ...`,{id:"user-vocab-progress"});const q=await fetch(`https://${Ve}.supabase.co/functions/v1/server/add-words-to-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify({vocabularyId:L,words:M})}),D=await q.json();if(!q.ok)throw new Error(D.error||"  .");const V=A.find(W=>W.id===L);w(M),m({inputTokens:T||0,outputTokens:F||0}),d(""),B(""),be.success(`${V?.title||""} ${M.length}  ! `,{id:"user-vocab-progress"}),e&&L&&e(L,V?.title||"")}catch(M){console.error("  :",M),be.error(M?.message||"    .",{id:"user-vocab-progress"})}finally{f(!1),C(!1)}};return r.jsxs("div",{className:"flex h-full flex-col",children:[r.jsx(Sl,{onBack:t,title:"AI Vocabulary Maker",subtitle:"   AI ",rightElement:s?r.jsxs(P.button,{whileTap:{scale:.95},onClick:s,className:"flex items-center gap-1.5 px-3 py-2 bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED] rounded-full shadow-lg hover:shadow-xl transition-shadow",title:"Presets",children:[r.jsx(Cd,{className:"w-4 h-4 text-white flex-shrink-0"}),r.jsx("span",{className:"text-white text-xs font-semibold hidden sm:inline",children:"Presets"})]}):void 0}),r.jsx("div",{className:"flex-1 overflow-auto px-4 pb-6",children:r.jsxs("div",{className:"bg-white/95 backdrop-blur-xl border border-white/50 rounded-3xl shadow-xl p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-[#091A7A] mb-2",children:"  (   )"}),r.jsx(Y6,{value:c,onChange:re=>d(re.target.value),placeholder:`) meticulous, resilience, nostalgia
     .`,className:"min-h-[280px] resize-none"}),r.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[" ",X.length,"  ."]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{disabled:h||X.length===0,onClick:()=>{if(X.length===0){be.error("   .");return}N(!0)},className:"flex-1 h-14 font-semibold rounded-lg flex flex-col items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed bg-gradient-to-r from-[#491B6D] to-[#5E2278] text-white",style:{fontSize:"14px"},children:[r.jsx(Fo,{className:"w-5 h-5"}),h?"AI   ...":"  "]}),r.jsxs("button",{disabled:h||X.length===0,onClick:()=>{if(X.length===0){be.error("   .");return}ae(),C(!0)},className:"flex-1 h-14 font-semibold rounded-lg flex flex-col items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed bg-gradient-to-r from-[#491B6D] to-[#5E2278] text-white",style:{fontSize:"14px"},children:[r.jsx(Pj,{className:"w-5 h-5"}),"  "]})]}),b&&r.jsxs("div",{className:"bg-white border border-[#C4B5FD] rounded-2xl p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-[#7C3AED] font-semibold",children:[r.jsx(rn,{className:"w-5 h-5 animate-pulse"}),"AI   ..."]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-gradient-to-r from-[#7C3AED] to-[#A78BFA] h-3 rounded-full transition-all duration-500",style:{width:`${b.current/b.total*100}%`}})}),r.jsxs("p",{className:"text-sm text-gray-600",children:[" ",b.current,"/",b.total,"  ..."]})]}),y.length>0&&r.jsxs("div",{className:"bg-white border border-dashed border-[#C4B5FD] rounded-2xl p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-[#2563EB] font-semibold",children:[r.jsx(Aj,{className:"w-5 h-5"}),"   "]}),r.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-700",children:y.slice(0,10).map(re=>r.jsxs("div",{className:"px-3 py-2 bg-[#F5F3FF] rounded-lg",children:[r.jsx("span",{className:"font-semibold text-[#5B21B6]",children:re.word}),r.jsx("span",{className:"ml-2 text-xs text-gray-500",children:re.partOfSpeech}),r.jsx("p",{className:"text-xs text-gray-600 truncate",children:re.meaning})]},`${re.word}-${re.meaning}`))}),y.length>10&&r.jsxs("p",{className:"text-xs text-gray-500",children:[" ",y.length-10,"   ."]}),p&&r.jsxs("div",{className:"text-xs text-gray-500",children:["     ",p.inputTokens.toLocaleString()," /  ",p.outputTokens.toLocaleString()]})]})]})}),k&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[r.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-4",children:"  "}),r.jsx(Td,{value:o,onChange:re=>l(re.target.value),placeholder:"  ",className:"mb-4"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx($n,{variant:"outline",onClick:()=>N(!1),className:"flex-1",disabled:h,children:""}),r.jsx($n,{onClick:te,className:"flex-1",disabled:h,children:h?" ...":""})]})]})}),E&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[r.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-4",children:"  "}),R?r.jsx("div",{className:"text-center py-4 text-gray-500",children:"   ..."}):A.length===0?r.jsx("div",{className:"text-center py-4 text-gray-500",children:"  ."}):r.jsxs(WF,{value:L,onValueChange:B,children:[r.jsx(UF,{className:"mb-4 bg-white border-gray-300",children:r.jsx(VF,{placeholder:" "})}),r.jsx(HF,{className:"bg-white border border-gray-200 shadow-lg",children:A.map(re=>r.jsx(qF,{value:re.id,className:"hover:bg-gray-100",children:re.title},re.id))})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx($n,{variant:"outline",onClick:()=>{C(!1),B("")},className:"flex-1 rounded-lg border-gray-300",disabled:h,children:""}),r.jsx($n,{variant:"outline",onClick:ee,className:"flex-1 rounded-lg border-gray-300 bg-[#7C3AED] text-white hover:bg-[#6D28D9] hover:text-white",disabled:h||!L,children:h?" ...":""})]})]})})]})}const WM="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function rN(t){const[e,n]=x.useState(!1),s=()=>{n(!0)},{src:o,alt:l,style:c,className:d,...h}=t;return e?r.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${d??""}`,style:c,children:r.jsx("div",{className:"flex items-center justify-center w-full h-full",children:r.jsx("img",{src:WM,alt:"Error loading image",...h,"data-original-url":o})})}):r.jsx("img",{src:o,alt:l,className:d,style:c,...h,onError:s})}const VM=[{id:1,title:"First Quiz Complete",description:"Completed your first quiz",icon:_j,earned:!0},{id:2,title:"Week Warrior",description:"7-day learning streak",icon:bl,earned:!1},{id:3,title:"Math Master",description:"100% in Mathematics quiz",icon:Pn,earned:!0},{id:4,title:"XP Champion",description:"Earned 10,000 XP",icon:Os,earned:!1}],UM=[{label:"Total XP",value:"5,500",icon:Os,color:"from-yellow-400 to-yellow-600"},{label:"Current Streak",value:"3 days",icon:bl,color:"from-orange-400 to-orange-600"},{label:"Quizzes Completed",value:"12",icon:_j,color:"from-blue-400 to-blue-600"},{label:"Avg. Score",value:"87%",icon:$j,color:"from-green-400 to-green-600"}];function HM({onBack:t,userXP:e,profileImage:n,levelProgress:s}){const o=s.currentLevel,l=s.xpForNextLevel-s.xpInCurrentLevel,c=s.xpInCurrentLevel/s.xpForNextLevel*100;return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsx("div",{className:"relative overflow-hidden",style:{background:"transparent"},children:r.jsxs("div",{className:"relative p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx(jr,{onClick:t}),r.jsx(P.button,{whileTap:{scale:.95},className:"w-12 h-12 bg-card-glass backdrop-blur-lg rounded-full flex items-center justify-center shadow-card border border-white/20",children:r.jsx(Lj,{className:"w-5 h-5 text-[#091A7A]"})})]}),r.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[r.jsxs(P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative",children:[r.jsx(rN,{src:n,alt:"Profile",className:"w-24 h-24 rounded-full border-4 border-white shadow-xl object-cover object-top"}),r.jsx("div",{className:"absolute -bottom-2 -right-2 px-3 py-1 bg-gradient-to-r from-[#091A7A] to-[#1a2b8a] rounded-full",children:r.jsxs("span",{className:"text-white font-bold text-sm",children:["Lv.",o]})})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-[#091A7A]",children:"Abhi Dhande"}),r.jsx("p",{className:"text-[#091A7A]/70",children:"Learning enthusiast"})]}),r.jsxs("div",{className:"w-full max-w-xs space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm text-[#091A7A]/70",children:[r.jsxs("span",{children:["Level ",o]}),r.jsxs("span",{children:[l," XP to next level"]})]}),r.jsx("div",{className:"h-3 bg-white/40 rounded-full overflow-hidden",children:r.jsx(P.div,{initial:{width:0},animate:{width:`${c}%`},transition:{delay:.5,duration:1},className:"h-full bg-gradient-to-r from-[#091A7A] to-[#1a2b8a] rounded-full"})})]})]})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"font-semibold text-[#091A7A] mb-4",children:"Your Stats"}),r.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:UM.map((d,h)=>r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+h*.1},className:"p-4 bg-white/60 backdrop-blur-sm rounded-2xl border border-white/40 shadow-sm",children:[r.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${d.color} rounded-xl flex items-center justify-center mb-3`,children:r.jsx(d.icon,{className:"w-5 h-5 text-white"})}),r.jsx("p",{className:"text-2xl font-bold text-[#091A7A]",children:d.label==="Total XP"?e.toLocaleString():d.value}),r.jsx("p",{className:"text-xs text-[#091A7A]/70",children:d.label})]},d.label))}),r.jsx("h3",{className:"font-semibold text-[#091A7A] mb-4",children:"Achievements"}),r.jsx("div",{className:"space-y-3",children:VM.map((d,h)=>r.jsx(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+h*.1},className:`p-4 rounded-2xl border ${d.earned?"bg-gradient-to-r from-green-50 to-green-100/50 border-green-200":"bg-white/40 border-white/30"}`,children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${d.earned?"bg-gradient-to-br from-green-400 to-green-600":"bg-gray-200"}`,children:r.jsx(d.icon,{className:`w-6 h-6 ${d.earned?"text-white":"text-gray-400"}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:`font-semibold ${d.earned?"text-green-800":"text-[#091A7A]/60"}`,children:d.title}),d.earned&&r.jsx(J4,{className:"w-4 h-4 text-green-600"})]}),r.jsx("p",{className:`text-sm ${d.earned?"text-green-700":"text-[#091A7A]/50"}`,children:d.description})]})]})},d.id))})]})]})}const rm="/assets/1627f3a870e9b56d751d07f53392d7a84aa55817-nVPN00k3.png",Zw=[{id:1,name:"Dr. Sarah Wilson",avatar:"https://images.unsplash.com/photo-1607746882042-944635dfe10e?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:2,name:"Prof. Michael Chen",avatar:"https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:3,name:"Ms. Emily Davis",avatar:"https://images.unsplash.com/photo-1580489944761-15a19d654956?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:4,name:"Dr. James Rodriguez",avatar:"https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:5,name:"Prof. Lisa Thompson",avatar:"https://images.unsplash.com/photo-1614289371518-722f2615943d?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:6,name:"Dr. Alex Kumar",avatar:"https://images.unsplash.com/photo-1507591064344-4c6ce005b128?w=128&h=128&fit=crop&crop=faces&facepad=3"}],qM=t=>{const e=[{id:"unit1",title:"Algebra & Geometry",progress:60,chapters:[{id:"ch1",title:"Introduction to Algebra",duration:"12 min",progress:100,isUnlocked:!0,isCompleted:!0},{id:"ch2",title:"Linear Equations",duration:"15 min",progress:80,isUnlocked:!0,isCompleted:!1},{id:"ch3",title:"Quadratic Equations",duration:"18 min",progress:40,isUnlocked:!0,isCompleted:!1}]},{id:"unit2",title:"Trigonometry & Statistics",progress:20,chapters:[{id:"ch4",title:"Basics of Trigonometry",duration:"14 min",progress:20,isUnlocked:!0,isCompleted:!1},{id:"ch5",title:"Probability & Statistics",duration:"16 min",progress:0,isUnlocked:!1,isCompleted:!1}]}],n=[{id:"unit1",title:"Grammar & Vocabulary",progress:75,chapters:[{id:"ch1",title:"Parts of Speech",duration:"10 min",progress:100,isUnlocked:!0,isCompleted:!0},{id:"ch2",title:"Sentence Structure",duration:"13 min",progress:90,isUnlocked:!0,isCompleted:!1},{id:"ch3",title:"Advanced Grammar",duration:"17 min",progress:35,isUnlocked:!0,isCompleted:!1}]},{id:"unit2",title:"Literature & Writing",progress:30,chapters:[{id:"ch4",title:"Creative Writing",duration:"20 min",progress:60,isUnlocked:!0,isCompleted:!1},{id:"ch5",title:"Poetry Analysis",duration:"15 min",progress:0,isUnlocked:!1,isCompleted:!1}]}],s=[{id:"unit1",title:"Physics & Chemistry",progress:50,chapters:[{id:"ch1",title:"Matter & Energy",duration:"14 min",progress:100,isUnlocked:!0,isCompleted:!0},{id:"ch2",title:"Chemical Reactions",duration:"16 min",progress:25,isUnlocked:!0,isCompleted:!1},{id:"ch3",title:"Forces & Motion",duration:"18 min",progress:25,isUnlocked:!0,isCompleted:!1}]},{id:"unit2",title:"Biology & Earth Science",progress:15,chapters:[{id:"ch4",title:"Cell Biology",duration:"12 min",progress:30,isUnlocked:!0,isCompleted:!1},{id:"ch5",title:"Ecosystems",duration:"15 min",progress:0,isUnlocked:!1,isCompleted:!1}]}],o=[{id:"unit1",title:"World History",progress:45,chapters:[{id:"ch1",title:"Ancient Civilizations",duration:"16 min",progress:100,isUnlocked:!0,isCompleted:!0},{id:"ch2",title:"Medieval Period",duration:"14 min",progress:35,isUnlocked:!0,isCompleted:!1},{id:"ch3",title:"Modern Era",duration:"18 min",progress:0,isUnlocked:!0,isCompleted:!1}]},{id:"unit2",title:"Geography & Culture",progress:25,chapters:[{id:"ch4",title:"World Geography",duration:"13 min",progress:50,isUnlocked:!0,isCompleted:!1},{id:"ch5",title:"Cultural Studies",duration:"17 min",progress:0,isUnlocked:!1,isCompleted:!1}]}];switch(t.toLowerCase()){case"mathematics":return e;case"english":return n;case"science":return s;case"social studies":return o;default:return e}},GM=t=>{switch(t.toLowerCase()){case"mathematics":return"Algebra, Geometry & Trigonometry  Grade 10";case"english":return"Grammar, Literature & Writing  Grade 10";case"science":return"Physics, Chemistry & Biology  Grade 10";case"social studies":return"History, Geography & Culture  Grade 10";default:return"Education you can believe in"}},KM=t=>{for(const e of t)for(const n of e.chapters)if(!n.isCompleted&&n.isUnlocked)return{unit:e.title,chapter:n.title,progress:n.progress};return{unit:t[0].title,chapter:t[0].chapters[0].title,progress:t[0].chapters[0].progress}};function YM({subject:t,onBack:e,onStartQuiz:n,onLessonClick:s}){const[o,l]=x.useState(["unit1"]),c=qM(t.name),d=GM(t.name),h=KM(c),f=Math.round(c.reduce((w,b)=>w+b.progress,0)/c.length),p=c.reduce((w,b)=>w+b.chapters.length,0),m=c.reduce((w,b)=>w+b.chapters.length*15,0),y=w=>{l(b=>b.includes(w)?b.filter(j=>j!==w):[...b,w])};return r.jsxs("div",{className:"h-full bg-gradient-to-b from-[#ADC8FF] via-[#E8F2FF]/95 to-white",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ADC8FF]/30 via-transparent to-transparent"}),r.jsxs("div",{className:"relative px-6 pt-4 pb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx(jr,{onClick:e}),r.jsx("h1",{className:"text-section-header text-[#4F8EFF]/80",children:"Course Details"}),r.jsx(P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-12 h-12 bg-white/95 backdrop-blur-md rounded-2xl flex items-center justify-center shadow-lg border border-white/40",children:r.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-[#091A7A] to-[#4F8EFF] flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})})]}),r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/90 backdrop-blur-md rounded-3xl p-6 shadow-xl border border-white/50 mb-6",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[r.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${t.color} rounded-3xl flex items-center justify-center shadow-lg`,children:t.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-main-heading text-[#4F8EFF] mb-2",children:t.name}),r.jsx("p",{className:"text-small text-[#6B8EFF]/80 mb-3",children:d}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Oo,{className:"w-4 h-4 text-[#6B8EFF]/60"}),r.jsxs("span",{className:"text-tiny text-[#6B8EFF]/70",children:[Math.floor(m/60),"h ",m%60,"min"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mr,{className:"w-4 h-4 text-amber-500 fill-current"}),r.jsx("span",{className:"text-tiny font-medium text-[#4F8EFF]",children:"4.9"})]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-subheading text-[#4F8EFF]",children:"Overall Progress"}),r.jsxs("span",{className:"text-subheading font-semibold text-[#4F8EFF]",children:[f,"%"]})]}),r.jsx("div",{className:"h-3 bg-[#ADC8FF]/30 rounded-full overflow-hidden",children:r.jsx(P.div,{initial:{width:0},animate:{width:`${f}%`},transition:{delay:.3,duration:1.2,ease:"easeOut"},className:"h-full bg-gradient-to-r from-[#4F8EFF] to-[#7BA7FF] rounded-full shadow-sm"})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-tiny text-[#6B8EFF]/70",children:"Course Content"}),r.jsxs("span",{className:"text-tiny text-[#6B8EFF]/80",children:[p," Videos"]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(rg,{className:"w-4 h-4 text-[#6B8EFF]/70"}),r.jsx("span",{className:"text-small text-[#6B8EFF]/70",children:"Instructors"})]}),r.jsxs("div",{className:"flex items-center",children:[Zw.slice(0,5).map((w,b)=>r.jsx(P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:b*.1},className:"relative",style:{marginLeft:b>0?"-12px":"0"},children:r.jsx("img",{src:b===0?rm:w.avatar,alt:w.name,className:"w-11 h-11 rounded-full border-3 border-white shadow-lg object-cover object-[center_20%]"})},w.id)),r.jsx("div",{className:"w-11 h-11 bg-white/95 backdrop-blur-md rounded-full border-3 border-white shadow-lg flex items-center justify-center",style:{marginLeft:"-12px"},children:r.jsxs("span",{className:"text-xs font-semibold text-[#4F8EFF]",children:["+",Zw.length-5]})})]})]})]})]}),r.jsx("div",{className:"px-6 mb-6",children:r.jsx(P.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:n,className:"w-full bg-subject-gradient text-[#4F8EFF] rounded-3xl p-5 shadow-xl border border-white/40 backdrop-blur-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-left",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-8 h-8 bg-white/30 rounded-xl flex items-center justify-center",children:r.jsx(Ci,{className:"w-4 h-4 text-[#4F8EFF]"})}),r.jsx("span",{className:"text-subheading font-semibold",children:"Continue Learning"})]}),r.jsxs("p",{className:"text-small text-[#4F8EFF]/80 font-medium",children:[h.unit,": ",h.chapter]}),r.jsxs("p",{className:"text-small text-[#4F8EFF]/70 font-medium",children:[h.progress,"% completed"]})]}),r.jsx("div",{className:"w-14 h-14 bg-white backdrop-blur-sm rounded-full flex items-center justify-center border border-white/30 shadow-lg",children:r.jsx(Ci,{className:"w-6 h-6 text-[#4F8EFF]"})})]})})}),r.jsx("div",{className:"flex-1 px-6 pb-6",children:r.jsx("div",{className:"space-y-6",children:c.map((w,b)=>{const j=o.includes(w.id);return r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1},className:"bg-white/95 backdrop-blur-xl rounded-3xl overflow-hidden shadow-elevated border border-white/60 ring-1 ring-[#ADC8FF]/20",whileHover:{scale:1.01,boxShadow:"0 25px 50px rgba(9, 26, 122, 0.3), 0 0 0 1px rgba(173, 200, 255, 0.4)"},transition:{duration:.3,ease:"easeOut"},children:[r.jsxs(P.button,{whileHover:{backgroundColor:"rgba(173, 200, 255, 0.08)"},whileTap:{scale:.98},onClick:()=>y(w.id),className:"w-full p-6 flex items-center justify-between relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#ADC8FF]/5 via-transparent to-[#ADC8FF]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsxs("div",{className:"text-left relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[r.jsx("div",{className:"w-10 h-10 bg-[#ADC8FF] rounded-full flex items-center justify-center border border-white/30 shadow-lg ring-1 ring-[#ADC8FF]/30",children:r.jsx("span",{className:"text-small font-semibold text-[#091A7A]",children:b+1})}),r.jsxs("span",{className:"text-body font-semibold text-[#091A7A]/80",children:["Unit ",b+1]})]}),r.jsx("h3",{className:"text-subheading text-[#4F8EFF] mb-2",children:w.title}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-2.5 w-24 bg-[#ADC8FF]/30 rounded-full overflow-hidden shadow-inner",children:r.jsx(P.div,{initial:{width:0},animate:{width:`${w.progress}%`},transition:{delay:.5,duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-[#4F8EFF] to-[#7BA7FF] rounded-full shadow-sm"})}),r.jsxs("span",{className:"text-small font-semibold text-[#091A7A]",children:[w.progress,"%"]})]})]}),r.jsx(P.div,{animate:{rotate:j?90:0},transition:{duration:.3,ease:"easeInOut"},className:"w-12 h-12 bg-[#ADC8FF]/15 rounded-full flex items-center justify-center border border-white/40 shadow-sm relative z-10",whileHover:{backgroundColor:"rgba(173, 200, 255, 0.25)"},children:r.jsx(Ms,{className:"w-5 h-5 text-[#091A7A]/70"})})]}),r.jsx(P.div,{initial:!1,animate:{height:j?"auto":0},transition:{duration:.4,ease:"easeInOut"},className:"overflow-hidden",children:r.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[r.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-[#ADC8FF]/30 to-transparent mb-4"}),w.chapters.map((k,N)=>r.jsxs(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:N*.08},className:"bg-white/90 backdrop-blur-sm rounded-2xl p-5 border border-white/70 shadow-card ring-1 ring-[#ADC8FF]/10 relative overflow-hidden",whileHover:{scale:1.02,boxShadow:"0 8px 25px rgba(9, 26, 122, 0.15)"},transition:{duration:.2},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ADC8FF]/3 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsx("div",{className:"w-11 h-11 bg-gradient-to-br from-[#ADC8FF]/40 to-[#ADC8FF]/20 rounded-full flex items-center justify-center border border-white/50 shadow-sm",children:r.jsx("span",{className:"text-small font-semibold text-[#091A7A]",children:N+1})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-subheading text-[#091A7A] mb-1.5 font-medium",children:k.title}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Oo,{className:"w-3.5 h-3.5 text-[#6B8EFF]/70"}),r.jsx("span",{className:"text-small text-[#091A7A]/60 font-medium",children:k.duration})]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:k.isCompleted?r.jsx("div",{className:"w-9 h-9 bg-green-50 rounded-full flex items-center justify-center border border-green-200 shadow-sm",children:r.jsx(Rn,{className:"w-4.5 h-4.5 text-green-600"})}):k.isUnlocked?r.jsx(P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>s?.(k.title),className:"w-9 h-9 bg-gradient-to-br from-[#4F8EFF] to-[#7BA7FF] rounded-full flex items-center justify-center shadow-lg border border-white/30",children:r.jsx(Ci,{className:"w-3.5 h-3.5 text-white"})}):r.jsx("div",{className:"w-9 h-9 bg-gray-50 rounded-full flex items-center justify-center border border-gray-200 shadow-sm",children:r.jsx(Ed,{className:"w-4 h-4 text-gray-400"})})})]}),k.progress>0&&!k.isCompleted&&r.jsx("div",{className:"mt-4",children:r.jsx("div",{className:"h-2 bg-[#ADC8FF]/25 rounded-full overflow-hidden shadow-inner",children:r.jsx(P.div,{initial:{width:0},animate:{width:`${k.progress}%`},transition:{delay:.3,duration:.8,ease:"easeOut"},className:"h-full bg-gradient-to-r from-[#4F8EFF] to-[#7BA7FF] rounded-full shadow-sm"})})})]},k.id))]})})]},w.id)})})})]})}function sN({onBack:t,vocabularyId:e,vocabularyName:n,totalWords:s,onComplete:o}){const[l,c]=x.useState([]),[d,h]=x.useState(!0),[f,p]=x.useState(new Set),[m,y]=x.useState(new Set),[w,b]=x.useState([]),j=100,[k,N]=x.useState(null),[E,C]=x.useState(0),A=x.useRef(0),O=x.useRef(0),L=x.useRef(!1);x.useEffect(()=>{B()},[e]);const B=async()=>{try{h(!0);const J=await fetch(`https://${Ve}.supabase.co/functions/v1/server/shared-vocabulary/${e}/words`,{headers:{Authorization:`Bearer ${wn}`}});if(!J.ok)throw new Error("Failed to fetch words");const M=await J.json();c(M.words||[])}catch(J){console.error("Error fetching words:",J),be.error("  ")}finally{h(!1)}},R=J=>{y(M=>{const T=new Set(M);return T.has(J)?T.delete(J):T.add(J),T})},z=(J,M)=>{A.current=J.touches[0].clientX,O.current=J.touches[0].clientY,L.current=!1,N(M)},X=(J,M)=>{if(k!==M)return;const T=J.touches[0].clientX-A.current,F=J.touches[0].clientY-O.current;!L.current&&Math.abs(T)>Math.abs(F)&&Math.abs(T)>10&&(L.current=!0),L.current&&(J.preventDefault(),C(T))},ae=J=>{Math.abs(E)>100&&L.current&&K(J),C(0),N(null),L.current=!1},K=J=>{p(M=>new Set(M).add(J)),b(M=>[...M,J]),y(M=>{const T=new Set(M);return T.delete(J),T})},te=()=>{if(w.length===0)return;const J=w[w.length-1];p(M=>{const T=new Set(M);return T.delete(J),T}),b(M=>M.slice(0,-1))},ee=()=>{const J=l.filter(M=>!f.has(M.id)).map(M=>M.id);if(J.length===0){be.error(" 1   ");return}o(J,j)},re=l.filter(J=>!f.has(J.id));return Math.ceil(re.length/j),d?r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-[#8B5CF6] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-[#091A7A]/70",children:" ..."})]})}):r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"sticky top-0 z-40 backdrop-blur-xl border-b border-gray-100 px-6 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(P.button,{whileTap:{scale:.95},onClick:t,className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm border border-gray-200",children:r.jsx(Ir,{className:"w-5 h-5 text-[#091A7A]"})}),r.jsxs("div",{className:"text-center flex-1",children:[r.jsx("h1",{className:"text-lg font-bold text-[#091A7A]",children:n}),r.jsxs("p",{className:"text-sm text-[#091A7A]/60",children:[re.length," / ",s,"  "]})]}),r.jsx(P.button,{whileTap:{scale:.95},onClick:te,disabled:w.length===0,className:`w-10 h-10 rounded-full flex items-center justify-center shadow-sm transition-all ${w.length>0?"bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED]":"bg-gray-200"}`,children:r.jsx(QP,{className:"w-5 h-5 text-white"})})]}),r.jsx("div",{className:"text-xs text-[#091A7A]/50 mt-2 text-center",children:"     "})]}),r.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:r.jsxs("div",{className:"p-4",children:[r.jsx(Ze,{children:re.map((J,M)=>{const T=m.has(J.id),F=k===J.id,q=F?E:0,D=Math.max(.3,1-Math.abs(q)/200);return r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:D,y:0,x:q},exit:{opacity:0,x:q>0?300:-300,height:0},transition:{duration:.2},onTouchStart:V=>z(V,J.id),onTouchMove:V=>X(V,J.id),onTouchEnd:()=>ae(J.id),className:"relative bg-white/95 backdrop-blur-lg rounded-[20px] p-4 mb-3 shadow-md border border-white/20",style:{touchAction:F?"none":"auto"},children:[F&&Math.abs(q)>50&&r.jsx("div",{className:`absolute top-1/2 -translate-y-1/2 ${q>0?"right-4":"left-4"}`,children:r.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center opacity-80",children:r.jsx(Bn,{className:"w-6 h-6 text-white",strokeWidth:3})})}),r.jsx("div",{className:"absolute top-3 left-3 w-6 h-6 bg-[#8B5CF6] rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-[10px] text-white font-medium",children:M+1})}),r.jsxs("div",{className:"flex items-center justify-between pl-10 cursor-pointer",onClick:()=>R(J.id),children:[r.jsx("span",{className:"text-base font-semibold text-gray-700",children:J.word}),r.jsx("span",{className:`text-sm transition-opacity ${T?"text-[#091A7A] opacity-100":"text-[#091A7A]/30 opacity-50"}`,children:T?J.meaning:"  "})]})]},J.id)})}),re.length===0&&r.jsxs("div",{className:"text-center py-16",children:[r.jsx("p",{className:"text-[#091A7A]/70",children:"  "}),r.jsx("p",{className:"text-sm text-[#091A7A]/50 mt-1",children:"    "})]})]})}),r.jsxs("div",{className:"sticky bottom-0 backdrop-blur-lg border-t border-white/20 p-4",children:[r.jsx("div",{className:"mb-3 text-center",children:r.jsx("p",{className:"text-sm text-[#091A7A]/60",children:"100   ."})}),r.jsx(P.button,{whileTap:{scale:.98},onClick:ee,disabled:re.length===0,className:`w-full h-12 rounded-[20px] flex items-center justify-center shadow-lg transition-all ${re.length>0?"bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] text-white":"bg-gray-300 text-gray-500"}`,children:"  "})]})]})}const JM=[{id:"all",name:"All"},{id:"TOEIC",name:"TOEIC"},{id:"SAT",name:"SAT"},{id:"GRE",name:"GRE"},{id:"School",name:" "},{id:"General",name:"General English"}];function QM({onBack:t,getAuthToken:e}){const[n,s]=x.useState("all"),[o,l]=x.useState([]),[c,d]=x.useState([]),[h,f]=x.useState(!0),[p,m]=x.useState(null),y=x.useRef(null);x.useEffect(()=>{w()},[]);const w=async()=>{try{f(!0);const N=await fetch(`https://${Ve}.supabase.co/functions/v1/server/shared-vocabularies`,{headers:{Authorization:`Bearer ${wn}`}});if(!N.ok)throw new Error("Failed to fetch vocabularies");const E=await N.json();l(E.vocabularies||[])}catch(N){console.error("Error fetching vocabularies:",N),be.error("Failed to load vocabularies")}finally{f(!1)}};x.useEffect(()=>{let N=o;n!=="all"&&(N=N.filter(E=>E.category===n)),d(N)},[n,o]);const b=N=>{switch(N){case"TOEIC":return"bg-yellow-400 text-purple-900";case"SAT":return"bg-white text-purple-700";case"GRE":return"bg-purple-300 text-purple-900";case"School":return"bg-pink-300 text-purple-900";case"General":return"bg-green-300 text-green-900";default:return"bg-purple-300 text-purple-900"}},j=N=>{m(N)},k=async(N,E)=>{if(p)try{const C=e?e():localStorage.getItem("supabase_access_token")||wn;if(!(await fetch(`https://${Ve}.supabase.co/functions/v1/server/user-vocabularies`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({name:p.name,description:p.description,words_per_unit:E,selected_word_ids:N,shared_vocabulary_id:p.id})})).ok)throw new Error("Failed to add vocabulary");be.success("Vocabulary added successfully!"),m(null)}catch(C){console.error("Error adding vocabulary:",C),be.error("Failed to add vocabulary")}};return p?r.jsx(sN,{onBack:()=>m(null),vocabularyId:p.id,vocabularyName:p.name,totalWords:p.total_words,onComplete:k}):r.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-b from-[#E8E0FF] to-[#F0EBFF]",children:[r.jsx(Sl,{onBack:t,title:"",subtitle:"   "}),r.jsx("div",{className:"px-4 pb-4",children:r.jsx("div",{ref:y,className:"flex gap-2 overflow-x-auto scrollbar-hide",children:JM.map(N=>r.jsx(P.button,{whileTap:{scale:.95},onClick:()=>s(N.id),className:`px-4 py-2 rounded-full whitespace-nowrap transition-all text-sm ${n===N.id?"bg-white text-[#491B6D] shadow-md":"bg-white/30 text-[#491B6D] border border-white/50"}`,children:N.name},N.id))})}),r.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-4 py-6",children:[h?r.jsx("div",{className:"flex items-center justify-center py-16",children:r.jsx("div",{className:"w-12 h-12 border-4 border-[#8B6FC4] border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-4",children:[r.jsx(Ze,{children:c.map((N,E)=>r.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:E*.05},whileTap:{scale:.98},onClick:()=>j(N),className:"bg-white/40 backdrop-blur-lg rounded-3xl p-5 border border-white/50 shadow-lg",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-white/60 rounded-2xl flex items-center justify-center flex-shrink-0",children:r.jsx(Xr,{className:"w-7 h-7 text-[#8B6FC4]"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-[#4A3A6B] mb-2 line-clamp-2",children:N.name}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${b(N.category)}`,children:N.category||"General"}),r.jsxs("span",{className:"text-[#8B6FC4] text-xs",children:[N.total_words," "]})]})]}),r.jsx(Ms,{className:"w-5 h-5 text-[#8B6FC4] flex-shrink-0 mt-1"})]})},N.id))}),c.length===0&&!h&&r.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[r.jsx("div",{className:"w-16 h-16 bg-white/40 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Xr,{className:"w-8 h-8 text-[#8B6FC4]"})}),r.jsx("p",{className:"text-[#6B5A8B]",children:"No vocabulary found"})]})]}),r.jsx("div",{className:"h-4"})]})]})}function XM(t,e){return x.useReducer((n,s)=>e[n][s]??n,t)}var Jo=t=>{const{present:e,children:n}=t,s=ZM(e),o=typeof n=="function"?n({present:s.isPresent}):x.Children.only(n),l=Ct(s.ref,eL(o));return typeof n=="function"||s.isPresent?x.cloneElement(o,{ref:l}):null};Jo.displayName="Presence";function ZM(t){const[e,n]=x.useState(),s=x.useRef(null),o=x.useRef(t),l=x.useRef("none"),c=t?"mounted":"unmounted",[d,h]=XM(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const f=sd(s.current);l.current=d==="mounted"?f:"none"},[d]),gn(()=>{const f=s.current,p=o.current;if(p!==t){const y=l.current,w=sd(f);t?h("MOUNT"):w==="none"||f?.display==="none"?h("UNMOUNT"):h(p&&y!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,h]),gn(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,m=w=>{const j=sd(s.current).includes(CSS.escape(w.animationName));if(w.target===e&&j&&(h("ANIMATION_END"),!o.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},y=w=>{w.target===e&&(l.current=sd(s.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:x.useCallback(f=>{s.current=f?getComputedStyle(f):null,n(f)},[])}}function sd(t){return t?.animationName||"none"}function eL(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function tL(t){const e=nL(t),n=x.forwardRef((s,o)=>{const{children:l,...c}=s,d=x.Children.toArray(l),h=d.find(sL);if(h){const f=h.props.children,p=d.map(m=>m===h?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:m);return r.jsx(e,{...c,ref:o,children:x.isValidElement(f)?x.cloneElement(f,void 0,p):null})}return r.jsx(e,{...c,ref:o,children:l})});return n.displayName=`${t}.Slot`,n}function nL(t){const e=x.forwardRef((n,s)=>{const{children:o,...l}=n;if(x.isValidElement(o)){const c=oL(o),d=iL(l,o.props);return o.type!==x.Fragment&&(d.ref=s?Oi(s,c):c),x.cloneElement(o,d)}return x.Children.count(o)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rL=Symbol("radix.slottable");function sL(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rL}function iL(t,e){const n={...e};for(const s in e){const o=t[s],l=e[s];/^on[A-Z]/.test(s)?o&&l?n[s]=(...d)=>{const h=l(...d);return o(...d),h}:o&&(n[s]=o):s==="style"?n[s]={...o,...l}:s==="className"&&(n[s]=[o,l].filter(Boolean).join(" "))}return{...t,...n}}function oL(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var fu="Dialog",[iN]=Nl(fu),[aL,Sr]=iN(fu),oN=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:o,onOpenChange:l,modal:c=!0}=t,d=x.useRef(null),h=x.useRef(null),[f,p]=Id({prop:s,defaultProp:o??!1,onChange:l,caller:fu});return r.jsx(aL,{scope:e,triggerRef:d,contentRef:h,contentId:Ei(),titleId:Ei(),descriptionId:Ei(),open:f,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(m=>!m),[p]),modal:c,children:n})};oN.displayName=fu;var aN="DialogTrigger",lL=x.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=Sr(aN,n),l=Ct(e,o.triggerRef);return r.jsx(ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Tg(o.open),...s,ref:l,onClick:rt(t.onClick,o.onOpenToggle)})});lL.displayName=aN;var _g="DialogPortal",[cL,lN]=iN(_g,{forceMount:void 0}),cN=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:o}=t,l=Sr(_g,e);return r.jsx(cL,{scope:e,forceMount:n,children:x.Children.map(s,c=>r.jsx(Jo,{present:n||l.open,children:r.jsx(iu,{asChild:!0,container:o,children:c})}))})};cN.displayName=_g;var Wd="DialogOverlay",dN=x.forwardRef((t,e)=>{const n=lN(Wd,t.__scopeDialog),{forceMount:s=n.forceMount,...o}=t,l=Sr(Wd,t.__scopeDialog);return l.modal?r.jsx(Jo,{present:s||l.open,children:r.jsx(uL,{...o,ref:e})}):null});dN.displayName=Wd;var dL=tL("DialogOverlay.RemoveScroll"),uL=x.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=Sr(Wd,n);return r.jsx(lu,{as:dL,allowPinchZoom:!0,shards:[o.contentRef],children:r.jsx(ot.div,{"data-state":Tg(o.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),Ri="DialogContent",uN=x.forwardRef((t,e)=>{const n=lN(Ri,t.__scopeDialog),{forceMount:s=n.forceMount,...o}=t,l=Sr(Ri,t.__scopeDialog);return r.jsx(Jo,{present:s||l.open,children:l.modal?r.jsx(hL,{...o,ref:e}):r.jsx(fL,{...o,ref:e})})});uN.displayName=Ri;var hL=x.forwardRef((t,e)=>{const n=Sr(Ri,t.__scopeDialog),s=x.useRef(null),o=Ct(e,n.contentRef,s);return x.useEffect(()=>{const l=s.current;if(l)return gg(l)},[]),r.jsx(hN,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(t.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:rt(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:rt(t.onFocusOutside,l=>l.preventDefault())})}),fL=x.forwardRef((t,e)=>{const n=Sr(Ri,t.__scopeDialog),s=x.useRef(!1),o=x.useRef(!1);return r.jsx(hN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(s.current||n.triggerRef.current?.focus(),l.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;n.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),hN=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=t,d=Sr(Ri,n),h=x.useRef(null),f=Ct(e,h);return og(),r.jsxs(r.Fragment,{children:[r.jsx(Zd,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:l,children:r.jsx(Xd,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Tg(d.open),...c,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(mL,{titleId:d.titleId}),r.jsx(xL,{contentRef:h,descriptionId:d.descriptionId})]})]})}),Ag="DialogTitle",fN=x.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=Sr(Ag,n);return r.jsx(ot.h2,{id:o.titleId,...s,ref:e})});fN.displayName=Ag;var pN="DialogDescription",pL=x.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=Sr(pN,n);return r.jsx(ot.p,{id:o.descriptionId,...s,ref:e})});pL.displayName=pN;var mN="DialogClose",gN=x.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=Sr(mN,n);return r.jsx(ot.button,{type:"button",...s,ref:e,onClick:rt(t.onClick,()=>o.onOpenChange(!1))})});gN.displayName=mN;function Tg(t){return t?"open":"closed"}var xN="DialogTitleWarning",[$$,yN]=oR(xN,{contentName:Ri,titleName:Ag,docsSlug:"dialog"}),mL=({titleId:t})=>{const e=yN(xN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},gL="DialogDescriptionWarning",xL=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yN(gL).contentName}}.`;return x.useEffect(()=>{const o=t.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},yL=oN,vL=cN,wL=dN,bL=uN,jL=fN,SL=gN;function Wf({...t}){return r.jsx(yL,{"data-slot":"dialog",...t})}function NL({...t}){return r.jsx(vL,{"data-slot":"dialog-portal",...t})}function kL({className:t,...e}){return r.jsx(wL,{"data-slot":"dialog-overlay",className:mn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Vf({className:t,children:e,...n}){return r.jsxs(NL,{"data-slot":"dialog-portal",children:[r.jsx(kL,{}),r.jsxs(bL,{"data-slot":"dialog-content",className:mn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,r.jsxs(SL,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[r.jsx(Bn,{}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Uf({className:t,...e}){return r.jsx("div",{"data-slot":"dialog-header",className:mn("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Hf({className:t,...e}){return r.jsx("div",{"data-slot":"dialog-footer",className:mn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function qf({className:t,...e}){return r.jsx(jL,{"data-slot":"dialog-title",className:mn("text-lg leading-none font-semibold",t),...e})}function CL(t){const e=EL(t),n=x.forwardRef((s,o)=>{const{children:l,...c}=s,d=x.Children.toArray(l),h=d.find(AL);if(h){const f=h.props.children,p=d.map(m=>m===h?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:m);return r.jsx(e,{...c,ref:o,children:x.isValidElement(f)?x.cloneElement(f,void 0,p):null})}return r.jsx(e,{...c,ref:o,children:l})});return n.displayName=`${t}.Slot`,n}function EL(t){const e=x.forwardRef((n,s)=>{const{children:o,...l}=n;if(x.isValidElement(o)){const c=PL(o),d=TL(l,o.props);return o.type!==x.Fragment&&(d.ref=s?Oi(s,c):c),x.cloneElement(o,d)}return x.Children.count(o)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _L=Symbol("radix.slottable");function AL(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_L}function TL(t,e){const n={...e};for(const s in e){const o=t[s],l=e[s];/^on[A-Z]/.test(s)?o&&l?n[s]=(...d)=>{const h=l(...d);return o(...d),h}:o&&(n[s]=o):s==="style"?n[s]={...o,...l}:s==="className"&&(n[s]=[o,l].filter(Boolean).join(" "))}return{...t,...n}}function PL(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pu="Popover",[vN]=Nl(pu,[su]),El=su(),[RL,qs]=vN(pu),wN=t=>{const{__scopePopover:e,children:n,open:s,defaultOpen:o,onOpenChange:l,modal:c=!1}=t,d=El(e),h=x.useRef(null),[f,p]=x.useState(!1),[m,y]=Id({prop:s,defaultProp:o??!1,onChange:l,caller:pu});return r.jsx(_2,{...d,children:r.jsx(RL,{scope:e,contentId:Ei(),triggerRef:h,open:m,onOpenChange:y,onOpenToggle:x.useCallback(()=>y(w=>!w),[y]),hasCustomAnchor:f,onCustomAnchorAdd:x.useCallback(()=>p(!0),[]),onCustomAnchorRemove:x.useCallback(()=>p(!1),[]),modal:c,children:n})})};wN.displayName=pu;var bN="PopoverAnchor",DL=x.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,o=qs(bN,n),l=El(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=o;return x.useEffect(()=>(c(),()=>d()),[c,d]),r.jsx(mg,{...l,...s,ref:e})});DL.displayName=bN;var jN="PopoverTrigger",SN=x.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,o=qs(jN,n),l=El(n),c=Ct(e,o.triggerRef),d=r.jsx(ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":_N(o.open),...s,ref:c,onClick:rt(t.onClick,o.onOpenToggle)});return o.hasCustomAnchor?d:r.jsx(mg,{asChild:!0,...l,children:d})});SN.displayName=jN;var Pg="PopoverPortal",[OL,FL]=vN(Pg,{forceMount:void 0}),NN=t=>{const{__scopePopover:e,forceMount:n,children:s,container:o}=t,l=qs(Pg,e);return r.jsx(OL,{scope:e,forceMount:n,children:r.jsx(Jo,{present:n||l.open,children:r.jsx(iu,{asChild:!0,container:o,children:s})})})};NN.displayName=Pg;var Lo="PopoverContent",kN=x.forwardRef((t,e)=>{const n=FL(Lo,t.__scopePopover),{forceMount:s=n.forceMount,...o}=t,l=qs(Lo,t.__scopePopover);return r.jsx(Jo,{present:s||l.open,children:l.modal?r.jsx(ML,{...o,ref:e}):r.jsx(LL,{...o,ref:e})})});kN.displayName=Lo;var IL=CL("PopoverContent.RemoveScroll"),ML=x.forwardRef((t,e)=>{const n=qs(Lo,t.__scopePopover),s=x.useRef(null),o=Ct(e,s),l=x.useRef(!1);return x.useEffect(()=>{const c=s.current;if(c)return gg(c)},[]),r.jsx(lu,{as:IL,allowPinchZoom:!0,children:r.jsx(CN,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(t.onCloseAutoFocus,c=>{c.preventDefault(),l.current||n.triggerRef.current?.focus()}),onPointerDownOutside:rt(t.onPointerDownOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,f=d.button===2||h;l.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:rt(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),LL=x.forwardRef((t,e)=>{const n=qs(Lo,t.__scopePopover),s=x.useRef(!1),o=x.useRef(!1);return r.jsx(CN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(s.current||n.triggerRef.current?.focus(),l.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;n.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),CN=x.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,...m}=t,y=qs(Lo,n),w=El(n);return og(),r.jsx(Zd,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:l,children:r.jsx(Xd,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onDismiss:()=>y.onOpenChange(!1),children:r.jsx(A2,{"data-state":_N(y.open),role:"dialog",id:y.contentId,...w,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),EN="PopoverClose",BL=x.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,o=qs(EN,n);return r.jsx(ot.button,{type:"button",...s,ref:e,onClick:rt(t.onClick,()=>o.onOpenChange(!1))})});BL.displayName=EN;var $L="PopoverArrow",zL=x.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,o=El(n);return r.jsx(T2,{...o,...s,ref:e})});zL.displayName=$L;function _N(t){return t?"open":"closed"}var WL=wN,VL=SN,UL=NN,HL=kN;function qL({...t}){return r.jsx(WL,{"data-slot":"popover",...t})}function GL({...t}){return r.jsx(VL,{"data-slot":"popover-trigger",...t})}function KL({className:t,align:e="center",sideOffset:n=4,...s}){return r.jsx(UL,{children:r.jsx(HL,{"data-slot":"popover-content",align:e,sideOffset:n,className:mn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...s})})}let yd=null,bo=null;function YL(){yd=null,bo=null,console.log(" Vocabulary list cache invalidated")}function JL({onBack:t,onBackToHome:e,onSelectVocabulary:n,onStartFlashcards:s,getAuthToken:o}){const[l,c]=x.useState([]),[d,h]=x.useState([]),[f,p]=x.useState([]),[m,y]=x.useState(!1),[w,b]=x.useState({}),[j,k]=x.useState(!0),[N,E]=x.useState(!1),[C,A]=x.useState(!1),[O,L]=x.useState(!1),[B,R]=x.useState(null),[z,X]=x.useState(null),[ae,K]=x.useState("");x.useEffect(()=>{let I=!1;const U=Z=>{I||(h(Z.myOwnVocabularies),p(Z.mySharedVocabularies),c(Z.sharedUnits),k(!1))};if(yd)return U(yd),()=>{I=!0};if(bo)return k(!0),bo.then(Z=>U(Z)).catch(Z=>{I||(console.error("Failed to load vocabularies:",Z),k(!1))}),()=>{I=!0};k(!0);const H=(async()=>{const[Z,he]=await Promise.all([fetch(`https://${Ve}.supabase.co/functions/v1/server/user-vocabularies`,{headers:{Authorization:`Bearer ${o?o():wn}`}}),fetch(`https://${Ve}.supabase.co/functions/v1/server/shared-vocabularies`,{headers:{Authorization:`Bearer ${wn}`}})]),ue={myOwnVocabularies:[],mySharedVocabularies:[],sharedUnits:[],timestamp:Date.now()};if(Z.ok){const Ne=(await Z.json()).vocabularies||[];ue.myOwnVocabularies=Ne.filter(Ge=>!Ge.shared_vocabulary_id),ue.mySharedVocabularies=Ne.filter(Ge=>Ge.shared_vocabulary_id),console.log(" Loaded My Own vocabularies:",ue.myOwnVocabularies.length),console.log(" Loaded My Shared vocabularies:",ue.mySharedVocabularies.length)}else{const ve=await Z.text();console.error(" Failed to load user vocabularies:",ve)}if(he.ok){const ve=await he.json(),Ne={};ve.vocabularies.forEach(Ge=>{const tt=Ge.category||"";Ne[tt]||(Ne[tt]=[]),Ne[tt].push(Ge)}),ue.sharedUnits=Object.entries(Ne).map(([Ge,tt])=>({id:Ge,title:Ge,subtitle:`${tt.length} `,progress:0,isExpanded:!1,items:tt.map(qe=>({id:qe.id,title:qe.title,wordCount:qe.totalWords||0,estimatedTime:`${Math.ceil((qe.totalWords||0)/3)} min`,isCompleted:!1,progress:0}))})),console.log("Loaded shared vocabularies:",ue.sharedUnits.length,"categories")}else{const ve=await he.text();console.error(" Failed to load shared vocabularies:",ve)}return yd=ue,ue})();return bo=H,H.then(Z=>U(Z)).catch(Z=>{I||(console.error("Failed to load vocabularies:",Z),k(!1))}).finally(()=>{bo===H&&(bo=null)}),()=>{I=!0}},[o]);const te={id:"my-own",title:"  ",subtitle:" ",progress:0,isExpanded:m,items:d.map(I=>({id:I.id,title:I.title,wordCount:I.total_words||0,estimatedTime:`${Math.ceil((I.total_words||0)/3)} min`,isCompleted:!1,progress:0}))},re=f.map(I=>{const U=I.words_per_unit||100,H=I.total_words||0,Z=Math.ceil(H/U),he=[];for(let ue=0;ue<Z;ue++){const ve=ue*U+1,Ne=Math.min((ue+1)*U,H),Ge=Ne-ve+1;he.push({id:`${I.id}-unit-${ue+1}`,title:`${I.title} ${ve}~${Ne}`,wordCount:Ge,startIndex:ve,endIndex:Ne})}return{id:`shared-${I.id}`,title:I.title,subtitle:`${H}   ${Z} `,progress:0,units:he,isExpanded:w[I.id]||!1,vocabularyId:I.id,wordsPerUnit:U,totalWords:H}}),J=[te,...l],M=I=>{if(I==="my-own")y(!m);else if(I.startsWith("shared-")){const U=I.replace("shared-","");b(H=>({...H,[U]:!H[U]}))}else c(U=>U.map(H=>H.id===I?{...H,isExpanded:!H.isExpanded}:H))},T=I=>{n(I.id,I.title)},F=(I,U)=>{U.stopPropagation(),R(I),K(I.title),E(!0)},q=(I,U)=>{U.stopPropagation(),R(I),A(!0)},D=async()=>{if(!(!B||!ae.trim()))try{const I=await fetch(`https://${Ve}.supabase.co/functions/v1/server/user-vocabularies/${B.id}`,{method:"PUT",headers:{Authorization:`Bearer ${o?o():wn}`,"Content-Type":"application/json"},body:JSON.stringify({title:ae.trim()})});if(I.ok)h(U=>U.map(H=>H.id===B.id?{...H,title:ae.trim()}:H)),E(!1),R(null),K(""),console.log("Vocabulary renamed successfully");else{const U=await I.json();console.error("Failed to rename vocabulary:",U),alert("  .")}}catch(I){console.error("Error renaming vocabulary:",I),alert("    .")}},V=async()=>{if(B)try{const I=await fetch(`https://${Ve}.supabase.co/functions/v1/server/user-vocabularies/${B.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${o?o():wn}`}});if(I.ok)h(U=>U.filter(H=>H.id!==B.id)),A(!1),R(null),console.log("Vocabulary deleted successfully");else{const U=await I.json();console.error("Failed to delete vocabulary:",U),alert(" .")}}catch(I){console.error("Error deleting vocabulary:",I),alert("   .")}},W=(I,U,H)=>{H.stopPropagation(),X({id:I,title:U}),L(!0)},se=async()=>{if(z)try{const I=await fetch(`https://${Ve}.supabase.co/functions/v1/server/user-vocabularies/${z.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${o?o():wn}`}});if(I.ok)p(U=>U.filter(H=>H.id!==z.id)),L(!1),X(null),console.log("Shared vocabulary deleted successfully");else{const U=await I.json();console.error("Failed to delete shared vocabulary:",U),alert(" .")}}catch(I){console.error("Error deleting shared vocabulary:",I),alert("   .")}};return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsx("div",{className:"sticky top-0 z-40",style:{background:"transparent"},children:r.jsxs("div",{className:"flex items-center justify-between p-4",children:[r.jsx(jr,{onClick:t}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(U3,{className:"w-5 h-5 text-[#091A7A]"}),r.jsx("h1",{className:"text-[#091A7A]",style:{fontSize:"18px",fontWeight:700},children:"Vocabulary"})]}),e?r.jsx(P.button,{whileTap:{scale:.95},onClick:e,className:"w-10 h-10 flex items-center justify-center rounded-full bg-white/80 backdrop-blur-sm shadow-md",children:r.jsx(Di,{className:"w-5 h-5 text-[#091A7A]"})}):r.jsx("div",{className:"w-10"})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-4 pb-8",children:j?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-[#8B5CF6] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-[#491B6D]",style:{fontSize:"14px",fontWeight:500},children:"  ..."})]})}):r.jsxs("div",{className:"space-y-2.5 pt-2",children:[J.map((I,U)=>r.jsx("div",{children:r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:U*.1},className:`backdrop-blur-lg rounded-2xl overflow-hidden shadow-lg ${I.id==="my-own"?"bg-gradient-to-br from-[#FDF2F8] to-[#FCE7F3]":"bg-white/95"}`,children:[r.jsxs(P.div,{whileTap:{scale:.98},onClick:()=>M(I.id),className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-[#091A7A] mb-1",style:{fontSize:"16px",fontWeight:600},children:I.title}),r.jsxs("span",{className:`inline-block ${I.id==="my-own"?"text-[#9CA3AF]":"text-[#8B5CF6]"}`,style:{fontSize:"11px",fontWeight:500},children:[I.items.reduce((H,Z)=>H+Z.wordCount,0)," words"]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsxs("span",{className:`${I.id==="my-own"?"text-[#9CA3AF]":"text-[#8B5CF6]"}`,style:{fontSize:"12px",fontWeight:600},children:[I.progress,"%"]}),r.jsx(P.div,{animate:{rotate:I.isExpanded?180:0},transition:{duration:.3},children:r.jsx(yr,{className:"w-5 h-5 text-[#091A7A]"})})]})]}),r.jsx("div",{className:"mt-2.5",children:r.jsx("div",{className:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden",children:r.jsx(P.div,{initial:{width:0},animate:{width:`${I.progress}%`},transition:{duration:.8,delay:U*.1+.2},className:"h-full bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] rounded-full"})})})]}),r.jsx(Ze,{children:I.isExpanded&&r.jsx(P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-200/50 overflow-hidden",children:r.jsx("div",{className:"p-2 space-y-1.5",children:I.items.map((H,Z)=>r.jsxs(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:Z*.05},whileTap:{scale:.98},onClick:()=>T(H),className:`backdrop-blur-sm rounded-xl p-3 flex items-center gap-2.5 ${I.id==="my-own"?"bg-gradient-to-r from-white/95 to-[#FDF2F8]/90":"bg-white/80"}`,children:[r.jsx("div",{className:`w-7 h-7 rounded-lg flex items-center justify-center flex-shrink-0 ${I.id==="my-own"?"bg-gradient-to-br from-[#F9A8D4] to-[#EC4899]":"bg-gradient-to-br from-[#C4B5FD] to-[#A78BFA]"}`,children:r.jsx("span",{className:"text-white",style:{fontSize:"12px",fontWeight:600},children:Z+1})}),r.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between",children:[r.jsx("h4",{className:"text-[#091A7A]",style:{fontSize:"14px",fontWeight:600},children:H.title}),r.jsxs("span",{className:`${I.id==="my-own"?"text-[#F472B6]":"text-[#6B7280]"}`,style:{fontSize:"11px"},children:[H.wordCount," words"]})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx("button",{onClick:he=>{he.stopPropagation(),s&&s(H.id,H.title)},className:`p-1.5 ${I.id==="my-own"?"hover:bg-pink-100":"hover:bg-purple-100"} rounded-lg transition-colors`,title:" ",children:r.jsx(zv,{className:`w-5 h-5 ${I.id==="my-own"?"text-[#EC4899]":"text-[#8B5CF6]"}`})})}),I.id==="my-own"&&r.jsx("div",{className:"flex-shrink-0",onClick:he=>he.stopPropagation(),children:r.jsxs(qL,{children:[r.jsx(GL,{asChild:!0,children:r.jsx("button",{className:"p-1 hover:bg-pink-100 rounded-lg transition-colors",children:r.jsx(N3,{className:"w-5 h-5 text-[#EC4899]"})})}),r.jsx(KL,{className:"w-40 p-2 bg-white border border-gray-200 shadow-lg",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:he=>F(H,he),children:[r.jsx(uP,{className:"w-4 h-4 text-[#8B5CF6]"}),r.jsx("span",{className:"text-[#8B5CF6]",style:{fontSize:"14px",fontWeight:500},children:" "})]}),r.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:he=>q(H,he),children:[r.jsx(ol,{className:"w-4 h-4 text-[#EF4444]"}),r.jsx("span",{className:"text-[#EF4444]",style:{fontSize:"14px",fontWeight:500},children:""})]})]})})]})})]},H.id))})})})]})},I.id)),re.map((I,U)=>r.jsx("div",{children:r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:(J.length+U)*.1},className:"bg-gradient-to-br from-[#F3E8FF] to-[#E9D5FF] backdrop-blur-lg rounded-2xl overflow-hidden shadow-lg border border-[#C4B5FD]/30",children:[r.jsxs(P.div,{whileTap:{scale:.98},onClick:()=>M(I.id),className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsx("span",{className:"text-xs bg-[#8B5CF6] text-white px-2 py-0.5 rounded-full font-medium",children:" "}),r.jsx("h3",{className:"text-[#5B21B6]",style:{fontSize:"16px",fontWeight:600},children:I.title})]}),r.jsx("span",{className:"inline-block text-[#7C3AED] mt-1",style:{fontSize:"11px",fontWeight:500},children:I.subtitle})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsx("button",{onClick:H=>W(I.vocabularyId,I.title,H),className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors",title:"",children:r.jsx(ol,{className:"w-4 h-4 text-red-500"})}),r.jsxs("span",{className:"text-[#7C3AED]",style:{fontSize:"12px",fontWeight:600},children:[I.progress,"%"]}),r.jsx(P.div,{animate:{rotate:I.isExpanded?180:0},transition:{duration:.3},children:r.jsx(yr,{className:"w-5 h-5 text-[#5B21B6]"})})]})]}),r.jsx("div",{className:"mt-2.5",children:r.jsx("div",{className:"w-full h-1.5 bg-white/60 rounded-full overflow-hidden",children:r.jsx(P.div,{initial:{width:0},animate:{width:`${I.progress}%`},transition:{duration:.8,delay:(J.length+U)*.1+.2},className:"h-full bg-gradient-to-r from-[#7C3AED] to-[#A78BFA] rounded-full"})})})]}),r.jsx(Ze,{children:I.isExpanded&&r.jsx(P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-[#C4B5FD]/30 overflow-hidden",children:r.jsx("div",{className:"p-2 space-y-1.5",children:I.units.map((H,Z)=>r.jsxs(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:Z*.05},whileTap:{scale:.98},onClick:()=>n(I.vocabularyId,H.title),className:"bg-white/90 backdrop-blur-sm rounded-xl p-3 flex items-center gap-2.5",children:[r.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-[#A78BFA] to-[#7C3AED] rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white",style:{fontSize:"12px",fontWeight:600},children:Z+1})}),r.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between",children:[r.jsx("h4",{className:"text-[#5B21B6]",style:{fontSize:"14px",fontWeight:600},children:H.title}),r.jsxs("span",{className:"text-[#8B5CF6]",style:{fontSize:"11px"},children:[H.wordCount," words"]})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx("button",{onClick:he=>{he.stopPropagation(),s&&s(I.vocabularyId,H.title)},className:"p-1.5 hover:bg-purple-100 rounded-lg transition-colors",title:" ",children:r.jsx(zv,{className:"w-5 h-5 text-[#7C3AED]"})})})]},H.id))})})})]})},I.id))]})}),r.jsx(Wf,{open:N,onOpenChange:E,children:r.jsxs(Vf,{className:"sm:max-w-[350px] bg-white rounded-[24px] border-none shadow-xl",children:[r.jsx(Uf,{children:r.jsx(qf,{className:"text-[#091A7A] text-lg font-bold",children:"  "})}),r.jsx("div",{className:"space-y-4",children:r.jsx(Td,{id:"name",value:ae,onChange:I=>K(I.target.value),placeholder:" ",className:"rounded-xl border-gray-200 focus:border-[#8B5CF6] focus:ring-[#8B5CF6]"})}),r.jsxs(Hf,{className:"flex-col gap-2 sm:flex-col",children:[r.jsx($n,{type:"button",onClick:D,className:"w-full bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] hover:from-[#7C3AED] hover:to-[#6D28D9] text-white rounded-xl h-11 font-medium",children:""}),r.jsx($n,{type:"button",onClick:()=>E(!1),className:"w-full bg-white hover:bg-gray-50 text-[#091A7A] border border-gray-200 rounded-xl h-11 font-medium",children:""})]})]})}),r.jsx(Wf,{open:C,onOpenChange:A,children:r.jsxs(Vf,{className:"sm:max-w-[350px] bg-white rounded-[24px] border-none shadow-xl",children:[r.jsx(Uf,{children:r.jsx(qf,{className:"text-[#091A7A] text-lg font-bold",children:" "})}),r.jsx("div",{className:"space-y-3",children:r.jsx("p",{className:"text-[#091A7A] text-sm",children:"   ?"})}),r.jsxs(Hf,{className:"flex-col gap-2 sm:flex-col",children:[r.jsx($n,{type:"button",onClick:V,className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl h-11 font-medium",children:""}),r.jsx($n,{type:"button",onClick:()=>A(!1),className:"w-full bg-white hover:bg-gray-50 text-[#091A7A] border border-gray-200 rounded-xl h-11 font-medium",children:""})]})]})}),r.jsx(Wf,{open:O,onOpenChange:L,children:r.jsxs(Vf,{className:"sm:max-w-[350px] bg-white rounded-[24px] border-none shadow-xl",children:[r.jsx(Uf,{children:r.jsx(qf,{className:"text-[#091A7A] text-lg font-bold",children:"  "})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("p",{className:"text-[#091A7A] text-sm",children:[r.jsx("strong",{className:"text-[#8B5CF6]",children:z?.title}),"  ?"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"       ."})]}),r.jsxs(Hf,{className:"flex-col gap-2 sm:flex-col",children:[r.jsx($n,{type:"button",onClick:se,className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl h-11 font-medium",children:""}),r.jsx($n,{type:"button",onClick:()=>L(!1),className:"w-full bg-white hover:bg-gray-50 text-[#091A7A] border border-gray-200 rounded-xl h-11 font-medium",children:""})]})]})})]})}function QL({onBack:t,onTakeQuiz:e,lessonTitle:n="Introduction to Algebra",teacherName:s="Dr. Sarah Wilson"}){const[o,l]=x.useState(!1),[c,d]=x.useState(!1),[h,f]=x.useState(!1),[p,m]=x.useState(!1),[y,w]=x.useState(!1),[b,j]=x.useState(35),k={name:s,designation:"Mathematics Professor",rating:4.8,avatar:"https://images.unsplash.com/photo-1511629091441-ee46146481b6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxvbmxpbmUlMjBlZHVjYXRpb24lMjB0ZWFjaGVyJTIwcHJvZmVzc29yfGVufDF8fHx8MTc1NzUzNzU0MHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",followers:"12.5K"},N=()=>{l(!o)},E=()=>{h&&f(!1),d(!c)},C=()=>{c&&d(!1),f(!h)},A=()=>{m(!p)},O=()=>{w(!y)};return r.jsxs("div",{className:"h-full bg-gradient-to-b from-[#ADC8FF] via-[#E8F2FF]/95 to-white",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"relative w-full aspect-video bg-black",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1560785472-2f186f554644?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXRoZW1hdGljcyUyMGxlc3NvbiUyMGFsZ2VicmElMjBlcXVhdGlvbnN8ZW58MXx8fHwxNzU3NTM4NzY4fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral')"}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-black/40"}),r.jsx("div",{className:"absolute bottom-16 left-4 right-4",children:r.jsxs("div",{className:"bg-black/60 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[r.jsx("h3",{className:"text-white font-semibold text-lg mb-1",children:"Introduction to Algebra"}),r.jsx("p",{className:"text-white/80 text-sm",children:"Learn the fundamentals of algebraic equations"}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),r.jsx("span",{className:"text-white/60 text-xs",children:"7:20 duration"})]})]})}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:N,className:"w-20 h-20 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-2xl border-4 border-white/50",children:o?r.jsx(_d,{className:"w-8 h-8 text-[#091A7A] ml-1"}):r.jsx(Ci,{className:"w-8 h-8 text-[#091A7A] ml-1"})})})]}),r.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300",children:[r.jsxs("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between z-10",children:[r.jsx(P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"w-10 h-10 bg-black/40 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/20",children:r.jsx(Ir,{className:"w-5 h-5 text-white"})}),r.jsx(P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-10 h-10 bg-black/40 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/20",children:r.jsx(iP,{className:"w-5 h-5 text-white"})})]}),r.jsxs("div",{className:"absolute bottom-4 left-4 right-4 z-10",children:[r.jsx("div",{className:"w-full h-1 bg-white/30 rounded-full mb-3 overflow-hidden",children:r.jsx(P.div,{initial:{width:0},animate:{width:`${b}%`},className:"h-full bg-white rounded-full"})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:N,className:"w-8 h-8 flex items-center justify-center",children:o?r.jsx(_d,{className:"w-6 h-6 text-white"}):r.jsx(Ci,{className:"w-6 h-6 text-white"})}),r.jsx("span",{className:"text-white text-sm font-medium",children:"2:35 / 7:20"})]}),r.jsx(P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"w-8 h-8 flex items-center justify-center",children:r.jsx(sg,{className:"w-6 h-6 text-white"})})]})]})]})]}),r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-6",children:[r.jsx("h1",{className:"text-white font-semibold text-lg mb-1",children:n}),r.jsx("p",{className:"text-white/80 text-sm",children:"Mathematics  Grade 10"})]})]}),r.jsxs("div",{className:"flex-1 px-6",children:[r.jsxs("div",{className:"flex items-center gap-4 py-4 border-b border-white/20",children:[r.jsxs(P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:E,className:`flex items-center gap-2 px-4 py-2 rounded-full border transition-all duration-200 ${c?"bg-[#4F8EFF] border-[#4F8EFF] text-white":"bg-white/90 border-white/40 text-[#4F8EFF] hover:bg-[#4F8EFF]/10"}`,children:[r.jsx(HP,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"1.2K"})]}),r.jsxs(P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C,className:`flex items-center gap-2 px-4 py-2 rounded-full border transition-all duration-200 ${h?"bg-gray-500 border-gray-500 text-white":"bg-white/90 border-white/40 text-gray-600 hover:bg-gray-100"}`,children:[r.jsx(VP,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"23"})]}),r.jsxs(P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:A,className:`flex items-center gap-2 px-4 py-2 rounded-full border transition-all duration-200 ${p?"bg-amber-500 border-amber-500 text-white":"bg-white/90 border-white/40 text-amber-600 hover:bg-amber-50"}`,children:[r.jsx(e3,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:p?"Saved":"Save"})]})]}),r.jsx("div",{className:"py-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"relative",children:r.jsx("img",{src:k.avatar,alt:k.name,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"text-subheading text-[#091A7A] font-semibold",children:k.name}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Mr,{className:"w-3.5 h-3.5 text-amber-500 fill-current"}),r.jsx("span",{className:"text-tiny text-[#091A7A] font-medium",children:k.rating})]})]}),r.jsx("p",{className:"text-small text-[#6B8EFF]/80",children:k.designation}),r.jsxs("p",{className:"text-tiny text-[#6B8EFF]/60",children:[k.followers," followers"]})]}),r.jsxs(P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:O,className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-200 ${y?"bg-gray-100 text-gray-600 border border-gray-200":"bg-[#4F8EFF] text-white border border-[#4F8EFF] hover:bg-[#3B7FFF]"}`,children:[r.jsx(t6,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:y?"Following":"Follow"})]})]})}),r.jsxs("div",{className:"pb-6",children:[r.jsx("h3",{className:"text-subheading text-[#091A7A] font-semibold mb-3",children:"Lesson Summary"}),r.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-2xl p-4 border border-white/50 shadow-card",children:[r.jsx("p",{className:"text-body text-[#4F8EFF] leading-relaxed",children:"In this lesson, you'll learn how to solve quadratic equations using step-by-step methods. We'll cover the quadratic formula, factoring techniques, and completing the square method. You'll also see real-world examples of how quadratic equations are used in physics and engineering."}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[r.jsx("span",{className:"px-3 py-1 bg-[#ADC8FF]/30 text-[#091A7A] text-tiny font-medium rounded-full",children:"Quadratic Formula"}),r.jsx("span",{className:"px-3 py-1 bg-[#ADC8FF]/30 text-[#091A7A] text-tiny font-medium rounded-full",children:"Factoring"}),r.jsx("span",{className:"px-3 py-1 bg-[#ADC8FF]/30 text-[#091A7A] text-tiny font-medium rounded-full",children:"Real Applications"})]})]})]}),r.jsx("div",{className:"pb-28"})]}),r.jsx("div",{className:"fixed bottom-8 left-8 right-8",children:r.jsx(P.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:e,className:"w-full bg-[#ADC8FF] text-[#091A7A] rounded-full p-4 shadow-lg",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("span",{className:"text-subheading font-semibold text-[#091A7A]",children:"Take Quiz for this Lesson"})})})})]})}function XL({show:t,type:e,title:n,subtitle:s,xpGain:o,onComplete:l}){const c=()=>{switch(e){case"xp-gain":return r.jsx(Os,{className:"w-6 h-6 text-yellow-400",fill:"currentColor"});case"level-up":return r.jsx(Pr,{className:"w-6 h-6 text-yellow-400"});case"streak":return r.jsx(Mr,{className:"w-6 h-6 text-orange-400",fill:"currentColor"});case"achievement":return r.jsx(Pn,{className:"w-6 h-6 text-green-400"});case"quiz-complete":return r.jsx(Rn,{className:"w-6 h-6 text-green-400"});default:return r.jsx(Os,{className:"w-6 h-6 text-blue-400"})}},h=(()=>{switch(e){case"xp-gain":return{bg:"from-yellow-500 to-orange-500",border:"border-yellow-400/50",shadow:"shadow-yellow-500/25"};case"level-up":return{bg:"from-yellow-400 to-yellow-600",border:"border-yellow-300/50",shadow:"shadow-yellow-500/30"};case"streak":return{bg:"from-orange-500 to-red-500",border:"border-orange-400/50",shadow:"shadow-orange-500/25"};case"achievement":return{bg:"from-green-500 to-emerald-500",border:"border-green-400/50",shadow:"shadow-green-500/25"};case"quiz-complete":return{bg:"from-blue-500 to-indigo-500",border:"border-blue-400/50",shadow:"shadow-blue-500/25"};default:return{bg:"from-blue-500 to-purple-500",border:"border-blue-400/50",shadow:"shadow-blue-500/25"}}})();return r.jsx(Ze,{children:t&&r.jsxs(r.Fragment,{children:[r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/20 backdrop-blur-sm z-[100] rounded-[3rem]",onClick:l}),r.jsx(P.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",stiffness:300,damping:25,duration:.5},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[101]",children:r.jsxs("div",{className:`
              relative p-5 bg-gradient-to-br ${h.bg} 
              rounded-2xl shadow-2xl ${h.shadow} 
              border ${h.border} backdrop-blur-xl
              min-w-[260px] max-w-[300px]
            `,children:[r.jsx("div",{className:"absolute inset-0 bg-white/10 rounded-2xl opacity-50"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 via-transparent to-transparent rounded-2xl"}),r.jsxs("div",{className:"relative z-10 text-center",children:[r.jsx(P.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:200},className:"mb-3 flex justify-center",children:r.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:c()})}),r.jsx(P.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-base font-semibold text-white mb-1",children:n}),s&&r.jsx(P.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-white/90 text-xs mb-3",children:s}),o&&r.jsxs(P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5,type:"spring"},className:"flex items-center justify-center gap-1.5 bg-white/20 rounded-full px-3 py-1.5 backdrop-blur-sm",children:[r.jsx(Os,{className:"w-3.5 h-3.5 text-yellow-300",fill:"currentColor"}),r.jsxs("span",{className:"text-white font-medium text-xs",children:["+",o," XP"]})]}),r.jsx(P.div,{initial:{scaleX:1},animate:{scaleX:0},transition:{duration:3,ease:"linear"},className:"absolute bottom-0 left-0 h-1 bg-white/30 rounded-b-2xl origin-left",style:{width:"100%"},onAnimationComplete:l})]})]})})]})})}function ZL({show:t,xpGain:e}){return r.jsx(Ze,{children:t&&r.jsxs(P.div,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-10},transition:{duration:.4,ease:"easeOut"},className:"absolute top-16 left-1/2 transform -translate-x-1/2 z-50",children:[r.jsxs(P.div,{animate:{scale:[1,1.05,1],rotate:[0,-2,2,0]},transition:{duration:.6,ease:"easeInOut",times:[0,.3,.7,1]},className:"flex items-center gap-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-full shadow-lg backdrop-blur-sm border border-green-400/30",children:[r.jsx(P.div,{animate:{rotate:[0,180]},transition:{duration:.4,ease:"easeOut"},children:r.jsx(Fo,{className:"w-4 h-4"})}),r.jsxs("span",{className:"font-medium text-sm",children:[e," XP"]}),r.jsx(P.div,{animate:{scale:[1,1.2,1],filter:["brightness(1)","brightness(1.5)","brightness(1)"]},transition:{duration:.6,ease:"easeInOut",repeat:1},children:r.jsx(Os,{className:"w-4 h-4 text-yellow-300",fill:"currentColor"})})]}),Array.from({length:6}).map((n,s)=>r.jsx(P.div,{initial:{opacity:0,scale:0,x:0,y:0},animate:{opacity:[0,1,0],scale:[0,1,0],x:[0,(Math.random()-.5)*40],y:[0,(Math.random()-.5)*40]},transition:{duration:1,delay:.2+s*.1,ease:"easeOut"},className:`absolute w-1.5 h-1.5 rounded-full ${s%3===0?"bg-yellow-300":s%3===1?"bg-green-300":"bg-white"}`,style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},s))]})})}const Gf="learningAppProgress",eb="learningAppProgress_backup";function eB({userXP:t,currentProgress:e,totalQuizzesCompleted:n,lastActiveDate:s,onProgressLoaded:o}){const l=f=>{if(f<1e3)return{currentLevel:1,xpForNextLevel:1e3,xpInCurrentLevel:f};const y=f-1e3,b=2+Math.floor(y/500),j=y%500;return{currentLevel:b,xpForNextLevel:500,xpInCurrentLevel:j}},c=f=>{try{const p={...f,lastSaved:new Date().toISOString(),version:"1.0"};localStorage.setItem(Gf,JSON.stringify(p));const m=localStorage.getItem(Gf);m&&localStorage.setItem(eb,m),console.log(" Progress saved successfully")}catch(p){console.error(" Failed to save progress:",p)}},d=()=>{try{const f=localStorage.getItem(Gf);if(f){const p=JSON.parse(f);return console.log(" Progress loaded from storage"),p}}catch(f){console.error(" Failed to load progress:",f);try{const p=localStorage.getItem(eb);if(p){const m=JSON.parse(p);return console.log(" Progress loaded from backup"),m}}catch(p){console.error(" Failed to load backup progress:",p)}}return null},h=()=>({userXP:5500,currentProgress:40,totalQuizzesCompleted:2,completedStages:[],unlockedSubjects:["math","english","science"],dailyGoalProgress:40,lastActiveDate:new Date().toISOString(),totalSessionTime:0,achievements:[],levelProgress:l(5500)});return x.useEffect(()=>{const f=d();if(f)f.levelProgress=l(f.userXP),o(f);else{const p=h();c(p),o(p)}},[]),x.useEffect(()=>{const f={userXP:t,currentProgress:e,totalQuizzesCompleted:n,completedStages:[],unlockedSubjects:["math","english","science","social-studies"],dailyGoalProgress:e,lastActiveDate:s||new Date().toISOString(),totalSessionTime:0,achievements:[],levelProgress:l(t)},p=setTimeout(()=>{c(f)},1e3);return()=>clearTimeout(p)},[t,e,n,s]),null}const yi={calculateLevel:t=>{if(t<1e3)return{currentLevel:1,xpForNextLevel:1e3,xpInCurrentLevel:t};const s=t-1e3,l=2+Math.floor(s/500),c=s%500;return{currentLevel:l,xpForNextLevel:500,xpInCurrentLevel:c}},checkForLevelUp:(t,e)=>{const n=yi.calculateLevel(t).currentLevel;return yi.calculateLevel(e).currentLevel>n},exportProgress:()=>{const t=localStorage.getItem("learningAppProgress");if(t){const e=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(e),s=document.createElement("a");s.href=n,s.download=`learning-progress-${new Date().toISOString().split("T")[0]}.json`,s.click(),URL.revokeObjectURL(n)}},clearProgress:()=>{localStorage.removeItem("learningAppProgress"),localStorage.removeItem("learningAppProgress_backup"),console.log(" Progress cleared")}};function tB({show:t,status:e,className:n=""}){const[s,o]=x.useState("saved");x.useEffect(()=>{t&&o(e)},[t,e]);const l=()=>{switch(s){case"saving":return r.jsx(Z3,{className:"w-3 h-3 animate-spin"});case"saved":return r.jsx(jl,{className:"w-3 h-3"});case"error":return r.jsx(y3,{className:"w-3 h-3"});default:return r.jsx(w3,{className:"w-3 h-3"})}},c=()=>{switch(s){case"saving":return"bg-blue-500/90 text-white";case"saved":return"bg-green-500/90 text-white";case"error":return"bg-red-500/90 text-white";default:return"bg-gray-500/90 text-white"}},d=()=>{switch(s){case"saving":return"Saving...";case"saved":return"Saved";case"error":return"Error";default:return"Saved"}};return r.jsx(Ze,{children:t&&r.jsx(P.div,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:10},transition:{duration:.2,ease:"easeOut"},className:`fixed top-20 right-4 z-50 ${n}`,children:r.jsxs("div",{className:`
            flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium
            backdrop-blur-xl border border-white/20 shadow-lg
            ${c()}
          `,children:[l(),r.jsx("span",{children:d()})]})})})}function nB(){const[t,e]=x.useState("saved"),[n,s]=x.useState(!1);return{saveStatus:t,showIndicator:n,triggerSave:()=>{e("saving"),s(!0),setTimeout(()=>{e("saved"),setTimeout(()=>{s(!1)},1500)},800)},triggerError:()=>{e("error"),s(!0),setTimeout(()=>{s(!1)},3e3)}}}const AN="/assets/aeb1623adfde368b33dc26e61638e23dfc50bf84-C69uHyjO.png";function rB({onLoginComplete:t,onGoToSignup:e}){const[n,s]=x.useState({email:"",password:""}),[o,l]=x.useState(!1),[c,d]=x.useState(!1),[h,f]=x.useState(""),p=(w,b)=>{s(j=>({...j,[w]:b})),f("")},m=async()=>{if(!n.email||!n.password){f("  .");return}d(!0),f("");try{console.log(" Signing in with Supabase Auth...");const w=os(),{data:b,error:j}=await w.auth.signInWithPassword({email:n.email,password:n.password});if(j){console.error(" Supabase signin error:",j);let E=" .";throw j.message.includes("Invalid login credentials")||j.message.includes("invalid_credentials")?E=`    .
   .`:j.message.includes("Email not confirmed")?E="  .":E=j.message,new Error(E)}if(console.log(" Login response:",b),!b.session||!b.session.access_token)throw console.error(" Invalid response structure:",b),new Error("   .    .");const k=b.session.access_token,N=b.user;localStorage.setItem("supabase_access_token",k),localStorage.setItem("supabase_user",JSON.stringify(N)),console.log(" Login successful, token saved"),console.log(" Access token:",k.substring(0,20)+"..."),t(N,k)}catch(w){console.error(" Login error:",w),f(w.message||" .")}finally{d(!1)}},y=w=>{w.key==="Enter"&&n.email&&n.password&&m()};return r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-8 py-12 min-h-screen",children:[r.jsxs(P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12 text-center",children:[r.jsx("img",{src:AN,alt:"JEJEVOCA",className:"w-32 h-32 mx-auto mb-4"}),r.jsx("h1",{className:"text-[#491B6D] mb-2",children:"JEJEVOCA"}),r.jsx("p",{className:"text-gray-600",children:"   "})]}),r.jsx(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1},className:"w-full max-w-sm",children:r.jsxs("div",{className:"bg-white/80 backdrop-blur-lg border border-white/30 rounded-3xl p-8 shadow-xl space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),r.jsxs("div",{className:"relative",children:[r.jsx(Fj,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"email",value:n.email,onChange:w=>p("email",w.target.value),onKeyPress:y,placeholder:"example@email.com",className:"w-full pl-12 pr-4 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"email"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),r.jsxs("div",{className:"relative",children:[r.jsx(Ed,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:o?"text":"password",value:n.password,onChange:w=>p("password",w.target.value),onKeyPress:y,placeholder:"",className:"w-full pl-12 pr-12 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"current-password"}),r.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:o?r.jsx(il,{size:20}):r.jsx(_o,{size:20})})]})]}),h&&r.jsx(P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-xl p-3 text-center",children:r.jsx("p",{className:"text-red-600 text-sm",children:h})}),r.jsx(P.button,{whileTap:{scale:.98},onClick:m,disabled:c||!n.email||!n.password,className:`w-full py-4 rounded-2xl font-medium transition-all min-h-[56px] text-center ${c||!n.email||!n.password?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-[#491B6D] text-white shadow-lg shadow-[#491B6D]/30"}`,children:c?r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r.jsx("span",{children:" ..."})]}):""}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-4 bg-white text-gray-500",children:""})})]}),r.jsx(P.button,{whileTap:{scale:.98},onClick:e,className:"w-full py-4 rounded-2xl font-medium bg-white border-2 border-[#491B6D] text-[#491B6D] transition-all min-h-[56px] text-center",children:""}),r.jsx("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-xl",children:r.jsxs("p",{className:"text-xs text-purple-700 text-center",children:["  ?  ",r.jsx("strong",{children:""}),"  !"]})})]})}),r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-8 text-center text-gray-600 text-sm",children:" JEJETRANSFER. All rights reserved.  Made by "})]})}function sB({onBack:t,onSignupComplete:e}){const[n,s]=x.useState({fullName:"",email:"",password:"",confirmPassword:""}),[o,l]=x.useState(!1),[c,d]=x.useState(!1),[h,f]=x.useState(!1),[p,m]=x.useState(""),y=(j,k)=>{s(N=>({...N,[j]:k})),m("")},w=async()=>{if(!n.fullName||!n.email||!n.password||!n.confirmPassword){m("  .");return}if(n.password!==n.confirmPassword){m("  .");return}if(n.password.length<6){m("  6  .");return}f(!0),m("");try{console.log(" Creating account with Supabase Auth...");const j=os(),{data:k,error:N}=await j.auth.signUp({email:n.email,password:n.password,options:{data:{full_name:n.fullName}}});if(N){console.error(" Supabase signup error:",N);let L=" .";throw N.message.includes("already registered")||N.message.includes("already exists")?L=`  .
 .`:N.message.includes("invalid email")?L="   .":N.message.includes("password")?L="  6  .":L=N.message,new Error(L)}console.log(" Signup successful:",k.user?.id);const{data:E,error:C}=await j.auth.signInWithPassword({email:n.email,password:n.password});if(C)throw console.error(" Auto signin failed:",C),new Error("    .  .");if(!E.session||!E.session.access_token)throw new Error("  .");const A=E.session.access_token,O=E.user;localStorage.setItem("supabase_access_token",A),localStorage.setItem("supabase_user",JSON.stringify(O)),console.log(" Auto-login successful"),console.log(" Access token:",A.substring(0,20)+"..."),e(O,A)}catch(j){console.error(" Signup error:",j),m(j.message||" .")}finally{f(!1)}},b=n.fullName&&n.email&&n.password&&n.confirmPassword&&n.password===n.confirmPassword;return r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-8 py-12 min-h-screen",children:[r.jsxs(P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 text-center",children:[r.jsx("img",{src:AN,alt:"JEJEVOCA",className:"w-24 h-24 mx-auto mb-3"}),r.jsx("h2",{className:"text-[#491B6D]",children:""}),r.jsx("p",{className:"text-gray-600 text-sm",children:"JEJEVOCA  "})]}),r.jsx(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1},className:"w-full max-w-sm",children:r.jsxs("div",{className:"bg-white/80 backdrop-blur-lg border border-white/30 rounded-3xl p-8 shadow-xl space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),r.jsxs("div",{className:"relative",children:[r.jsx(zj,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:n.fullName,onChange:j=>y("fullName",j.target.value),placeholder:"",className:"w-full pl-12 pr-4 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"name"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),r.jsxs("div",{className:"relative",children:[r.jsx(Fj,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"email",value:n.email,onChange:j=>y("email",j.target.value),placeholder:"example@email.com",className:"w-full pl-12 pr-4 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"email"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),r.jsxs("div",{className:"relative",children:[r.jsx(Ed,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:o?"text":"password",value:n.password,onChange:j=>y("password",j.target.value),placeholder:" 6 ",className:"w-full pl-12 pr-12 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:o?r.jsx(il,{size:20}):r.jsx(_o,{size:20})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:" "}),r.jsxs("div",{className:"relative",children:[r.jsx(Ed,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:c?"text":"password",value:n.confirmPassword,onChange:j=>y("confirmPassword",j.target.value),placeholder:" ",className:"w-full pl-12 pr-12 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:c?r.jsx(il,{size:20}):r.jsx(_o,{size:20})})]})]}),p&&r.jsx(P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-xl p-3 text-center",children:r.jsx("p",{className:"text-red-600 text-sm",children:p})}),r.jsx(P.button,{whileTap:{scale:.98},onClick:w,disabled:h||!b,className:`w-full py-4 rounded-2xl font-medium transition-all min-h-[56px] ${h||!b?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-[#491B6D] text-white shadow-lg shadow-[#491B6D]/30"}`,children:h?r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r.jsx("span",{children:" ..."})]}):""}),r.jsx(P.button,{whileTap:{scale:.98},onClick:t,className:"w-full py-3 rounded-2xl font-medium bg-white border border-gray-200 text-gray-700 transition-all",children:" "})]})}),r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-8 text-center text-gray-600 text-sm",children:" JEJETRANSFER. All rights reserved.  Made by "})]})}function iB({vocabulary:t,onToggleWord:e,onSelectAll:n,onDeselectAll:s,isWordSelected:o}){const l=(p,m)=>({id:`extractor-${m}-${p.word}`,word:p.word,meaning:p.meaning,source:"Passage Extractor",metadata:{pos:p.pos,level:p.level}}),c=p=>{const m=l(t[p],p);e(m)},d=()=>{if(!n)return;const m=t.map((y,w)=>l(y,w)).filter(y=>!o(y.id));m.length>0&&n(m)},h=()=>{if(!s)return;const p=t.map((m,y)=>l(m,y).id);s(p)},f=p=>{switch(p){case"":return"bg-red-100 text-red-700 border-red-200";case"":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return!t||t.length===0?null:r.jsxs("div",{className:"bg-white rounded-2xl border border-purple-100 p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-bold text-[#491B6D]",children:" "}),r.jsxs("div",{className:"flex gap-2",children:[n&&r.jsx("button",{onClick:d,className:"text-xs text-purple-600 hover:text-purple-800",children:" "}),s&&r.jsx("button",{onClick:h,className:"text-xs text-gray-500 hover:text-gray-700",children:" "})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-[400px] overflow-y-auto",children:t.map((p,m)=>{const y=l(p,m),w=o(y.id);return r.jsxs(P.div,{whileTap:{scale:.98},onClick:()=>c(m),className:`p-3 rounded-xl border cursor-pointer transition-all ${w?"bg-purple-50 border-purple-300 shadow-sm":"bg-gray-50 border-gray-200 hover:border-purple-200"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${w?"bg-purple-600 border-purple-600":"border-gray-300"}`,children:w&&r.jsx(jl,{className:"w-3 h-3 text-white"})}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-[#491B6D]",children:p.word}),r.jsx("span",{className:"ml-2 text-xs text-gray-500",children:p.pos})]})]}),r.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full border ${f(p.level)}`,children:p.level})]}),r.jsx("p",{className:"mt-1 text-sm text-gray-600 ml-8",children:p.meaning})]},`${p.word}-${m}`)})})]})}const oB={paragraphClassName:"text-[12px] leading-relaxed text-[#35215d] mb-2 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-[12px] text-[#35215d]",boldClassName:"font-semibold text-[#4C1D95]"},tb=(t,e,n)=>t.split(/(\*\*[^*]+\*\*)/g).filter(Boolean).map((o,l)=>o.startsWith("**")&&o.endsWith("**")?r.jsx("strong",{className:n,children:o.slice(2,-2)},`${e}-bold-${l}`):r.jsx("span",{children:o},`${e}-text-${l}`)),ji=(t,e={})=>{const n={...oB,...e};return t.split(/\n{2,}/).map((o,l)=>{const c=o.split(`
`).filter(Boolean);return c.length>1&&c.every(h=>/^[-*]\s+/.test(h.trim()))?r.jsx("ul",{className:n.listClassName,children:c.map((h,f)=>{const p=h.replace(/^[-*]\s+/,"");return r.jsx("li",{children:tb(p,`li-${l}-${f}`,n.boldClassName)},`li-${l}-${f}`)})},`section-${l}`):r.jsx("p",{className:n.paragraphClassName,children:tb(o,`p-${l}`,n.boldClassName)},`section-${l}`)})};function aB({analysis:t}){const[e,n]=x.useState(new Set([0]));if(!t)return null;const o=(c=>{const d=[];return c.split(/(?=|||||||||)/).forEach(f=>{if(!f.trim())return;const p=f.trim().split(`
`).filter(Boolean);if(p.length<2)return;const m=p[0].match(/^(|||||||||)/);if(!m)return;const y={number:m[1],english:"",translation:"",paraphrase:"",summary:""};p.forEach(w=>{w.startsWith(y.number)?y.english=w.replace(y.number,"").trim():w.startsWith("=>")?y.paraphrase=w.replace("=>","").trim():w.includes("  :")?y.summary=w.replace(/.*  :\s*/,"").replace(/[()]/g,"").trim():!y.translation&&w.includes("/")&&(y.translation=w.trim())}),y.english&&d.push(y)}),d})(t),l=c=>{const d=new Set(e);d.has(c)?d.delete(c):d.add(c),n(d)};return o.length===0?r.jsxs("div",{className:"bg-white rounded-2xl border border-blue-100 p-4",children:[r.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-3",children:" "}),r.jsx("div",{className:"space-y-2",children:ji(t,{paragraphClassName:"text-sm text-gray-700 leading-relaxed mb-2 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-gray-700",boldClassName:"font-semibold text-[#491B6D]"})})]}):r.jsxs("div",{className:"bg-white rounded-2xl border border-blue-100 p-4 space-y-3",children:[r.jsx("h3",{className:"text-lg font-bold text-[#491B6D]",children:" "}),r.jsx("div",{className:"space-y-2",children:o.map((c,d)=>r.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[r.jsxs("button",{onClick:()=>l(d),className:"w-full px-4 py-3 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:c.number}),r.jsxs("span",{className:"text-sm text-gray-700 text-left line-clamp-1",children:[c.english.split("/")[0],"..."]})]}),e.has(d)?r.jsx(Xm,{className:"w-4 h-4 text-gray-500"}):r.jsx(yr,{className:"w-4 h-4 text-gray-500"})]}),r.jsx(Ze,{children:e.has(d)&&r.jsx(P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:r.jsxs("div",{className:"p-4 space-y-3 bg-white",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-semibold text-blue-600 mb-1",children:""}),r.jsx("p",{className:"text-sm text-gray-800",children:c.english})]}),c.translation&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-semibold text-green-600 mb-1",children:""}),r.jsx("div",{className:"space-y-1",children:ji(c.translation,{paragraphClassName:"text-sm text-gray-700 leading-relaxed mb-1 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-gray-700",boldClassName:"font-semibold text-[#15803d]"})})]}),c.paraphrase&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-semibold text-purple-600 mb-1",children:""}),r.jsx("div",{className:"space-y-1",children:ji(c.paraphrase,{paragraphClassName:"text-sm text-gray-700 leading-relaxed mb-1 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-gray-700",boldClassName:"font-semibold text-[#6D28D9]"})})]}),c.summary&&r.jsxs("div",{className:"bg-yellow-50 p-2 rounded-lg",children:[r.jsx("div",{className:"text-xs font-semibold text-yellow-700 mb-1",children:"  "}),r.jsx("div",{className:"space-y-1",children:ji(c.summary,{paragraphClassName:"text-sm text-yellow-900 leading-relaxed mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-yellow-900",boldClassName:"font-semibold text-[#92400E]"})})]})]})})})]},d))})]})}function lB({explanation:t}){const[e,n]=x.useState(new Set([0,1,2]));if(!t)return null;const o=(c=>{const d=[],h=c.match(/1\s*Step\s*1\)\s*\s*([\s\S]*?)(?=2|$)/i);h&&d.push({title:"Step 1:  ",content:h[1].trim(),icon:Pn,color:"bg-red-500"});const f=c.match(/2\s*Step\s*2\)\s*\s*([\s\S]*?)(?=3|$)/i);f&&d.push({title:"Step 2:  ",content:f[1].trim(),icon:tg,color:"bg-yellow-500"});const p=c.match(/3\s*Step\s*3\)\s*\s*([\s\S]*?)$/i);return p&&d.push({title:"Step 3:  ",content:p[1].trim(),icon:Rn,color:"bg-green-500"}),d})(t),l=c=>{const d=new Set(e);d.has(c)?d.delete(c):d.add(c),n(d)};return o.length===0?r.jsxs("div",{className:"bg-white rounded-2xl border border-green-100 p-4",children:[r.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-3",children:" "}),r.jsx("div",{className:"space-y-2",children:ji(t,{paragraphClassName:"text-sm text-gray-700 leading-relaxed mb-2 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-gray-700",boldClassName:"font-semibold text-[#166534]"})})]}):r.jsxs("div",{className:"bg-white rounded-2xl border border-green-100 p-4 space-y-3",children:[r.jsx("h3",{className:"text-lg font-bold text-[#491B6D]",children:" "}),r.jsx("div",{className:"space-y-3",children:o.map((c,d)=>{const h=c.icon;return r.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[r.jsxs("button",{onClick:()=>l(d),className:"w-full px-4 py-3 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-8 h-8 ${c.color} rounded-lg flex items-center justify-center`,children:r.jsx(h,{className:"w-4 h-4 text-white"})}),r.jsx("span",{className:"font-semibold text-gray-800",children:c.title})]}),e.has(d)?r.jsx(Xm,{className:"w-4 h-4 text-gray-500"}):r.jsx(yr,{className:"w-4 h-4 text-gray-500"})]}),r.jsx(Ze,{children:e.has(d)&&r.jsx(P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:r.jsx("div",{className:"p-4 bg-white space-y-2",children:ji(c.content,{paragraphClassName:"text-sm text-gray-700 leading-relaxed mb-2 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-gray-700",boldClassName:"font-semibold text-[#166534]"})})})})]},d)})})]})}function TN(){const[t,e]=x.useState({}),n=m=>{e(y=>y[m.id]?y:{...y,[m.id]:m})},s=m=>{e(y=>{let w=!1;const b={...y};return m.forEach(j=>{b[j.id]||(b[j.id]=j,w=!0)}),w?b:y})},o=m=>{e(y=>{if(!y[m])return y;const w={...y};return delete w[m],w})},l=m=>{e(y=>{let w=!1;const b={...y};return m.forEach(j=>{b[j]&&(delete b[j],w=!0)}),w?b:y})},c=m=>{e(y=>{const w={...y};return w[m.id]?delete w[m.id]:w[m.id]=m,w})},d=()=>e({}),h=x.useMemo(()=>Object.values(t),[t]),f=h.length;return{selectedWords:h,count:f,addWord:n,addWords:s,removeWord:o,removeWords:l,toggleWord:c,clear:d,isSelected:m=>!!t[m]}}function PN({count:t,onReview:e,onClear:n,label:s=" "}){return r.jsx(Ze,{children:t>0&&r.jsx(P.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{type:"spring",stiffness:260,damping:30},className:"fixed bottom-4 left-0 right-0 z-40 px-4 pointer-events-none",children:r.jsx("div",{className:"mx-auto max-w-md pointer-events-auto",children:r.jsxs("div",{className:"bg-gradient-to-r from-[#5B21B6] to-[#7C3AED] text-white rounded-3xl shadow-xl border border-white/10 p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-2xl bg-white/20 flex items-center justify-center",children:r.jsx(TP,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm uppercase tracking-wide text-white/70",children:s}),r.jsxs("p",{className:"text-lg font-bold",children:[t,"  "]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:flex-shrink-0",children:[r.jsxs("button",{onClick:n,className:"px-3 py-2 rounded-2xl bg-white/10 hover:bg-white/20 transition-colors text-sm font-semibold flex items-center gap-1",children:[r.jsx(Zm,{className:"w-4 h-4"}),""]}),r.jsx("button",{onClick:e,className:"px-4 py-2 rounded-2xl bg-white text-[#5B21B6] font-bold text-sm shadow-md hover:shadow-lg transition-all",children:" "})]})]})})})})}const cB=os(),dB=()=>typeof globalThis.crypto<"u"&&typeof globalThis.crypto.randomUUID=="function"?globalThis.crypto.randomUUID():`vocab_${Date.now()}_${Math.random().toString(36).slice(2)}`,uB=t=>t.split(/[,#]/).map(e=>e.trim()).filter(Boolean),nb=t=>t.map(e=>({word:e.word,pronunciation:e.metadata?.pronunciation||"",part_of_speech:e.metadata?.partOfSpeech||e.metadata?.pos||"",meaning:e.meaning||"",definition:e.metadata?.definition||"",synonyms:e.metadata?.synonyms||[],antonyms:e.metadata?.antonyms||[],derivatives:e.metadata?.derivatives||[],example:e.metadata?.example||e.metadata?.example_sentence||"",translation:e.metadata?.translation||"",translation_highlight:e.metadata?.translation_highlight||e.metadata?.translationHighlight||"",etymology:e.metadata?.etymology||"",metadata:{...e.metadata||{},source:e.source}})),Kf=async()=>{const{data:{session:t}}=await cB.auth.getSession(),e=t?.access_token;if(!e)throw new Error(" .  .");return e};function RN({open:t,onClose:e,words:n,onRemoveWord:s,onClear:o,onActionComplete:l}){const[c,d]=x.useState("new"),[h,f]=x.useState(""),[p,m]=x.useState(""),[y,w]=x.useState(""),[b,j]=x.useState([]),[k,N]=x.useState(""),[E,C]=x.useState(!1),[A,O]=x.useState(!1),L=n.length,B=()=>{A||e()},R=async()=>{C(!0);try{const K=await Kf(),te=await fetch(`https://${Ve}.supabase.co/functions/v1/server/user-vocabularies`,{headers:{Authorization:`Bearer ${K}`}}),ee=await te.json();if(!te.ok)throw new Error(ee.error||"   .");const re=Array.isArray(ee)?ee:Array.isArray(ee.vocabularies)?ee.vocabularies:[];j(re)}catch(K){console.error("   :",K),be.error(K?.message||"   .")}finally{C(!1)}};x.useEffect(()=>{t&&(d("new"),N(""),R())},[t]);const z=x.useMemo(()=>c==="new"?"  ":"  ",[c]),X=async()=>{if(L===0){be.error("  .");return}if(!h.trim()){be.error("  .");return}try{O(!0),be.loading("   ...",{id:"word-basket-action"});const K=await Kf(),te=nb(n),ee=uB(p),re=await fetch(`https://${Ve}.supabase.co/functions/v1/server/save-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`},body:JSON.stringify({vocabularyId:dB(),title:h.trim(),category:"My Own",level:"Custom",words:te,description:y.trim()||void 0,tags:ee})}),J=await re.json();if(!re.ok)throw new Error(J.error||"  .");be.success("  ! ",{id:"word-basket-action"}),l?.(),o(),B()}catch(K){console.error("  :",K),be.error(K?.message||"  .",{id:"word-basket-action"})}finally{O(!1)}},ae=async()=>{if(L===0){be.error("  .");return}if(!k){be.error("  .");return}try{O(!0),be.loading("   ...",{id:"word-basket-action"});const K=await Kf(),te=nb(n),ee=await fetch(`https://${Ve}.supabase.co/functions/v1/server/add-words-to-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`},body:JSON.stringify({vocabularyId:k,words:te})}),re=await ee.json();if(!ee.ok)throw new Error(re.error||"  .");be.success("  !",{id:"word-basket-action"}),l?.(),o(),B()}catch(K){console.error("  :",K),be.error(K?.message||"  .",{id:"word-basket-action"})}finally{O(!1)}};return r.jsx(Ze,{children:t&&r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-end sm:items-center justify-center px-4 py-6",children:r.jsxs(P.div,{initial:{y:40,opacity:0},animate:{y:0,opacity:1},exit:{y:40,opacity:0},className:"w-full max-w-2xl bg-white rounded-3xl shadow-2xl border border-gray-100 overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-[#F5F3FF] to-white",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs uppercase tracking-wide text-[#7C3AED] font-semibold",children:[L,"  "]}),r.jsx("h2",{className:"text-xl font-bold text-[#1F1D2B]",children:z})]}),r.jsx("button",{onClick:B,className:"w-10 h-10 rounded-full bg-white shadow-sm border border-gray-100 flex items-center justify-center",children:r.jsx(Bn,{className:"w-5 h-5 text-gray-600"})})]}),r.jsxs("div",{className:"p-6 space-y-6 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("button",{onClick:()=>d("new"),className:`p-3 rounded-2xl border flex items-center gap-2 text-sm font-semibold ${c==="new"?"border-[#7C3AED] bg-[#F5F3FF] text-[#5B21B6]":"border-gray-200 text-gray-500"}`,children:[r.jsx(Pj,{className:"w-4 h-4"})," "]}),r.jsxs("button",{onClick:()=>d("existing"),className:`p-3 rounded-2xl border flex items-center gap-2 text-sm font-semibold ${c==="existing"?"border-[#7C3AED] bg-[#F5F3FF] text-[#5B21B6]":"border-gray-200 text-gray-500"}`,children:[r.jsx(T3,{className:"w-4 h-4"})," "]})]}),r.jsx("div",{className:"space-y-4",children:c==="new"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:" "}),r.jsx("input",{type:"text",value:h,onChange:K=>f(K.target.value),placeholder:": 2025-11-17  ",className:"w-full rounded-2xl border border-gray-200 px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-[#C4B5FD]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:" (  # )"}),r.jsx("input",{type:"text",value:p,onChange:K=>m(K.target.value),placeholder:"#, #",className:"w-full rounded-2xl border border-gray-200 px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-[#C4B5FD]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:""}),r.jsx("textarea",{value:y,onChange:K=>w(K.target.value),rows:3,placeholder:" ,    .",className:"w-full rounded-2xl border border-gray-200 px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-[#C4B5FD] resize-none"})]})]}):r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-500 mb-2 block",children:"  "}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:k,onChange:K=>N(K.target.value),className:"w-full appearance-none rounded-2xl border border-gray-200 px-4 py-2.5 pr-10 focus:outline-none focus:ring-2 focus:ring-[#C4B5FD]",children:[r.jsx("option",{value:"",children:" "}),b.map(K=>r.jsxs("option",{value:K.id,children:[K.title," (",K.total_words||0,")"]},K.id))]}),r.jsx(yr,{className:"w-4 h-4 text-gray-500 absolute right-4 top-1/2 -translate-y-1/2"})]}),E&&r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"  ..."}),!E&&b.length===0&&r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"   ."})]})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-400 mb-2",children:" "}),r.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:n.map(K=>r.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-gray-100 bg-gray-50 px-4 py-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-[#1F1D2B]",children:K.word}),r.jsx("p",{className:"text-xs text-gray-500",children:K.meaning}),K.source&&r.jsx("p",{className:"text-[10px] text-[#7C3AED] mt-0.5",children:K.source})]}),r.jsx("button",{onClick:()=>s(K.id),className:"text-xs text-gray-500 hover:text-[#DC2626]",children:""})]},K.id))})]})]}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 bg-white",children:[r.jsx("button",{onClick:o,className:"text-sm text-gray-500 hover:text-[#7C3AED]",disabled:A,children:"  "}),r.jsxs("button",{onClick:c==="new"?X:ae,disabled:A,className:"w-full sm:w-auto px-6 py-3 rounded-2xl bg-gradient-to-r from-[#5B21B6] to-[#7C3AED] text-white font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[A&&r.jsx(Tp,{className:"w-4 h-4 animate-spin"}),c==="new"?"  ":" "]})]})]})})})}const rb=os(),Fa=60;function hB({onBack:t}){const[e,n]=x.useState([]),[s,o]=x.useState(""),[l,c]=x.useState(""),[d,h]=x.useState(!1),[f,p]=x.useState(!1),[m,y]=x.useState(null),{selectedWords:w,count:b,toggleWord:j,addWords:k,removeWords:N,removeWord:E,clear:C,isSelected:A}=TN(),[O,L]=x.useState(!1),B=[{id:"word",label:"",sublabel:"Word",icon:Xr},{id:"translation",label:"",sublabel:"Translation",icon:Ij},{id:"explanation",label:"",sublabel:"Explanation",icon:Dj}],R=K=>{n(te=>te.includes(K)?te.filter(ee=>ee!==K):[...te,K])},z=K=>new Promise((te,ee)=>{const re=new FileReader;re.readAsDataURL(K),re.onload=()=>{const M=re.result.split(",")[1];te(M)},re.onerror=ee}),X=()=>{const K=document.createElement("input");K.type="file",K.accept="image/*",K.capture="environment",K.onchange=async te=>{const ee=te.target?.files?.[0];if(ee){p(!0);try{const{data:{session:re}}=await rb.auth.getSession(),J=re?.access_token;if(!J){be.error(" .");return}const M=await z(ee),T=await fetch(`https://${Ve}.supabase.co/functions/v1/text-analyzer/ocr`,{method:"POST",headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"},body:JSON.stringify({image:M})}),F=await T.json();if(!T.ok)throw new Error(F.error||"OCR  ");F.text?(o(F.text),be.success("  .")):be.error("    .")}catch(re){console.error("OCR error:",re),be.error(re.message||"OCR    .")}finally{p(!1)}}},K.click()},ae=async()=>{if(!s.trim()||e.length===0){be.error("  .");return}h(!0),y(null);try{const{data:{session:K}}=await rb.auth.getSession(),te=K?.access_token;if(!te){be.error(" .");return}be.loading("AI  ...",{id:"analysis-progress"});const ee=await fetch(`https://${Ve}.supabase.co/functions/v1/text-analyzer/analyze`,{method:"POST",headers:{Authorization:`Bearer ${te}`,"Content-Type":"application/json"},body:JSON.stringify({text:s,options:{vocabulary:e.includes("word"),analysis:e.includes("translation"),explanation:e.includes("explanation")},answerKey:l})}),re=await ee.json();if(!ee.ok)throw new Error(re.error||"  ");y(re),be.success(" !",{id:"analysis-progress"})}catch(K){console.error("Analysis error:",K),be.error(K.message||"   .",{id:"analysis-progress"})}finally{h(!1)}};return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsx(Sl,{onBack:t,title:"Passage Extractor",subtitle:" ,  ,   "}),r.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-4 pb-8",children:r.jsxs("div",{className:"pt-2",children:[r.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:B.map(K=>{const te=K.icon,ee=e.includes(K.id);return r.jsxs(P.button,{whileTap:{scale:.95},onClick:()=>R(K.id),className:"relative bg-white/90 border border-gray-200 p-3 shadow-sm transition-all rounded-2xl",children:[ee&&r.jsx("div",{className:"absolute top-1.5 right-1.5 w-4 h-4 bg-[#491B6D] rounded-full flex items-center justify-center",children:r.jsx(jl,{className:"w-2.5 h-2.5 text-white",strokeWidth:3})}),r.jsx("div",{className:"flex justify-center mb-2",children:r.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center ${ee?"bg-[#491B6D]":"bg-[#491B6D]/10"}`,children:r.jsx(te,{className:`w-5 h-5 ${ee?"text-white":"text-[#491B6D]"}`})})}),r.jsx("div",{className:"text-center",children:r.jsx("div",{className:"text-[#091A7A]",style:{fontSize:"13px",fontWeight:600},children:K.label})})]},K.id)})}),r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/95 backdrop-blur-xl border border-white/50 p-6 shadow-xl rounded-3xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-[#091A7A]",style:{fontSize:"16px",fontWeight:700},children:" "}),r.jsx(P.button,{whileTap:{scale:.95},onClick:X,disabled:f,className:"w-10 h-10 bg-[#491B6D]/10 flex items-center justify-center rounded-[12px]",children:f?r.jsx(Tp,{className:"w-5 h-5 text-[#491B6D] animate-spin"}):r.jsx(s3,{className:"w-5 h-5 text-[#491B6D]"})})]}),r.jsx("textarea",{value:s,onChange:K=>o(K.target.value),placeholder:"   ...",className:"w-full h-64 p-4 bg-[#F9FAFB] border border-gray-200 focus:border-[#491B6D] focus:outline-none resize-none text-[#374151] transition-colors rounded-md",style:{fontSize:"14px",fontWeight:400,lineHeight:"1.6"}}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-semibold text-[#091A7A] mb-2",children:" ()"}),r.jsx("input",{type:"text",value:l,onChange:K=>c(K.target.value),placeholder:":   resilient",className:"w-full p-3 bg-[#F9FAFB] border border-gray-200 focus:border-[#491B6D] focus:outline-none text-[#374151] transition-colors rounded-md",style:{fontSize:"14px"}})]})]}),r.jsx(P.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},whileTap:{scale:.98},onClick:ae,disabled:!s.trim()||e.length===0||d,className:`w-full p-5 shadow-lg transition-all mt-4 rounded-2xl ${s.trim()&&e.length>0&&!d?"bg-gradient-to-r from-[#491B6D] to-[#5E2278] opacity-100":"bg-gray-300 opacity-50"}`,children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d?r.jsx(Tp,{className:"w-5 h-5 text-white animate-spin"}):r.jsx(rn,{className:"w-5 h-5 text-white"}),r.jsx("span",{className:"text-white",style:{fontSize:"16px",fontWeight:600},children:d?"AI  ...":"  "})]})}),m&&r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-4",children:[m.vocabulary&&m.vocabulary.length>0&&r.jsx(iB,{vocabulary:m.vocabulary,onToggleWord:K=>{const te=A(K.id);if(!te&&b>=Fa){be.error(`  ${Fa}   .`);return}j(K),be[te?"info":"success"](te?" .":" .",{duration:1500})},onSelectAll:K=>{if(b>=Fa){be.error(`  ${Fa}   .`);return}const te=K.filter(J=>!A(J.id));if(te.length===0){be.info("   .");return}const ee=Fa-b,re=te.slice(0,ee);k(re),be.success(`${re.length}   .`)},onDeselectAll:K=>{N(K),be.info("   .")},isWordSelected:A}),m.analysis&&r.jsx(aB,{analysis:m.analysis}),m.explanation&&r.jsx(lB,{explanation:m.explanation})]})]})}),r.jsx(PN,{count:b,onReview:()=>L(!0),onClear:()=>{b>0&&(C(),be.info("  ."))}}),r.jsx(RN,{open:O,onClose:()=>L(!1),words:w,onRemoveWord:E,onClear:()=>{C(),be.info("   .")},onActionComplete:()=>L(!1)})]})}function fB({words:t,onWordCleared:e,onClose:n,onGameComplete:s}){const[o,l]=x.useState([]),[c,d]=x.useState([]),[h,f]=x.useState(0),[p,m]=x.useState(0),[y,w]=x.useState(t),[b,j]=x.useState([]),[k,N]=x.useState(new Set),[E,C]=x.useState(!1),[A,O]=x.useState(!1),L=8,B=8,R=x.useCallback(M=>{const T=M.slice(0,L);j(T);const F=[];T.forEach(D=>{F.push({id:`${D.id}-word`,wordId:D.id,content:D.word,type:"word",isFlipped:!1,isMatched:!1}),F.push({id:`${D.id}-meaning`,wordId:D.id,content:D.meaning,type:"meaning",isFlipped:!1,isMatched:!1})});const q=F.sort(()=>Math.random()-.5);l(q),f(0),d([])},[]);x.useEffect(()=>{t.length>0&&(w(t),R(t))},[t,R]);const z=M=>{if(A)return;const T=o.find(F=>F.id===M);if(!(!T||T.isFlipped||T.isMatched)&&!(c.length>=2)&&(l(F=>F.map(q=>q.id===M?{...q,isFlipped:!0}:q)),d(F=>[...F,M]),c.length===1)){O(!0),m(D=>D+1);const F=c[0],q=o.find(D=>D.id===F);q&&q.wordId===T.wordId&&q.type!==T.type?setTimeout(()=>{l(V=>V.map(W=>W.wordId===T.wordId?{...W,isMatched:!0}:W)),N(V=>{const W=new Set(V);return W.add(T.wordId),W}),e(T.wordId),f(V=>V+1),d([]),O(!1);const D=o.filter(V=>!V.isMatched&&V.wordId!==T.wordId);if(D.length<=B){const V=y.filter(W=>!k.has(W.id)&&W.id!==T.wordId);V.length>0?setTimeout(()=>{X(V,D)},500):D.length===0&&(C(!0),s&&s())}},600):setTimeout(()=>{l(D=>D.map(V=>V.id===F||V.id===M?{...V,isFlipped:!1}:V)),d([]),O(!1)},1e3)}},X=(M,T)=>{const F=Math.ceil((16-T.length)/2),q=M.slice(0,F);if(q.length===0)return;const D=[];q.forEach(W=>{D.push({id:`${W.id}-word-${Date.now()}`,wordId:W.id,content:W.word,type:"word",isFlipped:!1,isMatched:!1}),D.push({id:`${W.id}-meaning-${Date.now()}`,wordId:W.id,content:W.meaning,type:"meaning",isFlipped:!1,isMatched:!1})});const V=D.sort(()=>Math.random()-.5);l(W=>[...W.filter(I=>!I.isMatched),...V]),j(W=>[...W.filter(se=>!k.has(se.id)),...q])},ae=()=>{N(new Set),w(t),m(0),C(!1),R(t)},K=o.filter(M=>!M.isMatched).length,te=o.filter(M=>!M.isMatched&&M.type==="meaning"),ee=o.filter(M=>!M.isMatched&&M.type==="word"),re=k.size,J=t.length;return r.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-gradient-to-br from-red-50 to-red-100 flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/80 backdrop-blur-sm border-b border-red-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-red-900",children:" "}),r.jsx("p",{className:"text-xs text-red-600",children:"  !"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(P.button,{whileTap:{scale:.95},onClick:ae,className:"p-2 bg-red-100 rounded-lg",children:r.jsx(eg,{className:"w-5 h-5 text-red-600"})}),r.jsx(P.button,{whileTap:{scale:.95},onClick:n,className:"p-2 bg-red-100 rounded-lg",children:r.jsx(Bn,{className:"w-5 h-5 text-red-600"})})]})]}),r.jsxs("div",{className:"flex justify-center gap-6 p-3 bg-white/60",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs text-red-500 font-medium",children:" "}),r.jsxs("p",{className:"text-lg font-bold text-red-700",children:[re,"/",J]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs text-red-500 font-medium",children:" "}),r.jsx("p",{className:"text-lg font-bold text-red-700",children:p})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs text-red-500 font-medium",children:" "}),r.jsx("p",{className:"text-lg font-bold text-red-700",children:K})]})]}),r.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-4 p-4",children:[r.jsx("div",{className:"flex-1 space-y-3",children:r.jsx(Ze,{mode:"popLayout",children:te.map(M=>r.jsx(P.div,{layout:!0,initial:{scale:0,rotateY:180},animate:{scale:1,rotateY:0},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:25},onClick:()=>z(M.id),className:"cursor-pointer",style:{perspective:"1000px"},children:r.jsxs(P.div,{animate:{rotateY:M.isFlipped?180:0},transition:{duration:.4},className:"relative w-full min-h-[90px]",style:{transformStyle:"preserve-3d"},children:[r.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-rose-400 to-red-500 flex items-center justify-center",style:{backfaceVisibility:"hidden",boxShadow:"0 4px 12px rgba(244, 63, 94, 0.3), 0 2px 4px rgba(0, 0, 0, 0.1)"},children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("div",{className:"absolute inset-0 rounded-2xl flex items-center justify-center p-3 bg-gradient-to-br from-rose-50 to-red-50 border border-rose-100",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.04)"},children:r.jsx("p",{className:"text-center font-semibold text-red-700",style:{fontSize:M.content.length>12?"12px":"14px",wordBreak:"break-word",lineHeight:1.3},children:M.content})})]})},M.id))})}),r.jsx("div",{className:"flex-1 space-y-3",children:r.jsx(Ze,{mode:"popLayout",children:ee.map(M=>r.jsx(P.div,{layout:!0,initial:{scale:0,rotateY:180},animate:{scale:1,rotateY:0},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:25},onClick:()=>z(M.id),className:"cursor-pointer",style:{perspective:"1000px"},children:r.jsxs(P.div,{animate:{rotateY:M.isFlipped?180:0},transition:{duration:.4},className:"relative w-full min-h-[90px]",style:{transformStyle:"preserve-3d"},children:[r.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-rose-400 to-red-500 flex items-center justify-center",style:{backfaceVisibility:"hidden",boxShadow:"0 4px 12px rgba(244, 63, 94, 0.3), 0 2px 4px rgba(0, 0, 0, 0.1)"},children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("div",{className:"absolute inset-0 rounded-2xl flex items-center justify-center p-3 bg-gradient-to-br from-white to-rose-50 border border-rose-100",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.04)"},children:r.jsx("p",{className:"text-center font-semibold text-rose-700",style:{fontSize:M.content.length>12?"12px":"14px",wordBreak:"break-word",lineHeight:1.3},children:M.content})})]})},M.id))})})]}),r.jsx(Ze,{children:E&&r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 flex items-center justify-center z-60",children:r.jsxs(P.div,{initial:{scale:.5,y:50},animate:{scale:1,y:0},exit:{scale:.5,y:50},className:"bg-white rounded-2xl p-8 mx-4 text-center shadow-2xl",children:[r.jsx(Pr,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"! "}),r.jsx("p",{className:"text-gray-600 mb-1",children:"  !"}),r.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:[J,"  / ",p," "]}),r.jsxs("div",{className:"flex gap-3 justify-center",children:[r.jsx(P.button,{whileTap:{scale:.95},onClick:ae,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-semibold",children:" "}),r.jsx(P.button,{whileTap:{scale:.95},onClick:n,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold",children:""})]})]})})})]})}const pi={maxLives:3,zombieCount:4,zombieSpeed:.3,totalQuestions:10},po={MIN_Y:10,MAX_Y:70,MIN_X:10,MAX_X:90},sb={CORRECT_ANSWER:100,WRONG_ANSWER:-50},vd={BACKGROUND:"#0a1628",HEART_FULL:"#ef4444",HEART_EMPTY:"#4b5563"};function pB(t){const[e,n]=x.useState({currentWord:null,zombies:[],score:0,lives:pi.maxLives,isGameOver:!1,isPaused:!1,questionNumber:0,totalQuestions:pi.totalQuestions}),s=x.useRef(new Set),o=x.useRef(),l=x.useRef(()=>{}),c=()=>({x:po.MIN_X+Math.random()*(po.MAX_X-po.MIN_X),y:po.MIN_Y+Math.random()*(po.MAX_Y-po.MIN_Y)}),d=x.useCallback(()=>{t.length!==0&&n(m=>{const y=t.filter(N=>!s.current.has(N.id));if(y.length===0||m.questionNumber>=m.totalQuestions)return{...m,isGameOver:!0};const w=y[Math.floor(Math.random()*y.length)];s.current.add(w.id);const b=t.filter(N=>N.id!==w.id).sort(()=>Math.random()-.5).slice(0,pi.zombieCount-1),k=[w,...b].sort(()=>Math.random()-.5).map((N,E)=>{const C=c();return{id:`zombie-${Date.now()}-${E}`,wordId:N.id,meaning:N.meaning,x:C.x,y:C.y,speed:pi.zombieSpeed+Math.random()*.2,direction:Math.random()>.5?"down":"up",isCorrect:N.id===w.id}});return{...m,currentWord:w,zombies:k,questionNumber:m.questionNumber+1}})},[t]);x.useEffect(()=>{l.current=d},[d]);const h=x.useCallback(m=>{n(y=>{const w=y.zombies.find(b=>b.id===m);if(!w)return y;if(w.isCorrect)return setTimeout(()=>l.current(),500),{...y,score:y.score+sb.CORRECT_ANSWER};{const b=y.lives-1;return{...y,lives:b,score:Math.max(0,y.score+sb.WRONG_ANSWER),isGameOver:b<=0}}})},[]);x.useEffect(()=>()=>{o.current&&cancelAnimationFrame(o.current)},[e.isPaused,e.isGameOver]);const f=x.useCallback(()=>{s.current.clear(),n({currentWord:null,zombies:[],score:0,lives:pi.maxLives,isGameOver:!1,isPaused:!1,questionNumber:0,totalQuestions:Math.min(pi.totalQuestions,t.length)}),setTimeout(()=>{l.current()},100)},[t.length]),p=x.useCallback(()=>{n(m=>({...m,isPaused:!m.isPaused}))},[]);return{gameState:e,startGame:f,handleZombieClick:h,togglePause:p,generateNextQuestion:d}}const mB="/assets/KakaoTalk_Photo_2025-11-17-19-39-42-BXhh9LMP.png",gB="/assets/KakaoTalk_Photo_2025-11-17-19-39-46-CQctTSuR.png",xB="/assets/KakaoTalk_Photo_2025-11-17-19-39-49-BTLZm4LH.png",yB="/assets/KakaoTalk_Photo_2025-11-17-19-39-52-BzIwN0jb.png",ib=[mB,gB,xB,yB];function vB({zombie:t,onClick:e}){const n=Math.abs(t.id.split("").reduce((m,y)=>m+y.charCodeAt(0),0))%ib.length,s=ib[n],o=t.id.split("").reduce((m,y)=>m+y.charCodeAt(0),0),l=3+o%3,c=10+o%8,d=50+o%50,h=50+o%60,p=o*31%4;return r.jsxs(P.div,{"data-zombie-id":t.id,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{scale:{duration:.3}},onClick:()=>e(t.id),className:"absolute cursor-pointer select-none z-30",style:{left:`${t.x}%`,top:`${t.y}%`,transform:"translate(-50%, -50%)"},whileTap:{scale:.9},children:[r.jsxs("div",{className:"relative flex flex-col items-center",style:{animation:`ghostFloat-${t.id} ${l}s ease-in-out infinite, ghostDrift-${t.id} ${c}s ease-in-out infinite`,animationDelay:`${o%10*.1}s`},children:[r.jsx("div",{className:"relative",children:r.jsx("img",{src:s,alt:"ghost",className:"w-20 h-20 object-contain",style:{filter:"drop-shadow(0 0 10px rgba(100, 100, 100, 0.5))",animation:`ghostWobble-${t.id} ${2+o%2}s ease-in-out infinite`}})}),r.jsx("div",{className:"mt-1 px-3 py-1.5 bg-white/95 rounded-lg shadow-lg border border-gray-200",style:{maxWidth:"120px"},children:r.jsx("span",{className:"text-gray-800 font-semibold leading-tight block text-center",style:{fontSize:t.meaning.length>10?"10px":t.meaning.length>6?"11px":"12px"},children:t.meaning})})]}),r.jsx("style",{children:`
        @keyframes ghostFloat-${t.id} {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-15px); }
        }
        @keyframes ghostDrift-${t.id} {
          ${p===0?`
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(${d}px, -${h}px); }
            50% { transform: translate(-${d*.5}px, ${h}px); }
            75% { transform: translate(${d*.7}px, ${h*.5}px); }
          `:p===1?`
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(-${d}px, ${h}px); }
            50% { transform: translate(${d*.8}px, -${h*.6}px); }
            75% { transform: translate(-${d*.3}px, -${h*.8}px); }
          `:p===2?`
            0%, 100% { transform: translate(0, 0); }
            33% { transform: translate(${d*.9}px, ${h*.7}px); }
            66% { transform: translate(-${d*.6}px, -${h}px); }
          `:`
            0%, 100% { transform: translate(0, 0); }
            20% { transform: translate(-${d*.8}px, -${h*.5}px); }
            40% { transform: translate(${d*.4}px, ${h}px); }
            60% { transform: translate(${d}px, -${h*.3}px); }
            80% { transform: translate(-${d*.5}px, ${h*.6}px); }
          `}
        }
        @keyframes ghostWobble-${t.id} {
          0%, 100% { transform: rotate(-3deg); }
          50% { transform: rotate(3deg); }
        }
      `})]})}function wB({word:t}){return r.jsx(P.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:"text-center",children:r.jsx("div",{className:"inline-block px-8 py-4 rounded-lg",style:{background:"linear-gradient(135deg, #1e3a5f 0%, #0f172a 100%)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.5), 0 0 40px rgba(59, 130, 246, 0.2)",border:"2px solid rgba(59, 130, 246, 0.3)"},children:r.jsx("h1",{className:"text-white font-black tracking-wider",style:{fontSize:"36px",textShadow:"0 0 20px rgba(59, 130, 246, 0.5), 0 4px 8px rgba(0, 0, 0, 0.8)",fontFamily:"system-ui, -apple-system, sans-serif"},children:t})})})}function bB({lives:t,maxLives:e}){return r.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:e}).map((n,s)=>r.jsx(P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:s*.1},children:r.jsx(Ap,{className:"w-8 h-8",fill:s<t?vd.HEART_FULL:"transparent",color:s<t?vd.HEART_FULL:vd.HEART_EMPTY,strokeWidth:2})},s))})}function jB({score:t,questionNumber:e,totalQuestions:n}){return r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-white",children:[r.jsx("span",{className:"text-sm opacity-70",children:"SCORE"}),r.jsx("div",{className:"text-2xl font-bold",children:t})]}),r.jsxs("div",{className:"text-white",children:[r.jsx("span",{className:"text-sm opacity-70",children:"QUESTION"}),r.jsxs("div",{className:"text-2xl font-bold",children:[e,"/",n]})]})]})}function SB(){return r.jsx(P.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:"relative",children:r.jsxs("div",{className:"w-20 h-32 relative",style:{background:"linear-gradient(180deg, #374151 0%, #1f2937 100%)",borderRadius:"8px 8px 4px 4px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.5)"},children:[r.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 w-4 h-8",style:{background:"linear-gradient(180deg, #4b5563 0%, #374151 100%)",borderRadius:"4px 4px 0 0"}}),r.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-12 h-16",style:{background:"linear-gradient(180deg, #1f2937 0%, #111827 100%)",borderRadius:"0 0 8px 8px"}})]})})}function DN({vocabularyWords:t,onBack:e,onBackToHome:n}){const{gameState:s,startGame:o,handleZombieClick:l,togglePause:c}=pB(t),[d,h]=x.useState([]),[f,p]=x.useState([]),m=x.useRef(null),y=x.useRef(null),w=x.useCallback((b,j)=>{const k=m.current?.getBoundingClientRect(),N=s.zombies.find(E=>E.id===b);if(k&&y.current&&N){const E=y.current.getBoundingClientRect(),C=`bullet-${Date.now()}`,A=`explosion-${Date.now()}`,O=E.left+E.width/2-k.left,L=E.top-k.top,B=j.clientX-k.left,R=j.clientY-k.top;h(z=>[...z,{id:C,startX:O,startY:L,endX:B,endY:R}]),setTimeout(()=>{p(z=>[...z,{id:A,x:B,y:R,isCorrect:N.isCorrect}]),setTimeout(()=>{p(z=>z.filter(X=>X.id!==A))},600)},250),setTimeout(()=>{h(z=>z.filter(X=>X.id!==C))},300)}l(b)},[l,s.zombies]);return x.useEffect(()=>{t.length>0&&o()},[]),x.useEffect(()=>{const b=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",()=>{document.body.style.overflow=b,document.documentElement.style.overflow=""}},[]),r.jsxs("div",{className:"h-screen w-full flex flex-col relative overflow-hidden",style:{background:vd.BACKGROUND},children:[r.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none z-0",style:{background:"radial-gradient(ellipse at center, rgba(59, 130, 246, 0.1) 0%, transparent 70%)"}}),r.jsxs("div",{className:"relative z-20 flex items-center justify-between p-4",children:[r.jsx("button",{onClick:e,className:"w-10 h-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-sm",children:r.jsx(Ir,{className:"w-5 h-5 text-white"})}),r.jsx(jB,{score:s.score,questionNumber:s.questionNumber,totalQuestions:s.totalQuestions}),r.jsx("button",{onClick:c,className:"w-10 h-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-sm",children:s.isPaused?r.jsx(Ci,{className:"w-5 h-5 text-white"}):r.jsx(_d,{className:"w-5 h-5 text-white"})})]}),r.jsx("div",{className:"relative z-20 flex justify-center py-2",children:r.jsx(bB,{lives:s.lives,maxLives:pi.maxLives})}),r.jsx("div",{className:"relative z-20 flex justify-center py-4",children:s.currentWord&&r.jsx(wB,{word:s.currentWord.word})}),r.jsxs("div",{ref:m,className:"flex-1 relative z-30 overflow-hidden",children:[r.jsx(Ze,{children:s.zombies.map(b=>r.jsx(vB,{zombie:b,onClick:j=>{const k=document.querySelector(`[data-zombie-id="${j}"]`);if(k){const N=k.getBoundingClientRect(),E={clientX:N.left+N.width/2,clientY:N.top+N.height/2};w(j,E)}else l(j)}},b.id))}),r.jsx(Ze,{children:d.map(b=>r.jsx(P.div,{initial:{x:b.startX,y:b.startY,scale:1,opacity:1},animate:{x:b.endX,y:b.endY,scale:.5,opacity:.8},exit:{opacity:0},transition:{duration:.25,ease:"linear"},className:"absolute pointer-events-none z-50",style:{width:"12px",height:"12px",borderRadius:"50%",background:"radial-gradient(circle, #ff4444 0%, #cc0000 70%, #990000 100%)",boxShadow:"0 0 20px #ff4444, 0 0 40px #ff0000"}},b.id))}),r.jsx(Ze,{children:f.map(b=>r.jsxs(P.div,{initial:{scale:0,opacity:1},animate:{scale:3,opacity:0},exit:{opacity:0},transition:{duration:.6,ease:"easeOut"},className:"absolute pointer-events-none z-50",style:{left:b.x,top:b.y,transform:"translate(-50%, -50%)"},children:[r.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"radial-gradient(circle, rgba(255, 68, 68, 0.9) 0%, rgba(204, 0, 0, 0.5) 40%, transparent 70%)",boxShadow:"0 0 40px rgba(255, 68, 68, 0.8), 0 0 80px rgba(255, 0, 0, 0.4)"}}),[...Array(8)].map((j,k)=>r.jsx(P.div,{initial:{x:0,y:0,opacity:1},animate:{x:Math.cos(k*Math.PI*2/8)*50,y:Math.sin(k*Math.PI*2/8)*50,opacity:0},transition:{duration:.5,ease:"easeOut"},className:"absolute",style:{left:"50%",top:"50%",width:"8px",height:"8px",borderRadius:"50%",background:"#ff4444",boxShadow:"0 0 10px #ff0000",transform:"translate(-50%, -50%)"}},k))]},b.id))})]}),r.jsx("div",{ref:y,className:"relative z-20 flex justify-center pb-8",children:r.jsx(SB,{})}),r.jsx(Ze,{children:s.isPaused&&!s.isGameOver&&r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/70",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-4xl font-bold text-white mb-8",children:"PAUSED"}),r.jsx("button",{onClick:c,className:"px-8 py-4 bg-blue-600 text-white rounded-xl text-xl font-bold",children:"RESUME"})]})})}),r.jsx(Ze,{children:s.isGameOver&&r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:s.lives>0?"COMPLETE!":"GAME OVER"}),r.jsxs("p",{className:"text-2xl text-white mb-2",children:["Score: ",s.score]}),r.jsxs("p",{className:"text-lg text-gray-400 mb-8",children:[s.questionNumber,"/",s.totalQuestions," Questions"]}),r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsxs("button",{onClick:o,className:"px-6 py-3 bg-green-600 text-white rounded-xl text-lg font-bold flex items-center gap-2",children:[r.jsx(eg,{className:"w-5 h-5"}),"RETRY"]}),r.jsx("button",{onClick:n||e,className:"px-6 py-3 bg-gray-600 text-white rounded-xl text-lg font-bold",children:"EXIT"})]})]})})})]})}const NB={DEV:!1},ob=typeof import.meta<"u"?NB:void 0,kB=!!ob?.DEV&&ob?.VITE_DEBUG_WORD_LIST==="true",id=(...t)=>{kB&&console.log("[WordListScreen]",...t)},ab=60,CB={derivative:"",synonym:"",antonym:""};function EB({onBack:t,onBackToHome:e,vocabularyTitle:n,unitName:s,vocabularyWords:o,onAddToStarred:l,onMoveToGraveyard:c,onDeletePermanently:d,onStartFlashcards:h,filterType:f,starredWordIds:p=[],graveyardWordIds:m=[],wrongAnswersWordIds:y=[],hideHeader:w=!1,hideActionButtons:b=!1}){const[j,k]=x.useState(!1),[N,E]=x.useState(!1),{selectedWords:C,count:A,toggleWord:O,clear:L,isSelected:B,removeWord:R}=TN(),[z,X]=x.useState(!1);id(" Received props:",{vocabularyWords:o?.length||0,hideActionButtons:b,hideHeader:w,filterType:f}),x.useEffect(()=>{const Y=window.getComputedStyle(document.body).overflow,ce=window.getComputedStyle(document.body).overflowY;return document.body.style.overflow="hidden",document.body.style.overflowY="hidden",document.documentElement.style.overflow="hidden",document.documentElement.style.overflowY="hidden",()=>{document.body.style.overflow=Y,document.body.style.overflowY=ce,document.documentElement.style.overflow="",document.documentElement.style.overflowY=""}},[]);const ae=x.useCallback(Y=>(id(" Converting words:",Y.length),Y.map((ce,ke)=>({id:ce.id||`word-${ke}`,word:ce.word||"",pronunciation:ce.pronunciation||"",partOfSpeech:ce.partOfSpeech||"",meaning:ce.meaning||"",example:ce.example_sentence||ce.englishExample||ce.example||"",translation:ce.translation||"",story:ce.etymology||ce.story||"",derivatives:Array.isArray(ce.derivatives)?ce.derivatives.map(De=>({word:De.word||De,meaning:De.meaning||""})):typeof ce.derivatives=="string"&&ce.derivatives?ce.derivatives.split(",").map(De=>{const Ue=De.trim(),at=Ue.match(/^(.+?)\s*\((.+?)\)\s*$/);return at?{word:at[1].trim(),meaning:at[2].trim()}:{word:Ue,meaning:""}}):[],synonyms:Array.isArray(ce.synonyms)?ce.synonyms.map(De=>({word:De.word||De,meaning:De.meaning||""})):typeof ce.synonyms=="string"&&ce.synonyms?ce.synonyms.split(",").map(De=>({word:De.trim(),meaning:""})):[],antonyms:Array.isArray(ce.antonyms)?ce.antonyms.map(De=>({word:De.word||De,meaning:De.meaning||""})):typeof ce.antonyms=="string"&&ce.antonyms?ce.antonyms.split(",").map(De=>({word:De.trim(),meaning:""})):[],isStarred:!1,isMeaningRevealed:!0,isExpanded:!1,exampleLanguage:"en",swipeX:0,originalIndex:ke+1,graveyardAt:ce.updated_at||ce.updatedAt||void 0}))),[]),K=x.useMemo(()=>o&&o.length>0?ae(o):[],[o,ae]),te=x.useCallback(()=>{let Y=K;return f==="starred"?K.length===0&&p.length>0?Y=[]:Y=K:f==="graveyard"?K.length===0&&m.length>0?Y=[]:Y=K:f==="wrong-answers"?K.length===0&&y.length>0?Y=[]:Y=K:Y=K.filter(ce=>!m.includes(ce.id)),Y.map((ce,ke)=>({...ce,isStarred:p.includes(ce.id),isMeaningRevealed:!1,originalIndex:f==="starred"||f==="graveyard"?ke+1:ce.originalIndex}))},[K,f,m,p,y]),[ee,re]=x.useState(()=>te()),[J,M]=x.useState(!0),[T,F]=x.useState("en"),[q,D]=x.useState(!1),[V,W]=x.useState(null);x.useEffect(()=>{id(" vocabularyWords changed, updating words...");const Y=te();id(" New words count:",Y.length),re(ce=>Y.map(ke=>{const De=ce.find(Ue=>Ue.id===ke.id);return De?{...ke,isMeaningRevealed:De.isMeaningRevealed,isExpanded:De.isExpanded,exampleLanguage:De.exampleLanguage,swipeX:0}:ke}))},[te]);const se=ee.length;ee.filter(Y=>Y.isStarred).length;const I=(Y,ce)=>{if(!Y||!ce)return Y;const ke=new RegExp(`\\b(${ce})\\b`,"gi");return Y.split(ke).map((Ue,at)=>Ue.toLowerCase()===ce.toLowerCase()?r.jsx("span",{style:{color:"#491B6D",fontWeight:700},children:Ue},at):Ue)},U=Y=>{re(ee.map(ce=>{if(ce.id===Y){const ke=!ce.isStarred;return l&&l(Y),{...ce,isStarred:ke}}return ce}))},H=Y=>{U(Y)},Z=Y=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();for(let ke=0;ke<2;ke++){const De=new SpeechSynthesisUtterance(Y);De.lang="en-US",De.rate=.8,window.speechSynthesis.speak(De)}const ce=ee.find(ke=>ke.word===Y);if(ce){const ke=new SpeechSynthesisUtterance(ce.meaning);ke.lang="ko-KR",ke.rate=.9,window.speechSynthesis.speak(ke)}}},he=Y=>{c&&c(Y),re(ee.filter(ce=>ce.id!==Y))},ue=Y=>{d&&d(Y),re(ee.filter(ce=>ce.id!==Y))},ve=Y=>{re(ee.map(ce=>ce.id===Y?{...ce,isExpanded:!ce.isExpanded}:ce))},Ne=Y=>{re(ee.map(ce=>ce.id===Y?{...ce,isMeaningRevealed:!ce.isMeaningRevealed}:ce))},Ge=()=>{const Y=!J;M(Y),re(ee.map(ce=>({...ce,isMeaningRevealed:!Y})))},tt=Y=>{if(W(Y),Y===null)re(te());else{const ce=new Date,ke=new Date(ce);ke.setDate(ke.getDate()-Y),ke.setHours(0,0,0,0);const De=new Date(ke);De.setDate(De.getDate()+1);const Ue=te().filter(at=>{const ht=at.graveyardAt||at.graveyard_at||at.updated_at||at.created_at;if(!ht)return!1;const sn=new Date(ht);return sn>=ke&&sn<De});re(Ue)}},qe=()=>{re(ee.map(Y=>({...Y,isExpanded:!0})))},Ut=()=>{re(ee.map(Y=>({...Y,isExpanded:!1})))},Et=Y=>{re(ee.map(ce=>ce.id===Y?{...ce,exampleLanguage:ce.exampleLanguage==="en"?"kr":"en"}:ce))},ut=()=>{const Y=T==="en"?"kr":"en";F(Y),re(ee.map(ce=>({...ce,exampleLanguage:Y})))},xt=(Y,ce,ke,De)=>({id:`${Y.id}-${ce}-${De}`,word:String(ke.word||"").trim(),meaning:ke.meaning||"",source:`${CB[ce]}  ${Y.word}`,metadata:{relationType:ce,baseWordId:Y.id,baseWord:Y.word,baseMeaning:Y.meaning,translation:Y.translation,partOfSpeech:Y.partOfSpeech}}),Ie=Y=>{if(!Y.word){be.error("   .");return}const ce=B(Y.id);if(!ce&&A>=ab){be.error(`  ${ab}   .`);return}O(Y),be[ce?"info":"success"](ce?" .":" .",{duration:1500})},Ft=(Y,ce,ke,De)=>{const Ue=xt(Y,ce,ke,De),at=B(Ue.id);return r.jsxs("button",{onClick:ht=>{ht.stopPropagation(),Ie(Ue)},className:`flex-1 min-w-[140px] rounded-2xl border px-3 py-2 flex items-center justify-between gap-3 transition-all ${at?"bg-[#F3E8FF] border-[#C4B5FD] text-[#5B21B6] shadow-sm":"bg-white border-gray-200 text-gray-600 hover:border-[#D8B4FE]"}`,children:[r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-xs font-semibold",children:ke.word}),ke.meaning&&r.jsx("p",{className:"text-[10px] text-gray-500",children:ke.meaning})]}),r.jsx("div",{className:`w-6 h-6 rounded-full border flex items-center justify-center ${at?"bg-[#7C3AED] border-[#7C3AED] text-white":"border-gray-300 text-gray-400"}`,children:at?r.jsx(jl,{className:"w-3 h-3"}):r.jsx(Fo,{className:"w-3 h-3"})})]},`${Ue.id}`)},Qe=(()=>{switch(f){case"starred":return{bgGradient:"from-[#FFFEF5] via-[#FFFEF8] to-[#FFFFF9]",headerBg:"from-[#FFFBEB]/80 to-[#FEF3C7]/70",cardBg:"linear-gradient(135deg, rgba(255, 251, 235, 0.7) 0%, rgba(254, 249, 230, 0.65) 100%)",cardBorder:"border-amber-100/30",numberBadgeBg:"from-[#FCD34D] to-[#F59E0B]",accentColor:"#F59E0B",textColor:"#78350F",buttonBg:"#F59E0B",buttonText:"text-white",headerTextColor:"#78350F",secondaryTextColor:"#D97706",cardTextColor:"#78350F",iconColor:"#F59E0B",badgeColor:"#F59E0B",name:" Starred Words"};case"graveyard":return{bgGradient:"from-[#FCFCFC] via-[#FAFAFA] to-[#F9F9F9]",headerBg:"from-[#F9FAFB]/80 to-[#F3F4F6]/70",cardBg:"linear-gradient(135deg, rgba(249, 250, 251, 0.7) 0%, rgba(243, 244, 246, 0.65) 100%)",cardBorder:"border-gray-200/30",numberBadgeBg:"from-[#6B7280] to-[#4B5563]",accentColor:"#6B7280",textColor:"#374151",buttonBg:"#6B7280",buttonText:"text-white",headerTextColor:"#374151",secondaryTextColor:"#6B7280",cardTextColor:"#374151",iconColor:"#6B7280",badgeColor:"#6B7280",name:" Graveyard"};case"wrong-answers":return{bgGradient:"from-[#FFFAFA] via-[#FFFCFC] to-[#FFF9F9]",headerBg:"from-[#FEF2F2]/80 to-[#FEE2E2]/70",cardBg:"linear-gradient(135deg, rgba(254, 242, 242, 0.7) 0%, rgba(254, 226, 226, 0.65) 100%)",cardBorder:"border-red-100/30",numberBadgeBg:"from-[#EF4444] to-[#DC2626]",accentColor:"#DC2626",textColor:"#7F1D1D",buttonBg:"#DC2626",buttonText:"text-white",headerTextColor:"#7F1D1D",secondaryTextColor:"#DC2626",cardTextColor:"#7F1D1D",iconColor:"#DC2626",badgeColor:"#DC2626",name:" Wrong Answers"};default:return{bgGradient:"from-[#F5F3FF] via-[#EDE9FE] to-[#E9E5FF]",headerBg:"from-[#F5F3FF]/80 to-[#EDE9FE]/70",cardBg:"rgba(255, 255, 255, 0.7)",cardBorder:"border-purple-100/30",numberBadgeBg:"from-[#C4B5FD] to-[#A78BFA]",accentColor:"#8B5CF6",textColor:"#491B6D",buttonBg:"#491B6D",buttonText:"text-white",name:n}}})();return r.jsxs("div",{className:"h-screen flex flex-col bg-transparent",children:[!w&&r.jsxs("div",{className:"sticky top-0 z-40 backdrop-blur-lg border-b border-white/20",style:{background:"transparent"},children:[r.jsxs("div",{className:"flex items-center justify-between p-6",children:[r.jsx(jr,{onClick:t}),r.jsxs("div",{className:"flex-1 mx-4 text-center",children:[r.jsx("h1",{style:{fontSize:"18px",fontWeight:700,color:Qe.headerTextColor||"#5B21B6"},children:Qe.name}),r.jsxs("p",{style:{fontSize:"12px",fontWeight:500,color:Qe.secondaryTextColor||"#A78BFA"},children:[s,"  ",se," "]})]}),e&&r.jsx(P.button,{whileTap:{scale:.95},onClick:e,className:"w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-md",children:r.jsx(Di,{className:"w-5 h-5",style:{color:Qe.headerTextColor||"#5B21B6"}})}),!e&&r.jsx("div",{className:"w-10"})]}),r.jsxs("div",{className:"px-4 pb-3 bg-transparent",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 overflow-x-auto scrollbar-hide m-[0px] p-[3px]",children:[r.jsxs(P.button,{whileTap:{scale:.95},onClick:Ge,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[J?r.jsx(_o,{className:"w-3.5 h-3.5",style:{color:Qe.iconColor||"#8B5CF6"}}):r.jsx(il,{className:"w-3.5 h-3.5",style:{color:Qe.iconColor||"#8B5CF6"}}),r.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:Qe.cardTextColor||"#091A7A"},children:J?" ":" "})]}),f!=="graveyard"&&f!=="wrong-answers"&&r.jsxs(r.Fragment,{children:[r.jsxs(P.button,{whileTap:{scale:.95},onClick:ee.every(Y=>Y.isExpanded)?Ut:qe,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[r.jsx(yr,{className:`w-3.5 h-3.5 transition-transform ${ee.every(Y=>Y.isExpanded)?"rotate-180":""}`,style:{color:Qe.iconColor||"#8B5CF6"}}),r.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:Qe.cardTextColor||"#091A7A"},children:ee.every(Y=>Y.isExpanded)?" ":" "})]}),r.jsxs(P.button,{whileTap:{scale:.95},onClick:ut,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1 whitespace-nowrap",children:[r.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:T==="en"?"#491B6D":"#9CA3AF"},children:"EN"}),r.jsx("span",{style:{fontSize:"11px",fontWeight:600,color:"#9CA3AF"},children:"|"}),r.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:T==="kr"?"#491B6D":"#9CA3AF"},children:"KR"})]})]}),f==="graveyard"&&ee.length>0&&r.jsxs(P.button,{whileTap:{scale:.95},onClick:()=>E(!0),className:"px-3 py-2 bg-gradient-to-r from-gray-700 to-gray-800 backdrop-blur-lg rounded-xl border border-gray-600 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[r.jsx("span",{style:{fontSize:"14px"},children:""}),r.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#E5E7EB"},children:" "})]}),f==="wrong-answers"&&ee.length>0&&r.jsxs(P.button,{whileTap:{scale:.95},onClick:()=>k(!0),className:"px-3 py-2 bg-gradient-to-r from-red-600 to-red-700 backdrop-blur-lg rounded-xl border border-red-500 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[r.jsx("span",{style:{fontSize:"14px"},children:""}),r.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#FEE2E2"},children:" "})]}),f==="graveyard"&&r.jsxs(P.button,{whileTap:{scale:.95},onClick:()=>D(!q),className:`px-3 py-2 backdrop-blur-lg rounded-xl border shadow-sm flex items-center gap-1.5 whitespace-nowrap ${q?"bg-gray-700/90 border-gray-600":"bg-white/90 border-white/40"}`,children:[r.jsx("span",{style:{fontSize:"12px"},children:""}),r.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:q?"#E5E7EB":Qe.cardTextColor||"#091A7A"},children:" "})]})]}),f==="graveyard"&&q&&r.jsxs(P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"flex items-center justify-center gap-1 mt-2 flex-wrap",children:[r.jsx("button",{onClick:()=>tt(null),className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors ${V===null?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:""}),[1,2,3,7,14,30].map(Y=>r.jsxs("button",{onClick:()=>tt(Y),className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors ${V===Y?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:[Y,""]},Y))]})]})]}),w&&r.jsxs("div",{className:"sticky top-0 z-40 border-b border-white/20 bg-transparent px-[10px] py-[6px]",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 overflow-x-auto scrollbar-hide m-[0px] p-[3px]",children:[r.jsxs(P.button,{whileTap:{scale:.95},onClick:Ge,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[J?r.jsx(_o,{className:"w-3.5 h-3.5",style:{color:Qe.iconColor||"#8B5CF6"}}):r.jsx(il,{className:"w-3.5 h-3.5",style:{color:Qe.iconColor||"#8B5CF6"}}),r.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:Qe.cardTextColor||"#091A7A"},children:J?" ":" "})]}),f!=="graveyard"&&f!=="wrong-answers"&&r.jsxs(r.Fragment,{children:[r.jsxs(P.button,{whileTap:{scale:.95},onClick:ee.every(Y=>Y.isExpanded)?Ut:qe,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[r.jsx(yr,{className:`w-3.5 h-3.5 transition-transform ${ee.every(Y=>Y.isExpanded)?"rotate-180":""}`,style:{color:Qe.iconColor||"#8B5CF6"}}),r.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:Qe.cardTextColor||"#091A7A"},children:ee.every(Y=>Y.isExpanded)?" ":" "})]}),r.jsxs(P.button,{whileTap:{scale:.95},onClick:ut,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1 whitespace-nowrap",children:[r.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:T==="en"?"#491B6D":"#9CA3AF"},children:"EN"}),r.jsx("span",{style:{fontSize:"11px",fontWeight:600,color:"#9CA3AF"},children:"|"}),r.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:T==="kr"?"#491B6D":"#9CA3AF"},children:"KR"})]})]}),f==="graveyard"&&ee.length>0&&r.jsxs(P.button,{whileTap:{scale:.95},onClick:()=>E(!0),className:"px-3 py-2 bg-gradient-to-r from-gray-700 to-gray-800 backdrop-blur-lg rounded-xl border border-gray-600 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[r.jsx("span",{style:{fontSize:"14px"},children:""}),r.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#E5E7EB"},children:" "})]}),f==="wrong-answers"&&ee.length>0&&r.jsxs(P.button,{whileTap:{scale:.95},onClick:()=>k(!0),className:"px-3 py-2 bg-gradient-to-r from-red-600 to-red-700 backdrop-blur-lg rounded-xl border border-red-500 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[r.jsx("span",{style:{fontSize:"14px"},children:""}),r.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#FEE2E2"},children:" "})]}),f==="graveyard"&&r.jsxs(P.button,{whileTap:{scale:.95},onClick:()=>D(!q),className:`px-3 py-2 backdrop-blur-lg rounded-xl border shadow-sm flex items-center gap-1.5 whitespace-nowrap ${q?"bg-gray-700/90 border-gray-600":"bg-white/90 border-white/40"}`,children:[r.jsx("span",{style:{fontSize:"12px"},children:""}),r.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:q?"#E5E7EB":Qe.cardTextColor||"#091A7A"},children:" "})]})]}),f==="graveyard"&&q&&r.jsxs(P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"flex items-center justify-center gap-1 mt-2 flex-wrap",children:[r.jsx("button",{onClick:()=>tt(null),className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors ${V===null?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:""}),[1,2,3,7,14,30].map(Y=>r.jsxs("button",{onClick:()=>tt(Y),className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors ${V===Y?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:[Y,""]},Y))]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-4 pb-8",children:r.jsx("div",{className:"space-y-3 pt-4",children:r.jsx(Ze,{mode:"popLayout",children:ee.map((Y,ce)=>r.jsxs(P.div,{className:"relative",layout:!0,exit:{opacity:0,x:-200,transition:{duration:.2,ease:"easeOut"}},children:[f!=="graveyard"&&r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#6B7280] to-[#4B5563] rounded-2xl flex items-center justify-end px-6",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pp,{className:"w-4 h-4 text-white/80"}),r.jsx("div",{className:"text-white",style:{fontSize:"12px",fontWeight:600},children:" "})]})}),r.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0,x:Y.swipeX},transition:{delay:ce*.05},drag:f!=="graveyard"?"x":!1,dragConstraints:{left:-150,right:0},dragElastic:0,onDragEnd:(ke,De)=>{f!=="graveyard"&&De.offset.x<-100?he(Y.id):re(ee.map(Ue=>Ue.id===Y.id?{...Ue,swipeX:0}:Ue))},onDrag:(ke,De)=>{f!=="graveyard"&&re(ee.map(Ue=>Ue.id===Y.id?{...Ue,swipeX:Math.min(0,De.offset.x)}:Ue))},className:`backdrop-blur-xl rounded-2xl overflow-hidden border ${Qe.cardBorder} relative z-10`,style:{background:f==="graveyard"?"linear-gradient(135deg, rgba(55, 65, 81, 0.95) 0%, rgba(75, 85, 99, 0.9) 100%)":f==="starred"?"linear-gradient(135deg, rgba(254, 249, 195, 0.95) 0%, rgba(254, 243, 199, 0.9) 100%)":f==="wrong-answers"?"linear-gradient(135deg, rgba(254, 226, 226, 0.95) 0%, rgba(254, 202, 202, 0.9) 100%)":"rgba(255, 255, 255, 0.95)",boxShadow:"0 2px 8px 0 rgba(0, 0, 0, 0.08)"},children:f==="graveyard"||f==="wrong-answers"?r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[r.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:f==="graveyard"?"#D1D5DB":"#7F1D1D"},children:Y.word}),r.jsx("span",{style:{fontSize:"13px",fontWeight:500,color:f==="graveyard"?"#9CA3AF":"#DC2626"},children:Y.pronunciation})]}),r.jsx("p",{onClick:()=>Ne(Y.id),style:{fontSize:"14px",fontWeight:500,color:f==="graveyard"?"#A1A1AA":"#991B1B",lineHeight:1.4,filter:Y.isMeaningRevealed?"none":"blur(8px)",cursor:"pointer",transition:"filter 0.3s ease"},children:Y.meaning})]}),r.jsxs("div",{className:"flex flex-col items-end gap-1.5",children:[f==="graveyard"&&Y.graveyardAt&&r.jsx("span",{style:{fontSize:"10px",fontWeight:500,color:"#9CA3AF",whiteSpace:"nowrap"},children:new Date(Y.graveyardAt).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})}),r.jsx(P.button,{whileTap:{scale:.9},onClick:()=>ue(Y.id),className:`flex-shrink-0 w-10 h-10 rounded-lg border flex items-center justify-center shadow-lg ${f==="graveyard"?"bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600":"bg-gradient-to-br from-red-600 to-red-700 border-red-500"}`,children:r.jsx("span",{className:"text-xl",children:f==="graveyard"?"":""})})]})]})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"cursor-pointer px-[12px] py-[16px] p-[12px]",onClick:()=>ve(Y.id),children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2.5",children:[r.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#491B6D"},children:r.jsx("span",{className:"text-white",style:{fontSize:"11px",fontWeight:700},children:Y.originalIndex})}),r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx("h3",{className:"text-gray-900",style:{fontSize:"16px",fontWeight:600},children:Y.word}),r.jsx("span",{className:"text-gray-500",style:{fontSize:"12px",fontWeight:500},children:Y.pronunciation}),Y.partOfSpeech&&r.jsx("span",{className:"px-1.5 py-0.5 rounded",style:{fontSize:"10px",fontWeight:600,color:"#491B6D",backgroundColor:"rgba(73, 27, 109, 0.08)",border:"1px solid rgba(73, 27, 109, 0.15)"},children:Y.partOfSpeech}),r.jsx(P.button,{whileTap:{scale:.9},onClick:ke=>{ke.stopPropagation(),Z(Y.word)},className:"flex-shrink-0",children:r.jsx(sg,{className:"w-4 h-4",style:{color:"#491B6D",opacity:.6}})})]}),r.jsx(P.button,{whileTap:{scale:.9},onClick:ke=>{ke.stopPropagation(),H(Y.id)},className:"flex-shrink-0 p-1",children:r.jsx(Mr,{className:"w-4 h-4",style:{color:Y.isStarred?"#F59E0B":"#491B6D",fill:Y.isStarred?"#F59E0B":"transparent",opacity:Y.isStarred?1:.3}})})]}),r.jsxs("div",{className:"flex items-center gap-2.5",children:[r.jsx("div",{className:"w-6 flex-shrink-0"})," ",r.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 cursor-pointer",onClick:ke=>{ke.stopPropagation(),Ne(Y.id)},children:[r.jsx(_o,{className:"w-3.5 h-3.5 flex-shrink-0",style:{color:"#9CA3AF"}}),r.jsx("p",{className:"text-gray-600 transition-all duration-200",style:{fontSize:"13px",fontWeight:500,color:"#6B7280",lineHeight:1.4,filter:Y.isMeaningRevealed?"blur(0px)":"blur(4px)",userSelect:Y.isMeaningRevealed?"auto":"none"},children:Y.meaning})]}),r.jsx(P.div,{animate:{rotate:Y.isExpanded?180:0},transition:{duration:.2},className:"flex-shrink-0 p-1",children:r.jsx(yr,{className:"w-4 h-4",style:{color:"#491B6D",opacity:.3}})})]}),(Y.example||Y.translation)&&r.jsxs("div",{className:"flex gap-2.5",children:[r.jsx(P.button,{whileTap:{scale:.9},onClick:ke=>{ke.stopPropagation(),Et(Y.id)},className:"w-6 h-6 flex-shrink-0 rounded-md bg-white/90 border border-[#E5E7EB]/60 flex items-center justify-center shadow-sm",children:r.jsx("span",{style:{fontSize:"8px",fontWeight:700,color:Y.exampleLanguage==="en"?"#491B6D":"#9CA3AF"},children:Y.exampleLanguage==="en"?"EN":"KR"})}),r.jsx("div",{className:"flex-1 bg-[#F3F4F6]/60 border border-[#E5E7EB]/40 rounded-lg px-3 py-2",children:r.jsx("p",{className:"text-[#4B5563]",style:{fontSize:"13px",fontWeight:500,lineHeight:1.5},children:Y.exampleLanguage==="en"?I(Y.example,Y.word):I(Y.translation,Y.word)})})]})]})}),r.jsx(Ze,{children:Y.isExpanded&&r.jsx(P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:r.jsxs("div",{className:"px-4 pb-4 space-y-3 pt-2",children:[Y.story&&r.jsxs("div",{className:"bg-[#F3F4F6]/80 border border-[#E5E7EB]/60 rounded-[16px] p-[10px]",children:[r.jsxs("div",{className:"flex items-start gap-2 mb-1.5",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6] mt-2"}),r.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:" "})]}),r.jsx("p",{className:"text-[#4B5563] pl-3",style:{fontSize:"12px",fontWeight:500,lineHeight:1.6},children:Y.story})]}),r.jsxs("div",{className:"space-y-2",children:[Y.derivatives.length>0&&r.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2.5 border border-[#E5E7EB]/50",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6]"}),r.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:""})]}),r.jsx("div",{className:"flex flex-wrap gap-2 pl-3",children:Y.derivatives.map((ke,De)=>Ft(Y,"derivative",ke,De))})]}),(Y.synonyms.length>0||Y.antonyms.length>0)&&r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[Y.synonyms.length>0&&r.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2.5 border border-[#E5E7EB]/50",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6]"}),r.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:""})]}),r.jsx("div",{className:"flex flex-wrap gap-2 pl-3",children:Y.synonyms.map((ke,De)=>Ft(Y,"synonym",ke,De))})]}),Y.antonyms.length>0&&r.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2.5 border border-[#E5E7EB]/50",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6]"}),r.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:""})]}),r.jsx("div",{className:"flex flex-wrap gap-2 pl-3",children:Y.antonyms.map((ke,De)=>Ft(Y,"antonym",ke,De))})]})]})]})]})})})]})})]},Y.id))})})}),r.jsx(PN,{count:A,onReview:()=>X(!0),onClear:()=>{A>0&&(L(),be.info(" ."))}}),r.jsx(RN,{open:z,onClose:()=>X(!1),words:C,onRemoveWord:R,onClear:()=>{L(),be.info("   .")},onActionComplete:()=>X(!1)}),r.jsx(Ze,{children:j&&f==="wrong-answers"&&r.jsx(fB,{words:ee.map(Y=>({id:Y.id,word:Y.word,meaning:Y.meaning})),onWordCleared:Y=>{d&&d(Y)},onClose:()=>k(!1),onGameComplete:()=>{}})}),r.jsx(Ze,{children:N&&f==="graveyard"&&r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50",children:r.jsx(DN,{vocabularyWords:ee.map(Y=>({id:Y.id,word:Y.word,meaning:Y.meaning,pronunciation:Y.pronunciation})),onBack:()=>E(!1),onBackToHome:e})})})]})}const _B=(t,e)=>t.vocabularyTitle===e.vocabularyTitle&&t.unitName===e.unitName&&t.filterType===e.filterType&&t.hideHeader===e.hideHeader&&t.hideActionButtons===e.hideActionButtons&&t.vocabularyWords===e.vocabularyWords&&t.starredWordIds===e.starredWordIds&&t.graveyardWordIds===e.graveyardWordIds&&t.wrongAnswersWordIds===e.wrongAnswersWordIds&&t.onBack===e.onBack&&t.onBackToHome===e.onBackToHome&&t.onAddToStarred===e.onAddToStarred&&t.onMoveToGraveyard===e.onMoveToGraveyard&&t.onDeletePermanently===e.onDeletePermanently&&t.onStartFlashcards===e.onStartFlashcards,Vd=x.memo(EB,_B);Vd.displayName="WordListScreen";function AB({onClick:t}){return r.jsx(P.button,{whileTap:{scale:.95},onClick:t,className:"w-11 h-11 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/40",style:{minWidth:"44px",minHeight:"44px"},children:r.jsx(Di,{className:"w-5 h-5 text-[#491B6D]"})})}const TB=[{id:"1",word:"Ephemeral",pronunciation:"/fem.r.l/",meaning:", ",example:"The beauty of cherry blossoms is ephemeral, lasting only a few weeks.",etymology:"Greek ephemeros (lasting only a day)",synonyms:["temporary","fleeting","transient"],antonyms:["permanent","eternal","lasting"]},{id:"2",word:"Serendipity",pronunciation:"/ser.ndp..ti/",meaning:" ,  ",example:"It was pure serendipity that we met at the cafe.",etymology:"Coined by Horace Walpole from Persian fairy tale",synonyms:["chance","fortune","luck"],antonyms:["misfortune","bad luck"]},{id:"3",word:"Ubiquitous",pronunciation:"/jubk.w.ts/",meaning:" , ",example:"Smartphones have become ubiquitous in modern society.",etymology:"Latin ubique (everywhere)",synonyms:["omnipresent","pervasive","universal"],antonyms:["rare","scarce","uncommon"]}];function ON({onBack:t,onBackToHome:e,vocabularyWords:n,onAddToStarred:s,onMoveToGraveyard:o,starredWordIds:l=[],graveyardWordIds:c=[],hideHeader:d=!1}){const[h,f]=x.useState(0),[p,m]=x.useState(!1),[y,w]=x.useState(0),[b,j]=x.useState(!1),[k,N]=x.useState(!1),[E,C]=x.useState(!1),[A,O]=x.useState("en"),L=n&&n.length>0?n.map(I=>({id:I.id||"",word:I.word||"",pronunciation:I.pronunciation||"",meaning:I.meaning||"",example:I.example_sentence||I.example||"",translation:I.translation||"",etymology:I.etymology||"",derivatives:Array.isArray(I.derivatives)?I.derivatives.map(U=>({word:U.word||U,meaning:U.meaning||""})):typeof I.derivatives=="string"&&I.derivatives?I.derivatives.split(",").map(U=>{const H=U.trim(),Z=H.match(/^(.+?)\s*\((.+?)\)\s*$/);return Z?{word:Z[1].trim(),meaning:Z[2].trim()}:{word:H,meaning:""}}):[],synonyms:Array.isArray(I.synonyms)?I.synonyms.map(U=>typeof U=="string"?U:U.word):typeof I.synonyms=="string"&&I.synonyms?I.synonyms.split(",").map(U=>U.trim()):[],antonyms:Array.isArray(I.antonyms)?I.antonyms.map(U=>typeof U=="string"?U:U.word):typeof I.antonyms=="string"&&I.antonyms?I.antonyms.split(",").map(U=>U.trim()):[]})):TB,[B,R]=x.useState(L);x.useEffect(()=>{if(n&&n.length>0){const I=n.map(U=>({id:U.id||"",word:U.word||"",pronunciation:U.pronunciation||"",meaning:U.meaning||"",example:U.example_sentence||U.example||"",translation:U.translation||"",etymology:U.etymology||"",derivatives:Array.isArray(U.derivatives)?U.derivatives.map(H=>({word:H.word||H,meaning:H.meaning||""})):typeof U.derivatives=="string"&&U.derivatives?U.derivatives.split(",").map(H=>{const Z=H.trim(),he=Z.match(/^(.+?)\s*\((.+?)\)\s*$/);return he?{word:he[1].trim(),meaning:he[2].trim()}:{word:Z,meaning:""}}):[],synonyms:Array.isArray(U.synonyms)?U.synonyms.map(H=>typeof H=="string"?H:H.word):typeof U.synonyms=="string"&&U.synonyms?U.synonyms.split(",").map(H=>H.trim()):[],antonyms:Array.isArray(U.antonyms)?U.antonyms.map(H=>typeof H=="string"?H:H.word):typeof U.antonyms=="string"&&U.antonyms?U.antonyms.split(",").map(H=>H.trim()):[]}));R(I),f(0),m(!1)}},[n]);const z=B[h],X=l.includes(z?.id||""),ae=x.useRef(null),K=x.useRef(!1),te=(I,U)=>{if(!I||!U)return I;const H=new RegExp(`\\b(${U})\\b`,"gi");return I.split(H).map((he,ue)=>he.toLowerCase()===U.toLowerCase()?r.jsx("span",{style:{color:"#491B6D",fontWeight:700},children:he},ue):he)},ee=()=>{O(I=>I==="en"?"kr":"en")};x.useEffect(()=>{const I=window.getComputedStyle(document.body).overflow,U=window.getComputedStyle(document.body).overflowY;return document.body.style.overflow="hidden",document.body.style.overflowY="hidden",document.documentElement.style.overflow="hidden",document.documentElement.style.overflowY="hidden",()=>{document.body.style.overflow=I,document.body.style.overflowY=U,document.documentElement.style.overflow="",document.documentElement.style.overflowY=""}},[]);const re=(I,U)=>{const Z=U.velocity.x,he=U.offset.x,ue=Math.abs(Z)>300,ve=he>50||ue&&Z>0,Ne=he<-50||ue&&Z<0;ve?h>0&&(w(-1),f(h-1),m(!1)):Ne&&h<B.length-1&&(w(1),f(h+1),m(!1))},J=()=>{m(!p)},M=(I,U="en-US")=>new Promise(H=>{if(!("speechSynthesis"in window)){console.warn("Speech synthesis not supported"),H();return}window.speechSynthesis.cancel();const Z=new SpeechSynthesisUtterance(I);Z.lang=U,Z.rate=U==="ko-KR"?.9:.8,Z.pitch=1,Z.volume=1,Z.onend=()=>{K.current=!1,H()},Z.onerror=he=>{console.error("Speech synthesis error:",he),K.current=!1,H()},K.current=!0,window.speechSynthesis.speak(Z)});x.useEffect(()=>{if(!b){"speechSynthesis"in window&&window.speechSynthesis.cancel(),ae.current&&clearTimeout(ae.current);return}ae.current&&clearTimeout(ae.current);const I=B[h];if(!I)return;const U=async()=>{b&&(await M(I.word,"en-US"),await new Promise(H=>setTimeout(H,300)),b&&(await M(I.word,"en-US"),await new Promise(H=>setTimeout(H,500)),b&&(m(!0),await new Promise(H=>setTimeout(H,600)),b&&(await M(I.meaning,"ko-KR"),await new Promise(H=>setTimeout(H,800)),b&&(h<B.length-1?(w(1),f(h+1),m(!1)):j(!1))))))};return ae.current=setTimeout(()=>{U()},500),()=>{ae.current&&clearTimeout(ae.current)}},[b,h,B]),x.useEffect(()=>()=>{"speechSynthesis"in window&&window.speechSynthesis.cancel(),ae.current&&clearTimeout(ae.current)},[]);const T=()=>{M(z.word,"en-US")},F=()=>{j(!0)},q=()=>{j(!1),"speechSynthesis"in window&&window.speechSynthesis.cancel()},D=()=>{j(!1),"speechSynthesis"in window&&window.speechSynthesis.cancel(),f(0),m(!1)},V=I=>{I.stopPropagation(),s&&s(z.id)},W=I=>{I.stopPropagation(),N(!0),o&&o(z.id),setTimeout(()=>{h<B.length-1?(w(1),f(h+1)):h>0&&(w(-1),f(h-1)),N(!1),m(!1)},300)},se=()=>{const I=[...B].sort(()=>Math.random()-.5);R(I),f(0),m(!1)};return r.jsxs("div",{className:`flex flex-col ${d?"h-full":"min-h-screen h-screen fixed inset-0"}`,style:d?{overflow:"visible",height:"100%",touchAction:"pan-x",position:"relative"}:{overflow:"hidden",overflowY:"hidden",maxWidth:"100vw",width:"100vw",height:"100dvh",touchAction:"pan-x",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3},children:[!d&&r.jsx("div",{className:"sticky top-0 z-40 backdrop-blur-lg",style:{background:"transparent"},children:r.jsxs("div",{className:"flex items-center justify-between p-4",children:[r.jsx(jr,{onClick:t}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("h1",{className:"text-[#091A7A]",style:{fontSize:"18px",fontWeight:600},children:""}),r.jsxs("p",{className:"text-[#6B7280]",style:{fontSize:"12px",fontWeight:500},children:[h+1," / ",B.length]})]}),e?r.jsx(AB,{onClick:e}):r.jsx("div",{className:"w-12 h-12"})]})}),d&&r.jsx("div",{className:"text-center py-3",children:r.jsxs("p",{className:"text-[#6B7280]",style:{fontSize:"14px",fontWeight:500},children:[h+1," / ",B.length]})}),r.jsx("div",{className:`flex-1 flex justify-center ${d?"items-center":"items-start pt-2"}`,style:{overflow:"visible",maxWidth:"100vw",touchAction:"auto"},children:r.jsxs("div",{className:`w-full max-w-[380px] ${d?"h-[60vh]":"h-full max-h-[70vh]"} relative flex items-center justify-center`,style:{overflow:"visible",touchAction:"auto"},children:[h>0&&r.jsx(P.div,{className:"absolute left-0 pointer-events-none z-0",initial:{opacity:0,x:-20},animate:{opacity:.4,x:0},transition:{duration:.3},style:{width:"70%",height:"85%",transform:"translateX(-75%) scale(0.7)",transformOrigin:"right center"},children:r.jsx("div",{className:"w-full h-full bg-white/90 backdrop-blur-lg shadow-2xl rounded-[20px] border-2 border-white/30",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)"}})}),h<B.length-1&&r.jsx(P.div,{className:"absolute right-0 pointer-events-none z-0",initial:{opacity:0,x:20},animate:{opacity:.4,x:0},transition:{duration:.3},style:{width:"70%",height:"85%",transform:"translateX(75%) scale(0.7)",transformOrigin:"left center"},children:r.jsx("div",{className:"w-full h-full bg-white/90 backdrop-blur-lg shadow-2xl rounded-[20px] border-2 border-white/30",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)"}})}),r.jsx("div",{className:"w-[92%] h-full relative z-10 mx-auto",style:{overflow:"visible",touchAction:"pan-x"},children:r.jsx(Ze,{mode:"popLayout",initial:!1,children:r.jsx(P.div,{initial:{scale:.9,opacity:0},animate:{scale:k?.8:1,opacity:k?0:1},exit:{scale:.9,opacity:0},transition:{duration:k?.3:.2},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.3,dragMomentum:!1,dragPropagation:!1,whileDrag:{cursor:"grabbing"},onDragStart:()=>{C(!0)},onDragEnd:(I,U)=>{C(!1),re(I,U)},className:"absolute inset-0 cursor-grab active:cursor-grabbing",style:{perspective:"1000px",zIndex:10},children:r.jsxs(P.div,{className:"w-full h-full relative",style:{transformStyle:"preserve-3d",pointerEvents:E?"none":"auto"},animate:{rotateY:p?180:0},transition:{duration:.6,type:"spring"},onClick:I=>{E||J()},children:[r.jsxs("div",{className:"absolute inset-0 bg-white/95 backdrop-blur-lg px-6 py-4 flex flex-col items-center justify-center rounded-[20px] border border-white/20 shadow-2xl",style:{backfaceVisibility:"hidden"},children:[r.jsx(P.button,{whileTap:{scale:.9},onClick:V,className:"absolute top-5 right-5",children:r.jsx(P.div,{animate:X?{scale:[1,1.3,1],rotate:[0,-15,15,0]}:{},transition:{duration:.5,ease:"easeOut"},children:r.jsx(Mr,{className:`w-7 h-7 ${X?"fill-[#FCD34D] text-[#FCD34D] drop-shadow-[0_0_8px_rgba(252,211,77,0.6)]":"text-[#D1D5DB]"}`})})}),r.jsx(P.button,{whileTap:{scale:.9},onClick:W,className:"absolute bottom-5 right-5",children:r.jsx(Pp,{className:"w-7 h-7 text-[#6B7280]"})}),r.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[r.jsx("div",{className:"w-16 h-1 bg-[#491B6D]/20",style:{borderRadius:"var(--radius-pill)"}}),r.jsx("h2",{className:"text-[#091A7A] text-center px-4",style:{fontSize:"40px",fontWeight:700,lineHeight:1.1},children:z.word}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("p",{className:"text-[#6B7280]",style:{fontSize:"14px",fontWeight:500},children:z.pronunciation}),r.jsx(P.button,{whileTap:{scale:.9},onClick:I=>{I.stopPropagation(),T()},className:"w-10 h-10 bg-[#491B6D]/10 rounded-full flex items-center justify-center",children:r.jsx(sg,{className:"w-5 h-5 text-[#491B6D]"})})]}),r.jsx("div",{className:"w-16 h-1 bg-[#491B6D]/20 mt-2",style:{borderRadius:"var(--radius-pill)"}})]}),r.jsx("div",{className:"absolute bottom-8 text-[#9CA3AF]",style:{fontSize:"13px",fontWeight:500},children:" "})]}),r.jsxs("div",{className:"absolute inset-0 bg-white/95 backdrop-blur-lg p-5 overflow-y-auto scrollbar-hide rounded-[20px] border border-white/20 shadow-2xl",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[r.jsx(P.button,{whileTap:{scale:.9},onClick:V,className:"absolute top-4 right-4 z-10",style:{transform:"scaleX(-1)"},children:r.jsx(P.div,{animate:X?{scale:[1,1.3,1],rotate:[0,-15,15,0]}:{},transition:{duration:.5,ease:"easeOut"},children:r.jsx(Mr,{className:`w-6 h-6 ${X?"fill-[#FCD34D] text-[#FCD34D] drop-shadow-[0_0_8px_rgba(252,211,77,0.6)]":"text-[#D1D5DB]"}`})})}),r.jsx(P.button,{whileTap:{scale:.9},onClick:W,className:"absolute bottom-4 right-4 z-10",style:{transform:"scaleX(-1)"},children:r.jsx(Pp,{className:"w-6 h-6 text-[#6B7280]"})}),r.jsxs("div",{className:"flex flex-col gap-3 scrollable-content",children:[r.jsx("div",{className:"text-center pb-3 border-b border-gray-200",children:r.jsx("h3",{className:"text-[#491B6D]",style:{fontSize:"24px",fontWeight:700},children:z.word})}),r.jsx("div",{className:"text-center py-2",children:r.jsx("p",{className:"text-[#374151]",style:{fontSize:"18px",fontWeight:700,lineHeight:1.3},children:z.meaning})}),(z.example||z.translation)&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:I=>{I.stopPropagation(),ee()},className:"w-8 h-8 flex-shrink-0 rounded-md bg-white/90 border border-[#E5E7EB]/60 flex items-center justify-center shadow-sm",style:{transform:"scaleX(-1)"},children:r.jsx("span",{style:{fontSize:"9px",fontWeight:700,color:A==="en"?"#491B6D":"#9CA3AF",transform:"scaleX(-1)"},children:A==="en"?"EN":"KR"})}),r.jsx("div",{className:"flex-1 bg-[#F3F4F6]/60 border border-[#E5E7EB]/40 rounded-lg px-3 py-2",children:r.jsx("p",{className:"text-[#4B5563]",style:{fontSize:"13px",fontWeight:500,lineHeight:1.5},children:te(A==="en"?z.example:z.translation||z.example,z.word)})})]}),z.etymology&&r.jsxs("div",{className:"bg-[#F3F4F6]/80 border border-[#E5E7EB]/60 rounded-[16px] p-[10px]",children:[r.jsxs("div",{className:"flex items-start gap-2 mb-1.5",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6] mt-2"}),r.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:" "})]}),r.jsx("p",{className:"text-[#4B5563] pl-3",style:{fontSize:"12px",fontWeight:500,lineHeight:1.6},children:z.etymology})]}),r.jsxs("div",{className:"space-y-2",children:[z.derivatives&&z.derivatives.length>0&&r.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2.5 border border-[#E5E7EB]/50",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6]"}),r.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:""})]}),r.jsx("div",{className:"flex flex-wrap gap-2 pl-3",children:z.derivatives.map((I,U)=>r.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[r.jsx("span",{className:"text-[#091A7A]",style:{fontSize:"12px",fontWeight:600},children:I.word}),I.meaning&&r.jsxs("span",{className:"text-[#9CA3AF]",style:{fontSize:"10px",fontWeight:500},children:["(",I.meaning,")"]})]},U))})]}),(z.synonyms&&z.synonyms.length>0||z.antonyms&&z.antonyms.length>0)&&r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[z.synonyms&&z.synonyms.length>0&&r.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2.5 border border-[#E5E7EB]/50",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6]"}),r.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:""})]}),r.jsx("div",{className:"flex flex-wrap gap-2 pl-3",children:z.synonyms.map((I,U)=>r.jsx("span",{className:"text-[#091A7A]",style:{fontSize:"12px",fontWeight:600},children:I},U))})]}),z.antonyms&&z.antonyms.length>0&&r.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2.5 border border-[#E5E7EB]/50",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6]"}),r.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:""})]}),r.jsx("div",{className:"flex flex-wrap gap-2 pl-3",children:z.antonyms.map((I,U)=>r.jsx("span",{className:"text-[#091A7A]",style:{fontSize:"12px",fontWeight:600},children:I},U))})]})]})]})]})]})]})},h)})})]})}),r.jsxs("div",{className:`${d?"relative py-4":"absolute bottom-8"} left-0 right-0 z-[9999] flex items-center justify-center gap-3 px-4`,style:{pointerEvents:"auto"},children:[r.jsx(P.button,{whileTap:{scale:.9},onClick:se,className:"w-14 h-14 bg-white/95 backdrop-blur-lg rounded-full flex items-center justify-center shadow-xl",children:r.jsx(ng,{className:"w-5 h-5 text-[#8B5CF6]"})}),r.jsx(P.button,{whileTap:{scale:.9},onClick:F,disabled:b,className:`w-16 h-16 backdrop-blur-lg rounded-full flex items-center justify-center shadow-xl ${b?"bg-white/50 opacity-50":"bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED]"}`,children:r.jsx(Ci,{className:"w-7 h-7 text-white fill-white"})}),r.jsx(P.button,{whileTap:{scale:.9},onClick:q,disabled:!b,className:`w-14 h-14 backdrop-blur-lg rounded-full flex items-center justify-center shadow-xl ${b?"bg-white/95":"bg-white/50 opacity-50"}`,children:r.jsx(_d,{className:"w-6 h-6 text-[#491B6D]"})}),r.jsx(P.button,{whileTap:{scale:.9},onClick:D,className:"w-14 h-14 bg-white/95 backdrop-blur-lg rounded-full flex items-center justify-center shadow-xl",children:r.jsx(LP,{className:"w-5 h-5 text-[#EF4444] fill-[#EF4444]"})})]})]})}function PB({onBack:t,onSelectVocabulary:e}){const[n,s]=x.useState([]),[o,l]=x.useState(!0),[c,d]=x.useState(""),[h,f]=x.useState("All"),[p,m]=x.useState(["All"]);x.useEffect(()=>{y(),w()},[]);const y=async()=>{try{const N=await fetch(`https://${Ve}.supabase.co/functions/v1/server/admin/categories`,{headers:{Authorization:`Bearer ${wn}`}});if(!N.ok){console.error("Failed to fetch categories:",await N.text());return}const C=((await N.json()).categories||[]).filter(A=>A.enabled).map(A=>A.name);m(["All",...C])}catch(N){console.error("Error fetching categories:",N)}},w=async()=>{try{let N=await fetch(`https://${Ve}.supabase.co/functions/v1/server/admin/shared-vocabularies`,{headers:{Authorization:`Bearer ${wn}`}});if(N.ok||(N=await fetch(`https://${Ve}.supabase.co/functions/v1/server/shared-vocabularies`,{headers:{Authorization:`Bearer ${wn}`}})),!N.ok){console.error("Failed to fetch vocabularies:",await N.text());return}const E=await N.json();s(E.vocabularies||[])}catch(N){console.error("Error fetching shared vocabularies:",N)}finally{l(!1)}},b=N=>{switch(N){case"beginner":return"bg-[#8B5CF6]/10 text-[#8B5CF6]";case"intermediate":return"bg-[#A78BFA]/10 text-[#7C3AED]";case"advanced":return"bg-[#7C3AED]/10 text-[#6D28D9]";default:return"bg-[#8B5CF6]/10 text-[#8B5CF6]"}},j=N=>{switch(N){case"beginner":return"";case"intermediate":return"";case"advanced":return"";default:return N}},k=n.filter(N=>(N.title?.toLowerCase()||"").includes(c.toLowerCase())&&(h==="All"||N.category===h));return r.jsxs("div",{className:"h-full flex flex-col bg-transparent",children:[r.jsx(Sl,{onBack:t,title:"Presets",subtitle:"  "}),r.jsxs("div",{className:"sticky top-0 z-40 backdrop-blur-lg pb-2",style:{background:"transparent"},children:[r.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(tg,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#8B5CF6]/50"}),r.jsx("input",{type:"text",value:c,onChange:N=>d(N.target.value),placeholder:"Search preset vocabulary...",className:"w-full pl-12 pr-4 py-3 rounded-full bg-white/80 backdrop-blur-lg shadow-md text-[#491B6D] placeholder:text-[#8B5CF6]/40 focus:outline-none focus:ring-2 focus:ring-[#8B5CF6]/30"})]})})}),r.jsxs("div",{className:"flex gap-3 px-4 overflow-x-auto scrollbar-hide",children:[r.jsx(P.button,{whileTap:{scale:.95},className:"p-2 flex items-center justify-center",children:r.jsx(Ep,{className:"w-5 h-5 text-[#491B6D]"})}),p.map(N=>r.jsx(P.button,{whileTap:{scale:.95},onClick:()=>f(N),className:`px-6 py-2.5 rounded-full whitespace-nowrap transition-all ${h===N?"bg-[#091A7A] text-white shadow-lg":"bg-transparent text-[#091A7A]"}`,style:{fontSize:"15px",fontWeight:600},children:N},N)),r.jsx(P.button,{whileTap:{scale:.95},className:"p-2 flex items-center justify-center",children:r.jsx(Ms,{className:"w-5 h-5 text-[#491B6D]"})})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-4 pb-8",children:o?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"w-8 h-8 border-4 border-[#8B5CF6]/20 border-t-[#8B5CF6] rounded-full animate-spin"})}):k.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Cd,{className:"w-16 h-16 text-[#491B6D]/40 mx-auto mb-4"}),r.jsx("p",{className:"text-[#491B6D]/70",children:"  "})]}):r.jsx("div",{className:"space-y-4 pt-4",children:k.map((N,E)=>r.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.1},whileTap:{scale:.98},onTap:()=>e(N),className:"bg-white/95 backdrop-blur-lg rounded-3xl overflow-hidden shadow-lg p-5 cursor-pointer",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED] rounded-2xl flex items-center justify-center flex-shrink-0",children:r.jsx(Cd,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-[#491B6D] mb-1.5",style:{fontSize:"16px",fontWeight:600},children:N.title}),N.description&&r.jsx("p",{className:"text-[#491B6D]/60 text-sm line-clamp-2",children:N.description})]}),r.jsx(Ms,{className:"w-5 h-5 text-[#491B6D]/30 flex-shrink-0 mt-0.5"})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs ${b(N.difficulty_level)}`,children:j(N.difficulty_level)}),r.jsx("span",{className:"px-3 py-1.5 rounded-full text-xs bg-[#491B6D]/8 text-[#491B6D]/70",children:N.category}),r.jsxs("span",{className:"text-[#491B6D]/50 text-sm ml-auto",children:[N.total_words.toLocaleString()," "]})]})]})]})},N.id))})})]})}var RB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DB=RB.reduce((t,e)=>{const n=r2(`Primitive.${e}`),s=x.forwardRef((o,l)=>{const{asChild:c,...d}=o,h=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(h,{...d,ref:l})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),OB="Label",FN=x.forwardRef((t,e)=>r.jsx(DB.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));FN.displayName=OB;var FB=FN;function Yf({className:t,...e}){return r.jsx(FB,{"data-slot":"label",className:mn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function IB({onSave:t,initialData:e=[],data:n,fullscreen:s=!1,headerInfo:o,onHeaderChange:l,onChange:c,getAuthToken:d,hideHeaderFields:h=!1}){const[f,p]=x.useState(!1);x.useRef(null);const[m,y]=x.useState(!1),[w,b]=x.useState(""),j=T=>T.map(F=>({word:F.word,meaning:F.meaning,synonyms:F.synonyms.join(", "),antonyms:F.antonyms.join(", "),example:F.example,translation:F.translation})),[k,N]=x.useState(()=>n&&n.length>0?j(n):Array(10).fill(null).map(()=>({word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""}))),[E,C]=x.useState(null),A=x.useRef({});x.useEffect(()=>{n&&n.length>0&&N(j(n))},[n]);const O=s?["word","meaning","synonyms","antonyms","example","translation"]:["word","meaning"],L={word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""},B=()=>{N([...k,{word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""}])},R=T=>{k.length>1&&N(k.filter((F,q)=>q!==T))},z=(T,F,q)=>{const D=[...k];if(D[T][F]=q,N(D),c&&n&&n[T]){const V={...n[T],[F]:F==="synonyms"||F==="antonyms"?q.split(",").map(se=>se.trim()).filter(se=>se!==""):q},W=[...n];W[T]=V,c(W)}else c&&c(D.map((V,W)=>({id:W+1,word:V.word,pronunciation:n?.[W]?.pronunciation||"",partOfSpeech:n?.[W]?.partOfSpeech||"",meaning:V.meaning,definition:n?.[W]?.definition||void 0,synonyms:V.synonyms.split(",").map(se=>se.trim()).filter(se=>se!==""),antonyms:V.antonyms.split(",").map(se=>se.trim()).filter(se=>se!==""),derivatives:n?.[W]?.derivatives||[],example:V.example,translation:V.translation,translationHighlight:n?.[W]?.translationHighlight||void 0,etymology:n?.[W]?.etymology||""})))},X=(T,F,q)=>{if(T.key==="Enter"){T.preventDefault();const D=F+1;D>=k.length&&B(),setTimeout(()=>{const V=`${D}-${q}`;A.current[V]?.focus()},0)}else if(T.key==="Tab"){T.preventDefault();const D=q+1;if(D<O.length){const V=`${F}-${D}`;A.current[V]?.focus()}else{const V=F+1;V>=k.length&&B(),setTimeout(()=>{const W=`${V}-0`;A.current[W]?.focus()},0)}}},ae=(T,F,q)=>{T.preventDefault();const V=T.clipboardData.getData("text").split(`
`).filter(se=>se.trim()!==""),W=[...k];V.forEach((se,I)=>{const U=se.split("	"),H=F+I;for(;W.length<=H;)W.push({word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""});U.forEach((Z,he)=>{const ue=q+he;ue<O.length&&(W[H][O[ue]]=Z.trim())})}),N(W)},K=10,te=3,ee=async(T,F=3)=>{try{const q=T.filter(Z=>Z.word&&Z.word.trim()!=="");if(q.length===0)return console.error("  "),{items:[],inputTokens:0,outputTokens:0};const D=d?.();if(!D)throw new Error(" .  .");const V=await fetch(`https://${Ve}.supabase.co/functions/v1/server/generate-vocabulary-batch`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify({words:q.map(Z=>({word:Z.word.trim(),meaning:Z.meaning?Z.meaning.trim():""}))})});if(!V.ok){const Z=await V.text();throw console.error(" API :",Z),new Error("Failed to generate word info")}const W=await V.json();if(!W.success)throw new Error(W.error||"Generation failed");const se=W.results||W.data||[],I=W.inputTokens||0,U=W.outputTokens||0;return{items:q.map((Z,he)=>{const ue=se[he]||{};return{id:0,word:Z.word,pronunciation:ue.pronunciation||"",partOfSpeech:ue.partOfSpeech||"",meaning:ue.meaning||Z.meaning,definition:ue.definition||void 0,synonyms:Z.synonyms?Z.synonyms.split(",").map(ve=>ve.trim()).filter(ve=>ve!==""):ue.synonyms||[],antonyms:Z.antonyms?Z.antonyms.split(",").map(ve=>ve.trim()).filter(ve=>ve!==""):ue.antonyms||[],derivatives:ue.derivatives||[],example:Z.example||ue.example||"",translation:Z.translation||ue.translation||"",translationHighlight:ue.translationHighlight||void 0,etymology:ue.etymology||""}}),inputTokens:I,outputTokens:U}}catch(q){return console.error("API :",q),F>0?(console.log(` ... ( : ${F})`),await new Promise(D=>setTimeout(D,2e3)),ee(T,F-1)):{items:T.map(D=>({id:0,word:D.word,pronunciation:"",partOfSpeech:"",meaning:D.meaning,definition:void 0,synonyms:D.synonyms.split(",").map(V=>V.trim()).filter(V=>V!==""),antonyms:D.antonyms.split(",").map(V=>V.trim()).filter(V=>V!==""),derivatives:[],example:D.example,translation:D.translation,translationHighlight:void 0,etymology:""})),inputTokens:0,outputTokens:0}}},re=async T=>{const F=[];for(let Z=0;Z<T.length;Z+=K)F.push(T.slice(Z,Z+K));const q=[];let D=0,V=0,W=0;const se=async(Z,he)=>{const ue=await ee(Z);return{index:he,items:ue.items,inputTokens:ue.inputTokens,outputTokens:ue.outputTokens}},I=async Z=>{const he=Math.min(Z+te,F.length),ue=[];for(let Ne=Z;Ne<he;Ne++)ue.push(se(F[Ne],Ne));const ve=await Promise.all(ue);for(const Ne of ve)q.push({index:Ne.index,items:Ne.items}),D+=Ne.inputTokens,V+=Ne.outputTokens,W++,F.length>1&&be.loading(`AI   ... (${W}/${F.length} , ${Math.min(W*K,T.length)}/${T.length})`,{id:"generating",duration:1/0});return he};let U=0;for(;U<F.length;)U=await I(U),U<F.length&&await new Promise(Z=>setTimeout(Z,300));return q.sort((Z,he)=>Z.index-he.index),{items:q.flatMap(Z=>Z.items),inputTokens:D,outputTokens:V}},J=async T=>{const F=T||k,q=F.filter(D=>D.word&&D.word.trim()!=="");if(console.log("=== handleSave  ==="),console.log("  :",F.length),console.log("   :",q.length),console.log(" 3 :",q.slice(0,3)),q.length===0){be.error(" .",{duration:1e3});return}p(!0),be.loading(`AI ${q.length}   ...`,{id:"generating",duration:1/0});try{console.log(`     (BATCH_SIZE=${K}, CONCURRENCY=${te})`);const{items:D,inputTokens:V,outputTokens:W}=await re(q);be.dismiss("generating"),console.log(" ! ",D.length,""),console.log(`    - : ${V}, : ${W}`);const se=D.map((I,U)=>({...I,id:U+1}));N(j(se)),setTimeout(()=>{be.success(`${se.length}   !`,{duration:1e3})},300),t(se,{inputTokens:V,outputTokens:W})}catch(D){console.error(" :",D),be.dismiss("generating"),be.error("AI    .",{duration:1e3})}finally{p(!1)}},M=()=>{if(!w.trim())return null;const T=w.split(/[\n,]+/).map(q=>q.trim()).filter(q=>q!=="");if(T.length===0)return null;const F=T.map(q=>({word:q,meaning:"",synonyms:"",antonyms:"",example:"",translation:""}));return N(F),b(""),F};return r.jsxs("div",{className:"flex flex-col h-full",children:[o&&l&&!h&&r.jsxs("div",{className:"mb-4 flex-shrink-0 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yf,{htmlFor:"headerTitle",className:`whitespace-nowrap text-xs ${m?"text-red-600":"text-slate-700"}`,children:" ()"}),r.jsx(Td,{id:"headerTitle",value:o.headerTitle,onChange:T=>{l({...o,headerTitle:T.target.value}),m&&y(!1)},placeholder:":     ",className:`bg-white flex-1 transition-all text-sm ${m?"border-red-500 border-2 ring-4 ring-red-100 animate-shake":"border-gray-300"}`,style:{fontFamily:"SUIT",fontWeight:"600"},required:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yf,{htmlFor:"headerDescription",className:"text-slate-600 whitespace-nowrap text-xs",children:" ()"}),r.jsx(Td,{id:"headerDescription",value:o.headerDescription,onChange:T=>l({...o,headerDescription:T.target.value}),placeholder:": 1 2 ",className:"bg-white border-gray-300 flex-1 text-gray-700 placeholder:text-gray-400 text-sm",style:{fontFamily:"SUIT"}})]})]}),r.jsxs("div",{className:"mb-4 flex-shrink-0",children:[r.jsx(Yf,{className:"text-xs text-slate-700 mb-2 block",children:"  (   )"}),r.jsx("textarea",{value:w,onChange:T=>b(T.target.value),placeholder:" . : apple, banana, cat",className:"w-full h-24 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"}),r.jsxs("div",{className:"mt-2 flex gap-2",children:[r.jsx($n,{onClick:async()=>{if(o&&(o.headerTitle.trim()==="JEJEVOCA"||o.headerTitle.trim()==="")){y(!0),be.error("  !",{duration:1e3}),setTimeout(()=>{const F=document.getElementById("headerTitle");F&&(o.headerTitle.trim()==="JEJEVOCA"&&l&&l({...o,headerTitle:""}),F.focus(),F.select())},100),setTimeout(()=>{y(!1)},3e3);return}const T=M();T&&J(T)},disabled:f||!w.trim(),size:"sm",children:f?"AI  ...":" "}),r.jsx($n,{onClick:B,variant:"outline",size:"sm",children:"+ "}),r.jsx($n,{onClick:()=>{N(Array(10).fill(null).map(()=>({word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""}))),b(""),be.success("  ",{duration:1e3})},variant:"outline",size:"sm",children:" "})]})]}),r.jsx("div",{className:"h-[350px] overflow-auto border border-gray-300 rounded flex-shrink-0",children:r.jsx("div",{className:"overflow-x-scroll overflow-y-auto h-full",children:r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:r.jsxs("tr",{children:[r.jsx("th",{className:"border border-gray-300 px-2 py-2 text-xs w-12",children:"#"}),O.map(T=>r.jsx("th",{className:"border border-gray-300 px-3 py-2 text-xs min-w-[96px]",children:L[T]},T)),r.jsx("th",{className:"border border-gray-300 px-2 py-2 text-xs w-12",children:""})]})}),r.jsx("tbody",{children:k.map((T,F)=>r.jsxs("tr",{children:[r.jsx("td",{className:"border border-gray-300 px-2 py-1 text-xs text-center bg-gray-50",children:F+1}),O.map((q,D)=>r.jsx("td",{className:"border border-gray-300 p-0",children:r.jsx("input",{ref:V=>{A.current[`${F}-${D}`]=V},type:"text",value:T[q],onChange:V=>z(F,q,V.target.value),onKeyDown:V=>X(V,F,D),onPaste:V=>ae(V,F,D),onFocus:()=>C({row:F,col:D}),className:"w-full min-w-[96px] px-2 py-1.5 text-xs border-0 focus:outline-none focus:ring-2 focus:ring-blue-500 text-black"})},q)),r.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:r.jsx("button",{onClick:()=>R(F),className:"text-red-600 hover:text-red-800 text-xs",disabled:k.length===1,children:""})})]},F))})]})})})]})}const MB={DEV:!1},sm=os(),LB={isAuthenticated:!1,currentUser:null,token:null,isInitializing:!0};let za={...LB};const im=new Set;let od=null,Jf=null,Wa=!1;const lb=typeof import.meta<"u"?MB:void 0,IN=!!lb?.DEV&&lb?.VITE_DEBUG_AUTH==="true",Ja=(t,e)=>{IN&&console.log(t)},Qa=(t,e)=>{if(!IN||!t){t||(Jf=null);return}Jf!==t&&(Jf=t,console.log(`${e} ${t.substring(0,20)}...`))},Ud=t=>{typeof window>"u"||(t?localStorage.setItem("supabase_access_token",t):localStorage.removeItem("supabase_access_token"))},Si=t=>{let e=!1;for(const n of Object.keys(t))if(za[n]!==t[n]){e=!0;break}e&&(za={...za,...t},im.forEach(n=>n(za)))},BB=async()=>od||(od=(async()=>{try{const{data:{session:t}}=await sm.auth.getSession();t?.access_token?(Ja(" Found existing session"),Ud(t.access_token),Qa(t.access_token," Auth token initialized"),Si({isAuthenticated:!0,currentUser:t.user,token:t.access_token}),Wa=!1):(Ja(" No existing session"),Ud(null),Qa(null,""),Si({isAuthenticated:!1,currentUser:null,token:null}))}catch(t){console.error(" Error initializing auth:",t),Si({isAuthenticated:!1,currentUser:null,token:null})}finally{Si({isInitializing:!1})}})(),od);function Qo(){const[t,e]=x.useState(za);x.useEffect(()=>{const l=c=>e(c);return im.add(l),BB(),()=>{im.delete(l)}},[]);const n=x.useCallback((l,c)=>{Ja(" Login: Setting user and token"),Ud(c),Qa(c," Auth token updated"),Wa=!1,Si({isAuthenticated:!0,currentUser:l,token:c,isInitializing:!1})},[]),s=x.useCallback(()=>{Ja(" Logging out..."),sm.auth.signOut(),Ud(null),Qa(null,""),Si({isAuthenticated:!1,currentUser:null,token:null,isInitializing:!1})},[]),o=x.useCallback(()=>{if(t.token)return t.token;if(typeof window>"u")return null;const l=localStorage.getItem("supabase_access_token");return l?(Qa(l," Auth token restored"),Wa=!1,Si({isAuthenticated:!0,token:l}),l):(Wa||(Ja(" No auth token available"),Wa=!0),null)},[t.token]);return{isAuthenticated:t.isAuthenticated,currentUser:t.currentUser,isInitializing:t.isInitializing,login:n,logout:s,getAuthToken:o,supabase:sm}}function $B({onClose:t}){const[e,n]=x.useState("overview");return r.jsx("div",{className:"fixed inset-0 z-[100] bg-gray-50",children:r.jsxs("div",{className:"h-full flex",children:[r.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg",style:{fontWeight:700,color:"#491B6D"},children:"Admin Panel"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JEJEVOCA Dashboard"})]}),r.jsx(P.button,{whileTap:{scale:.95},onClick:t,className:"w-8 h-8 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",children:r.jsx(Bn,{className:"w-4 h-4 text-gray-600"})})]})}),r.jsxs("nav",{className:"flex-1 p-4 space-y-1",children:[r.jsx(mo,{icon:r.jsx(z3,{className:"w-5 h-5"}),label:"Overview",active:e==="overview",onClick:()=>n("overview")}),r.jsx(mo,{icon:r.jsx(Xr,{className:"w-5 h-5"}),label:"Vocabularies",active:e==="vocabularies",onClick:()=>n("vocabularies")}),r.jsx(mo,{icon:r.jsx(ZP,{className:"w-5 h-5"}),label:"Create Vocabulary",active:e==="upload",onClick:()=>n("upload")}),r.jsx(mo,{icon:r.jsx(rg,{className:"w-5 h-5"}),label:"User Management",active:e==="users",onClick:()=>n("users")}),r.jsx(mo,{icon:r.jsx(Lj,{className:"w-5 h-5"}),label:"Categories",active:e==="categories",onClick:()=>n("categories")}),r.jsx(mo,{icon:r.jsx(bl,{className:"w-5 h-5"}),label:" ",active:!1,onClick:()=>{window.location.href="/admin/admission"}})]}),r.jsx("div",{className:"p-4 border-t border-gray-200",children:r.jsx("div",{className:"text-xs text-gray-500 text-center",children:" JEJETRANSFER 2025"})})]}),r.jsxs("div",{className:"flex-1 overflow-auto",children:[e==="overview"&&r.jsx(zB,{}),e==="vocabularies"&&r.jsx(WB,{}),e==="upload"&&r.jsx(VB,{}),e==="users"&&r.jsx(UB,{}),e==="categories"&&r.jsx(HB,{})]})]})})}function mo({icon:t,label:e,active:n,onClick:s}){return r.jsxs(P.button,{whileTap:{scale:.98},onClick:s,className:`w-full px-4 py-3 rounded-lg flex items-center gap-3 transition-colors ${n?"bg-[#491B6D] text-white":"text-gray-700 hover:bg-gray-100"}`,children:[t,r.jsx("span",{style:{fontSize:"14px",fontWeight:600},children:e})]})}function zB(){const{getAuthToken:t}=Qo(),[e,n]=x.useState({totalVocabularies:0,totalDownloads:0,activeUsers:0,avgRating:"0.0"});x.useEffect(()=>{s()},[]);const s=async()=>{try{const o=t();if(!o)return;const c=await(await fetch(`https://${Ve}.supabase.co/functions/v1/server/admin/stats`,{headers:{Authorization:`Bearer ${o}`}})).json();c.stats&&n(c.stats)}catch(o){console.error("Error loading stats:",o)}};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl mb-2",style:{fontWeight:700,color:"#491B6D"},children:"Dashboard Overview"}),r.jsx("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening today."})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[r.jsx(ad,{icon:r.jsx(Xr,{className:"w-6 h-6"}),label:"Total Vocabularies",value:e.totalVocabularies.toString(),change:"+12%",positive:!0,color:"#8B5CF6"}),r.jsx(ad,{icon:r.jsx(j3,{className:"w-6 h-6"}),label:"Total Downloads",value:e.totalDownloads.toString(),change:"+0.3%",positive:!0,color:"#7C3AED"}),r.jsx(ad,{icon:r.jsx(rg,{className:"w-6 h-6"}),label:"Active Users",value:e.activeUsers.toString(),change:"+6.08%",positive:!0,color:"#6D28D9"}),r.jsx(ad,{icon:r.jsx(Mr,{className:"w-6 h-6"}),label:"Avg Rating",value:e.avgRating,change:"+0.2",positive:!0,color:"#5B21B6"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"col-span-2 bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:"#491B6D"},children:"Downloads Trend"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Last 6 months"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8B5CF6]"}),r.jsx("span",{className:"text-xs text-gray-600",children:"This year"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300"}),r.jsx("span",{className:"text-xs text-gray-600",children:"Last year"})]})]})]}),r.jsx("div",{className:"h-64 flex items-end justify-between gap-3",children:[30,45,60,80,55,70].map((o,l)=>r.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[r.jsx("div",{className:"w-full rounded-t-lg bg-gradient-to-t from-[#8B5CF6] to-[#A78BFA] transition-all",style:{height:`${o}%`}}),r.jsx("div",{className:"w-full rounded-t-lg bg-gray-200",style:{height:`${o*.7}%`}})]},l))})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[r.jsx("h3",{className:"mb-6",style:{fontSize:"16px",fontWeight:600,color:"#491B6D"},children:"Top Categories"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Ia,{label:"TOEIC",percentage:52.1,color:"#8B5CF6"}),r.jsx(Ia,{label:"SAT",percentage:22.8,color:"#A78BFA"}),r.jsx(Ia,{label:"GRE",percentage:13.9,color:"#C4B5FD"}),r.jsx(Ia,{label:"School",percentage:8.2,color:"#DDD6FE"}),r.jsx(Ia,{label:"General",percentage:3,color:"#EDE9FE"})]})]})]})]})}function WB(){const{getAuthToken:t}=Qo(),[e,n]=x.useState([]),[s,o]=x.useState(!0);x.useEffect(()=>{l()},[]);const l=async()=>{try{const d=t();if(!d)return;o(!0);const f=await(await fetch(`https://${Ve}.supabase.co/functions/v1/server/admin/shared-vocabularies`,{headers:{Authorization:`Bearer ${d}`}})).json();f.vocabularies&&n(f.vocabularies)}catch(d){console.error("Error loading vocabularies:",d)}finally{o(!1)}},c=async d=>{if(!confirm("   ?"))return;const h=t();if(h)try{await fetch(`https://${Ve}.supabase.co/functions/v1/server/admin/shared-vocabularies/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${h}`}}),await l()}catch(f){console.error("Error deleting vocabulary:",f),alert(" .")}};return r.jsxs("div",{className:"p-8",children:[r.jsx("div",{className:"flex items-center justify-between mb-8",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl mb-2",style:{fontWeight:700,color:"#491B6D"},children:"Vocabulary Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage all shared vocabulary lists"})]})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:s?r.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):e.length===0?r.jsx("div",{className:"p-12 text-center text-gray-500",children:' . "Create Vocabulary"    .'}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Title"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Category"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Level"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Words"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Downloads"}),r.jsx("th",{className:"px-6 py-4 text-right text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(d=>r.jsx(qB,{title:d.title,category:d.category,level:d.level,words:d.words?.length||0,downloads:d.downloads||0,onDelete:()=>c(d.id)},d.id))})]})})]})}function VB(){const{getAuthToken:t}=Qo(),[e,n]=x.useState(""),[s,o]=x.useState(""),[l,c]=x.useState(""),[d,h]=x.useState([]),[f,p]=x.useState([]),[m,y]=x.useState({headerTitle:"",headerDescription:""}),[w,b]=x.useState(null),[j,k]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const C=t();if(console.log(" Token:",C?"exists":"null"),!C){be.error(" .  .");return}const O=await(await fetch(`https://${Ve}.supabase.co/functions/v1/server/admin/categories`,{headers:{Authorization:`Bearer ${C}`}})).json();if(console.log(" Categories response:",O),O.categories){const L=O.categories.filter(B=>B.enabled);console.log(" Enabled categories:",L),h(L),L.length>0&&o(L[0].name)}}catch(C){console.error("Error loading categories:",C)}})()},[t]);const N=async()=>{if(!e.trim()){be.error("Title .");return}if(!s){be.error("Category .");return}if(f.length===0){be.error("   .");return}const E=t();if(!E){be.error(" .  .");return}k(!0);try{const C=await fetch(`https://${Ve}.supabase.co/functions/v1/server/admin/shared-vocabularies`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({title:e,category:s,description:l,words:f})});if(!C.ok){const A=await C.json();throw new Error(A.error||"  .")}be.success("  !"),n(""),c(""),p([]),y({headerTitle:"",headerDescription:""})}catch(C){console.error("Failed to save shared vocabulary:",C),be.error(C?.message||"    .")}finally{k(!1)}};return r.jsxs("div",{className:"p-8 space-y-6 overflow-auto",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-xl font-semibold text-[#491B6D]",children:"  "}),r.jsx("p",{className:"text-sm text-gray-500",children:"    ."})]}),r.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Title *"}),r.jsx("input",{type:"text",value:e,onChange:E=>{n(E.target.value),y(C=>({...C,headerTitle:E.target.value}))},placeholder:": JEJE   100",className:"w-full px-3 py-2 border rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Category *"}),r.jsxs("select",{value:s,onChange:E=>o(E.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[r.jsx("option",{value:"",children:" "}),d.map(E=>r.jsxs("option",{value:E.name,children:[E.icon," ",E.name]},E.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Description"}),r.jsx("textarea",{value:l,onChange:E=>c(E.target.value),placeholder:"  ",className:"w-full px-3 py-2 border rounded-lg h-24"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-[#491B6D]",children:"  & AI "}),r.jsx("p",{className:"text-sm text-gray-500",children:"CSV ,  , AI    ."})]})}),r.jsx(IB,{fullscreen:!0,data:f,headerInfo:m,onHeaderChange:y,onChange:p,getAuthToken:t,hideHeaderFields:!0,onSave:(E,C)=>{p(E),C&&b(C),be.success(`${E.length}  .`)}})]}),w&&r.jsxs("div",{className:"bg-[#F4EEFF] border border-[#E0D4FF] rounded-2xl p-4 text-sm text-gray-600",children:["  AI      ",w.inputTokens.toLocaleString()," /  ",w.outputTokens.toLocaleString()]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:N,disabled:j,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-[#491B6D] to-[#5E2278] text-white font-semibold shadow-lg disabled:opacity-50",children:j?" ...":"  "})})]})}function UB(){const{getAuthToken:t}=Qo(),[e,n]=x.useState([]),[s,o]=x.useState(!0);x.useEffect(()=>{l()},[]);const l=async()=>{try{const d=t();if(!d)return;o(!0);const f=await(await fetch(`https://${Ve}.supabase.co/functions/v1/server/admin/users`,{headers:{Authorization:`Bearer ${d}`}})).json();f.users&&n(f.users)}catch(d){console.error("Error loading users:",d)}finally{o(!1)}},c=async(d,h,f)=>{const p=t();if(p)try{await fetch(`https://${Ve}.supabase.co/functions/v1/server/admin/users/${d}/permissions`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({role:h,permissions:f})}),await l()}catch(m){console.error("Error updating permissions:",m),alert("  ")}};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl mb-2",style:{fontWeight:700,color:"#491B6D"},children:"User Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage users and their permissions"})]}),r.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:s?r.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"User"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Role"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Stats"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Last Active"}),r.jsx("th",{className:"px-6 py-4 text-right text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(d=>r.jsx(GB,{user:d,onUpdatePermissions:c},d.id))})]})})]})}function HB(){const{getAuthToken:t}=Qo(),[e,n]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState({name:"",icon:""}),[d,h]=x.useState(null),[f,p]=x.useState(""),[m,y]=x.useState(""),[w,b]=x.useState(null),[j,k]=x.useState([]),[N,E]=x.useState(!1),[C,A]=x.useState(null),[O,L]=x.useState(""),[B,R]=x.useState(""),[z,X]=x.useState("");x.useEffect(()=>{ae()},[]);const ae=async()=>{try{const W=t();if(!W)return;o(!0);const I=await(await fetch(`https://${Ve}.supabase.co/functions/v1/server/admin/categories`,{headers:{Authorization:`Bearer ${W}`}})).json();I.categories&&n(I.categories)}catch(W){console.error("Error loading categories:",W)}finally{o(!1)}},K=async()=>{if(!l.name.trim()){alert("  .");return}const W=t();if(W)try{await fetch(`https://${Ve}.supabase.co/functions/v1/server/admin/categories`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`},body:JSON.stringify({id:l.name.toLowerCase().replace(/\s+/g,"_"),name:l.name,icon:l.icon,enabled:!0})}),await ae(),c({name:"",icon:""})}catch(se){console.error("Error adding category:",se),alert("  ")}},te=W=>{h(W.id),p(W.name),y(W.icon)},ee=async W=>{if(!f.trim()){alert("  .");return}const se=t();if(se)try{const I=e.map(U=>U.id===W?{...U,name:f,icon:m}:U);await fetch(`https://${Ve}.supabase.co/functions/v1/server/admin/categories`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`},body:JSON.stringify({categories:I})}),await ae(),h(null)}catch(I){console.error("Error updating category:",I),alert("  ")}},re=()=>{h(null),p(""),y("")},J=async(W,se)=>{const I=t();if(I)try{const U=e.map(H=>H.id===W?{...H,enabled:!se}:H);await fetch(`https://${Ve}.supabase.co/functions/v1/server/admin/categories`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},body:JSON.stringify({categories:U})}),await ae()}catch(U){console.error("Error toggling category:",U),alert("  ")}},M=async W=>{if(!confirm("   ?"))return;const se=t();if(se)try{await fetch(`https://${Ve}.supabase.co/functions/v1/server/admin/categories/${W}`,{method:"DELETE",headers:{Authorization:`Bearer ${se}`}}),await ae()}catch(I){console.error("Error deleting category:",I),alert("  ")}},T=async W=>{const se=t();if(se){E(!0);try{const U=await(await fetch(`https://${Ve}.supabase.co/functions/v1/server/admin/shared-vocabularies`,{headers:{Authorization:`Bearer ${se}`}})).json();if(U.vocabularies){const H=U.vocabularies.filter(Z=>Z.category===W);k(H)}}catch(I){console.error("Error loading vocabularies:",I)}finally{E(!1)}}},F=async(W,se)=>{w===W?(b(null),k([])):(b(W),await T(se))},q=W=>{A(W.id),L(W.title),R(W.category),X(W.description||"")},D=async W=>{const se=t();if(se)try{await fetch(`https://${Ve}.supabase.co/functions/v1/server/admin/shared-vocabularies/${W}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`},body:JSON.stringify({title:O,category:B,description:z})}),be.success(" ."),A(null);const I=e.find(U=>U.id===w);I&&await T(I.name)}catch(I){console.error("Error updating vocabulary:",I),be.error("  ")}},V=async W=>{if(!confirm("   ?    ."))return;const se=t();if(se)try{await fetch(`https://${Ve}.supabase.co/functions/v1/server/admin/shared-vocabularies/${W}`,{method:"DELETE",headers:{Authorization:`Bearer ${se}`}}),be.success(" .");const I=e.find(U=>U.id===w);I&&await T(I.name)}catch(I){console.error("Error deleting vocabulary:",I),be.error("  ")}};return r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl mb-2",style:{fontWeight:700,color:"#491B6D"},children:"Category Management"}),r.jsx("p",{className:"text-gray-600",children:"  (   )"})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200 mb-6",children:[r.jsx("h3",{className:"mb-4",style:{fontSize:"16px",fontWeight:600,color:"#491B6D"},children:"Add New Category"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("input",{type:"text",value:l.name,onChange:W=>c({...l,name:W.target.value}),placeholder:"Category Name",className:"flex-1 px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#8B5CF6]/30"}),r.jsx("input",{type:"text",value:l.icon,onChange:W=>c({...l,icon:W.target.value}),placeholder:"Icon (emoji)",className:"w-24 px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#8B5CF6]/30 text-center"}),r.jsxs(P.button,{whileTap:{scale:.95},onClick:K,className:"px-6 py-3 bg-[#491B6D] text-white rounded-xl flex items-center gap-2",children:[r.jsx(Fo,{className:"w-5 h-5"}),r.jsx("span",{style:{fontWeight:600},children:"Add"})]})]})]}),r.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:s?r.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):r.jsx("div",{className:"divide-y divide-gray-200",children:e.map(W=>r.jsxs("div",{children:[r.jsx("div",{className:"p-6 flex items-center justify-between",children:d===W.id?r.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[r.jsx("input",{type:"text",value:m,onChange:se=>y(se.target.value),className:"w-16 px-3 py-2 rounded-lg border border-gray-300 text-center text-2xl"}),r.jsx("input",{type:"text",value:f,onChange:se=>p(se.target.value),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#8B5CF6]/30",style:{fontWeight:600,color:"#491B6D"}}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(P.button,{whileTap:{scale:.95},onClick:()=>ee(W.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg flex items-center gap-2",children:[r.jsx(wP,{className:"w-4 h-4"}),"Save"]}),r.jsx(P.button,{whileTap:{scale:.95},onClick:re,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg",children:"Cancel"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-4 cursor-pointer flex-1",onClick:()=>F(W.id,W.name),children:[r.jsx("div",{className:"text-3xl",children:W.icon}),r.jsxs("div",{children:[r.jsx("div",{style:{fontWeight:600,color:"#491B6D"},children:W.name}),r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",W.id]})]}),r.jsx(yr,{className:`w-5 h-5 text-gray-400 transition-transform ${w===W.id?"rotate-180":""}`})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(P.button,{whileTap:{scale:.95},onClick:()=>te(W),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",children:r.jsx(Wv,{className:"w-4 h-4 text-blue-600"})}),r.jsx(P.button,{whileTap:{scale:.95},onClick:()=>J(W.id,W.enabled),className:`px-4 py-2 rounded-lg transition-colors ${W.enabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:W.enabled?"Enabled":"Disabled"}),r.jsx(P.button,{whileTap:{scale:.95},onClick:()=>M(W.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(ol,{className:"w-4 h-4 text-red-500"})})]})]})}),w===W.id&&r.jsx("div",{className:"bg-gray-50 border-t border-gray-200 p-4",children:N?r.jsx("div",{className:"text-center py-4 text-gray-500",children:" ..."}):j.length===0?r.jsx("div",{className:"text-center py-4 text-gray-500",children:"   ."}):r.jsx("div",{className:"space-y-3",children:j.map(se=>r.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:C===se.id?r.jsxs("div",{className:"space-y-3",children:[r.jsx("input",{type:"text",value:O,onChange:I=>L(I.target.value),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg"}),r.jsx("select",{value:B,onChange:I=>R(I.target.value),className:"w-full px-3 py-2 border rounded-lg",children:e.map(I=>r.jsxs("option",{value:I.name,children:[I.icon," ",I.name]},I.id))}),r.jsx("textarea",{value:z,onChange:I=>X(I.target.value),placeholder:"",className:"w-full px-3 py-2 border rounded-lg h-20"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>D(se.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm",children:""}),r.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 bg-gray-200 rounded-lg text-sm",children:""})]})]}):r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-[#491B6D]",children:se.title}),r.jsxs("div",{className:"text-sm text-gray-500",children:[se.total_words||0,"   ",se.description||" "]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>q(se),className:"p-2 hover:bg-blue-50 rounded-lg",children:r.jsx(Wv,{className:"w-4 h-4 text-blue-600"})}),r.jsx("button",{onClick:()=>V(se.id),className:"p-2 hover:bg-red-50 rounded-lg",children:r.jsx(ol,{className:"w-4 h-4 text-red-500"})})]})]})},se.id))})})]},W.id))})})]})})}function ad({icon:t,label:e,value:n,change:s,positive:o,color:l}){return r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:`${l}20`,color:l},children:t}),r.jsx("span",{className:`text-sm ${o?"text-green-600":"text-red-600"}`,style:{fontWeight:600},children:s})]}),r.jsx("div",{className:"text-2xl mb-1",style:{fontWeight:700,color:"#491B6D"},children:n}),r.jsx("div",{className:"text-sm text-gray-600",children:e})]})}function Ia({label:t,percentage:e,color:n}){return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-700",style:{fontWeight:600},children:t}),r.jsxs("span",{className:"text-sm text-gray-600",children:[e,"%"]})]}),r.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${e}%`,backgroundColor:n}})})]})}function qB({title:t,category:e,level:n,words:s,downloads:o,onDelete:l}){return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900",style:{fontWeight:600},children:t})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"px-3 py-1 rounded-full text-xs bg-[#8B5CF6]/10 text-[#8B5CF6]",style:{fontWeight:600},children:e})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-sm text-gray-600",children:n})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-sm text-gray-600",children:s.toLocaleString()})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-sm text-gray-600",children:o.toLocaleString()})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"flex items-center justify-end gap-2",children:r.jsx(P.button,{whileTap:{scale:.95},onClick:l,className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(ol,{className:"w-4 h-4 text-red-500"})})})})]})}function GB({user:t,onUpdatePermissions:e}){const[n,s]=x.useState(!1),[o,l]=x.useState(t.role),c=()=>{e(t.id,o,t.permissions),s(!1)};return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm",style:{fontWeight:600,color:"#491B6D"},children:t.name}),r.jsx("div",{className:"text-xs text-gray-500",children:t.email})]})}),r.jsx("td",{className:"px-6 py-4",children:n?r.jsxs("select",{value:o,onChange:d=>l(d.target.value),className:"px-3 py-1 rounded-lg border border-gray-300 text-sm",children:[r.jsx("option",{value:"user",children:"User"}),r.jsx("option",{value:"admin",children:"Admin"})]}):r.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${t.role==="admin"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,style:{fontWeight:600},children:t.role})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[r.jsxs("div",{children:[": ",t.stats?.vocabulariesCreated||0]}),r.jsxs("div",{children:[": ",t.stats?.quizzesCompleted||0]}),r.jsxs("div",{children:["XP: ",t.stats?.xp||0]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-sm text-gray-600",children:new Date(t.lastActive).toLocaleDateString()})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"flex items-center justify-end gap-2",children:n?r.jsxs(r.Fragment,{children:[r.jsx(P.button,{whileTap:{scale:.95},onClick:c,className:"p-2 hover:bg-green-50 rounded-lg transition-colors",children:r.jsx(Rn,{className:"w-4 h-4 text-green-600"})}),r.jsx(P.button,{whileTap:{scale:.95},onClick:()=>{s(!1),l(t.role)},className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(Zm,{className:"w-4 h-4 text-red-500"})})]}):r.jsx(P.button,{whileTap:{scale:.95},onClick:()=>s(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(_P,{className:"w-4 h-4 text-gray-600"})})})})]})}function KB({onBack:t,onHomeClick:e}){const[n,s]=x.useState(new Date),[o,l]=x.useState(null);x.useEffect(()=>{window.scrollTo(0,0)},[]);const c=[{id:1,name:"",department:"",deadline:"2025.09.15",color:"#491B6D"},{id:2,name:"",department:"",deadline:"2025.09.20",color:"#5B21B6"},{id:3,name:"",department:"",deadline:"2025.09.25",color:"#7C3AED"}],[d,h]=x.useState(!1),[f,p]=x.useState(!1),[m,y]=x.useState(!1),[w,b]=x.useState(!1),[j,k]=x.useState(null),N=new Date,E=["","","","","","",""],C=n.getFullYear(),A=n.getMonth(),O=new Date(C,A,1).getDay(),L=new Date(C,A+1,0).getDate(),B=["1","2","3","4","5","6","7","8","9","10","11","12"],R=Array.from({length:O},(M,T)=>T),z=Array.from({length:L},(M,T)=>T+1),X=[{date:15,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:17,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:18,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:18,month:8,year:2025,title:"",subtitle:"",color:"#F59E0B"},{date:19,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:19,month:8,year:2025,title:"",subtitle:"",color:"#F59E0B"},{date:20,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:20,month:8,year:2025,title:"",subtitle:"",color:"#F59E0B"},{date:21,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:22,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:22,month:8,year:2025,title:"",subtitle:"",color:"#8B5CF6"},{date:23,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:23,month:8,year:2025,title:"",subtitle:"",color:"#8B5CF6"},{date:24,month:8,year:2025,title:"",subtitle:"",color:"#8B5CF6"},{date:25,month:8,year:2025,title:"",subtitle:"1",color:"#6366F1"},{date:25,month:8,year:2025,title:"",subtitle:"",color:"#8B5CF6"},{date:26,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:27,month:8,year:2025,title:"",subtitle:"1",color:"#6366F1"},{date:27,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:28,month:8,year:2025,title:"",subtitle:"1",color:"#6366F1"}],ae=M=>X.filter(T=>T.date===M&&T.month===A&&T.year===C),K=M=>{l({date:M,month:A,year:C})},te=()=>{s(new Date(C,A-1,1)),l(null)},ee=()=>{s(new Date(C,A+1,1)),l(null)},re=()=>o?X.filter(M=>M.date===o.date&&M.month===o.month&&M.year===o.year):[],J=()=>{if(!j)return null;const M=new Date;M.setHours(0,0,0,0);const T=new Date(j.date);return T.setHours(0,0,0,0),Math.ceil((T.getTime()-M.getTime())/(1e3*60*60*24))};return r.jsxs("div",{className:"min-h-screen pb-24",style:{background:"transparent"},children:[r.jsx("div",{className:"relative p-6",style:{background:"transparent"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(P.button,{whileTap:{scale:.95},onClick:t,className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"white",boxShadow:"0 4px 12px rgba(73, 27, 109, 0.15)"},children:r.jsx(Ep,{className:"w-5 h-5",style:{color:"#491B6D"}})}),r.jsx("h1",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"20px",color:"#491B6D"},children:"  Calendar"}),e&&r.jsx(P.button,{whileTap:{scale:.95},onClick:e,className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"white",boxShadow:"0 4px 12px rgba(73, 27, 109, 0.15)"},children:r.jsx(Di,{className:"w-5 h-5",style:{color:"#491B6D"}})})]})}),r.jsxs("div",{className:"px-6 space-y-6",children:[r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-6 backdrop-blur-lg rounded-3xl border",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)",borderColor:"rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px -8px rgba(73, 27, 109, 0.2)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:[C," ",B[A]]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(P.button,{whileTap:{scale:.95},onClick:te,className:"w-9 h-9 flex items-center justify-center rounded-xl",style:{background:"rgba(73, 27, 109, 0.1)"},children:r.jsx(Ep,{className:"w-5 h-5",style:{color:"#491B6D"}})}),r.jsx(P.button,{whileTap:{scale:.95},onClick:ee,className:"w-9 h-9 flex items-center justify-center rounded-xl",style:{background:"rgba(73, 27, 109, 0.1)"},children:r.jsx(Ms,{className:"w-5 h-5",style:{color:"#491B6D"}})})]})]}),r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-3",children:E.map((M,T)=>r.jsx("div",{className:"text-center py-2",style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"11px",color:T===0?"#EF4444":T===6?"#3B82F6":"#6B7280"},children:M},T))}),r.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[R.map((M,T)=>r.jsx("div",{className:"aspect-square"},`empty-${T}`)),z.map(M=>{const T=ae(M),F=M===N.getDate()&&A===N.getMonth()&&C===N.getFullYear(),q=o?.date===M&&o?.month===A&&o?.year===C;return r.jsxs(P.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:M*.005,type:"spring",stiffness:400},whileTap:{scale:.9},onClick:()=>K(M),className:"aspect-square rounded-lg flex flex-col items-center justify-center relative p-1",style:{background:F?"linear-gradient(135deg, #A78BFA 0%, #8B5CF6 100%)":q?"rgba(73, 27, 109, 0.15)":T.length>0?"rgba(73, 27, 109, 0.05)":"transparent",border:q?"2px solid #491B6D":"none"},children:[r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:F?700:500,fontSize:"13px",color:F?"#FFFFFF":"#491B6D"},children:M}),T.length>0&&r.jsx("div",{className:"flex gap-0.5 mt-0.5 flex-wrap justify-center",children:T.slice(0,2).map((D,V)=>r.jsx("div",{className:"w-1 h-1 rounded-full",style:{background:D.color}},V))})]},M)})]})]}),r.jsx(Ze,{children:o&&re().length>0&&r.jsxs(P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"p-6 backdrop-blur-lg rounded-3xl border overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)",borderColor:"rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px -8px rgba(73, 27, 109, 0.2)"},children:[r.jsxs("div",{className:"mb-4 pb-3 border-b flex items-center justify-between",style:{borderColor:"rgba(73, 27, 109, 0.1)"},children:[r.jsxs("div",{children:[r.jsxs("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:[C," ",B[A]," ",o.date,""]}),r.jsxs("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#8B5CF6"},children:[re().length," "]})]}),r.jsx(P.button,{whileTap:{scale:.95},onClick:()=>l(null),className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"rgba(73, 27, 109, 0.1)"},children:r.jsx(Bn,{className:"w-4 h-4",style:{color:"#491B6D"}})})]}),r.jsx("div",{className:"space-y-3",children:re().map((M,T)=>r.jsxs(P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:T*.05},className:"p-4 rounded-2xl border flex items-start gap-3",style:{background:"rgba(255, 255, 255, 0.8)",borderColor:M.color,borderWidth:"2px"},children:[r.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${M.color}15`},children:r.jsx(Oo,{className:"w-5 h-5",style:{color:M.color}})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:M.title}),r.jsx("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:M.subtitle})]})]},T))})]})}),r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"p-6 backdrop-blur-lg rounded-3xl border",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)",borderColor:"rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px -8px rgba(73, 27, 109, 0.2)"},children:[r.jsx("h3",{className:"mb-4",style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:"   "}),r.jsx("div",{className:"space-y-3 mb-4",children:c.map((M,T)=>r.jsx(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+T*.1},className:"p-4 rounded-2xl border",style:{background:"rgba(255, 255, 255, 0.6)",borderColor:"rgba(73, 27, 109, 0.1)"},children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:M.color}}),r.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:M.name})]}),r.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:400,fontSize:"13px",color:"#6B7280"},children:M.department}),r.jsxs("p",{className:"mt-2",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"12px",color:"#F59E0B"},children:[": ",M.deadline]})]}),r.jsx(P.button,{whileTap:{scale:.95},onClick:()=>{setUniversities(c.filter(F=>F.id!==M.id))},className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"rgba(239, 68, 68, 0.1)"},children:r.jsx(Bn,{className:"w-4 h-4",style:{color:"#EF4444"}})})]})},M.id))}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsxs(P.button,{whileTap:{scale:.95},onClick:()=>h(!0),className:"py-3 px-3 rounded-xl flex items-center justify-center gap-1.5",style:{background:"linear-gradient(135deg, #A78BFA 0%, #8B5CF6 100%)",boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)"},children:[r.jsx(Fo,{className:"w-4 h-4",style:{color:"#FFFFFF"}}),r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#FFFFFF"},children:""})]}),r.jsxs(P.button,{whileTap:{scale:.95},onClick:()=>p(!0),className:"py-3 px-3 rounded-xl flex items-center justify-center gap-1.5",style:{background:"linear-gradient(135deg, #FCD34D 0%, #F59E0B 100%)",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)"},children:[r.jsx(tg,{className:"w-4 h-4",style:{color:"#FFFFFF"}}),r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#FFFFFF"},children:""})]}),r.jsxs(P.button,{whileTap:{scale:.95},onClick:()=>y(!0),className:"py-3 px-3 rounded-xl flex items-center justify-center gap-1.5",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[r.jsx(_p,{className:"w-4 h-4",style:{color:"#FFFFFF"}}),r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#FFFFFF"},children:""})]})]})]}),r.jsx(P.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15,duration:.5},whileTap:{scale:.98},onClick:()=>b(!0),className:"w-full p-6 backdrop-blur-lg rounded-3xl border cursor-pointer",style:{background:j?`linear-gradient(135deg, ${j.color}15 0%, ${j.color}05 100%)`:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)",borderColor:j?.color||"rgba(255, 255, 255, 0.3)",boxShadow:`0 8px 32px -8px ${j?.color||"rgba(73, 27, 109, 0.2)"}40`},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center",style:{background:j?`${j.color}20`:"rgba(73, 27, 109, 0.1)"},children:r.jsx(Pn,{className:"w-8 h-8",style:{color:j?.color||"#491B6D"}})}),r.jsx("div",{className:"flex-1 text-left",children:j?r.jsxs(r.Fragment,{children:[r.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:j.name}),r.jsxs("h3",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:800,fontSize:"32px",color:j.color,lineHeight:"1"},children:["D-",J()]})]}):r.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:"D-Day "})})]}),r.jsx(Ms,{className:"w-6 h-6",style:{color:"#6B7280"}})]})})]}),d&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)"},children:r.jsxs(P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md p-6 rounded-3xl",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:" "}),r.jsx(P.button,{whileTap:{scale:.95},onClick:()=>h(!1),children:r.jsx(Bn,{className:"w-6 h-6",style:{color:"#491B6D"}})})]}),r.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:400,fontSize:"14px",color:"#6B7280"},children:"    ! "})]})}),f&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)"},children:r.jsxs(P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md p-6 rounded-3xl",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:"  "}),r.jsx(P.button,{whileTap:{scale:.95},onClick:()=>p(!1),children:r.jsx(Bn,{className:"w-6 h-6",style:{color:"#491B6D"}})})]}),r.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:400,fontSize:"14px",color:"#6B7280"},children:"    ! "})]})}),m&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)"},children:r.jsxs(P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md rounded-3xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxHeight:"80vh"},children:[r.jsx("div",{className:"p-6 border-b",style:{borderColor:"rgba(73, 27, 109, 0.1)"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:" "}),r.jsx(P.button,{whileTap:{scale:.95},onClick:()=>y(!1),children:r.jsx(Bn,{className:"w-6 h-6",style:{color:"#491B6D"}})})]})}),r.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(80vh - 100px)"},children:r.jsx("div",{className:"space-y-4",children:c.map(M=>r.jsx(P.div,{whileTap:{scale:.98},className:"p-5 rounded-2xl border cursor-pointer",style:{background:"rgba(255, 255, 255, 0.8)",borderColor:M.color,borderWidth:"2px"},children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${M.color}20`},children:r.jsx(_p,{className:"w-6 h-6",style:{color:M.color}})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"16px",color:"#491B6D"},children:M.name}),r.jsx("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:M.department}),r.jsxs("div",{className:"mt-3 space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"11px",color:"#8B5CF6"},children:""}),r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"11px",color:"#6B7280"},children:M.deadline})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"11px",color:"#8B5CF6"},children:""}),r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"11px",color:"#6B7280"},children:", , "})]})]}),r.jsx(P.button,{whileTap:{scale:.95},className:"mt-4 w-full py-2 px-4 rounded-lg",style:{background:M.color,boxShadow:`0 4px 12px ${M.color}40`},children:r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#FFFFFF"},children:" PDF "})})]})]})},M.id))})})]})}),w&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)"},children:r.jsxs(P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md rounded-3xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxHeight:"80vh"},children:[r.jsx("div",{className:"p-6 border-b",style:{borderColor:"rgba(73, 27, 109, 0.1)"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:"D-Day "}),r.jsx("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:400,fontSize:"13px",color:"#6B7280"},children:"  "})]}),r.jsx(P.button,{whileTap:{scale:.95},onClick:()=>b(!1),children:r.jsx(Bn,{className:"w-6 h-6",style:{color:"#491B6D"}})})]})}),r.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(80vh - 100px)"},children:r.jsxs("div",{className:"space-y-3",children:[c.map(M=>{const T=new Date(M.deadline),F=j?.name===`${M.name} `;return r.jsx(P.button,{whileTap:{scale:.98},onClick:()=>{k({name:`${M.name} `,date:T,color:M.color}),b(!1)},className:"w-full p-5 rounded-2xl border text-left",style:{background:F?`${M.color}15`:"rgba(255, 255, 255, 0.8)",borderColor:F?M.color:"rgba(73, 27, 109, 0.1)",borderWidth:F?"2px":"1px"},children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${M.color}20`},children:r.jsx(bl,{className:"w-6 h-6",style:{color:M.color}})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:M.name}),r.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:" "}),r.jsx("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"12px",color:M.color},children:M.deadline})]}),F&&r.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{background:M.color},children:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:3,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})]})},M.id)}),r.jsxs("div",{className:"flex items-center gap-3 py-2",children:[r.jsx("div",{className:"flex-1 h-px",style:{background:"rgba(73, 27, 109, 0.1)"}}),r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"12px",color:"#6B7280"},children:""}),r.jsx("div",{className:"flex-1 h-px",style:{background:"rgba(73, 27, 109, 0.1)"}})]}),r.jsx(P.button,{whileTap:{scale:.98},className:"w-full p-5 rounded-2xl border",style:{background:"rgba(139, 92, 246, 0.05)",borderColor:"rgba(139, 92, 246, 0.2)",borderStyle:"dashed",borderWidth:"2px"},children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:"rgba(139, 92, 246, 0.15)"},children:r.jsx(Fo,{className:"w-6 h-6",style:{color:"#8B5CF6"}})}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:"  "}),r.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:"  "})]})]})})]})})]})})]})}const YB={},cb=t=>{let e;const n=new Set,s=(p,m)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const w=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(b=>b(e,w))}},o=()=>e,h={setState:s,getState:o,getInitialState:()=>f,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(YB?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=e=t(s,o,h);return h},JB=t=>t?cb(t):cb;var Qf={exports:{}},Xf={},Zf={exports:{}},ep={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function QB(){if(db)return ep;db=1;var t=hl();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,o=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function d(m,y){var w=y(),b=s({inst:{value:w,getSnapshot:y}}),j=b[0].inst,k=b[1];return l(function(){j.value=w,j.getSnapshot=y,h(j)&&k({inst:j})},[m,w,y]),o(function(){return h(j)&&k({inst:j}),m(function(){h(j)&&k({inst:j})})},[m]),c(w),w}function h(m){var y=m.getSnapshot;m=m.value;try{var w=y();return!n(m,w)}catch{return!0}}function f(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return ep.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,ep}var ub;function XB(){return ub||(ub=1,Zf.exports=QB()),Zf.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function ZB(){if(hb)return Xf;hb=1;var t=hl(),e=XB();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var s=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,l=t.useRef,c=t.useEffect,d=t.useMemo,h=t.useDebugValue;return Xf.useSyncExternalStoreWithSelector=function(f,p,m,y,w){var b=l(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=d(function(){function N(L){if(!E){if(E=!0,C=L,L=y(L),w!==void 0&&j.hasValue){var B=j.value;if(w(B,L))return A=B}return A=L}if(B=A,s(C,L))return B;var R=y(L);return w!==void 0&&w(B,R)?(C=L,B):(C=L,A=R)}var E=!1,C,A,O=m===void 0?null:m;return[function(){return N(p())},O===null?void 0:function(){return N(O())}]},[p,m,y,w]);var k=o(f,b[0],b[1]);return c(function(){j.hasValue=!0,j.value=k},[k]),h(k),k},Xf}var fb;function e9(){return fb||(fb=1,Qf.exports=ZB()),Qf.exports}var t9=e9();const n9=Hd(t9),MN={},{useDebugValue:r9}=ge,{useSyncExternalStoreWithSelector:s9}=n9;let pb=!1;const i9=t=>t;function o9(t,e=i9,n){(MN?"production":void 0)!=="production"&&n&&!pb&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),pb=!0);const s=s9(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return r9(s),s}const mb=t=>{(MN?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?JB(t):t,n=(s,o)=>o9(e,s,o);return Object.assign(n,e),n},a9=t=>t?mb(t):mb,gb={starredWords:[],graveyardWords:[],wrongAnswersWords:[],myVocabularies:[],isLoading:!1,hasLoaded:!1},Jr=async(t,e,n={})=>{const s=t?.();if(!s)throw new Error("  .  .");const o=await fetch(`https://${Ve}.supabase.co/functions/v1/server${e}`,{...n,headers:{Authorization:`Bearer ${s}`,...n.headers}});let l=null;const c=await o.text();if(c)try{l=JSON.parse(c)}catch(d){console.error(" Failed to parse response JSON:",d,c),l={error:c}}if(!o.ok){const d=l?.message||l?.error||" ";throw new Error(d)}return l},l9=a9((t,e)=>({...gb,loadWordLists:async n=>{if(!n?.()){console.log(" Skipping word lists load - no auth token");return}if(!(e().isLoading||e().hasLoaded)){t({isLoading:!0});try{const[o,l,c,d]=await Promise.all([Jr(n,"/starred"),Jr(n,"/graveyard"),Jr(n,"/wrong-answers"),Jr(n,"/my-vocabularies")]);t({starredWords:o?.words?.map(h=>h.id)||[],graveyardWords:l?.words?.map(h=>h.id)||[],wrongAnswersWords:c?.words?.map(h=>h.id)||[],myVocabularies:d?.vocabularies||[],hasLoaded:!0})}catch(o){console.error(" Failed to load word lists:",o)}finally{t({isLoading:!1})}}},toggleStarred:async(n,s)=>{if(!n?.()){console.warn(" Cannot toggle starred without auth token");return}const l=e().starredWords.includes(s);t(c=>({starredWords:l?c.starredWords.filter(d=>d!==s):[...c.starredWords,s]}));try{await Jr(n,`/starred/${s}`,{method:l?"DELETE":"POST",headers:{"Content-Type":"application/json"}})}catch(c){console.error(" Error toggling starred:",c),t(d=>({starredWords:l?[...d.starredWords,s]:d.starredWords.filter(h=>h!==s)}))}},moveToGraveyard:async(n,s)=>{if(!n?.()){console.warn(" Cannot move to graveyard without auth token");return}const l={graveyardWords:e().graveyardWords,starredWords:e().starredWords,wrongAnswersWords:e().wrongAnswersWords};t(c=>({graveyardWords:c.graveyardWords.includes(s)?c.graveyardWords:[...c.graveyardWords,s],starredWords:c.starredWords.filter(d=>d!==s),wrongAnswersWords:c.wrongAnswersWords.filter(d=>d!==s)}));try{await Jr(n,`/graveyard/${s}`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(c){console.error(" Error moving to graveyard:",c),t({graveyardWords:l.graveyardWords,starredWords:l.starredWords,wrongAnswersWords:l.wrongAnswersWords})}},deletePermanently:async(n,s)=>{if(!n?.()){console.warn(" Cannot delete from graveyard without auth token");return}const l={graveyardWords:e().graveyardWords,starredWords:e().starredWords,wrongAnswersWords:e().wrongAnswersWords};t(c=>({graveyardWords:c.graveyardWords.filter(d=>d!==s),starredWords:c.starredWords.filter(d=>d!==s),wrongAnswersWords:c.wrongAnswersWords.filter(d=>d!==s)}));try{await Jr(n,`/graveyard/${s}`,{method:"DELETE"})}catch(c){console.error(" Error deleting word permanently:",c),t({graveyardWords:l.graveyardWords,starredWords:l.starredWords,wrongAnswersWords:l.wrongAnswersWords})}},addWrongAnswer:async(n,s)=>{if(!n?.()){console.warn(" Cannot track wrong answer without auth token");return}if(!e().wrongAnswersWords.includes(s)){t(l=>({wrongAnswersWords:[...l.wrongAnswersWords,s]}));try{await Jr(n,`/wrong-answers/${s}`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(l){console.error(" Error adding wrong answer:",l),t(c=>({wrongAnswersWords:c.wrongAnswersWords.filter(d=>d!==s)}))}}},refreshMyVocabularies:async n=>{if(!n?.()){console.warn(" Cannot refresh vocabularies without auth token");return}try{const o=await Jr(n,"/my-vocabularies");t({myVocabularies:o?.vocabularies||[]})}catch(o){console.error(" Error refreshing vocabularies:",o)}},reset:()=>{t(gb)}}));function c9(t){const{starredWords:e,graveyardWords:n,wrongAnswersWords:s,myVocabularies:o,isLoading:l,loadWordLists:c,toggleStarred:d,moveToGraveyard:h,deletePermanently:f,addWrongAnswer:p,refreshMyVocabularies:m,reset:y}=l9(),w=x.useCallback(()=>c(t),[c,t]),b=x.useCallback(C=>d(t,C),[d,t]),j=x.useCallback(C=>h(t,C),[h,t]),k=x.useCallback(C=>f(t,C),[f,t]),N=x.useCallback(C=>p(t,C),[p,t]),E=x.useCallback(()=>m(t),[m,t]);return{starredWords:e,graveyardWords:n,wrongAnswersWords:s,myVocabularies:o,isLoading:l,loadWordLists:w,toggleStarred:b,moveToGraveyard:j,deletePermanently:k,addWrongAnswer:N,refreshMyVocabularies:E,resetStore:y}}function d9(t){const[e,n]=x.useState(0),s=x.useRef(null),o=()=>{s.current&&clearTimeout(s.current);const c=e+1;n(c),c>=5?(n(0),t.onAdminAccess&&t.onAdminAccess()):s.current=setTimeout(()=>{n(0)},2e3)},l=()=>{if(!t.ddayInfo)return null;const c=new Date;c.setHours(0,0,0,0);const d=new Date(t.ddayInfo.date);d.setHours(0,0,0,0);const h=Math.ceil((d.getTime()-c.getTime())/(1e3*60*60*24));return Math.abs(h)};return r.jsxs("div",{className:"relative px-7 pt-6 pb-5 overflow-hidden",style:{background:"transparent"},children:[r.jsx("div",{className:"absolute top-0 left-0 w-40 h-40 rounded-full opacity-20 blur-3xl",style:{background:"radial-gradient(circle, rgba(139, 92, 246, 0.3) 0%, transparent 70%)",transform:"translate(-20%, -20%)"}}),r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 rounded-full opacity-15 blur-3xl",style:{background:"radial-gradient(circle, rgba(167, 139, 250, 0.3) 0%, transparent 70%)",transform:"translate(20%, -20%)"}}),r.jsxs("div",{className:"relative flex items-center justify-between",children:[r.jsxs(P.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{duration:.6,ease:[.16,1,.3,1]},className:"flex flex-col gap-0",children:[r.jsxs("div",{style:{fontFamily:"Inter, -apple-system, sans-serif",fontSize:"36px",letterSpacing:"-1.6px",filter:"drop-shadow(0 2px 4px rgba(9, 26, 122, 0.15))"},onClick:o,children:[r.jsx("span",{style:{fontWeight:800,color:"#091A7A"},children:"JEJE"}),r.jsx("span",{style:{fontWeight:500,color:"#091A7A"},children:"VOCA"})]}),r.jsx(P.span,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},transition:{delay:.15,duration:.5},style:{fontFamily:"Inter, -apple-system, sans-serif",fontSize:"9px",fontWeight:600,color:"#4B5563",letterSpacing:"0.5px"},children:"BETA 3.0"})]}),r.jsxs(P.div,{initial:{opacity:0,x:15},animate:{opacity:1,x:0},transition:{duration:.6,ease:[.16,1,.3,1]},className:"flex items-center gap-3",children:[r.jsxs(P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1,duration:.5},className:"flex flex-col items-end gap-1",children:[r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontSize:"12px",fontWeight:600,color:"#491B6D"},children:""}),r.jsx(P.span,{animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},style:{fontSize:"13px"},children:""})]}),t.ddayInfo&&r.jsx(P.button,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},whileTap:{scale:.95},onClick:t.onDdayClick,className:"relative group",children:r.jsxs("div",{className:"px-4 py-1.5 rounded-full relative overflow-hidden",style:{background:"linear-gradient(135deg, #491B6D 0%, #7C3AED 100%)",boxShadow:"0 6px 20px rgba(73, 27, 109, 0.4), 0 2px 8px rgba(124, 58, 237, 0.3)"},children:[r.jsx(P.div,{className:"absolute inset-0",animate:{x:["-100%","100%"]},transition:{duration:3,repeat:1/0,repeatDelay:2,ease:"easeInOut"},style:{background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent)"}}),r.jsxs("span",{className:"relative",style:{fontFamily:"Lexend, sans-serif",fontSize:"17px",fontWeight:900,color:"white",letterSpacing:"0.5px",textShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"},children:["D-",l()]})]})})]}),r.jsx(P.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},whileTap:{scale:.9},className:"w-12 h-12 rounded-full flex items-center justify-center border-none",style:{background:"white",boxShadow:"0 10px 25px -5px rgba(9, 26, 122, 0.3), 0 8px 10px -6px rgba(9, 26, 122, 0.2)",cursor:"pointer"},onClick:t.onLogout,children:r.jsx(nP,{className:"w-5 h-5",style:{color:"#091A7A"}})})]})]})]})}const u9="/assets/d591fc627aa5b7799a1427ce1ddf2818333b2abf-DlciBEN6.png",h9="/assets/58e118d790296ac36e08d84dc8b8f99cdbd1d5bf-BOVzN0Jf.png";function f9(){return r.jsx(P.img,{src:h9,alt:"Star",width:64,height:64,className:"w-16 h-16 object-contain",whileTap:{scale:.95}})}const p9="/assets/2826bb0f82e8ee44cdcabe4b9b093d546b513206-CY4s6HfL.png";function m9(){return r.jsx(P.img,{src:p9,alt:"Skull",width:64,height:64,className:"w-16 h-16 object-contain",whileTap:{scale:.95}})}function g9({onSubjectClick:t,starredCount:e=0,graveyardCount:n=0,wrongAnswersCount:s=0}){const o=[{id:"starred",name:" ",description:"",progress:0,icon:r.jsx(f9,{}),color:"from-[#091A7A] to-[#FCD34D]",count:e},{id:"graveyard",name:" ",description:"",progress:0,icon:r.jsx(m9,{}),color:"from-[#091A7A] to-[#6B7280]",count:n},{id:"wrong-answers",name:" ",description:"",progress:0,icon:r.jsx(rN,{src:u9,alt:"Wrong Answers Icon",className:"w-10 h-10"}),color:"from-[#091A7A] to-[#EF4444]",count:s}];return r.jsxs("div",{className:"relative mx-6 mb-6",children:[r.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden -inset-8",children:[r.jsx(P.div,{className:"absolute top-16 left-4 w-1.5 h-1.5 bg-gradient-to-br from-[#ADC8FF]/40 to-[#091A7A]/20 rounded-full blur-sm",animate:{y:[0,-25,0],x:[0,15,0],scale:[.4,1.2,.4],opacity:[.2,.7,.2]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:.5}}),r.jsx(P.div,{className:"absolute top-32 right-8 w-1 h-1 bg-gradient-to-br from-[#091A7A]/30 to-[#ADC8FF]/40 rounded-full blur-sm",animate:{y:[0,-18,0],x:[0,-12,0],scale:[.3,.9,.3],opacity:[.3,.6,.3]},transition:{duration:9,repeat:1/0,ease:"easeInOut",delay:2}}),r.jsx(P.div,{className:"absolute bottom-20 left-16 w-0.5 h-0.5 bg-gradient-to-br from-[#ADC8FF]/50 to-[#091A7A]/10 rounded-full blur-sm",animate:{y:[0,-30,0],x:[0,20,0],scale:[.5,1.5,.5],opacity:[.4,.8,.4]},transition:{duration:15,repeat:1/0,ease:"easeInOut",delay:4}}),r.jsx(P.div,{className:"absolute top-24 right-2 w-2 h-2 bg-gradient-to-br from-yellow-300/30 to-orange-300/20 rounded-full blur-sm",animate:{y:[0,-22,0],x:[0,-8,0],scale:[.2,1,.2],opacity:[.2,.5,.2],rotate:[0,180,360]},transition:{duration:11,repeat:1/0,ease:"easeInOut",delay:6}})]}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:o.map((l,c)=>r.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7+c*.1,duration:.5},whileTap:{scale:.95},onClick:()=>t(l),className:"relative flex-1 cursor-pointer",children:r.jsxs("div",{className:"relative p-2.5 backdrop-blur-lg border rounded-full overflow-visible group",style:{width:"95px",height:"95px",background:l.id==="starred"?"linear-gradient(135deg, rgba(254, 252, 232, 0.95) 0%, rgba(254, 249, 195, 0.9) 100%)":l.id==="graveyard"?"linear-gradient(135deg, rgba(249, 250, 251, 0.95) 0%, rgba(243, 244, 246, 0.9) 100%)":l.id==="wrong-answers"?"linear-gradient(135deg, rgba(254, 242, 242, 0.95) 0%, rgba(254, 226, 226, 0.9) 100%)":"linear-gradient(135deg, rgba(173, 200, 255, 0.9) 0%, rgba(173, 200, 255, 0.7) 100%)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",borderColor:"rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px -8px rgba(9, 26, 122, 0.2)"},children:[r.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center gap-2",children:[r.jsx(P.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.9+c*.1,duration:.4,type:"spring",stiffness:200},className:"absolute min-w-[24px] h-[24px] px-2 flex items-center justify-center rounded-full",style:{top:"2px",right:"-6px",background:l.id==="starred"?"linear-gradient(135deg, #FCD34D 0%, #F59E0B 100%)":l.id==="graveyard"?"linear-gradient(135deg, #9CA3AF 0%, #6B7280 100%)":"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},children:r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"11px",lineHeight:"14px",color:"#FFFFFF"},children:l.count})}),l.icon&&r.jsx(P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:.9,y:[0,-4,0]},transition:{scale:{delay:.8+c*.15,duration:.5,type:"spring"},opacity:{delay:.8+c*.15,duration:.5},y:{duration:4+c*.5,repeat:1/0,ease:"easeInOut",delay:1+c*.3}},className:"w-10 h-10 flex items-center justify-center",style:{filter:"drop-shadow(0 4px 12px rgba(9, 26, 122, 0.12))"},children:l.icon}),r.jsx("div",{children:r.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"10px",lineHeight:"14px",color:"#091A7A"},children:l.name})})]}),r.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-full",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 50%, transparent 100%)"}})]})},l.id))})]})}const x9="/assets/a89a6ef3f88fd2857fdad1d76f0f4ad72a96dff2-DsW-fqgf.png";function y9(){return r.jsx("div",{className:"relative size-full","data-name":"Icons",children:r.jsx("div",{className:"absolute bg-center bg-cover bg-no-repeat inset-0","data-name":"ChatGPT Image Sep 6, 2025, 06_15_01 PM 1",style:{backgroundImage:`url('${x9}')`}})})}function v9({illustrationImage:t,onStartQuiz:e,currentProgress:n=40,totalQuizzesCompleted:s=0}){const[o,l]=x.useState(n),[c,d]=x.useState(n);x.useEffect(()=>{if(n!==o){const m=o,w=(n-m)/30;let b=0;const j=setInterval(()=>{b++;const k=m+w*b;d(Math.round(k)),b>=30&&(clearInterval(j),d(n),l(n))},1500/30);return()=>clearInterval(j)}},[n]);const h=()=>c>=80?"  !       !":c>=60?" !     .":c>=40?"       !":`  !   ${c}%  .`;return r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"relative",children:[r.jsxs(P.div,{initial:{opacity:0,scale:.8,y:20,rotate:-10},animate:{opacity:.95,scale:1,rotate:0,y:[0,-12,0],x:[0,4,0],rotateY:[0,5,0]},transition:{opacity:{delay:.6,duration:.8},scale:{delay:.6,duration:.8,type:"spring",stiffness:200},rotate:{delay:.6,duration:.8},y:{duration:7,repeat:1/0,ease:"easeInOut",delay:1.2},x:{duration:9,repeat:1/0,ease:"easeInOut",delay:.8},rotateY:{duration:12,repeat:1/0,ease:"easeInOut",delay:2}},className:"absolute -top-6 right-2 opacity-95 z-50 pointer-events-none",style:{width:"85px",height:"85px",filter:"drop-shadow(0 8px 20px rgba(9, 26, 122, 0.25))",transformStyle:"preserve-3d"},children:[r.jsx(y9,{}),r.jsx(P.div,{className:"absolute -top-3 -left-3 w-2 h-2 bg-yellow-400/60 rounded-full",animate:{scale:[0,1.2,0],opacity:[0,.8,0],rotate:[0,180,360],x:[0,6,0],y:[0,-4,0]},transition:{duration:4,repeat:1/0,delay:2.5,ease:"easeInOut"}}),r.jsx(P.div,{className:"absolute -bottom-2 -right-3 w-1.5 h-1.5 bg-cyan-400/70 rounded-full",animate:{scale:[0,1,0],opacity:[0,.9,0],x:[0,-5,0],y:[0,3,0]},transition:{duration:3.5,repeat:1/0,delay:3.8,ease:"easeInOut"}}),r.jsx(P.div,{className:"absolute top-2 right-2 w-1 h-1 bg-purple-400/50 rounded-full",animate:{scale:[0,.8,0],opacity:[0,.6,0],x:[0,-3,0],y:[0,6,0]},transition:{duration:5,repeat:1/0,delay:5.2,ease:"easeInOut"}}),r.jsx(P.div,{className:"absolute top-4 left-1 w-0.5 h-0.5 bg-pink-400/60 rounded-full",animate:{scale:[0,1.5,0],opacity:[0,.7,0],x:[0,4,0],y:[0,-8,0]},transition:{duration:6,repeat:1/0,delay:1.8,ease:"easeInOut"}})]}),r.jsxs(P.div,{whileTap:{scale:.98},onClick:e,className:"relative p-6 bg-card-glass backdrop-blur-lg rounded-[20px] border border-white/20 shadow-card overflow-hidden cursor-pointer",style:{background:"rgba(249, 250, 251, 0.8)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",boxShadow:"0 2px 8px 0 rgba(0, 0, 0, 0.08)",position:"relative",minHeight:"160px"},children:[r.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-center",children:[r.jsx(P.h3,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.4},style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#091A7A",lineHeight:"1.3",marginBottom:"12px"},children:"  "}),r.jsx(P.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.5},style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"14px",color:"#6B7280",lineHeight:"1.5",maxWidth:"calc(100% - 64px)"},children:h()})]}),r.jsx(P.button,{whileTap:{scale:.9},onClick:f=>{f.stopPropagation(),e()},className:"absolute bottom-4 right-4 w-12 h-12 bg-white rounded-full shadow-interactive border-none cursor-pointer flex items-center justify-center z-15",style:{boxShadow:"0 10px 25px -5px rgba(9, 26, 122, 0.3), 0 8px 10px -6px rgba(9, 26, 122, 0.2)"},children:r.jsx(Ej,{className:"w-6 h-6",style:{color:"#091A7A"}})}),r.jsx(P.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-4 right-4 w-12 h-12 pointer-events-none rounded-full z-14",style:{background:"rgba(173, 200, 255, 0.3)"}}),r.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 50%, transparent 100%)",borderRadius:"20px"}})]})]})}function w9({onClick:t}){const n=[{id:"mon",label:"M"},{id:"tue",label:"T"},{id:"wed",label:"W"},{id:"thu",label:"T"},{id:"fri",label:"F"},{id:"sat",label:"S"},{id:"sun",label:"S"}],s=[{id:"date-1",date:1},{id:"date-2",date:2},{id:"date-3",date:3},{id:"date-4",date:4},{id:"date-5",date:5},{id:"date-6",date:6},{id:"date-7",date:7}];return r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},onClick:t,whileTap:{scale:.98},className:"p-6 bg-white/95 backdrop-blur-xl rounded-[24px] shadow-lg border border-gray-100 cursor-pointer",children:[r.jsxs("div",{className:"flex items-center justify-between mb-5",children:[r.jsx("h3",{className:"text-[18px] font-bold text-[#091A7A]",children:"  "}),r.jsx("span",{className:"text-[12px] text-gray-500 font-medium",children:"September 2025"})]}),r.jsxs("div",{className:"grid grid-cols-7 gap-3",children:[n.map(o=>r.jsx("div",{className:"text-center text-[11px] text-gray-400 font-semibold uppercase tracking-wide py-1",children:o.label},o.id)),s.map((o,l)=>r.jsx(P.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.6+l*.05,type:"spring",stiffness:400,damping:15},whileHover:{scale:1.1},whileTap:{scale:.95},className:`aspect-square flex items-center justify-center rounded-full text-[12px] font-medium transition-all duration-200 ${o.date===3?"bg-[#ADC8FF] text-[#091A7A] shadow-md":"text-gray-500 hover:bg-gray-50"}`,children:o.date},o.id))]})]})}const b9="data:image/svg+xml,%3Csvg%20preserveAspectRatio%3D%22none%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20overflow%3D%22visible%22%20style%3D%22display%3A%20block%3B%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20id%3D%22home-01%22%3E%0A%3Cpath%20id%3D%22Vector%22%20d%3D%22M3%2011.9896V14.5C3%2017.7998%203%2019.4497%204.02513%2020.4749C5.05025%2021.5%206.70017%2021.5%2010%2021.5H14C17.2998%2021.5%2018.9497%2021.5%2019.9749%2020.4749C21%2019.4497%2021%2017.7998%2021%2014.5V11.9896C21%2010.3083%2021%209.46773%2020.6441%208.74005C20.2882%208.01237%2019.6247%207.49628%2018.2976%206.46411L16.2976%204.90855C14.2331%203.30285%2013.2009%202.5%2012%202.5C10.7991%202.5%209.76689%203.30285%207.70242%204.90855L5.70241%206.46411C4.37533%207.49628%203.71179%208.01237%203.3559%208.74005C3%209.46773%203%2010.3083%203%2011.9896Z%22%20stroke%3D%22var(--stroke-0%2C%20white)%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%3Cpath%20id%3D%22Vector_2%22%20d%3D%22M15.0002%2017C14.2007%2017.6224%2013.1504%2018%2012.0002%2018C10.8499%2018%209.79971%2017.6224%209.00018%2017%22%20stroke%3D%22var(--stroke-0%2C%20white)%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A";function j9({src:t,active:e,IconComponent:n,isEmoji:s,emojiText:o}){return s&&o?r.jsx("div",{className:"relative w-6 h-6 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:o})}):n?r.jsx("div",{className:"relative w-6 h-6 flex items-center justify-center",children:r.jsx(n,{className:`w-5 h-5 transition-all duration-300 ${e?"text-purple-600":"text-white"}`,strokeWidth:2})}):r.jsx("div",{className:"relative w-6 h-6 flex items-center justify-center",children:r.jsx("img",{className:`w-full h-full object-contain transition-all duration-300 ${e?"brightness-0":"brightness-0 invert"}`,src:t,alt:""})})}function S9({currentScreen:t,onScreenChange:e}){const n=[{icon:b9,screen:"home",active:t==="home"},{IconComponent:Cd,screen:"gift",active:t==="gift"},{IconComponent:rn,screen:"vocabulary-creator",active:t==="vocabulary-creator"},{IconComponent:Cp,screen:"ai",active:t==="ai"},{IconComponent:Ij,screen:"text-extractor",active:t==="text-extractor"}],s=[10,70,130,190,250],o=[10,70,130,190,250],l=()=>{switch(t){case"home":return 0;case"gift":return 1;case"vocabulary-creator":return 2;case"ai":return 3;case"text-extractor":return 4;default:return 0}};return r.jsx(P.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:1,duration:.6,ease:"easeOut"},className:"fixed bottom-6 left-4 right-4 z-50",children:r.jsxs("div",{className:"bg-[#091A7A]/95 backdrop-blur-lg relative rounded-[50px] mx-auto shadow-elevated border border-white/20",style:{width:"320px",height:"80px"},children:[r.jsx(P.div,{className:"absolute bg-white rounded-full shadow-interactive",style:{width:"60px",height:"60px",top:"10px"},animate:{left:`${o[l()]}px`},transition:{duration:.3,ease:"easeInOut"}}),r.jsx("div",{className:"absolute inset-0",children:n.map((c,d)=>r.jsx(P.button,{whileTap:{scale:.95},onClick:()=>e(c.screen),className:"absolute z-10 flex items-center justify-center rounded-full transition-all duration-200",style:{left:`${s[d]}px`,width:"60px",height:"60px",top:"10px"},children:r.jsx(j9,{src:c.icon,IconComponent:c.IconComponent,active:c.active,isEmoji:c.isEmoji,emojiText:c.emojiText})},d))})]})})}const go=[{id:1,question:"What is 15  8?",options:["110","120","130","140"],correctAnswer:1},{id:2,question:"Which planet is known as the Red Planet?",options:["Venus","Mars","Jupiter","Saturn"],correctAnswer:1},{id:3,question:"What is the capital of Australia?",options:["Sydney","Melbourne","Canberra","Perth"],correctAnswer:2}];function N9({onBack:t,onXPGain:e,onStreakIncrease:n}){const[s,o]=x.useState(0),[l,c]=x.useState(null),[d,h]=x.useState(!1),[f,p]=x.useState(0),[m,y]=x.useState(30),[w,b]=x.useState(!1),j=go[s];x.useEffect(()=>{if(d||w)return;const C=setInterval(()=>{y(A=>A<=1?(h(!0),0):A-1)},1e3);return()=>clearInterval(C)},[s,d,w]),x.useEffect(()=>{if(d&&m===0){const C=setTimeout(()=>{N()},2e3);return()=>clearTimeout(C)}},[d,m]);const k=C=>{d||c(C)},N=()=>{if(l===j.correctAnswer&&p(C=>C+1),h(!1),c(null),s<go.length-1)o(C=>C+1),y(30);else{b(!0);const C=f*50+(l===j.correctAnswer?50:0);e(C),f>=2&&n()}},E=()=>{l!==null&&h(!0)};return w?r.jsxs("div",{className:"p-6 h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[r.jsx(P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"w-12 h-12 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/50",children:r.jsx(Ir,{className:"w-5 h-5 text-[#091A7A]"})}),r.jsx("h1",{className:"text-2xl font-bold text-[#091A7A]",children:"Quiz Complete!"})]}),r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-8",children:[r.jsx(P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-32 h-32 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full flex items-center justify-center shadow-xl",children:r.jsx(Mr,{className:"w-16 h-16 text-white",fill:"currentColor"})}),r.jsxs("div",{className:"text-center space-y-4",children:[r.jsxs("h2",{className:"text-3xl font-bold text-[#091A7A]",children:[f,"/3"]}),r.jsx("p",{className:"text-lg text-[#091A7A]/70",children:"Great job!"}),r.jsx("div",{className:"px-6 py-3 bg-gradient-to-r from-green-100 to-green-50 rounded-2xl border border-green-200",children:r.jsxs("p",{className:"text-green-700 font-semibold",children:["+",f*50," XP Earned!"]})})]}),r.jsx(P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"w-full py-4 bg-gradient-to-r from-[#091A7A] to-[#1a2b8a] text-white font-semibold rounded-2xl shadow-lg",children:"Continue Learning"})]})]}):r.jsxs("div",{className:"p-6 h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsx(P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"w-12 h-12 bg-card-glass backdrop-blur-lg rounded-full flex items-center justify-center shadow-card border border-white/20 animate-button",children:r.jsx(Ir,{className:"w-5 h-5 text-[#091A7A]"})}),r.jsxs(P.div,{animate:{scale:m<=5?[1,1.1,1]:1,backgroundColor:m<=5?["rgba(255,255,255,0.9)","rgba(239,68,68,0.2)","rgba(255,255,255,0.9)"]:"rgba(255,255,255,0.9)"},transition:{duration:m<=5?.5:0,repeat:m<=5?1/0:0},className:"flex items-center gap-2 px-4 py-2 bg-card-glass backdrop-blur-lg rounded-[50px] border border-white/20",children:[r.jsx(Oo,{className:`w-4 h-4 ${m<=5?"text-[#EF4444]":"text-[#091A7A]"}`}),r.jsxs("span",{className:`text-small font-medium ${m<=5?"text-[#EF4444]":"text-[#091A7A]"}`,children:[m,"s"]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between text-small text-[#6B7280] mb-3",children:[r.jsxs("span",{children:["Question ",s+1," of ",go.length]}),r.jsxs("span",{className:"font-medium text-[#091A7A]",children:[Math.round(s/go.length*100),"%"]})]}),r.jsx("div",{className:"h-3 bg-white/40 rounded-[50px] overflow-hidden border border-white/20",children:r.jsx(P.div,{initial:{width:0},animate:{width:`${(s+1)/go.length*100}%`},className:"h-full bg-gradient-to-r from-[#091A7A] to-[#3B82F6] rounded-[50px]"})})]}),r.jsxs("div",{className:"flex-1 space-y-6",children:[r.jsxs(P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"p-6 bg-white/80 backdrop-blur-sm rounded-3xl border border-white/60 shadow-lg",children:[r.jsx("h2",{className:"text-xl font-bold text-[#091A7A] mb-6",children:j.question}),r.jsx("div",{className:"space-y-3",children:j.options.map((C,A)=>r.jsx(P.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>k(A),className:`w-full p-4 text-left rounded-2xl border-2 transition-all ${l===A?d?A===j.correctAnswer?"bg-green-100 border-green-300 text-green-800":"bg-red-100 border-red-300 text-red-800":"bg-[#ADC8FF]/30 border-[#091A7A] text-[#091A7A]":d&&A===j.correctAnswer?"bg-green-100 border-green-300 text-green-800":"bg-white/60 border-white/40 text-[#091A7A] hover:bg-[#ADC8FF]/20"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium",children:C}),d&&r.jsxs(r.Fragment,{children:[A===j.correctAnswer&&r.jsx(Rn,{className:"w-5 h-5 text-green-600"}),l===A&&A!==j.correctAnswer&&r.jsx(Zm,{className:"w-5 h-5 text-red-600"})]})]})},A))})]},s),r.jsx(P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d?N:E,disabled:l===null&&!d,className:`w-full py-4 font-semibold rounded-full shadow-lg transition-all text-center ${l===null&&!d?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-[#091A7A] to-[#1a2b8a] text-white"}`,children:d?s<go.length-1?"Next Question":"Finish Quiz":"Submit Answer"})]})]})}const k9="modulepreload",C9=function(t){return"/"+t},xb={},Gs=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");o=c(n.map(f=>{if(f=C9(f),f in xb)return;xb[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":k9,p||(y.as="script"),y.crossOrigin="",y.href=f,h&&y.setAttribute("nonce",h),document.head.appendChild(y),p)return new Promise((w,b)=>{y.addEventListener("load",w),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},E9=x.lazy(()=>Gs(()=>Promise.resolve().then(()=>u$),[]).then(t=>({default:t.VocabularyCard}))),_9=x.lazy(()=>Gs(()=>Promise.resolve().then(()=>m$),void 0).then(t=>({default:t.VocabularyTable}))),A9=x.lazy(()=>Gs(()=>Promise.resolve().then(()=>g$),void 0).then(t=>({default:t.VocabularyTableSimple}))),T9=x.lazy(()=>Gs(()=>Promise.resolve().then(()=>x$),void 0).then(t=>({default:t.VocabularyTestSimple}))),P9=x.lazy(()=>Gs(()=>Promise.resolve().then(()=>y$),void 0).then(t=>({default:t.VocabularyTestSynonym}))),R9=x.lazy(()=>Gs(()=>Promise.resolve().then(()=>v$),void 0).then(t=>({default:t.VocabularyTestSynonymAnswer}))),D9=x.lazy(()=>Gs(()=>Promise.resolve().then(()=>f$),void 0).then(t=>({default:t.A4PageLayout}))),O9=x.lazy(()=>Gs(()=>Promise.resolve().then(()=>h$),void 0).then(t=>({default:t.HeaderFooter}))),yb=[{id:"card",title:"",description:", ,   ",icon:Rj},{id:"table",title:" ",description:"     ",icon:Bj},{id:"simple",title:" ",description:"   ",icon:Mj},{id:"quiz-simple",title:" ",description:"   ",icon:rn},{id:"quiz-synonym",title:" ",description:"  ",icon:Oj},{id:"quiz-synonym-answer",title:" ",description:"   ",icon:Tj}],om=t=>{if(!t)return[];if(Array.isArray(t))return t.map(e=>typeof e=="string"?e:typeof e=="object"&&e!==null?e.word:"").map(e=>(e||"").trim()).filter(Boolean);if(typeof t=="string"){try{const e=JSON.parse(t);if(Array.isArray(e))return om(e)}catch{}return t.split(/[\n,]+/).map(e=>e.trim()).filter(Boolean)}return[]},am=t=>{if(!t)return[];if(Array.isArray(t))return t.map(e=>{if(typeof e=="string"){const[n,s]=e.split(":").map(o=>o.trim());return{word:n,meaning:s||""}}return typeof e=="object"&&e!==null?{word:String(e.word||"").trim(),meaning:String(e.meaning||"").trim()}:{word:"",meaning:""}}).filter(e=>e.word);if(typeof t=="string"){try{const e=JSON.parse(t);if(Array.isArray(e))return am(e)}catch{}return t.split(/[,;]/).map(e=>{const[n,s]=e.split(":").map(o=>o.trim());return{word:n,meaning:s||""}}).filter(e=>e.word)}return typeof t=="object"?am([t]):[]},F9=t=>(t||[]).map((e,n)=>{const s=e||{},o=String(s.word||s.term||"").trim();return o?{id:n+1,word:o,pronunciation:s.pronunciation||"",partOfSpeech:s.partOfSpeech||s.part_of_speech||"",meaning:s.meaning||s.translation||"",definition:s.definition||"",synonyms:om(s.synonyms),antonyms:om(s.antonyms),derivatives:am(s.derivatives),example:s.example||s.example_sentence||"",translation:s.translation||"",translationHighlight:s.translationHighlight||s.translation_highlight||"",etymology:s.etymology||""}:null}).filter(Boolean),I9=`
@media screen {
  #pdf-print-layout {
    display: none;
  }
}

@media print {
  body {
    margin: 0 !important;
    background: #fff !important;
  }
  .pdf-print-overlay {
    display: none !important;
  }
  #pdf-print-layout {
    display: block !important;
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
  }
}
`;function M9({onBack:t,vocabularyId:e,vocabularyTitle:n,words:s,hideHeader:o=!1}){const[l,c]=x.useState("card"),d=x.useMemo(()=>F9(s||[]),[s]),h=x.useMemo(()=>({headerTitle:n||"AI Vocabulary",headerDescription:d.length?`${d.length.toLocaleString()} `:"",footerLeft:new Date().toLocaleDateString("ko-KR")}),[n,d.length]),f=()=>d.length?r.jsxs(x.Suspense,{fallback:r.jsx("div",{className:"py-16 text-center text-gray-400 text-sm",children:"  ..."}),children:[l==="card"&&r.jsx(D9,{headerContent:r.jsx(O9,{headerInfo:h,showFooter:!0}),showHeaderOnFirstPageOnly:!0,children:d.map(m=>r.jsx(E9,{...m},m.id))}),l==="table"&&r.jsx(_9,{data:d,headerInfo:h}),l==="simple"&&r.jsx(A9,{data:d,headerInfo:h}),l==="quiz-simple"&&r.jsx(T9,{data:d,headerInfo:h}),l==="quiz-synonym"&&r.jsx(P9,{data:d,headerInfo:h}),l==="quiz-synonym-answer"&&r.jsx(R9,{data:d,headerInfo:h})]}):null,p=()=>{if(!d.length){alert("  .");return}window.print()};return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:I9}}),r.jsxs("div",{className:"h-full flex flex-col pdf-print-overlay pdf-print-root",children:[!o&&r.jsx(Sl,{onBack:t,title:"PDF ",subtitle:"  "}),r.jsxs("main",{className:`flex-1 overflow-y-auto scrollbar-hide px-4 ${o?"pt-2 pb-6":"pt-4 pb-28"} space-y-6`,children:[!o&&r.jsxs("section",{className:"max-w-4xl mx-auto bg-white/90 backdrop-blur-lg rounded-2xl border border-white/50 shadow-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-500",children:" "}),r.jsx("p",{className:"text-xl font-bold text-[#091A7A]",children:n||"  "}),r.jsx("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-400 mt-2",children:r.jsxs("span",{children:[d.length.toLocaleString()," "]})})]}),r.jsx("section",{className:"max-w-4xl mx-auto",children:r.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:yb.map(m=>{const y=m.icon,w=l===m.id;return r.jsx(P.button,{whileTap:{scale:.98},onClick:()=>c(m.id),className:`w-full p-4 bg-white/90 backdrop-blur-lg rounded-2xl border-2 shadow-lg transition-all text-left ${w?"border-[#491B6D] shadow-xl":"border-white/40"}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center ${w?"bg-[#491B6D] text-white":"bg-[#F3E8FF] text-[#7C3AED]"}`,children:r.jsx(y,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:`mb-1 ${w?"text-[#491B6D]":"text-[#091A7A]"}`,style:{fontSize:"16px",fontWeight:600},children:m.title}),r.jsx("p",{className:"text-[#6B7280]",style:{fontSize:"13px",fontWeight:400},children:m.description})]})]})},m.id)})})}),r.jsx("section",{className:"max-w-4xl mx-auto",children:r.jsxs(P.button,{whileTap:{scale:.98},onClick:p,disabled:!d.length,className:`w-full py-4 rounded-2xl shadow-xl flex items-center justify-center gap-2 ${d.length===0?"bg-gray-300 opacity-50 cursor-not-allowed text-white":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] text-white"}`,children:[r.jsx(mP,{className:"w-5 h-5"}),r.jsx("span",{className:"text-white",style:{fontSize:"16px",fontWeight:600},children:d.length===0?"  ":`${yb.find(m=>m.id===l)?.title} `})]})})]})]}),r.jsx("div",{id:"pdf-print-layout",className:"pdf-print-root",children:d.length?f():null})]})}function L9({words:t,mode:e,onComplete:n,onWrongAnswer:s}){const[o,l]=x.useState([]),[c,d]=x.useState([]),[h,f]=x.useState(null),[p,m]=x.useState(null),[y,w]=x.useState(new Set),[b,j]=x.useState(null),[k,N]=x.useState(0),[E,C]=x.useState(0);x.useEffect(()=>{A()},[t,e]);const A=()=>{const z=[...t].sort(()=>Math.random()-.5).slice(0,5),X=ae=>{const K=[...ae];for(let te=K.length-1;te>0;te--){const ee=Math.floor(Math.random()*(te+1));[K[te],K[ee]]=[K[ee],K[te]]}return K};if(e==="word-to-meaning"){const ae=z.map((te,ee)=>({id:`left-${ee}`,content:te.word,type:"left",matched:!1,wordId:te.id})),K=X(z.map((te,ee)=>({id:`right-${ee}`,content:te.meaning,type:"right",matched:!1,wordId:te.id})));l(ae),d(K)}else{const ae=z.map((te,ee)=>({id:`left-${ee}`,content:te.meaning,type:"left",matched:!1,wordId:te.id})),K=X(z.map((te,ee)=>({id:`right-${ee}`,content:te.word,type:"right",matched:!1,wordId:te.id})));l(ae),d(K)}w(new Set),f(null),m(null),N(0),C(0)},O=R=>{R.matched||(R.type==="left"?f(h===R.id?null:R.id):m(p===R.id?null:R.id))};x.useEffect(()=>{h&&p&&L()},[h,p]);const L=()=>{const R=o.find(X=>X.id===h),z=c.find(X=>X.id===p);if(!(!R||!z))if(C(X=>X+1),R.wordId===z.wordId){const X=new Set(y);X.add(R.id),X.add(z.id),w(X),l(ae=>ae.map(K=>K.id===R.id?{...K,matched:!0}:K)),d(ae=>ae.map(K=>K.id===z.id?{...K,matched:!0}:K)),N(ae=>ae+1),f(null),m(null),X.size===o.length*2&&setTimeout(()=>{n(k+1,k+1)},1e3)}else j({left:R.id,right:z.id}),s&&s(R.wordId),setTimeout(()=>{j(null),f(null),m(null)},800)},B=(R,z)=>R.matched?"bg-emerald-50 border-emerald-200 text-emerald-700":b&&(b.left===R.id||b.right===R.id)?"bg-red-50 border-red-200 text-red-700 animate-shake":z?"bg-white border-[#7C3AED] text-[#4C1D95] shadow-card":"bg-white/95 border-white/60 text-[#2E1065]";return r.jsx("div",{className:"h-full bg-transparent overflow-y-auto",children:r.jsxs("div",{className:"max-w-4xl mx-auto w-full px-4 py-6 space-y-5",children:[r.jsx("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl p-5 shadow-card border border-white/60",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] rounded-2xl flex items-center justify-center",children:r.jsx(Pn,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-[#5B21B6]",children:e==="word-to-meaning"?"  ":"  "}),r.jsx("p",{className:"text-xs font-medium text-[#8B5CF6]",children:"   "})]})]}),r.jsxs("div",{className:"md:ml-auto text-right",children:[r.jsxs("div",{className:"text-2xl font-extrabold text-[#5B21B6]",children:[k,"/",o.length]}),r.jsxs("div",{className:"text-xs text-[#8B5CF6]",children:[E," "]})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx("div",{className:"space-y-2",children:o.map(R=>r.jsx(P.button,{whileTap:{scale:R.matched?1:.97},onClick:()=>O(R),disabled:R.matched,className:`w-full min-h-[70px] py-3 px-3 rounded-2xl border transition-all duration-200 text-center shadow-sm ${B(R,h===R.id)}`,style:{touchAction:"manipulation"},children:r.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[r.jsx("span",{className:"text-sm font-semibold text-[#2E1065]",children:R.content}),R.matched&&r.jsx(Rn,{className:"w-4 h-4 text-emerald-600"})]})},R.id))}),r.jsx("div",{className:"space-y-2",children:c.map(R=>r.jsx(P.button,{whileTap:{scale:R.matched?1:.97},onClick:()=>O(R),disabled:R.matched,className:`w-full min-h-[70px] py-3 px-3 rounded-2xl border transition-all duration-200 text-center shadow-sm ${B(R,p===R.id)}`,style:{touchAction:"manipulation"},children:r.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[r.jsx("span",{className:"text-sm font-semibold text-[#2E1065]",children:R.content}),R.matched&&r.jsx(Rn,{className:"w-4 h-4 text-emerald-600"})]})},R.id))})]}),r.jsxs(P.button,{whileTap:{scale:.97},onClick:A,className:"w-full py-3 bg-gradient-to-r from-[#7C3AED] to-[#A78BFA] text-white rounded-2xl flex items-center justify-center gap-2 font-semibold shadow-card",children:[r.jsx(ng,{className:"w-5 h-5"})," "]})]})})}function B9({words:t,mode:e,onComplete:n,onWrongAnswer:s}){const[o,l]=x.useState([]),[c,d]=x.useState(0),[h,f]=x.useState(null),[p,m]=x.useState(!1),[y,w]=x.useState(0),[b,j]=x.useState(0);x.useEffect(()=>{k()},[t,e]);const k=()=>{const O=t.slice(0,Math.min(10,t.length)).map(L=>{const B=t.filter(te=>te.id!==L.id).sort(()=>Math.random()-.5).slice(0,3);let R,z,X;e==="word-to-meaning"?(R=L.word,z=L.meaning,X=B.map(te=>te.meaning)):(R=L.meaning,z=L.word,X=B.map(te=>te.word));const ae=[z,...X].sort(()=>Math.random()-.5),K=ae.indexOf(z);return{id:`q-${L.id}`,prompt:R,wordId:L.id,options:ae,correctAnswer:K}});l(O),d(0),f(null),m(!1),w(0),j(0)},N=A=>{if(p)return;const O=o[c];f(A),m(!0),A===O.correctAnswer?(w(L=>L+1),j(L=>L+1)):s&&s(O.wordId),setTimeout(()=>{c+1>=o.length?n(y+(A===O.correctAnswer?1:0),b+(A===O.correctAnswer?1:0)):(d(L=>L+1),f(null),m(!1))},1500)};if(o.length===0)return r.jsx("div",{className:"h-full flex items-center justify-center bg-gradient-to-br from-purple-50 via-white to-pink-50",children:r.jsx("div",{className:"text-center",children:r.jsx("p",{style:{color:"#8B5CF6"},children:"Loading questions..."})})});const E=o[c],C=(c+1)/o.length*100;return r.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-purple-50 via-white to-pink-50 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-700 rounded-2xl flex items-center justify-center",children:r.jsx(Pn,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg",style:{fontWeight:700,color:"#491B6D"},children:e==="word-to-meaning"?"  ":"  "}),r.jsx("p",{className:"text-xs",style:{color:"#8B5CF6"},children:" "})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl",style:{fontWeight:800,color:"#491B6D"},children:[c+1,"/",o.length]}),r.jsxs("div",{className:"text-xs",style:{color:"#8B5CF6"},children:[": ",y]})]})]}),r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx(P.div,{initial:{width:0},animate:{width:`${C}%`},className:"h-full bg-gradient-to-r from-purple-500 to-purple-700",transition:{duration:.3}})})}),r.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 text-center",children:r.jsx("div",{className:"inline-block bg-gradient-to-br from-purple-500 to-purple-700 text-white px-8 py-6 rounded-3xl shadow-2xl border-2 border-white/40",children:r.jsx("h3",{className:"text-xl",style:{fontWeight:800},children:E.prompt})})},c),r.jsx("div",{className:"flex-1 space-y-3",children:E.options.map((A,O)=>{const L=h===O,B=O===E.correctAnswer,R=p;let z="bg-white border-purple-200";return R&&B?z="bg-gradient-to-br from-emerald-400 to-emerald-600 border-emerald-300":R&&L&&!B?z="bg-gradient-to-br from-red-400 to-red-600 border-red-300":L&&(z="bg-purple-100 border-purple-400"),r.jsx(P.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:O*.1},whileTap:{scale:p?1:.95},onClick:()=>!p&&N(O),disabled:p,className:`w-full p-5 rounded-2xl border-2 transition-all duration-200 ${z}`,style:{touchAction:"manipulation"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`text-sm flex-1 text-left ${R&&(B||L&&!B)?"text-white":"text-[#491B6D]"}`,style:{fontWeight:600},children:A}),R&&B&&r.jsx(Rn,{className:"w-6 h-6 text-white ml-2 flex-shrink-0"}),R&&L&&!B&&r.jsx(Bn,{className:"w-6 h-6 text-white ml-2 flex-shrink-0"})]})},O)})}),r.jsx(Ze,{children:p&&r.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-4 text-center",children:h===E.correctAnswer?r.jsxs("div",{className:"flex items-center justify-center gap-2 text-emerald-600",children:[r.jsx(rn,{className:"w-5 h-5"}),r.jsx("span",{style:{fontWeight:700},children:"! "})]}):r.jsx("div",{className:"text-red-600",children:r.jsx("span",{style:{fontWeight:700},children:".  !"})})})})]})}function $9({words:t,matchGameType:e,onBack:n,onBackToHome:s,onComplete:o,onWrongAnswer:l,stage:c,journeyName:d,wordCount:h,isStarredVocabulary:f}){const p=e.startsWith("card-match"),m=e==="card-match-word"||e==="quiz-word"?"word-to-meaning":"meaning-to-word",y=f?"#78350F":"#091A7A",w=f?"#D97706":"#7C3AED";return r.jsxs("div",{className:"h-full bg-transparent overflow-y-auto",children:[r.jsx("div",{className:"max-w-4xl mx-auto w-full px-4 py-4 space-y-4",children:r.jsx("div",{className:`rounded-3xl p-4 shadow-card border border-white/40 ${f?"bg-gradient-to-b from-[#FFFBEB]/90 via-[#FEF3C7]/80 to-white/90":"bg-gradient-to-b from-[#E9D5FF]/90 via-[#E0E7FF]/80 to-white/90"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(jr,{onClick:n}),r.jsxs("div",{className:"flex-1 text-center space-y-0.5",children:[r.jsx("h1",{className:"text-lg font-bold",style:{color:y},children:d}),r.jsxs("p",{className:"text-xs font-medium",style:{color:w},children:[h," "]})]}),s?r.jsx("button",{onClick:s,className:"w-10 h-10 bg-white/95 backdrop-blur-xl rounded-full flex items-center justify-center shadow-card border border-white/60",children:r.jsx(Di,{className:"w-5 h-5",style:{color:y}})}):r.jsx("div",{className:"w-10 h-10"})]})})}),r.jsx("div",{className:"max-w-4xl mx-auto w-full px-4 pb-6",children:p?r.jsx(L9,{words:t.slice(0,5),mode:m,onComplete:o,onWrongAnswer:l}):r.jsx(B9,{words:t,mode:m,onComplete:o,onWrongAnswer:l})})]})}function z9({words:t,onComplete:e,onWrongAnswer:n}){const[s,o]=x.useState(!1),[l,c]=x.useState([]),[d,h]=x.useState(0),[f,p]=x.useState(0),[m,y]=x.useState(0),[w,b]=x.useState(null),[j,k]=x.useState(!1),[N]=x.useState(10),[E,C]=x.useState(10),A=x.useRef();x.useEffect(()=>(s&&d<l.length&&O(),()=>{A.current&&clearInterval(A.current)}),[d,s]);const O=()=>{C(N),A.current&&clearInterval(A.current),A.current=setInterval(()=>{C(te=>te<=1?(A.current&&clearInterval(A.current),L(),0):te-1)},1e3)},L=()=>{const te=l[d];n&&te&&n(te.wordId),setTimeout(()=>{d+1>=l.length?X():(h(ee=>ee+1),b(null),k(!1))},500)},B=()=>{const ee=t.slice(0,Math.min(10,t.length)).map(re=>{const J=t.filter(F=>F.id!==re.id).sort(()=>Math.random()-.5).slice(0,3).map(F=>F.meaning),M=[re.meaning,...J].sort(()=>Math.random()-.5),T=M.indexOf(re.meaning);return{id:`q-${re.id}`,word:re.word,wordId:re.id,options:M,correctAnswer:T}});c(ee)},R=()=>{B(),o(!0),h(0),p(0),y(0),b(null),k(!1)},z=te=>{if(j)return;const ee=l[d];if(b(te),k(!0),A.current&&clearInterval(A.current),te===ee.correctAnswer){const re=Math.floor(E*2);p(J=>J+10+re),y(J=>J+1)}else n&&n(ee.wordId);setTimeout(()=>{d+1>=l.length?X():(h(re=>re+1),b(null),k(!1))},1200)},X=()=>{A.current&&clearInterval(A.current),setTimeout(()=>{e(f,m)},500)};if(!s)return r.jsx("div",{className:"h-full flex flex-col items-center justify-center bg-gradient-to-br from-orange-50 via-white to-yellow-50 p-6",children:r.jsxs(P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-orange-500 to-yellow-500 rounded-3xl flex items-center justify-center shadow-2xl",children:r.jsx(Os,{className:"w-12 h-12 text-white"})}),r.jsx("h1",{className:"text-2xl mb-3",style:{fontWeight:800,color:"#491B6D"},children:" "}),r.jsxs("p",{className:"text-sm mb-8",style:{color:"#8B5CF6"},children:["    !",r.jsx("br",{}),"   !"]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 mb-8 space-y-3 text-left max-w-xs mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:r.jsx(Oo,{className:"w-4 h-4 text-orange-500"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:" 10"}),r.jsx("div",{className:"text-xs",style:{color:"#8B5CF6"},children:"   !"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(Pr,{className:"w-4 h-4 text-yellow-500"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:[" ",Math.min(10,t.length),""]}),r.jsx("div",{className:"text-xs",style:{color:"#8B5CF6"},children:" +10 + "})]})]})]}),r.jsx(P.button,{whileTap:{scale:.95},onClick:R,className:"px-12 py-4 bg-gradient-to-r from-orange-500 to-yellow-500 text-white rounded-2xl shadow-xl",children:r.jsx("span",{style:{fontWeight:700},children:" !"})})]})});const ae=l[d];if(!ae)return null;const K=(d+1)/l.length*100;return r.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-orange-50 via-white to-yellow-50 p-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:[" ",d+1,"/",l.length]}),r.jsxs("span",{className:"text-xs",style:{fontWeight:700,color:"#EA580C"},children:[": ",f]})]}),r.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx(P.div,{initial:{width:0},animate:{width:`${K}%`},className:"h-full bg-gradient-to-r from-orange-500 to-yellow-500"})})]}),r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("div",{className:"relative w-20 h-20",children:[r.jsxs("svg",{className:"w-20 h-20 transform -rotate-90",children:[r.jsx("circle",{cx:"40",cy:"40",r:"35",stroke:"#FED7AA",strokeWidth:"6",fill:"none"}),r.jsx(P.circle,{cx:"40",cy:"40",r:"35",stroke:"#EA580C",strokeWidth:"6",fill:"none",strokeDasharray:`${2*Math.PI*35}`,initial:{strokeDashoffset:0},animate:{strokeDashoffset:`${2*Math.PI*35*(1-E/N)}`},transition:{duration:.3}})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("span",{className:"text-xl",style:{fontWeight:800,color:"#EA580C"},children:E})})]})}),r.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 text-center",children:r.jsx("div",{className:"inline-block bg-gradient-to-br from-orange-500 to-yellow-500 text-white px-8 py-4 rounded-3xl shadow-2xl",children:r.jsx("h2",{className:"text-2xl",style:{fontWeight:800},children:ae.word})})},d),r.jsx("div",{className:"flex-1 space-y-3",children:ae.options.map((te,ee)=>{const re=w===ee,J=ee===ae.correctAnswer,M=j;let T="bg-white border-orange-200";return M&&J?T="bg-gradient-to-br from-emerald-400 to-emerald-600 border-emerald-300":M&&re&&!J?T="bg-gradient-to-br from-red-400 to-red-600 border-red-300":re&&(T="bg-orange-100 border-orange-400"),r.jsx(P.button,{whileTap:{scale:j?1:.95},onClick:()=>!j&&z(ee),disabled:j,className:`w-full p-4 rounded-2xl border-2 transition-all duration-200 ${T}`,style:{touchAction:"manipulation"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`text-sm flex-1 text-left ${M&&(J||re&&!J)?"text-white":"text-[#491B6D]"}`,style:{fontWeight:600},children:te}),M&&J&&r.jsx(Rn,{className:"w-5 h-5 text-white ml-2 flex-shrink-0"}),M&&re&&!J&&r.jsx(Bn,{className:"w-5 h-5 text-white ml-2 flex-shrink-0"})]})},ee)})})]})}function W9({words:t,onComplete:e,onWrongAnswer:n}){const[s,o]=x.useState(!1),[l,c]=x.useState([]),[d,h]=x.useState(null),[f,p]=x.useState(3),[m,y]=x.useState(0),[w,b]=x.useState(60),[j,k]=x.useState(0),N=x.useRef(),E=x.useRef();x.useEffect(()=>(s&&(A(),C()),()=>{N.current&&cancelAnimationFrame(N.current),E.current&&clearInterval(E.current)}),[s]),x.useEffect(()=>{(f===0||w===0)&&B()},[f,w]);const C=()=>{E.current=setInterval(()=>{b(z=>z<=1?(E.current&&clearInterval(E.current),0):z-1)},1e3)},A=()=>{O();const z=()=>{h(X=>{if(!X)return X;const ae=X.yPosition+X.speed;return ae>100?(p(K=>K-1),n&&n(X.wordId),setTimeout(()=>O(),500),null):{...X,yPosition:ae}}),N.current=requestAnimationFrame(z)};N.current=requestAnimationFrame(z)},O=()=>{if(t.length===0)return;const z=t[Math.floor(Math.random()*t.length)],X=t.filter(ee=>ee.id!==z.id).sort(()=>Math.random()-.5).slice(0,3).map(ee=>ee.meaning),ae=[z.meaning,...X].sort(()=>Math.random()-.5),K=ae.indexOf(z.meaning),te={id:`word-${Date.now()}`,word:z.word,wordId:z.id,options:ae,correctAnswer:K,yPosition:0,speed:.3+m*.02};h(te)},L=z=>{d&&(z===d.correctAnswer?(y(X=>X+10),k(X=>X+1),h(null),setTimeout(()=>O(),300)):(p(X=>X-1),n&&n(d.wordId),h(null),setTimeout(()=>O(),500)))},B=()=>{N.current&&cancelAnimationFrame(N.current),E.current&&clearInterval(E.current),setTimeout(()=>{e(m,j)},1e3)},R=()=>{o(!0),p(3),y(0),k(0),b(60)};return s?r.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-indigo-50 via-white to-purple-50 relative overflow-hidden",children:[r.jsx("div",{className:"p-4 bg-white/80 backdrop-blur-lg shadow-lg z-20",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex items-center gap-2",children:[...Array(3)].map((z,X)=>r.jsx(Ap,{className:`w-6 h-6 ${X<f?"fill-red-500 text-red-500":"fill-gray-200 text-gray-200"}`},X))}),r.jsxs("div",{className:"flex items-center gap-2 bg-blue-100 px-3 py-1 rounded-full",children:[r.jsx(Vv,{className:"w-4 h-4 text-blue-600"}),r.jsxs("span",{className:"text-sm",style:{fontWeight:700,color:"#1E40AF"},children:[w,"s"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-purple-100 px-4 py-1 rounded-full",children:[r.jsx(Pr,{className:"w-4 h-4 text-purple-600"}),r.jsx("span",{className:"text-sm",style:{fontWeight:700,color:"#6B21A8"},children:m})]})]})}),r.jsx("div",{className:"flex-1 relative",children:r.jsx(Ze,{children:d&&r.jsx(P.div,{initial:{y:-100},style:{top:`${d.yPosition}%`},className:"absolute left-1/2 -translate-x-1/2 z-10",children:r.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-700 text-white px-6 py-3 rounded-2xl shadow-2xl border-2 border-white/40",children:r.jsx("div",{className:"text-xl text-center",style:{fontWeight:800},children:d.word})})},d.id)})}),d&&r.jsx("div",{className:"p-4 space-y-3 bg-white/90 backdrop-blur-lg z-20",children:d.options.map((z,X)=>r.jsx(P.button,{whileTap:{scale:.95},onClick:()=>L(X),className:"w-full p-4 bg-white border-2 border-purple-200 rounded-2xl text-left shadow-lg",style:{touchAction:"manipulation"},children:r.jsx("span",{className:"text-sm",style:{fontWeight:600,color:"#491B6D"},children:z})},X))})]}):r.jsx("div",{className:"h-full flex flex-col items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6",children:r.jsxs(P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-3xl flex items-center justify-center shadow-2xl",children:r.jsx(Os,{className:"w-12 h-12 text-white"})}),r.jsx("h1",{className:"text-2xl mb-3",style:{fontWeight:800,color:"#491B6D"},children:"  "}),r.jsxs("p",{className:"text-sm mb-8",style:{color:"#8B5CF6"},children:["   !",r.jsx("br",{}),"60    !"]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 mb-8 space-y-3 text-left max-w-xs mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Ap,{className:"w-4 h-4 text-red-500"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:": 3"}),r.jsx("div",{className:"text-xs",style:{color:"#8B5CF6"},children:"  -1"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Vv,{className:"w-4 h-4 text-blue-500"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:": 60"}),r.jsx("div",{className:"text-xs",style:{color:"#8B5CF6"},children:"   !"})]})]})]}),r.jsx(P.button,{whileTap:{scale:.95},onClick:R,className:"px-12 py-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-2xl shadow-xl",children:r.jsx("span",{style:{fontWeight:700},children:" !"})})]})})}function V9({words:t,gameType:e,onBack:n,onComplete:s,onWrongAnswer:o}){return r.jsxs("div",{className:"h-full bg-gradient-to-br from-indigo-50 via-white to-purple-50 relative",children:[r.jsx("div",{className:"absolute top-6 left-6 z-30",children:r.jsx(jr,{onClick:n})}),r.jsx("div",{className:"h-full pt-20",children:e==="fall"?r.jsx(W9,{words:t,onComplete:s,onWrongAnswer:o}):r.jsx(z9,{words:t,onComplete:s,onWrongAnswer:o})})]})}function U9({stage:t,currentStageId:e,currentQuestionIndex:n,totalQuestions:s,question:o,selectedAnswers:l,showFeedback:c,lastAnswerCorrect:d,isMultiSelect:h,isSentenceQuestion:f,sentenceTranslationVisible:p,showConfetti:m,ConfettiComponent:y,onBack:w,onBackToHome:b,onAnswerSelect:j,onToggleSentenceTranslation:k,onSubmitAnswer:N,journeyName:E,wordCount:C,isStarredVocabulary:A}){const O=A?"#78350F":"#091A7A",L=A?"#D97706":"#7C3AED";return r.jsxs("div",{className:"h-full bg-transparent overflow-y-auto",children:[m&&r.jsx(y,{}),r.jsxs("div",{className:"max-w-md mx-auto w-full px-4 py-4 space-y-4",children:[r.jsx("div",{className:`rounded-3xl p-4 shadow-card border border-white/40 ${A?"bg-gradient-to-b from-[#FFFBEB]/90 via-[#FEF3C7]/80 to-white/90":"bg-gradient-to-b from-[#E9D5FF]/90 via-[#E0E7FF]/80 to-white/90"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(jr,{onClick:w}),r.jsxs("div",{className:"flex-1 text-center space-y-0.5",children:[r.jsx("h1",{className:"text-lg font-bold",style:{color:O},children:E}),r.jsxs("p",{className:"text-xs font-medium",style:{color:L},children:[C," "]})]}),b?r.jsx(P.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:b,className:"w-10 h-10 bg-white/95 backdrop-blur-xl rounded-full flex items-center justify-center shadow-card border border-white/60",children:r.jsx(Di,{className:"w-5 h-5",style:{color:O}})}):r.jsx("div",{className:"w-10 h-10"})]})}),r.jsxs(P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-5 shadow-card border border-white/60",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#091A7A] to-[#4F8EFF] rounded-2xl flex items-center justify-center shadow-md",children:r.jsx("div",{className:"w-6 h-6 text-white flex items-center justify-center",children:t?.icon})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-[#091A7A]",children:t?.title}),r.jsxs("p",{className:"text-xs text-[#4F8EFF] mt-0.5",children:["Stage ",e,"  Question ",n+1," / ",s]})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("div",{className:"w-full h-2.5 bg-gray-100 rounded-full overflow-hidden",children:r.jsx(P.div,{initial:{width:0},animate:{width:`${(n+1)/s*100}%`},className:"h-full bg-gradient-to-r from-[#091A7A] to-[#4F8EFF] rounded-full",transition:{duration:.6,ease:"easeOut"}})})})]}),r.jsx(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-5 shadow-card border border-white/60",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("p",{className:"text-xs font-semibold text-[#7C3AED] text-center",children:["Question ",n+1]}),r.jsx("h2",{className:"text-base font-semibold text-[#091A7A] text-center leading-relaxed",children:o.question}),f&&o.sentenceData&&r.jsxs("div",{className:"space-y-2 text-center",children:[r.jsx("p",{className:"text-sm font-semibold text-[#1E1B4B] leading-relaxed",children:p&&o.sentenceData.translation?o.sentenceData.translation:o.sentenceData.english}),o.sentenceData.translation&&r.jsx("button",{onClick:k,className:"mx-auto px-3 py-1.5 rounded-full bg-[#F4F4FF] text-[#5B21B6] text-xs font-semibold shadow-inner",children:p?" ":" "})]})]})},n),r.jsx("div",{className:h?"grid grid-cols-2 gap-3":"space-y-3",children:o.options.map((B,R)=>{const z=l.includes(R),X=o.correctAnswers?.includes(R)||typeof o.correctAnswer=="number"&&o.correctAnswer===R;let ae="bg-white/95 border-white/60",K="text-[#091A7A]",te="bg-gray-100 text-gray-500";return c?X?(ae="bg-emerald-50/95 border-emerald-200/60",K="text-emerald-700",te="bg-emerald-100 text-emerald-600"):z&&(ae="bg-red-50/90 border-red-200/60",K="text-red-700",te="bg-red-100 text-red-600"):z&&(ae="bg-[#091A7A]/10 border-[#091A7A]/20",K="text-[#091A7A]",te="bg-[#091A7A] text-white"),r.jsx(P.button,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{delay:.3+R*.05},whileHover:{scale:c?1:1.01},whileTap:{scale:c?1:.98},onClick:()=>j(R),disabled:c,className:`w-full p-3 rounded-2xl backdrop-blur-xl border transition-all duration-300 text-left shadow-sm ${ae}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-2xl flex items-center justify-center font-semibold text-sm ${te}`,children:String.fromCharCode(65+R)}),r.jsx("span",{className:`font-medium flex-1 text-sm ${K}`,children:B}),c&&X&&r.jsx(Rn,{className:"w-4 h-4 text-emerald-600"})]})},R)})}),r.jsx(Ze,{children:c&&r.jsx(P.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{delay:.2},className:`p-5 rounded-2xl backdrop-blur-xl border shadow-card ${d?"bg-emerald-50/95 border-emerald-200/60":"bg-red-50/95 border-red-200/60"}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center ${d?"bg-emerald-100":"bg-red-100"}`,children:d?r.jsx(Rn,{className:"w-4 h-4 text-emerald-600"}):r.jsx(m3,{className:"w-4 h-4 text-red-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`font-semibold text-sm mb-1 ${d?"text-emerald-700":"text-red-700"}`,children:d?"Excellent! +10 XP":"Not quite right"}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:o.explanation})]})]})})}),!c&&h&&r.jsx(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},className:"pt-1",children:r.jsx("button",{onClick:N,disabled:!l.length,className:`w-full py-3 rounded-2xl font-semibold shadow-card border transition-all duration-300 ${l.length?"bg-gradient-to-r from-[#7C3AED] to-[#A78BFA] text-white border-transparent":"bg-white/70 text-gray-400 border-gray-200 cursor-not-allowed"}`,children:l.length?" ":" "})})]})]})}const vb=t=>t?Array.isArray(t)?t.map(e=>typeof e=="string"?e:e?.word||"").map(e=>e.trim()).filter(Boolean):typeof t=="string"?t.split(/[,;/]/).map(e=>e.trim()).filter(Boolean):[]:[],H9=t=>t?Array.isArray(t)?t.map(e=>{if(typeof e=="string"){const[n,s]=e.split(":").map(o=>o.trim());return{word:n,meaning:s||""}}return{word:e?.word?.trim()||"",meaning:e?.meaning?.trim()||""}}).filter(e=>e.word):typeof t=="string"?t.split(/[,;]/).map(e=>{const[n,s]=e.split(":").map(o=>o.trim());return{word:n,meaning:s||""}}).filter(e=>e.word):[]:[],q9=t=>{const e=t?.word||t?.term;if(!e)return null;const n=t?.id||e;return n?{id:String(n),word:e,meaning:t?.meaning||t?.translation||"",translation:t?.translation||"",example:t?.example||t?.example_sentence||"",derivatives:H9(t?.derivatives),synonyms:vb(t?.synonyms),antonyms:vb(t?.antonyms)}:null},tp=t=>t&&t.replace(/\([^)]*\)/g,"_____"),wb={math:{1:[{id:1,question:"What is 15 + 27?",options:["32","42","52","62"],correctAnswer:1,explanation:"15 + 27 = 42. When adding, line up the digits and add column by column."},{id:2,question:"What is 8  7?",options:["54","56","58","64"],correctAnswer:1,explanation:"8  7 = 56. This is a basic multiplication fact to memorize."},{id:3,question:"What is 144  12?",options:["10","11","12","13"],correctAnswer:2,explanation:"144  12 = 12. You can think of this as 'how many 12s make 144?'"},{id:4,question:"What is 25% of 80?",options:["15","20","25","30"],correctAnswer:1,explanation:"25% of 80 = 0.25  80 = 20. 25% is the same as 1/4."},{id:5,question:"What is the area of a rectangle with length 6 and width 4?",options:["20","22","24","26"],correctAnswer:2,explanation:"Area = length  width = 6  4 = 24 square units."}],2:[{id:1,question:"What is the square root of 64?",options:["6","7","8","9"],correctAnswer:2,explanation:"64 = 8, because 8  8 = 64."},{id:2,question:"What is 2?",options:["6","8","9","12"],correctAnswer:1,explanation:"2 = 2  2  2 = 8."},{id:3,question:"What is the value of x in: 3x + 5 = 14?",options:["2","3","4","5"],correctAnswer:1,explanation:"3x + 5 = 14, so 3x = 9, therefore x = 3."},{id:4,question:"What is 45% of 200?",options:["80","85","90","95"],correctAnswer:2,explanation:"45% of 200 = 0.45  200 = 90."},{id:5,question:"What is the circumference of a circle with radius 5? (Use   3.14)",options:["31.4","31.8","32.2","32.6"],correctAnswer:0,explanation:"Circumference = 2r = 2  3.14  5 = 31.4."}],3:[{id:1,question:"What is the derivative of x?",options:["x","2x","x","2x"],correctAnswer:1,explanation:"The derivative of x is 2x using the power rule."},{id:2,question:"What is sin(30)?",options:["0.5","0.707","0.866","1"],correctAnswer:0,explanation:"sin(30) = 1/2 = 0.5."},{id:3,question:"What is log(100)?",options:["1","2","10","100"],correctAnswer:1,explanation:"log(100) = 2, because 10 = 100."},{id:4,question:"What is the slope of the line y = 3x + 2?",options:["2","3","5","6"],correctAnswer:1,explanation:"In the form y = mx + b, the slope is m = 3."},{id:5,question:"What is 2x dx?",options:["x","x + C","2x","2x + C"],correctAnswer:1,explanation:"2x dx = x + C, where C is the constant of integration."}],4:[{id:1,question:"What is the limit of (x - 1)/(x - 1) as x approaches 1?",options:["0","1","2","undefined"],correctAnswer:2,explanation:"Factor: (x-1)(x+1)/(x-1) = x+1. As x1, limit = 2."},{id:2,question:"What is the second derivative of x?",options:["3x","6x","6","3x"],correctAnswer:1,explanation:"First derivative: 3x, second derivative: 6x."},{id:3,question:"What is cos(/2)?",options:["0","1","-1","0.5"],correctAnswer:0,explanation:"cos(/2) = cos(90) = 0."},{id:4,question:"What is the area under y = x from 0 to 2?",options:["1","2","3","4"],correctAnswer:1,explanation:" x dx = [x/2] = 4/2 - 0 = 2."},{id:5,question:"What is e^(ln(5))?",options:["1","e","5","ln(5)"],correctAnswer:2,explanation:"e^(ln(x)) = x, so e^(ln(5)) = 5."}],5:[{id:1,question:"What is the divergence of vector field F = (x, y, z)?",options:["1","2","3","0"],correctAnswer:2,explanation:"F = x/x + y/y + z/z = 1 + 1 + 1 = 3."},{id:2,question:"What is the eigenvalue of matrix [[2,0],[0,3]] for eigenvector [1,0]?",options:["0","1","2","3"],correctAnswer:2,explanation:"For eigenvector [1,0], A[1,0] = [2,0] = 2[1,0], so  = 2."},{id:3,question:"What is  xy dA over region R: 0x1, 0y1?",options:["1/2","1/3","1/4","1"],correctAnswer:2,explanation:" xy dy dx =  x[y/2] dx =  x/2 dx = 1/4."},{id:4,question:"What is the Fourier series coefficient a for f(x) = 1 on [-,]?",options:["0","1","2",""],correctAnswer:1,explanation:"a = (1/)^ 1 dx = (1/)[x]^ = 2/ = 2, but a/2 = 1."},{id:5,question:"What is the solution to the differential equation dy/dx = y?",options:["y = x","y = x","y = e","y = Ce^x"],correctAnswer:3,explanation:"The general solution to dy/dx = y is y = Ce^x."}]},english:{1:[{id:1,question:"Which sentence is grammatically correct?",options:["Me and John went to the store","John and I went to the store","John and me went to the store","I and John went to the store"],correctAnswer:1,explanation:"'John and I' is correct because 'I' is the subject pronoun used when you and another person are doing something."},{id:2,question:"What is the past tense of 'run'?",options:["runned","ran","running","runs"],correctAnswer:1,explanation:"The past tense of 'run' is 'ran'. 'Run' is an irregular verb."},{id:3,question:"Which word is a synonym for 'happy'?",options:["sad","joyful","angry","tired"],correctAnswer:1,explanation:"'Joyful' means the same as happy - both express a feeling of joy or contentment."},{id:4,question:"What type of word is 'quickly' in the sentence 'She ran quickly'?",options:["noun","verb","adjective","adverb"],correctAnswer:3,explanation:"'Quickly' is an adverb because it describes how the action (ran) was performed."},{id:5,question:"Which sentence uses correct capitalization?",options:["i love reading Books","I love reading books","I Love Reading Books","i Love reading books"],correctAnswer:1,explanation:"The pronoun 'I' should always be capitalized, but common nouns like 'books' should not be capitalized unless they start a sentence."}],2:[{id:1,question:"What is the main idea of a paragraph?",options:["The first sentence","The most important point","The longest sentence","The last sentence"],correctAnswer:1,explanation:"The main idea is the most important point or central message that the paragraph is trying to convey."},{id:2,question:"Which punctuation mark is used to show possession?",options:["comma","period","apostrophe","semicolon"],correctAnswer:2,explanation:"An apostrophe (') is used to show possession, like in 'Sarah's book' or 'the dog's tail'."},{id:3,question:"What is a metaphor?",options:["A comparison using 'like' or 'as'","A direct comparison without 'like' or 'as'","A question that doesn't need an answer","A repeated sound"],correctAnswer:1,explanation:"A metaphor is a direct comparison between two things without using 'like' or 'as', such as 'Life is a journey'."},{id:4,question:"Which is an example of alliteration?",options:["The cat sat on the mat","Peter Piper picked peppers","She is as brave as a lion","What time is it?"],correctAnswer:1,explanation:"Alliteration is the repetition of the same sound at the beginning of words, like 'Peter Piper picked peppers'."},{id:5,question:"What is the subject in the sentence 'The red car drove quickly'?",options:["red","car","drove","quickly"],correctAnswer:1,explanation:"The subject is 'car' - it's what the sentence is about. 'The red car' is the complete subject, but 'car' is the simple subject."}],3:[{id:1,question:"What is the difference between 'there', 'their', and 'they're'?",options:["They all mean the same thing","'There' is a place, 'their' shows ownership, 'they're' means 'they are'","Only 'there' is correct","'Their' is always wrong"],correctAnswer:1,explanation:"'There' refers to a place, 'their' shows possession (belonging to them), and 'they're' is a contraction of 'they are'."},{id:2,question:"What is a thesis statement?",options:["The first sentence of an essay","The main argument or point of an essay","The conclusion","A question"],correctAnswer:1,explanation:"A thesis statement is the main argument or central point that an essay will prove or discuss."},{id:3,question:"Which sentence uses parallel structure?",options:["I like reading, writing, and to swim","I like reading, writing, and swimming","I like to read, writing, and swim","I like read, write, and swimming"],correctAnswer:1,explanation:"Parallel structure uses the same grammatical form for items in a series. 'Reading, writing, and swimming' are all gerunds (-ing forms)."},{id:4,question:"What is the purpose of a topic sentence?",options:["To end a paragraph","To introduce the main idea of a paragraph","To provide evidence","To ask a question"],correctAnswer:1,explanation:"A topic sentence introduces the main idea of a paragraph and usually appears at the beginning."},{id:5,question:"Which is an example of personification?",options:["The wind whispered through the trees","He is as tall as a tree","The tree is green","Trees grow in forests"],correctAnswer:0,explanation:"Personification gives human qualities to non-human things. 'The wind whispered' gives the wind the human ability to whisper."}],4:[{id:1,question:"What is the difference between active and passive voice?",options:["There is no difference","Active voice emphasizes the doer, passive voice emphasizes the action","Passive voice is always wrong","Active voice uses more words"],correctAnswer:1,explanation:"Active voice emphasizes who does the action ('John wrote the letter'), while passive voice emphasizes what was done ('The letter was written by John')."},{id:2,question:"What is a complex sentence?",options:["A long sentence","A sentence with one independent clause and at least one dependent clause","A sentence with two independent clauses","A confusing sentence"],correctAnswer:1,explanation:"A complex sentence contains one independent clause (complete thought) and at least one dependent clause (incomplete thought that depends on the main clause)."},{id:3,question:"Which transition word shows contrast?",options:["furthermore","however","therefore","similarly"],correctAnswer:1,explanation:"'However' is a transition word that shows contrast or opposition between ideas."},{id:4,question:"What is the mood of a text?",options:["The author's attitude","The emotional atmosphere","The main character's feelings","The time of day"],correctAnswer:1,explanation:"Mood is the emotional atmosphere or feeling that the reader gets from a text."},{id:5,question:"Which is an example of dramatic irony?",options:["A character says the opposite of what they mean","The audience knows something a character doesn't","A coincidence happens","The ending is surprising"],correctAnswer:1,explanation:"Dramatic irony occurs when the audience knows something that a character in the story does not know."}],5:[{id:1,question:"What is the difference between denotation and connotation?",options:["They are the same","Denotation is literal meaning, connotation is implied meaning","Connotation is always negative","Denotation is outdated"],correctAnswer:1,explanation:"Denotation is the literal, dictionary definition of a word, while connotation is the emotional or cultural associations we have with that word."},{id:2,question:"What is stream of consciousness in literature?",options:["A type of poem","A narrative technique showing continuous thoughts","A writing error","A type of essay"],correctAnswer:1,explanation:"Stream of consciousness is a narrative technique that presents the continuous flow of a character's thoughts and feelings."},{id:3,question:"What is the function of a semicolon?",options:["To end a sentence","To join two related independent clauses","To show possession","To indicate a pause"],correctAnswer:1,explanation:"A semicolon joins two closely related independent clauses that could stand alone as separate sentences."},{id:4,question:"What is epistolary writing?",options:["Religious writing","Writing in the form of letters or documents","Poetry writing","Scientific writing"],correctAnswer:1,explanation:"Epistolary writing is composed of documents such as letters, diary entries, or other forms of correspondence."},{id:5,question:"What is zeugma in rhetoric?",options:["A type of rhyme","Using one word to modify two others in different senses","A writing mistake","A type of metaphor"],correctAnswer:1,explanation:"Zeugma is a rhetorical device where one word is used to modify two others in different senses, like 'He broke his vow and his mother's heart'."}]},science:{1:[{id:1,question:"What is the basic unit of life?",options:["Atom","Molecule","Cell","Organ"],correctAnswer:2,explanation:"The cell is the basic unit of life. All living things are made up of one or more cells."},{id:2,question:"What gas do plants absorb from the atmosphere during photosynthesis?",options:["Oxygen","Carbon dioxide","Nitrogen","Hydrogen"],correctAnswer:1,explanation:"Plants absorb carbon dioxide from the atmosphere and use it along with water and sunlight to produce glucose and oxygen."},{id:3,question:"How many bones are in an adult human body?",options:["206","186","226","196"],correctAnswer:0,explanation:"An adult human body has 206 bones. Babies are born with about 270 bones, but many fuse together as they grow."},{id:4,question:"What is the chemical symbol for water?",options:["H2O","CO2","O2","NaCl"],correctAnswer:0,explanation:"H2O is the chemical symbol for water, indicating it contains 2 hydrogen atoms and 1 oxygen atom."},{id:5,question:"Which planet is closest to the Sun?",options:["Venus","Earth","Mercury","Mars"],correctAnswer:2,explanation:"Mercury is the closest planet to the Sun in our solar system."}],2:[{id:1,question:"What is the process by which water changes from liquid to gas?",options:["Condensation","Evaporation","Precipitation","Freezing"],correctAnswer:1,explanation:"Evaporation is the process where water changes from liquid to gas when heated."},{id:2,question:"What type of energy is stored in food?",options:["Kinetic energy","Potential energy","Chemical energy","Thermal energy"],correctAnswer:2,explanation:"Chemical energy is stored in the bonds of molecules in food and is released during digestion."},{id:3,question:"What is the hardest natural substance on Earth?",options:["Gold","Iron","Diamond","Quartz"],correctAnswer:2,explanation:"Diamond is the hardest natural substance on Earth, scoring 10 on the Mohs hardness scale."},{id:4,question:"What organ in the human body produces insulin?",options:["Liver","Pancreas","Kidney","Heart"],correctAnswer:1,explanation:"The pancreas produces insulin, which helps regulate blood sugar levels."},{id:5,question:"What is the speed of light in a vacuum?",options:["300,000 km/s","150,000 km/s","450,000 km/s","600,000 km/s"],correctAnswer:0,explanation:"The speed of light in a vacuum is approximately 300,000 kilometers per second (299,792,458 m/s to be exact)."}],3:[{id:1,question:"What is the powerhouse of the cell?",options:["Nucleus","Ribosome","Mitochondria","Chloroplast"],correctAnswer:2,explanation:"Mitochondria are called the powerhouse of the cell because they produce ATP, the cell's main energy currency."},{id:2,question:"What is the pH of pure water?",options:["6","7","8","9"],correctAnswer:1,explanation:"Pure water has a pH of 7, which is neutral (neither acidic nor basic)."},{id:3,question:"What law states that energy cannot be created or destroyed?",options:["Newton's First Law","Law of Conservation of Energy","Einstein's Theory","Boyle's Law"],correctAnswer:1,explanation:"The Law of Conservation of Energy states that energy cannot be created or destroyed, only transformed from one form to another."},{id:4,question:"What is the most abundant gas in Earth's atmosphere?",options:["Oxygen","Carbon dioxide","Nitrogen","Argon"],correctAnswer:2,explanation:"Nitrogen makes up about 78% of Earth's atmosphere, making it the most abundant gas."},{id:5,question:"What is the process of cell division that produces gametes?",options:["Mitosis","Meiosis","Binary fission","Budding"],correctAnswer:1,explanation:"Meiosis is the process of cell division that produces gametes (sex cells) with half the number of chromosomes."}],4:[{id:1,question:"What is the name of the theory that explains the origin of the universe?",options:["Big Bang Theory","Evolution Theory","Relativity Theory","Quantum Theory"],correctAnswer:0,explanation:"The Big Bang Theory explains that the universe began from a very hot, dense point and has been expanding ever since."},{id:2,question:"What is the study of heredity called?",options:["Ecology","Genetics","Anatomy","Physiology"],correctAnswer:1,explanation:"Genetics is the branch of biology that studies heredity and the variation of inherited characteristics."},{id:3,question:"What is the smallest particle of an element that retains its properties?",options:["Molecule","Atom","Proton","Electron"],correctAnswer:1,explanation:"An atom is the smallest particle of an element that still retains the chemical properties of that element."},{id:4,question:"What is the force that keeps planets in orbit around the Sun?",options:["Magnetic force","Electric force","Gravitational force","Nuclear force"],correctAnswer:2,explanation:"Gravitational force is the attractive force between masses that keeps planets in orbit around the Sun."},{id:5,question:"What is the process by which rocks are broken down into smaller pieces?",options:["Erosion","Weathering","Deposition","Sedimentation"],correctAnswer:1,explanation:"Weathering is the process that breaks down rocks into smaller pieces through physical, chemical, or biological means."}],5:[{id:1,question:"What is the principle behind MRI imaging?",options:["X-ray radiation","Nuclear magnetic resonance","Ultrasound waves","Gamma radiation"],correctAnswer:1,explanation:"MRI (Magnetic Resonance Imaging) uses nuclear magnetic resonance to create detailed images of the body's internal structures."},{id:2,question:"What is the half-life of Carbon-14?",options:["5,730 years","1,000 years","10,000 years","100,000 years"],correctAnswer:0,explanation:"Carbon-14 has a half-life of approximately 5,730 years, making it useful for dating organic materials."},{id:3,question:"What is the term for the point where an enzyme binds to its substrate?",options:["Allosteric site","Active site","Binding site","Catalytic center"],correctAnswer:1,explanation:"The active site is the specific region of an enzyme where the substrate binds and the catalytic reaction occurs."},{id:4,question:"What is the uncertainty principle in quantum mechanics?",options:["Energy is quantized","You cannot know both position and momentum precisely","Light behaves as both wave and particle","Time is relative"],correctAnswer:1,explanation:"Heisenberg's uncertainty principle states that you cannot simultaneously know both the exact position and momentum of a particle."},{id:5,question:"What is the process called when a star collapses and becomes incredibly dense?",options:["Supernova","Black hole formation","Neutron star formation","All of the above"],correctAnswer:3,explanation:"When a massive star collapses, it can become a supernova, and depending on its mass, form either a neutron star or a black hole."}]},social:{1:[{id:1,question:"What are the three branches of the U.S. government?",options:["Federal, State, Local","Executive, Legislative, Judicial","President, Congress, Courts","House, Senate, Cabinet"],correctAnswer:1,explanation:"The three branches are Executive (President), Legislative (Congress), and Judicial (Courts), designed to provide checks and balances."},{id:2,question:"Which continent is the largest by land area?",options:["Africa","North America","Asia","Europe"],correctAnswer:2,explanation:"Asia is the largest continent by both land area and population."},{id:3,question:"In what year did World War II end?",options:["1944","1945","1946","1947"],correctAnswer:1,explanation:"World War II ended in 1945, with Germany surrendering in May and Japan surrendering in September."},{id:4,question:"What is the capital of Canada?",options:["Toronto","Vancouver","Ottawa","Montreal"],correctAnswer:2,explanation:"Ottawa is the capital city of Canada, located in the province of Ontario."},{id:5,question:"Which ancient civilization built the pyramids at Giza?",options:["Romans","Greeks","Egyptians","Mesopotamians"],correctAnswer:2,explanation:"The ancient Egyptians built the pyramids at Giza around 4,500 years ago as tombs for their pharaohs."}],2:[{id:1,question:"What document begins with 'We the People'?",options:["Declaration of Independence","Bill of Rights","U.S. Constitution","Articles of Confederation"],correctAnswer:2,explanation:"The U.S. Constitution begins with 'We the People of the United States' in its preamble."},{id:2,question:"Which river is the longest in the world?",options:["Amazon","Nile","Mississippi","Yangtze"],correctAnswer:1,explanation:"The Nile River in Africa is generally considered the longest river in the world at about 4,135 miles."},{id:3,question:"What was the main cause of the American Civil War?",options:["Taxation","Slavery","Trade disputes","Territory expansion"],correctAnswer:1,explanation:"The primary cause of the American Civil War was disagreement over slavery and states' rights related to slavery."},{id:4,question:"Which mountain range runs along the western coast of South America?",options:["Rockies","Himalayas","Andes","Alps"],correctAnswer:2,explanation:"The Andes Mountains run along the western coast of South America and are the world's longest mountain range."},{id:5,question:"Who was the first President of the United States?",options:["Thomas Jefferson","John Adams","George Washington","Benjamin Franklin"],correctAnswer:2,explanation:"George Washington was the first President of the United States, serving from 1789 to 1797."}],3:[{id:1,question:"What is the Bill of Rights?",options:["The first 10 amendments to the Constitution","A list of presidential powers","The Declaration of Independence","A civil rights law"],correctAnswer:0,explanation:"The Bill of Rights consists of the first 10 amendments to the U.S. Constitution, protecting individual freedoms."},{id:2,question:"Which event sparked World War I?",options:["Sinking of Lusitania","Assassination of Archduke Franz Ferdinand","German invasion of Belgium","Russian Revolution"],correctAnswer:1,explanation:"The assassination of Archduke Franz Ferdinand of Austria-Hungary in 1914 was the immediate trigger for World War I."},{id:3,question:"What is latitude?",options:["Distance east or west","Distance north or south","Height above sea level","Time zone measurement"],correctAnswer:1,explanation:"Latitude measures distance north or south of the equator, while longitude measures distance east or west."},{id:4,question:"Which empire was ruled by Julius Caesar?",options:["Greek Empire","Roman Empire","Byzantine Empire","Persian Empire"],correctAnswer:1,explanation:"Julius Caesar was a leader of the Roman Empire, though he lived during the late Roman Republic period."},{id:5,question:"What is democracy?",options:["Rule by the wealthy","Rule by the people","Rule by the military","Rule by religious leaders"],correctAnswer:1,explanation:"Democracy is a form of government where power is held by the people, either directly or through elected representatives."}],4:[{id:1,question:"What was the Industrial Revolution?",options:["A political movement","A period of rapid technological and economic change","A war between countries","A religious reformation"],correctAnswer:1,explanation:"The Industrial Revolution was a period of rapid technological and economic change that began in the late 18th century."},{id:2,question:"What is the difference between weather and climate?",options:["There is no difference","Weather is short-term, climate is long-term patterns","Climate is short-term, weather is long-term","Weather is only about rain"],correctAnswer:1,explanation:"Weather refers to short-term atmospheric conditions, while climate refers to long-term weather patterns in a region."},{id:3,question:"What was the Cold War?",options:["A war fought in winter","A period of tension between US and USSR","A civil war","A trade dispute"],correctAnswer:1,explanation:"The Cold War was a period of political tension and rivalry between the United States and Soviet Union from 1945-1991."},{id:4,question:"What is cultural diffusion?",options:["The spread of cultural traits from one society to another","The loss of culture","The creation of new cultures","The study of ancient cultures"],correctAnswer:0,explanation:"Cultural diffusion is the process by which cultural traits, ideas, and practices spread from one society to another."},{id:5,question:"What is gross domestic product (GDP)?",options:["A country's population","The total value of goods and services produced in a country","A country's debt","The number of exports"],correctAnswer:1,explanation:"GDP measures the total monetary value of all goods and services produced within a country during a specific period."}],5:[{id:1,question:"What is the difference between capitalism and socialism?",options:["No difference","Capitalism emphasizes private ownership, socialism emphasizes public ownership","They are both the same economic system","Capitalism is only about money"],correctAnswer:1,explanation:"Capitalism emphasizes private ownership and free markets, while socialism emphasizes public or collective ownership of resources."},{id:2,question:"What is gerrymandering?",options:["A type of election","Manipulating electoral district boundaries for political advantage","A voting method","A campaign strategy"],correctAnswer:1,explanation:"Gerrymandering is the practice of manipulating electoral district boundaries to give one political party an advantage."},{id:3,question:"What is the significance of the Magna Carta?",options:["It ended slavery","It limited the power of the king","It started democracy","It created Parliament"],correctAnswer:1,explanation:"The Magna Carta (1215) was significant because it limited the power of the English king and established that everyone, including rulers, is subject to the law."},{id:4,question:"What is sustainable development?",options:["Building more factories","Development that meets present needs without compromising future generations","Economic growth only","Population control"],correctAnswer:1,explanation:"Sustainable development meets the needs of the present without compromising the ability of future generations to meet their own needs."},{id:5,question:"What is the European Union?",options:["A military alliance","A political and economic union of European countries","A trade agreement","A currency system"],correctAnswer:1,explanation:"The European Union is a political and economic union of European countries that promotes cooperation and integration among member states."}]}},bb={math:[{id:1,title:"Meaning Quiz",icon:r.jsx(Pn,{className:"w-6 h-6"}),status:"current",xpReward:50},{id:2,title:"Derivatives",icon:r.jsx(Xr,{className:"w-6 h-6"}),status:"locked",xpReward:75},{id:3,title:"Synonyms & Antonyms",icon:r.jsx(La,{className:"w-6 h-6"}),status:"locked",xpReward:100},{id:4,title:"Sentence Completion",icon:r.jsx($c,{className:"w-6 h-6"}),status:"locked",xpReward:125},{id:5,title:"All in One",icon:r.jsx(Pr,{className:"w-6 h-6"}),status:"locked",xpReward:150}],english:[{id:1,title:"Grammar Basics",icon:r.jsx(Pn,{className:"w-6 h-6"}),status:"current",xpReward:50},{id:2,title:"Reading & Writing",icon:r.jsx(Xr,{className:"w-6 h-6"}),status:"locked",xpReward:75},{id:3,title:"Literary Analysis",icon:r.jsx(La,{className:"w-6 h-6"}),status:"locked",xpReward:100},{id:4,title:"Advanced Composition",icon:r.jsx($c,{className:"w-6 h-6"}),status:"locked",xpReward:125},{id:5,title:"Literary Mastery",icon:r.jsx(Pr,{className:"w-6 h-6"}),status:"locked",xpReward:150}],science:[{id:1,title:"Basic Science",icon:r.jsx(Pn,{className:"w-6 h-6"}),status:"current",xpReward:50},{id:2,title:"Physical Science",icon:r.jsx(Xr,{className:"w-6 h-6"}),status:"locked",xpReward:75},{id:3,title:"Biology & Chemistry",icon:r.jsx(La,{className:"w-6 h-6"}),status:"locked",xpReward:100},{id:4,title:"Physics & Earth",icon:r.jsx($c,{className:"w-6 h-6"}),status:"locked",xpReward:125},{id:5,title:"Advanced Science",icon:r.jsx(Pr,{className:"w-6 h-6"}),status:"locked",xpReward:150}],social:[{id:1,title:"Civics & Geography",icon:r.jsx(Pn,{className:"w-6 h-6"}),status:"current",xpReward:50},{id:2,title:"American History",icon:r.jsx(Xr,{className:"w-6 h-6"}),status:"locked",xpReward:75},{id:3,title:"World Cultures",icon:r.jsx(La,{className:"w-6 h-6"}),status:"locked",xpReward:100},{id:4,title:"Government & Economics",icon:r.jsx($c,{className:"w-6 h-6"}),status:"locked",xpReward:125},{id:5,title:"Global Studies",icon:r.jsx(Pr,{className:"w-6 h-6"}),status:"locked",xpReward:150}]},G9={math:"Voca Master Journey",english:"English Journey",science:"Science Journey",social:"Social Studies Journey"},xo=5,jb={1:["normal","match"],2:["normal","match"],3:["normal"],4:["normal"],5:["normal"]},fn=t=>[...t].sort(()=>Math.random()-.5),K9=(t,e=20)=>{const n=t.filter(c=>c?.id&&c?.word&&c?.meaning);if(!n.length)return[];const s=n.map(c=>c.meaning);let o=1;const l=[];return fn(n).forEach(c=>{if(l.length>=e)return;const d=fn(s.filter(f=>f&&f!==c.meaning)).slice(0,3);if(d.length<3)return;const h=fn([c.meaning,...d]);l.push({id:o++,type:"multiple-choice",wordId:c.id,word:c.word,question:`${c.word}    ?`,options:h,correctAnswer:h.indexOf(c.meaning),explanation:`${c.word}: ${c.meaning}`})}),l},Y9=(t,e=12)=>{const n=t.flatMap(c=>(c?.derivatives||[]).map(d=>({wordId:c.id,root:c.word,derivative:d?.word,meaning:d?.meaning}))).filter(c=>c.wordId&&c.derivative&&c.meaning);if(!n.length)return[];const s=n.map(c=>c.meaning);let o=1;const l=[];return fn(n).forEach(c=>{if(l.length>=e)return;const d=fn(s.filter(f=>f&&f!==c.meaning)).slice(0,3);if(d.length<3)return;const h=fn([c.meaning,...d]);l.push({id:o++,type:"multiple-choice",wordId:c.wordId,question:`'${c.root}'  '${c.derivative}' ?`,options:h,correctAnswer:h.indexOf(c.meaning),explanation:`${c.derivative} (${c.root}): ${c.meaning}`})}),l},J9=(t,e=12)=>{const n=[],s=t.filter(l=>l?.id&&((l?.synonyms?.length||0)>=2||(l?.antonyms?.length||0)>=2)),o=t.map(l=>l.word).filter(Boolean);return fn(s).forEach(l=>{if(n.length>=e)return;const c=(l.synonyms?.length||0)>=2&&((l.antonyms?.length||0)<2||Math.random()>.5),d=c?l.synonyms||[]:l.antonyms||[];if(d.length<2)return;const h=Math.min(d.length,3),f=Math.max(2,h),p=fn(d).slice(0,f),m=fn([...o,...t.flatMap(k=>c?k.synonyms||[]:k.antonyms||[])].filter(k=>k&&!p.includes(k))),y=[...p];if(m.forEach(k=>{y.length>=8||y.includes(k)||y.push(k)}),y.length<8)return;const w=y.filter(k=>!p.includes(k)),b=fn([...p,...fn(w).slice(0,8-p.length)]),j=b.reduce((k,N,E)=>(p.includes(N)&&k.push(E),k),[]);n.push({id:n.length+1,type:"multi-select",wordId:l.id,question:`'${l.word}' ${c?"":""}   (${p.length})`,options:b,correctAnswers:j,explanation:`${c?"":""}: ${p.join(", ")}`})}),n},Sb=(t,e)=>{if(!t||!e)return t;const n=new RegExp(e,"gi");return t.replace(n,"_____")},Q9=(t,e=12)=>{const n=t.filter(c=>c?.id&&c?.word&&c?.example);if(!n.length)return[];const s=t.map(c=>c.word).filter(Boolean);let o=1;const l=[];return fn(n).forEach(c=>{if(l.length>=e||!c.word||!c.example)return;const d=fn(s.filter(f=>f&&f!==c.word)).slice(0,3);if(d.length<3)return;const h=fn([c.word,...d]);l.push({id:o++,type:"sentence",wordId:c.id,question:"    .",options:h,correctAnswer:h.indexOf(c.word),explanation:`${c.word}: ${c.meaning||""}`,word:c.word,sentenceData:{english:tp(Sb(c.example,c.word)),translation:c.translation?tp(Sb(c.translation,c.word)):tp(c.translation||c.meaning||"")}})}),l},Nb=(t,e)=>({...t,id:e,options:[...t.options],correctAnswers:t.correctAnswers?[...t.correctAnswers]:void 0,wordId:t.wordId,sentenceData:t.sentenceData?{...t.sentenceData}:void 0}),X9=(t,e=30)=>{const n=[...t.meaningQuestions,...t.derivativeQuestions,...t.synAntQuestions,...t.sentenceQuestions];if(!n.length)return[];const s=[],o=fn(n);let l=1;for(const c of o){if(s.length>=e)break;s.push(Nb(c,l++))}for(;s.length<e&&t.meaningQuestions.length;){const c=t.meaningQuestions[s.length%t.meaningQuestions.length];s.push(Nb(c,s.length+1))}return s},Z9=t=>{if(!t||!t.length)return null;const e=t.map(q9).filter(d=>!!d);if(!e.length)return null;const n=K9(e,20);if(!n.length)return null;const s=Y9(e,12),o=J9(e,12),l=Q9(e,12),c=X9({meaningQuestions:n,derivativeQuestions:s,synAntQuestions:o,sentenceQuestions:l},30);return{1:n,2:s.length?s:n,3:o.length?o:n,4:l.length?l:n,5:c.length?c:n}};function kb({onBack:t,onBackToHome:e,onXPGain:n,userXP:s,selectedSubject:o,vocabularyTitle:l,onQuizCompletion:c,onWrongAnswer:d,onAddToStarred:h,onMoveToGraveyard:f,onDeletePermanently:p,starredWordIds:m=[],graveyardWordIds:y=[],wrongAnswersWordIds:w=[],getAuthToken:b}){const j=o?.id||"math",k=l||G9[j]||"Math Journey",[N,E]=x.useState(bb[j]||bb.math),[C,A]=x.useState(null),[O,L]=x.useState(0),[B,R]=x.useState([]),[z,X]=x.useState(!1),[ae,K]=x.useState(null),[te,ee]=x.useState(0),[re,J]=x.useState(!1),[M,T]=x.useState(!1),[F,q]=x.useState(0),[D,V]=x.useState(!1),[W,se]=x.useState(null),[I,U]=x.useState(0),[H,Z]=x.useState(!1),[he,ue]=x.useState("normal"),[ve,Ne]=x.useState(null),[Ge,tt]=x.useState(null),[qe,Ut]=x.useState(null),Et=!!o,[ut,xt]=x.useState("word-list"),Ie=o?.id==="starred",[Ft,wt]=x.useState({}),Qe=x.useRef({}),Y=x.useRef(null),ce=x.useRef({}),ke=x.useRef({}),De=x.useRef({}),[Ue,at]=x.useState(0),ht=x.useRef({starred:"",graveyard:"",wrongAnswers:""}),sn=x.useCallback((de,je)=>{const we=je[de]||[];if(!we.length)return;const He=fn(we);wt(dt=>({...dt,[de]:He}))},[]),Qt=x.useCallback(de=>{de&&(delete Qe.current[de],delete ke.current[de],Object.keys(De.current).forEach(je=>{je.startsWith(`${de}:`)&&delete De.current[je]}),ce.current[de]=(ce.current[de]||0)+1,at(je=>je+1))},[]);x.useEffect(()=>{const de=(m||[]).join("|");de!==ht.current.starred&&(ht.current.starred=de,Qt("starred"))},[m,Qt]),x.useEffect(()=>{const de=(y||[]).join("|");de!==ht.current.graveyard&&(ht.current.graveyard=de,Qt("graveyard"))},[y,Qt]),x.useEffect(()=>{const de=(w||[]).join("|");de!==ht.current.wrongAnswers&&(ht.current.wrongAnswers=de,Qt("wrong-answers"))},[w,Qt]);const[xn,as]=x.useState({1:new Set,2:new Set,3:new Set,4:new Set,5:new Set}),[lt,Dn]=x.useState([]),[ls,Ht]=x.useState(!0),[on,jn]=x.useState(!1),_t=x.useMemo(()=>Z9(lt),[lt])||wb[j]||wb.math,sr=x.useMemo(()=>{const de=lt.flatMap(je=>(je?.derivatives||[]).map((we,He)=>({id:`${je.id}-derivative-${He}`,word:we?.word||we?.term||"",meaning:we?.meaning||""}))).filter(je=>je.word&&je.meaning);return{1:lt,2:de.length?de:lt,3:lt,4:lt,5:lt}},[lt]),le=x.useCallback(de=>{const je=sr[de];return je&&je.length?je:lt},[sr,lt]);x.useEffect(()=>{const de=o?.id;if(!de){console.log("[GameMapQuizScreen]  No selectedSubject.id, using sample words"),Dn([]),Ht(!1);return}const je=ce.current[de]||0,we=`${de}:${je}`,He=Qe.current[de];if(He&&ke.current[de]===je){Dn(He),Ht(!1);return}const dt=De.current[we];if(dt){Ht(!0);let Gt=!1;return dt.then(Xt=>{Gt||(Dn(Xt),Ht(!1))}).catch(Xt=>{Gt||(console.error("[GameMapQuizScreen]  Error loading vocabulary words:",Xt),Ht(!1))}),()=>{Gt=!0}}if(Y.current===we)return;let nt=!1;const On=(async()=>{const Gt=["starred","graveyard","wrong-answers"].includes(de);let Xt="";Gt?Xt=`https://${Ve}.supabase.co/functions/v1/server/${de}`:Xt=`https://${Ve}.supabase.co/functions/v1/server/user-vocabularies/${de}`;const _l=b?b():wn,Fi=await fetch(Xt,{headers:{Authorization:`Bearer ${_l}`}});if(!Fi.ok){const cs=await Fi.text();throw new Error(cs||"Failed to load vocabulary words")}const ir=await Fi.json();console.log("[GameMapQuizScreen]  API response:",ir);const Nr=[];return Gt?ir.words&&Array.isArray(ir.words)?Nr.push(...ir.words):Array.isArray(ir)&&Nr.push(...ir):ir.units&&Array.isArray(ir.units)&&ir.units.forEach(cs=>{cs.words&&Array.isArray(cs.words)&&Nr.push(...cs.words)}),console.log(`[GameMapQuizScreen]  Loaded ${Nr.length} words from vocabulary ${de}`),console.log("[GameMapQuizScreen]  First word:",Nr[0]),Qe.current[de]=Nr,ke.current[de]=je,Nr})();return De.current[we]=On,Y.current=we,Ht(!0),console.log("[GameMapQuizScreen]  Loading words for vocabulary ID:",de),On.then(Gt=>{nt||Dn(Gt)}).catch(Gt=>{nt||console.error("[GameMapQuizScreen]  Error loading vocabulary words:",Gt)}).finally(()=>{nt||Ht(!1),Y.current===we&&(Y.current=null),delete De.current[we]}),()=>{nt=!0}},[o?.id,b,Ue]),x.useEffect(()=>{jn(!1)},[O,C]);const Oe=de=>{if(!N.find(He=>He.id===de))return;const we=jb[de]||["normal"];if(we.length===1){const He=we[0];if(He==="match"&&le(de).length<xo){alert(`    ${xo}   .`);return}ue(He),Be(de,He);return}Ut(de),Z(!0)},Be=(de,je)=>{if(je==="match"&&le(de).length<xo){alert(`    ${xo}   .`);return}if(A(de),L(0),ee(0),R([]),X(!1),K(null),se(new Date),U(0),ue(je),Z(!1),Ut(null),jn(!1),sn(de,_t),je==="match"){const we=Math.random(),He=we<.33?"card-match-word":we<.66?"card-match-meaning":"quiz-word";Ne(He)}else je==="game"&&tt(Math.random()>.5?"fall":"speed")},Je=x.useCallback((de,je)=>{if(ee(de),U(de),J(!0),!!C&&de>=3){E(He=>He.map(dt=>dt.id===C?{...dt,status:"completed"}:dt.id===C+1&&dt.status==="locked"?{...dt,status:"current"}:dt));const we=(je?.xpReward||0)+de*10;q(He=>He+we),n(we)}},[C,n]),qt=de=>{if(z)return;const je=C?Ft[C]||_t[C]:null,we=je?je[O]:null;if(we)if(we.type==="multi-select")R(He=>He.includes(de)?He.filter(dt=>dt!==de):[...He,de]);else{const He=[de];R(He),setTimeout(()=>{st(He)},120)}},st=de=>{if(!C)return;const je=Ft[C]||_t[C]||[],we=je[O],He=de??B;if(!we||He.length===0)return;let dt=!1;if(we.type==="multi-select"&&we.correctAnswers){const nt=[...He].sort(),On=[...we.correctAnswers].sort();dt=nt.length===On.length&&nt.every((Gt,Xt)=>Gt===On[Xt])}else typeof we.correctAnswer=="number"&&(dt=He[0]===we.correctAnswer);if(X(!0),K(dt),dt)ee(nt=>nt+1),U(nt=>nt+1),n(10),q(nt=>nt+10),V(!0),setTimeout(()=>V(!1),1e3);else{const nt=we.wordId||we.word;d&&nt&&d(nt)}setTimeout(()=>{O<je.length-1?(L(nt=>nt+1),R([]),X(!1),K(null),jn(!1)):(R([]),X(!1),K(null),jn(!1),ct())},2500)},ct=()=>{if(!C)return;const de=N.find(je=>je.id===C);de&&(as(je=>{const we={...je};return we[C]||(we[C]=new Set),we[C].add(he),we}),E(je=>je.map(we=>we.id===C?{...we,status:"completed"}:we.id===C+1?{...we,status:"current"}:we)),n(de.xpReward),q(je=>je+de.xpReward),J(!0),C===5&&setTimeout(()=>{J(!1);const we=W?new Date().getTime()-W.getTime():0,He=Math.floor(we/6e4),dt=Math.floor(we%6e4/1e3),nt=`${He}:${dt.toString().padStart(2,"0")}`,On=Object.values(_t).flat().length,Gt=Math.round(I/On*100);c({xpGained:F,completionTime:nt,accuracy:Gt,totalQuestions:On,correctAnswers:I,stageName:k})},4e3))},Bt=()=>{A(null),J(!1),L(0),R([]),X(!1),K(null),jn(!1),ee(0)},At=()=>r.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:[...Array(40)].map((de,je)=>r.jsx(P.div,{initial:{opacity:1,y:-20,x:Math.random()*window.innerWidth,rotate:0,scale:Math.random()*.5+.5},animate:{opacity:0,y:window.innerHeight+100,rotate:Math.random()*720+360,x:Math.random()*window.innerWidth},transition:{duration:Math.random()*2+2,delay:Math.random()*1.5,ease:"easeOut"},className:`absolute w-3 h-3 rounded-full ${je%5===0?"bg-yellow-400":je%5===1?"bg-blue-400":je%5===2?"bg-green-400":je%5===3?"bg-purple-400":"bg-pink-400"}`},je))});if(re&&C){N.find(je=>je.id===C);const de=C<5;return r.jsxs("div",{className:"h-full relative overflow-hidden",children:[r.jsx(At,{}),r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none rounded-3xl",children:[r.jsx(P.div,{animate:{scale:[1,1.2,1],rotate:[0,360,0],opacity:[.1,.3,.1]},transition:{duration:8,repeat:1/0},className:"absolute -top-32 -right-32 w-80 h-80 bg-gradient-to-br from-yellow-400/20 to-orange-400/20 rounded-full blur-3xl"}),r.jsx(P.div,{animate:{scale:[1,1.1,1],rotate:[0,-180,0],opacity:[.1,.2,.1]},transition:{duration:10,repeat:1/0,delay:2},className:"absolute -bottom-32 -left-32 w-96 h-96 bg-gradient-to-br from-green-400/20 to-blue-400/20 rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center px-6",children:[r.jsx(P.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.3},className:"mb-8",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`w-32 h-32 rounded-full flex items-center justify-center shadow-2xl mt-8 ${I>=4?"bg-gradient-to-br from-yellow-400 to-yellow-600 shadow-yellow-500/25":I>=2?"bg-gradient-to-br from-green-400 to-green-600 shadow-green-500/25":"bg-gradient-to-br from-red-400 to-red-600 shadow-red-500/25"}`,children:I>=4?r.jsx(Pr,{className:"w-16 h-16 text-white"}):I>=2?r.jsx(Mr,{className:"w-16 h-16 text-white"}):r.jsx(Pn,{className:"w-16 h-16 text-white"})}),r.jsxs(P.div,{animate:{rotate:360},transition:{duration:6,repeat:1/0,ease:"linear"},className:"absolute inset-0",children:[r.jsx(rn,{className:"absolute -top-4 left-4 w-6 h-6 text-yellow-400"}),r.jsx(rn,{className:"absolute top-4 -right-4 w-8 h-8 text-orange-400"}),r.jsx(rn,{className:"absolute -bottom-4 right-4 w-5 h-5 text-yellow-500"}),r.jsx(rn,{className:"absolute bottom-4 -left-4 w-6 h-6 text-orange-300"})]})]})}),r.jsxs(P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-[#091A7A] to-[#4F8EFF] bg-clip-text text-transparent mb-3 text-center",children:I>=4?"!":I>=2?"!":" !"}),r.jsx("p",{className:"text-lg text-[#4F8EFF] font-medium mb-1",children:k}),r.jsx("p",{className:"text-sm text-gray-500",children:he==="match"?" ":he==="game"?" ":" "})]}),r.jsx(P.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-8 shadow-lg border border-white/40 mb-8 w-full max-w-sm",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(Pn,{className:"w-5 h-5 text-blue-600"})}),r.jsx("span",{className:"font-medium text-[#091A7A]",children:""})]}),r.jsxs("span",{className:"text-xl font-bold text-[#091A7A]",children:[I,"/5"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center",children:r.jsx(rn,{className:"w-5 h-5 text-purple-600"})}),r.jsx("span",{className:"font-medium text-[#091A7A]",children:""})]}),r.jsxs("span",{className:"text-xl font-bold text-[#091A7A]",children:[Math.round(I/5*100),"%"]})]})]})}),r.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[r.jsxs(P.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{J(!1),te>=2&&de?(A(C+1),L(0),ee(0),setSelectedAnswer(null),X(!1),se(new Date),U(0)):(L(0),ee(0),setSelectedAnswer(null),X(!1),se(new Date),U(0))},className:"w-full bg-gradient-to-r from-[#091A7A] to-[#4F8EFF] text-white py-4 rounded-2xl font-semibold shadow-lg flex items-center justify-center gap-2",children:[r.jsx("span",{children:te>=2&&de?"Next Stage":"Retry Stage"}),r.jsx(P.div,{animate:{x:[0,4,0]},transition:{duration:1.5,repeat:1/0},children:r.jsx(Ir,{className:"w-5 h-5 rotate-180"})})]}),r.jsx("div",{className:"flex gap-3 justify-center",children:te>=2?r.jsxs(r.Fragment,{children:[r.jsx(P.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"flex-1 bg-white/90 backdrop-blur-xl border border-white/40 text-[#091A7A] py-3 rounded-2xl font-medium shadow-sm text-center",children:"Back"}),r.jsx(P.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.2},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{J(!1),L(0),ee(0),setSelectedAnswer(null),X(!1),se(new Date),U(0)},className:"flex-1 bg-white/90 backdrop-blur-xl border border-white/40 text-[#091A7A] py-3 rounded-2xl font-medium shadow-sm text-center",children:"Retry Stage"})]}):r.jsxs(r.Fragment,{children:[r.jsx(P.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Bt,className:"flex-1 bg-white/90 backdrop-blur-xl border border-white/40 text-[#091A7A] py-3 rounded-2xl font-medium shadow-sm text-center",children:"View Map"}),r.jsx(P.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.2},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"flex-1 bg-white/90 backdrop-blur-xl border border-white/40 text-[#091A7A] py-3 rounded-2xl font-medium shadow-sm text-center",children:"Back"})]})})]})]})]})}if(C){const de=N.find(nt=>nt.id===C);if(he==="match"){const nt=C?le(C):lt;return nt.length?r.jsx($9,{words:nt,matchGameType:ve||"card-match-word",onBack:Bt,onBackToHome:e,onComplete:(On,Gt)=>Je(Gt,de),onWrongAnswer:d,stage:de,journeyName:k,wordCount:nt.length,isStarredVocabulary:Ie}):r.jsx("div",{className:"min-h-screen flex items-center justify-center text-[#091A7A]",children:r.jsx("p",{children:"    ."})})}if(he==="game"&&lt.length>0)return r.jsx(V9,{words:lt,gameType:Ge||"fall",onBack:Bt,onComplete:(nt,On)=>Je(On,de),onWrongAnswer:d});const je=C?Ft[C]||_t[C]||[]:[],we=je[O];if(!we)return r.jsx("div",{className:"min-h-screen flex items-center justify-center text-[#091A7A]",children:r.jsx("p",{children:"  .    ."})});const He=we.type==="multi-select",dt=we.type==="sentence"&&we.sentenceData;return r.jsx(U9,{stage:de,currentStageId:C,currentQuestionIndex:O,totalQuestions:je.length,question:we,selectedAnswers:B,showFeedback:z,lastAnswerCorrect:ae,isMultiSelect:He,isSentenceQuestion:!!dt,sentenceTranslationVisible:on,showConfetti:D,ConfettiComponent:At,onBack:Bt,onBackToHome:e,onAnswerSelect:qt,onToggleSentenceTranslation:()=>jn(nt=>!nt),onSubmitAnswer:st,journeyName:k,wordCount:lt.length,isStarredVocabulary:Ie})}return r.jsxs("div",{className:"h-full bg-transparent relative flex flex-col",children:[r.jsxs("div",{className:`flex-shrink-0 z-50 pdf-print-overlay bg-gradient-to-b ${Ie?"from-[#FFFBEB]/80 to-[#FEF3C7]/70":"from-[#D4C5FF] to-transparent"}`,children:[r.jsx("div",{className:"p-6 pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(jr,{onClick:t}),r.jsxs("div",{className:"flex-1 mx-4 text-center",children:[r.jsx("h1",{style:{fontSize:"18px",fontWeight:700,color:Ie?"#78350F":"#5B21B6"},children:Ie?" Starred Words":k}),r.jsxs("p",{style:{fontSize:"12px",fontWeight:500,color:Ie?"#D97706":"#A78BFA"},children:[lt.length," "]})]}),e?r.jsx(P.button,{whileTap:{scale:.95},onClick:e,className:"w-10 h-10 bg-white/90 backdrop-blur-md rounded-full flex items-center justify-center shadow-card",children:r.jsx(Di,{className:"w-5 h-5",style:{color:Ie?"#78350F":"#5B21B6"}})}):r.jsx("div",{className:"w-10 h-10"})]})}),r.jsx("div",{className:"px-4 pb-2",children:r.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl border border-white/40 shadow-lg p-1.5",children:r.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[r.jsxs(P.button,{whileTap:{scale:.97},onClick:()=>xt("word-list"),className:`py-2.5 px-2 rounded-xl flex flex-col items-center gap-1 transition-all duration-200 ${ut==="word-list"?Ie?"bg-gradient-to-br from-[#F59E0B] to-[#FCD34D] shadow-md":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] shadow-md":"hover:bg-white/50"}`,children:[r.jsx(J3,{className:`w-4 h-4 ${ut==="word-list"?"text-white":Ie?"text-[#D97706]":"text-[#7C3AED]"}`}),r.jsx("span",{className:`text-[10px] font-semibold ${ut==="word-list"?"text-white":Ie?"text-[#78350F]":"text-[#5B21B6]"}`,children:"Word List"})]}),r.jsxs(P.button,{whileTap:{scale:.97},onClick:()=>xt("quiz-map"),className:`py-2.5 px-2 rounded-xl flex flex-col items-center gap-1 transition-all duration-200 ${ut==="quiz-map"?Ie?"bg-gradient-to-br from-[#F59E0B] to-[#FCD34D] shadow-md":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] shadow-md":"hover:bg-white/50"}`,children:[r.jsx(D3,{className:`w-4 h-4 ${ut==="quiz-map"?"text-white":Ie?"text-[#D97706]":"text-[#7C3AED]"}`}),r.jsx("span",{className:`text-[10px] font-semibold ${ut==="quiz-map"?"text-white":Ie?"text-[#78350F]":"text-[#5B21B6]"}`,children:"Quiz Map"})]}),r.jsxs(P.button,{whileTap:{scale:.97},onClick:()=>xt("flashcards"),className:`py-2.5 px-2 rounded-xl flex flex-col items-center gap-1 transition-all duration-200 ${ut==="flashcards"?Ie?"bg-gradient-to-br from-[#F59E0B] to-[#FCD34D] shadow-md":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] shadow-md":"hover:bg-white/50"}`,children:[r.jsx(B3,{className:`w-4 h-4 ${ut==="flashcards"?"text-white":Ie?"text-[#D97706]":"text-[#7C3AED]"}`}),r.jsx("span",{className:`text-[10px] font-semibold ${ut==="flashcards"?"text-white":Ie?"text-[#78350F]":"text-[#5B21B6]"}`,children:"Flash Cards"})]}),r.jsxs(P.button,{whileTap:{scale:Et?.97:1},onClick:()=>Et&&xt("pdf-print"),className:`py-2.5 px-2 rounded-xl flex flex-col items-center gap-1 transition-all duration-200 ${ut==="pdf-print"?Ie?"bg-gradient-to-br from-[#F59E0B] to-[#FCD34D] shadow-md":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] shadow-md":Et?"hover:bg-white/50":"opacity-40 cursor-not-allowed"}`,children:[r.jsx(_p,{className:`w-4 h-4 ${ut==="pdf-print"?"text-white":Ie?"text-[#D97706]":"text-[#7C3AED]"}`}),r.jsx("span",{className:`text-[10px] font-semibold ${ut==="pdf-print"?"text-white":Ie?"text-[#78350F]":"text-[#5B21B6]"}`,children:"PDF Print"})]})]})})})]}),r.jsx("div",{className:"flex-1 relative z-10 overflow-hidden",children:r.jsxs(Ze,{mode:"wait",children:[ut==="word-list"&&r.jsx(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full",children:r.jsx(Vd,{onBack:t,onBackToHome:e,vocabularyTitle:o?.name||" ",unitName:"Unit 1",vocabularyWords:lt,starredWordIds:m,graveyardWordIds:y,wrongAnswersWordIds:w,onAddToStarred:h,onMoveToGraveyard:f,onDeletePermanently:p,onStartFlashcards:()=>{console.log("[GameMapQuizScreen]  Flashcard button clicked in WordList! Setting activeTab to flashcards"),xt("flashcards")},hideHeader:!0})},"word-list"),ut==="quiz-map"&&r.jsx(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full overflow-y-auto scrollbar-hide",children:r.jsxs("div",{className:"max-w-sm mx-auto relative pt-2 pb-4",children:[r.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-0",viewBox:"0 0 300 500",preserveAspectRatio:"xMidYMin meet",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"pathGradientTab",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:Ie?"#FEF3C7":"#DDD6FE",stopOpacity:"0.8"}),r.jsx("stop",{offset:"30%",stopColor:Ie?"#FCD34D":"#C4B5FD",stopOpacity:"0.5"}),r.jsx("stop",{offset:"70%",stopColor:Ie?"#F59E0B":"#A78BFA",stopOpacity:"0.5"}),r.jsx("stop",{offset:"100%",stopColor:Ie?"#FEF3C7":"#DDD6FE",stopOpacity:"0.8"})]}),r.jsxs("filter",{id:"pathGlowTab",children:[r.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsx(P.path,{d:`M 150 30
                       C 150 45, 120 70, 90 110
                       C 60 150, 140 170, 210 200
                       C 280 230, 180 250, 90 290
                       C 0 330, 120 350, 150 390`,stroke:"url(#pathGradientTab)",strokeWidth:"4",fill:"none",strokeLinecap:"round",filter:"url(#pathGlowTab)",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:2,ease:"easeInOut"}})]}),r.jsx("div",{className:"relative z-10",children:N.map((de,je)=>{const He=[{x:"50%",y:"30px",transform:"translateX(-50%)"},{x:"25%",y:"110px",transform:"translateX(-50%)"},{x:"65%",y:"200px",transform:"translateX(-50%)"},{x:"25%",y:"290px",transform:"translateX(-50%)"},{x:"50%",y:"380px",transform:"translateX(-50%)"}][je];return r.jsxs(P.div,{initial:{opacity:0,scale:.8,y:30},animate:{opacity:1,scale:1,y:0},transition:{delay:je*.15,duration:.7,ease:[.34,1.56,.64,1]},className:"absolute",style:{left:He.x,top:He.y,transform:He.transform},children:[r.jsxs(P.button,{whileTap:{scale:.92},onClick:()=>Oe(de.id),className:`relative w-[72px] h-[72px] rounded-3xl flex items-center justify-center transition-all duration-300 backdrop-blur-lg border-2 ${de.status==="completed"?"bg-gradient-to-br from-emerald-400 via-emerald-500 to-emerald-600 border-white/30 text-white shadow-xl shadow-emerald-500/40":de.status==="current"?Ie?"bg-gradient-to-br from-[#F59E0B] via-[#FBBF24] to-[#FCD34D] border-white/30 text-white shadow-xl shadow-amber-500/40":"bg-gradient-to-br from-[#7C3AED] via-[#8B5CF6] to-[#A78BFA] border-white/30 text-white shadow-xl shadow-purple-500/40":"bg-white/70 border-white/50 text-gray-400 shadow-md"}`,children:[de.status==="completed"?r.jsx(P.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.4,type:"spring",stiffness:300,damping:15},children:r.jsx(Rn,{className:"w-8 h-8 drop-shadow-lg"})}):r.jsx("div",{className:"relative",children:r.jsx("div",{className:`w-6 h-6 ${de.status==="locked"?"opacity-40":""}`,children:de.icon})}),r.jsx("div",{className:`absolute -top-1.5 -right-1.5 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold shadow-lg ${de.status==="completed"?"bg-white text-emerald-600":de.status==="current"?Ie?"bg-white text-amber-600":"bg-white text-purple-600":"bg-gray-200 text-gray-500"}`,children:de.id}),de.status==="current"&&r.jsxs(r.Fragment,{children:[r.jsx(P.div,{animate:{scale:[1,1.3,1],opacity:[.6,0,.6]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},className:`absolute inset-0 ${Ie?"bg-amber-400":"bg-purple-400"} rounded-3xl blur-lg -z-10`}),r.jsx(P.div,{animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-3xl -z-10",style:{background:Ie?"conic-gradient(from 0deg, transparent 0deg, rgba(251, 191, 36, 0.3) 90deg, transparent 180deg)":"conic-gradient(from 0deg, transparent 0deg, rgba(167, 139, 250, 0.3) 90deg, transparent 180deg)"}})]}),de.status==="completed"&&r.jsx(P.div,{animate:{scale:[1,1.15,1],opacity:[.5,.8,.5]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-emerald-400 rounded-3xl blur-xl -z-10"})]}),r.jsx(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:je*.15+.5},className:"absolute top-[78px] text-center z-20 max-w-[130px]",style:{left:je===3?"-15px":je===1?"0px":je===0||je===2?"26px":"36px",transform:je===1?"translateX(-100%)":je===3?"translateX(-120%)":"translateX(-50%)"},children:r.jsx("div",{className:`px-2.5 py-1.5 rounded-xl backdrop-blur-lg shadow-md border ${de.status==="completed"?"bg-emerald-50/95 border-emerald-200/60 text-emerald-700":de.status==="current"?Ie?"bg-white/95 border-amber-200/60 text-amber-700":"bg-white/95 border-purple-200/60 text-purple-700":"bg-white/80 border-white/40 text-gray-500"}`,children:r.jsx("div",{className:`text-[11px] ${de.status==="completed"?"font-semibold":"font-medium"}`,children:de.title})})})]},de.id)})}),r.jsx(P.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.8},className:"mt-[500px] mx-4 p-5 bg-white/95 backdrop-blur-xl rounded-3xl border-2 border-white/60 shadow-2xl",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[r.jsx(rn,{className:`w-4 h-4 ${Ie?"text-amber-500":"text-purple-500"}`}),r.jsx("h3",{className:`text-sm ${Ie?"text-amber-700":"text-purple-700"}`,style:{fontWeight:700},children:"Your Progress"}),r.jsx(rn,{className:`w-4 h-4 ${Ie?"text-amber-500":"text-purple-500"}`})]}),r.jsx("p",{className:`text-xs ${Ie?"text-amber-400":"text-purple-400"}`,children:k})]}),r.jsxs("div",{className:"flex items-center justify-center gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1.5,type:"spring",stiffness:200},className:`text-2xl bg-gradient-to-br ${Ie?"from-amber-600 to-amber-400":"from-purple-600 to-purple-400"} bg-clip-text text-transparent mb-1`,style:{fontWeight:700},children:N.filter(de=>de.status==="completed").length}),r.jsx("div",{className:`text-xs ${Ie?"text-amber-500":"text-purple-500"}`,style:{fontWeight:600},children:"Completed"})]}),r.jsx("div",{className:`w-px h-10 bg-gradient-to-b from-transparent ${Ie?"via-amber-200":"via-purple-200"} to-transparent`}),r.jsxs("div",{className:"text-center",children:[r.jsx(P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1.6,type:"spring",stiffness:200},className:"text-2xl text-gray-300 mb-1",style:{fontWeight:700},children:N.filter(de=>de.status==="locked").length}),r.jsx("div",{className:"text-xs text-gray-400",style:{fontWeight:600},children:"Remaining"})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("div",{className:`w-full h-2.5 ${Ie?"bg-amber-100/60":"bg-purple-100/60"} rounded-full overflow-hidden shadow-inner`,children:r.jsx(P.div,{initial:{width:0},animate:{width:`${N.filter(de=>de.status==="completed").length/N.length*100}%`},transition:{delay:2,duration:1.5,ease:[.34,1.56,.64,1]},className:`h-full bg-gradient-to-r ${Ie?"from-amber-500 via-amber-400 to-amber-500":"from-purple-500 via-purple-400 to-purple-500"} rounded-full shadow-lg relative`,children:r.jsx(P.div,{animate:{x:[-20,100],opacity:[0,1,0]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent"})})}),r.jsxs("div",{className:`text-[10px] ${Ie?"text-amber-400":"text-purple-400"}`,style:{fontWeight:600},children:[Math.round(N.filter(de=>de.status==="completed").length/N.length*100),"% Complete"]})]})]})})]})},"quiz-map"),ut==="flashcards"&&r.jsx(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full",children:r.jsx(ON,{onBack:()=>xt("word-list"),onBackToHome:e,vocabularyWords:lt,starredWordIds:m,graveyardWordIds:y,onAddToStarred:h,onMoveToGraveyard:f,hideHeader:!0})},"flashcards"),ut==="pdf-print"&&Et&&r.jsx(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full",children:r.jsx(M9,{onBack:()=>xt("word-list"),vocabularyId:o?.id||"",vocabularyTitle:o?.name||"",words:lt,hideHeader:!0})},"pdf-print")]})}),r.jsx(Ze,{children:H&&r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex items-center justify-center p-6",onClick:()=>{Z(!1),Ut(null)},children:r.jsxs(P.div,{initial:{scale:.8,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:20},transition:{type:"spring",damping:20},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-6 shadow-2xl border-2 border-white/60 max-w-sm w-full",onClick:de=>de.stopPropagation(),children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-lg mb-1",style:{fontWeight:700,color:"#491B6D"},children:"  "}),r.jsx("p",{className:"text-xs",style:{color:"#8B5CF6"},children:"   "})]}),(()=>{const de=qe?jb[qe]||["normal"]:[];return r.jsxs("div",{className:"space-y-3",children:[de.includes("normal")&&r.jsxs(P.button,{whileTap:{scale:.95},onClick:()=>qe&&Be(qe,"normal"),className:`w-full p-4 rounded-2xl shadow-lg flex items-center justify-between relative ${qe&&xn[qe]?.has("normal")?"bg-gradient-to-br from-emerald-400 to-emerald-600 text-white":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] text-white"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx(Pn,{className:"w-5 h-5"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-sm",style:{fontWeight:700},children:"Normal"}),r.jsx("div",{className:"text-xs opacity-80",children:"  "})]})]}),qe&&xn[qe]?.has("normal")?r.jsx(Rn,{className:"w-5 h-5"}):r.jsx(Ms,{className:"w-5 h-5"})]}),de.includes("match")&&(()=>{const je=qe?le(qe).length:0,we=je<xo;return r.jsxs(P.button,{whileTap:{scale:we?1:.95},onClick:()=>{we||!qe||Be(qe,"match")},className:`w-full p-4 rounded-2xl shadow-md flex items-center justify-between ${we?"bg-gray-100 border-2 border-dashed border-gray-300 text-gray-400 cursor-not-allowed":qe&&xn[qe]?.has("match")?"bg-gradient-to-br from-emerald-400 to-emerald-600 text-white border-2 border-emerald-300":"bg-white border-2 border-[#A78BFA]"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${we?"bg-gray-200":qe&&xn[qe]?.has("match")?"bg-white/20":"bg-[#EDE9FE]"}`,children:r.jsx(La,{className:`w-5 h-5 ${we?"text-gray-400":qe&&xn[qe]?.has("match")?"text-white":"text-[#7C3AED]"}`})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-sm",style:{fontWeight:700,color:we?"#9CA3AF":qe&&xn[qe]?.has("match")?"#fff":"#491B6D"},children:"Match"}),r.jsx("div",{className:"text-xs",style:{color:we?"#9CA3AF":qe&&xn[qe]?.has("match")?"rgba(255,255,255,0.8)":"#8B5CF6"},children:we?`  (${je}/${xo})`:"-  "})]})]}),qe&&xn[qe]?.has("match")?r.jsx(Rn,{className:"w-5 h-5 text-white"}):we?r.jsx("span",{className:"text-xs text-gray-400",children:""}):r.jsx(Ms,{className:"w-5 h-5 text-[#7C3AED]"})]})})()]})})(),r.jsx(P.button,{whileTap:{scale:.95},onClick:()=>{Z(!1),Ut(null)},className:"mt-4 w-full p-3 bg-gray-100 rounded-xl",children:r.jsx("span",{className:"text-sm",style:{fontWeight:600,color:"#6B7280"},children:""})})]})})})]})}function e$({onBack:t,onRetakeQuiz:e,onNextChallenge:n,userXP:s,xpGained:o,completionTime:l,accuracy:c,totalQuestions:d,correctAnswers:h,stageName:f}){const[p,m]=x.useState(!0),[y,w]=x.useState(0),b=[{icon:r.jsx(Pn,{className:"w-6 h-6"}),label:"Accuracy",value:`${c}%`,color:"emerald"},{icon:r.jsx(Oo,{className:"w-6 h-6"}),label:"Time",value:l,color:"blue"},{icon:r.jsx(Aj,{className:"w-6 h-6"}),label:"Correct",value:`${h}/${d}`,color:"green"},{icon:r.jsx($j,{className:"w-6 h-6"}),label:"XP Gained",value:`+${o}`,color:"purple"}];x.useEffect(()=>{const E=setTimeout(()=>m(!1),4e3);return()=>clearTimeout(E)},[]),x.useEffect(()=>{const E=setInterval(()=>{w(C=>(C+1)%b.length)},2e3);return()=>clearInterval(E)},[]);const k=c>=90?{level:"Excellent",color:"emerald",emoji:""}:c>=80?{level:"Great",color:"blue",emoji:""}:c>=70?{level:"Good",color:"orange",emoji:""}:{level:"Keep Practicing",color:"gray",emoji:""},N=()=>r.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:[...Array(50)].map((E,C)=>r.jsx(P.div,{initial:{y:-100,x:Math.random()*window.innerWidth,rotate:0,opacity:1},animate:{y:window.innerHeight+100,rotate:360,opacity:0},transition:{duration:Math.random()*3+2,delay:Math.random()*2,ease:"easeOut"},className:`absolute w-3 h-3 ${C%4===0?"bg-yellow-400":C%4===1?"bg-blue-400":C%4===2?"bg-emerald-400":"bg-purple-400"} rounded-full`},C))});return r.jsxs("div",{className:"h-full relative overflow-hidden",children:[p&&r.jsx(N,{}),r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx(P.div,{animate:{scale:[1,1.2,1],rotate:[0,10,0],opacity:[.1,.2,.1]},transition:{duration:8,repeat:1/0},className:"absolute -top-20 -right-20 w-60 h-60 bg-gradient-to-br from-[#091A7A]/10 to-[#4F8EFF]/10 rounded-full blur-3xl"}),r.jsx(P.div,{animate:{scale:[1,1.1,1],rotate:[0,-15,0],opacity:[.1,.15,.1]},transition:{duration:10,repeat:1/0,delay:2},className:"absolute -bottom-20 -left-20 w-80 h-80 bg-gradient-to-br from-[#ADC8FF]/10 to-[#4F8EFF]/10 rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[r.jsxs("div",{className:"pt-12 px-6 text-center",children:[r.jsx(P.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.3},className:"mb-6",children:r.jsxs("div",{className:"relative inline-flex",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center shadow-2xl shadow-yellow-500/25",children:r.jsx(Pr,{className:"w-12 h-12 text-white"})}),r.jsxs(P.div,{animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear"},className:"absolute inset-0",children:[r.jsx(rn,{className:"absolute -top-2 left-2 w-4 h-4 text-yellow-400"}),r.jsx(rn,{className:"absolute top-2 -right-2 w-5 h-5 text-orange-400"}),r.jsx(rn,{className:"absolute -bottom-2 right-2 w-3 h-3 text-yellow-500"}),r.jsx(rn,{className:"absolute bottom-2 -left-2 w-4 h-4 text-orange-300"})]})]})}),r.jsxs(P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-8",children:[r.jsxs("h1",{className:"text-2xl font-bold text-[#091A7A] mb-2",children:[f," Complete! "]}),r.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium ${k.color==="emerald"?"bg-emerald-100 text-emerald-700":k.color==="blue"?"bg-blue-100 text-blue-700":k.color==="orange"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`,children:[r.jsx("span",{children:k.emoji}),r.jsx("span",{children:k.level})]})]})]}),r.jsx("div",{className:"px-6 mb-8",children:r.jsxs(P.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-6 shadow-lg border border-white/40",children:[r.jsx("h2",{className:"text-lg font-semibold text-[#091A7A] text-center mb-6",children:"Your Performance"}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:b.map((E,C)=>r.jsxs(P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1+C*.1},className:`p-4 rounded-2xl border transition-all duration-300 ${y===C?"bg-[#091A7A]/5 border-[#091A7A]/20 shadow-lg":"bg-gray-50/50 border-gray-100"}`,children:[r.jsx("div",{className:`w-10 h-10 rounded-xl mb-3 flex items-center justify-center ${E.color==="emerald"?"bg-emerald-100 text-emerald-600":E.color==="blue"?"bg-blue-100 text-blue-600":E.color==="green"?"bg-green-100 text-green-600":E.color==="purple"?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600"}`,children:E.icon}),r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:E.label}),r.jsx("p",{className:"text-lg font-bold text-[#091A7A]",children:E.value})]},E.label))})]})}),r.jsx("div",{className:"px-6 mb-8",children:r.jsxs(P.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:1.2},className:"bg-gradient-to-r from-[#091A7A]/5 to-[#4F8EFF]/5 backdrop-blur-xl rounded-3xl p-6 border border-[#ADC8FF]/30",children:[r.jsx("h3",{className:"font-semibold text-[#091A7A] mb-4 text-center",children:"Rewards Earned"}),r.jsxs("div",{className:"flex items-center justify-center gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-2xl flex items-center justify-center mb-2 mx-auto",children:r.jsx(Mr,{className:"w-6 h-6 text-yellow-600"})}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"XP Gained"}),r.jsxs("p",{className:"font-bold text-[#091A7A]",children:["+",o]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-2xl flex items-center justify-center mb-2 mx-auto",children:r.jsx(aP,{className:"w-6 h-6 text-purple-600"})}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Badge"}),r.jsx("p",{className:"font-bold text-[#091A7A] text-xs",children:"Quiz Master"})]})]})]})}),r.jsxs("div",{className:"flex-1 flex flex-col justify-end px-6 pb-8 space-y-4",children:[r.jsxs(P.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.4},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:n,className:"w-full bg-gradient-to-r from-[#091A7A] to-[#4F8EFF] text-white py-4 rounded-2xl font-semibold shadow-lg flex items-center justify-center gap-2",children:[r.jsx("span",{children:"Continue Learning"}),r.jsx(Ej,{className:"w-5 h-5"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(P.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.5},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"flex-1 bg-white/90 backdrop-blur-xl border border-white/40 text-[#091A7A] py-3 rounded-2xl font-medium shadow-sm flex items-center justify-center gap-2",children:[r.jsx(eg,{className:"w-4 h-4"}),r.jsx("span",{children:"Retake"})]}),r.jsxs(P.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.6},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{},className:"flex-1 bg-white/90 backdrop-blur-xl border border-white/40 text-[#091A7A] py-3 rounded-2xl font-medium shadow-sm flex items-center justify-center gap-2",children:[r.jsx(CP,{className:"w-4 h-4"}),r.jsx("span",{children:"Share"})]}),r.jsx(P.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.7},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"px-4 bg-white/90 backdrop-blur-xl border border-white/40 text-[#091A7A] py-3 rounded-2xl font-medium shadow-sm",children:"Home"})]})]})]})]})}const t$=[{icon:ng,text:"  ?",category:"",prompt:"      ,    :"},{icon:G3,text:"   ?",category:"",prompt:"         :"},{icon:Dj,text:"   .",category:"",prompt:"        ,  :"},{icon:OP,text:"  ? ?",category:"",prompt:"    .  , ,      :"}];function n$({onBack:t}){const[e,n]=x.useState([{id:"1",text:"!   JEJEVOCA AI .         .     ,  !",isUser:!1,timestamp:new Date}]),[s,o]=x.useState(""),[l,c]=x.useState(!1),d=x.useRef(null),[h,f]=x.useState(!1),[p,m]=x.useState(null);x.useEffect(()=>{window.scrollTo(0,0)},[]);const y=()=>{d.current?.scrollIntoView({behavior:"smooth"})};x.useEffect(()=>{y()},[e,l]);const w=async C=>{try{const O=[...e.filter(R=>!R.isLoading).map(R=>({role:R.isUser?"user":"model",parts:[{text:R.text}]})),{role:"user",parts:[{text:C}]}],L=await fetch(`https://${Ve}.supabase.co/functions/v1/server/ai-chat`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${wn}`},body:JSON.stringify({conversationHistory:O})}),B=await L.json();if(!L.ok)throw console.error("API Error Response:",B),new Error(B.error||"API request failed");return console.log("API Success Response:",B),B.message||B.response||".     ."}catch(A){return console.error("Gemini API Error:",A),".     .  . : "+(A instanceof Error?A.message:String(A))}},b=C=>{if(m(C),C.category===""){const A={id:Date.now().toString(),text:C.text,isUser:!0,timestamp:new Date};n(O=>[...O,A]),N(C.prompt)}else f(!0),o("")},j=()=>{if(!s.trim()||!p)return;const C={id:Date.now().toString(),text:`${p.text}
: "${s}"`,isUser:!0,timestamp:new Date};n(O=>[...O,C]);const A=`${p.prompt} "${s}"`;N(A),o(""),f(!1),m(null)},k=async()=>{if(!s.trim())return;const C={id:Date.now().toString(),text:s,isUser:!0,timestamp:new Date};n(O=>[...O,C]);const A=s;o(""),N(A)},N=async C=>{c(!0);const A={id:"loading-"+Date.now(),text:" ...",isUser:!1,timestamp:new Date,isLoading:!0};n(B=>[...B,A]);const O=await w(C);n(B=>B.filter(R=>!R.isLoading));const L={id:Date.now().toString(),text:O,isUser:!1,timestamp:new Date};n(B=>[...B,L]),c(!1)},E=()=>r.jsx(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex justify-start",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#C4B5FD] to-[#A78BFA] flex items-center justify-center",children:r.jsx(Cp,{className:"w-4 h-4 text-[#491B6D]"})}),r.jsx("div",{className:"bg-white/80 border border-white/60 rounded-2xl rounded-tl-md p-4",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx(P.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:0},className:"w-2 h-2 bg-[#491B6D]/60 rounded-full"}),r.jsx(P.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:.2},className:"w-2 h-2 bg-[#491B6D]/60 rounded-full"}),r.jsx(P.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:.4},className:"w-2 h-2 bg-[#491B6D]/60 rounded-full"})]})})]})});return r.jsxs("div",{className:"h-full flex flex-col bg-transparent",children:[r.jsx("div",{className:"relative overflow-hidden",style:{background:"transparent"},children:r.jsxs("div",{className:"flex items-center justify-between p-6 backdrop-blur-xl border-b border-white/20",children:[r.jsx(jr,{onClick:t}),r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-lg",style:{fontWeight:700,color:"#091A7A"},children:"JEJEVOCA AI "}),r.jsx("p",{className:"text-xs",style:{color:"#6B7280"},children:"    "})]}),r.jsx("div",{className:"w-11"})]})}),r.jsx(Ze,{children:e.length===1&&!h&&r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-6 space-y-4",children:[r.jsx("div",{className:"text-center space-y-2",children:r.jsx("p",{className:"text-sm",style:{fontWeight:600,color:"#491B6D"},children:"  ?"})}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:t$.map((C,A)=>r.jsxs(P.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:A*.1},whileTap:{scale:.95},onClick:()=>b(C),className:"p-4 bg-white/80 backdrop-blur-sm rounded-2xl border border-[#A78BFA]/30 shadow-md active:shadow-lg transition-all duration-300 flex flex-col items-center justify-center text-center",children:[r.jsx(C.icon,{className:"w-6 h-6 mb-2",style:{color:"#8B5CF6"}}),r.jsx("p",{className:"text-xs mb-2",style:{fontWeight:600,color:"#491B6D"},children:C.text}),r.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"rgba(139, 92, 246, 0.15)",color:"#8B5CF6"},children:C.category})]},A))})]})}),r.jsx(Ze,{children:h&&p&&r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"rgba(0, 0, 0, 0.7)"},onClick:()=>{f(!1),m(null),o("")},children:r.jsxs(P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.15},onClick:C=>C.stopPropagation(),className:"bg-white rounded-2xl p-6 border border-[#A78BFA]/30 shadow-2xl w-full max-w-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(p.icon,{className:"w-6 h-6",style:{color:"#8B5CF6"}}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm",style:{fontWeight:700,color:"#491B6D"},children:p.category}),r.jsx("p",{className:"text-xs",style:{color:"#8B5CF6"},children:p.text})]})]}),r.jsx("input",{type:"text",value:s,onChange:C=>o(C.target.value),onKeyPress:C=>C.key==="Enter"&&j(),placeholder:"  (: ambiguous)",className:"w-full p-3 mb-3 bg-white border-2 rounded-xl focus:outline-none focus:ring-2",style:{borderColor:"#C4B5FD",color:"#491B6D"},autoFocus:!0}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(P.button,{whileTap:{scale:.95},onClick:()=>{f(!1),m(null),o("")},className:"px-5 py-2 rounded-lg",style:{backgroundColor:"#F3F4F6",color:"#6B7280",fontWeight:600,fontSize:"14px"},children:""}),r.jsx(P.button,{whileTap:{scale:.95},onClick:j,disabled:!s.trim(),className:"px-5 py-2 rounded-lg text-white",style:{backgroundColor:s.trim()?"#8B5CF6":"#D1D5DB",fontWeight:600,fontSize:"14px"},children:""})]})]})})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 scrollbar-hide",children:[e.map((C,A)=>r.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.05},className:`flex ${C.isUser?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-[85%] ${C.isUser?"order-1":"order-2"}`,children:r.jsxs("div",{className:`flex items-start gap-3 ${C.isUser?"flex-row-reverse":"flex-row"}`,children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${C.isUser?"bg-[#491B6D]":"bg-gradient-to-br from-[#C4B5FD] to-[#A78BFA]"}`,children:C.isUser?r.jsx(zj,{className:"w-4 h-4 text-white"}):r.jsx(Cp,{className:"w-4 h-4 text-[#491B6D]"})}),r.jsxs("div",{className:`p-4 rounded-2xl shadow-sm ${C.isUser?"bg-[#491B6D] text-white rounded-tr-md":"bg-white/90 rounded-tl-md border border-white/60"}`,style:C.isUser?{}:{color:"#491B6D"},children:[r.jsx("div",{className:"space-y-2",children:C.isUser?r.jsx("div",{className:"text-[12px] whitespace-pre-wrap leading-relaxed",children:C.text}):ji(C.text)}),r.jsx("div",{className:`text-xs mt-2 ${C.isUser?"text-white/70":"opacity-50"}`,children:C.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})})},C.id)),r.jsx(Ze,{children:l&&r.jsx(E,{})}),r.jsx("div",{ref:d})]}),r.jsxs("div",{className:"bg-white/90 backdrop-blur-sm border-t border-white/30 px-[20px] py-[16px]",children:[r.jsxs("div",{className:"flex items-end gap-3",children:[r.jsx("div",{className:"flex-1 relative",children:r.jsx("input",{type:"text",value:s,onChange:C=>o(C.target.value),onKeyPress:C=>C.key==="Enter"&&!C.shiftKey&&k(),placeholder:" ...",className:"w-full p-4 pr-12 bg-white border-2 rounded-2xl focus:outline-none focus:ring-2 transition-all duration-200",style:{borderColor:"#C4B5FD",color:"#491B6D"},disabled:l||h})}),r.jsx(P.button,{whileTap:{scale:.95},onClick:k,disabled:!s.trim()||l||h,className:`w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg transition-all duration-200 ${s.trim()&&!l&&!h?"bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED] text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:r.jsx(SP,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs mt-2 text-center",style:{color:"#8B5CF6",opacity:.6},children:"AI   .   ."})]})]})}const r$={application_end:"#f43f5e",exam_date:"#2563eb",result_date:"#22c55e"};function LN({onBack:t}){const e=x.useMemo(()=>os(),[]),[n,s]=x.useState(null),[o,l]=x.useState(""),[c,d]=x.useState([]),[h,f]=x.useState([]),[p,m]=x.useState(new Date),[y,w]=x.useState(new Date),[b,j]=x.useState([]),[k,N]=x.useState(!0),[E,C]=x.useState(""),[A,O]=x.useState([]);x.useEffect(()=>{e.auth.getUser().then(({data:F})=>{s(F.user?.id||null)})},[]);const L=async()=>{if(!n)return;N(!0);const{data:F}=await e.from("student_applications").select("id,status,universities(name,application_start,application_end,exam_date,result_date),departments(name)").eq("student_id",n),q=F?.map(D=>({id:D.id,status:D.status,university_name:D.universities?.name,department_name:D.departments?.name,...D.universities}))||[];f(q),N(!1)};x.useEffect(()=>{L()},[n]),x.useEffect(()=>{const F=[];h.forEach(q=>{["application_end","exam_date","result_date"].forEach(D=>{const V=q?.[D];V&&F.push({id:`${q.id}-${D}`,title:q.university_name||"",subtitle:{application_end:" ",exam_date:"",result_date:""}[D],date:V,color:r$[D],status:q.status})})}),j(F)},[h]);const B=async()=>{const{data:F}=await e.functions.invoke("admission-manager",{body:{action:"search-departments",payload:{keyword:o}}});d(F||[])},R=async F=>{if(!n){alert(" .");return}await e.from("student_applications").upsert({student_id:n,university_id:F.university_id,department_id:F.department_id,status:""}),L(),alert(`${F.university_name} ${F.department_name}   !`)},z=async()=>{const{data:F}=await e.functions.invoke("admission-manager",{body:{action:"search-departments",payload:{keyword:E}}});O(F||[])},X=p.getFullYear(),ae=p.getMonth(),K=new Date(X,ae,1).getDay(),te=new Date(X,ae+1,0).getDate(),ee=Array.from({length:K},(F,q)=>q),re=Array.from({length:te},(F,q)=>q+1),J=b.reduce((F,q)=>{const D=q.date;return F[D]||(F[D]=[]),F[D].push(q),F},{}),M=y.toISOString().slice(0,10),T=J[M]||[];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#FDF2F8] via-[#F5F3FF] to-[#E0F2FE] py-10",children:r.jsxs("div",{className:"max-w-5xl mx-auto px-4 space-y-8",children:[r.jsx("div",{className:"flex items-center justify-between",children:t?r.jsxs("button",{onClick:t,className:"flex items-center gap-2 rounded-full bg-white/90 border border-white/70 shadow-lg px-4 py-2 text-sm font-semibold text-[#7c3aed]",style:{boxShadow:"0 12px 32px rgba(124,58,237,0.15)"},children:[r.jsx(Ir,{className:"w-4 h-4"}),""]}):r.jsx("div",{})}),r.jsxs("header",{className:"text-center space-y-3",children:[r.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-[#7c3aed]",children:"Student Planner"}),r.jsx("h1",{className:"text-3xl font-black text-[#1e1b4b]",children:"   "}),r.jsx("p",{className:"text-gray-600 text-sm",children:"      ."})]}),r.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("input",{className:"flex-1 rounded-3xl border border-gray-100 bg-gray-50 px-5 py-3 shadow-inner text-sm focus:outline-none focus:ring-2 focus:ring-[#7c3aed]",placeholder:"   ",value:o,onChange:F=>l(F.target.value)}),r.jsx("button",{className:"rounded-3xl px-6 py-3 bg-[#7c3aed] text-white font-semibold shadow-lg shadow-purple-200",onClick:B,children:""})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.map(F=>r.jsxs("div",{className:"border rounded-3xl p-4 bg-white/95 shadow",children:[r.jsx("p",{className:"text-xs text-[#7c3aed] uppercase tracking-[0.2em]",children:F.university_name}),r.jsx("h3",{className:"text-xl font-bold text-[#1e1b4b]",children:F.department_name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[" ",F.quota||"-"," /  ",F.competition_rate||"-"]}),r.jsxs("div",{className:"text-xs text-gray-500 mt-2 space-y-1",children:[r.jsxs("p",{children:[": ",F.application_start||"-"," ~ ",F.application_end||"-"]}),r.jsxs("p",{children:[": ",F.exam_date||"-"]}),r.jsxs("p",{children:[": ",F.result_date||"-"]})]}),r.jsx("button",{className:"admission-button-primary mt-3 rounded-2xl bg-[#7c3aed] px-4 py-2 text-white",onClick:()=>R(F),children:" "})]},F.department_id)),!c.length&&r.jsx("p",{className:"text-center text-gray-500 col-span-full",children:"  ."})]})]}),r.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-5",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"admission-section-title",children:"  Calendar"}),r.jsx("p",{className:"text-sm text-gray-500",children:"        ."})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"w-10 h-10 rounded-full bg-[#f3e8ff] text-[#7c3aed] flex items-center justify-center shadow-inner",onClick:()=>m(new Date(p.getFullYear(),p.getMonth()-1,1)),children:""}),r.jsx("button",{className:"w-10 h-10 rounded-full bg-[#f3e8ff] text-[#7c3aed] flex items-center justify-center shadow-inner",onClick:()=>m(new Date(p.getFullYear(),p.getMonth()+1,1)),children:""})]})]}),r.jsxs("div",{className:"text-center font-semibold text-lg text-[#4c1d95]",children:[p.getFullYear()," ",p.getMonth()+1,""]}),r.jsx("div",{className:"grid grid-cols-7 text-center text-sm text-gray-400",children:["","","","","","",""].map(F=>r.jsx("div",{className:F===""?"text-rose-400":F===""?"text-blue-500":"",children:F},F))}),r.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:[ee.map(F=>r.jsx("div",{},`blank-${F}`)),re.map(F=>{const q=new Date(X,ae,F),D=q.toISOString().slice(0,10),V=M===D,W=J[D]?.length;return r.jsxs("button",{onClick:()=>w(q),className:`relative mx-auto flex h-11 w-11 items-center justify-center rounded-full font-semibold transition-all ${V?"bg-white text-[#7c3aed] border-2 border-[#7c3aed] shadow-lg":"text-[#1e1b4b]"}`,children:[F,W&&!V&&r.jsx("span",{className:"absolute bottom-0 h-1.5 w-1.5 rounded-full",style:{background:J[D][0].color}})]},F)})]}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("p",{className:"text-sm font-semibold text-[#4c1d95] flex items-center gap-2",children:[r.jsx(bl,{className:"w-4 h-4"}),"   "]}),T.length?T.map(F=>r.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-[#ede9fe] bg-[#f9f5ff] px-4 py-3 shadow-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-[#7c3aed] font-semibold",children:F.title}),r.jsx("p",{className:"text-xs text-gray-500",children:F.subtitle})]}),r.jsx("span",{className:"text-xs font-semibold",style:{color:F.color},children:F.subtitle})]},F.id)):r.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"   ."})]})]}),r.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"admission-section-title",children:"   "}),r.jsx("p",{className:"text-sm text-gray-500",children:"     /  /   ."})]})}),r.jsxs("div",{className:"space-y-3",children:[h.map(F=>r.jsxs("div",{className:"rounded-3xl border border-[#f1e7ff] bg-white px-4 py-3 shadow-sm flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-[#4c1d95]",children:F.university_name}),r.jsx("p",{className:"text-sm text-gray-500",children:F.department_name||" "}),r.jsxs("p",{className:"text-xs text-gray-400",children:[": ",F.application_end||"-","  : ",F.exam_date||"-","  : ",F.result_date||"-"]})]}),r.jsx("span",{className:"text-xs font-semibold px-3 py-1 rounded-full bg-[#f5f0ff] text-[#7c3aed]",children:F.status})]},F.id)),!h.length&&r.jsx("p",{className:"text-sm text-center text-gray-500",children:"   ."})]})]}),r.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"admission-section-title",children:" "}),r.jsx("p",{className:"text-sm text-gray-500",children:"         ."})]}),r.jsxs("div",{className:"flex gap-2 flex-1",children:[r.jsx("input",{className:"flex-1 rounded-3xl border border-gray-100 bg-gray-50 px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-[#7c3aed]",value:E,onChange:F=>C(F.target.value)}),r.jsx("button",{className:"rounded-3xl px-6 py-3 bg-[#7c3aed] text-white font-semibold shadow-lg shadow-purple-200",onClick:z,children:""})]})]}),r.jsxs("div",{className:"overflow-auto",children:[r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-xs uppercase tracking-widest text-gray-500",children:[r.jsx("th",{className:"py-2",children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""})]})}),r.jsx("tbody",{children:A.map(F=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"py-2 font-semibold",children:F.university_name}),r.jsx("td",{children:F.department_name}),r.jsx("td",{children:F.quota||"-"}),r.jsx("td",{children:F.competition_rate||"-"}),r.jsxs("td",{className:"text-xs",children:[F.application_start||"-"," ~ ",F.application_end||"-"]}),r.jsx("td",{children:F.exam_date||"-"}),r.jsx("td",{children:F.result_date||"-"})]},F.department_id))})]}),!A.length&&r.jsx("p",{className:"text-center text-gray-500 py-6",children:"  ."})]})]})]})})}var s$=(t,e,n,s,o,l,c,d)=>{let h=document.documentElement,f=["light","dark"];function p(w){(Array.isArray(t)?t:[t]).forEach(b=>{let j=b==="class",k=j&&l?o.map(N=>l[N]||N):o;j?(h.classList.remove(...k),h.classList.add(l&&l[w]?l[w]:w)):h.setAttribute(b,w)}),m(w)}function m(w){d&&f.includes(w)&&(h.style.colorScheme=w)}function y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)p(s);else try{let w=localStorage.getItem(e)||n,b=c&&w==="system"?y():w;p(b)}catch{}},i$=x.createContext(void 0),o$={setTheme:t=>{},themes:[]},a$=()=>{var t;return(t=x.useContext(i$))!=null?t:o$};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:s,enableColorScheme:o,defaultTheme:l,value:c,themes:d,nonce:h,scriptProps:f})=>{let p=JSON.stringify([n,e,l,t,d,c,s,o]).slice(1,-1);return x.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${s$.toString()})(${p})`}})});const l$=({...t})=>{const{theme:e="system"}=a$();return r.jsx(bI,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})},BN={login:"/login",signup:"/signup",home:"/",quiz:"/quiz","game-map-quiz":"/game-map-quiz","quiz-completion":"/quiz-completion",ai:"/ai",profile:"/profile","subject-detail":"/subject-detail",videos:"/videos","vocabulary-list":"/vocabulary-list","lesson-player":"/lesson-player","text-extractor":"/text-extractor","word-list":"/word-list",flashcard:"/flashcard",gift:"/gift","word-selection":"/word-selection","vocabulary-creator":"/vocabulary-creator","full-calendar":"/full-calendar",calendar:"/calendar","zombie-game":"/zombie-game"},Rg=Object.entries(BN).reduce((t,[e,n])=>(t[n]=e,t),{});Rg["/home"]="home";Rg[""]="home";function c$(){const t=Qo(),e=c9(t.getAuthToken),{saveStatus:n,showIndicator:s,triggerSave:o}=nB(),l=Lb(),c=$s(),d=x.useMemo(()=>{let le=c.pathname;return le.length>1&&le.endsWith("/")&&(le=le.replace(/\/+$/,"")),Rg[le]??"home"},[c.pathname]),[h,f]=x.useState(null),[p,m]=x.useState(null),[y,w]=x.useState(null),[b,j]=x.useState(!1),[k,N]=x.useState([]),[E,C]=x.useState(null),[A,O]=x.useState(""),[L,B]=x.useState(null),[R,z]=x.useState(5500),[X,ae]=x.useState({xpGained:0,completionTime:"0:00",accuracy:0,totalQuestions:0,correctAnswers:0,stageName:""}),[K,te]=x.useState(40),[ee,re]=x.useState(2),[J,M]=x.useState(!1),[T,F]=x.useState(0),[q,D]=x.useState(!1),[V,W]=x.useState({type:"xp-gain",title:"",subtitle:"",xpGain:0}),[se,I]=x.useState(!1),[U,H]=x.useState(yi.calculateLevel(5500)),[Z,he]=x.useState([]),[ue,ve]=x.useState([]),[Ne,Ge]=x.useState(!1),[tt,qe]=x.useState({name:" ",date:new Date(2025,8,15),color:"#8B5CF6"}),[Ut,Et]=x.useState(!1),[ut,xt]=x.useState(!1),Ie=x.useRef({}),Ft=x.useRef({}),wt=async le=>{const Oe=t.getAuthToken();if(!Oe)throw new Error("  .");const Je=le==="starred"||le==="graveyard"||le==="wrong-answers"?`https://${Ve}.supabase.co/functions/v1/server/${le}`:`https://${Ve}.supabase.co/functions/v1/server/user-vocabularies/${le}`,qt=await fetch(Je,{headers:{Authorization:`Bearer ${Oe}`}});if(!qt.ok)throw new Error(`Failed to load ${le} words`);return(await qt.json()).words||[]},Qe="https://images.unsplash.com/photo-1743247299142-8f1c919776c4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHwzZCUyMGNoYXJhY3RlciUyMGxlYXJuaW5nJTIwaWxsdXN0cmF0aW9ufGVufDF8fHx8MTc1NzQzMTU5MHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",Y=x.useCallback((le,Oe)=>{const Be=BN[le];Be&&(console.log("[Navigate] Going to screen:",le,Be),l(Be,{replace:Oe?.replace}))},[l]),ce=x.useCallback(()=>{typeof window<"u"&&window.history.length>1?l(-1):Y("home",{replace:!0})},[l,Y]),ke=(le,Oe)=>{const Be=Ie.current[le];Be?(N(Be),j(!1)):j(!0),w({id:le,title:Oe})},De=le=>{f(le),le.id==="starred"||le.id==="graveyard"||le.id==="wrong-answers"?(ke(le.id,le.name),Y("word-list")):Y("subject-detail")},Ue=()=>{f(null),m(null),Y("home",{replace:!0})};x.useEffect(()=>{d==="home"&&(f(null),m(null))},[d]);const at=le=>{const Oe=R,Be=Oe+le;F(le),M(!0),z(Be);const Je=yi.calculateLevel(Be);H(Je),yi.checkForLevelUp(Oe,Be)?(W({type:"level-up",title:`Level ${Je.currentLevel}!`,subtitle:"You leveled up! Keep going!",xpGain:le}),D(!0)):(I(!0),setTimeout(()=>I(!1),2e3),le>=25&&(W({type:"xp-gain",title:"Excellent Work!",subtitle:"You earned bonus XP!",xpGain:le}),D(!0))),lt()},ht=le=>{m(le),Y("lesson-player")},sn=le=>{ae(le),re(ct=>ct+1);const Oe=Math.min(100,K+(le.accuracy>=50?20:10));te(Oe);const Be=R,Je=Be+le.xpGained;F(le.xpGained),M(!0),z(Je);const qt=yi.calculateLevel(Je);H(qt);const st=yi.checkForLevelUp(Be,Je);setTimeout(()=>{W(st?{type:"level-up",title:`Level ${qt.currentLevel}!`,subtitle:"Quiz completed with a level up!",xpGain:le.xpGained}:{type:"quiz-complete",title:"Quiz Completed!",subtitle:`${le.correctAnswers}/${le.totalQuestions} correct  ${le.accuracy}% accuracy`,xpGain:le.xpGained}),D(!0)},1e3),lt(),Y("quiz-completion")},Qt=()=>{M(!1),F(0)},xn=()=>{D(!1)},as=le=>{z(le.userXP),te(le.currentProgress),re(le.totalQuizzesCompleted),H(le.levelProgress),he(le.completedStages),ve(le.achievements),console.log(" Progress loaded:",le)},lt=()=>{o()},Dn=()=>{Y("game-map-quiz")},ls=()=>{Ue()},Ht=(le,Oe)=>{console.log(" Signup complete! User:",le.id),t.login(le,Oe),Y("home"),setTimeout(()=>{console.log(" Loading word lists after login..."),e.loadWordLists()},100)},on=()=>{Ge(!0)},jn=()=>{Ge(!1)},rr=()=>{confirm("  ?")&&(t.logout(),e.resetStore&&e.resetStore(),z(0),setStreakCount(0),he([]),Y("login",{replace:!0}),console.log(" Logged out successfully"))};x.useEffect(()=>{(async()=>{if(!y||!y.id){N([]),j(!1);return}const Oe=y.id,Be=Ie.current[Oe];Be?(N(Be),j(!1)):j(!0);try{console.log(` Loading words for vocabulary: ${y.id}`);const Je=await wt(y.id);console.log(` Loaded ${Je.length} words for vocabulary`),Ie.current[Oe]=Je,N(Je)}catch(Je){console.error(" Error loading vocabulary words:",Je),N([])}finally{j(!1)}})()},[y?.id]);const _t=x.useCallback(le=>{delete Ie.current[le],!Ft.current[le]&&(typeof navigator<"u"&&navigator&&"onLine"in navigator&&!navigator.onLine||(Ft.current[le]=new Promise(Oe=>{setTimeout(async()=>{try{const Be=await wt(le);Ie.current[le]=Be,y?.id===le&&(N(Be),j(!1))}catch(Be){console.warn(`[Prefetch] Failed to refresh ${le}:`,Be)}finally{Ft.current[le]=null,Oe()}},200)})))},[y?.id]);x.useEffect(()=>{t.isAuthenticated&&_t("starred")},[e.starredWords,_t,t.isAuthenticated]),x.useEffect(()=>{t.isAuthenticated&&_t("graveyard")},[e.graveyardWords,_t,t.isAuthenticated]),x.useEffect(()=>{t.isAuthenticated&&_t("wrong-answers")},[e.wrongAnswersWords,_t,t.isAuthenticated]),x.useEffect(()=>{t.isInitializing||(t.isAuthenticated?(d==="login"||d==="signup")&&Y("home",{replace:!0}):d!=="login"&&d!=="signup"&&Y("login",{replace:!0}))},[t.isAuthenticated,t.isInitializing,d,Y]),x.useEffect(()=>{t.isAuthenticated&&!t.isInitializing&&(console.log(" App mounted with authenticated user, loading word lists..."),setTimeout(()=>{e.loadWordLists()},200))},[t.isAuthenticated,t.isInitializing]);const sr=()=>{if(t.isInitializing)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});switch(d){case"login":return r.jsx(rB,{onLoginComplete:Ht,onGoToSignup:()=>Y("signup")});case"signup":return r.jsx(sB,{onBack:()=>Y("login"),onSignupComplete:Ht});case"home":return r.jsxs("div",{className:"space-y-6",children:[r.jsx(d9,{profileImage:rm,userXP:R,recentXPGain:T,showXPAnimation:J,onXPAnimationComplete:Qt,levelProgress:U,onAdminAccess:on,ddayInfo:tt,onDdayClick:()=>Et(!0),onLogout:rr}),r.jsx(g9,{onSubjectClick:De,starredCount:e.starredWords.length,graveyardCount:e.graveyardWords.length,wrongAnswersCount:e.wrongAnswersWords.length}),r.jsx("div",{className:"px-6",children:r.jsx(v9,{illustrationImage:Qe,onStartQuiz:()=>Y("vocabulary-list"),currentProgress:K,totalQuizzesCompleted:ee})}),r.jsx("div",{className:"px-6",children:r.jsx(w9,{onClick:()=>Y("calendar")})}),r.jsx("div",{className:"px-6 pb-4 pt-3",children:r.jsx("div",{className:"text-center text-gray-600",style:{fontSize:"11px"},children:" JEJETRANSFER. All rights reserved.  Made by "})})]});case"quiz":return r.jsx(N9,{onBack:ce,onXPGain:at});case"game-map-quiz":return r.jsx(kb,{onBack:ce,onBackToHome:Ue,onXPGain:at,userXP:R,selectedSubject:h,vocabularyTitle:y?.title,onQuizCompletion:sn,onWrongAnswer:e.addWrongAnswer,starredWordIds:e.starredWords,graveyardWordIds:e.graveyardWords,wrongAnswersWordIds:e.wrongAnswersWords,onAddToStarred:e.toggleStarred,onMoveToGraveyard:e.moveToGraveyard,onDeletePermanently:e.deletePermanently,getAuthToken:t.getAuthToken});case"quiz-completion":return r.jsx(e$,{onBack:ce,onRetakeQuiz:Dn,onNextChallenge:ls,userXP:R,xpGained:X.xpGained,completionTime:X.completionTime,accuracy:X.accuracy,totalQuestions:X.totalQuestions,correctAnswers:X.correctAnswers,stageName:X.stageName});case"ai":return r.jsx(n$,{onBack:ce});case"profile":return r.jsx(HM,{onBack:ce,userXP:R,profileImage:rm,levelProgress:U});case"videos":return r.jsx(QM,{onBack:ce,getAuthToken:t.getAuthToken});case"vocabulary-list":return r.jsx(JL,{onBack:ce,onBackToHome:Ue,onSelectVocabulary:(le,Oe)=>{ke(le,Oe),f({id:le,name:Oe,description:"",progress:0,icon:null,color:"#491B6D"}),Y("game-map-quiz")},onStartFlashcards:(le,Oe)=>{ke(le,Oe),f({id:le,name:Oe,description:"",progress:0,icon:null,color:"#491B6D"}),Y("flashcard")},getAuthToken:t.getAuthToken},Date.now());case"subject-detail":return h?r.jsx(YM,{subject:h,onBack:ce,onStartQuiz:()=>Y("game-map-quiz"),onLessonClick:ht}):null;case"lesson-player":return r.jsx(QL,{onBack:ce,onTakeQuiz:()=>Y("game-map-quiz"),lessonTitle:p||"Introduction to Algebra"});case"text-extractor":return r.jsx(hB,{onBack:ce});case"word-list":return h?e.isLoading&&(h.id==="starred"||h.id==="graveyard"||h.id==="wrong-answers")?r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin"}),r.jsx("p",{className:"text-sm font-medium text-purple-600",children:"  ..."})]})}):h.id==="starred"?r.jsx(kb,{onBack:ce,onBackToHome:Ue,onXPGain:at,userXP:R,selectedSubject:h,vocabularyTitle:h.name,onQuizCompletion:sn,onWrongAnswer:e.addWrongAnswer,starredWordIds:e.starredWords,graveyardWordIds:e.graveyardWords,wrongAnswersWordIds:e.wrongAnswersWords,onAddToStarred:e.toggleStarred,onMoveToGraveyard:e.moveToGraveyard,onDeletePermanently:e.deletePermanently,getAuthToken:t.getAuthToken}):h.id==="graveyard"||h.id==="wrong-answers"?r.jsx(Vd,{onBack:ce,onBackToHome:Ue,vocabularyTitle:h.name,unitName:h.id==="graveyard"?"Graveyard Collection":"Wrong Answers Collection",vocabularyWords:k,filterType:h.id==="graveyard"?"graveyard":"wrong-answers",starredWordIds:e.starredWords,graveyardWordIds:e.graveyardWords,wrongAnswersWordIds:e.wrongAnswersWords,onAddToStarred:e.toggleStarred,onMoveToGraveyard:e.moveToGraveyard,onDeletePermanently:e.deletePermanently,onStartFlashcards:()=>{console.log("[App] onStartFlashcards called, navigating to flashcard"),Y("flashcard")}}):r.jsx(Vd,{onBack:ce,onBackToHome:Ue,vocabularyTitle:h.name,unitName:"Unit 1",vocabularyWords:k,filterType:"all",starredWordIds:e.starredWords,graveyardWordIds:e.graveyardWords,wrongAnswersWordIds:e.wrongAnswersWords,isLoading:b,onAddToStarred:e.toggleStarred,onMoveToGraveyard:e.moveToGraveyard,onDeletePermanently:e.deletePermanently,onStartFlashcards:()=>{console.log("[App] onStartFlashcards called, navigating to flashcard"),Y("flashcard")}}):null;case"flashcard":return console.log("[App] === FLASHCARD SCREEN RENDERING ==="),console.log("[App] starredWords:",e.starredWords),console.log("[App] graveyardWords:",e.graveyardWords),console.log("[App] vocabularyWords for flashcard:",k.length),r.jsx(ON,{onBack:ce,onBackToHome:Ue,vocabularyWords:k,starredWordIds:e.starredWords,graveyardWordIds:e.graveyardWords,onAddToStarred:e.toggleStarred,onMoveToGraveyard:e.moveToGraveyard});case"zombie-game":return r.jsx(DN,{vocabularyWords:k,onBack:ce,onBackToHome:Ue});case"gift":return r.jsx(PB,{onBack:ce,onSelectVocabulary:le=>{C(le),Y("word-selection")}});case"word-selection":return E?r.jsx(sN,{vocabularyId:E.id,vocabularyName:E.title,totalWords:E.total_words||0,onBack:ce,onComplete:async(le,Oe)=>{try{console.log(" Adding shared vocabulary to user collection..."),console.log("Selected words:",le.length),console.log("Words per unit:",Oe);const st=((await(await fetch(`https://${Ve}.supabase.co/functions/v1/server/shared-vocabulary/${E.id}/words`,{headers:{Authorization:`Bearer ${wn}`}})).json()).words||[]).filter(At=>le.includes(At.id)),ct=await fetch(`https://${Ve}.supabase.co/functions/v1/server/user-vocabularies/add-shared`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.getAuthToken()}`},body:JSON.stringify({sharedVocabularyId:E.id,title:E.title,description:E.description||"",wordsPerUnit:Oe,selectedWordIds:le})}),Bt=await ct.json();if(console.log(" Add shared vocabulary response:",Bt),!ct.ok)throw console.error(" Server error:",ct.status,Bt),new Error(Bt.error||`Server error: ${ct.status}`);if(Bt.vocabulary)console.log(" Successfully added vocabulary to user collection"),YL(),await e.refreshMyVocabularies(),alert(`"${E.title}"  ! (${st.length} , ${Math.ceil(st.length/Oe)} )`);else throw new Error(Bt.error||"Failed to add vocabulary")}catch(Be){console.error(" Error adding vocabulary:",Be),alert(`  : ${Be instanceof Error?Be.message:"   "}`)}finally{C(null),Ue()}}}):null;case"vocabulary-creator":return r.jsx(zM,{onBack:ce,getAuthToken:t.getAuthToken,onNavigateToGift:()=>Y("gift"),onSaveComplete:(le,Oe)=>{console.log(` Vocabulary created: ${le}, navigating to WordList`),e.refreshMyVocabularies(),ke(le,Oe),f({id:le,name:Oe,description:"",progress:0,icon:null,color:"#491B6D"}),Y("word-list")}});case"full-calendar":return r.jsx(KB,{onBack:ce,onHomeClick:Ue});case"calendar":return r.jsx(LN,{onBack:ce});default:return null}};return r.jsxs("div",{className:"min-h-screen overflow-hidden flex flex-col",style:{background:d==="word-list"&&h?h.id==="starred"?"linear-gradient(to bottom, #FFFEF5, #FFFEF8, #FFFFF9)":h.id==="graveyard"?"linear-gradient(to bottom, #FCFCFC, #FAFAFA, #F9F9F9)":h.id==="wrong-answers"?"linear-gradient(to bottom, #FFFAFA, #FFFCFC, #FFF9F9)":"linear-gradient(to bottom, #D4C5FF, rgba(229, 217, 255, 0.95), white)":"linear-gradient(to bottom, #D4C5FF, rgba(229, 217, 255, 0.95), white)"},children:[Ne&&r.jsx($B,{onClose:jn}),r.jsx(eB,{userXP:R,currentProgress:K,totalQuizzesCompleted:ee,onProgressLoaded:as}),r.jsxs("div",{className:`flex-1 ${d==="word-list"?"overflow-hidden":"overflow-y-auto scrollbar-hide"} relative`,children:[d==="opening"?sr():r.jsxs(P.div,{className:d==="word-list"?"h-full":"",initial:{opacity:0,scale:d==="welcome"?.95:d==="home"?1:.98,y:d==="welcome"?20:d==="home"?0:15,filter:"blur(8px)"},animate:{opacity:1,scale:1,y:0,filter:"blur(0px)"},exit:{opacity:0,scale:.95,y:-15,filter:"blur(4px)"},transition:{duration:d==="welcome"?.8:.5,ease:d==="welcome"?[.23,1,.32,1]:"easeInOut",type:d==="welcome"?"spring":"tween",bounce:d==="welcome"?.25:0},children:[d==="welcome"&&r.jsxs(r.Fragment,{children:[r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.2,ease:"easeOut"},className:"absolute inset-0 pointer-events-none",children:[...Array(12)].map((le,Oe)=>r.jsx(P.div,{initial:{x:Math.random()*400,y:Math.random()*800,opacity:0,scale:0},animate:{opacity:[0,.4,0],scale:[0,1,0],x:[Math.random()*400,Math.random()*400,Math.random()*400],y:[Math.random()*800,Math.random()*800+50,Math.random()*800+100]},transition:{duration:6,delay:Math.random()*2,repeat:1/0,ease:"easeInOut"},className:"absolute w-2 h-2 rounded-full",style:{background:"linear-gradient(45deg, #C8B6FF, #7C3AED)",filter:"blur(1px)"}},Oe))}),r.jsx(P.div,{initial:{opacity:0},animate:{opacity:[0,.3,0],background:["radial-gradient(circle at 30% 20%, #C8B6FF 0%, transparent 50%)","radial-gradient(circle at 70% 60%, #7C3AED 0%, transparent 40%)","radial-gradient(circle at 20% 80%, #C8B6FF 0%, transparent 60%)"]},transition:{opacity:{duration:2,ease:"easeInOut"},background:{duration:8,repeat:1/0,ease:"easeInOut"}},className:"absolute inset-0 pointer-events-none"})]}),sr()]},d),r.jsx(XL,{show:q,type:V.type,title:V.title,subtitle:V.subtitle,xpGain:V.xpGain,onComplete:xn}),r.jsx(ZL,{show:se,xpGain:T}),r.jsx(tB,{show:s,status:n}),r.jsx("div",{className:d==="subject-detail"||d==="lesson-player"||d==="game-map-quiz"||d==="vocabulary-list"||d==="word-list"?"h-8":"h-28"})]}),d!=="login"&&d!=="signup"&&d!=="opening"&&d!=="welcome"&&d!=="subject-detail"&&d!=="lesson-player"&&d!=="game-map-quiz"&&d!=="vocabulary-list"&&d!=="word-list"&&d!=="quiz-completion"&&d!=="full-calendar"&&!E&&r.jsx(S9,{currentScreen:d,onScreenChange:le=>{le==="home"?Ue():Y(le)}}),r.jsx(l$,{position:"top-center",richColors:!0})]})}function hn({value:t,onChange:e,className:n="",style:s={},multiline:o=!1,isEditable:l=!1,children:c,inputWidth:d}){const[h,f]=x.useState(!1),[p,m]=x.useState(t),y=x.useRef(null);x.useEffect(()=>{m(t)},[t]),x.useEffect(()=>{h&&y.current&&(y.current.focus(),y.current.select())},[h]);const w=()=>{e(p),f(!1)},b=j=>{j.key==="Enter"&&!o?(j.preventDefault(),w()):j.key==="Escape"&&(m(t),f(!1))};if(!l)return r.jsx("span",{className:n,style:s,children:t});if(h){const j={ref:y,value:p,onChange:k=>m(k.target.value),onBlur:w,onKeyDown:b,className:`${n} border border-blue-400 bg-blue-50 outline-none`,style:{...s,width:d||"100%",minWidth:d?"auto":"200px",padding:"2px 4px"}};return o?r.jsx("textarea",{...j,rows:3}):r.jsx("input",{...j,type:"text"})}return r.jsx("span",{onClick:()=>f(!0),className:`${n} cursor-pointer hover:bg-blue-50 print:hover:bg-transparent print:cursor-default font-bold`,style:{...s,fontFamily:"SUIT, sans-serif"},title:" ",children:c||t})}const $N=({id:t,word:e,pronunciation:n,partOfSpeech:s,meaning:o,definition:l,synonyms:c,antonyms:d,derivatives:h,example:f,translation:p,translationHighlight:m,etymology:y,isEditable:w=!1,onUpdate:b})=>{const j=(N,E)=>{const C=N.toLowerCase(),A=E.toLowerCase(),O=C.indexOf(A);return O===-1?N:r.jsxs(r.Fragment,{children:[N.substring(0,O),r.jsx("span",{style:{fontWeight:"bold"},children:N.substring(O,O+E.length)}),N.substring(O+E.length)]})},k=(N,E)=>{if(!E)return N;const C=N.indexOf(E);return C===-1?N:r.jsxs(r.Fragment,{children:[N.substring(0,C),r.jsx("span",{style:{fontWeight:"bold"},children:E}),N.substring(C+E.length)]})};return r.jsx("div",{className:"vocabulary-card border border-gray-200/60 rounded-lg bg-white py-3 pl-4 pr-8 mb-3",style:{overflow:"visible",marginBottom:"12px",pageBreakInside:"avoid",breakInside:"avoid",WebkitColumnBreakInside:"avoid",display:"block"},children:r.jsxs("div",{style:{overflow:"visible"},children:[r.jsxs("div",{className:"grid gap-4 mb-3",style:{gridTemplateColumns:"28% 72%"},children:[r.jsxs("div",{children:[r.jsx("div",{className:"inline-block px-1.5 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-2",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(t).padStart(3,"0")})}),r.jsx("h2",{className:"text-black mb-0.5 tracking-tight",style:{fontSize:"22px",fontWeight:"bold"},children:w?r.jsx(hn,{value:e,onChange:N=>b?.(t,"word",N),isEditable:!0,className:"text-black tracking-tight",style:{fontSize:"22px",fontWeight:"bold"}}):e})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"mb-2",children:[r.jsxs("p",{className:"text-black leading-snug",style:{fontSize:"13px"},children:[r.jsx("span",{className:"text-gray-400 print:text-black",style:{fontSize:"10px",fontWeight:"bold"},children:w?r.jsx(hn,{value:s,onChange:N=>b?.(t,"partOfSpeech",N),isEditable:!0,className:"text-gray-400",style:{fontSize:"10px",fontWeight:"bold"}}):s})," ",w?r.jsx(hn,{value:o,onChange:N=>b?.(t,"meaning",N),isEditable:!0,className:"text-black leading-snug",style:{fontSize:"13px"}}):o]}),l&&r.jsx("p",{className:"text-gray-500 leading-snug mt-0.5 italic",style:{fontSize:"10.5px"},children:w?r.jsx(hn,{value:l,onChange:N=>b?.(t,"definition",N),isEditable:!0,className:"text-gray-500 leading-snug italic",style:{fontSize:"10.5px"}}):l})]}),r.jsxs("div",{className:"pl-2.5 border-l border-gray-300",children:[r.jsx("p",{className:"text-xs text-black leading-snug mb-0.5",children:w?r.jsx(hn,{value:f,onChange:N=>b?.(t,"example",N),isEditable:w,className:"text-xs text-black leading-snug",children:j(f,e)}):j(f,e)}),r.jsx("p",{className:"text-gray-600 leading-snug mb-0",style:{fontSize:"10px"},children:w?r.jsx(hn,{value:p,onChange:N=>b?.(t,"translation",N),isEditable:w,className:"text-gray-600 leading-snug",style:{fontSize:"10px"},children:k(p,m)}):k(p,m)})]})]}),r.jsxs("div",{className:"flex gap-1.5 items-start",children:[r.jsx("div",{className:"w-2 h-2 border-gray-300",style:{border:"1px solid #d1d5db"}}),r.jsx("div",{className:"w-2 h-2 border-gray-300",style:{border:"1px solid #d1d5db"}}),r.jsx("div",{className:"w-2 h-2 border-gray-300",style:{border:"1px solid #d1d5db"}})]})]})]}),r.jsxs("div",{className:"grid gap-4 text-xs bg-[rgba(0,0,0,0)]",style:{gridTemplateColumns:"28% 72%"},children:[r.jsx("div",{children:r.jsx("div",{className:"space-y-1",children:h.map((N,E)=>r.jsxs("div",{className:"leading-tight",children:[r.jsx("div",{className:"text-gray-800 print:text-black",children:N.word}),r.jsx("div",{className:"text-gray-500",style:{fontSize:"10px"},children:N.meaning})]},E))})}),r.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"inline-block px-1 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:""})}),r.jsx("div",{className:"space-y-0.5",children:w?r.jsx(hn,{value:c.join(", "),onChange:N=>{const E=N.split(",").map(C=>C.trim()).filter(C=>C);b?.(t,"synonyms",E)},isEditable:!0,className:"text-gray-600 print:text-black",style:{fontSize:"10px"},multiline:!0,inputWidth:"100%"}):c.map((N,E)=>r.jsx("div",{className:"text-gray-600 print:text-black",style:{fontSize:"10px"},children:N},E))})]}),r.jsxs("div",{children:[r.jsx("div",{className:"inline-block px-1 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:""})}),r.jsx("div",{className:"space-y-0.5",children:w?r.jsx(hn,{value:d.join(", "),onChange:N=>{const E=N.split(",").map(C=>C.trim()).filter(C=>C);b?.(t,"antonyms",E)},isEditable:!0,className:"text-gray-600 print:text-black",style:{fontSize:"10px"},multiline:!0,inputWidth:"100%"}):d.map((N,E)=>r.jsx("div",{className:"text-gray-600 print:text-black",style:{fontSize:"10px"},children:N},E))})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("div",{className:"inline-block px-1.5 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:"Tip"})}),r.jsx("div",{className:"text-gray-600 print:text-black leading-snug",style:{fontSize:"10px"},children:w?r.jsx(hn,{value:y,onChange:N=>b?.(t,"etymology",N),isEditable:!0,className:"text-gray-600 leading-snug",style:{fontSize:"10px"},multiline:!0}):y})]})]})]})]})})},d$=x.memo($N),Dg=x.memo($N),u$=Object.freeze(Object.defineProperty({__proto__:null,VocabularyCard:Dg,default:d$},Symbol.toStringTag,{value:"Module"}));function Ks({headerInfo:t,showHeader:e=!0,showFooter:n=!0,isEditable:s=!1,onFooterChange:o,onHeaderChange:l}){if(!t)return null;const c=t.headerTitle||t.headerDescription;return r.jsxs(r.Fragment,{children:[e&&c&&r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"inline-block px-4 py-1.5 bg-slate-100 backdrop-blur-md border border-slate-300 rounded-xl rounded-bl-none",children:s?r.jsx("input",{type:"text",value:t.headerTitle||"",onChange:d=>l?.({...t,headerTitle:d.target.value}),placeholder:" ",className:"text-xs uppercase tracking-[0.2em] text-slate-800 placeholder-slate-400 font-medium bg-transparent border-none outline-none text-center min-w-[200px]"}):r.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-800 font-medium",children:t.headerTitle||"Vocabulary Builder"})})}),t.headerDescription&&r.jsx("div",{className:"flex justify-center",children:s?r.jsx("input",{type:"text",value:t.headerDescription||"",onChange:d=>l?.({...t,headerDescription:d.target.value}),placeholder:" ",style:{fontSize:"11px",fontFamily:"SUIT"},className:"text-gray-600 print:text-black text-center border-b border-gray-300 focus:border-gray-600 outline-none bg-transparent max-w-md"}):r.jsx("p",{style:{fontSize:"11px",fontFamily:"SUIT"},className:"text-gray-600 print:text-black text-center",children:t.headerDescription})})]}),n&&r.jsx("div",{className:"mt-4 pt-2",children:s?r.jsx("input",{type:"text",value:t.footerLeft||"",onChange:d=>o?.(d.target.value),placeholder:"  ",style:{fontSize:"11px",fontFamily:"SUIT"},className:"text-gray-600 print:text-black border-b border-gray-300 focus:border-gray-600 outline-none bg-transparent w-64"}):r.jsx("p",{style:{fontSize:"11px",fontFamily:"SUIT"},className:"text-gray-600 print:text-black",children:t.footerLeft||""})})]})}const h$=Object.freeze(Object.defineProperty({__proto__:null,HeaderFooter:Ks},Symbol.toStringTag,{value:"Module"}));function Ys({children:t,headerContent:e,showHeaderOnFirstPageOnly:n=!1}){return r.jsx("div",{className:"page-container",children:r.jsxs("div",{className:"a4-page",children:[n&&e&&r.jsx("div",{className:"page-header",style:{marginBottom:"16px"},children:e}),r.jsx("div",{className:"page-content",children:t})]})})}const f$=Object.freeze(Object.defineProperty({__proto__:null,A4PageLayout:Ys},Symbol.toStringTag,{value:"Module"})),p$=({data:t,headerInfo:e,isEditable:n=!1,onUpdate:s,onHeaderChange:o})=>{const l=(d,h)=>{const f=d.toLowerCase(),p=h.toLowerCase(),m=f.indexOf(p);return m===-1?d:r.jsxs(r.Fragment,{children:[d.substring(0,m),r.jsx("strong",{children:d.substring(m,m+h.length)}),d.substring(m+h.length)]})},c=t.map(d=>r.jsx("table",{className:"w-full border-collapse",children:r.jsx("tbody",{children:r.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[r.jsx("td",{className:"pt-1 pb-2 px-1 align-top",style:{width:"3%"},children:r.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(d.id).padStart(3,"0")})})}),r.jsx("td",{className:"pt-1 pb-2 px-3 align-top",style:{width:"18%"},children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:n?r.jsx(hn,{value:d.word,onChange:h=>s?.(d.id,"word",h),isEditable:!0,className:"text-black",style:{fontSize:"14px",fontWeight:"bold"}}):d.word}),r.jsx("div",{className:"space-y-1 pb-1",children:d.derivatives.map((h,f)=>r.jsxs("div",{style:{lineHeight:"1.3"},children:[r.jsx("div",{className:"text-gray-800 print:text-black",style:{fontSize:"11px"},children:h.word}),r.jsx("div",{className:"text-gray-500",style:{fontSize:"8px"},children:h.meaning})]},f))})]})}),r.jsx("td",{className:"pt-1 pb-2 px-3 align-top",style:{width:"42%"},children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-[14px]",children:r.jsx("span",{className:"text-black",style:{fontSize:"12px",lineHeight:"0.9"},children:n?r.jsx(hn,{value:d.meaning,onChange:h=>s?.(d.id,"meaning",h),isEditable:!0,className:"text-black",style:{fontSize:"12px",lineHeight:"0.9"}}):d.meaning})}),d.definition&&r.jsx("div",{className:"text-gray-500 italic",style:{fontSize:"9px",lineHeight:"1.3"},children:n?r.jsx(hn,{value:d.definition,onChange:h=>s?.(d.id,"definition",h),isEditable:!0,className:"text-gray-500 italic",style:{fontSize:"9px",lineHeight:"1.3"},multiline:!0}):d.definition}),r.jsx("div",{className:"text-black",style:{fontSize:"10px",lineHeight:"1.3"},children:n?r.jsx(hn,{value:d.example,onChange:h=>s?.(d.id,"example",h),isEditable:!0,className:"text-black",style:{fontSize:"10px",lineHeight:"1.3"},multiline:!0}):l(d.example,d.word)}),r.jsx("div",{className:"text-gray-600",style:{fontSize:"9px",lineHeight:"1.3"},children:n?r.jsx(hn,{value:d.translation,onChange:h=>s?.(d.id,"translation",h),isEditable:!0,className:"text-gray-600",style:{fontSize:"9px",lineHeight:"1.3"},multiline:!0}):d.translation})]})}),r.jsxs("td",{className:"pt-1 pb-2 px-3 align-top",style:{width:"14%"},children:[r.jsx("div",{className:"inline-block px-1 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:""})}),r.jsx("div",{className:"text-gray-600 print:text-black",style:{fontSize:"10px",lineHeight:"1.4"},children:n?r.jsx(hn,{value:d.synonyms.join(", "),onChange:h=>{const f=h.split(",").map(p=>p.trim()).filter(p=>p);s?.(d.id,"synonyms",f)},isEditable:!0,className:"text-gray-600 print:text-black",style:{fontSize:"10px",lineHeight:"1.4"},multiline:!0,inputWidth:"100%"}):d.synonyms.join(", ")})]}),r.jsxs("td",{className:"pt-1 pb-2 px-3 align-top text-[16px]",style:{width:"14%"},children:[r.jsx("div",{className:"inline-block px-1 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:""})}),r.jsx("div",{className:"text-gray-600 print:text-black",style:{fontSize:"10px",lineHeight:"1.4"},children:n?r.jsx(hn,{value:d.antonyms.join(", "),onChange:h=>{const f=h.split(",").map(p=>p.trim()).filter(p=>p);s?.(d.id,"antonyms",f)},isEditable:!0,className:"text-gray-600 print:text-black",style:{fontSize:"10px",lineHeight:"1.4"},multiline:!0,inputWidth:"100%"}):d.antonyms.join(", ")})]})]})})},d.id));return r.jsx(Ys,{headerContent:r.jsx(Ks,{headerInfo:e,showFooter:!1,isEditable:n,onHeaderChange:o}),showHeaderOnFirstPageOnly:!0,children:c})},Og=x.memo(p$),m$=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTable:Og},Symbol.toStringTag,{value:"Module"}));function Fg({data:t,headerInfo:e}){const n=[];for(let o=0;o<t.length;o+=2)n.push({left:t[o],right:t[o+1]||null});const s=n.map((o,l)=>r.jsx("table",{className:"w-full border-collapse",children:r.jsx("tbody",{children:r.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[r.jsx("td",{className:"py-2 px-1 align-top",style:{width:"4%"},children:r.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(o.left.id).padStart(3,"0")})})}),r.jsx("td",{className:"py-2 px-3 align-top",style:{width:"18%"},children:r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:o.left.word})}),r.jsx("td",{className:"py-2 px-3 align-top",style:{width:"28%"},children:r.jsx("div",{className:"text-black",style:{fontSize:"10px"},children:o.left.meaning})}),r.jsx("td",{className:"py-2 px-1 align-top",style:{width:"4%"},children:o.right&&r.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(o.right.id).padStart(3,"0")})})}),r.jsx("td",{className:"py-2 px-3 align-top",style:{width:"18%"},children:o.right&&r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:o.right.word})}),r.jsx("td",{className:"py-2 px-3 align-top",style:{width:"28%"},children:o.right&&r.jsx("div",{className:"text-black",style:{fontSize:"10px"},children:o.right.meaning})})]})})},l));return r.jsx(Ys,{headerContent:r.jsx(Ks,{headerInfo:e,showFooter:!1}),showHeaderOnFirstPageOnly:!0,children:s})}const g$=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTableSimple:Fg},Symbol.toStringTag,{value:"Module"}));function Ig({data:t,headerInfo:e}){const n=[];for(let o=0;o<t.length;o+=2)n.push({left:t[o],right:t[o+1]||null});const s=n.map((o,l)=>r.jsx("table",{className:"w-full border-collapse",children:r.jsx("tbody",{children:r.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[r.jsx("td",{className:"py-2 px-1 align-top",style:{width:"4%"},children:r.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(o.left.id).padStart(3,"0")})})}),r.jsx("td",{className:"py-2 px-3 align-top",style:{width:"46%"},children:r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:o.left.word})}),r.jsx("td",{className:"py-2 px-1 align-top",style:{width:"4%"},children:o.right&&r.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(o.right.id).padStart(3,"0")})})}),r.jsx("td",{className:"py-2 px-3 align-top",style:{width:"46%"},children:o.right&&r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:o.right.word})})]})})},l));return r.jsx(Ys,{headerContent:r.jsx(Ks,{headerInfo:e,showFooter:!1}),showHeaderOnFirstPageOnly:!0,children:s})}const x$=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTestSimple:Ig},Symbol.toStringTag,{value:"Module"}));function Mg({data:t,headerInfo:e}){const n=x.useMemo(()=>t.map(l=>{const c=l.synonyms.slice(0,Math.min(3,l.synonyms.length)),d=[],h=t.filter(w=>w.id!==l.id);for(const w of h)d.push({word:w.word,meaning:w.meaning}),w.synonyms.forEach(b=>{d.push({word:b,meaning:`(${w.word} )`})});const p=d.sort(()=>Math.random()-.5).slice(0,4),y=[...c.map(w=>({word:w,isCorrect:!0})),...p.map(w=>({word:w.word,isCorrect:!1,meaning:w.meaning}))].sort(()=>Math.random()-.5);return{id:l.id,word:l.word,correctSynonyms:c,allChoices:y}}),[t]),s=[];for(let l=0;l<n.length;l+=2)s.push({left:n[l],right:n[l+1]||null});const o=s.map((l,c)=>r.jsx("table",{className:"w-full border-collapse",children:r.jsx("tbody",{children:r.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[r.jsxs("td",{className:"py-3 px-4 align-top pb-6",style:{width:"50%",verticalAlign:"top"},children:[r.jsx("div",{className:"mb-3",children:r.jsxs("div",{className:"flex items-start gap-2 my-[4px] mx-[0px] px-[0px] py-[4px]",children:[r.jsx("div",{className:"inline-block px-1.5 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",style:{flexShrink:0},children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(l.left.id).padStart(3,"0")})}),r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",flexShrink:0},className:"text-black",children:l.left.word}),r.jsx("div",{className:"text-gray-500 print:text-black",style:{fontSize:"9px",flexShrink:0,paddingTop:"4px"},children:":"}),r.jsx("div",{className:"flex-1",style:{borderBottom:"1px solid #d1d5db",minHeight:"20px"}})]})}),r.jsx("div",{className:"flex flex-wrap gap-x-3 gap-y-1.5 my-[16px] mx-[0px]",children:l.left.allChoices.map((d,h)=>r.jsxs("div",{className:"inline-flex items-center gap-1.5",style:{fontSize:"11px"},children:[r.jsx("span",{className:"text-gray-400 print:text-black",children:""}),r.jsx("span",{className:"text-gray-700 print:text-black text-[12px]",children:d.word})]},h))})]}),r.jsx("td",{className:"py-3 px-4 align-top border-l border-gray-200 pb-6",style:{width:"50%",verticalAlign:"top"},children:l.right&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-3",children:r.jsxs("div",{className:"flex items-start gap-2 my-[4px] mx-[0px] px-[0px] py-[4px]",children:[r.jsx("div",{className:"inline-block px-1.5 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",style:{flexShrink:0},children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(l.right.id).padStart(3,"0")})}),r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",flexShrink:0},className:"text-black",children:l.right.word}),r.jsx("div",{className:"text-gray-500 print:text-black",style:{fontSize:"9px",flexShrink:0,paddingTop:"4px"},children:":"}),r.jsx("div",{className:"flex-1",style:{borderBottom:"1px solid #d1d5db",minHeight:"20px"}})]})}),r.jsx("div",{className:"flex flex-wrap gap-x-3 gap-y-1.5 my-[16px] mx-[0px]",children:l.right.allChoices.map((d,h)=>r.jsxs("div",{className:"inline-flex items-center gap-1.5",style:{fontSize:"11px"},children:[r.jsx("span",{className:"text-gray-400 print:text-black",children:""}),r.jsx("span",{className:"text-gray-700 print:text-black text-[12px]",children:d.word})]},h))})]})})]})})},c));return r.jsx(Ys,{headerContent:r.jsx(Ks,{headerInfo:e,showFooter:!1}),showHeaderOnFirstPageOnly:!0,children:o})}const y$=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTestSynonym:Mg},Symbol.toStringTag,{value:"Module"}));function Lg({data:t,headerInfo:e}){const n=()=>t.map(c=>{const d=c.synonyms.slice(0,Math.min(3,c.synonyms.length)),h=[],f=t.filter(b=>b.id!==c.id);for(const b of f)h.push({word:b.word,meaning:b.meaning}),b.synonyms.forEach(j=>{h.push({word:j,meaning:`(${b.word} )`})});const m=h.sort(()=>Math.random()-.5).slice(0,4),w=[...d.map(b=>({word:b,isCorrect:!0})),...m.map(b=>({word:b.word,isCorrect:!1,meaning:b.meaning}))].sort(()=>Math.random()-.5);return{id:c.id,word:c.word,meaning:c.meaning,correctSynonyms:d,allChoices:w}}),s=x.useMemo(()=>n(),[t]),o=[];for(let c=0;c<s.length;c+=2)o.push({left:s[c],right:s[c+1]||null});const l=o.map((c,d)=>r.jsx("table",{className:"w-full border-collapse",children:r.jsx("tbody",{children:r.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[r.jsxs("td",{className:"py-3 px-4 align-top",style:{width:"50%",verticalAlign:"top"},children:[r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(c.left.id).padStart(3,"0")})}),r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:c.left.word})]}),r.jsxs("div",{className:"text-black mb-2",style:{fontSize:"12px"},children:[": ",c.left.meaning]})]}),r.jsxs("div",{style:{fontSize:"11px"},children:[r.jsxs("div",{className:"mb-1 text-[12px]",children:[r.jsx("span",{className:"text-gray-600 print:text-black",children:": "}),r.jsx("span",{className:"text-gray-800 print:text-black",style:{fontWeight:"bold"},children:c.left.allChoices.filter(h=>h.isCorrect).map(h=>h.word).join(", ")})]}),r.jsx("div",{className:"space-y-0.5",children:c.left.allChoices.filter(h=>!h.isCorrect).map((h,f)=>r.jsxs("div",{className:"text-gray-600 print:text-black text-[11px]",children:[r.jsx("span",{className:"text-red-600 print:text-black",children:""})," ",h.word,": ",h.meaning]},f))})]})]}),r.jsx("td",{className:"py-3 px-4 align-top border-l border-gray-200",style:{width:"50%",verticalAlign:"top"},children:c.right&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(c.right.id).padStart(3,"0")})}),r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:c.right.word})]}),r.jsxs("div",{className:"text-black mb-2",style:{fontSize:"12px"},children:[": ",c.right.meaning]})]}),r.jsxs("div",{style:{fontSize:"11px"},children:[r.jsxs("div",{className:"mb-1 text-[12px]",children:[r.jsx("span",{className:"text-gray-600 print:text-black",children:": "}),r.jsx("span",{className:"text-gray-800 print:text-black",style:{fontWeight:"bold"},children:c.right.allChoices.filter(h=>h.isCorrect).map(h=>h.word).join(", ")})]}),r.jsx("div",{className:"space-y-0.5",children:c.right.allChoices.filter(h=>!h.isCorrect).map((h,f)=>r.jsxs("div",{className:"text-gray-600 print:text-black text-[11px]",children:[r.jsx("span",{className:"text-red-600 print:text-black",children:""})," ",h.word,": ",h.meaning]},f))})]})]})})]})})},d));return r.jsx(Ys,{headerContent:r.jsx(Ks,{headerInfo:e,showFooter:!1}),showHeaderOnFirstPageOnly:!0,children:l})}const v$=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTestSynonymAnswer:Lg},Symbol.toStringTag,{value:"Module"})),w$=[{id:"card",title:"",description:"   ",icon:Rj},{id:"table",title:" ",description:"     ",icon:Bj},{id:"simple",title:" ",description:"   ",icon:Mj},{id:"quiz-simple",title:" ",description:"    ",icon:rn},{id:"quiz-synonym",title:" ",description:"  ",icon:Oj},{id:"quiz-synonym-answer",title:" ",description:"    ",icon:Tj}],lm=t=>{if(!t)return[];if(Array.isArray(t))return t.map(e=>typeof e=="string"?e:typeof e=="object"&&e!==null?e.word:"").map(e=>(e||"").trim()).filter(Boolean);if(typeof t=="string"){try{const e=JSON.parse(t);if(Array.isArray(e))return lm(e)}catch{}return t.split(/[\n,]+/).map(e=>e.trim()).filter(Boolean)}return[]},cm=t=>{if(!t)return[];if(Array.isArray(t))return t.map(e=>{if(typeof e=="string"){const[n,s]=e.split(":").map(o=>o.trim());return{word:n,meaning:s||""}}return typeof e=="object"&&e!==null?{word:String(e.word||"").trim(),meaning:String(e.meaning||"").trim()}:{word:"",meaning:""}}).filter(e=>e.word);if(typeof t=="string"){try{const e=JSON.parse(t);if(Array.isArray(e))return cm(e)}catch{}return t.split(/[,;]/).map(e=>{const[n,s]=e.split(":").map(o=>o.trim());return{word:n,meaning:s||""}}).filter(e=>e.word)}return typeof t=="object"?cm([t]):[]},b$=t=>t.map((e,n)=>{const s=e||{},o=String(s.word||s.term||"").trim();return o?{id:n+1,word:o,pronunciation:s.pronunciation||"",partOfSpeech:s.partOfSpeech||s.part_of_speech||"",meaning:s.meaning||s.translation||"",definition:s.definition||"",synonyms:lm(s.synonyms),antonyms:lm(s.antonyms),derivatives:cm(s.derivatives),example:s.example||s.example_sentence||"",translation:s.translation||"",translationHighlight:s.translationHighlight||s.translation_highlight||"",etymology:s.etymology||""}:null}).filter(Boolean);function j$(){const t=x.useMemo(()=>new URLSearchParams(window.location.search),[]),e=t.get("vocabularyId")||t.get("vocabId")||"",[n,s]=x.useState("card"),[o,l]=x.useState(e||null),[c,d]=x.useState([]),[h,f]=x.useState(""),[p,m]=x.useState(!1),[y,w]=x.useState(null),b=()=>{window.location.pathname="/"},j=x.useCallback(async A=>{const O=A.trim();if(!O){w(" ID   .");return}const L=localStorage.getItem("supabase_access_token");if(!L){w(" .     .");return}try{m(!0),w(null);const B=await fetch(`https://${Ve}.supabase.co/functions/v1/server/user-vocabularies/${O}`,{headers:{Authorization:`Bearer ${L}`}});if(!B.ok){const X=await B.json().catch(()=>({}));throw new Error(X.error||X.message||"  .")}const R=await B.json(),z=b$(R.words||[]);if(z.length===0)throw new Error("   .     .");d(z),f(R.vocabulary?.title||"AI Vocabulary"),l(O)}catch(B){console.error(B),d([]),l(null),w(B instanceof Error?B.message:"  .")}finally{m(!1)}},[]);x.useEffect(()=>{e?j(e):w(" ID    .")},[e,j]);const k=x.useMemo(()=>({headerTitle:h||"AI Vocabulary",headerDescription:c.length?`${c.length.toLocaleString()} `:"",footerLeft:new Date().toLocaleDateString("ko-KR")}),[c.length,h]),N=()=>{if(!c.length)return r.jsx("p",{className:"text-center text-gray-500",children:"  ."});switch(n){case"card":return r.jsx(Ys,{headerContent:r.jsx(Ks,{headerInfo:k,showFooter:!0}),showHeaderOnFirstPageOnly:!0,children:c.map(A=>r.jsx(Dg,{...A},A.id))});case"table":return r.jsx(Og,{data:c,headerInfo:k});case"simple":return r.jsx(Fg,{data:c,headerInfo:k});case"quiz-simple":return r.jsx(Ig,{data:c,headerInfo:k});case"quiz-synonym":return r.jsx(Mg,{data:c,headerInfo:k});case"quiz-synonym-answer":return r.jsx(Lg,{data:c,headerInfo:k});default:return null}},E=()=>{if(p){alert("  .  .");return}if(!c.length){alert(y||"  .");return}window.print()},C=c.length>0?N():null;return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#FDF2F8] via-[#F5F3FF] to-[#E0F2FE] pb-16 print:bg-white print:min-h-0 print:pb-0",children:[r.jsx("header",{className:"sticky top-0 z-40 bg-transparent px-4 pt-6 print:hidden",children:r.jsxs("div",{className:"flex items-center justify-between max-w-6xl mx-auto",children:[r.jsxs(P.button,{onClick:b,whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-3 rounded-2xl bg-white/80 border border-white/60 shadow-lg text-[#491B6D]",children:[r.jsx(Ir,{className:"w-4 h-4"}),""]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-[#6B21A8] font-semibold tracking-wide uppercase",children:"AI Vocabulary Export"}),r.jsx("p",{className:"text-lg font-bold text-[#1E1B4B]",children:"  PDF "})]}),r.jsx("div",{className:"w-[140px]"})]})}),r.jsxs("main",{className:"max-w-4xl mx-auto px-4 mt-8 space-y-8 print:hidden",children:[r.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-4",children:[r.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:" "}),r.jsx("p",{className:"text-2xl font-bold text-[#1E1B4B]",children:h||"  "}),r.jsx("p",{className:"text-sm text-gray-500",children:c.length?`${c.length.toLocaleString()} `:"  "})]}),r.jsxs("div",{className:"text-sm text-gray-400 font-mono bg-gray-50 border border-gray-200 rounded-xl px-3 py-2",children:["ID: ",o||""]})]}),p&&r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[r.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-[#C4B5FD] border-t-transparent"}),"  ..."]}),y&&r.jsx("div",{className:"rounded-2xl border border-rose-100 bg-rose-50/70 px-4 py-3 text-sm text-rose-700",children:y})]}),r.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-[#6B21A8] mb-2",children:"1.  "}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:w$.map(A=>{const O=A.icon,L=n===A.id;return r.jsx(P.button,{whileTap:{scale:.97},onClick:()=>s(A.id),className:`p-4 rounded-3xl text-left border shadow-sm transition-all ${L?"bg-gradient-to-br from-[#C084FC] to-[#A855F7] text-white border-transparent shadow-lg shadow-purple-200":"bg-white/90 border-white/60 text-[#1E1B4B] hover:-translate-y-0.5"}`,children:r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:`p-2 rounded-2xl ${L?"bg-white/20 text-white":"bg-[#F5F3FF] text-[#7C3AED]"}`,children:r.jsx(O,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-base font-semibold",children:A.title}),r.jsx("p",{className:`text-sm ${L?"text-white/80":"text-gray-500"}`,children:A.description})]})]})},A.id)})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm font-semibold text-[#6B21A8]",children:"2. "}),r.jsx(P.button,{whileTap:{scale:.98},onClick:E,disabled:p||!c.length,className:`w-full rounded-2xl px-6 py-4 text-white font-bold shadow-lg ${p||!c.length?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-br from-[#7C3AED] to-[#A855F7]"}`,children:p?" ...":"  "}),r.jsx("p",{className:"text-xs text-gray-500",children:"      PDF    PDF    ."})]})]})]}),r.jsx("div",{id:"pdf-print-area",className:"pdf-print-root",children:C})]})}const S$=["card","table","simple","quiz-simple","quiz-synonym","quiz-synonym-answer"],dm=t=>{if(!t)return[];if(Array.isArray(t))return t.map(e=>typeof e=="string"?e:typeof e=="object"&&e!==null?e.word:"").map(e=>(e||"").trim()).filter(Boolean);if(typeof t=="string"){try{const e=JSON.parse(t);if(Array.isArray(e))return dm(e)}catch{}return t.split(/[\n,]+/).map(e=>e.trim()).filter(Boolean)}return[]},um=t=>{if(!t)return[];if(Array.isArray(t))return t.map(e=>{if(typeof e=="string"){const[n,s]=e.split(":").map(o=>o.trim());return{word:n,meaning:s||""}}return typeof e=="object"&&e!==null?{word:String(e.word||"").trim(),meaning:String(e.meaning||"").trim()}:{word:"",meaning:""}}).filter(e=>e.word);if(typeof t=="string"){try{const e=JSON.parse(t);if(Array.isArray(e))return um(e)}catch{}return t.split(/[,;]/).map(e=>{const[n,s]=e.split(":").map(o=>o.trim());return{word:n,meaning:s||""}}).filter(e=>e.word)}return typeof t=="object"?um([t]):[]},N$=t=>(t||[]).map((e,n)=>{const s=e||{},o=String(s.word||s.term||"").trim();return o?{id:n+1,word:o,pronunciation:s.pronunciation||"",partOfSpeech:s.partOfSpeech||s.part_of_speech||"",meaning:s.meaning||s.translation||"",definition:s.definition||"",synonyms:dm(s.synonyms),antonyms:dm(s.antonyms),derivatives:um(s.derivatives),example:s.example||s.example_sentence||"",translation:s.translation||"",translationHighlight:s.translationHighlight||s.translation_highlight||"",etymology:s.etymology||""}:null}).filter(Boolean),k$=t=>t?S$.includes(t):!1;function C$(){const t=x.useMemo(()=>new URLSearchParams(window.location.search),[]),e=t.get("vocabularyId")||t.get("vocabId")||"",n=k$(t.get("layout"))?t.get("layout"):"card",[s,o]=x.useState([]),[l,c]=x.useState(""),[d,h]=x.useState(!1),[f,p]=x.useState(null);x.useEffect(()=>{const b="pdf-print-page";return document.body.classList.add(b),document.documentElement.classList.add(b),()=>{document.body.classList.remove(b),document.documentElement.classList.remove(b)}},[]);const m=x.useCallback(async()=>{if(!e.trim()){p(" ID   .");return}const b=localStorage.getItem("supabase_access_token");if(!b){p(" .     .");return}try{h(!0),p(null);const j=await fetch(`https://${Ve}.supabase.co/functions/v1/server/user-vocabularies/${e.trim()}`,{headers:{Authorization:`Bearer ${b}`}});if(!j.ok){const E=await j.json().catch(()=>({}));throw new Error(E.error||E.message||"  .")}const k=await j.json(),N=N$(k.words||[]);if(!N.length)throw new Error("   .     .");o(N),c(k.vocabulary?.title||"AI Vocabulary")}catch(j){console.error(j),o([]),p(j instanceof Error?j.message:"  .")}finally{h(!1)}},[e]);x.useEffect(()=>{m()},[m]),x.useEffect(()=>{if(!d&&!f&&s.length){const b=setTimeout(()=>{window.print()},200);return()=>clearTimeout(b)}},[d,f,s.length]);const y=x.useMemo(()=>({headerTitle:l||"AI Vocabulary",headerDescription:s.length?`${s.length.toLocaleString()} `:"",footerLeft:new Date().toLocaleDateString("ko-KR")}),[s.length,l]),w=()=>{if(!s.length)return null;switch(n){case"card":return r.jsx(Ys,{headerContent:r.jsx(Ks,{headerInfo:y,showFooter:!0}),showHeaderOnFirstPageOnly:!0,children:s.map(b=>r.jsx(Dg,{...b},b.id))});case"table":return r.jsx(Og,{data:s,headerInfo:y});case"simple":return r.jsx(Fg,{data:s,headerInfo:y});case"quiz-simple":return r.jsx(Ig,{data:s,headerInfo:y});case"quiz-synonym":return r.jsx(Mg,{data:s,headerInfo:y});case"quiz-synonym-answer":return r.jsx(Lg,{data:s,headerInfo:y});default:return null}};return r.jsxs("div",{className:"min-h-screen bg-white pdf-print-root",children:[d&&r.jsx("div",{className:"py-12 text-center text-gray-500",children:"  ..."}),f&&r.jsx("div",{className:"py-12 text-center text-rose-600",children:f}),!d&&!f&&s.length>0&&r.jsx("div",{id:"pdf-print-area",children:w()})]})}const np={name:"",logo_url:"",application_start:"",application_end:"",exam_date:"",result_date:""};function E$({universities:t,departments:e,onRefresh:n}){const s=x.useMemo(()=>os(),[]),[o,l]=x.useState(np),[c,d]=x.useState(null),[h,f]=x.useState(!1),p=async b=>{b.preventDefault(),o.name?.trim()&&(c?await s.from("universities").update(o).eq("id",c):await s.from("universities").insert(o),l(np),d(null),n())},m=b=>{d(b.id),l({name:b.name,logo_url:b.logo_url||"",application_start:b.application_start||"",application_end:b.application_end||"",exam_date:b.exam_date||"",result_date:b.result_date||""})},y=async b=>{window.confirm("  ?    .")&&(await s.from("universities").delete().eq("id",b),n())},w=async b=>{const j=b.target.files?.[0];if(j){f(!0);try{const N=(await j.text()).split(/\r?\n/).filter(Boolean),[E,...C]=N,A=E.split(",").map(L=>L.trim()),O=C.map(L=>{const B=L.split(","),R={};return A.forEach((z,X)=>{R[z]=B[X]?.trim()}),R});O.length&&(await s.from("universities").upsert(O,{onConflict:"name"}),n())}finally{f(!1)}}};return r.jsxs("section",{className:"admission-card space-y-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"admission-section-title",children:"  "}),r.jsx("p",{className:"text-sm text-gray-500",children:", ,    CSV    ."})]}),r.jsxs("label",{className:"admission-button-primary cursor-pointer",children:[h?" ...":"CSV ",r.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:w,disabled:h})]})]}),r.jsxs("form",{onSubmit:p,className:"admission-grid two",children:[r.jsxs("label",{className:"space-y-2",children:[r.jsx("span",{className:"text-sm text-gray-500",children:""}),r.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:o.name,onChange:b=>l(j=>({...j,name:b.target.value})),placeholder:": "})]}),r.jsxs("label",{className:"space-y-2",children:[r.jsx("span",{className:"text-sm text-gray-500",children:" URL"}),r.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:o.logo_url||"",onChange:b=>l(j=>({...j,logo_url:b.target.value})),placeholder:"https://"})]}),["application_start","application_end","exam_date","result_date"].map(b=>r.jsxs("label",{className:"space-y-2",children:[r.jsx("span",{className:"text-sm text-gray-500",children:{application_start:" ",application_end:" ",exam_date:"",result_date:" "}[b]}),r.jsx("input",{type:"date",className:"w-full border rounded-xl px-3 py-2",value:o[b]||"",onChange:j=>l(k=>({...k,[b]:j.target.value}))})]},b)),r.jsxs("div",{className:"col-span-full flex gap-3",children:[r.jsx("button",{className:"admission-button-primary",type:"submit",children:c?"  ":" "}),c&&r.jsx("button",{type:"button",className:"admission-button-primary bg-gray-300 text-gray-800",onClick:()=>{d(null),l(np)},children:""})]})]}),r.jsx("div",{className:"overflow-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-xs uppercase tracking-widest text-gray-500",children:[r.jsx("th",{className:"py-2",children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:" "}),r.jsx("th",{})]})}),r.jsx("tbody",{children:t.map(b=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"py-2 font-semibold",children:b.name}),r.jsxs("td",{className:"text-xs text-gray-500",children:[b.application_start||"-"," ~ ",b.application_end||"-"]}),r.jsx("td",{children:b.exam_date||"-"}),r.jsx("td",{children:b.result_date||"-"}),r.jsx("td",{children:e.filter(j=>j.university_id===b.id).length}),r.jsxs("td",{className:"flex gap-2 justify-end py-2",children:[r.jsx("button",{className:"text-[#7c3aed]",onClick:()=>m(b),children:""}),r.jsx("button",{className:"text-rose-500",onClick:()=>y(b.id),children:""})]})]},b.id))})]})})]})}const ld=["","","","1",""],_$={:"",:"",:"","1":"",:""};function A$({universities:t,matrix:e,onChangeStatus:n}){const s=o=>{if(!o)return ld[0];const l=ld.indexOf(o);return ld[(l+1)%ld.length]};return r.jsxs("section",{className:"admission-card space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"admission-section-title",children:"   "}),r.jsx("p",{className:"text-sm text-gray-500",children:"       ."})]})}),r.jsx("div",{className:"overflow-auto",children:r.jsxs("table",{className:"admission-matrix-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left",children:""}),t.map(o=>r.jsx("th",{children:o.name},o.id))]})}),r.jsx("tbody",{children:e.map(o=>r.jsxs("tr",{children:[r.jsx("td",{className:"text-left font-semibold",children:o.studentName}),t.map(l=>{const c=o.statuses[l.id];return r.jsx("td",{className:"admission-matrix-status",onClick:()=>n(o.studentId,l.id,s(c)),title:c||"",children:c?_$[c]:""},l.id)})]},o.studentId))})]})})]})}function T$({universities:t,applicants:e,selectedUniversity:n,onSelectUniversity:s}){return r.jsxs("section",{className:"admission-card space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"admission-section-title",children:"  "}),r.jsx("p",{className:"text-sm text-gray-500",children:"       ."})]}),r.jsxs("select",{value:n,onChange:o=>s(o.target.value),className:"border rounded-xl px-3 py-2 min-w-[200px]",children:[r.jsx("option",{value:"",children:" "}),t.map(o=>r.jsx("option",{value:o.id,children:o.name},o.id))]})]}),n?r.jsx("div",{className:"overflow-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-xs uppercase tracking-widest text-gray-500",children:[r.jsx("th",{className:"py-2",children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""})]})}),r.jsx("tbody",{children:e.map(o=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"py-2 font-semibold",children:o.student_name}),r.jsx("td",{children:o.department_name||"-"}),r.jsx("td",{children:o.status}),r.jsx("td",{className:"text-gray-500",children:o.admin_notes||"-"})]},o.id))})]})}):r.jsx("div",{className:"text-center text-gray-500 py-10",children:"   ."})]})}const Cb={:"#f43f5e",:"#3b82f6",:"#10b981"};function P$({loading:t,items:e}){return r.jsxs("section",{className:"admission-card space-y-5",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"admission-section-title",children:"D-day "}),r.jsx("p",{className:"text-sm text-gray-500",children:"     ."})]})}),t&&r.jsx("p",{className:"text-center text-gray-500 py-6",children:"  ..."}),!t&&r.jsxs("div",{className:"admission-grid two",children:[e.map(n=>r.jsxs("article",{className:"border rounded-2xl p-4 bg-white/80",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-gray-500",children:n.deadlineType}),r.jsx("h3",{className:"text-xl font-bold",children:n.universityName}),r.jsx("p",{className:"text-sm text-gray-500",children:n.date})]}),r.jsxs("span",{className:"admission-chip",style:{background:`${Cb[n.deadlineType]}22`,color:Cb[n.deadlineType]},children:["D-",n.countdown]})]}),r.jsx("div",{className:"mt-3 text-sm text-gray-600",children:n.students.length?r.jsx("ul",{className:"list-disc pl-5 space-y-1",children:n.students.map(s=>r.jsx("li",{children:s.name},s.id))}):r.jsx("p",{children:"   ."})})]},`${n.universityId}-${n.deadlineType}`)),!e.length&&r.jsx("p",{className:"text-center text-gray-500 col-span-full",children:"  ."})]})]})}const R$={:"",:"",:"","1":"",:""};function D$(){const t=x.useMemo(()=>os(),[]),[e,n]=x.useState("universities"),[s,o]=x.useState([]),[l,c]=x.useState([]),[d,h]=x.useState([]),[f,p]=x.useState([]),[m,y]=x.useState(""),[w,b]=x.useState([]),[j,k]=x.useState(!1),N=async()=>{const{data:R}=await t.from("universities").select("*").order("name");o(R||[])},E=async()=>{const{data:R}=await t.from("departments").select("*");c(R||[])},C=async()=>{const{data:R}=await t.functions.invoke("admission-manager",{body:{action:"get-student-matrix"}});h(R||[])},A=async R=>{if(!R)return;const{data:z}=await t.from("student_applications").select("id,student_id,university_id,department_id,status,admin_notes,profiles:student_id(full_name),universities(name),departments(name)").eq("university_id",R),X=z?.map(ae=>({id:ae.id,student_id:ae.student_id,student_name:ae.profiles?.full_name||"",university_id:ae.university_id,university_name:ae.universities?.name,department_id:ae.department_id,department_name:ae.departments?.name,status:ae.status,admin_notes:ae.admin_notes}))||[];p(X)},O=async()=>{k(!0);try{const{data:R}=await t.functions.invoke("admission-manager",{body:{action:"get-dday-board"}});b(R||[])}finally{k(!1)}};x.useEffect(()=>{N(),E(),C(),O()},[]),x.useEffect(()=>{m&&A(m)},[m]);const L=async(R,z,X)=>{await t.functions.invoke("admission-manager",{body:{action:"update-status",payload:{studentId:R,universityId:z,status:X}}}),C(),m&&A(m)},B=()=>{const R=["",...s.map(ee=>ee.name)],z=d.map(ee=>[ee.studentName,...s.map(re=>ee.statuses[re.id]?R$[ee.statuses[re.id]]:"-")]),X=[R,...z].map(ee=>ee.join(",")).join(`
`),ae=new Blob([X],{type:"text/csv;charset=utf-8;"}),K=window.URL.createObjectURL(ae),te=document.createElement("a");te.href=K,te.download=`admission-status-${Date.now()}.csv`,te.click(),window.URL.revokeObjectURL(K)};return r.jsxs("div",{className:"admission-admin-root",children:[r.jsxs("header",{className:"max-w-6xl mx-auto px-6 py-12",children:[r.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 text-[#7c3aed] hover:text-[#4c1d95] transition-colors mb-4",children:[r.jsx(Ir,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:""})]}),r.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-[#7c3aed] font-semibold",children:"Admission Manager"}),r.jsx("h1",{className:"text-3xl font-black text-[#1e1b4b] mt-2",children:"  "}),r.jsx("p",{className:"text-[#4c1d95]",children:"       ."}),r.jsxs("div",{className:"flex gap-3 mt-6 flex-wrap",children:[r.jsx("button",{className:`admission-button-primary ${e==="universities"?"!bg-[#4c1d95]":""}`,onClick:()=>n("universities"),children:" "}),r.jsx("button",{className:`admission-button-primary ${e==="matrix"?"!bg-[#4c1d95]":""}`,onClick:()=>n("matrix"),children:" "}),r.jsx("button",{className:`admission-button-primary ${e==="applicants"?"!bg-[#4c1d95]":""}`,onClick:()=>n("applicants"),children:" "}),r.jsx("button",{className:`admission-button-primary ${e==="dday"?"!bg-[#4c1d95]":""}`,onClick:()=>n("dday"),children:"D-day "}),r.jsx("button",{className:"admission-button-primary ml-auto",onClick:B,children:"   "})]})]}),r.jsxs("main",{className:"max-w-6xl mx-auto px-6 admission-grid",children:[e==="universities"&&r.jsx(E$,{universities:s,departments:l,onRefresh:()=>{N(),E()}}),e==="matrix"&&r.jsx(A$,{universities:s,matrix:d,onChangeStatus:L}),e==="applicants"&&r.jsx(T$,{universities:s,applicants:f,selectedUniversity:m,onSelectUniversity:y}),e==="dday"&&r.jsx(P$,{loading:j,items:w})]})]})}const zN=document.getElementById("root");if(!zN)throw new Error("Root element not found");BC.createRoot(zN).render(r.jsx(Z5,{children:r.jsxs(T5,{children:[r.jsx(yo,{path:"/admin/admission/*",element:r.jsx(D$,{})}),r.jsx(yo,{path:"/student/calendar",element:r.jsx(LN,{})}),r.jsx(yo,{path:"/export/print",element:r.jsx(C$,{})}),r.jsx(yo,{path:"/export",element:r.jsx(j$,{})}),r.jsx(yo,{path:"/*",element:r.jsx(c$,{})})]})}));
