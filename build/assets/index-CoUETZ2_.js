function aj(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function zu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function U5(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var Jf={exports:{}},ol={},Zf={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function H5(){if(Cv)return ht;Cv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function y(M){return M===null||typeof M!="object"?null:(M=p&&M[p]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,j={};function S(M,W,L){this.props=M,this.context=W,this.refs=j,this.updater=L||v}S.prototype.isReactComponent={},S.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},S.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function N(){}N.prototype=S.prototype;function C(M,W,L){this.props=M,this.context=W,this.refs=j,this.updater=L||v}var A=C.prototype=new N;A.constructor=C,b(A,S.prototype),A.isPureReactComponent=!0;var E=Array.isArray,_=Object.prototype.hasOwnProperty,T={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function R(M,W,L){var K,U={},ee=null,Y=null;if(W!=null)for(K in W.ref!==void 0&&(Y=W.ref),W.key!==void 0&&(ee=""+W.key),W)_.call(W,K)&&!D.hasOwnProperty(K)&&(U[K]=W[K]);var le=arguments.length-2;if(le===1)U.children=L;else if(1<le){for(var fe=Array(le),ue=0;ue<le;ue++)fe[ue]=arguments[ue+2];U.children=fe}if(M&&M.defaultProps)for(K in le=M.defaultProps,le)U[K]===void 0&&(U[K]=le[K]);return{$$typeof:e,type:M,key:ee,ref:Y,props:U,_owner:T.current}}function V(M,W){return{$$typeof:e,type:M.type,key:W,ref:M.ref,props:M.props,_owner:M._owner}}function G(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function ne(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(L){return W[L]})}var ie=/\/+/g;function oe(M,W){return typeof M=="object"&&M!==null&&M.key!=null?ne(""+M.key):W.toString(36)}function Z(M,W,L,K,U){var ee=typeof M;(ee==="undefined"||ee==="boolean")&&(M=null);var Y=!1;if(M===null)Y=!0;else switch(ee){case"string":case"number":Y=!0;break;case"object":switch(M.$$typeof){case e:case t:Y=!0}}if(Y)return Y=M,U=U(Y),M=K===""?"."+oe(Y,0):K,E(U)?(L="",M!=null&&(L=M.replace(ie,"$&/")+"/"),Z(U,W,L,"",function(ue){return ue})):U!=null&&(G(U)&&(U=V(U,L+(!U.key||Y&&Y.key===U.key?"":(""+U.key).replace(ie,"$&/")+"/")+M)),W.push(U)),1;if(Y=0,K=K===""?".":K+":",E(M))for(var le=0;le<M.length;le++){ee=M[le];var fe=K+oe(ee,le);Y+=Z(ee,W,L,fe,U)}else if(fe=y(M),typeof fe=="function")for(M=fe.call(M),le=0;!(ee=M.next()).done;)ee=ee.value,fe=K+oe(ee,le++),Y+=Z(ee,W,L,fe,U);else if(ee==="object")throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Y}function F(M,W,L){if(M==null)return M;var K=[],U=0;return Z(M,K,"","",function(ee){return W.call(L,ee,U++)}),K}function z(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(L){(M._status===0||M._status===-1)&&(M._status=1,M._result=L)},function(L){(M._status===0||M._status===-1)&&(M._status=2,M._result=L)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var B={current:null},O={transition:null},$={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:O,ReactCurrentOwner:T};function q(){throw Error("act(...) is not supported in production builds of React.")}return ht.Children={map:F,forEach:function(M,W,L){F(M,function(){W.apply(this,arguments)},L)},count:function(M){var W=0;return F(M,function(){W++}),W},toArray:function(M){return F(M,function(W){return W})||[]},only:function(M){if(!G(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ht.Component=S,ht.Fragment=n,ht.Profiler=i,ht.PureComponent=C,ht.StrictMode=s,ht.Suspense=u,ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,ht.act=q,ht.cloneElement=function(M,W,L){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var K=b({},M.props),U=M.key,ee=M.ref,Y=M._owner;if(W!=null){if(W.ref!==void 0&&(ee=W.ref,Y=T.current),W.key!==void 0&&(U=""+W.key),M.type&&M.type.defaultProps)var le=M.type.defaultProps;for(fe in W)_.call(W,fe)&&!D.hasOwnProperty(fe)&&(K[fe]=W[fe]===void 0&&le!==void 0?le[fe]:W[fe])}var fe=arguments.length-2;if(fe===1)K.children=L;else if(1<fe){le=Array(fe);for(var ue=0;ue<fe;ue++)le[ue]=arguments[ue+2];K.children=le}return{$$typeof:e,type:M.type,key:U,ref:ee,props:K,_owner:Y}},ht.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},ht.createElement=R,ht.createFactory=function(M){var W=R.bind(null,M);return W.type=M,W},ht.createRef=function(){return{current:null}},ht.forwardRef=function(M){return{$$typeof:d,render:M}},ht.isValidElement=G,ht.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:z}},ht.memo=function(M,W){return{$$typeof:f,type:M,compare:W===void 0?null:W}},ht.startTransition=function(M){var W=O.transition;O.transition={};try{M()}finally{O.transition=W}},ht.unstable_act=q,ht.useCallback=function(M,W){return B.current.useCallback(M,W)},ht.useContext=function(M){return B.current.useContext(M)},ht.useDebugValue=function(){},ht.useDeferredValue=function(M){return B.current.useDeferredValue(M)},ht.useEffect=function(M,W){return B.current.useEffect(M,W)},ht.useId=function(){return B.current.useId()},ht.useImperativeHandle=function(M,W,L){return B.current.useImperativeHandle(M,W,L)},ht.useInsertionEffect=function(M,W){return B.current.useInsertionEffect(M,W)},ht.useLayoutEffect=function(M,W){return B.current.useLayoutEffect(M,W)},ht.useMemo=function(M,W){return B.current.useMemo(M,W)},ht.useReducer=function(M,W,L){return B.current.useReducer(M,W,L)},ht.useRef=function(M){return B.current.useRef(M)},ht.useState=function(M){return B.current.useState(M)},ht.useSyncExternalStore=function(M,W,L){return B.current.useSyncExternalStore(M,W,L)},ht.useTransition=function(){return B.current.useTransition()},ht.version="18.3.1",ht}var Ev;function Gl(){return Ev||(Ev=1,Zf.exports=H5()),Zf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function q5(){if(Av)return ol;Av=1;var e=Gl(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,u,f){var m,p={},y=null,v=null;f!==void 0&&(y=""+f),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(v=u.ref);for(m in u)s.call(u,m)&&!a.hasOwnProperty(m)&&(p[m]=u[m]);if(d&&d.defaultProps)for(m in u=d.defaultProps,u)p[m]===void 0&&(p[m]=u[m]);return{$$typeof:t,type:d,key:y,ref:v,props:p,_owner:i.current}}return ol.Fragment=n,ol.jsx=l,ol.jsxs=l,ol}var _v;function G5(){return _v||(_v=1,Jf.exports=q5()),Jf.exports}var r=G5(),gd={},ep={exports:{}},Wn={},tp={exports:{}},np={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function K5(){return Tv||(Tv=1,(function(e){function t(O,$){var q=O.length;O.push($);e:for(;0<q;){var M=q-1>>>1,W=O[M];if(0<i(W,$))O[M]=$,O[q]=W,q=M;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var $=O[0],q=O.pop();if(q!==$){O[0]=q;e:for(var M=0,W=O.length,L=W>>>1;M<L;){var K=2*(M+1)-1,U=O[K],ee=K+1,Y=O[ee];if(0>i(U,q))ee<W&&0>i(Y,U)?(O[M]=Y,O[ee]=q,M=ee):(O[M]=U,O[K]=q,M=K);else if(ee<W&&0>i(Y,q))O[M]=Y,O[ee]=q,M=ee;else break e}}return $}function i(O,$){var q=O.sortIndex-$.sortIndex;return q!==0?q:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var u=[],f=[],m=1,p=null,y=3,v=!1,b=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(O){for(var $=n(f);$!==null;){if($.callback===null)s(f);else if($.startTime<=O)s(f),$.sortIndex=$.expirationTime,t(u,$);else break;$=n(f)}}function E(O){if(j=!1,A(O),!b)if(n(u)!==null)b=!0,z(_);else{var $=n(f);$!==null&&B(E,$.startTime-O)}}function _(O,$){b=!1,j&&(j=!1,N(R),R=-1),v=!0;var q=y;try{for(A($),p=n(u);p!==null&&(!(p.expirationTime>$)||O&&!ne());){var M=p.callback;if(typeof M=="function"){p.callback=null,y=p.priorityLevel;var W=M(p.expirationTime<=$);$=e.unstable_now(),typeof W=="function"?p.callback=W:p===n(u)&&s(u),A($)}else s(u);p=n(u)}if(p!==null)var L=!0;else{var K=n(f);K!==null&&B(E,K.startTime-$),L=!1}return L}finally{p=null,y=q,v=!1}}var T=!1,D=null,R=-1,V=5,G=-1;function ne(){return!(e.unstable_now()-G<V)}function ie(){if(D!==null){var O=e.unstable_now();G=O;var $=!0;try{$=D(!0,O)}finally{$?oe():(T=!1,D=null)}}else T=!1}var oe;if(typeof C=="function")oe=function(){C(ie)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,F=Z.port2;Z.port1.onmessage=ie,oe=function(){F.postMessage(null)}}else oe=function(){S(ie,0)};function z(O){D=O,T||(T=!0,oe())}function B(O,$){R=S(function(){O(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,z(_))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(O){switch(y){case 1:case 2:case 3:var $=3;break;default:$=y}var q=y;y=$;try{return O()}finally{y=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var q=y;y=O;try{return $()}finally{y=q}},e.unstable_scheduleCallback=function(O,$,q){var M=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?M+q:M):q=M,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=q+W,O={id:m++,callback:$,priorityLevel:O,startTime:q,expirationTime:W,sortIndex:-1},q>M?(O.sortIndex=q,t(f,O),n(u)===null&&O===n(f)&&(j?(N(R),R=-1):j=!0,B(E,q-M))):(O.sortIndex=W,t(u,O),b||v||(b=!0,z(_))),O},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(O){var $=y;return function(){var q=y;y=$;try{return O.apply(this,arguments)}finally{y=q}}}})(np)),np}var Pv;function Y5(){return Pv||(Pv=1,tp.exports=K5()),tp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function Q5(){if(Rv)return Wn;Rv=1;var e=Gl(),t=Y5();function n(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function a(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(i[o]=c,o=0;o<c.length;o++)s.add(c[o])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function y(o){return u.call(p,o)?!0:u.call(m,o)?!1:f.test(o)?p[o]=!0:(m[o]=!0,!1)}function v(o,c,h,x){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function b(o,c,h,x){if(c===null||typeof c>"u"||v(o,c,h,x))return!0;if(x)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function j(o,c,h,x,w,k,P){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=w,this.mustUseProperty=h,this.propertyName=o,this.type=c,this.sanitizeURL=k,this.removeEmptyString=P}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new j(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];S[c]=new j(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new j(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new j(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new j(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new j(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new j(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new j(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new j(o,5,!1,o.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(N,C);S[c]=new j(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(N,C);S[c]=new j(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(N,C);S[c]=new j(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new j(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new j(o,1,!1,o.toLowerCase(),null,!0,!0)});function A(o,c,h,x){var w=S.hasOwnProperty(c)?S[c]:null;(w!==null?w.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(b(c,h,w,x)&&(h=null),x||w===null?y(c)&&(h===null?o.removeAttribute(c):o.setAttribute(c,""+h)):w.mustUseProperty?o[w.propertyName]=h===null?w.type===3?!1:"":h:(c=w.attributeName,x=w.attributeNamespace,h===null?o.removeAttribute(c):(w=w.type,h=w===3||w===4&&h===!0?"":""+h,x?o.setAttributeNS(x,c,h):o.setAttribute(c,h))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),T=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),ne=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),O=Symbol.iterator;function $(o){return o===null||typeof o!="object"?null:(o=O&&o[O]||o["@@iterator"],typeof o=="function"?o:null)}var q=Object.assign,M;function W(o){if(M===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);M=c&&c[1]||""}return`
`+M+o}var L=!1;function K(o,c){if(!o||L)return"";L=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ce){var x=ce}Reflect.construct(o,[],c)}else{try{c.call()}catch(ce){x=ce}o.call(c.prototype)}else{try{throw Error()}catch(ce){x=ce}o()}}catch(ce){if(ce&&x&&typeof ce.stack=="string"){for(var w=ce.stack.split(`
`),k=x.stack.split(`
`),P=w.length-1,H=k.length-1;1<=P&&0<=H&&w[P]!==k[H];)H--;for(;1<=P&&0<=H;P--,H--)if(w[P]!==k[H]){if(P!==1||H!==1)do if(P--,H--,0>H||w[P]!==k[H]){var X=`
`+w[P].replace(" at new "," at ");return o.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",o.displayName)),X}while(1<=P&&0<=H);break}}}finally{L=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?W(o):""}function U(o){switch(o.tag){case 5:return W(o.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return o=K(o.type,!1),o;case 11:return o=K(o.type.render,!1),o;case 1:return o=K(o.type,!0),o;default:return""}}function ee(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case D:return"Fragment";case T:return"Portal";case V:return"Profiler";case R:return"StrictMode";case oe:return"Suspense";case Z:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case ne:return(o.displayName||"Context")+".Consumer";case G:return(o._context.displayName||"Context")+".Provider";case ie:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case F:return c=o.displayName||null,c!==null?c:ee(o.type)||"Memo";case z:c=o._payload,o=o._init;try{return ee(o(c))}catch{}}return null}function Y(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(c);case 8:return c===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function le(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function fe(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ue(o){var c=fe(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),x=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,k=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return w.call(this)},set:function(P){x=""+P,k.call(this,P)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return x},setValue:function(P){x=""+P},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Se(o){o._valueTracker||(o._valueTracker=ue(o))}function Pe(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),x="";return o&&(x=fe(o)?o.checked?"true":"false":o.value),o=x,o!==h?(c.setValue(o),!0):!1}function Ye(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ze(o,c){var h=c.checked;return q({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function ye(o,c){var h=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;h=le(c.value!=null?c.value:h),o._wrapperState={initialChecked:x,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function re(o,c){c=c.checked,c!=null&&A(o,"checked",c,!1)}function ve(o,c){re(o,c);var h=le(c.value),x=c.type;if(h!=null)x==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?lt(o,c.type,h):c.hasOwnProperty("defaultValue")&&lt(o,c.type,le(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function Qe(o,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,h||c===o.value||(o.value=c),o.defaultValue=c}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function lt(o,c,h){(c!=="number"||Ye(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var ct=Array.isArray;function vt(o,c,h,x){if(o=o.options,c){c={};for(var w=0;w<h.length;w++)c["$"+h[w]]=!0;for(h=0;h<o.length;h++)w=c.hasOwnProperty("$"+o[h].value),o[h].selected!==w&&(o[h].selected=w),w&&x&&(o[h].defaultSelected=!0)}else{for(h=""+le(h),c=null,w=0;w<o.length;w++){if(o[w].value===h){o[w].selected=!0,x&&(o[w].defaultSelected=!0);return}c!==null||o[w].disabled||(c=o[w])}c!==null&&(c.selected=!0)}}function ut(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Ce(o,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(n(92));if(ct(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),h=c}o._wrapperState={initialValue:le(h)}}function et(o,c){var h=le(c.value),x=le(c.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),c.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),x!=null&&(o.defaultValue=""+x)}function he(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function ge(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Te(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?ge(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var De,qe=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,x,w){MSApp.execUnsafeLocalFunction(function(){return o(c,h,x,w)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(De=De||document.createElement("div"),De.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=De.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function mt(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Et=["Webkit","ms","Moz","O"];Object.keys(jt).forEach(function(o){Et.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),jt[c]=jt[o]})});function In(o,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||jt.hasOwnProperty(o)&&jt[o]?(""+c).trim():c+"px"}function rn(o,c){o=o.style;for(var h in c)if(c.hasOwnProperty(h)){var x=h.indexOf("--")===0,w=In(h,c[h],x);h==="float"&&(h="cssFloat"),x?o.setProperty(h,w):o[h]=w}}var vn=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sn(o,c){if(c){if(vn[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function _n(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var on=null;function at(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Q=null,we=null,pe=null;function Ie(o){if(o=Ha(o)){if(typeof Q!="function")throw Error(n(280));var c=o.stateNode;c&&(c=Pc(c),Q(o.stateNode,o.type,c))}}function J(o){we?pe?pe.push(o):pe=[o]:we=o}function xe(){if(we){var o=we,c=pe;if(pe=we=null,Ie(o),c)for(o=0;o<c.length;o++)Ie(c[o])}}function Ee(o,c){return o(c)}function Le(){}var rt=!1;function it(o,c,h){if(rt)return o(c,h);rt=!0;try{return Ee(o,c,h)}finally{rt=!1,(we!==null||pe!==null)&&(Le(),xe())}}function We(o,c){var h=o.stateNode;if(h===null)return null;var x=Pc(h);if(x===null)return null;h=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var xt=!1;if(d)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){xt=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{xt=!1}function St(o,c,h,x,w,k,P,H,X){var ce=Array.prototype.slice.call(arguments,3);try{c.apply(h,ce)}catch(je){this.onError(je)}}var fn=!1,Ot=null,Ae=!1,Ve=null,Re={onError:function(o){fn=!0,Ot=o}};function ot(o,c,h,x,w,k,P,H,X){fn=!1,Ot=null,St.apply(Re,arguments)}function Qt(o,c,h,x,w,k,P,H,X){if(ot.apply(this,arguments),fn){if(fn){var ce=Ot;fn=!1,Ot=null}else throw Error(n(198));Ae||(Ae=!0,Ve=ce)}}function ft(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function an(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function Fn(o){if(ft(o)!==o)throw Error(n(188))}function Jr(o){var c=o.alternate;if(!c){if(c=ft(o),c===null)throw Error(n(188));return c!==o?null:o}for(var h=o,x=c;;){var w=h.return;if(w===null)break;var k=w.alternate;if(k===null){if(x=w.return,x!==null){h=x;continue}break}if(w.child===k.child){for(k=w.child;k;){if(k===h)return Fn(w),o;if(k===x)return Fn(w),c;k=k.sibling}throw Error(n(188))}if(h.return!==x.return)h=w,x=k;else{for(var P=!1,H=w.child;H;){if(H===h){P=!0,h=w,x=k;break}if(H===x){P=!0,x=w,h=k;break}H=H.sibling}if(!P){for(H=k.child;H;){if(H===h){P=!0,h=k,x=w;break}if(H===x){P=!0,x=k,h=w;break}H=H.sibling}if(!P)throw Error(n(189))}}if(h.alternate!==x)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:c}function Ns(o){return o=Jr(o),o!==null?J0(o):null}function J0(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=J0(o);if(c!==null)return c;o=o.sibling}return null}var Z0=t.unstable_scheduleCallback,ex=t.unstable_cancelCallback,tE=t.unstable_shouldYield,nE=t.unstable_requestPaint,Vt=t.unstable_now,rE=t.unstable_getCurrentPriorityLevel,xh=t.unstable_ImmediatePriority,tx=t.unstable_UserBlockingPriority,uc=t.unstable_NormalPriority,sE=t.unstable_LowPriority,nx=t.unstable_IdlePriority,hc=null,Mr=null;function iE(o){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(hc,o,void 0,(o.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:lE,oE=Math.log,aE=Math.LN2;function lE(o){return o>>>=0,o===0?32:31-(oE(o)/aE|0)|0}var fc=64,pc=4194304;function Ea(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function mc(o,c){var h=o.pendingLanes;if(h===0)return 0;var x=0,w=o.suspendedLanes,k=o.pingedLanes,P=h&268435455;if(P!==0){var H=P&~w;H!==0?x=Ea(H):(k&=P,k!==0&&(x=Ea(k)))}else P=h&~w,P!==0?x=Ea(P):k!==0&&(x=Ea(k));if(x===0)return 0;if(c!==0&&c!==x&&(c&w)===0&&(w=x&-x,k=c&-c,w>=k||w===16&&(k&4194240)!==0))return c;if((x&4)!==0&&(x|=h&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=x;0<c;)h=31-gr(c),w=1<<h,x|=o[h],c&=~w;return x}function cE(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dE(o,c){for(var h=o.suspendedLanes,x=o.pingedLanes,w=o.expirationTimes,k=o.pendingLanes;0<k;){var P=31-gr(k),H=1<<P,X=w[P];X===-1?((H&h)===0||(H&x)!==0)&&(w[P]=cE(H,c)):X<=c&&(o.expiredLanes|=H),k&=~H}}function yh(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function rx(){var o=fc;return fc<<=1,(fc&4194240)===0&&(fc=64),o}function vh(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function Aa(o,c,h){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-gr(c),o[c]=h}function uE(o,c){var h=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<h;){var w=31-gr(h),k=1<<w;c[w]=0,x[w]=-1,o[w]=-1,h&=~k}}function bh(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var x=31-gr(h),w=1<<x;w&c|o[x]&c&&(o[x]|=c),h&=~w}}var kt=0;function sx(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var ix,wh,ox,ax,lx,jh=!1,gc=[],ks=null,Cs=null,Es=null,_a=new Map,Ta=new Map,As=[],hE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cx(o,c){switch(o){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":_a.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ta.delete(c.pointerId)}}function Pa(o,c,h,x,w,k){return o===null||o.nativeEvent!==k?(o={blockedOn:c,domEventName:h,eventSystemFlags:x,nativeEvent:k,targetContainers:[w]},c!==null&&(c=Ha(c),c!==null&&wh(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),o)}function fE(o,c,h,x,w){switch(c){case"focusin":return ks=Pa(ks,o,c,h,x,w),!0;case"dragenter":return Cs=Pa(Cs,o,c,h,x,w),!0;case"mouseover":return Es=Pa(Es,o,c,h,x,w),!0;case"pointerover":var k=w.pointerId;return _a.set(k,Pa(_a.get(k)||null,o,c,h,x,w)),!0;case"gotpointercapture":return k=w.pointerId,Ta.set(k,Pa(Ta.get(k)||null,o,c,h,x,w)),!0}return!1}function dx(o){var c=ui(o.target);if(c!==null){var h=ft(c);if(h!==null){if(c=h.tag,c===13){if(c=an(h),c!==null){o.blockedOn=c,lx(o.priority,function(){ox(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function xc(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=Nh(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var x=new h.constructor(h.type,h);on=x,h.target.dispatchEvent(x),on=null}else return c=Ha(h),c!==null&&wh(c),o.blockedOn=h,!1;c.shift()}return!0}function ux(o,c,h){xc(o)&&h.delete(c)}function pE(){jh=!1,ks!==null&&xc(ks)&&(ks=null),Cs!==null&&xc(Cs)&&(Cs=null),Es!==null&&xc(Es)&&(Es=null),_a.forEach(ux),Ta.forEach(ux)}function Ra(o,c){o.blockedOn===c&&(o.blockedOn=null,jh||(jh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,pE)))}function Da(o){function c(w){return Ra(w,o)}if(0<gc.length){Ra(gc[0],o);for(var h=1;h<gc.length;h++){var x=gc[h];x.blockedOn===o&&(x.blockedOn=null)}}for(ks!==null&&Ra(ks,o),Cs!==null&&Ra(Cs,o),Es!==null&&Ra(Es,o),_a.forEach(c),Ta.forEach(c),h=0;h<As.length;h++)x=As[h],x.blockedOn===o&&(x.blockedOn=null);for(;0<As.length&&(h=As[0],h.blockedOn===null);)dx(h),h.blockedOn===null&&As.shift()}var eo=E.ReactCurrentBatchConfig,yc=!0;function mE(o,c,h,x){var w=kt,k=eo.transition;eo.transition=null;try{kt=1,Sh(o,c,h,x)}finally{kt=w,eo.transition=k}}function gE(o,c,h,x){var w=kt,k=eo.transition;eo.transition=null;try{kt=4,Sh(o,c,h,x)}finally{kt=w,eo.transition=k}}function Sh(o,c,h,x){if(yc){var w=Nh(o,c,h,x);if(w===null)zh(o,c,x,vc,h),cx(o,x);else if(fE(w,o,c,h,x))x.stopPropagation();else if(cx(o,x),c&4&&-1<hE.indexOf(o)){for(;w!==null;){var k=Ha(w);if(k!==null&&ix(k),k=Nh(o,c,h,x),k===null&&zh(o,c,x,vc,h),k===w)break;w=k}w!==null&&x.stopPropagation()}else zh(o,c,x,null,h)}}var vc=null;function Nh(o,c,h,x){if(vc=null,o=at(x),o=ui(o),o!==null)if(c=ft(o),c===null)o=null;else if(h=c.tag,h===13){if(o=an(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return vc=o,null}function hx(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rE()){case xh:return 1;case tx:return 4;case uc:case sE:return 16;case nx:return 536870912;default:return 16}default:return 16}}var _s=null,kh=null,bc=null;function fx(){if(bc)return bc;var o,c=kh,h=c.length,x,w="value"in _s?_s.value:_s.textContent,k=w.length;for(o=0;o<h&&c[o]===w[o];o++);var P=h-o;for(x=1;x<=P&&c[h-x]===w[k-x];x++);return bc=w.slice(o,1<x?1-x:void 0)}function wc(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function jc(){return!0}function px(){return!1}function qn(o){function c(h,x,w,k,P){this._reactName=h,this._targetInst=w,this.type=x,this.nativeEvent=k,this.target=P,this.currentTarget=null;for(var H in o)o.hasOwnProperty(H)&&(h=o[H],this[H]=h?h(k):k[H]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?jc:px,this.isPropagationStopped=px,this}return q(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=jc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=jc)},persist:function(){},isPersistent:jc}),c}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ch=qn(to),Oa=q({},to,{view:0,detail:0}),xE=qn(Oa),Eh,Ah,Ia,Sc=q({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Th,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ia&&(Ia&&o.type==="mousemove"?(Eh=o.screenX-Ia.screenX,Ah=o.screenY-Ia.screenY):Ah=Eh=0,Ia=o),Eh)},movementY:function(o){return"movementY"in o?o.movementY:Ah}}),mx=qn(Sc),yE=q({},Sc,{dataTransfer:0}),vE=qn(yE),bE=q({},Oa,{relatedTarget:0}),_h=qn(bE),wE=q({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),jE=qn(wE),SE=q({},to,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),NE=qn(SE),kE=q({},to,{data:0}),gx=qn(kE),CE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _E(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=AE[o])?!!c[o]:!1}function Th(){return _E}var TE=q({},Oa,{key:function(o){if(o.key){var c=CE[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=wc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?EE[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Th,charCode:function(o){return o.type==="keypress"?wc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?wc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),PE=qn(TE),RE=q({},Sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xx=qn(RE),DE=q({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Th}),OE=qn(DE),IE=q({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),FE=qn(IE),ME=q({},Sc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),$E=qn(ME),BE=[9,13,27,32],Ph=d&&"CompositionEvent"in window,Fa=null;d&&"documentMode"in document&&(Fa=document.documentMode);var LE=d&&"TextEvent"in window&&!Fa,yx=d&&(!Ph||Fa&&8<Fa&&11>=Fa),vx=" ",bx=!1;function wx(o,c){switch(o){case"keyup":return BE.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jx(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var no=!1;function zE(o,c){switch(o){case"compositionend":return jx(c);case"keypress":return c.which!==32?null:(bx=!0,vx);case"textInput":return o=c.data,o===vx&&bx?null:o;default:return null}}function WE(o,c){if(no)return o==="compositionend"||!Ph&&wx(o,c)?(o=fx(),bc=kh=_s=null,no=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return yx&&c.locale!=="ko"?null:c.data;default:return null}}var VE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sx(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!VE[o.type]:c==="textarea"}function Nx(o,c,h,x){J(x),c=Ac(c,"onChange"),0<c.length&&(h=new Ch("onChange","change",null,h,x),o.push({event:h,listeners:c}))}var Ma=null,$a=null;function UE(o){Wx(o,0)}function Nc(o){var c=ao(o);if(Pe(c))return o}function HE(o,c){if(o==="change")return c}var kx=!1;if(d){var Rh;if(d){var Dh="oninput"in document;if(!Dh){var Cx=document.createElement("div");Cx.setAttribute("oninput","return;"),Dh=typeof Cx.oninput=="function"}Rh=Dh}else Rh=!1;kx=Rh&&(!document.documentMode||9<document.documentMode)}function Ex(){Ma&&(Ma.detachEvent("onpropertychange",Ax),$a=Ma=null)}function Ax(o){if(o.propertyName==="value"&&Nc($a)){var c=[];Nx(c,$a,o,at(o)),it(UE,c)}}function qE(o,c,h){o==="focusin"?(Ex(),Ma=c,$a=h,Ma.attachEvent("onpropertychange",Ax)):o==="focusout"&&Ex()}function GE(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Nc($a)}function KE(o,c){if(o==="click")return Nc(c)}function YE(o,c){if(o==="input"||o==="change")return Nc(c)}function QE(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var xr=typeof Object.is=="function"?Object.is:QE;function Ba(o,c){if(xr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),x=Object.keys(c);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var w=h[x];if(!u.call(c,w)||!xr(o[w],c[w]))return!1}return!0}function _x(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Tx(o,c){var h=_x(o);o=0;for(var x;h;){if(h.nodeType===3){if(x=o+h.textContent.length,o<=c&&x>=c)return{node:h,offset:c-o};o=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=_x(h)}}function Px(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Px(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Rx(){for(var o=window,c=Ye();c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=Ye(o.document)}return c}function Oh(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function XE(o){var c=Rx(),h=o.focusedElem,x=o.selectionRange;if(c!==h&&h&&h.ownerDocument&&Px(h.ownerDocument.documentElement,h)){if(x!==null&&Oh(h)){if(c=x.start,o=x.end,o===void 0&&(o=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(o,h.value.length);else if(o=(c=h.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var w=h.textContent.length,k=Math.min(x.start,w);x=x.end===void 0?k:Math.min(x.end,w),!o.extend&&k>x&&(w=x,x=k,k=w),w=Tx(h,k);var P=Tx(h,x);w&&P&&(o.rangeCount!==1||o.anchorNode!==w.node||o.anchorOffset!==w.offset||o.focusNode!==P.node||o.focusOffset!==P.offset)&&(c=c.createRange(),c.setStart(w.node,w.offset),o.removeAllRanges(),k>x?(o.addRange(c),o.extend(P.node,P.offset)):(c.setEnd(P.node,P.offset),o.addRange(c)))}}for(c=[],o=h;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)o=c[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var JE=d&&"documentMode"in document&&11>=document.documentMode,ro=null,Ih=null,La=null,Fh=!1;function Dx(o,c,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Fh||ro==null||ro!==Ye(x)||(x=ro,"selectionStart"in x&&Oh(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),La&&Ba(La,x)||(La=x,x=Ac(Ih,"onSelect"),0<x.length&&(c=new Ch("onSelect","select",null,c,h),o.push({event:c,listeners:x}),c.target=ro)))}function kc(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var so={animationend:kc("Animation","AnimationEnd"),animationiteration:kc("Animation","AnimationIteration"),animationstart:kc("Animation","AnimationStart"),transitionend:kc("Transition","TransitionEnd")},Mh={},Ox={};d&&(Ox=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function Cc(o){if(Mh[o])return Mh[o];if(!so[o])return o;var c=so[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in Ox)return Mh[o]=c[h];return o}var Ix=Cc("animationend"),Fx=Cc("animationiteration"),Mx=Cc("animationstart"),$x=Cc("transitionend"),Bx=new Map,Lx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(o,c){Bx.set(o,c),a(c,[o])}for(var $h=0;$h<Lx.length;$h++){var Bh=Lx[$h],ZE=Bh.toLowerCase(),e5=Bh[0].toUpperCase()+Bh.slice(1);Ts(ZE,"on"+e5)}Ts(Ix,"onAnimationEnd"),Ts(Fx,"onAnimationIteration"),Ts(Mx,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts($x,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t5=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function zx(o,c,h){var x=o.type||"unknown-event";o.currentTarget=h,Qt(x,c,void 0,o),o.currentTarget=null}function Wx(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var x=o[h],w=x.event;x=x.listeners;e:{var k=void 0;if(c)for(var P=x.length-1;0<=P;P--){var H=x[P],X=H.instance,ce=H.currentTarget;if(H=H.listener,X!==k&&w.isPropagationStopped())break e;zx(w,H,ce),k=X}else for(P=0;P<x.length;P++){if(H=x[P],X=H.instance,ce=H.currentTarget,H=H.listener,X!==k&&w.isPropagationStopped())break e;zx(w,H,ce),k=X}}}if(Ae)throw o=Ve,Ae=!1,Ve=null,o}function Tt(o,c){var h=c[Gh];h===void 0&&(h=c[Gh]=new Set);var x=o+"__bubble";h.has(x)||(Vx(c,o,2,!1),h.add(x))}function Lh(o,c,h){var x=0;c&&(x|=4),Vx(h,o,x,c)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Wa(o){if(!o[Ec]){o[Ec]=!0,s.forEach(function(h){h!=="selectionchange"&&(t5.has(h)||Lh(h,!1,o),Lh(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Ec]||(c[Ec]=!0,Lh("selectionchange",!1,c))}}function Vx(o,c,h,x){switch(hx(c)){case 1:var w=mE;break;case 4:w=gE;break;default:w=Sh}h=w.bind(null,c,h,o),w=void 0,!xt||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),x?w!==void 0?o.addEventListener(c,h,{capture:!0,passive:w}):o.addEventListener(c,h,!0):w!==void 0?o.addEventListener(c,h,{passive:w}):o.addEventListener(c,h,!1)}function zh(o,c,h,x,w){var k=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var P=x.tag;if(P===3||P===4){var H=x.stateNode.containerInfo;if(H===w||H.nodeType===8&&H.parentNode===w)break;if(P===4)for(P=x.return;P!==null;){var X=P.tag;if((X===3||X===4)&&(X=P.stateNode.containerInfo,X===w||X.nodeType===8&&X.parentNode===w))return;P=P.return}for(;H!==null;){if(P=ui(H),P===null)return;if(X=P.tag,X===5||X===6){x=k=P;continue e}H=H.parentNode}}x=x.return}it(function(){var ce=k,je=at(h),Ne=[];e:{var be=Bx.get(o);if(be!==void 0){var Oe=Ch,Me=o;switch(o){case"keypress":if(wc(h)===0)break e;case"keydown":case"keyup":Oe=PE;break;case"focusin":Me="focus",Oe=_h;break;case"focusout":Me="blur",Oe=_h;break;case"beforeblur":case"afterblur":Oe=_h;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=mx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=vE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=OE;break;case Ix:case Fx:case Mx:Oe=jE;break;case $x:Oe=FE;break;case"scroll":Oe=xE;break;case"wheel":Oe=$E;break;case"copy":case"cut":case"paste":Oe=NE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=xx}var ze=(c&4)!==0,Ut=!ze&&o==="scroll",se=ze?be!==null?be+"Capture":null:be;ze=[];for(var te=ce,ae;te!==null;){ae=te;var _e=ae.stateNode;if(ae.tag===5&&_e!==null&&(ae=_e,se!==null&&(_e=We(te,se),_e!=null&&ze.push(Va(te,_e,ae)))),Ut)break;te=te.return}0<ze.length&&(be=new Oe(be,Me,null,h,je),Ne.push({event:be,listeners:ze}))}}if((c&7)===0){e:{if(be=o==="mouseover"||o==="pointerover",Oe=o==="mouseout"||o==="pointerout",be&&h!==on&&(Me=h.relatedTarget||h.fromElement)&&(ui(Me)||Me[Zr]))break e;if((Oe||be)&&(be=je.window===je?je:(be=je.ownerDocument)?be.defaultView||be.parentWindow:window,Oe?(Me=h.relatedTarget||h.toElement,Oe=ce,Me=Me?ui(Me):null,Me!==null&&(Ut=ft(Me),Me!==Ut||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(Oe=null,Me=ce),Oe!==Me)){if(ze=mx,_e="onMouseLeave",se="onMouseEnter",te="mouse",(o==="pointerout"||o==="pointerover")&&(ze=xx,_e="onPointerLeave",se="onPointerEnter",te="pointer"),Ut=Oe==null?be:ao(Oe),ae=Me==null?be:ao(Me),be=new ze(_e,te+"leave",Oe,h,je),be.target=Ut,be.relatedTarget=ae,_e=null,ui(je)===ce&&(ze=new ze(se,te+"enter",Me,h,je),ze.target=ae,ze.relatedTarget=Ut,_e=ze),Ut=_e,Oe&&Me)t:{for(ze=Oe,se=Me,te=0,ae=ze;ae;ae=io(ae))te++;for(ae=0,_e=se;_e;_e=io(_e))ae++;for(;0<te-ae;)ze=io(ze),te--;for(;0<ae-te;)se=io(se),ae--;for(;te--;){if(ze===se||se!==null&&ze===se.alternate)break t;ze=io(ze),se=io(se)}ze=null}else ze=null;Oe!==null&&Ux(Ne,be,Oe,ze,!1),Me!==null&&Ut!==null&&Ux(Ne,Ut,Me,ze,!0)}}e:{if(be=ce?ao(ce):window,Oe=be.nodeName&&be.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&be.type==="file")var Ue=HE;else if(Sx(be))if(kx)Ue=YE;else{Ue=GE;var Xe=qE}else(Oe=be.nodeName)&&Oe.toLowerCase()==="input"&&(be.type==="checkbox"||be.type==="radio")&&(Ue=KE);if(Ue&&(Ue=Ue(o,ce))){Nx(Ne,Ue,h,je);break e}Xe&&Xe(o,be,ce),o==="focusout"&&(Xe=be._wrapperState)&&Xe.controlled&&be.type==="number"&&lt(be,"number",be.value)}switch(Xe=ce?ao(ce):window,o){case"focusin":(Sx(Xe)||Xe.contentEditable==="true")&&(ro=Xe,Ih=ce,La=null);break;case"focusout":La=Ih=ro=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Dx(Ne,h,je);break;case"selectionchange":if(JE)break;case"keydown":case"keyup":Dx(Ne,h,je)}var Je;if(Ph)e:{switch(o){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else no?wx(o,h)&&(st="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(st="onCompositionStart");st&&(yx&&h.locale!=="ko"&&(no||st!=="onCompositionStart"?st==="onCompositionEnd"&&no&&(Je=fx()):(_s=je,kh="value"in _s?_s.value:_s.textContent,no=!0)),Xe=Ac(ce,st),0<Xe.length&&(st=new gx(st,o,null,h,je),Ne.push({event:st,listeners:Xe}),Je?st.data=Je:(Je=jx(h),Je!==null&&(st.data=Je)))),(Je=LE?zE(o,h):WE(o,h))&&(ce=Ac(ce,"onBeforeInput"),0<ce.length&&(je=new gx("onBeforeInput","beforeinput",null,h,je),Ne.push({event:je,listeners:ce}),je.data=Je))}Wx(Ne,c)})}function Va(o,c,h){return{instance:o,listener:c,currentTarget:h}}function Ac(o,c){for(var h=c+"Capture",x=[];o!==null;){var w=o,k=w.stateNode;w.tag===5&&k!==null&&(w=k,k=We(o,h),k!=null&&x.unshift(Va(o,k,w)),k=We(o,c),k!=null&&x.push(Va(o,k,w))),o=o.return}return x}function io(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Ux(o,c,h,x,w){for(var k=c._reactName,P=[];h!==null&&h!==x;){var H=h,X=H.alternate,ce=H.stateNode;if(X!==null&&X===x)break;H.tag===5&&ce!==null&&(H=ce,w?(X=We(h,k),X!=null&&P.unshift(Va(h,X,H))):w||(X=We(h,k),X!=null&&P.push(Va(h,X,H)))),h=h.return}P.length!==0&&o.push({event:c,listeners:P})}var n5=/\r\n?/g,r5=/\u0000|\uFFFD/g;function Hx(o){return(typeof o=="string"?o:""+o).replace(n5,`
`).replace(r5,"")}function _c(o,c,h){if(c=Hx(c),Hx(o)!==c&&h)throw Error(n(425))}function Tc(){}var Wh=null,Vh=null;function Uh(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Hh=typeof setTimeout=="function"?setTimeout:void 0,s5=typeof clearTimeout=="function"?clearTimeout:void 0,qx=typeof Promise=="function"?Promise:void 0,i5=typeof queueMicrotask=="function"?queueMicrotask:typeof qx<"u"?function(o){return qx.resolve(null).then(o).catch(o5)}:Hh;function o5(o){setTimeout(function(){throw o})}function qh(o,c){var h=c,x=0;do{var w=h.nextSibling;if(o.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"){if(x===0){o.removeChild(w),Da(c);return}x--}else h!=="$"&&h!=="$?"&&h!=="$!"||x++;h=w}while(h);Da(c)}function Ps(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function Gx(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}var oo=Math.random().toString(36).slice(2),$r="__reactFiber$"+oo,Ua="__reactProps$"+oo,Zr="__reactContainer$"+oo,Gh="__reactEvents$"+oo,a5="__reactListeners$"+oo,l5="__reactHandles$"+oo;function ui(o){var c=o[$r];if(c)return c;for(var h=o.parentNode;h;){if(c=h[Zr]||h[$r]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=Gx(o);o!==null;){if(h=o[$r])return h;o=Gx(o)}return c}o=h,h=o.parentNode}return null}function Ha(o){return o=o[$r]||o[Zr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ao(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Pc(o){return o[Ua]||null}var Kh=[],lo=-1;function Rs(o){return{current:o}}function Pt(o){0>lo||(o.current=Kh[lo],Kh[lo]=null,lo--)}function At(o,c){lo++,Kh[lo]=o.current,o.current=c}var Ds={},bn=Rs(Ds),Mn=Rs(!1),hi=Ds;function co(o,c){var h=o.type.contextTypes;if(!h)return Ds;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var w={},k;for(k in h)w[k]=c[k];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=w),w}function $n(o){return o=o.childContextTypes,o!=null}function Rc(){Pt(Mn),Pt(bn)}function Kx(o,c,h){if(bn.current!==Ds)throw Error(n(168));At(bn,c),At(Mn,h)}function Yx(o,c,h){var x=o.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return h;x=x.getChildContext();for(var w in x)if(!(w in c))throw Error(n(108,Y(o)||"Unknown",w));return q({},h,x)}function Dc(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ds,hi=bn.current,At(bn,o),At(Mn,Mn.current),!0}function Qx(o,c,h){var x=o.stateNode;if(!x)throw Error(n(169));h?(o=Yx(o,c,hi),x.__reactInternalMemoizedMergedChildContext=o,Pt(Mn),Pt(bn),At(bn,o)):Pt(Mn),At(Mn,h)}var es=null,Oc=!1,Yh=!1;function Xx(o){es===null?es=[o]:es.push(o)}function c5(o){Oc=!0,Xx(o)}function Os(){if(!Yh&&es!==null){Yh=!0;var o=0,c=kt;try{var h=es;for(kt=1;o<h.length;o++){var x=h[o];do x=x(!0);while(x!==null)}es=null,Oc=!1}catch(w){throw es!==null&&(es=es.slice(o+1)),Z0(xh,Os),w}finally{kt=c,Yh=!1}}return null}var uo=[],ho=0,Ic=null,Fc=0,tr=[],nr=0,fi=null,ts=1,ns="";function pi(o,c){uo[ho++]=Fc,uo[ho++]=Ic,Ic=o,Fc=c}function Jx(o,c,h){tr[nr++]=ts,tr[nr++]=ns,tr[nr++]=fi,fi=o;var x=ts;o=ns;var w=32-gr(x)-1;x&=~(1<<w),h+=1;var k=32-gr(c)+w;if(30<k){var P=w-w%5;k=(x&(1<<P)-1).toString(32),x>>=P,w-=P,ts=1<<32-gr(c)+w|h<<w|x,ns=k+o}else ts=1<<k|h<<w|x,ns=o}function Qh(o){o.return!==null&&(pi(o,1),Jx(o,1,0))}function Xh(o){for(;o===Ic;)Ic=uo[--ho],uo[ho]=null,Fc=uo[--ho],uo[ho]=null;for(;o===fi;)fi=tr[--nr],tr[nr]=null,ns=tr[--nr],tr[nr]=null,ts=tr[--nr],tr[nr]=null}var Gn=null,Kn=null,Rt=!1,yr=null;function Zx(o,c){var h=or(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=o,c=o.deletions,c===null?(o.deletions=[h],o.flags|=16):c.push(h)}function ey(o,c){switch(o.tag){case 5:var h=o.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,Gn=o,Kn=Ps(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,Gn=o,Kn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=fi!==null?{id:ts,overflow:ns}:null,o.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=or(18,null,null,0),h.stateNode=c,h.return=o,o.child=h,Gn=o,Kn=null,!0):!1;default:return!1}}function Jh(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Zh(o){if(Rt){var c=Kn;if(c){var h=c;if(!ey(o,c)){if(Jh(o))throw Error(n(418));c=Ps(h.nextSibling);var x=Gn;c&&ey(o,c)?Zx(x,h):(o.flags=o.flags&-4097|2,Rt=!1,Gn=o)}}else{if(Jh(o))throw Error(n(418));o.flags=o.flags&-4097|2,Rt=!1,Gn=o}}}function ty(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Gn=o}function Mc(o){if(o!==Gn)return!1;if(!Rt)return ty(o),Rt=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!Uh(o.type,o.memoizedProps)),c&&(c=Kn)){if(Jh(o))throw ny(),Error(n(418));for(;c;)Zx(o,c),c=Ps(c.nextSibling)}if(ty(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(c===0){Kn=Ps(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}o=o.nextSibling}Kn=null}}else Kn=Gn?Ps(o.stateNode.nextSibling):null;return!0}function ny(){for(var o=Kn;o;)o=Ps(o.nextSibling)}function fo(){Kn=Gn=null,Rt=!1}function ef(o){yr===null?yr=[o]:yr.push(o)}var d5=E.ReactCurrentBatchConfig;function qa(o,c,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var x=h.stateNode}if(!x)throw Error(n(147,o));var w=x,k=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===k?c.ref:(c=function(P){var H=w.refs;P===null?delete H[k]:H[k]=P},c._stringRef=k,c)}if(typeof o!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,o))}return o}function $c(o,c){throw o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function ry(o){var c=o._init;return c(o._payload)}function sy(o){function c(se,te){if(o){var ae=se.deletions;ae===null?(se.deletions=[te],se.flags|=16):ae.push(te)}}function h(se,te){if(!o)return null;for(;te!==null;)c(se,te),te=te.sibling;return null}function x(se,te){for(se=new Map;te!==null;)te.key!==null?se.set(te.key,te):se.set(te.index,te),te=te.sibling;return se}function w(se,te){return se=Ws(se,te),se.index=0,se.sibling=null,se}function k(se,te,ae){return se.index=ae,o?(ae=se.alternate,ae!==null?(ae=ae.index,ae<te?(se.flags|=2,te):ae):(se.flags|=2,te)):(se.flags|=1048576,te)}function P(se){return o&&se.alternate===null&&(se.flags|=2),se}function H(se,te,ae,_e){return te===null||te.tag!==6?(te=qf(ae,se.mode,_e),te.return=se,te):(te=w(te,ae),te.return=se,te)}function X(se,te,ae,_e){var Ue=ae.type;return Ue===D?je(se,te,ae.props.children,_e,ae.key):te!==null&&(te.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===z&&ry(Ue)===te.type)?(_e=w(te,ae.props),_e.ref=qa(se,te,ae),_e.return=se,_e):(_e=ld(ae.type,ae.key,ae.props,null,se.mode,_e),_e.ref=qa(se,te,ae),_e.return=se,_e)}function ce(se,te,ae,_e){return te===null||te.tag!==4||te.stateNode.containerInfo!==ae.containerInfo||te.stateNode.implementation!==ae.implementation?(te=Gf(ae,se.mode,_e),te.return=se,te):(te=w(te,ae.children||[]),te.return=se,te)}function je(se,te,ae,_e,Ue){return te===null||te.tag!==7?(te=ji(ae,se.mode,_e,Ue),te.return=se,te):(te=w(te,ae),te.return=se,te)}function Ne(se,te,ae){if(typeof te=="string"&&te!==""||typeof te=="number")return te=qf(""+te,se.mode,ae),te.return=se,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case _:return ae=ld(te.type,te.key,te.props,null,se.mode,ae),ae.ref=qa(se,null,te),ae.return=se,ae;case T:return te=Gf(te,se.mode,ae),te.return=se,te;case z:var _e=te._init;return Ne(se,_e(te._payload),ae)}if(ct(te)||$(te))return te=ji(te,se.mode,ae,null),te.return=se,te;$c(se,te)}return null}function be(se,te,ae,_e){var Ue=te!==null?te.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Ue!==null?null:H(se,te,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case _:return ae.key===Ue?X(se,te,ae,_e):null;case T:return ae.key===Ue?ce(se,te,ae,_e):null;case z:return Ue=ae._init,be(se,te,Ue(ae._payload),_e)}if(ct(ae)||$(ae))return Ue!==null?null:je(se,te,ae,_e,null);$c(se,ae)}return null}function Oe(se,te,ae,_e,Ue){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return se=se.get(ae)||null,H(te,se,""+_e,Ue);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case _:return se=se.get(_e.key===null?ae:_e.key)||null,X(te,se,_e,Ue);case T:return se=se.get(_e.key===null?ae:_e.key)||null,ce(te,se,_e,Ue);case z:var Xe=_e._init;return Oe(se,te,ae,Xe(_e._payload),Ue)}if(ct(_e)||$(_e))return se=se.get(ae)||null,je(te,se,_e,Ue,null);$c(te,_e)}return null}function Me(se,te,ae,_e){for(var Ue=null,Xe=null,Je=te,st=te=0,dn=null;Je!==null&&st<ae.length;st++){Je.index>st?(dn=Je,Je=null):dn=Je.sibling;var bt=be(se,Je,ae[st],_e);if(bt===null){Je===null&&(Je=dn);break}o&&Je&&bt.alternate===null&&c(se,Je),te=k(bt,te,st),Xe===null?Ue=bt:Xe.sibling=bt,Xe=bt,Je=dn}if(st===ae.length)return h(se,Je),Rt&&pi(se,st),Ue;if(Je===null){for(;st<ae.length;st++)Je=Ne(se,ae[st],_e),Je!==null&&(te=k(Je,te,st),Xe===null?Ue=Je:Xe.sibling=Je,Xe=Je);return Rt&&pi(se,st),Ue}for(Je=x(se,Je);st<ae.length;st++)dn=Oe(Je,se,st,ae[st],_e),dn!==null&&(o&&dn.alternate!==null&&Je.delete(dn.key===null?st:dn.key),te=k(dn,te,st),Xe===null?Ue=dn:Xe.sibling=dn,Xe=dn);return o&&Je.forEach(function(Vs){return c(se,Vs)}),Rt&&pi(se,st),Ue}function ze(se,te,ae,_e){var Ue=$(ae);if(typeof Ue!="function")throw Error(n(150));if(ae=Ue.call(ae),ae==null)throw Error(n(151));for(var Xe=Ue=null,Je=te,st=te=0,dn=null,bt=ae.next();Je!==null&&!bt.done;st++,bt=ae.next()){Je.index>st?(dn=Je,Je=null):dn=Je.sibling;var Vs=be(se,Je,bt.value,_e);if(Vs===null){Je===null&&(Je=dn);break}o&&Je&&Vs.alternate===null&&c(se,Je),te=k(Vs,te,st),Xe===null?Ue=Vs:Xe.sibling=Vs,Xe=Vs,Je=dn}if(bt.done)return h(se,Je),Rt&&pi(se,st),Ue;if(Je===null){for(;!bt.done;st++,bt=ae.next())bt=Ne(se,bt.value,_e),bt!==null&&(te=k(bt,te,st),Xe===null?Ue=bt:Xe.sibling=bt,Xe=bt);return Rt&&pi(se,st),Ue}for(Je=x(se,Je);!bt.done;st++,bt=ae.next())bt=Oe(Je,se,st,bt.value,_e),bt!==null&&(o&&bt.alternate!==null&&Je.delete(bt.key===null?st:bt.key),te=k(bt,te,st),Xe===null?Ue=bt:Xe.sibling=bt,Xe=bt);return o&&Je.forEach(function(V5){return c(se,V5)}),Rt&&pi(se,st),Ue}function Ut(se,te,ae,_e){if(typeof ae=="object"&&ae!==null&&ae.type===D&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case _:e:{for(var Ue=ae.key,Xe=te;Xe!==null;){if(Xe.key===Ue){if(Ue=ae.type,Ue===D){if(Xe.tag===7){h(se,Xe.sibling),te=w(Xe,ae.props.children),te.return=se,se=te;break e}}else if(Xe.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===z&&ry(Ue)===Xe.type){h(se,Xe.sibling),te=w(Xe,ae.props),te.ref=qa(se,Xe,ae),te.return=se,se=te;break e}h(se,Xe);break}else c(se,Xe);Xe=Xe.sibling}ae.type===D?(te=ji(ae.props.children,se.mode,_e,ae.key),te.return=se,se=te):(_e=ld(ae.type,ae.key,ae.props,null,se.mode,_e),_e.ref=qa(se,te,ae),_e.return=se,se=_e)}return P(se);case T:e:{for(Xe=ae.key;te!==null;){if(te.key===Xe)if(te.tag===4&&te.stateNode.containerInfo===ae.containerInfo&&te.stateNode.implementation===ae.implementation){h(se,te.sibling),te=w(te,ae.children||[]),te.return=se,se=te;break e}else{h(se,te);break}else c(se,te);te=te.sibling}te=Gf(ae,se.mode,_e),te.return=se,se=te}return P(se);case z:return Xe=ae._init,Ut(se,te,Xe(ae._payload),_e)}if(ct(ae))return Me(se,te,ae,_e);if($(ae))return ze(se,te,ae,_e);$c(se,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,te!==null&&te.tag===6?(h(se,te.sibling),te=w(te,ae),te.return=se,se=te):(h(se,te),te=qf(ae,se.mode,_e),te.return=se,se=te),P(se)):h(se,te)}return Ut}var po=sy(!0),iy=sy(!1),Bc=Rs(null),Lc=null,mo=null,tf=null;function nf(){tf=mo=Lc=null}function rf(o){var c=Bc.current;Pt(Bc),o._currentValue=c}function sf(o,c,h){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===h)break;o=o.return}}function go(o,c){Lc=o,tf=mo=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(Bn=!0),o.firstContext=null)}function rr(o){var c=o._currentValue;if(tf!==o)if(o={context:o,memoizedValue:c,next:null},mo===null){if(Lc===null)throw Error(n(308));mo=o,Lc.dependencies={lanes:0,firstContext:o}}else mo=mo.next=o;return c}var mi=null;function of(o){mi===null?mi=[o]:mi.push(o)}function oy(o,c,h,x){var w=c.interleaved;return w===null?(h.next=h,of(c)):(h.next=w.next,w.next=h),c.interleaved=h,rs(o,x)}function rs(o,c){o.lanes|=c;var h=o.alternate;for(h!==null&&(h.lanes|=c),h=o,o=o.return;o!==null;)o.childLanes|=c,h=o.alternate,h!==null&&(h.childLanes|=c),h=o,o=o.return;return h.tag===3?h.stateNode:null}var Is=!1;function af(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ay(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ss(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function Fs(o,c,h){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(yt&2)!==0){var w=x.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),x.pending=c,rs(o,h)}return w=x.interleaved,w===null?(c.next=c,of(x)):(c.next=w.next,w.next=c),x.interleaved=c,rs(o,h)}function zc(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var x=c.lanes;x&=o.pendingLanes,h|=x,c.lanes=h,bh(o,h)}}function ly(o,c){var h=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var w=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var P={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};k===null?w=k=P:k=k.next=P,h=h.next}while(h!==null);k===null?w=k=c:k=k.next=c}else w=k=c;h={baseState:x.baseState,firstBaseUpdate:w,lastBaseUpdate:k,shared:x.shared,effects:x.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}function Wc(o,c,h,x){var w=o.updateQueue;Is=!1;var k=w.firstBaseUpdate,P=w.lastBaseUpdate,H=w.shared.pending;if(H!==null){w.shared.pending=null;var X=H,ce=X.next;X.next=null,P===null?k=ce:P.next=ce,P=X;var je=o.alternate;je!==null&&(je=je.updateQueue,H=je.lastBaseUpdate,H!==P&&(H===null?je.firstBaseUpdate=ce:H.next=ce,je.lastBaseUpdate=X))}if(k!==null){var Ne=w.baseState;P=0,je=ce=X=null,H=k;do{var be=H.lane,Oe=H.eventTime;if((x&be)===be){je!==null&&(je=je.next={eventTime:Oe,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Me=o,ze=H;switch(be=c,Oe=h,ze.tag){case 1:if(Me=ze.payload,typeof Me=="function"){Ne=Me.call(Oe,Ne,be);break e}Ne=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=ze.payload,be=typeof Me=="function"?Me.call(Oe,Ne,be):Me,be==null)break e;Ne=q({},Ne,be);break e;case 2:Is=!0}}H.callback!==null&&H.lane!==0&&(o.flags|=64,be=w.effects,be===null?w.effects=[H]:be.push(H))}else Oe={eventTime:Oe,lane:be,tag:H.tag,payload:H.payload,callback:H.callback,next:null},je===null?(ce=je=Oe,X=Ne):je=je.next=Oe,P|=be;if(H=H.next,H===null){if(H=w.shared.pending,H===null)break;be=H,H=be.next,be.next=null,w.lastBaseUpdate=be,w.shared.pending=null}}while(!0);if(je===null&&(X=Ne),w.baseState=X,w.firstBaseUpdate=ce,w.lastBaseUpdate=je,c=w.shared.interleaved,c!==null){w=c;do P|=w.lane,w=w.next;while(w!==c)}else k===null&&(w.shared.lanes=0);yi|=P,o.lanes=P,o.memoizedState=Ne}}function cy(o,c,h){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var x=o[c],w=x.callback;if(w!==null){if(x.callback=null,x=h,typeof w!="function")throw Error(n(191,w));w.call(x)}}}var Ga={},Br=Rs(Ga),Ka=Rs(Ga),Ya=Rs(Ga);function gi(o){if(o===Ga)throw Error(n(174));return o}function lf(o,c){switch(At(Ya,c),At(Ka,o),At(Br,Ga),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Te(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=Te(c,o)}Pt(Br),At(Br,c)}function xo(){Pt(Br),Pt(Ka),Pt(Ya)}function dy(o){gi(Ya.current);var c=gi(Br.current),h=Te(c,o.type);c!==h&&(At(Ka,o),At(Br,h))}function cf(o){Ka.current===o&&(Pt(Br),Pt(Ka))}var It=Rs(0);function Vc(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var df=[];function uf(){for(var o=0;o<df.length;o++)df[o]._workInProgressVersionPrimary=null;df.length=0}var Uc=E.ReactCurrentDispatcher,hf=E.ReactCurrentBatchConfig,xi=0,Ft=null,Xt=null,ln=null,Hc=!1,Qa=!1,Xa=0,u5=0;function wn(){throw Error(n(321))}function ff(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!xr(o[h],c[h]))return!1;return!0}function pf(o,c,h,x,w,k){if(xi=k,Ft=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Uc.current=o===null||o.memoizedState===null?m5:g5,o=h(x,w),Qa){k=0;do{if(Qa=!1,Xa=0,25<=k)throw Error(n(301));k+=1,ln=Xt=null,c.updateQueue=null,Uc.current=x5,o=h(x,w)}while(Qa)}if(Uc.current=Kc,c=Xt!==null&&Xt.next!==null,xi=0,ln=Xt=Ft=null,Hc=!1,c)throw Error(n(300));return o}function mf(){var o=Xa!==0;return Xa=0,o}function Lr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Ft.memoizedState=ln=o:ln=ln.next=o,ln}function sr(){if(Xt===null){var o=Ft.alternate;o=o!==null?o.memoizedState:null}else o=Xt.next;var c=ln===null?Ft.memoizedState:ln.next;if(c!==null)ln=c,Xt=o;else{if(o===null)throw Error(n(310));Xt=o,o={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},ln===null?Ft.memoizedState=ln=o:ln=ln.next=o}return ln}function Ja(o,c){return typeof c=="function"?c(o):c}function gf(o){var c=sr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=Xt,w=x.baseQueue,k=h.pending;if(k!==null){if(w!==null){var P=w.next;w.next=k.next,k.next=P}x.baseQueue=w=k,h.pending=null}if(w!==null){k=w.next,x=x.baseState;var H=P=null,X=null,ce=k;do{var je=ce.lane;if((xi&je)===je)X!==null&&(X=X.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),x=ce.hasEagerState?ce.eagerState:o(x,ce.action);else{var Ne={lane:je,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};X===null?(H=X=Ne,P=x):X=X.next=Ne,Ft.lanes|=je,yi|=je}ce=ce.next}while(ce!==null&&ce!==k);X===null?P=x:X.next=H,xr(x,c.memoizedState)||(Bn=!0),c.memoizedState=x,c.baseState=P,c.baseQueue=X,h.lastRenderedState=x}if(o=h.interleaved,o!==null){w=o;do k=w.lane,Ft.lanes|=k,yi|=k,w=w.next;while(w!==o)}else w===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function xf(o){var c=sr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=h.dispatch,w=h.pending,k=c.memoizedState;if(w!==null){h.pending=null;var P=w=w.next;do k=o(k,P.action),P=P.next;while(P!==w);xr(k,c.memoizedState)||(Bn=!0),c.memoizedState=k,c.baseQueue===null&&(c.baseState=k),h.lastRenderedState=k}return[k,x]}function uy(){}function hy(o,c){var h=Ft,x=sr(),w=c(),k=!xr(x.memoizedState,w);if(k&&(x.memoizedState=w,Bn=!0),x=x.queue,yf(my.bind(null,h,x,o),[o]),x.getSnapshot!==c||k||ln!==null&&ln.memoizedState.tag&1){if(h.flags|=2048,Za(9,py.bind(null,h,x,w,c),void 0,null),cn===null)throw Error(n(349));(xi&30)!==0||fy(h,c,w)}return w}function fy(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=Ft.updateQueue,c===null?(c={lastEffect:null,stores:null},Ft.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function py(o,c,h,x){c.value=h,c.getSnapshot=x,gy(c)&&xy(o)}function my(o,c,h){return h(function(){gy(c)&&xy(o)})}function gy(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!xr(o,h)}catch{return!0}}function xy(o){var c=rs(o,1);c!==null&&jr(c,o,1,-1)}function yy(o){var c=Lr();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:o},c.queue=o,o=o.dispatch=p5.bind(null,Ft,o),[c.memoizedState,o]}function Za(o,c,h,x){return o={tag:o,create:c,destroy:h,deps:x,next:null},c=Ft.updateQueue,c===null?(c={lastEffect:null,stores:null},Ft.updateQueue=c,c.lastEffect=o.next=o):(h=c.lastEffect,h===null?c.lastEffect=o.next=o:(x=h.next,h.next=o,o.next=x,c.lastEffect=o)),o}function vy(){return sr().memoizedState}function qc(o,c,h,x){var w=Lr();Ft.flags|=o,w.memoizedState=Za(1|c,h,void 0,x===void 0?null:x)}function Gc(o,c,h,x){var w=sr();x=x===void 0?null:x;var k=void 0;if(Xt!==null){var P=Xt.memoizedState;if(k=P.destroy,x!==null&&ff(x,P.deps)){w.memoizedState=Za(c,h,k,x);return}}Ft.flags|=o,w.memoizedState=Za(1|c,h,k,x)}function by(o,c){return qc(8390656,8,o,c)}function yf(o,c){return Gc(2048,8,o,c)}function wy(o,c){return Gc(4,2,o,c)}function jy(o,c){return Gc(4,4,o,c)}function Sy(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Ny(o,c,h){return h=h!=null?h.concat([o]):null,Gc(4,4,Sy.bind(null,c,o),h)}function vf(){}function ky(o,c){var h=sr();c=c===void 0?null:c;var x=h.memoizedState;return x!==null&&c!==null&&ff(c,x[1])?x[0]:(h.memoizedState=[o,c],o)}function Cy(o,c){var h=sr();c=c===void 0?null:c;var x=h.memoizedState;return x!==null&&c!==null&&ff(c,x[1])?x[0]:(o=o(),h.memoizedState=[o,c],o)}function Ey(o,c,h){return(xi&21)===0?(o.baseState&&(o.baseState=!1,Bn=!0),o.memoizedState=h):(xr(h,c)||(h=rx(),Ft.lanes|=h,yi|=h,o.baseState=!0),c)}function h5(o,c){var h=kt;kt=h!==0&&4>h?h:4,o(!0);var x=hf.transition;hf.transition={};try{o(!1),c()}finally{kt=h,hf.transition=x}}function Ay(){return sr().memoizedState}function f5(o,c,h){var x=Ls(o);if(h={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null},_y(o))Ty(c,h);else if(h=oy(o,c,h,x),h!==null){var w=Pn();jr(h,o,x,w),Py(h,c,x)}}function p5(o,c,h){var x=Ls(o),w={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null};if(_y(o))Ty(c,w);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=c.lastRenderedReducer,k!==null))try{var P=c.lastRenderedState,H=k(P,h);if(w.hasEagerState=!0,w.eagerState=H,xr(H,P)){var X=c.interleaved;X===null?(w.next=w,of(c)):(w.next=X.next,X.next=w),c.interleaved=w;return}}catch{}finally{}h=oy(o,c,w,x),h!==null&&(w=Pn(),jr(h,o,x,w),Py(h,c,x))}}function _y(o){var c=o.alternate;return o===Ft||c!==null&&c===Ft}function Ty(o,c){Qa=Hc=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function Py(o,c,h){if((h&4194240)!==0){var x=c.lanes;x&=o.pendingLanes,h|=x,c.lanes=h,bh(o,h)}}var Kc={readContext:rr,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},m5={readContext:rr,useCallback:function(o,c){return Lr().memoizedState=[o,c===void 0?null:c],o},useContext:rr,useEffect:by,useImperativeHandle:function(o,c,h){return h=h!=null?h.concat([o]):null,qc(4194308,4,Sy.bind(null,c,o),h)},useLayoutEffect:function(o,c){return qc(4194308,4,o,c)},useInsertionEffect:function(o,c){return qc(4,2,o,c)},useMemo:function(o,c){var h=Lr();return c=c===void 0?null:c,o=o(),h.memoizedState=[o,c],o},useReducer:function(o,c,h){var x=Lr();return c=h!==void 0?h(c):c,x.memoizedState=x.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},x.queue=o,o=o.dispatch=f5.bind(null,Ft,o),[x.memoizedState,o]},useRef:function(o){var c=Lr();return o={current:o},c.memoizedState=o},useState:yy,useDebugValue:vf,useDeferredValue:function(o){return Lr().memoizedState=o},useTransition:function(){var o=yy(!1),c=o[0];return o=h5.bind(null,o[1]),Lr().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,h){var x=Ft,w=Lr();if(Rt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),cn===null)throw Error(n(349));(xi&30)!==0||fy(x,c,h)}w.memoizedState=h;var k={value:h,getSnapshot:c};return w.queue=k,by(my.bind(null,x,k,o),[o]),x.flags|=2048,Za(9,py.bind(null,x,k,h,c),void 0,null),h},useId:function(){var o=Lr(),c=cn.identifierPrefix;if(Rt){var h=ns,x=ts;h=(x&~(1<<32-gr(x)-1)).toString(32)+h,c=":"+c+"R"+h,h=Xa++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=u5++,c=":"+c+"r"+h.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},g5={readContext:rr,useCallback:ky,useContext:rr,useEffect:yf,useImperativeHandle:Ny,useInsertionEffect:wy,useLayoutEffect:jy,useMemo:Cy,useReducer:gf,useRef:vy,useState:function(){return gf(Ja)},useDebugValue:vf,useDeferredValue:function(o){var c=sr();return Ey(c,Xt.memoizedState,o)},useTransition:function(){var o=gf(Ja)[0],c=sr().memoizedState;return[o,c]},useMutableSource:uy,useSyncExternalStore:hy,useId:Ay,unstable_isNewReconciler:!1},x5={readContext:rr,useCallback:ky,useContext:rr,useEffect:yf,useImperativeHandle:Ny,useInsertionEffect:wy,useLayoutEffect:jy,useMemo:Cy,useReducer:xf,useRef:vy,useState:function(){return xf(Ja)},useDebugValue:vf,useDeferredValue:function(o){var c=sr();return Xt===null?c.memoizedState=o:Ey(c,Xt.memoizedState,o)},useTransition:function(){var o=xf(Ja)[0],c=sr().memoizedState;return[o,c]},useMutableSource:uy,useSyncExternalStore:hy,useId:Ay,unstable_isNewReconciler:!1};function vr(o,c){if(o&&o.defaultProps){c=q({},c),o=o.defaultProps;for(var h in o)c[h]===void 0&&(c[h]=o[h]);return c}return c}function bf(o,c,h,x){c=o.memoizedState,h=h(x,c),h=h==null?c:q({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Yc={isMounted:function(o){return(o=o._reactInternals)?ft(o)===o:!1},enqueueSetState:function(o,c,h){o=o._reactInternals;var x=Pn(),w=Ls(o),k=ss(x,w);k.payload=c,h!=null&&(k.callback=h),c=Fs(o,k,w),c!==null&&(jr(c,o,w,x),zc(c,o,w))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var x=Pn(),w=Ls(o),k=ss(x,w);k.tag=1,k.payload=c,h!=null&&(k.callback=h),c=Fs(o,k,w),c!==null&&(jr(c,o,w,x),zc(c,o,w))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Pn(),x=Ls(o),w=ss(h,x);w.tag=2,c!=null&&(w.callback=c),c=Fs(o,w,x),c!==null&&(jr(c,o,x,h),zc(c,o,x))}};function Ry(o,c,h,x,w,k,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,k,P):c.prototype&&c.prototype.isPureReactComponent?!Ba(h,x)||!Ba(w,k):!0}function Dy(o,c,h){var x=!1,w=Ds,k=c.contextType;return typeof k=="object"&&k!==null?k=rr(k):(w=$n(c)?hi:bn.current,x=c.contextTypes,k=(x=x!=null)?co(o,w):Ds),c=new c(h,k),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Yc,o.stateNode=c,c._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=w,o.__reactInternalMemoizedMaskedChildContext=k),c}function Oy(o,c,h,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,x),c.state!==o&&Yc.enqueueReplaceState(c,c.state,null)}function wf(o,c,h,x){var w=o.stateNode;w.props=h,w.state=o.memoizedState,w.refs={},af(o);var k=c.contextType;typeof k=="object"&&k!==null?w.context=rr(k):(k=$n(c)?hi:bn.current,w.context=co(o,k)),w.state=o.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(bf(o,c,k,h),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(c=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),c!==w.state&&Yc.enqueueReplaceState(w,w.state,null),Wc(o,h,w,x),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308)}function yo(o,c){try{var h="",x=c;do h+=U(x),x=x.return;while(x);var w=h}catch(k){w=`
Error generating stack: `+k.message+`
`+k.stack}return{value:o,source:c,stack:w,digest:null}}function jf(o,c,h){return{value:o,source:null,stack:h??null,digest:c??null}}function Sf(o,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var y5=typeof WeakMap=="function"?WeakMap:Map;function Iy(o,c,h){h=ss(-1,h),h.tag=3,h.payload={element:null};var x=c.value;return h.callback=function(){nd||(nd=!0,$f=x),Sf(o,c)},h}function Fy(o,c,h){h=ss(-1,h),h.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var w=c.value;h.payload=function(){return x(w)},h.callback=function(){Sf(o,c)}}var k=o.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(h.callback=function(){Sf(o,c),typeof x!="function"&&($s===null?$s=new Set([this]):$s.add(this));var P=c.stack;this.componentDidCatch(c.value,{componentStack:P!==null?P:""})}),h}function My(o,c,h){var x=o.pingCache;if(x===null){x=o.pingCache=new y5;var w=new Set;x.set(c,w)}else w=x.get(c),w===void 0&&(w=new Set,x.set(c,w));w.has(h)||(w.add(h),o=R5.bind(null,o,c,h),c.then(o,o))}function $y(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function By(o,c,h,x,w){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=ss(-1,1),c.tag=2,Fs(h,c,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=w,o)}var v5=E.ReactCurrentOwner,Bn=!1;function Tn(o,c,h,x){c.child=o===null?iy(c,null,h,x):po(c,o.child,h,x)}function Ly(o,c,h,x,w){h=h.render;var k=c.ref;return go(c,w),x=pf(o,c,h,x,k,w),h=mf(),o!==null&&!Bn?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~w,is(o,c,w)):(Rt&&h&&Qh(c),c.flags|=1,Tn(o,c,x,w),c.child)}function zy(o,c,h,x,w){if(o===null){var k=h.type;return typeof k=="function"&&!Hf(k)&&k.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=k,Wy(o,c,k,x,w)):(o=ld(h.type,null,x,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(k=o.child,(o.lanes&w)===0){var P=k.memoizedProps;if(h=h.compare,h=h!==null?h:Ba,h(P,x)&&o.ref===c.ref)return is(o,c,w)}return c.flags|=1,o=Ws(k,x),o.ref=c.ref,o.return=c,c.child=o}function Wy(o,c,h,x,w){if(o!==null){var k=o.memoizedProps;if(Ba(k,x)&&o.ref===c.ref)if(Bn=!1,c.pendingProps=x=k,(o.lanes&w)!==0)(o.flags&131072)!==0&&(Bn=!0);else return c.lanes=o.lanes,is(o,c,w)}return Nf(o,c,h,x,w)}function Vy(o,c,h){var x=c.pendingProps,w=x.children,k=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(bo,Yn),Yn|=h;else{if((h&1073741824)===0)return o=k!==null?k.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,At(bo,Yn),Yn|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=k!==null?k.baseLanes:h,At(bo,Yn),Yn|=x}else k!==null?(x=k.baseLanes|h,c.memoizedState=null):x=h,At(bo,Yn),Yn|=x;return Tn(o,c,w,h),c.child}function Uy(o,c){var h=c.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function Nf(o,c,h,x,w){var k=$n(h)?hi:bn.current;return k=co(c,k),go(c,w),h=pf(o,c,h,x,k,w),x=mf(),o!==null&&!Bn?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~w,is(o,c,w)):(Rt&&x&&Qh(c),c.flags|=1,Tn(o,c,h,w),c.child)}function Hy(o,c,h,x,w){if($n(h)){var k=!0;Dc(c)}else k=!1;if(go(c,w),c.stateNode===null)Xc(o,c),Dy(c,h,x),wf(c,h,x,w),x=!0;else if(o===null){var P=c.stateNode,H=c.memoizedProps;P.props=H;var X=P.context,ce=h.contextType;typeof ce=="object"&&ce!==null?ce=rr(ce):(ce=$n(h)?hi:bn.current,ce=co(c,ce));var je=h.getDerivedStateFromProps,Ne=typeof je=="function"||typeof P.getSnapshotBeforeUpdate=="function";Ne||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(H!==x||X!==ce)&&Oy(c,P,x,ce),Is=!1;var be=c.memoizedState;P.state=be,Wc(c,x,P,w),X=c.memoizedState,H!==x||be!==X||Mn.current||Is?(typeof je=="function"&&(bf(c,h,je,x),X=c.memoizedState),(H=Is||Ry(c,h,H,x,be,X,ce))?(Ne||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(c.flags|=4194308)):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=X),P.props=x,P.state=X,P.context=ce,x=H):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{P=c.stateNode,ay(o,c),H=c.memoizedProps,ce=c.type===c.elementType?H:vr(c.type,H),P.props=ce,Ne=c.pendingProps,be=P.context,X=h.contextType,typeof X=="object"&&X!==null?X=rr(X):(X=$n(h)?hi:bn.current,X=co(c,X));var Oe=h.getDerivedStateFromProps;(je=typeof Oe=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(H!==Ne||be!==X)&&Oy(c,P,x,X),Is=!1,be=c.memoizedState,P.state=be,Wc(c,x,P,w);var Me=c.memoizedState;H!==Ne||be!==Me||Mn.current||Is?(typeof Oe=="function"&&(bf(c,h,Oe,x),Me=c.memoizedState),(ce=Is||Ry(c,h,ce,x,be,Me,X)||!1)?(je||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(x,Me,X),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(x,Me,X)),typeof P.componentDidUpdate=="function"&&(c.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof P.componentDidUpdate!="function"||H===o.memoizedProps&&be===o.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&be===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=Me),P.props=x,P.state=Me,P.context=X,x=ce):(typeof P.componentDidUpdate!="function"||H===o.memoizedProps&&be===o.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&be===o.memoizedState||(c.flags|=1024),x=!1)}return kf(o,c,h,x,k,w)}function kf(o,c,h,x,w,k){Uy(o,c);var P=(c.flags&128)!==0;if(!x&&!P)return w&&Qx(c,h,!1),is(o,c,k);x=c.stateNode,v5.current=c;var H=P&&typeof h.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,o!==null&&P?(c.child=po(c,o.child,null,k),c.child=po(c,null,H,k)):Tn(o,c,H,k),c.memoizedState=x.state,w&&Qx(c,h,!0),c.child}function qy(o){var c=o.stateNode;c.pendingContext?Kx(o,c.pendingContext,c.pendingContext!==c.context):c.context&&Kx(o,c.context,!1),lf(o,c.containerInfo)}function Gy(o,c,h,x,w){return fo(),ef(w),c.flags|=256,Tn(o,c,h,x),c.child}var Cf={dehydrated:null,treeContext:null,retryLane:0};function Ef(o){return{baseLanes:o,cachePool:null,transitions:null}}function Ky(o,c,h){var x=c.pendingProps,w=It.current,k=!1,P=(c.flags&128)!==0,H;if((H=P)||(H=o!==null&&o.memoizedState===null?!1:(w&2)!==0),H?(k=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(w|=1),At(It,w&1),o===null)return Zh(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(P=x.children,o=x.fallback,k?(x=c.mode,k=c.child,P={mode:"hidden",children:P},(x&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=P):k=cd(P,x,0,null),o=ji(o,x,h,null),k.return=c,o.return=c,k.sibling=o,c.child=k,c.child.memoizedState=Ef(h),c.memoizedState=Cf,o):Af(c,P));if(w=o.memoizedState,w!==null&&(H=w.dehydrated,H!==null))return b5(o,c,P,x,H,w,h);if(k){k=x.fallback,P=c.mode,w=o.child,H=w.sibling;var X={mode:"hidden",children:x.children};return(P&1)===0&&c.child!==w?(x=c.child,x.childLanes=0,x.pendingProps=X,c.deletions=null):(x=Ws(w,X),x.subtreeFlags=w.subtreeFlags&14680064),H!==null?k=Ws(H,k):(k=ji(k,P,h,null),k.flags|=2),k.return=c,x.return=c,x.sibling=k,c.child=x,x=k,k=c.child,P=o.child.memoizedState,P=P===null?Ef(h):{baseLanes:P.baseLanes|h,cachePool:null,transitions:P.transitions},k.memoizedState=P,k.childLanes=o.childLanes&~h,c.memoizedState=Cf,x}return k=o.child,o=k.sibling,x=Ws(k,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=h),x.return=c,x.sibling=null,o!==null&&(h=c.deletions,h===null?(c.deletions=[o],c.flags|=16):h.push(o)),c.child=x,c.memoizedState=null,x}function Af(o,c){return c=cd({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function Qc(o,c,h,x){return x!==null&&ef(x),po(c,o.child,null,h),o=Af(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function b5(o,c,h,x,w,k,P){if(h)return c.flags&256?(c.flags&=-257,x=jf(Error(n(422))),Qc(o,c,P,x)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(k=x.fallback,w=c.mode,x=cd({mode:"visible",children:x.children},w,0,null),k=ji(k,w,P,null),k.flags|=2,x.return=c,k.return=c,x.sibling=k,c.child=x,(c.mode&1)!==0&&po(c,o.child,null,P),c.child.memoizedState=Ef(P),c.memoizedState=Cf,k);if((c.mode&1)===0)return Qc(o,c,P,null);if(w.data==="$!"){if(x=w.nextSibling&&w.nextSibling.dataset,x)var H=x.dgst;return x=H,k=Error(n(419)),x=jf(k,x,void 0),Qc(o,c,P,x)}if(H=(P&o.childLanes)!==0,Bn||H){if(x=cn,x!==null){switch(P&-P){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(x.suspendedLanes|P))!==0?0:w,w!==0&&w!==k.retryLane&&(k.retryLane=w,rs(o,w),jr(x,o,w,-1))}return Uf(),x=jf(Error(n(421))),Qc(o,c,P,x)}return w.data==="$?"?(c.flags|=128,c.child=o.child,c=D5.bind(null,o),w._reactRetry=c,null):(o=k.treeContext,Kn=Ps(w.nextSibling),Gn=c,Rt=!0,yr=null,o!==null&&(tr[nr++]=ts,tr[nr++]=ns,tr[nr++]=fi,ts=o.id,ns=o.overflow,fi=c),c=Af(c,x.children),c.flags|=4096,c)}function Yy(o,c,h){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),sf(o.return,c,h)}function _f(o,c,h,x,w){var k=o.memoizedState;k===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:w}:(k.isBackwards=c,k.rendering=null,k.renderingStartTime=0,k.last=x,k.tail=h,k.tailMode=w)}function Qy(o,c,h){var x=c.pendingProps,w=x.revealOrder,k=x.tail;if(Tn(o,c,x.children,h),x=It.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Yy(o,h,c);else if(o.tag===19)Yy(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(At(It,x),(c.mode&1)===0)c.memoizedState=null;else switch(w){case"forwards":for(h=c.child,w=null;h!==null;)o=h.alternate,o!==null&&Vc(o)===null&&(w=h),h=h.sibling;h=w,h===null?(w=c.child,c.child=null):(w=h.sibling,h.sibling=null),_f(c,!1,w,h,k);break;case"backwards":for(h=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&Vc(o)===null){c.child=w;break}o=w.sibling,w.sibling=h,h=w,w=o}_f(c,!0,h,null,k);break;case"together":_f(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Xc(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function is(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),yi|=c.lanes,(h&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,h=Ws(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=Ws(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function w5(o,c,h){switch(c.tag){case 3:qy(c),fo();break;case 5:dy(c);break;case 1:$n(c.type)&&Dc(c);break;case 4:lf(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,w=c.memoizedProps.value;At(Bc,x._currentValue),x._currentValue=w;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(At(It,It.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?Ky(o,c,h):(At(It,It.current&1),o=is(o,c,h),o!==null?o.sibling:null);At(It,It.current&1);break;case 19:if(x=(h&c.childLanes)!==0,(o.flags&128)!==0){if(x)return Qy(o,c,h);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),At(It,It.current),x)break;return null;case 22:case 23:return c.lanes=0,Vy(o,c,h)}return is(o,c,h)}var Xy,Tf,Jy,Zy;Xy=function(o,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Tf=function(){},Jy=function(o,c,h,x){var w=o.memoizedProps;if(w!==x){o=c.stateNode,gi(Br.current);var k=null;switch(h){case"input":w=Ze(o,w),x=Ze(o,x),k=[];break;case"select":w=q({},w,{value:void 0}),x=q({},x,{value:void 0}),k=[];break;case"textarea":w=ut(o,w),x=ut(o,x),k=[];break;default:typeof w.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=Tc)}sn(h,x);var P;h=null;for(ce in w)if(!x.hasOwnProperty(ce)&&w.hasOwnProperty(ce)&&w[ce]!=null)if(ce==="style"){var H=w[ce];for(P in H)H.hasOwnProperty(P)&&(h||(h={}),h[P]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(i.hasOwnProperty(ce)?k||(k=[]):(k=k||[]).push(ce,null));for(ce in x){var X=x[ce];if(H=w?.[ce],x.hasOwnProperty(ce)&&X!==H&&(X!=null||H!=null))if(ce==="style")if(H){for(P in H)!H.hasOwnProperty(P)||X&&X.hasOwnProperty(P)||(h||(h={}),h[P]="");for(P in X)X.hasOwnProperty(P)&&H[P]!==X[P]&&(h||(h={}),h[P]=X[P])}else h||(k||(k=[]),k.push(ce,h)),h=X;else ce==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,H=H?H.__html:void 0,X!=null&&H!==X&&(k=k||[]).push(ce,X)):ce==="children"?typeof X!="string"&&typeof X!="number"||(k=k||[]).push(ce,""+X):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(i.hasOwnProperty(ce)?(X!=null&&ce==="onScroll"&&Tt("scroll",o),k||H===X||(k=[])):(k=k||[]).push(ce,X))}h&&(k=k||[]).push("style",h);var ce=k;(c.updateQueue=ce)&&(c.flags|=4)}},Zy=function(o,c,h,x){h!==x&&(c.flags|=4)};function el(o,c){if(!Rt)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function jn(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,x=0;if(c)for(var w=o.child;w!==null;)h|=w.lanes|w.childLanes,x|=w.subtreeFlags&14680064,x|=w.flags&14680064,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)h|=w.lanes|w.childLanes,x|=w.subtreeFlags,x|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=x,o.childLanes=h,c}function j5(o,c,h){var x=c.pendingProps;switch(Xh(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(c),null;case 1:return $n(c.type)&&Rc(),jn(c),null;case 3:return x=c.stateNode,xo(),Pt(Mn),Pt(bn),uf(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(Mc(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,yr!==null&&(zf(yr),yr=null))),Tf(o,c),jn(c),null;case 5:cf(c);var w=gi(Ya.current);if(h=c.type,o!==null&&c.stateNode!=null)Jy(o,c,h,x,w),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(n(166));return jn(c),null}if(o=gi(Br.current),Mc(c)){x=c.stateNode,h=c.type;var k=c.memoizedProps;switch(x[$r]=c,x[Ua]=k,o=(c.mode&1)!==0,h){case"dialog":Tt("cancel",x),Tt("close",x);break;case"iframe":case"object":case"embed":Tt("load",x);break;case"video":case"audio":for(w=0;w<za.length;w++)Tt(za[w],x);break;case"source":Tt("error",x);break;case"img":case"image":case"link":Tt("error",x),Tt("load",x);break;case"details":Tt("toggle",x);break;case"input":ye(x,k),Tt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!k.multiple},Tt("invalid",x);break;case"textarea":Ce(x,k),Tt("invalid",x)}sn(h,k),w=null;for(var P in k)if(k.hasOwnProperty(P)){var H=k[P];P==="children"?typeof H=="string"?x.textContent!==H&&(k.suppressHydrationWarning!==!0&&_c(x.textContent,H,o),w=["children",H]):typeof H=="number"&&x.textContent!==""+H&&(k.suppressHydrationWarning!==!0&&_c(x.textContent,H,o),w=["children",""+H]):i.hasOwnProperty(P)&&H!=null&&P==="onScroll"&&Tt("scroll",x)}switch(h){case"input":Se(x),Qe(x,k,!0);break;case"textarea":Se(x),he(x);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(x.onclick=Tc)}x=w,c.updateQueue=x,x!==null&&(c.flags|=4)}else{P=w.nodeType===9?w:w.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ge(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=P.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=P.createElement(h,{is:x.is}):(o=P.createElement(h),h==="select"&&(P=o,x.multiple?P.multiple=!0:x.size&&(P.size=x.size))):o=P.createElementNS(o,h),o[$r]=c,o[Ua]=x,Xy(o,c,!1,!1),c.stateNode=o;e:{switch(P=_n(h,x),h){case"dialog":Tt("cancel",o),Tt("close",o),w=x;break;case"iframe":case"object":case"embed":Tt("load",o),w=x;break;case"video":case"audio":for(w=0;w<za.length;w++)Tt(za[w],o);w=x;break;case"source":Tt("error",o),w=x;break;case"img":case"image":case"link":Tt("error",o),Tt("load",o),w=x;break;case"details":Tt("toggle",o),w=x;break;case"input":ye(o,x),w=Ze(o,x),Tt("invalid",o);break;case"option":w=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},w=q({},x,{value:void 0}),Tt("invalid",o);break;case"textarea":Ce(o,x),w=ut(o,x),Tt("invalid",o);break;default:w=x}sn(h,w),H=w;for(k in H)if(H.hasOwnProperty(k)){var X=H[k];k==="style"?rn(o,X):k==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&qe(o,X)):k==="children"?typeof X=="string"?(h!=="textarea"||X!=="")&&mt(o,X):typeof X=="number"&&mt(o,""+X):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?X!=null&&k==="onScroll"&&Tt("scroll",o):X!=null&&A(o,k,X,P))}switch(h){case"input":Se(o),Qe(o,x,!1);break;case"textarea":Se(o),he(o);break;case"option":x.value!=null&&o.setAttribute("value",""+le(x.value));break;case"select":o.multiple=!!x.multiple,k=x.value,k!=null?vt(o,!!x.multiple,k,!1):x.defaultValue!=null&&vt(o,!!x.multiple,x.defaultValue,!0);break;default:typeof w.onClick=="function"&&(o.onclick=Tc)}switch(h){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return jn(c),null;case 6:if(o&&c.stateNode!=null)Zy(o,c,o.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(n(166));if(h=gi(Ya.current),gi(Br.current),Mc(c)){if(x=c.stateNode,h=c.memoizedProps,x[$r]=c,(k=x.nodeValue!==h)&&(o=Gn,o!==null))switch(o.tag){case 3:_c(x.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&_c(x.nodeValue,h,(o.mode&1)!==0)}k&&(c.flags|=4)}else x=(h.nodeType===9?h:h.ownerDocument).createTextNode(x),x[$r]=c,c.stateNode=x}return jn(c),null;case 13:if(Pt(It),x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Rt&&Kn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)ny(),fo(),c.flags|=98560,k=!1;else if(k=Mc(c),x!==null&&x.dehydrated!==null){if(o===null){if(!k)throw Error(n(318));if(k=c.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[$r]=c}else fo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;jn(c),k=!1}else yr!==null&&(zf(yr),yr=null),k=!0;if(!k)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(It.current&1)!==0?Jt===0&&(Jt=3):Uf())),c.updateQueue!==null&&(c.flags|=4),jn(c),null);case 4:return xo(),Tf(o,c),o===null&&Wa(c.stateNode.containerInfo),jn(c),null;case 10:return rf(c.type._context),jn(c),null;case 17:return $n(c.type)&&Rc(),jn(c),null;case 19:if(Pt(It),k=c.memoizedState,k===null)return jn(c),null;if(x=(c.flags&128)!==0,P=k.rendering,P===null)if(x)el(k,!1);else{if(Jt!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(P=Vc(o),P!==null){for(c.flags|=128,el(k,!1),x=P.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=h,h=c.child;h!==null;)k=h,o=x,k.flags&=14680066,P=k.alternate,P===null?(k.childLanes=0,k.lanes=o,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=P.childLanes,k.lanes=P.lanes,k.child=P.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=P.memoizedProps,k.memoizedState=P.memoizedState,k.updateQueue=P.updateQueue,k.type=P.type,o=P.dependencies,k.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return At(It,It.current&1|2),c.child}o=o.sibling}k.tail!==null&&Vt()>wo&&(c.flags|=128,x=!0,el(k,!1),c.lanes=4194304)}else{if(!x)if(o=Vc(P),o!==null){if(c.flags|=128,x=!0,h=o.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),el(k,!0),k.tail===null&&k.tailMode==="hidden"&&!P.alternate&&!Rt)return jn(c),null}else 2*Vt()-k.renderingStartTime>wo&&h!==1073741824&&(c.flags|=128,x=!0,el(k,!1),c.lanes=4194304);k.isBackwards?(P.sibling=c.child,c.child=P):(h=k.last,h!==null?h.sibling=P:c.child=P,k.last=P)}return k.tail!==null?(c=k.tail,k.rendering=c,k.tail=c.sibling,k.renderingStartTime=Vt(),c.sibling=null,h=It.current,At(It,x?h&1|2:h&1),c):(jn(c),null);case 22:case 23:return Vf(),x=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(Yn&1073741824)!==0&&(jn(c),c.subtreeFlags&6&&(c.flags|=8192)):jn(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function S5(o,c){switch(Xh(c),c.tag){case 1:return $n(c.type)&&Rc(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return xo(),Pt(Mn),Pt(bn),uf(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return cf(c),null;case 13:if(Pt(It),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));fo()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Pt(It),null;case 4:return xo(),null;case 10:return rf(c.type._context),null;case 22:case 23:return Vf(),null;case 24:return null;default:return null}}var Jc=!1,Sn=!1,N5=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function vo(o,c){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(x){zt(o,c,x)}else h.current=null}function Pf(o,c,h){try{h()}catch(x){zt(o,c,x)}}var ev=!1;function k5(o,c){if(Wh=yc,o=Rx(),Oh(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var w=x.anchorOffset,k=x.focusNode;x=x.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var P=0,H=-1,X=-1,ce=0,je=0,Ne=o,be=null;t:for(;;){for(var Oe;Ne!==h||w!==0&&Ne.nodeType!==3||(H=P+w),Ne!==k||x!==0&&Ne.nodeType!==3||(X=P+x),Ne.nodeType===3&&(P+=Ne.nodeValue.length),(Oe=Ne.firstChild)!==null;)be=Ne,Ne=Oe;for(;;){if(Ne===o)break t;if(be===h&&++ce===w&&(H=P),be===k&&++je===x&&(X=P),(Oe=Ne.nextSibling)!==null)break;Ne=be,be=Ne.parentNode}Ne=Oe}h=H===-1||X===-1?null:{start:H,end:X}}else h=null}h=h||{start:0,end:0}}else h=null;for(Vh={focusedElem:o,selectionRange:h},yc=!1,Fe=c;Fe!==null;)if(c=Fe,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Fe=o;else for(;Fe!==null;){c=Fe;try{var Me=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var ze=Me.memoizedProps,Ut=Me.memoizedState,se=c.stateNode,te=se.getSnapshotBeforeUpdate(c.elementType===c.type?ze:vr(c.type,ze),Ut);se.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ae=c.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(_e){zt(c,c.return,_e)}if(o=c.sibling,o!==null){o.return=c.return,Fe=o;break}Fe=c.return}return Me=ev,ev=!1,Me}function tl(o,c,h){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var w=x=x.next;do{if((w.tag&o)===o){var k=w.destroy;w.destroy=void 0,k!==void 0&&Pf(c,h,k)}w=w.next}while(w!==x)}}function Zc(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&o)===o){var x=h.create;h.destroy=x()}h=h.next}while(h!==c)}}function Rf(o){var c=o.ref;if(c!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof c=="function"?c(o):c.current=o}}function tv(o){var c=o.alternate;c!==null&&(o.alternate=null,tv(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[$r],delete c[Ua],delete c[Gh],delete c[a5],delete c[l5])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function nv(o){return o.tag===5||o.tag===3||o.tag===4}function rv(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||nv(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Df(o,c,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(o,c):h.insertBefore(o,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(o,h)):(c=h,c.appendChild(o)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Tc));else if(x!==4&&(o=o.child,o!==null))for(Df(o,c,h),o=o.sibling;o!==null;)Df(o,c,h),o=o.sibling}function Of(o,c,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(Of(o,c,h),o=o.sibling;o!==null;)Of(o,c,h),o=o.sibling}var pn=null,br=!1;function Ms(o,c,h){for(h=h.child;h!==null;)sv(o,c,h),h=h.sibling}function sv(o,c,h){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(hc,h)}catch{}switch(h.tag){case 5:Sn||vo(h,c);case 6:var x=pn,w=br;pn=null,Ms(o,c,h),pn=x,br=w,pn!==null&&(br?(o=pn,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):pn.removeChild(h.stateNode));break;case 18:pn!==null&&(br?(o=pn,h=h.stateNode,o.nodeType===8?qh(o.parentNode,h):o.nodeType===1&&qh(o,h),Da(o)):qh(pn,h.stateNode));break;case 4:x=pn,w=br,pn=h.stateNode.containerInfo,br=!0,Ms(o,c,h),pn=x,br=w;break;case 0:case 11:case 14:case 15:if(!Sn&&(x=h.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){w=x=x.next;do{var k=w,P=k.destroy;k=k.tag,P!==void 0&&((k&2)!==0||(k&4)!==0)&&Pf(h,c,P),w=w.next}while(w!==x)}Ms(o,c,h);break;case 1:if(!Sn&&(vo(h,c),x=h.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=h.memoizedProps,x.state=h.memoizedState,x.componentWillUnmount()}catch(H){zt(h,c,H)}Ms(o,c,h);break;case 21:Ms(o,c,h);break;case 22:h.mode&1?(Sn=(x=Sn)||h.memoizedState!==null,Ms(o,c,h),Sn=x):Ms(o,c,h);break;default:Ms(o,c,h)}}function iv(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new N5),c.forEach(function(x){var w=O5.bind(null,o,x);h.has(x)||(h.add(x),x.then(w,w))})}}function wr(o,c){var h=c.deletions;if(h!==null)for(var x=0;x<h.length;x++){var w=h[x];try{var k=o,P=c,H=P;e:for(;H!==null;){switch(H.tag){case 5:pn=H.stateNode,br=!1;break e;case 3:pn=H.stateNode.containerInfo,br=!0;break e;case 4:pn=H.stateNode.containerInfo,br=!0;break e}H=H.return}if(pn===null)throw Error(n(160));sv(k,P,w),pn=null,br=!1;var X=w.alternate;X!==null&&(X.return=null),w.return=null}catch(ce){zt(w,c,ce)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)ov(c,o),c=c.sibling}function ov(o,c){var h=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(wr(c,o),zr(o),x&4){try{tl(3,o,o.return),Zc(3,o)}catch(ze){zt(o,o.return,ze)}try{tl(5,o,o.return)}catch(ze){zt(o,o.return,ze)}}break;case 1:wr(c,o),zr(o),x&512&&h!==null&&vo(h,h.return);break;case 5:if(wr(c,o),zr(o),x&512&&h!==null&&vo(h,h.return),o.flags&32){var w=o.stateNode;try{mt(w,"")}catch(ze){zt(o,o.return,ze)}}if(x&4&&(w=o.stateNode,w!=null)){var k=o.memoizedProps,P=h!==null?h.memoizedProps:k,H=o.type,X=o.updateQueue;if(o.updateQueue=null,X!==null)try{H==="input"&&k.type==="radio"&&k.name!=null&&re(w,k),_n(H,P);var ce=_n(H,k);for(P=0;P<X.length;P+=2){var je=X[P],Ne=X[P+1];je==="style"?rn(w,Ne):je==="dangerouslySetInnerHTML"?qe(w,Ne):je==="children"?mt(w,Ne):A(w,je,Ne,ce)}switch(H){case"input":ve(w,k);break;case"textarea":et(w,k);break;case"select":var be=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!k.multiple;var Oe=k.value;Oe!=null?vt(w,!!k.multiple,Oe,!1):be!==!!k.multiple&&(k.defaultValue!=null?vt(w,!!k.multiple,k.defaultValue,!0):vt(w,!!k.multiple,k.multiple?[]:"",!1))}w[Ua]=k}catch(ze){zt(o,o.return,ze)}}break;case 6:if(wr(c,o),zr(o),x&4){if(o.stateNode===null)throw Error(n(162));w=o.stateNode,k=o.memoizedProps;try{w.nodeValue=k}catch(ze){zt(o,o.return,ze)}}break;case 3:if(wr(c,o),zr(o),x&4&&h!==null&&h.memoizedState.isDehydrated)try{Da(c.containerInfo)}catch(ze){zt(o,o.return,ze)}break;case 4:wr(c,o),zr(o);break;case 13:wr(c,o),zr(o),w=o.child,w.flags&8192&&(k=w.memoizedState!==null,w.stateNode.isHidden=k,!k||w.alternate!==null&&w.alternate.memoizedState!==null||(Mf=Vt())),x&4&&iv(o);break;case 22:if(je=h!==null&&h.memoizedState!==null,o.mode&1?(Sn=(ce=Sn)||je,wr(c,o),Sn=ce):wr(c,o),zr(o),x&8192){if(ce=o.memoizedState!==null,(o.stateNode.isHidden=ce)&&!je&&(o.mode&1)!==0)for(Fe=o,je=o.child;je!==null;){for(Ne=Fe=je;Fe!==null;){switch(be=Fe,Oe=be.child,be.tag){case 0:case 11:case 14:case 15:tl(4,be,be.return);break;case 1:vo(be,be.return);var Me=be.stateNode;if(typeof Me.componentWillUnmount=="function"){x=be,h=be.return;try{c=x,Me.props=c.memoizedProps,Me.state=c.memoizedState,Me.componentWillUnmount()}catch(ze){zt(x,h,ze)}}break;case 5:vo(be,be.return);break;case 22:if(be.memoizedState!==null){cv(Ne);continue}}Oe!==null?(Oe.return=be,Fe=Oe):cv(Ne)}je=je.sibling}e:for(je=null,Ne=o;;){if(Ne.tag===5){if(je===null){je=Ne;try{w=Ne.stateNode,ce?(k=w.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(H=Ne.stateNode,X=Ne.memoizedProps.style,P=X!=null&&X.hasOwnProperty("display")?X.display:null,H.style.display=In("display",P))}catch(ze){zt(o,o.return,ze)}}}else if(Ne.tag===6){if(je===null)try{Ne.stateNode.nodeValue=ce?"":Ne.memoizedProps}catch(ze){zt(o,o.return,ze)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===o)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===o)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===o)break e;je===Ne&&(je=null),Ne=Ne.return}je===Ne&&(je=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:wr(c,o),zr(o),x&4&&iv(o);break;case 21:break;default:wr(c,o),zr(o)}}function zr(o){var c=o.flags;if(c&2){try{e:{for(var h=o.return;h!==null;){if(nv(h)){var x=h;break e}h=h.return}throw Error(n(160))}switch(x.tag){case 5:var w=x.stateNode;x.flags&32&&(mt(w,""),x.flags&=-33);var k=rv(o);Of(o,k,w);break;case 3:case 4:var P=x.stateNode.containerInfo,H=rv(o);Df(o,H,P);break;default:throw Error(n(161))}}catch(X){zt(o,o.return,X)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function C5(o,c,h){Fe=o,av(o)}function av(o,c,h){for(var x=(o.mode&1)!==0;Fe!==null;){var w=Fe,k=w.child;if(w.tag===22&&x){var P=w.memoizedState!==null||Jc;if(!P){var H=w.alternate,X=H!==null&&H.memoizedState!==null||Sn;H=Jc;var ce=Sn;if(Jc=P,(Sn=X)&&!ce)for(Fe=w;Fe!==null;)P=Fe,X=P.child,P.tag===22&&P.memoizedState!==null?dv(w):X!==null?(X.return=P,Fe=X):dv(w);for(;k!==null;)Fe=k,av(k),k=k.sibling;Fe=w,Jc=H,Sn=ce}lv(o)}else(w.subtreeFlags&8772)!==0&&k!==null?(k.return=w,Fe=k):lv(o)}}function lv(o){for(;Fe!==null;){var c=Fe;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Sn||Zc(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!Sn)if(h===null)x.componentDidMount();else{var w=c.elementType===c.type?h.memoizedProps:vr(c.type,h.memoizedProps);x.componentDidUpdate(w,h.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var k=c.updateQueue;k!==null&&cy(c,k,x);break;case 3:var P=c.updateQueue;if(P!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}cy(c,P,h)}break;case 5:var H=c.stateNode;if(h===null&&c.flags&4){h=H;var X=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&h.focus();break;case"img":X.src&&(h.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ce=c.alternate;if(ce!==null){var je=ce.memoizedState;if(je!==null){var Ne=je.dehydrated;Ne!==null&&Da(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Sn||c.flags&512&&Rf(c)}catch(be){zt(c,c.return,be)}}if(c===o){Fe=null;break}if(h=c.sibling,h!==null){h.return=c.return,Fe=h;break}Fe=c.return}}function cv(o){for(;Fe!==null;){var c=Fe;if(c===o){Fe=null;break}var h=c.sibling;if(h!==null){h.return=c.return,Fe=h;break}Fe=c.return}}function dv(o){for(;Fe!==null;){var c=Fe;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{Zc(4,c)}catch(X){zt(c,h,X)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var w=c.return;try{x.componentDidMount()}catch(X){zt(c,w,X)}}var k=c.return;try{Rf(c)}catch(X){zt(c,k,X)}break;case 5:var P=c.return;try{Rf(c)}catch(X){zt(c,P,X)}}}catch(X){zt(c,c.return,X)}if(c===o){Fe=null;break}var H=c.sibling;if(H!==null){H.return=c.return,Fe=H;break}Fe=c.return}}var E5=Math.ceil,ed=E.ReactCurrentDispatcher,If=E.ReactCurrentOwner,ir=E.ReactCurrentBatchConfig,yt=0,cn=null,qt=null,mn=0,Yn=0,bo=Rs(0),Jt=0,nl=null,yi=0,td=0,Ff=0,rl=null,Ln=null,Mf=0,wo=1/0,os=null,nd=!1,$f=null,$s=null,rd=!1,Bs=null,sd=0,sl=0,Bf=null,id=-1,od=0;function Pn(){return(yt&6)!==0?Vt():id!==-1?id:id=Vt()}function Ls(o){return(o.mode&1)===0?1:(yt&2)!==0&&mn!==0?mn&-mn:d5.transition!==null?(od===0&&(od=rx()),od):(o=kt,o!==0||(o=window.event,o=o===void 0?16:hx(o.type)),o)}function jr(o,c,h,x){if(50<sl)throw sl=0,Bf=null,Error(n(185));Aa(o,h,x),((yt&2)===0||o!==cn)&&(o===cn&&((yt&2)===0&&(td|=h),Jt===4&&zs(o,mn)),zn(o,x),h===1&&yt===0&&(c.mode&1)===0&&(wo=Vt()+500,Oc&&Os()))}function zn(o,c){var h=o.callbackNode;dE(o,c);var x=mc(o,o===cn?mn:0);if(x===0)h!==null&&ex(h),o.callbackNode=null,o.callbackPriority=0;else if(c=x&-x,o.callbackPriority!==c){if(h!=null&&ex(h),c===1)o.tag===0?c5(hv.bind(null,o)):Xx(hv.bind(null,o)),i5(function(){(yt&6)===0&&Os()}),h=null;else{switch(sx(x)){case 1:h=xh;break;case 4:h=tx;break;case 16:h=uc;break;case 536870912:h=nx;break;default:h=uc}h=bv(h,uv.bind(null,o))}o.callbackPriority=c,o.callbackNode=h}}function uv(o,c){if(id=-1,od=0,(yt&6)!==0)throw Error(n(327));var h=o.callbackNode;if(jo()&&o.callbackNode!==h)return null;var x=mc(o,o===cn?mn:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||c)c=ad(o,x);else{c=x;var w=yt;yt|=2;var k=pv();(cn!==o||mn!==c)&&(os=null,wo=Vt()+500,bi(o,c));do try{T5();break}catch(H){fv(o,H)}while(!0);nf(),ed.current=k,yt=w,qt!==null?c=0:(cn=null,mn=0,c=Jt)}if(c!==0){if(c===2&&(w=yh(o),w!==0&&(x=w,c=Lf(o,w))),c===1)throw h=nl,bi(o,0),zs(o,x),zn(o,Vt()),h;if(c===6)zs(o,x);else{if(w=o.current.alternate,(x&30)===0&&!A5(w)&&(c=ad(o,x),c===2&&(k=yh(o),k!==0&&(x=k,c=Lf(o,k))),c===1))throw h=nl,bi(o,0),zs(o,x),zn(o,Vt()),h;switch(o.finishedWork=w,o.finishedLanes=x,c){case 0:case 1:throw Error(n(345));case 2:wi(o,Ln,os);break;case 3:if(zs(o,x),(x&130023424)===x&&(c=Mf+500-Vt(),10<c)){if(mc(o,0)!==0)break;if(w=o.suspendedLanes,(w&x)!==x){Pn(),o.pingedLanes|=o.suspendedLanes&w;break}o.timeoutHandle=Hh(wi.bind(null,o,Ln,os),c);break}wi(o,Ln,os);break;case 4:if(zs(o,x),(x&4194240)===x)break;for(c=o.eventTimes,w=-1;0<x;){var P=31-gr(x);k=1<<P,P=c[P],P>w&&(w=P),x&=~k}if(x=w,x=Vt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*E5(x/1960))-x,10<x){o.timeoutHandle=Hh(wi.bind(null,o,Ln,os),x);break}wi(o,Ln,os);break;case 5:wi(o,Ln,os);break;default:throw Error(n(329))}}}return zn(o,Vt()),o.callbackNode===h?uv.bind(null,o):null}function Lf(o,c){var h=rl;return o.current.memoizedState.isDehydrated&&(bi(o,c).flags|=256),o=ad(o,c),o!==2&&(c=Ln,Ln=h,c!==null&&zf(c)),o}function zf(o){Ln===null?Ln=o:Ln.push.apply(Ln,o)}function A5(o){for(var c=o;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var x=0;x<h.length;x++){var w=h[x],k=w.getSnapshot;w=w.value;try{if(!xr(k(),w))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function zs(o,c){for(c&=~Ff,c&=~td,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var h=31-gr(c),x=1<<h;o[h]=-1,c&=~x}}function hv(o){if((yt&6)!==0)throw Error(n(327));jo();var c=mc(o,0);if((c&1)===0)return zn(o,Vt()),null;var h=ad(o,c);if(o.tag!==0&&h===2){var x=yh(o);x!==0&&(c=x,h=Lf(o,x))}if(h===1)throw h=nl,bi(o,0),zs(o,c),zn(o,Vt()),h;if(h===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,wi(o,Ln,os),zn(o,Vt()),null}function Wf(o,c){var h=yt;yt|=1;try{return o(c)}finally{yt=h,yt===0&&(wo=Vt()+500,Oc&&Os())}}function vi(o){Bs!==null&&Bs.tag===0&&(yt&6)===0&&jo();var c=yt;yt|=1;var h=ir.transition,x=kt;try{if(ir.transition=null,kt=1,o)return o()}finally{kt=x,ir.transition=h,yt=c,(yt&6)===0&&Os()}}function Vf(){Yn=bo.current,Pt(bo)}function bi(o,c){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,s5(h)),qt!==null)for(h=qt.return;h!==null;){var x=h;switch(Xh(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Rc();break;case 3:xo(),Pt(Mn),Pt(bn),uf();break;case 5:cf(x);break;case 4:xo();break;case 13:Pt(It);break;case 19:Pt(It);break;case 10:rf(x.type._context);break;case 22:case 23:Vf()}h=h.return}if(cn=o,qt=o=Ws(o.current,null),mn=Yn=c,Jt=0,nl=null,Ff=td=yi=0,Ln=rl=null,mi!==null){for(c=0;c<mi.length;c++)if(h=mi[c],x=h.interleaved,x!==null){h.interleaved=null;var w=x.next,k=h.pending;if(k!==null){var P=k.next;k.next=w,x.next=P}h.pending=x}mi=null}return o}function fv(o,c){do{var h=qt;try{if(nf(),Uc.current=Kc,Hc){for(var x=Ft.memoizedState;x!==null;){var w=x.queue;w!==null&&(w.pending=null),x=x.next}Hc=!1}if(xi=0,ln=Xt=Ft=null,Qa=!1,Xa=0,If.current=null,h===null||h.return===null){Jt=1,nl=c,qt=null;break}e:{var k=o,P=h.return,H=h,X=c;if(c=mn,H.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ce=X,je=H,Ne=je.tag;if((je.mode&1)===0&&(Ne===0||Ne===11||Ne===15)){var be=je.alternate;be?(je.updateQueue=be.updateQueue,je.memoizedState=be.memoizedState,je.lanes=be.lanes):(je.updateQueue=null,je.memoizedState=null)}var Oe=$y(P);if(Oe!==null){Oe.flags&=-257,By(Oe,P,H,k,c),Oe.mode&1&&My(k,ce,c),c=Oe,X=ce;var Me=c.updateQueue;if(Me===null){var ze=new Set;ze.add(X),c.updateQueue=ze}else Me.add(X);break e}else{if((c&1)===0){My(k,ce,c),Uf();break e}X=Error(n(426))}}else if(Rt&&H.mode&1){var Ut=$y(P);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),By(Ut,P,H,k,c),ef(yo(X,H));break e}}k=X=yo(X,H),Jt!==4&&(Jt=2),rl===null?rl=[k]:rl.push(k),k=P;do{switch(k.tag){case 3:k.flags|=65536,c&=-c,k.lanes|=c;var se=Iy(k,X,c);ly(k,se);break e;case 1:H=X;var te=k.type,ae=k.stateNode;if((k.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&($s===null||!$s.has(ae)))){k.flags|=65536,c&=-c,k.lanes|=c;var _e=Fy(k,H,c);ly(k,_e);break e}}k=k.return}while(k!==null)}gv(h)}catch(Ue){c=Ue,qt===h&&h!==null&&(qt=h=h.return);continue}break}while(!0)}function pv(){var o=ed.current;return ed.current=Kc,o===null?Kc:o}function Uf(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),cn===null||(yi&268435455)===0&&(td&268435455)===0||zs(cn,mn)}function ad(o,c){var h=yt;yt|=2;var x=pv();(cn!==o||mn!==c)&&(os=null,bi(o,c));do try{_5();break}catch(w){fv(o,w)}while(!0);if(nf(),yt=h,ed.current=x,qt!==null)throw Error(n(261));return cn=null,mn=0,Jt}function _5(){for(;qt!==null;)mv(qt)}function T5(){for(;qt!==null&&!tE();)mv(qt)}function mv(o){var c=vv(o.alternate,o,Yn);o.memoizedProps=o.pendingProps,c===null?gv(o):qt=c,If.current=null}function gv(o){var c=o;do{var h=c.alternate;if(o=c.return,(c.flags&32768)===0){if(h=j5(h,c,Yn),h!==null){qt=h;return}}else{if(h=S5(h,c),h!==null){h.flags&=32767,qt=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Jt=6,qt=null;return}}if(c=c.sibling,c!==null){qt=c;return}qt=c=o}while(c!==null);Jt===0&&(Jt=5)}function wi(o,c,h){var x=kt,w=ir.transition;try{ir.transition=null,kt=1,P5(o,c,h,x)}finally{ir.transition=w,kt=x}return null}function P5(o,c,h,x){do jo();while(Bs!==null);if((yt&6)!==0)throw Error(n(327));h=o.finishedWork;var w=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var k=h.lanes|h.childLanes;if(uE(o,k),o===cn&&(qt=cn=null,mn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||rd||(rd=!0,bv(uc,function(){return jo(),null})),k=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||k){k=ir.transition,ir.transition=null;var P=kt;kt=1;var H=yt;yt|=4,If.current=null,k5(o,h),ov(h,o),XE(Vh),yc=!!Wh,Vh=Wh=null,o.current=h,C5(h),nE(),yt=H,kt=P,ir.transition=k}else o.current=h;if(rd&&(rd=!1,Bs=o,sd=w),k=o.pendingLanes,k===0&&($s=null),iE(h.stateNode),zn(o,Vt()),c!==null)for(x=o.onRecoverableError,h=0;h<c.length;h++)w=c[h],x(w.value,{componentStack:w.stack,digest:w.digest});if(nd)throw nd=!1,o=$f,$f=null,o;return(sd&1)!==0&&o.tag!==0&&jo(),k=o.pendingLanes,(k&1)!==0?o===Bf?sl++:(sl=0,Bf=o):sl=0,Os(),null}function jo(){if(Bs!==null){var o=sx(sd),c=ir.transition,h=kt;try{if(ir.transition=null,kt=16>o?16:o,Bs===null)var x=!1;else{if(o=Bs,Bs=null,sd=0,(yt&6)!==0)throw Error(n(331));var w=yt;for(yt|=4,Fe=o.current;Fe!==null;){var k=Fe,P=k.child;if((Fe.flags&16)!==0){var H=k.deletions;if(H!==null){for(var X=0;X<H.length;X++){var ce=H[X];for(Fe=ce;Fe!==null;){var je=Fe;switch(je.tag){case 0:case 11:case 15:tl(8,je,k)}var Ne=je.child;if(Ne!==null)Ne.return=je,Fe=Ne;else for(;Fe!==null;){je=Fe;var be=je.sibling,Oe=je.return;if(tv(je),je===ce){Fe=null;break}if(be!==null){be.return=Oe,Fe=be;break}Fe=Oe}}}var Me=k.alternate;if(Me!==null){var ze=Me.child;if(ze!==null){Me.child=null;do{var Ut=ze.sibling;ze.sibling=null,ze=Ut}while(ze!==null)}}Fe=k}}if((k.subtreeFlags&2064)!==0&&P!==null)P.return=k,Fe=P;else e:for(;Fe!==null;){if(k=Fe,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:tl(9,k,k.return)}var se=k.sibling;if(se!==null){se.return=k.return,Fe=se;break e}Fe=k.return}}var te=o.current;for(Fe=te;Fe!==null;){P=Fe;var ae=P.child;if((P.subtreeFlags&2064)!==0&&ae!==null)ae.return=P,Fe=ae;else e:for(P=te;Fe!==null;){if(H=Fe,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Zc(9,H)}}catch(Ue){zt(H,H.return,Ue)}if(H===P){Fe=null;break e}var _e=H.sibling;if(_e!==null){_e.return=H.return,Fe=_e;break e}Fe=H.return}}if(yt=w,Os(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(hc,o)}catch{}x=!0}return x}finally{kt=h,ir.transition=c}}return!1}function xv(o,c,h){c=yo(h,c),c=Iy(o,c,1),o=Fs(o,c,1),c=Pn(),o!==null&&(Aa(o,1,c),zn(o,c))}function zt(o,c,h){if(o.tag===3)xv(o,o,h);else for(;c!==null;){if(c.tag===3){xv(c,o,h);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&($s===null||!$s.has(x))){o=yo(h,o),o=Fy(c,o,1),c=Fs(c,o,1),o=Pn(),c!==null&&(Aa(c,1,o),zn(c,o));break}}c=c.return}}function R5(o,c,h){var x=o.pingCache;x!==null&&x.delete(c),c=Pn(),o.pingedLanes|=o.suspendedLanes&h,cn===o&&(mn&h)===h&&(Jt===4||Jt===3&&(mn&130023424)===mn&&500>Vt()-Mf?bi(o,0):Ff|=h),zn(o,c)}function yv(o,c){c===0&&((o.mode&1)===0?c=1:(c=pc,pc<<=1,(pc&130023424)===0&&(pc=4194304)));var h=Pn();o=rs(o,c),o!==null&&(Aa(o,c,h),zn(o,h))}function D5(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),yv(o,h)}function O5(o,c){var h=0;switch(o.tag){case 13:var x=o.stateNode,w=o.memoizedState;w!==null&&(h=w.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(c),yv(o,h)}var vv;vv=function(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps||Mn.current)Bn=!0;else{if((o.lanes&h)===0&&(c.flags&128)===0)return Bn=!1,w5(o,c,h);Bn=(o.flags&131072)!==0}else Bn=!1,Rt&&(c.flags&1048576)!==0&&Jx(c,Fc,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;Xc(o,c),o=c.pendingProps;var w=co(c,bn.current);go(c,h),w=pf(null,c,x,o,w,h);var k=mf();return c.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,$n(x)?(k=!0,Dc(c)):k=!1,c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,af(c),w.updater=Yc,c.stateNode=w,w._reactInternals=c,wf(c,x,o,h),c=kf(null,c,x,!0,k,h)):(c.tag=0,Rt&&k&&Qh(c),Tn(null,c,w,h),c=c.child),c;case 16:x=c.elementType;e:{switch(Xc(o,c),o=c.pendingProps,w=x._init,x=w(x._payload),c.type=x,w=c.tag=F5(x),o=vr(x,o),w){case 0:c=Nf(null,c,x,o,h);break e;case 1:c=Hy(null,c,x,o,h);break e;case 11:c=Ly(null,c,x,o,h);break e;case 14:c=zy(null,c,x,vr(x.type,o),h);break e}throw Error(n(306,x,""))}return c;case 0:return x=c.type,w=c.pendingProps,w=c.elementType===x?w:vr(x,w),Nf(o,c,x,w,h);case 1:return x=c.type,w=c.pendingProps,w=c.elementType===x?w:vr(x,w),Hy(o,c,x,w,h);case 3:e:{if(qy(c),o===null)throw Error(n(387));x=c.pendingProps,k=c.memoizedState,w=k.element,ay(o,c),Wc(c,x,null,h);var P=c.memoizedState;if(x=P.element,k.isDehydrated)if(k={element:x,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},c.updateQueue.baseState=k,c.memoizedState=k,c.flags&256){w=yo(Error(n(423)),c),c=Gy(o,c,x,h,w);break e}else if(x!==w){w=yo(Error(n(424)),c),c=Gy(o,c,x,h,w);break e}else for(Kn=Ps(c.stateNode.containerInfo.firstChild),Gn=c,Rt=!0,yr=null,h=iy(c,null,x,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(fo(),x===w){c=is(o,c,h);break e}Tn(o,c,x,h)}c=c.child}return c;case 5:return dy(c),o===null&&Zh(c),x=c.type,w=c.pendingProps,k=o!==null?o.memoizedProps:null,P=w.children,Uh(x,w)?P=null:k!==null&&Uh(x,k)&&(c.flags|=32),Uy(o,c),Tn(o,c,P,h),c.child;case 6:return o===null&&Zh(c),null;case 13:return Ky(o,c,h);case 4:return lf(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=po(c,null,x,h):Tn(o,c,x,h),c.child;case 11:return x=c.type,w=c.pendingProps,w=c.elementType===x?w:vr(x,w),Ly(o,c,x,w,h);case 7:return Tn(o,c,c.pendingProps,h),c.child;case 8:return Tn(o,c,c.pendingProps.children,h),c.child;case 12:return Tn(o,c,c.pendingProps.children,h),c.child;case 10:e:{if(x=c.type._context,w=c.pendingProps,k=c.memoizedProps,P=w.value,At(Bc,x._currentValue),x._currentValue=P,k!==null)if(xr(k.value,P)){if(k.children===w.children&&!Mn.current){c=is(o,c,h);break e}}else for(k=c.child,k!==null&&(k.return=c);k!==null;){var H=k.dependencies;if(H!==null){P=k.child;for(var X=H.firstContext;X!==null;){if(X.context===x){if(k.tag===1){X=ss(-1,h&-h),X.tag=2;var ce=k.updateQueue;if(ce!==null){ce=ce.shared;var je=ce.pending;je===null?X.next=X:(X.next=je.next,je.next=X),ce.pending=X}}k.lanes|=h,X=k.alternate,X!==null&&(X.lanes|=h),sf(k.return,h,c),H.lanes|=h;break}X=X.next}}else if(k.tag===10)P=k.type===c.type?null:k.child;else if(k.tag===18){if(P=k.return,P===null)throw Error(n(341));P.lanes|=h,H=P.alternate,H!==null&&(H.lanes|=h),sf(P,h,c),P=k.sibling}else P=k.child;if(P!==null)P.return=k;else for(P=k;P!==null;){if(P===c){P=null;break}if(k=P.sibling,k!==null){k.return=P.return,P=k;break}P=P.return}k=P}Tn(o,c,w.children,h),c=c.child}return c;case 9:return w=c.type,x=c.pendingProps.children,go(c,h),w=rr(w),x=x(w),c.flags|=1,Tn(o,c,x,h),c.child;case 14:return x=c.type,w=vr(x,c.pendingProps),w=vr(x.type,w),zy(o,c,x,w,h);case 15:return Wy(o,c,c.type,c.pendingProps,h);case 17:return x=c.type,w=c.pendingProps,w=c.elementType===x?w:vr(x,w),Xc(o,c),c.tag=1,$n(x)?(o=!0,Dc(c)):o=!1,go(c,h),Dy(c,x,w),wf(c,x,w,h),kf(null,c,x,!0,o,h);case 19:return Qy(o,c,h);case 22:return Vy(o,c,h)}throw Error(n(156,c.tag))};function bv(o,c){return Z0(o,c)}function I5(o,c,h,x){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(o,c,h,x){return new I5(o,c,h,x)}function Hf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function F5(o){if(typeof o=="function")return Hf(o)?1:0;if(o!=null){if(o=o.$$typeof,o===ie)return 11;if(o===F)return 14}return 2}function Ws(o,c){var h=o.alternate;return h===null?(h=or(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function ld(o,c,h,x,w,k){var P=2;if(x=o,typeof o=="function")Hf(o)&&(P=1);else if(typeof o=="string")P=5;else e:switch(o){case D:return ji(h.children,w,k,c);case R:P=8,w|=8;break;case V:return o=or(12,h,c,w|2),o.elementType=V,o.lanes=k,o;case oe:return o=or(13,h,c,w),o.elementType=oe,o.lanes=k,o;case Z:return o=or(19,h,c,w),o.elementType=Z,o.lanes=k,o;case B:return cd(h,w,k,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case G:P=10;break e;case ne:P=9;break e;case ie:P=11;break e;case F:P=14;break e;case z:P=16,x=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return c=or(P,h,c,w),c.elementType=o,c.type=x,c.lanes=k,c}function ji(o,c,h,x){return o=or(7,o,x,c),o.lanes=h,o}function cd(o,c,h,x){return o=or(22,o,x,c),o.elementType=B,o.lanes=h,o.stateNode={isHidden:!1},o}function qf(o,c,h){return o=or(6,o,null,c),o.lanes=h,o}function Gf(o,c,h){return c=or(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function M5(o,c,h,x,w){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vh(0),this.expirationTimes=vh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vh(0),this.identifierPrefix=x,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Kf(o,c,h,x,w,k,P,H,X){return o=new M5(o,c,h,H,X),c===1?(c=1,k===!0&&(c|=8)):c=0,k=or(3,null,null,c),o.current=k,k.stateNode=o,k.memoizedState={element:x,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},af(k),o}function $5(o,c,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:x==null?null:""+x,children:o,containerInfo:c,implementation:h}}function wv(o){if(!o)return Ds;o=o._reactInternals;e:{if(ft(o)!==o||o.tag!==1)throw Error(n(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if($n(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(o.tag===1){var h=o.type;if($n(h))return Yx(o,h,c)}return c}function jv(o,c,h,x,w,k,P,H,X){return o=Kf(h,x,!0,o,w,k,P,H,X),o.context=wv(null),h=o.current,x=Pn(),w=Ls(h),k=ss(x,w),k.callback=c??null,Fs(h,k,w),o.current.lanes=w,Aa(o,w,x),zn(o,x),o}function dd(o,c,h,x){var w=c.current,k=Pn(),P=Ls(w);return h=wv(h),c.context===null?c.context=h:c.pendingContext=h,c=ss(k,P),c.payload={element:o},x=x===void 0?null:x,x!==null&&(c.callback=x),o=Fs(w,c,P),o!==null&&(jr(o,w,P,k),zc(o,w,P)),P}function ud(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Sv(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function Yf(o,c){Sv(o,c),(o=o.alternate)&&Sv(o,c)}function B5(){return null}var Nv=typeof reportError=="function"?reportError:function(o){console.error(o)};function Qf(o){this._internalRoot=o}hd.prototype.render=Qf.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));dd(o,c,null,null)},hd.prototype.unmount=Qf.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;vi(function(){dd(null,o,null,null)}),c[Zr]=null}};function hd(o){this._internalRoot=o}hd.prototype.unstable_scheduleHydration=function(o){if(o){var c=ax();o={blockedOn:null,target:o,priority:c};for(var h=0;h<As.length&&c!==0&&c<As[h].priority;h++);As.splice(h,0,o),h===0&&dx(o)}};function Xf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function fd(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function kv(){}function L5(o,c,h,x,w){if(w){if(typeof x=="function"){var k=x;x=function(){var ce=ud(P);k.call(ce)}}var P=jv(c,x,o,0,null,!1,!1,"",kv);return o._reactRootContainer=P,o[Zr]=P.current,Wa(o.nodeType===8?o.parentNode:o),vi(),P}for(;w=o.lastChild;)o.removeChild(w);if(typeof x=="function"){var H=x;x=function(){var ce=ud(X);H.call(ce)}}var X=Kf(o,0,!1,null,null,!1,!1,"",kv);return o._reactRootContainer=X,o[Zr]=X.current,Wa(o.nodeType===8?o.parentNode:o),vi(function(){dd(c,X,h,x)}),X}function pd(o,c,h,x,w){var k=h._reactRootContainer;if(k){var P=k;if(typeof w=="function"){var H=w;w=function(){var X=ud(P);H.call(X)}}dd(c,P,o,w)}else P=L5(h,c,o,w,x);return ud(P)}ix=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var h=Ea(c.pendingLanes);h!==0&&(bh(c,h|1),zn(c,Vt()),(yt&6)===0&&(wo=Vt()+500,Os()))}break;case 13:vi(function(){var x=rs(o,1);if(x!==null){var w=Pn();jr(x,o,1,w)}}),Yf(o,1)}},wh=function(o){if(o.tag===13){var c=rs(o,134217728);if(c!==null){var h=Pn();jr(c,o,134217728,h)}Yf(o,134217728)}},ox=function(o){if(o.tag===13){var c=Ls(o),h=rs(o,c);if(h!==null){var x=Pn();jr(h,o,c,x)}Yf(o,c)}},ax=function(){return kt},lx=function(o,c){var h=kt;try{return kt=o,c()}finally{kt=h}},Q=function(o,c,h){switch(c){case"input":if(ve(o,h),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var x=h[c];if(x!==o&&x.form===o.form){var w=Pc(x);if(!w)throw Error(n(90));Pe(x),ve(x,w)}}}break;case"textarea":et(o,h);break;case"select":c=h.value,c!=null&&vt(o,!!h.multiple,c,!1)}},Ee=Wf,Le=vi;var z5={usingClientEntryPoint:!1,Events:[Ha,ao,Pc,J,xe,Wf]},il={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W5={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Ns(o),o===null?null:o.stateNode},findFiberByHostInstance:il.findFiberByHostInstance||B5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{hc=md.inject(W5),Mr=md}catch{}}return Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z5,Wn.createPortal=function(o,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xf(c))throw Error(n(200));return $5(o,c,null,h)},Wn.createRoot=function(o,c){if(!Xf(o))throw Error(n(299));var h=!1,x="",w=Nv;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(w=c.onRecoverableError)),c=Kf(o,1,!1,null,null,h,!1,x,w),o[Zr]=c.current,Wa(o.nodeType===8?o.parentNode:o),new Qf(c)},Wn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Ns(c),o=o===null?null:o.stateNode,o},Wn.flushSync=function(o){return vi(o)},Wn.hydrate=function(o,c,h){if(!fd(c))throw Error(n(200));return pd(null,o,c,!0,h)},Wn.hydrateRoot=function(o,c,h){if(!Xf(o))throw Error(n(405));var x=h!=null&&h.hydratedSources||null,w=!1,k="",P=Nv;if(h!=null&&(h.unstable_strictMode===!0&&(w=!0),h.identifierPrefix!==void 0&&(k=h.identifierPrefix),h.onRecoverableError!==void 0&&(P=h.onRecoverableError)),c=jv(c,null,o,1,h??null,w,!1,k,P),o[Zr]=c.current,Wa(o),x)for(o=0;o<x.length;o++)h=x[o],w=h._getVersion,w=w(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,w]:c.mutableSourceEagerHydrationData.push(h,w);return new hd(c)},Wn.render=function(o,c,h){if(!fd(c))throw Error(n(200));return pd(null,o,c,!1,h)},Wn.unmountComponentAtNode=function(o){if(!fd(o))throw Error(n(40));return o._reactRootContainer?(vi(function(){pd(null,null,o,!1,function(){o._reactRootContainer=null,o[Zr]=null})}),!0):!1},Wn.unstable_batchedUpdates=Wf,Wn.unstable_renderSubtreeIntoContainer=function(o,c,h,x){if(!fd(h))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return pd(o,c,h,!1,x)},Wn.version="18.3.1-next-f1338f8080-20240426",Wn}var Dv;function lj(){if(Dv)return ep.exports;Dv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ep.exports=Q5(),ep.exports}var Ov;function X5(){if(Ov)return gd;Ov=1;var e=lj();return gd.createRoot=e.createRoot,gd.hydrateRoot=e.hydrateRoot,gd}var J5=X5(),g=Gl();const me=zu(g),yg=aj({__proto__:null,default:me},[g]);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Iv="popstate";function Z5(e={}){function t(s,i){let{pathname:a,search:l,hash:d}=s.location;return cm("",{pathname:a,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:_l(i)}return tA(t,n,null,e)}function Bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _r(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eA(){return Math.random().toString(36).substring(2,10)}function Fv(e,t){return{usr:e.state,key:e.key,idx:t}}function cm(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ha(t):t,state:n,key:t&&t.key||s||eA()}}function _l({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ha(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function tA(e,t,n,s={}){let{window:i=document.defaultView,v5Compat:a=!1}=s,l=i.history,d="POP",u=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function p(){d="POP";let S=m(),N=S==null?null:S-f;f=S,u&&u({action:d,location:j.location,delta:N})}function y(S,N){d="PUSH";let C=cm(j.location,S,N);f=m()+1;let A=Fv(C,f),E=j.createHref(C);try{l.pushState(A,"",E)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(E)}a&&u&&u({action:d,location:j.location,delta:1})}function v(S,N){d="REPLACE";let C=cm(j.location,S,N);f=m();let A=Fv(C,f),E=j.createHref(C);l.replaceState(A,"",E),a&&u&&u({action:d,location:j.location,delta:0})}function b(S){return nA(S)}let j={get action(){return d},get location(){return e(i,l)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Iv,p),u=S,()=>{i.removeEventListener(Iv,p),u=null}},createHref(S){return t(i,S)},createURL:b,encodeLocation(S){let N=b(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:v,go(S){return l.go(S)}};return j}function nA(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:_l(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function cj(e,t,n="/"){return rA(e,t,n,!1)}function rA(e,t,n,s){let i=typeof t=="string"?ha(t):t,a=ms(i.pathname||"/",n);if(a==null)return null;let l=dj(e);sA(l);let d=null;for(let u=0;d==null&&u<l.length;++u){let f=mA(a);d=fA(l[u],f,s)}return d}function dj(e,t=[],n=[],s="",i=!1){let a=(l,d,u=i,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(s)&&u)return;Bt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length)}let p=ps([s,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(Bt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),dj(l.children,t,y,p,u)),!(l.path==null&&!l.index)&&t.push({path:p,score:uA(p,l.index),routesMeta:y})};return e.forEach((l,d)=>{if(l.path===""||!l.path?.includes("?"))a(l,d);else for(let u of uj(l.path))a(l,d,!0,u)}),t}function uj(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let l=uj(s.join("/")),d=[];return d.push(...l.map(u=>u===""?a:[a,u].join("/"))),i&&d.push(...l),d.map(u=>e.startsWith("/")&&u===""?"/":u)}function sA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hA(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var iA=/^:[\w-]+$/,oA=3,aA=2,lA=1,cA=10,dA=-2,Mv=e=>e==="*";function uA(e,t){let n=e.split("/"),s=n.length;return n.some(Mv)&&(s+=dA),t&&(s+=aA),n.filter(i=>!Mv(i)).reduce((i,a)=>i+(iA.test(a)?oA:a===""?lA:cA),s)}function hA(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function fA(e,t,n=!1){let{routesMeta:s}=e,i={},a="/",l=[];for(let d=0;d<s.length;++d){let u=s[d],f=d===s.length-1,m=a==="/"?t:t.slice(a.length)||"/",p=lu({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},m),y=u.route;if(!p&&f&&n&&!s[s.length-1].route.index&&(p=lu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:ps([a,p.pathname]),pathnameBase:bA(ps([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=ps([a,p.pathnameBase]))}return l}function lu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=pA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:s.reduce((f,{paramName:m,isOptional:p},y)=>{if(m==="*"){let b=d[y]||"";l=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const v=d[y];return p&&!v?f[m]=void 0:f[m]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:e}}function pA(e,t=!1,n=!0){_r(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,u)=>(s.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function mA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _r(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ms(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var gA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xA=e=>gA.test(e);function yA(e,t="/"){let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?ha(e):e,a;if(n)if(xA(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),_r(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=$v(n.substring(1),"/"):a=$v(n,t)}else a=t;return{pathname:a,search:wA(s),hash:jA(i)}}function $v(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rp(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function hj(e){let t=vA(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function fj(e,t,n,s=!1){let i;typeof e=="string"?i=ha(e):(i={...e},Bt(!i.pathname||!i.pathname.includes("?"),rp("?","pathname","search",i)),Bt(!i.pathname||!i.pathname.includes("#"),rp("#","pathname","hash",i)),Bt(!i.search||!i.search.includes("#"),rp("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,d;if(l==null)d=n;else{let p=t.length-1;if(!s&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}d=p>=0?t[p]:"/"}let u=yA(i,d),f=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||m)&&(u.pathname+="/"),u}var ps=e=>e.join("/").replace(/\/\/+/g,"/"),bA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function SA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pj=["POST","PUT","PATCH","DELETE"];new Set(pj);var NA=["GET",...pj];new Set(NA);var fa=g.createContext(null);fa.displayName="DataRouter";var Wu=g.createContext(null);Wu.displayName="DataRouterState";g.createContext(!1);var mj=g.createContext({isTransitioning:!1});mj.displayName="ViewTransition";var kA=g.createContext(new Map);kA.displayName="Fetchers";var CA=g.createContext(null);CA.displayName="Await";var Qr=g.createContext(null);Qr.displayName="Navigation";var Kl=g.createContext(null);Kl.displayName="Location";var Ss=g.createContext({outlet:null,matches:[],isDataRoute:!1});Ss.displayName="Route";var vg=g.createContext(null);vg.displayName="RouteError";function EA(e,{relative:t}={}){Bt(Yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=g.useContext(Qr),{hash:i,pathname:a,search:l}=Ql(e,{relative:t}),d=a;return n!=="/"&&(d=a==="/"?n:ps([n,a])),s.createHref({pathname:d,search:l,hash:i})}function Yl(){return g.useContext(Kl)!=null}function ni(){return Bt(Yl(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Kl).location}var gj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xj(e){g.useContext(Qr).static||g.useLayoutEffect(e)}function yj(){let{isDataRoute:e}=g.useContext(Ss);return e?LA():AA()}function AA(){Bt(Yl(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(fa),{basename:t,navigator:n}=g.useContext(Qr),{matches:s}=g.useContext(Ss),{pathname:i}=ni(),a=JSON.stringify(hj(s)),l=g.useRef(!1);return xj(()=>{l.current=!0}),g.useCallback((u,f={})=>{if(_r(l.current,gj),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=fj(u,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ps([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,a,i,e])}g.createContext(null);function Ql(e,{relative:t}={}){let{matches:n}=g.useContext(Ss),{pathname:s}=ni(),i=JSON.stringify(hj(n));return g.useMemo(()=>fj(e,JSON.parse(i),s,t==="path"),[e,i,s,t])}function _A(e,t){return vj(e,t)}function vj(e,t,n,s,i){Bt(Yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=g.useContext(Qr),{matches:l}=g.useContext(Ss),d=l[l.length-1],u=d?d.params:{},f=d?d.pathname:"/",m=d?d.pathnameBase:"/",p=d&&d.route;{let C=p&&p.path||"";bj(f,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let y=ni(),v;if(t){let C=typeof t=="string"?ha(t):t;Bt(m==="/"||C.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${C.pathname}" was given in the \`location\` prop.`),v=C}else v=y;let b=v.pathname||"/",j=b;if(m!=="/"){let C=m.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=cj(e,{pathname:j});_r(p||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),_r(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=OA(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:ps([m,a.encodeLocation?a.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:ps([m,a.encodeLocation?a.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),l,n,s,i);return t&&N?g.createElement(Kl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},N):N}function TA(){let e=BA(),t=SA(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:a},"ErrorBoundary")," or"," ",g.createElement("code",{style:a},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:i},n):null,l)}var PA=g.createElement(TA,null),RA=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?g.createElement(Ss.Provider,{value:this.props.routeContext},g.createElement(vg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DA({routeContext:e,match:t,children:n}){let s=g.useContext(fa);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(Ss.Provider,{value:e},n)}function OA(e,t=[],n=null,s=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n?.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Bt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let d=!1,u=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=m),p.route.id){let{loaderData:y,errors:v}=n,b=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){d=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let f=n&&s?(m,p)=>{s(m,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:p})}:void 0;return a.reduceRight((m,p,y)=>{let v,b=!1,j=null,S=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,j=p.route.errorElement||PA,d&&(u<0&&y===0?(bj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):u===y&&(b=!0,S=p.route.hydrateFallbackElement||null)));let N=t.concat(a.slice(0,y+1)),C=()=>{let A;return v?A=j:b?A=S:p.route.Component?A=g.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=m,g.createElement(DA,{match:p,routeContext:{outlet:m,matches:N,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?g.createElement(RA,{location:n.location,revalidation:n.revalidation,component:j,error:v,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:f}):C()},null)}function bg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IA(e){let t=g.useContext(fa);return Bt(t,bg(e)),t}function FA(e){let t=g.useContext(Wu);return Bt(t,bg(e)),t}function MA(e){let t=g.useContext(Ss);return Bt(t,bg(e)),t}function wg(e){let t=MA(e),n=t.matches[t.matches.length-1];return Bt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function $A(){return wg("useRouteId")}function BA(){let e=g.useContext(vg),t=FA("useRouteError"),n=wg("useRouteError");return e!==void 0?e:t.errors?.[n]}function LA(){let{router:e}=IA("useNavigate"),t=wg("useNavigate"),n=g.useRef(!1);return xj(()=>{n.current=!0}),g.useCallback(async(i,a={})=>{_r(n.current,gj),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var Bv={};function bj(e,t,n){!t&&!Bv[e]&&(Bv[e]=!0,_r(!1,n))}g.memo(zA);function zA({routes:e,future:t,state:n,unstable_onError:s}){return vj(e,void 0,n,s,t)}function Fo(e){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WA({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:i,static:a=!1}){Bt(!Yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=ha(n));let{pathname:u="/",search:f="",hash:m="",state:p=null,key:y="default"}=n,v=g.useMemo(()=>{let b=ms(u,l);return b==null?null:{location:{pathname:b,search:f,hash:m,state:p,key:y},navigationType:s}},[l,u,f,m,p,y,s]);return _r(v!=null,`<Router basename="${l}"> is not able to match the URL "${u}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:g.createElement(Qr.Provider,{value:d},g.createElement(Kl.Provider,{children:t,value:v}))}function VA({children:e,location:t}){return _A(dm(e),t)}function dm(e,t=[]){let n=[];return g.Children.forEach(e,(s,i)=>{if(!g.isValidElement(s))return;let a=[...t,i];if(s.type===g.Fragment){n.push.apply(n,dm(s.props.children,a));return}Bt(s.type===Fo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let l={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=dm(s.props.children,a)),n.push(l)}),n}var Gd="get",Kd="application/x-www-form-urlencoded";function Vu(e){return e!=null&&typeof e.tagName=="string"}function UA(e){return Vu(e)&&e.tagName.toLowerCase()==="button"}function HA(e){return Vu(e)&&e.tagName.toLowerCase()==="form"}function qA(e){return Vu(e)&&e.tagName.toLowerCase()==="input"}function GA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KA(e,t){return e.button===0&&(!t||t==="_self")&&!GA(e)}var xd=null;function YA(){if(xd===null)try{new FormData(document.createElement("form"),0),xd=!1}catch{xd=!0}return xd}var QA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sp(e){return e!=null&&!QA.has(e)?(_r(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kd}"`),null):e}function XA(e,t){let n,s,i,a,l;if(HA(e)){let d=e.getAttribute("action");s=d?ms(d,t):null,n=e.getAttribute("method")||Gd,i=sp(e.getAttribute("enctype"))||Kd,a=new FormData(e)}else if(UA(e)||qA(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||d.getAttribute("action");if(s=u?ms(u,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Gd,i=sp(e.getAttribute("formenctype"))||sp(d.getAttribute("enctype"))||Kd,a=new FormData(d,e),!YA()){let{name:f,type:m,value:p}=e;if(m==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,p)}}else{if(Vu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gd,s=null,i=Kd,l=e}return a&&i==="text/plain"&&(l=a,a=void 0),{action:s,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function JA(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&ms(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function ZA(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function e_(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function t_(e,t,n){let s=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let l=await ZA(a,n);return l.links?l.links():[]}return[]}));return i_(s.flat(1).filter(e_).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Lv(e,t,n,s,i,a){let l=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,d=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,f)=>l(u,f)||d(u,f)):a==="data"?t.filter((u,f)=>{let m=s.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(l(u,f)||d(u,f))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function n_(e,t,{includeHydrateFallback:n}={}){return r_(e.map(s=>{let i=t.routes[s.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function r_(e){return[...new Set(e)]}function s_(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function i_(e,t){let n=new Set;return new Set(t),e.reduce((s,i)=>{let a=JSON.stringify(s_(i));return n.has(a)||(n.add(a),s.push({key:a,link:i})),s},[])}function wj(){let e=g.useContext(fa);return jg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function o_(){let e=g.useContext(Wu);return jg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Sg=g.createContext(void 0);Sg.displayName="FrameworkContext";function jj(){let e=g.useContext(Sg);return jg(e,"You must render this element inside a <HydratedRouter> element"),e}function a_(e,t){let n=g.useContext(Sg),[s,i]=g.useState(!1),[a,l]=g.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=t,y=g.useRef(null);g.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let j=N=>{N.forEach(C=>{l(C.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),g.useEffect(()=>{if(s){let j=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(j)}}},[s]);let v=()=>{i(!0)},b=()=>{i(!1),l(!1)};return n?e!=="intent"?[a,y,{}]:[a,y,{onFocus:al(d,v),onBlur:al(u,b),onMouseEnter:al(f,v),onMouseLeave:al(m,b),onTouchStart:al(p,v)}]:[!1,y,{}]}function al(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function l_({page:e,...t}){let{router:n}=wj(),s=g.useMemo(()=>cj(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?g.createElement(d_,{page:e,matches:s,...t}):null}function c_(e){let{manifest:t,routeModules:n}=jj(),[s,i]=g.useState([]);return g.useEffect(()=>{let a=!1;return t_(e,t,n).then(l=>{a||i(l)}),()=>{a=!0}},[e,t,n]),s}function d_({page:e,matches:t,...n}){let s=ni(),{manifest:i,routeModules:a}=jj(),{basename:l}=wj(),{loaderData:d,matches:u}=o_(),f=g.useMemo(()=>Lv(e,t,u,i,s,"data"),[e,t,u,i,s]),m=g.useMemo(()=>Lv(e,t,u,i,s,"assets"),[e,t,u,i,s]),p=g.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let b=new Set,j=!1;if(t.forEach(N=>{let C=i.routes[N.route.id];!C||!C.hasLoader||(!f.some(A=>A.route.id===N.route.id)&&N.route.id in d&&a[N.route.id]?.shouldRevalidate||C.hasClientLoader?j=!0:b.add(N.route.id))}),b.size===0)return[];let S=JA(e,l,"data");return j&&b.size>0&&S.searchParams.set("_routes",t.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[S.pathname+S.search]},[l,d,s,i,f,t,e,a]),y=g.useMemo(()=>n_(m,i),[m,i]),v=c_(m);return g.createElement(g.Fragment,null,p.map(b=>g.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),y.map(b=>g.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),v.map(({key:b,link:j})=>g.createElement("link",{key:b,nonce:n.nonce,...j})))}function u_(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Sj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sj&&(window.__reactRouterVersion="7.9.6")}catch{}function h_({basename:e,children:t,window:n}){let s=g.useRef();s.current==null&&(s.current=Z5({window:n,v5Compat:!0}));let i=s.current,[a,l]=g.useState({action:i.action,location:i.location}),d=g.useCallback(u=>{g.startTransition(()=>l(u))},[l]);return g.useLayoutEffect(()=>i.listen(d),[i,d]),g.createElement(WA,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var Nj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kj=g.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:i,reloadDocument:a,replace:l,state:d,target:u,to:f,preventScrollReset:m,viewTransition:p,...y},v){let{basename:b}=g.useContext(Qr),j=typeof f=="string"&&Nj.test(f),S,N=!1;if(typeof f=="string"&&j&&(S=f,Sj))try{let V=new URL(window.location.href),G=f.startsWith("//")?new URL(V.protocol+f):new URL(f),ne=ms(G.pathname,b);G.origin===V.origin&&ne!=null?f=ne+G.search+G.hash:N=!0}catch{_r(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=EA(f,{relative:i}),[A,E,_]=a_(s,y),T=g_(f,{replace:l,state:d,target:u,preventScrollReset:m,relative:i,viewTransition:p});function D(V){t&&t(V),V.defaultPrevented||T(V)}let R=g.createElement("a",{...y,..._,href:S||C,onClick:N||a?t:D,ref:u_(v,E),target:u,"data-discover":!j&&n==="render"?"true":void 0});return A&&!j?g.createElement(g.Fragment,null,R,g.createElement(l_,{page:C})):R});kj.displayName="Link";var f_=g.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:i=!1,style:a,to:l,viewTransition:d,children:u,...f},m){let p=Ql(l,{relative:f.relative}),y=ni(),v=g.useContext(Wu),{navigator:b,basename:j}=g.useContext(Qr),S=v!=null&&w_(p)&&d===!0,N=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,C=y.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(C=C.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&j&&(A=ms(A,j)||A);const E=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let _=C===N||!i&&C.startsWith(N)&&C.charAt(E)==="/",T=A!=null&&(A===N||!i&&A.startsWith(N)&&A.charAt(N.length)==="/"),D={isActive:_,isPending:T,isTransitioning:S},R=_?t:void 0,V;typeof s=="function"?V=s(D):V=[s,_?"active":null,T?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let G=typeof a=="function"?a(D):a;return g.createElement(kj,{...f,"aria-current":R,className:V,ref:m,style:G,to:l,viewTransition:d},typeof u=="function"?u(D):u)});f_.displayName="NavLink";var p_=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:i,state:a,method:l=Gd,action:d,onSubmit:u,relative:f,preventScrollReset:m,viewTransition:p,...y},v)=>{let b=v_(),j=b_(d,{relative:f}),S=l.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&Nj.test(d),C=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let E=A.nativeEvent.submitter,_=E?.getAttribute("formmethod")||l;b(E||A.currentTarget,{fetcherKey:t,method:_,navigate:n,replace:i,state:a,relative:f,preventScrollReset:m,viewTransition:p})};return g.createElement("form",{ref:v,method:S,action:j,onSubmit:s?u:C,...y,"data-discover":!N&&e==="render"?"true":void 0})});p_.displayName="Form";function m_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cj(e){let t=g.useContext(fa);return Bt(t,m_(e)),t}function g_(e,{target:t,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}={}){let d=yj(),u=ni(),f=Ql(e,{relative:a});return g.useCallback(m=>{if(KA(m,t)){m.preventDefault();let p=n!==void 0?n:_l(u)===_l(f);d(e,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,d,f,n,s,t,e,i,a,l])}var x_=0,y_=()=>`__${String(++x_)}__`;function v_(){let{router:e}=Cj("useSubmit"),{basename:t}=g.useContext(Qr),n=$A();return g.useCallback(async(s,i={})=>{let{action:a,method:l,encType:d,formData:u,body:f}=XA(s,t);if(i.navigate===!1){let m=i.fetcherKey||y_();await e.fetch(m,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||l,formEncType:i.encType||d,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||l,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function b_(e,{relative:t}={}){let{basename:n}=g.useContext(Qr),s=g.useContext(Ss);Bt(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),a={...Ql(e||".",{relative:t})},l=ni();if(e==null){a.search=l.search;let d=new URLSearchParams(a.search),u=d.getAll("index");if(u.some(m=>m==="")){d.delete("index"),u.filter(p=>p).forEach(p=>d.append("index",p));let m=d.toString();a.search=m?`?${m}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ps([n,a.pathname])),_l(a)}function w_(e,{relative:t}={}){let n=g.useContext(mj);Bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Cj("useViewTransitionState"),i=Ql(e,{relative:t});if(!n.isTransitioning)return!1;let a=ms(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=ms(n.nextLocation.pathname,s)||n.nextLocation.pathname;return lu(i.pathname,l)!=null||lu(i.pathname,a)!=null}var Ar=lj();const Ej=zu(Ar),Ng=g.createContext({});function kg(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const Cg=typeof window<"u",Aj=Cg?g.useLayoutEffect:g.useEffect,Uu=g.createContext(null);function Eg(e,t){e.indexOf(t)===-1&&e.push(t)}function Ag(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const gs=(e,t,n)=>n>t?t:n<e?e:n;let _g=()=>{};const xs={},_j=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Tj(e){return typeof e=="object"&&e!==null}const Pj=e=>/^0[^.\s]+$/u.test(e);function Tg(e){let t;return()=>(t===void 0&&(t=e()),t)}const mr=e=>e,j_=(e,t)=>n=>t(e(n)),Xl=(...e)=>e.reduce(j_),Tl=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Pg{constructor(){this.subscriptions=[]}add(t){return Eg(this.subscriptions,t),()=>Ag(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qr=e=>e*1e3,hr=e=>e/1e3;function Rj(e,t){return t?e*(1e3/t):0}const Dj=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,S_=1e-7,N_=12;function k_(e,t,n,s,i){let a,l,d=0;do l=t+(n-t)/2,a=Dj(l,s,i)-e,a>0?n=l:t=l;while(Math.abs(a)>S_&&++d<N_);return l}function Jl(e,t,n,s){if(e===t&&n===s)return mr;const i=a=>k_(a,0,1,e,n);return a=>a===0||a===1?a:Dj(i(a),t,s)}const Oj=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ij=e=>t=>1-e(1-t),Fj=Jl(.33,1.53,.69,.99),Rg=Ij(Fj),Mj=Oj(Rg),$j=e=>(e*=2)<1?.5*Rg(e):.5*(2-Math.pow(2,-10*(e-1))),Dg=e=>1-Math.sin(Math.acos(e)),Bj=Ij(Dg),Lj=Oj(Dg),C_=Jl(.42,0,1,1),E_=Jl(0,0,.58,1),zj=Jl(.42,0,.58,1),A_=e=>Array.isArray(e)&&typeof e[0]!="number",Wj=e=>Array.isArray(e)&&typeof e[0]=="number",__={linear:mr,easeIn:C_,easeInOut:zj,easeOut:E_,circIn:Dg,circInOut:Lj,circOut:Bj,backIn:Rg,backInOut:Mj,backOut:Fj,anticipate:$j},T_=e=>typeof e=="string",zv=e=>{if(Wj(e)){_g(e.length===4);const[t,n,s,i]=e;return Jl(t,n,s,i)}else if(T_(e))return __[e];return e},yd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function P_(e,t){let n=new Set,s=new Set,i=!1,a=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function u(m){l.has(m)&&(f.schedule(m),e()),m(d)}const f={schedule:(m,p=!1,y=!1)=>{const b=y&&i?n:s;return p&&l.add(m),b.has(m)||b.add(m),m},cancel:m=>{s.delete(m),l.delete(m)},process:m=>{if(d=m,i){a=!0;return}i=!0,[n,s]=[s,n],n.forEach(u),n.clear(),i=!1,a&&(a=!1,f.process(m))}};return f}const R_=40;function Vj(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=yd.reduce((A,E)=>(A[E]=P_(a),A),{}),{setup:d,read:u,resolveKeyframes:f,preUpdate:m,update:p,preRender:y,render:v,postRender:b}=l,j=()=>{const A=xs.useManualTiming?i.timestamp:performance.now();n=!1,xs.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(A-i.timestamp,R_),1)),i.timestamp=A,i.isProcessing=!0,d.process(i),u.process(i),f.process(i),m.process(i),p.process(i),y.process(i),v.process(i),b.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(j))},S=()=>{n=!0,s=!0,i.isProcessing||e(j)};return{schedule:yd.reduce((A,E)=>{const _=l[E];return A[E]=(T,D=!1,R=!1)=>(n||S(),_.schedule(T,D,R)),A},{}),cancel:A=>{for(let E=0;E<yd.length;E++)l[yd[E]].cancel(A)},state:i,steps:l}}const{schedule:Dt,cancel:Xs,state:xn,steps:ip}=Vj(typeof requestAnimationFrame<"u"?requestAnimationFrame:mr,!0);let Yd;function D_(){Yd=void 0}const Un={now:()=>(Yd===void 0&&Un.set(xn.isProcessing||xs.useManualTiming?xn.timestamp:performance.now()),Yd),set:e=>{Yd=e,queueMicrotask(D_)}},Uj=e=>t=>typeof t=="string"&&t.startsWith(e),Og=Uj("--"),O_=Uj("var(--"),Ig=e=>O_(e)?I_.test(e.split("/*")[0].trim()):!1,I_=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pa={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Pl={...pa,transform:e=>gs(0,1,e)},vd={...pa,default:1},xl=e=>Math.round(e*1e5)/1e5,Fg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function F_(e){return e==null}const M_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mg=(e,t)=>n=>!!(typeof n=="string"&&M_.test(n)&&n.startsWith(e)||t&&!F_(n)&&Object.prototype.hasOwnProperty.call(n,t)),Hj=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,a,l,d]=s.match(Fg);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},$_=e=>gs(0,255,e),op={...pa,transform:e=>Math.round($_(e))},Mi={test:Mg("rgb","red"),parse:Hj("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+op.transform(e)+", "+op.transform(t)+", "+op.transform(n)+", "+xl(Pl.transform(s))+")"};function B_(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const um={test:Mg("#"),parse:B_,transform:Mi.transform},Zl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),qs=Zl("deg"),Gr=Zl("%"),nt=Zl("px"),L_=Zl("vh"),z_=Zl("vw"),Wv={...Gr,parse:e=>Gr.parse(e)/100,transform:e=>Gr.transform(e*100)},Wo={test:Mg("hsl","hue"),parse:Hj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Gr.transform(xl(t))+", "+Gr.transform(xl(n))+", "+xl(Pl.transform(s))+")"},Kt={test:e=>Mi.test(e)||um.test(e)||Wo.test(e),parse:e=>Mi.test(e)?Mi.parse(e):Wo.test(e)?Wo.parse(e):um.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Mi.transform(e):Wo.transform(e),getAnimatableNone:e=>{const t=Kt.parse(e);return t.alpha=0,Kt.transform(t)}},W_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function V_(e){return isNaN(e)&&typeof e=="string"&&(e.match(Fg)?.length||0)+(e.match(W_)?.length||0)>0}const qj="number",Gj="color",U_="var",H_="var(",Vv="${}",q_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rl(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const d=t.replace(q_,u=>(Kt.test(u)?(s.color.push(a),i.push(Gj),n.push(Kt.parse(u))):u.startsWith(H_)?(s.var.push(a),i.push(U_),n.push(u)):(s.number.push(a),i.push(qj),n.push(parseFloat(u))),++a,Vv)).split(Vv);return{values:n,split:d,indexes:s,types:i}}function Kj(e){return Rl(e).values}function Yj(e){const{split:t,types:n}=Rl(e),s=t.length;return i=>{let a="";for(let l=0;l<s;l++)if(a+=t[l],i[l]!==void 0){const d=n[l];d===qj?a+=xl(i[l]):d===Gj?a+=Kt.transform(i[l]):a+=i[l]}return a}}const G_=e=>typeof e=="number"?0:Kt.test(e)?Kt.getAnimatableNone(e):e;function K_(e){const t=Kj(e);return Yj(e)(t.map(G_))}const Js={test:V_,parse:Kj,createTransformer:Yj,getAnimatableNone:K_};function ap(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Y_({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,a=0,l=0;if(!t)i=a=l=n;else{const d=n<.5?n*(1+t):n+t-n*t,u=2*n-d;i=ap(u,d,e+1/3),a=ap(u,d,e),l=ap(u,d,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:s}}function cu(e,t){return n=>n>0?t:e}const $t=(e,t,n)=>e+(t-e)*n,lp=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},Q_=[um,Mi,Wo],X_=e=>Q_.find(t=>t.test(e));function Uv(e){const t=X_(e);if(!t)return!1;let n=t.parse(e);return t===Wo&&(n=Y_(n)),n}const Hv=(e,t)=>{const n=Uv(e),s=Uv(t);if(!n||!s)return cu(e,t);const i={...n};return a=>(i.red=lp(n.red,s.red,a),i.green=lp(n.green,s.green,a),i.blue=lp(n.blue,s.blue,a),i.alpha=$t(n.alpha,s.alpha,a),Mi.transform(i))},hm=new Set(["none","hidden"]);function J_(e,t){return hm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Z_(e,t){return n=>$t(e,t,n)}function $g(e){return typeof e=="number"?Z_:typeof e=="string"?Ig(e)?cu:Kt.test(e)?Hv:nT:Array.isArray(e)?Qj:typeof e=="object"?Kt.test(e)?Hv:eT:cu}function Qj(e,t){const n=[...e],s=n.length,i=e.map((a,l)=>$g(a)(a,t[l]));return a=>{for(let l=0;l<s;l++)n[l]=i[l](a);return n}}function eT(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=$g(e[i])(e[i],t[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function tT(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],l=e.indexes[a][s[a]],d=e.values[l]??0;n[i]=d,s[a]++}return n}const nT=(e,t)=>{const n=Js.createTransformer(t),s=Rl(e),i=Rl(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?hm.has(e)&&!i.values.length||hm.has(t)&&!s.values.length?J_(e,t):Xl(Qj(tT(s,i),i.values),n):cu(e,t)};function Xj(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?$t(e,t,n):$g(e)(e,t)}const rT=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Dt.update(t,n),stop:()=>Xs(t),now:()=>xn.isProcessing?xn.timestamp:Un.now()}},Jj=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)s+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},du=2e4;function Bg(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<du;)t+=n,s=e.next(t);return t>=du?1/0:t}function sT(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(Bg(s),du);return{type:"keyframes",ease:a=>s.next(i*a).value/t,duration:hr(i)}}const iT=5;function Zj(e,t,n){const s=Math.max(t-iT,0);return Rj(n-e(s),t-s)}const Wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cp=.001;function oT({duration:e=Wt.duration,bounce:t=Wt.bounce,velocity:n=Wt.velocity,mass:s=Wt.mass}){let i,a,l=1-t;l=gs(Wt.minDamping,Wt.maxDamping,l),e=gs(Wt.minDuration,Wt.maxDuration,hr(e)),l<1?(i=f=>{const m=f*l,p=m*e,y=m-n,v=fm(f,l),b=Math.exp(-p);return cp-y/v*b},a=f=>{const p=f*l*e,y=p*n+n,v=Math.pow(l,2)*Math.pow(f,2)*e,b=Math.exp(-p),j=fm(Math.pow(f,2),l);return(-i(f)+cp>0?-1:1)*((y-v)*b)/j}):(i=f=>{const m=Math.exp(-f*e),p=(f-n)*e+1;return-cp+m*p},a=f=>{const m=Math.exp(-f*e),p=(n-f)*(e*e);return m*p});const d=5/e,u=lT(i,a,d);if(e=qr(e),isNaN(u))return{stiffness:Wt.stiffness,damping:Wt.damping,duration:e};{const f=Math.pow(u,2)*s;return{stiffness:f,damping:l*2*Math.sqrt(s*f),duration:e}}}const aT=12;function lT(e,t,n){let s=n;for(let i=1;i<aT;i++)s=s-e(s)/t(s);return s}function fm(e,t){return e*Math.sqrt(1-t*t)}const cT=["duration","bounce"],dT=["stiffness","damping","mass"];function qv(e,t){return t.some(n=>e[n]!==void 0)}function uT(e){let t={velocity:Wt.velocity,stiffness:Wt.stiffness,damping:Wt.damping,mass:Wt.mass,isResolvedFromDuration:!1,...e};if(!qv(e,dT)&&qv(e,cT))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*gs(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Wt.mass,stiffness:i,damping:a}}else{const n=oT(e);t={...t,...n,mass:Wt.mass},t.isResolvedFromDuration=!0}return t}function uu(e=Wt.visualDuration,t=Wt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:u,damping:f,mass:m,duration:p,velocity:y,isResolvedFromDuration:v}=uT({...n,velocity:-hr(n.velocity||0)}),b=y||0,j=f/(2*Math.sqrt(u*m)),S=l-a,N=hr(Math.sqrt(u/m)),C=Math.abs(S)<5;s||(s=C?Wt.restSpeed.granular:Wt.restSpeed.default),i||(i=C?Wt.restDelta.granular:Wt.restDelta.default);let A;if(j<1){const _=fm(N,j);A=T=>{const D=Math.exp(-j*N*T);return l-D*((b+j*N*S)/_*Math.sin(_*T)+S*Math.cos(_*T))}}else if(j===1)A=_=>l-Math.exp(-N*_)*(S+(b+N*S)*_);else{const _=N*Math.sqrt(j*j-1);A=T=>{const D=Math.exp(-j*N*T),R=Math.min(_*T,300);return l-D*((b+j*N*S)*Math.sinh(R)+_*S*Math.cosh(R))/_}}const E={calculatedDuration:v&&p||null,next:_=>{const T=A(_);if(v)d.done=_>=p;else{let D=_===0?b:0;j<1&&(D=_===0?qr(b):Zj(A,_,T));const R=Math.abs(D)<=s,V=Math.abs(l-T)<=i;d.done=R&&V}return d.value=d.done?l:T,d},toString:()=>{const _=Math.min(Bg(E),du),T=Jj(D=>E.next(_*D).value,_,30);return _+"ms "+T},toTransition:()=>{}};return E}uu.applyToOptions=e=>{const t=sT(e,100,uu);return e.ease=t.ease,e.duration=qr(t.duration),e.type="keyframes",e};function pm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:u,restDelta:f=.5,restSpeed:m}){const p=e[0],y={done:!1,value:p},v=R=>d!==void 0&&R<d||u!==void 0&&R>u,b=R=>d===void 0?u:u===void 0||Math.abs(d-R)<Math.abs(u-R)?d:u;let j=n*t;const S=p+j,N=l===void 0?S:l(S);N!==S&&(j=N-p);const C=R=>-j*Math.exp(-R/s),A=R=>N+C(R),E=R=>{const V=C(R),G=A(R);y.done=Math.abs(V)<=f,y.value=y.done?N:G};let _,T;const D=R=>{v(y.value)&&(_=R,T=uu({keyframes:[y.value,b(y.value)],velocity:Zj(A,R,y.value),damping:i,stiffness:a,restDelta:f,restSpeed:m}))};return D(0),{calculatedDuration:null,next:R=>{let V=!1;return!T&&_===void 0&&(V=!0,E(R),D(R)),_!==void 0&&R>=_?T.next(R-_):(!V&&E(R),y)}}}function hT(e,t,n){const s=[],i=n||xs.mix||Xj,a=e.length-1;for(let l=0;l<a;l++){let d=i(e[l],e[l+1]);if(t){const u=Array.isArray(t)?t[l]||mr:t;d=Xl(u,d)}s.push(d)}return s}function fT(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const a=e.length;if(_g(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=hT(t,s,i),u=d.length,f=m=>{if(l&&m<e[0])return t[0];let p=0;if(u>1)for(;p<e.length-2&&!(m<e[p+1]);p++);const y=Tl(e[p],e[p+1],m);return d[p](y)};return n?m=>f(gs(e[0],e[a-1],m)):f}function pT(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=Tl(0,t,s);e.push($t(n,1,i))}}function mT(e){const t=[0];return pT(t,e.length-1),t}function gT(e,t){return e.map(n=>n*t)}function xT(e,t){return e.map(()=>t||zj).splice(0,e.length-1)}function yl({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=A_(s)?s.map(zv):zv(s),a={done:!1,value:t[0]},l=gT(n&&n.length===t.length?n:mT(t),e),d=fT(l,t,{ease:Array.isArray(i)?i:xT(t,i)});return{calculatedDuration:e,next:u=>(a.value=d(u),a.done=u>=e,a)}}const yT=e=>e!==null;function Lg(e,{repeat:t,repeatType:n="loop"},s,i=1){const a=e.filter(yT),d=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!d||s===void 0?a[d]:s}const vT={decay:pm,inertia:pm,tween:yl,keyframes:yl,spring:uu};function e2(e){typeof e.type=="string"&&(e.type=vT[e.type])}class zg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const bT=e=>e/100;class Wg extends zg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Un.now()&&this.tick(Un.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;e2(t);const{type:n=yl,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=t;let{keyframes:d}=t;const u=n||yl;u!==yl&&typeof d[0]!="number"&&(this.mixKeyframes=Xl(bT,Xj(d[0],d[1])),d=[0,100]);const f=u({...t,keyframes:d});a==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...d].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=Bg(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:d,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:f=0,keyframes:m,repeat:p,repeatType:y,repeatDelay:v,type:b,onUpdate:j,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const N=this.currentTime-f*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?N<0:N>i;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,E=s;if(p){const R=Math.min(this.currentTime,i)/d;let V=Math.floor(R),G=R%1;!G&&R>=1&&(G=1),G===1&&V--,V=Math.min(V,p+1),!!(V%2)&&(y==="reverse"?(G=1-G,v&&(G-=v/d)):y==="mirror"&&(E=l)),A=gs(0,1,G)*d}const _=C?{done:!1,value:m[0]}:E.next(A);a&&(_.value=a(_.value));let{done:T}=_;!C&&u!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return D&&b!==pm&&(_.value=Lg(m,this.options,S,this.speed)),j&&j(_.value),D&&this.finish(),_}then(t,n){return this.finished.then(t,n)}get duration(){return hr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+hr(t)}get time(){return hr(this.currentTime)}set time(t){t=qr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Un.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=hr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=rT,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Un.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function wT(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const $i=e=>e*180/Math.PI,mm=e=>{const t=$i(Math.atan2(e[1],e[0]));return gm(t)},jT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:mm,rotateZ:mm,skewX:e=>$i(Math.atan(e[1])),skewY:e=>$i(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},gm=e=>(e=e%360,e<0&&(e+=360),e),Gv=mm,Kv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Yv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ST={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Kv,scaleY:Yv,scale:e=>(Kv(e)+Yv(e))/2,rotateX:e=>gm($i(Math.atan2(e[6],e[5]))),rotateY:e=>gm($i(Math.atan2(-e[2],e[0]))),rotateZ:Gv,rotate:Gv,skewX:e=>$i(Math.atan(e[4])),skewY:e=>$i(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function xm(e){return e.includes("scale")?1:0}function ym(e,t){if(!e||e==="none")return xm(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=ST,i=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=jT,i=d}if(!i)return xm(t);const a=s[t],l=i[1].split(",").map(kT);return typeof a=="function"?a(l):l[a]}const NT=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return ym(n,t)};function kT(e){return parseFloat(e.trim())}const ma=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ga=new Set(ma),Qv=e=>e===pa||e===nt,CT=new Set(["x","y","z"]),ET=ma.filter(e=>!CT.has(e));function AT(e){const t=[];return ET.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Li={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ym(t,"x"),y:(e,{transform:t})=>ym(t,"y")};Li.translateX=Li.x;Li.translateY=Li.y;const zi=new Set;let vm=!1,bm=!1,wm=!1;function t2(){if(bm){const e=Array.from(zi).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=AT(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,l])=>{s.getValue(a)?.set(l)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}bm=!1,vm=!1,zi.forEach(e=>e.complete(wm)),zi.clear()}function n2(){zi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(bm=!0)})}function _T(){wm=!0,n2(),t2(),wm=!1}class Vg{constructor(t,n,s,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(zi.add(this),vm||(vm=!0,Dt.read(n2),Dt.resolveKeyframes(t2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const a=i?.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(s&&n){const d=s.readValue(n,l);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=l),i&&a===void 0&&i.set(t[0])}wT(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),zi.delete(this)}cancel(){this.state==="scheduled"&&(zi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const TT=e=>e.startsWith("--");function PT(e,t,n){TT(t)?e.style.setProperty(t,n):e.style[t]=n}const RT=Tg(()=>window.ScrollTimeline!==void 0),DT={};function OT(e,t){const n=Tg(e);return()=>DT[t]??n()}const r2=OT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hl=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Xv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hl([0,.65,.55,1]),circOut:hl([.55,0,1,.45]),backIn:hl([.31,.01,.66,-.59]),backOut:hl([.33,1.53,.69,.99])};function s2(e,t){if(e)return typeof e=="function"?r2()?Jj(e,t):"ease-out":Wj(e)?hl(e):Array.isArray(e)?e.map(n=>s2(n,t)||Xv.easeOut):Xv[e]}function IT(e,t,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:d="easeOut",times:u}={},f=void 0){const m={[t]:n};u&&(m.offset=u);const p=s2(d,i);Array.isArray(p)&&(m.easing=p);const y={delay:s,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return f&&(y.pseudoElement=f),e.animate(m,y)}function i2(e){return typeof e=="function"&&"applyToOptions"in e}function FT({type:e,...t}){return i2(e)&&r2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class MT extends zg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:d,onComplete:u}=t;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=t,_g(typeof t.type!="string");const f=FT(t);this.animation=IT(n,s,i,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=Lg(i,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(m):PT(n,s,m),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return hr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+hr(t)}get time(){return hr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=qr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&RT()?(this.animation.timeline=t,mr):n(this)}}const o2={anticipate:$j,backInOut:Mj,circInOut:Lj};function $T(e){return e in o2}function BT(e){typeof e.ease=="string"&&$T(e.ease)&&(e.ease=o2[e.ease])}const Jv=10;class LT extends MT{constructor(t){BT(t),e2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:a,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Wg({...l,autoplay:!1}),u=qr(this.finishedTime??this.time);n.setWithVelocity(d.sample(u-Jv).value,d.sample(u).value,Jv),d.stop()}}const Zv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Js.test(e)||e==="0")&&!e.startsWith("url("));function zT(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function WT(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],l=Zv(i,t),d=Zv(a,t);return!l||!d?!1:zT(e)||(n==="spring"||i2(n))&&s}function jm(e){e.duration=0,e.type="keyframes"}const VT=new Set(["opacity","clipPath","filter","transform"]),UT=Tg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HT(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:a,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=t.owner.getProps();return UT()&&n&&VT.has(n)&&(n!=="transform"||!f)&&!u&&!s&&i!=="mirror"&&a!==0&&l!=="inertia"}const qT=40;class GT extends zg{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:d,name:u,motionValue:f,element:m,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Un.now();const y={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:l,name:u,motionValue:f,element:m,...p},v=m?.KeyframeResolver||Vg;this.keyframeResolver=new v(d,(b,j,S)=>this.onKeyframesResolved(b,j,y,!S),u,f,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:d,delay:u,isHandoff:f,onUpdate:m}=s;this.resolvedAt=Un.now(),WT(t,a,l,d)||((xs.instantAnimations||!u)&&m?.(Lg(t,s,n)),t[0]=t[t.length-1],jm(s),s.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>qT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},v=!f&&HT(y)?new LT({...y,element:y.motionValue.owner.current}):new Wg(y);v.finished.then(()=>this.notifyFinished()).catch(mr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),_T()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const KT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YT(e){const t=KT.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function a2(e,t,n=1){const[s,i]=YT(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const l=a.trim();return _j(l)?parseFloat(l):l}return Ig(i)?a2(i,t,n+1):i}function Ug(e,t){return e?.[t]??e?.default??e}const l2=new Set(["width","height","top","left","right","bottom",...ma]),QT={test:e=>e==="auto",parse:e=>e},c2=e=>t=>t.test(e),d2=[pa,nt,Gr,qs,z_,L_,QT],eb=e=>d2.find(c2(e));function XT(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Pj(e):!0}const JT=new Set(["brightness","contrast","saturate","opacity"]);function ZT(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Fg)||[];if(!s)return e;const i=n.replace(s,"");let a=JT.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+i+")"}const e4=/\b([a-z-]*)\(.*?\)/gu,Sm={...Js,getAnimatableNone:e=>{const t=e.match(e4);return t?t.map(ZT).join(" "):e}},tb={...pa,transform:Math.round},t4={rotate:qs,rotateX:qs,rotateY:qs,rotateZ:qs,scale:vd,scaleX:vd,scaleY:vd,scaleZ:vd,skew:qs,skewX:qs,skewY:qs,distance:nt,translateX:nt,translateY:nt,translateZ:nt,x:nt,y:nt,z:nt,perspective:nt,transformPerspective:nt,opacity:Pl,originX:Wv,originY:Wv,originZ:nt},Hg={borderWidth:nt,borderTopWidth:nt,borderRightWidth:nt,borderBottomWidth:nt,borderLeftWidth:nt,borderRadius:nt,radius:nt,borderTopLeftRadius:nt,borderTopRightRadius:nt,borderBottomRightRadius:nt,borderBottomLeftRadius:nt,width:nt,maxWidth:nt,height:nt,maxHeight:nt,top:nt,right:nt,bottom:nt,left:nt,padding:nt,paddingTop:nt,paddingRight:nt,paddingBottom:nt,paddingLeft:nt,margin:nt,marginTop:nt,marginRight:nt,marginBottom:nt,marginLeft:nt,backgroundPositionX:nt,backgroundPositionY:nt,...t4,zIndex:tb,fillOpacity:Pl,strokeOpacity:Pl,numOctaves:tb},n4={...Hg,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:Sm,WebkitFilter:Sm},u2=e=>n4[e];function h2(e,t){let n=u2(e);return n!==Sm&&(n=Js),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const r4=new Set(["auto","none","0"]);function s4(e,t,n){let s=0,i;for(;s<e.length&&!i;){const a=e[s];typeof a=="string"&&!r4.has(a)&&Rl(a).values.length&&(i=e[s]),s++}if(i&&n)for(const a of t)e[a]=h2(n,i)}class i4 extends Vg{constructor(t,n,s,i,a){super(t,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let f=t[u];if(typeof f=="string"&&(f=f.trim(),Ig(f))){const m=a2(f,n.current);m!==void 0&&(t[u]=m),u===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!l2.has(s)||t.length!==2)return;const[i,a]=t,l=eb(i),d=eb(a);if(l!==d)if(Qv(l)&&Qv(d))for(let u=0;u<t.length;u++){const f=t[u];typeof f=="string"&&(t[u]=parseFloat(f))}else Li[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||XT(t[i]))&&s.push(i);s.length&&s4(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Li[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,l=s[a];s[a]=Li[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,u])=>{t.getValue(d).set(u)}),this.resolveNoneKeyframes()}}function o4(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=n?.[e]??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const f2=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function p2(e){return Tj(e)&&"offsetHeight"in e}const nb=30,a4=e=>!isNaN(parseFloat(e));class l4{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const i=Un.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Un.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=a4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Pg);const s=this.events[t].add(n);return t==="change"?()=>{s(),Dt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>nb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nb);return Rj(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ia(e,t){return new l4(e,t)}const{schedule:qg}=Vj(queueMicrotask,!1),kr={x:!1,y:!1};function m2(){return kr.x||kr.y}function c4(e){return e==="x"||e==="y"?kr[e]?null:(kr[e]=!0,()=>{kr[e]=!1}):kr.x||kr.y?null:(kr.x=kr.y=!0,()=>{kr.x=kr.y=!1})}function g2(e,t){const n=o4(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function rb(e){return!(e.pointerType==="touch"||m2())}function d4(e,t,n={}){const[s,i,a]=g2(e,n),l=d=>{if(!rb(d))return;const{target:u}=d,f=t(u,d);if(typeof f!="function"||!u)return;const m=p=>{rb(p)&&(f(p),u.removeEventListener("pointerleave",m))};u.addEventListener("pointerleave",m,i)};return s.forEach(d=>{d.addEventListener("pointerenter",l,i)}),a}const x2=(e,t)=>t?e===t?!0:x2(e,t.parentElement):!1,Gg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,u4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function h4(e){return u4.has(e.tagName)||e.tabIndex!==-1}const Qd=new WeakSet;function sb(e){return t=>{t.key==="Enter"&&e(t)}}function dp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const f4=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=sb(()=>{if(Qd.has(n))return;dp(n,"down");const i=sb(()=>{dp(n,"up")}),a=()=>dp(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function ib(e){return Gg(e)&&!m2()}function p4(e,t,n={}){const[s,i,a]=g2(e,n),l=d=>{const u=d.currentTarget;if(!ib(d))return;Qd.add(u);const f=t(u,d),m=(v,b)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",y),Qd.has(u)&&Qd.delete(u),ib(v)&&typeof f=="function"&&f(v,{success:b})},p=v=>{m(v,u===window||u===document||n.useGlobalTarget||x2(u,v.target))},y=v=>{m(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",y,i)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",l,i),p2(d)&&(d.addEventListener("focus",f=>f4(f,i)),!h4(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function y2(e){return Tj(e)&&"ownerSVGElement"in e}function m4(e){return y2(e)&&e.tagName==="svg"}const Cn=e=>!!(e&&e.getVelocity),g4=[...d2,Kt,Js],x4=e=>g4.find(c2(e)),Kg=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ob(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function y4(...e){return t=>{let n=!1;const s=e.map(i=>{const a=ob(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():ob(e[i],null)}}}}function v4(...e){return g.useCallback(y4(...e),e)}class b4 extends g.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=p2(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function w4({children:e,isPresent:t,anchorX:n,root:s}){const i=g.useId(),a=g.useRef(null),l=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=g.useContext(Kg),u=v4(a,e?.ref);return g.useInsertionEffect(()=>{const{width:f,height:m,top:p,left:y,right:v}=l.current;if(t||!a.current||!f||!m)return;const b=n==="left"?`left: ${y}`:`right: ${v}`;a.current.dataset.motionPopId=i;const j=document.createElement("style");d&&(j.nonce=d);const S=s??document.head;return S.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${b}px !important;
            top: ${p}px !important;
          }
        `),()=>{S.contains(j)&&S.removeChild(j)}},[t]),r.jsx(b4,{isPresent:t,childRef:a,sizeRef:l,children:g.cloneElement(e,{ref:u})})}const j4=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:l,anchorX:d,root:u})=>{const f=kg(S4),m=g.useId();let p=!0,y=g.useMemo(()=>(p=!1,{id:m,initial:t,isPresent:n,custom:i,onExitComplete:v=>{f.set(v,!0);for(const b of f.values())if(!b)return;s&&s()},register:v=>(f.set(v,!1),()=>f.delete(v))}),[n,f,s]);return a&&p&&(y={...y}),g.useMemo(()=>{f.forEach((v,b)=>f.set(b,!1))},[n]),g.useEffect(()=>{!n&&!f.size&&s&&s()},[n]),l==="popLayout"&&(e=r.jsx(w4,{isPresent:n,anchorX:d,root:u,children:e})),r.jsx(Uu.Provider,{value:y,children:e})};function S4(){return new Map}function v2(e=!0){const t=g.useContext(Uu);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,a=g.useId();g.useEffect(()=>{if(e)return i(a)},[e]);const l=g.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,l]:[!0]}const bd=e=>e.key||"";function ab(e){const t=[];return g.Children.forEach(e,n=>{g.isValidElement(n)&&t.push(n)}),t}const pt=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:d="left",root:u})=>{const[f,m]=v2(l),p=g.useMemo(()=>ab(e),[e]),y=l&&!f?[]:p.map(bd),v=g.useRef(!0),b=g.useRef(p),j=kg(()=>new Map),[S,N]=g.useState(p),[C,A]=g.useState(p);Aj(()=>{v.current=!1,b.current=p;for(let T=0;T<C.length;T++){const D=bd(C[T]);y.includes(D)?j.delete(D):j.get(D)!==!0&&j.set(D,!1)}},[C,y.length,y.join("-")]);const E=[];if(p!==S){let T=[...p];for(let D=0;D<C.length;D++){const R=C[D],V=bd(R);y.includes(V)||(T.splice(D,0,R),E.push(R))}return a==="wait"&&E.length&&(T=E),A(ab(T)),N(p),null}const{forceRender:_}=g.useContext(Ng);return r.jsx(r.Fragment,{children:C.map(T=>{const D=bd(T),R=l&&!f?!1:p===C||y.includes(D),V=()=>{if(j.has(D))j.set(D,!0);else return;let G=!0;j.forEach(ne=>{ne||(G=!1)}),G&&(_?.(),A(b.current),l&&m?.(),s&&s())};return r.jsx(j4,{isPresent:R,initial:!v.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:u,onExitComplete:R?void 0:V,anchorX:d,children:T},D)})})},b2=g.createContext({strict:!1}),lb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oa={};for(const e in lb)oa[e]={isEnabled:t=>lb[e].some(n=>!!t[n])};function N4(e){for(const t in e)oa[t]={...oa[t],...e[t]}}const k4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||k4.has(e)}let w2=e=>!hu(e);function C4(e){typeof e=="function"&&(w2=t=>t.startsWith("on")?!hu(t):e(t))}try{C4(require("@emotion/is-prop-valid").default)}catch{}function E4(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(w2(i)||n===!0&&hu(i)||!t&&!hu(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const Hu=g.createContext({});function qu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Dl(e){return typeof e=="string"||Array.isArray(e)}const Yg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qg=["initial",...Yg];function Gu(e){return qu(e.animate)||Qg.some(t=>Dl(e[t]))}function j2(e){return!!(Gu(e)||e.variants)}function A4(e,t){if(Gu(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Dl(n)?n:void 0,animate:Dl(s)?s:void 0}}return e.inherit!==!1?t:{}}function _4(e){const{initial:t,animate:n}=A4(e,g.useContext(Hu));return g.useMemo(()=>({initial:t,animate:n}),[cb(t),cb(n)])}function cb(e){return Array.isArray(e)?e.join(" "):e}const Ol={};function T4(e){for(const t in e)Ol[t]=e[t],Og(t)&&(Ol[t].isCSSVariable=!0)}function S2(e,{layout:t,layoutId:n}){return ga.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ol[e]||e==="opacity")}const P4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},R4=ma.length;function D4(e,t,n){let s="",i=!0;for(let a=0;a<R4;a++){const l=ma[a],d=e[l];if(d===void 0)continue;let u=!0;if(typeof d=="number"?u=d===(l.startsWith("scale")?1:0):u=parseFloat(d)===0,!u||n){const f=f2(d,Hg[l]);if(!u){i=!1;const m=P4[l]||l;s+=`${m}(${f}) `}n&&(t[l]=f)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function Xg(e,t,n){const{style:s,vars:i,transformOrigin:a}=e;let l=!1,d=!1;for(const u in t){const f=t[u];if(ga.has(u)){l=!0;continue}else if(Og(u)){i[u]=f;continue}else{const m=f2(f,Hg[u]);u.startsWith("origin")?(d=!0,a[u]=m):s[u]=m}}if(t.transform||(l||n?s.transform=D4(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:u="50%",originY:f="50%",originZ:m=0}=a;s.transformOrigin=`${u} ${f} ${m}`}}const Jg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function N2(e,t,n){for(const s in t)!Cn(t[s])&&!S2(s,n)&&(e[s]=t[s])}function O4({transformTemplate:e},t){return g.useMemo(()=>{const n=Jg();return Xg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function I4(e,t){const n=e.style||{},s={};return N2(s,n,e),Object.assign(s,O4(e,t)),s}function F4(e,t){const n={},s=I4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const M4={offset:"stroke-dashoffset",array:"stroke-dasharray"},$4={offset:"strokeDashoffset",array:"strokeDasharray"};function B4(e,t,n=1,s=0,i=!0){e.pathLength=1;const a=i?M4:$4;e[a.offset]=nt.transform(-s);const l=nt.transform(t),d=nt.transform(n);e[a.array]=`${l} ${d}`}function k2(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...d},u,f,m){if(Xg(e,d,f),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:y}=e;p.transform&&(y.transform=p.transform,delete p.transform),(y.transform||p.transformOrigin)&&(y.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),y.transform&&(y.transformBox=m?.transformBox??"fill-box",delete p.transformBox),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),s!==void 0&&(p.scale=s),i!==void 0&&B4(p,i,a,l,!1)}const C2=()=>({...Jg(),attrs:{}}),E2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function L4(e,t,n,s){const i=g.useMemo(()=>{const a=C2();return k2(a,t,E2(s),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};N2(a,e.style,e),i.style={...a,...i.style}}return i}const z4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zg(e){return typeof e!="string"||e.includes("-")?!1:!!(z4.indexOf(e)>-1||/[A-Z]/u.test(e))}function W4(e,t,n,{latestValues:s},i,a=!1){const d=(Zg(e)?L4:F4)(t,s,i,e),u=E4(t,typeof e=="string",a),f=e!==g.Fragment?{...u,...d,ref:n}:{},{children:m}=t,p=g.useMemo(()=>Cn(m)?m.get():m,[m]);return g.createElement(e,{...f,children:p})}function db(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function e0(e,t,n,s){if(typeof t=="function"){const[i,a]=db(s);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=db(s);t=t(n!==void 0?n:e.custom,i,a)}return t}function Xd(e){return Cn(e)?e.get():e}function V4({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:U4(n,s,i,e),renderState:t()}}function U4(e,t,n,s){const i={},a=s(e,{});for(const y in a)i[y]=Xd(a[y]);let{initial:l,animate:d}=e;const u=Gu(e),f=j2(e);t&&f&&!u&&e.inherit!==!1&&(l===void 0&&(l=t.initial),d===void 0&&(d=t.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const p=m?d:l;if(p&&typeof p!="boolean"&&!qu(p)){const y=Array.isArray(p)?p:[p];for(let v=0;v<y.length;v++){const b=e0(e,y[v]);if(b){const{transitionEnd:j,transition:S,...N}=b;for(const C in N){let A=N[C];if(Array.isArray(A)){const E=m?A.length-1:0;A=A[E]}A!==null&&(i[C]=A)}for(const C in j)i[C]=j[C]}}}return i}const A2=e=>(t,n)=>{const s=g.useContext(Hu),i=g.useContext(Uu),a=()=>V4(e,t,s,i);return n?a():kg(a)};function t0(e,t,n){const{style:s}=e,i={};for(const a in s)(Cn(s[a])||t.style&&Cn(t.style[a])||S2(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=s[a]);return i}const H4=A2({scrapeMotionValuesFromProps:t0,createRenderState:Jg});function _2(e,t,n){const s=t0(e,t,n);for(const i in e)if(Cn(e[i])||Cn(t[i])){const a=ma.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=e[i]}return s}const q4=A2({scrapeMotionValuesFromProps:_2,createRenderState:C2}),G4=Symbol.for("motionComponentSymbol");function Vo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function K4(e,t,n){return g.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Vo(n)&&(n.current=s))},[t])}const n0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Y4="framerAppearId",T2="data-"+n0(Y4),P2=g.createContext({});function Q4(e,t,n,s,i){const{visualElement:a}=g.useContext(Hu),l=g.useContext(b2),d=g.useContext(Uu),u=g.useContext(Kg).reducedMotion,f=g.useRef(null);s=s||l.renderer,!f.current&&s&&(f.current=s(e,{visualState:t,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const m=f.current,p=g.useContext(P2);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&X4(f.current,n,i,p);const y=g.useRef(!1);g.useInsertionEffect(()=>{m&&y.current&&m.update(n,d)});const v=n[T2],b=g.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return Aj(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),b.current&&m.animationState&&m.animationState.animateChanges())}),g.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),b.current=!1),m.enteringChildren=void 0)}),m}function X4(e,t,n,s){const{layoutId:i,layout:a,drag:l,dragConstraints:d,layoutScroll:u,layoutRoot:f,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:R2(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||d&&Vo(d),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:u,layoutRoot:f})}function R2(e){if(e)return e.options.allowProjection!==!1?e.projection:R2(e.parent)}function up(e,{forwardMotionProps:t=!1}={},n,s){n&&N4(n);const i=Zg(e)?q4:H4;function a(d,u){let f;const m={...g.useContext(Kg),...d,layoutId:J4(d)},{isStatic:p}=m,y=_4(d),v=i(d,p);if(!p&&Cg){Z4();const b=e3(m);f=b.MeasureLayout,y.visualElement=Q4(e,v,m,s,b.ProjectionNode)}return r.jsxs(Hu.Provider,{value:y,children:[f&&y.visualElement?r.jsx(f,{visualElement:y.visualElement,...m}):null,W4(e,d,K4(v,y.visualElement,u),v,p,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=g.forwardRef(a);return l[G4]=e,l}function J4({layoutId:e}){const t=g.useContext(Ng).id;return t&&e!==void 0?t+"-"+e:e}function Z4(e,t){g.useContext(b2).strict}function e3(e){const{drag:t,layout:n}=oa;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function t3(e,t){if(typeof Proxy>"u")return up;const n=new Map,s=(a,l)=>up(a,l,e,t),i=(a,l)=>s(a,l);return new Proxy(i,{get:(a,l)=>l==="create"?s:(n.has(l)||n.set(l,up(l,void 0,e,t)),n.get(l))})}function D2({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function n3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function r3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function hp(e){return e===void 0||e===1}function Nm({scale:e,scaleX:t,scaleY:n}){return!hp(e)||!hp(t)||!hp(n)}function Ai(e){return Nm(e)||O2(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function O2(e){return ub(e.x)||ub(e.y)}function ub(e){return e&&e!=="0%"}function fu(e,t,n){const s=e-n,i=t*s;return n+i}function hb(e,t,n,s,i){return i!==void 0&&(e=fu(e,i,s)),fu(e,n,s)+t}function km(e,t=0,n=1,s,i){e.min=hb(e.min,t,n,s,i),e.max=hb(e.max,t,n,s,i)}function I2(e,{x:t,y:n}){km(e.x,t.translate,t.scale,t.originPoint),km(e.y,n.translate,n.scale,n.originPoint)}const fb=.999999999999,pb=1.0000000000001;function s3(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,l;for(let d=0;d<i;d++){a=n[d],l=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ho(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,I2(e,l)),s&&Ai(a.latestValues)&&Ho(e,a.latestValues))}t.x<pb&&t.x>fb&&(t.x=1),t.y<pb&&t.y>fb&&(t.y=1)}function Uo(e,t){e.min=e.min+t,e.max=e.max+t}function mb(e,t,n,s,i=.5){const a=$t(e.min,e.max,i);km(e,t,n,a,s)}function Ho(e,t){mb(e.x,t.x,t.scaleX,t.scale,t.originX),mb(e.y,t.y,t.scaleY,t.scale,t.originY)}function F2(e,t){return D2(r3(e.getBoundingClientRect(),t))}function i3(e,t,n){const s=F2(e,n),{scroll:i}=t;return i&&(Uo(s.x,i.offset.x),Uo(s.y,i.offset.y)),s}const gb=()=>({translate:0,scale:1,origin:0,originPoint:0}),qo=()=>({x:gb(),y:gb()}),xb=()=>({min:0,max:0}),Ht=()=>({x:xb(),y:xb()}),Cm={current:null},M2={current:!1};function o3(){if(M2.current=!0,!!Cg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Cm.current=e.matches;e.addEventListener("change",t),t()}else Cm.current=!1}const a3=new WeakMap;function l3(e,t,n){for(const s in t){const i=t[s],a=n[s];if(Cn(i))e.addValue(s,i);else if(Cn(a))e.addValue(s,ia(i,{owner:e}));else if(a!==i)if(e.hasValue(s)){const l=e.getValue(s);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=e.getStaticValue(s);e.addValue(s,ia(l!==void 0?l:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const yb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class c3{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Un.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Dt.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Gu(n),this.isVariantNode=j2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in p){const v=p[y];u[y]!==void 0&&Cn(v)&&v.set(u[y])}}mount(t){this.current=t,a3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),M2.current||o3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Xs(this.notifyUpdate),Xs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=ga.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Dt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in oa){const n=oa[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ht()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<yb.length;s++){const i=yb[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=t[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=l3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=ia(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(_j(s)||Pj(s))?s=parseFloat(s):!x4(s)&&Js.test(n)&&(s=h2(t,n)),this.setBaseTarget(t,Cn(s)?s.get():s)),Cn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=e0(this.props,n,this.presenceContext?.custom);a&&(s=a[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Cn(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Pg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){qg.render(this.render)}}class $2 extends c3{constructor(){super(...arguments),this.KeyframeResolver=i4}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Cn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function B2(e,{style:t,vars:n},s,i){const a=e.style;let l;for(l in t)a[l]=t[l];i?.applyProjectionStyles(a,s);for(l in n)a.setProperty(l,n[l])}function d3(e){return window.getComputedStyle(e)}class u3 extends $2{constructor(){super(...arguments),this.type="html",this.renderInstance=B2}readValueFromInstance(t,n){if(ga.has(n))return this.projection?.isProjecting?xm(n):NT(t,n);{const s=d3(t),i=(Og(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return F2(t,n)}build(t,n,s){Xg(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return t0(t,n,s)}}const L2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function h3(e,t,n,s){B2(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(L2.has(i)?i:n0(i),t.attrs[i])}class f3 extends $2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ht}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ga.has(n)){const s=u2(n);return s&&s.default||0}return n=L2.has(n)?n:n0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return _2(t,n,s)}build(t,n,s){k2(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){h3(t,n,s,i)}mount(t){this.isSVGTag=E2(t.tagName),super.mount(t)}}const p3=(e,t)=>Zg(e)?new f3(t):new u3(t,{allowProjection:e!==g.Fragment});function Go(e,t,n){const s=e.getProps();return e0(s,t,n!==void 0?n:s.custom,e)}const Em=e=>Array.isArray(e);function m3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ia(n))}function g3(e){return Em(e)?e[e.length-1]||0:e}function x3(e,t){const n=Go(e,t);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const l in a){const d=g3(a[l]);m3(e,l,d)}}function y3(e){return!!(Cn(e)&&e.add)}function Am(e,t){const n=e.getValue("willChange");if(y3(n))return n.add(t);if(!n&&xs.WillChange){const s=new xs.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function z2(e){return e.props[T2]}const v3=e=>e!==null;function b3(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(v3),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}const w3={type:"spring",stiffness:500,damping:25,restSpeed:10},j3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),S3={type:"keyframes",duration:.8},N3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},k3=(e,{keyframes:t})=>t.length>2?S3:ga.has(e)?e.startsWith("scale")?j3(t[1]):w3:N3;function C3({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:d,from:u,elapsed:f,...m}){return!!Object.keys(m).length}const r0=(e,t,n,s={},i,a)=>l=>{const d=Ug(s,e)||{},u=d.delay||s.delay||0;let{elapsed:f=0}=s;f=f-qr(u);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-f,onUpdate:y=>{t.set(y),d.onUpdate&&d.onUpdate(y)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:a?void 0:i};C3(d)||Object.assign(m,k3(e,m)),m.duration&&(m.duration=qr(m.duration)),m.repeatDelay&&(m.repeatDelay=qr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let p=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(jm(m),m.delay===0&&(p=!0)),(xs.instantAnimations||xs.skipAnimations)&&(p=!0,jm(m),m.delay=0),m.allowFlatten=!d.type&&!d.ease,p&&!a&&t.get()!==void 0){const y=b3(m.keyframes,d);if(y!==void 0){Dt.update(()=>{m.onUpdate(y),m.onComplete()});return}}return d.isSync?new Wg(m):new GT(m)};function E3({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function W2(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:l,...d}=t;s&&(a=s);const u=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const m in d){const p=e.getValue(m,e.latestValues[m]??null),y=d[m];if(y===void 0||f&&E3(f,m))continue;const v={delay:n,...Ug(a||{},m)},b=p.get();if(b!==void 0&&!p.isAnimating&&!Array.isArray(y)&&y===b&&!v.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const N=z2(e);if(N){const C=window.MotionHandoffAnimation(N,m,Dt);C!==null&&(v.startTime=C,j=!0)}}Am(e,m),p.start(r0(m,p,y,e.shouldReduceMotion&&l2.has(m)?{type:!1}:v,e,j));const S=p.animation;S&&u.push(S)}return l&&Promise.all(u).then(()=>{Dt.update(()=>{l&&x3(e,l)})}),u}function V2(e,t,n,s=0,i=1){const a=Array.from(e).sort((f,m)=>f.sortNodePosition(m)).indexOf(t),l=e.size,d=(l-1)*s;return typeof n=="function"?n(a,l):i===1?a*s:d-a*s}function _m(e,t,n={}){const s=Go(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(W2(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:p}=i;return A3(e,t,u,f,m,p,n)}:()=>Promise.resolve(),{when:d}=i;if(d){const[u,f]=d==="beforeChildren"?[a,l]:[l,a];return u().then(()=>f())}else return Promise.all([a(),l(n.delay)])}function A3(e,t,n=0,s=0,i=0,a=1,l){const d=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),d.push(_m(u,t,{...l,delay:n+(typeof s=="function"?0:s)+V2(e.variantChildren,u,s,i,a)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(d)}function _3(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(a=>_m(e,a,n));s=Promise.all(i)}else if(typeof t=="string")s=_m(e,t,n);else{const i=typeof t=="function"?Go(e,t,n.custom):t;s=Promise.all(W2(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function U2(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const T3=Qg.length;function H2(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?H2(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<T3;n++){const s=Qg[n],i=e.props[s];(Dl(i)||i===!1)&&(t[s]=i)}return t}const P3=[...Yg].reverse(),R3=Yg.length;function D3(e){return t=>Promise.all(t.map(({animation:n,options:s})=>_3(e,n,s)))}function O3(e){let t=D3(e),n=vb(),s=!0;const i=u=>(f,m)=>{const p=Go(e,m,u==="exit"?e.presenceContext?.custom:void 0);if(p){const{transition:y,transitionEnd:v,...b}=p;f={...f,...b,...v}}return f};function a(u){t=u(e)}function l(u){const{props:f}=e,m=H2(e.parent)||{},p=[],y=new Set;let v={},b=1/0;for(let S=0;S<R3;S++){const N=P3[S],C=n[N],A=f[N]!==void 0?f[N]:m[N],E=Dl(A),_=N===u?C.isActive:null;_===!1&&(b=S);let T=A===m[N]&&A!==f[N]&&E;if(T&&s&&e.manuallyAnimateOnMount&&(T=!1),C.protectedKeys={...v},!C.isActive&&_===null||!A&&!C.prevProp||qu(A)||typeof A=="boolean")continue;const D=I3(C.prevProp,A);let R=D||N===u&&C.isActive&&!T&&E||S>b&&E,V=!1;const G=Array.isArray(A)?A:[A];let ne=G.reduce(i(N),{});_===!1&&(ne={});const{prevResolvedValues:ie={}}=C,oe={...ie,...ne},Z=B=>{R=!0,y.has(B)&&(V=!0,y.delete(B)),C.needsAnimating[B]=!0;const O=e.getValue(B);O&&(O.liveStyle=!1)};for(const B in oe){const O=ne[B],$=ie[B];if(v.hasOwnProperty(B))continue;let q=!1;Em(O)&&Em($)?q=!U2(O,$):q=O!==$,q?O!=null?Z(B):y.add(B):O!==void 0&&y.has(B)?Z(B):C.protectedKeys[B]=!0}C.prevProp=A,C.prevResolvedValues=ne,C.isActive&&(v={...v,...ne}),s&&e.blockInitialAnimation&&(R=!1);const F=T&&D;R&&(!F||V)&&p.push(...G.map(B=>{const O={type:N};if(typeof B=="string"&&s&&!F&&e.manuallyAnimateOnMount&&e.parent){const{parent:$}=e,q=Go($,B);if($.enteringChildren&&q){const{delayChildren:M}=q.transition||{};O.delay=V2($.enteringChildren,e,M)}}return{animation:B,options:O}}))}if(y.size){const S={};if(typeof f.initial!="boolean"){const N=Go(e,Array.isArray(f.initial)?f.initial[0]:f.initial);N&&N.transition&&(S.transition=N.transition)}y.forEach(N=>{const C=e.getBaseTarget(N),A=e.getValue(N);A&&(A.liveStyle=!0),S[N]=C??null}),p.push({animation:S})}let j=!!p.length;return s&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(j=!1),s=!1,j?t(p):Promise.resolve()}function d(u,f){if(n[u].isActive===f)return Promise.resolve();e.variantChildren?.forEach(p=>p.animationState?.setActive(u,f)),n[u].isActive=f;const m=l(u);for(const p in n)n[p].protectedKeys={};return m}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=vb()}}}function I3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!U2(t,e):!1}function Si(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vb(){return{animate:Si(!0),whileInView:Si(),whileHover:Si(),whileTap:Si(),whileDrag:Si(),whileFocus:Si(),exit:Si()}}class ri{constructor(t){this.isMounted=!1,this.node=t}update(){}}class F3 extends ri{constructor(t){super(t),t.animationState||(t.animationState=O3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let M3=0;class $3 extends ri{constructor(){super(...arguments),this.id=M3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const B3={animation:{Feature:F3},exit:{Feature:$3}};function Il(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function ec(e){return{point:{x:e.pageX,y:e.pageY}}}const L3=e=>t=>Gg(t)&&e(t,ec(t));function vl(e,t,n,s){return Il(e,t,L3(n),s)}const q2=1e-4,z3=1-q2,W3=1+q2,G2=.01,V3=0-G2,U3=0+G2;function Rn(e){return e.max-e.min}function H3(e,t,n){return Math.abs(e-t)<=n}function bb(e,t,n,s=.5){e.origin=s,e.originPoint=$t(t.min,t.max,e.origin),e.scale=Rn(n)/Rn(t),e.translate=$t(n.min,n.max,e.origin)-e.originPoint,(e.scale>=z3&&e.scale<=W3||isNaN(e.scale))&&(e.scale=1),(e.translate>=V3&&e.translate<=U3||isNaN(e.translate))&&(e.translate=0)}function bl(e,t,n,s){bb(e.x,t.x,n.x,s?s.originX:void 0),bb(e.y,t.y,n.y,s?s.originY:void 0)}function wb(e,t,n){e.min=n.min+t.min,e.max=e.min+Rn(t)}function q3(e,t,n){wb(e.x,t.x,n.x),wb(e.y,t.y,n.y)}function jb(e,t,n){e.min=t.min-n.min,e.max=e.min+Rn(t)}function wl(e,t,n){jb(e.x,t.x,n.x),jb(e.y,t.y,n.y)}function lr(e){return[e("x"),e("y")]}const K2=({current:e})=>e?e.ownerDocument.defaultView:null,Sb=(e,t)=>Math.abs(e-t);function G3(e,t){const n=Sb(e.x,t.x),s=Sb(e.y,t.y);return Math.sqrt(n**2+s**2)}class Y2{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=pp(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=G3(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!b)return;const{point:j}=y,{timestamp:S}=xn;this.history.push({...j,timestamp:S});const{onStart:N,onMove:C}=this.handlers;v||(N&&N(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=fp(v,this.transformPagePoint),Dt.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:b,onSessionEnd:j,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=pp(y.type==="pointercancel"?this.lastMoveEventInfo:fp(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,N),j&&j(y,N)},!Gg(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=l,this.contextWindow=i||window;const d=ec(t),u=fp(d,this.transformPagePoint),{point:f}=u,{timestamp:m}=xn;this.history=[{...f,timestamp:m}];const{onSessionStart:p}=n;p&&p(t,pp(u,this.history)),this.removeListeners=Xl(vl(this.contextWindow,"pointermove",this.handlePointerMove),vl(this.contextWindow,"pointerup",this.handlePointerUp),vl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xs(this.updatePoint)}}function fp(e,t){return t?{point:t(e.point)}:e}function Nb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pp({point:e},t){return{point:e,delta:Nb(e,Q2(t)),offset:Nb(e,K3(t)),velocity:Y3(t,.1)}}function K3(e){return e[0]}function Q2(e){return e[e.length-1]}function Y3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=Q2(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>qr(t)));)n--;if(!s)return{x:0,y:0};const a=hr(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Q3(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?$t(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?$t(n,e,s.max):Math.min(e,n)),e}function kb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function X3(e,{top:t,left:n,bottom:s,right:i}){return{x:kb(e.x,n,i),y:kb(e.y,t,s)}}function Cb(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function J3(e,t){return{x:Cb(e.x,t.x),y:Cb(e.y,t.y)}}function Z3(e,t){let n=.5;const s=Rn(e),i=Rn(t);return i>s?n=Tl(t.min,t.max-s,e.min):s>i&&(n=Tl(e.min,e.max-i,t.min)),gs(0,1,n)}function eP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Tm=.35;function tP(e=Tm){return e===!1?e=0:e===!0&&(e=Tm),{x:Eb(e,"left","right"),y:Eb(e,"top","bottom")}}function Eb(e,t,n){return{min:Ab(e,t),max:Ab(e,n)}}function Ab(e,t){return typeof e=="number"?e:e[t]||0}const nP=new WeakMap;class rP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ec(p).point)},l=(p,y)=>{const{drag:v,dragPropagation:b,onDragStart:j}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=c4(v),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lr(N=>{let C=this.getAxisMotionValue(N).get()||0;if(Gr.test(C)){const{projection:A}=this.visualElement;if(A&&A.layout){const E=A.layout.layoutBox[N];E&&(C=Rn(E)*(parseFloat(C)/100))}}this.originPoint[N]=C}),j&&Dt.postRender(()=>j(p,y)),Am(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},d=(p,y)=>{this.latestPointerEvent=p,this.latestPanInfo=y;const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:j,onDrag:S}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:N}=y;if(b&&this.currentDirection===null){this.currentDirection=sP(N),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",y.point,N),this.updateAxis("y",y.point,N),this.visualElement.render(),S&&S(p,y)},u=(p,y)=>{this.latestPointerEvent=p,this.latestPanInfo=y,this.stop(p,y),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>lr(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Y2(t,{onSessionStart:a,onStart:l,onMove:d,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:K2(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!s)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:d}=this.getProps();d&&Dt.postRender(()=>d(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!wd(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(l=Q3(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&Vo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=X3(s.layoutBox,t):this.constraints=!1,this.elastic=tP(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&lr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=eP(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Vo(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=i3(s,i.root,this.visualElement.getTransformPagePoint());let l=J3(i.layout.layoutBox,a);if(n){const d=n(n3(l));this.hasMutatedConstraints=!!d,d&&(l=D2(d))}return l}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),u=this.constraints||{},f=lr(m=>{if(!wd(m,n,this.currentDirection))return;let p=u&&u[m]||{};l&&(p={min:0,max:0});const y=i?200:1e6,v=i?40:1e7,b={type:"inertia",velocity:s?t[m]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(m,b)});return Promise.all(f).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Am(this.visualElement,t),s.start(r0(t,s,0,n,this.visualElement,!1))}stopAnimation(){lr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){lr(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){lr(n=>{const{drag:s}=this.getProps();if(!wd(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:d}=i.layout.layoutBox[n];a.set(t[n]-$t(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Vo(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};lr(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const u=d.get();i[l]=Z3({min:u,max:u},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),lr(l=>{if(!wd(l,t,null))return;const d=this.getAxisMotionValue(l),{min:u,max:f}=this.constraints[l];d.set($t(u,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;nP.set(this.visualElement,this);const t=this.visualElement.current,n=vl(t,"pointerdown",u=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();Vo(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Dt.read(s);const l=Il(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(lr(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=u[m].translate,p.set(p.get()+u[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Tm,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function wd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function sP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class iP extends ri{constructor(t){super(t),this.removeGroupControls=mr,this.removeListeners=mr,this.controls=new rP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mr}unmount(){this.removeGroupControls(),this.removeListeners()}}const _b=e=>(t,n)=>{e&&Dt.postRender(()=>e(t,n))};class oP extends ri{constructor(){super(...arguments),this.removePointerDownListener=mr}onPointerDown(t){this.session=new Y2(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:K2(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:_b(t),onStart:_b(n),onMove:s,onEnd:(a,l)=>{delete this.session,i&&Dt.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=vl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ll={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(nt.test(e))e=parseFloat(e);else return e;const n=Tb(e,t.target.x),s=Tb(e,t.target.y);return`${n}% ${s}%`}},aP={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=Js.parse(e);if(i.length>5)return s;const a=Js.createTransformer(e),l=typeof i[0]!="number"?1:0,d=n.x.scale*t.x,u=n.y.scale*t.y;i[0+l]/=d,i[1+l]/=u;const f=$t(d,u,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),a(i)}};let mp=!1;class lP extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=t;T4(cP),a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),mp&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Jd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,{projection:l}=s;return l&&(l.isPresent=a,mp=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||Dt.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),qg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;mp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function X2(e){const[t,n]=v2(),s=g.useContext(Ng);return r.jsx(lP,{...e,layoutGroup:s,switchLayoutGroup:g.useContext(P2),isPresent:t,safeToRemove:n})}const cP={borderRadius:{...ll,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ll,borderTopRightRadius:ll,borderBottomLeftRadius:ll,borderBottomRightRadius:ll,boxShadow:aP};function dP(e,t,n){const s=Cn(e)?e:ia(e);return s.start(r0("",s,t,n)),s.animation}const uP=(e,t)=>e.depth-t.depth;class hP{constructor(){this.children=[],this.isDirty=!1}add(t){Eg(this.children,t),this.isDirty=!0}remove(t){Ag(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(uP),this.isDirty=!1,this.children.forEach(t)}}function fP(e,t){const n=Un.now(),s=({timestamp:i})=>{const a=i-n;a>=t&&(Xs(s),e(a-t))};return Dt.setup(s,!0),()=>Xs(s)}const J2=["TopLeft","TopRight","BottomLeft","BottomRight"],pP=J2.length,Pb=e=>typeof e=="string"?parseFloat(e):e,Rb=e=>typeof e=="number"||nt.test(e);function mP(e,t,n,s,i,a){i?(e.opacity=$t(0,n.opacity??1,gP(s)),e.opacityExit=$t(t.opacity??1,0,xP(s))):a&&(e.opacity=$t(t.opacity??1,n.opacity??1,s));for(let l=0;l<pP;l++){const d=`border${J2[l]}Radius`;let u=Db(t,d),f=Db(n,d);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||Rb(u)===Rb(f)?(e[d]=Math.max($t(Pb(u),Pb(f),s),0),(Gr.test(f)||Gr.test(u))&&(e[d]+="%")):e[d]=f}(t.rotate||n.rotate)&&(e.rotate=$t(t.rotate||0,n.rotate||0,s))}function Db(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const gP=Z2(0,.5,Bj),xP=Z2(.5,.95,mr);function Z2(e,t,n){return s=>s<e?0:s>t?1:n(Tl(e,t,s))}function Ob(e,t){e.min=t.min,e.max=t.max}function ar(e,t){Ob(e.x,t.x),Ob(e.y,t.y)}function Ib(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Fb(e,t,n,s,i){return e-=t,e=fu(e,1/n,s),i!==void 0&&(e=fu(e,1/i,s)),e}function yP(e,t=0,n=1,s=.5,i,a=e,l=e){if(Gr.test(t)&&(t=parseFloat(t),t=$t(l.min,l.max,t/100)-l.min),typeof t!="number")return;let d=$t(a.min,a.max,s);e===a&&(d-=t),e.min=Fb(e.min,t,n,d,i),e.max=Fb(e.max,t,n,d,i)}function Mb(e,t,[n,s,i],a,l){yP(e,t[n],t[s],t[i],t.scale,a,l)}const vP=["x","scaleX","originX"],bP=["y","scaleY","originY"];function $b(e,t,n,s){Mb(e.x,t,vP,n?n.x:void 0,s?s.x:void 0),Mb(e.y,t,bP,n?n.y:void 0,s?s.y:void 0)}function Bb(e){return e.translate===0&&e.scale===1}function eS(e){return Bb(e.x)&&Bb(e.y)}function Lb(e,t){return e.min===t.min&&e.max===t.max}function wP(e,t){return Lb(e.x,t.x)&&Lb(e.y,t.y)}function zb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function tS(e,t){return zb(e.x,t.x)&&zb(e.y,t.y)}function Wb(e){return Rn(e.x)/Rn(e.y)}function Vb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class jP{constructor(){this.members=[]}add(t){Eg(this.members,t),t.scheduleRender()}remove(t){if(Ag(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SP(e,t,n){let s="";const i=e.x.translate/t.x,a=e.y.translate/t.y,l=n?.z||0;if((i||a||l)&&(s=`translate3d(${i}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:p,rotateY:y,skewX:v,skewY:b}=n;f&&(s=`perspective(${f}px) ${s}`),m&&(s+=`rotate(${m}deg) `),p&&(s+=`rotateX(${p}deg) `),y&&(s+=`rotateY(${y}deg) `),v&&(s+=`skewX(${v}deg) `),b&&(s+=`skewY(${b}deg) `)}const d=e.x.scale*t.x,u=e.y.scale*t.y;return(d!==1||u!==1)&&(s+=`scale(${d}, ${u})`),s||"none"}const gp=["","X","Y","Z"],NP=1e3;let kP=0;function xp(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function nS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=z2(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Dt,!(i||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&nS(s)}function rS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(l={},d=t?.()){this.id=kP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(AP),this.nodes.forEach(RP),this.nodes.forEach(DP),this.nodes.forEach(_P)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new hP)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Pg),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const u=this.eventHandlers.get(l);u&&u.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=y2(l)&&!m4(l),this.instance=l;const{layoutId:d,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||d)&&(this.isLayoutDirty=!0),e){let m,p=0;const y=()=>this.root.updateBlockedByResize=!1;Dt.read(()=>{p=window.innerWidth}),e(l,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,m&&m(),m=fP(y,250),Jd.hasAnimatedSinceResize&&(Jd.hasAnimatedSinceResize=!1,this.nodes.forEach(qb)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&f&&(d||u)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||$P,{onLayoutAnimationStart:j,onLayoutAnimationComplete:S}=f.getProps(),N=!this.targetLayout||!tS(this.targetLayout,v),C=!p&&y;if(this.options.layoutRoot||this.resumeFrom||C||p&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...Ug(b,"layout"),onPlay:j,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(m,C)}else p||qb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(OP),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:d,layout:u}=this.options;if(d===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ub);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Hb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(PP),this.nodes.forEach(CP),this.nodes.forEach(EP)):this.nodes.forEach(Hb),this.clearAllSnapshots();const d=Un.now();xn.delta=gs(0,1e3/60,d-xn.timestamp),xn.timestamp=d,xn.isProcessing=!0,ip.update.process(xn),ip.preRender.process(xn),ip.render.process(xn),xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TP),this.sharedNodes.forEach(IP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!eS(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&this.instance&&(d||Ai(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let u=this.removeElementScroll(d);return l&&(u=this.removeTransform(u)),BP(u),{animationId:this.root.animationId,measuredBox:d,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Ht();const d=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(LP))){const{scroll:f}=this.root;f&&(Uo(d.x,f.offset.x),Uo(d.y,f.offset.y))}return d}removeElementScroll(l){const d=Ht();if(ar(d,l),this.scroll?.wasRoot)return d;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:m,options:p}=f;f!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&ar(d,l),Uo(d.x,m.offset.x),Uo(d.y,m.offset.y))}return d}applyTransform(l,d=!1){const u=Ht();ar(u,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!d&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ho(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ai(m.latestValues)&&Ho(u,m.latestValues)}return Ai(this.latestValues)&&Ho(u,this.latestValues),u}removeTransform(l){const d=Ht();ar(d,l);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!Ai(f.latestValues))continue;Nm(f.latestValues)&&f.updateSnapshot();const m=Ht(),p=f.measurePageBox();ar(m,p),$b(d,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return Ai(this.latestValues)&&$b(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==d;if(!(l||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:p}=this.options;if(!(!this.layout||!(m||p))){if(this.resolvedRelativeTargetAt=xn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),wl(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ht(),this.targetWithTransforms=Ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),q3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ar(this.target,this.layout.layoutBox),I2(this.target,this.targetDelta)):ar(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),wl(this.relativeTargetOrigin,this.target,y.target),ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Nm(this.parent.latestValues)||O2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),d=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===xn.timestamp&&(u=!1),u)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;ar(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;s3(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ht());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ib(this.prevProjectionDelta.x,this.projectionDelta.x),Ib(this.prevProjectionDelta.y,this.projectionDelta.y)),bl(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==y||!Vb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Vb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qo(),this.projectionDelta=qo(),this.projectionDeltaWithTransform=qo()}setAnimationOrigin(l,d=!1){const u=this.snapshot,f=u?u.latestValues:{},m={...this.latestValues},p=qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const y=Ht(),v=u?u.source:void 0,b=this.layout?this.layout.source:void 0,j=v!==b,S=this.getStack(),N=!S||S.members.length<=1,C=!!(j&&!N&&this.options.crossfade===!0&&!this.path.some(MP));this.animationProgress=0;let A;this.mixTargetDelta=E=>{const _=E/1e3;Gb(p.x,l.x,_),Gb(p.y,l.y,_),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wl(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FP(this.relativeTarget,this.relativeTargetOrigin,y,_),A&&wP(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Ht()),ar(A,this.relativeTarget)),j&&(this.animationValues=m,mP(m,f,this.latestValues,_,C,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Xs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dt.update(()=>{Jd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ia(0)),this.currentAnimation=dP(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:u,layout:f,latestValues:m}=l;if(!(!d||!u||!f)){if(this!==l&&this.layout&&f&&sS(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||Ht();const p=Rn(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+p;const y=Rn(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+y}ar(d,u),Ho(d,m),bl(this.projectionDeltaWithTransform,this.layoutCorrected,d,m)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new jP),this.sharedNodes.get(l).add(d);const f=d.options.initialPromotionConfig;d.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(d=!0),!d)return;const f={};u.z&&xp("z",l,f,this.animationValues);for(let m=0;m<gp.length;m++)xp(`rotate${gp[m]}`,l,f,this.animationValues),xp(`skew${gp[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}applyProjectionStyles(l,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Xd(d?.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Xd(d?.pointerEvents)||""),this.hasProjected&&!Ai(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=SP(this.projectionDeltaWithTransform,this.treeScale,m);u&&(p=u(m,p)),l.transform=p;const{x:y,y:v}=this.projectionDelta;l.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,f.animationValues?l.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in Ol){if(m[b]===void 0)continue;const{correct:j,applyTo:S,isCSSVariable:N}=Ol[b],C=p==="none"?m[b]:j(m[b],f);if(S){const A=S.length;for(let E=0;E<A;E++)l[S[E]]=C}else N?this.options.visualElement.renderState.vars[b]=C:l[b]=C}this.options.layoutId&&(l.pointerEvents=f===this?Xd(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(Ub),this.root.sharedNodes.clear()}}}function CP(e){e.updateLayout()}function EP(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?lr(m=>{const p=a?t.measuredBox[m]:t.layoutBox[m],y=Rn(p);p.min=n[m].min,p.max=p.min+y}):sS(i,t.layoutBox,n)&&lr(m=>{const p=a?t.measuredBox[m]:t.layoutBox[m],y=Rn(n[m]);p.max=p.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+y)});const l=qo();bl(l,n,t.layoutBox);const d=qo();a?bl(d,e.applyTransform(s,!0),t.measuredBox):bl(d,n,t.layoutBox);const u=!eS(l);let f=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:y}=m;if(p&&y){const v=Ht();wl(v,t.layoutBox,p.layoutBox);const b=Ht();wl(b,n,y.layoutBox),tS(v,b)||(f=!0),m.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=v,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function AP(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function _P(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function TP(e){e.clearSnapshot()}function Ub(e){e.clearMeasurements()}function Hb(e){e.isLayoutDirty=!1}function PP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function qb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function RP(e){e.resolveTargetDelta()}function DP(e){e.calcProjection()}function OP(e){e.resetSkewAndRotation()}function IP(e){e.removeLeadSnapshot()}function Gb(e,t,n){e.translate=$t(t.translate,0,n),e.scale=$t(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Kb(e,t,n,s){e.min=$t(t.min,n.min,s),e.max=$t(t.max,n.max,s)}function FP(e,t,n,s){Kb(e.x,t.x,n.x,s),Kb(e.y,t.y,n.y,s)}function MP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const $P={duration:.45,ease:[.4,0,.1,1]},Yb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Qb=Yb("applewebkit/")&&!Yb("chrome/")?Math.round:mr;function Xb(e){e.min=Qb(e.min),e.max=Qb(e.max)}function BP(e){Xb(e.x),Xb(e.y)}function sS(e,t,n){return e==="position"||e==="preserve-aspect"&&!H3(Wb(t),Wb(n),.2)}function LP(e){return e!==e.root&&e.scroll?.wasRoot}const zP=rS({attachResizeListener:(e,t)=>Il(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yp={current:void 0},iS=rS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!yp.current){const e=new zP({});e.mount(window),e.setOptions({layoutScroll:!0}),yp.current=e}return yp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),WP={pan:{Feature:oP},drag:{Feature:iP,ProjectionNode:iS,MeasureLayout:X2}};function Jb(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&Dt.postRender(()=>a(t,ec(t)))}class VP extends ri{mount(){const{current:t}=this.node;t&&(this.unmount=d4(t,(n,s)=>(Jb(this.node,s,"Start"),i=>Jb(this.node,i,"End"))))}unmount(){}}class UP extends ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xl(Il(this.node.current,"focus",()=>this.onFocus()),Il(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Zb(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&Dt.postRender(()=>a(t,ec(t)))}class HP extends ri{mount(){const{current:t}=this.node;t&&(this.unmount=p4(t,(n,s)=>(Zb(this.node,s,"Start"),(i,{success:a})=>Zb(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pm=new WeakMap,vp=new WeakMap,qP=e=>{const t=Pm.get(e.target);t&&t(e)},GP=e=>{e.forEach(qP)};function KP({root:e,...t}){const n=e||document;vp.has(n)||vp.set(n,{});const s=vp.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(GP,{root:e,...t})),s[i]}function YP(e,t,n){const s=KP(t);return Pm.set(e,n),s.observe(e),()=>{Pm.delete(e),s.unobserve(e)}}const QP={some:0,all:1};class XP extends ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=t,l={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:QP[i]},d=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),y=f?m:p;y&&y(u)};return YP(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(JP(t,n))&&this.startObserver()}unmount(){}}function JP({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ZP={inView:{Feature:XP},tap:{Feature:HP},focus:{Feature:UP},hover:{Feature:VP}},eR={layout:{ProjectionNode:iS,MeasureLayout:X2}},tR={...B3,...ZP,...WP,...eR},I=t3(tR,p3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rR=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),ew=e=>{const t=rR(e);return t.charAt(0).toUpperCase()+t.slice(1)},oS=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:l,...d},u)=>g.createElement("svg",{ref:u,...sR,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:oS("lucide",i),...d},[...l.map(([f,m])=>g.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(e,t)=>{const n=g.forwardRef(({className:s,...i},a)=>g.createElement(iR,{ref:a,iconNode:t,className:oS(`lucide-${nR(ew(e))}`,`lucide-${e}`,s),...i}));return n.displayName=ew(e),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ys=ke("arrow-left",oR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],lR=ke("arrow-right",aR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],dR=ke("award",cR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ur=ke("book-open",uR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],aS=ke("book",hR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],pR=ke("bookmark",fR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Rm=ke("bot",mR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ui=ke("calendar",gR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],yR=ke("camera",xR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Qi=ke("check",vR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hn=ke("chevron-down",bR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],tw=ke("chevron-left",wR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],us=ke("chevron-right",jR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pu=ke("chevron-up",SR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Dn=ke("circle-check-big",NR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lS=ke("circle-check",kR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],mu=ke("circle-play",CR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],cS=ke("circle-x",ER);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_R=ke("circle",AR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],aa=ke("clock",TR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],RR=ke("cloud-off",PR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],OR=ke("cloud",DR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],FR=ke("download",IR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],dS=ke("ellipsis-vertical",MR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Fl=ke("eye-off",$R);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ko=ke("eye",BR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3 15 2 2 4-4",key:"1lhrkk"}]],uS=ke("file-check-2",LR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Mo=ke("file-text",zR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"m9 13 2 2 4-4",key:"6343dt"}]],VR=ke("folder-check",WR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],hS=ke("folder-plus",UR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],qR=ke("gamepad-2",HR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Ku=ke("gift",GR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],fS=ke("git-merge",KR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Dm=ke("heart",YR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Xi=ke("house",QR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],jd=ke("key",XR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ZR=ke("layers",JR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],t6=ke("layout-dashboard",e6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],pS=ke("layout-grid",n6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],s6=ke("library",r6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],s0=ke("lightbulb",i6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],a6=ke("link-2",o6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],mS=ke("list-checks",l6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],d6=ke("list",c6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Om=ke("loader-circle",u6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],f6=ke("loader",h6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],gu=ke("lock",p6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],g6=ke("log-out",m6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],gS=ke("mail",x6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],v6=ke("maximize",y6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],w6=ke("medal",b6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],S6=ke("message-circle-plus",j6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],xS=ke("message-square",N6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],xu=ke("pause",k6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],E6=ke("pen-line",C6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],nw=ke("pen-tool",A6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yS=ke("pen",_6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Wi=ke("play",T6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],la=ke("plus",P6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],vS=ke("printer",R6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],fl=ke("puzzle",D6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],I6=ke("refresh-cw",O6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],tc=ke("rotate-ccw",F6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]],bS=ke("rows-3",M6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],jl=ke("search",$6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],L6=ke("send",B6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wS=ke("settings",z6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],V6=ke("share-2",W6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],H6=ke("shield",U6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Zd=ke("shopping-cart",q6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],yu=ke("shuffle",G6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Im=ke("skull",K6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Q6=ke("smile",Y6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],fr=ke("sparkles",X6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vu=ke("square-check-big",J6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],i0=ke("square-pen",Z6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Ml=ke("square",eD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],vs=ke("star",tD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],jS=ke("table-2",nD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],pr=ke("target",rD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],iD=ke("thumbs-down",sD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],aD=ke("thumbs-up",oD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],rw=ke("timer",lD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],bs=ke("trash-2",cD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],SS=ke("trending-up",dD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],fs=ke("trophy",uD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],fD=ke("undo-2",hD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],sw=ke("upload",pD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],gD=ke("user-plus",mD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],NS=ke("user",xD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],o0=ke("users",yD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],a0=ke("volume-2",vD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yn=ke("x",bD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Qs=ke("zap",wD);function Or({onClick:e}){return r.jsx(I.button,{whileTap:{scale:.95},onClick:e,className:"w-11 h-11 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/40",style:{minWidth:"44px",minHeight:"44px"},children:r.jsx(ys,{className:"w-5 h-5 text-[#491B6D]"})})}function nc({onBack:e,title:t,subtitle:n,rightElement:s}){return r.jsx("div",{className:"sticky top-0 z-40 backdrop-blur-lg flex-shrink-0",style:{background:"transparent"},children:r.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 md:p-8 gap-2 sm:gap-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Or,{onClick:e})}),r.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[r.jsx("h1",{className:"text-[#091A7A] text-center truncate max-w-full",style:{fontSize:"18px",fontWeight:600},children:t}),n&&r.jsx("p",{className:"text-[#6B7280] text-center truncate max-w-full",style:{fontSize:"12px",fontWeight:500},children:n})]}),r.jsx("div",{className:"flex-shrink-0",children:s||r.jsx("div",{className:"w-11 h-11"})})]})})}function kS(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=kS(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function CS(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=kS(e))&&(s&&(s+=" "),s+=t);return s}const jD=(e,t)=>{const n=new Array(e.length+t.length);for(let s=0;s<e.length;s++)n[s]=e[s];for(let s=0;s<t.length;s++)n[e.length+s]=t[s];return n},SD=(e,t)=>({classGroupId:e,validator:t}),ES=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),bu="-",iw=[],ND="arbitrary..",kD=e=>{const t=ED(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return CD(l);const d=l.split(bu),u=d[0]===""&&d.length>1?1:0;return AS(d,u,t)},getConflictingClassGroupIds:(l,d)=>{if(d){const u=s[l],f=n[l];return u?f?jD(f,u):u:f||iw}return n[l]||iw}}},AS=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],a=n.nextPart.get(i);if(a){const f=AS(e,t+1,a);if(f)return f}const l=n.validators;if(l===null)return;const d=t===0?e.join(bu):e.slice(t).join(bu),u=l.length;for(let f=0;f<u;f++){const m=l[f];if(m.validator(d))return m.classGroupId}},CD=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),s=t.slice(0,n);return s?ND+s:void 0})(),ED=e=>{const{theme:t,classGroups:n}=e;return AD(n,t)},AD=(e,t)=>{const n=ES();for(const s in e){const i=e[s];l0(i,n,s,t)}return n},l0=(e,t,n,s)=>{const i=e.length;for(let a=0;a<i;a++){const l=e[a];_D(l,t,n,s)}},_D=(e,t,n,s)=>{if(typeof e=="string"){TD(e,t,n);return}if(typeof e=="function"){PD(e,t,n,s);return}RD(e,t,n,s)},TD=(e,t,n)=>{const s=e===""?t:_S(t,e);s.classGroupId=n},PD=(e,t,n,s)=>{if(DD(e)){l0(e(s),t,n,s);return}t.validators===null&&(t.validators=[]),t.validators.push(SD(n,e))},RD=(e,t,n,s)=>{const i=Object.entries(e),a=i.length;for(let l=0;l<a;l++){const[d,u]=i[l];l0(u,_S(t,d),n,s)}},_S=(e,t)=>{let n=e;const s=t.split(bu),i=s.length;for(let a=0;a<i;a++){const l=s[a];let d=n.nextPart.get(l);d||(d=ES(),n.nextPart.set(l,d)),n=d}return n},DD=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,OD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),s=Object.create(null);const i=(a,l)=>{n[a]=l,t++,t>e&&(t=0,s=n,n=Object.create(null))};return{get(a){let l=n[a];if(l!==void 0)return l;if((l=s[a])!==void 0)return i(a,l),l},set(a,l){a in n?n[a]=l:i(a,l)}}},Fm="!",ow=":",ID=[],aw=(e,t,n,s,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:s,isExternal:i}),FD=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=i=>{const a=[];let l=0,d=0,u=0,f;const m=i.length;for(let j=0;j<m;j++){const S=i[j];if(l===0&&d===0){if(S===ow){a.push(i.slice(u,j)),u=j+1;continue}if(S==="/"){f=j;continue}}S==="["?l++:S==="]"?l--:S==="("?d++:S===")"&&d--}const p=a.length===0?i:i.slice(u);let y=p,v=!1;p.endsWith(Fm)?(y=p.slice(0,-1),v=!0):p.startsWith(Fm)&&(y=p.slice(1),v=!0);const b=f&&f>u?f-u:void 0;return aw(a,v,y,b)};if(t){const i=t+ow,a=s;s=l=>l.startsWith(i)?a(l.slice(i.length)):aw(ID,!1,l,void 0,!0)}if(n){const i=s;s=a=>n({className:a,parseClassName:i})}return s},MD=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,s)=>{t.set(n,1e6+s)}),n=>{const s=[];let i=[];for(let a=0;a<n.length;a++){const l=n[a],d=l[0]==="[",u=t.has(l);d||u?(i.length>0&&(i.sort(),s.push(...i),i=[]),s.push(l)):i.push(l)}return i.length>0&&(i.sort(),s.push(...i)),s}},$D=e=>({cache:OD(e.cacheSize),parseClassName:FD(e),sortModifiers:MD(e),...kD(e)}),BD=/\s+/,LD=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:a}=t,l=[],d=e.trim().split(BD);let u="";for(let f=d.length-1;f>=0;f-=1){const m=d[f],{isExternal:p,modifiers:y,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:j}=n(m);if(p){u=m+(u.length>0?" "+u:u);continue}let S=!!j,N=s(S?b.substring(0,j):b);if(!N){if(!S){u=m+(u.length>0?" "+u:u);continue}if(N=s(b),!N){u=m+(u.length>0?" "+u:u);continue}S=!1}const C=y.length===0?"":y.length===1?y[0]:a(y).join(":"),A=v?C+Fm:C,E=A+N;if(l.indexOf(E)>-1)continue;l.push(E);const _=i(N,S);for(let T=0;T<_.length;++T){const D=_[T];l.push(A+D)}u=m+(u.length>0?" "+u:u)}return u},zD=(...e)=>{let t=0,n,s,i="";for(;t<e.length;)(n=e[t++])&&(s=TS(n))&&(i&&(i+=" "),i+=s);return i},TS=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=TS(e[s]))&&(n&&(n+=" "),n+=t);return n},WD=(e,...t)=>{let n,s,i,a;const l=u=>{const f=t.reduce((m,p)=>p(m),e());return n=$D(f),s=n.cache.get,i=n.cache.set,a=d,d(u)},d=u=>{const f=s(u);if(f)return f;const m=LD(u,n);return i(u,m),m};return a=l,(...u)=>a(zD(...u))},VD=[],Zt=e=>{const t=n=>n[e]||VD;return t.isThemeGetter=!0,t},PS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,RS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,UD=/^\d+\/\d+$/,HD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,KD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,So=e=>UD.test(e),dt=e=>!!e&&!Number.isNaN(Number(e)),Us=e=>!!e&&Number.isInteger(Number(e)),bp=e=>e.endsWith("%")&&dt(e.slice(0,-1)),as=e=>HD.test(e),QD=()=>!0,XD=e=>qD.test(e)&&!GD.test(e),DS=()=>!1,JD=e=>KD.test(e),ZD=e=>YD.test(e),eO=e=>!$e(e)&&!Be(e),tO=e=>xa(e,FS,DS),$e=e=>PS.test(e),Ni=e=>xa(e,MS,XD),wp=e=>xa(e,oO,dt),lw=e=>xa(e,OS,DS),nO=e=>xa(e,IS,ZD),Sd=e=>xa(e,$S,JD),Be=e=>RS.test(e),cl=e=>ya(e,MS),rO=e=>ya(e,aO),cw=e=>ya(e,OS),sO=e=>ya(e,FS),iO=e=>ya(e,IS),Nd=e=>ya(e,$S,!0),xa=(e,t,n)=>{const s=PS.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},ya=(e,t,n=!1)=>{const s=RS.exec(e);return s?s[1]?t(s[1]):n:!1},OS=e=>e==="position"||e==="percentage",IS=e=>e==="image"||e==="url",FS=e=>e==="length"||e==="size"||e==="bg-size",MS=e=>e==="length",oO=e=>e==="number",aO=e=>e==="family-name",$S=e=>e==="shadow",lO=()=>{const e=Zt("color"),t=Zt("font"),n=Zt("text"),s=Zt("font-weight"),i=Zt("tracking"),a=Zt("leading"),l=Zt("breakpoint"),d=Zt("container"),u=Zt("spacing"),f=Zt("radius"),m=Zt("shadow"),p=Zt("inset-shadow"),y=Zt("text-shadow"),v=Zt("drop-shadow"),b=Zt("blur"),j=Zt("perspective"),S=Zt("aspect"),N=Zt("ease"),C=Zt("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...E(),Be,$e],T=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],R=()=>[Be,$e,u],V=()=>[So,"full","auto",...R()],G=()=>[Us,"none","subgrid",Be,$e],ne=()=>["auto",{span:["full",Us,Be,$e]},Us,Be,$e],ie=()=>[Us,"auto",Be,$e],oe=()=>["auto","min","max","fr",Be,$e],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],F=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...R()],B=()=>[So,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],O=()=>[e,Be,$e],$=()=>[...E(),cw,lw,{position:[Be,$e]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",sO,tO,{size:[Be,$e]}],W=()=>[bp,cl,Ni],L=()=>["","none","full",f,Be,$e],K=()=>["",dt,cl,Ni],U=()=>["solid","dashed","dotted","double"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>[dt,bp,cw,lw],le=()=>["","none",b,Be,$e],fe=()=>["none",dt,Be,$e],ue=()=>["none",dt,Be,$e],Se=()=>[dt,Be,$e],Pe=()=>[So,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[as],breakpoint:[as],color:[QD],container:[as],"drop-shadow":[as],ease:["in","out","in-out"],font:[eO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[as],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[as],shadow:[as],spacing:["px",dt],text:[as],"text-shadow":[as],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",So,$e,Be,S]}],container:["container"],columns:[{columns:[dt,$e,Be,d]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[Us,"auto",Be,$e]}],basis:[{basis:[So,"full","auto",d,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[dt,So,"auto","initial","none",$e]}],grow:[{grow:["",dt,Be,$e]}],shrink:[{shrink:["",dt,Be,$e]}],order:[{order:[Us,"first","last","none",Be,$e]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:ne()}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:ne()}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":oe()}],"auto-rows":[{"auto-rows":oe()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...F(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...F(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[d,"screen",...B()]}],"min-w":[{"min-w":[d,"screen","none",...B()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",n,cl,Ni]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Be,wp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bp,$e]}],"font-family":[{font:[rO,$e,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Be,$e]}],"line-clamp":[{"line-clamp":[dt,"none",Be,wp]}],leading:[{leading:[a,...R()]}],"list-image":[{"list-image":["none",Be,$e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Be,$e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:[dt,"from-font","auto",Be,Ni]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[dt,"auto",Be,$e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be,$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be,$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Us,Be,$e],radial:["",Be,$e],conic:[Us,Be,$e]},iO,nO]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:L()}],"rounded-s":[{"rounded-s":L()}],"rounded-e":[{"rounded-e":L()}],"rounded-t":[{"rounded-t":L()}],"rounded-r":[{"rounded-r":L()}],"rounded-b":[{"rounded-b":L()}],"rounded-l":[{"rounded-l":L()}],"rounded-ss":[{"rounded-ss":L()}],"rounded-se":[{"rounded-se":L()}],"rounded-ee":[{"rounded-ee":L()}],"rounded-es":[{"rounded-es":L()}],"rounded-tl":[{"rounded-tl":L()}],"rounded-tr":[{"rounded-tr":L()}],"rounded-br":[{"rounded-br":L()}],"rounded-bl":[{"rounded-bl":L()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...U(),"hidden","none"]}],"divide-style":[{divide:[...U(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...U(),"none","hidden"]}],"outline-offset":[{"outline-offset":[dt,Be,$e]}],"outline-w":[{outline:["",dt,cl,Ni]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",m,Nd,Sd]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",p,Nd,Sd]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[dt,Ni]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",y,Nd,Sd]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[dt,Be,$e]}],"mix-blend":[{"mix-blend":[...ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[dt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Y()}],"mask-image-linear-to-pos":[{"mask-linear-to":Y()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":Y()}],"mask-image-t-to-pos":[{"mask-t-to":Y()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":Y()}],"mask-image-r-to-pos":[{"mask-r-to":Y()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":Y()}],"mask-image-b-to-pos":[{"mask-b-to":Y()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":Y()}],"mask-image-l-to-pos":[{"mask-l-to":Y()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":Y()}],"mask-image-x-to-pos":[{"mask-x-to":Y()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":Y()}],"mask-image-y-to-pos":[{"mask-y-to":Y()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[Be,$e]}],"mask-image-radial-from-pos":[{"mask-radial-from":Y()}],"mask-image-radial-to-pos":[{"mask-radial-to":Y()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[dt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Y()}],"mask-image-conic-to-pos":[{"mask-conic-to":Y()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Be,$e]}],filter:[{filter:["","none",Be,$e]}],blur:[{blur:le()}],brightness:[{brightness:[dt,Be,$e]}],contrast:[{contrast:[dt,Be,$e]}],"drop-shadow":[{"drop-shadow":["","none",v,Nd,Sd]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",dt,Be,$e]}],"hue-rotate":[{"hue-rotate":[dt,Be,$e]}],invert:[{invert:["",dt,Be,$e]}],saturate:[{saturate:[dt,Be,$e]}],sepia:[{sepia:["",dt,Be,$e]}],"backdrop-filter":[{"backdrop-filter":["","none",Be,$e]}],"backdrop-blur":[{"backdrop-blur":le()}],"backdrop-brightness":[{"backdrop-brightness":[dt,Be,$e]}],"backdrop-contrast":[{"backdrop-contrast":[dt,Be,$e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",dt,Be,$e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[dt,Be,$e]}],"backdrop-invert":[{"backdrop-invert":["",dt,Be,$e]}],"backdrop-opacity":[{"backdrop-opacity":[dt,Be,$e]}],"backdrop-saturate":[{"backdrop-saturate":[dt,Be,$e]}],"backdrop-sepia":[{"backdrop-sepia":["",dt,Be,$e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Be,$e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[dt,"initial",Be,$e]}],ease:[{ease:["linear","initial",N,Be,$e]}],delay:[{delay:[dt,Be,$e]}],animate:[{animate:["none",C,Be,$e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Be,$e]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:ue()}],"scale-x":[{"scale-x":ue()}],"scale-y":[{"scale-y":ue()}],"scale-z":[{"scale-z":ue()}],"scale-3d":["scale-3d"],skew:[{skew:Se()}],"skew-x":[{"skew-x":Se()}],"skew-y":[{"skew-y":Se()}],transform:[{transform:[Be,$e,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pe()}],"translate-x":[{"translate-x":Pe()}],"translate-y":[{"translate-y":Pe()}],"translate-z":[{"translate-z":Pe()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be,$e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be,$e]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[dt,cl,Ni,wp]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},cO=WD(lO);function En(...e){return cO(CS(e))}function $l({className:e,type:t,...n}){return r.jsx("input",{type:t,"data-slot":"input",className:En("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}function dO({className:e,...t}){return r.jsx("textarea",{"data-slot":"textarea",className:En("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function dw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ji(...e){return t=>{let n=!1;const s=e.map(i=>{const a=dw(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():dw(e[i],null)}}}}function Lt(...e){return g.useCallback(Ji(...e),e)}var uO=Symbol.for("react.lazy"),wu=yg[" use ".trim().toString()];function hO(e){return typeof e=="object"&&e!==null&&"then"in e}function BS(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===uO&&"_payload"in e&&hO(e._payload)}function LS(e){const t=pO(e),n=g.forwardRef((s,i)=>{let{children:a,...l}=s;BS(a)&&typeof wu=="function"&&(a=wu(a._payload));const d=g.Children.toArray(a),u=d.find(gO);if(u){const f=u.props.children,m=d.map(p=>p===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:p);return r.jsx(t,{...l,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,m):null})}return r.jsx(t,{...l,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var fO=LS("Slot");function pO(e){const t=g.forwardRef((n,s)=>{let{children:i,...a}=n;if(BS(i)&&typeof wu=="function"&&(i=wu(i._payload)),g.isValidElement(i)){const l=yO(i),d=xO(a,i.props);return i.type!==g.Fragment&&(d.ref=s?Ji(s,l):l),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mO=Symbol("radix.slottable");function gO(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mO}function xO(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function yO(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const uw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,hw=CS,vO=(e,t)=>n=>{var s;if(t?.variants==null)return hw(e,n?.class,n?.className);const{variants:i,defaultVariants:a}=t,l=Object.keys(i).map(f=>{const m=n?.[f],p=a?.[f];if(m===null)return null;const y=uw(m)||uw(p);return i[f][y]}),d=n&&Object.entries(n).reduce((f,m)=>{let[p,y]=m;return y===void 0||(f[p]=y),f},{}),u=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((f,m)=>{let{class:p,className:y,...v}=m;return Object.entries(v).every(b=>{let[j,S]=b;return Array.isArray(S)?S.includes({...a,...d}[j]):{...a,...d}[j]===S})?[...f,p,y]:f},[]);return hw(e,l,u,n?.class,n?.className)},bO=vO("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function nn({className:e,variant:t,size:n,asChild:s=!1,...i}){const a=s?fO:"button";return r.jsx(a,{"data-slot":"button",className:En(bO({variant:t,size:n,className:e})),...i})}function fw(e,[t,n]){return Math.min(n,Math.max(t,e))}function Nt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function wO(e,t){const n=g.createContext(t),s=a=>{const{children:l,...d}=a,u=g.useMemo(()=>d,Object.values(d));return r.jsx(n.Provider,{value:u,children:l})};s.displayName=e+"Provider";function i(a){const l=g.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,i]}function rc(e,t=[]){let n=[];function s(a,l){const d=g.createContext(l),u=n.length;n=[...n,l];const f=p=>{const{scope:y,children:v,...b}=p,j=y?.[e]?.[u]||d,S=g.useMemo(()=>b,Object.values(b));return r.jsx(j.Provider,{value:S,children:v})};f.displayName=a+"Provider";function m(p,y){const v=y?.[e]?.[u]||d,b=g.useContext(v);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[f,m]}const i=()=>{const a=n.map(l=>g.createContext(l));return function(d){const u=d?.[e]||a;return g.useMemo(()=>({[`__scope${e}`]:{...d,[e]:u}}),[d,u])}};return i.scopeName=e,[s,jO(i,...t)]}function jO(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=s.reduce((d,{useScope:u,scopeName:f})=>{const p=u(a)[`__scope${f}`];return{...d,...p}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function pw(e){const t=SO(e),n=g.forwardRef((s,i)=>{const{children:a,...l}=s,d=g.Children.toArray(a),u=d.find(kO);if(u){const f=u.props.children,m=d.map(p=>p===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:p);return r.jsx(t,{...l,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,m):null})}return r.jsx(t,{...l,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function SO(e){const t=g.forwardRef((n,s)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const l=EO(i),d=CO(a,i.props);return i.type!==g.Fragment&&(d.ref=s?Ji(s,l):l),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var NO=Symbol("radix.slottable");function kO(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===NO}function CO(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function EO(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function AO(e){const t=e+"CollectionProvider",[n,s]=rc(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=j=>{const{scope:S,children:N}=j,C=me.useRef(null),A=me.useRef(new Map).current;return r.jsx(i,{scope:S,itemMap:A,collectionRef:C,children:N})};l.displayName=t;const d=e+"CollectionSlot",u=pw(d),f=me.forwardRef((j,S)=>{const{scope:N,children:C}=j,A=a(d,N),E=Lt(S,A.collectionRef);return r.jsx(u,{ref:E,children:C})});f.displayName=d;const m=e+"CollectionItemSlot",p="data-radix-collection-item",y=pw(m),v=me.forwardRef((j,S)=>{const{scope:N,children:C,...A}=j,E=me.useRef(null),_=Lt(S,E),T=a(m,N);return me.useEffect(()=>(T.itemMap.set(E,{ref:E,...A}),()=>void T.itemMap.delete(E))),r.jsx(y,{[p]:"",ref:_,children:C})});v.displayName=m;function b(j){const S=a(e+"CollectionConsumer",j);return me.useCallback(()=>{const C=S.collectionRef.current;if(!C)return[];const A=Array.from(C.querySelectorAll(`[${p}]`));return Array.from(S.itemMap.values()).sort((T,D)=>A.indexOf(T.ref.current)-A.indexOf(D.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:l,Slot:f,ItemSlot:v},b,s]}var _O=g.createContext(void 0);function TO(e){const t=g.useContext(_O);return e||t||"ltr"}function PO(e){const t=RO(e),n=g.forwardRef((s,i)=>{const{children:a,...l}=s,d=g.Children.toArray(a),u=d.find(OO);if(u){const f=u.props.children,m=d.map(p=>p===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:p);return r.jsx(t,{...l,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,m):null})}return r.jsx(t,{...l,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function RO(e){const t=g.forwardRef((n,s)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const l=FO(i),d=IO(a,i.props);return i.type!==g.Fragment&&(d.ref=s?Ji(s,l):l),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var DO=Symbol("radix.slottable");function OO(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===DO}function IO(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function FO(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var MO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ct=MO.reduce((e,t)=>{const n=PO(`Primitive.${t}`),s=g.forwardRef((i,a)=>{const{asChild:l,...d}=i,u=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(u,{...d,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function $O(e,t){e&&Ar.flushSync(()=>e.dispatchEvent(t))}function Hi(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>t.current?.(...n),[])}function BO(e,t=globalThis?.document){const n=Hi(e);g.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var LO="DismissableLayer",Mm="dismissableLayer.update",zO="dismissableLayer.pointerDownOutside",WO="dismissableLayer.focusOutside",mw,zS=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yu=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:d,...u}=e,f=g.useContext(zS),[m,p]=g.useState(null),y=m?.ownerDocument??globalThis?.document,[,v]=g.useState({}),b=Lt(t,D=>p(D)),j=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=j.indexOf(S),C=m?j.indexOf(m):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,E=C>=N,_=HO(D=>{const R=D.target,V=[...f.branches].some(G=>G.contains(R));!E||V||(i?.(D),l?.(D),D.defaultPrevented||d?.())},y),T=qO(D=>{const R=D.target;[...f.branches].some(G=>G.contains(R))||(a?.(D),l?.(D),D.defaultPrevented||d?.())},y);return BO(D=>{C===f.layers.size-1&&(s?.(D),!D.defaultPrevented&&d&&(D.preventDefault(),d()))},y),g.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(mw=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),gw(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=mw)}},[m,y,n,f]),g.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),gw())},[m,f]),g.useEffect(()=>{const D=()=>v({});return document.addEventListener(Mm,D),()=>document.removeEventListener(Mm,D)},[]),r.jsx(Ct.div,{...u,ref:b,style:{pointerEvents:A?E?"auto":"none":void 0,...e.style},onFocusCapture:Nt(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Nt(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Nt(e.onPointerDownCapture,_.onPointerDownCapture)})});Yu.displayName=LO;var VO="DismissableLayerBranch",UO=g.forwardRef((e,t)=>{const n=g.useContext(zS),s=g.useRef(null),i=Lt(t,s);return g.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(Ct.div,{...e,ref:i})});UO.displayName=VO;function HO(e,t=globalThis?.document){const n=Hi(e),s=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const a=d=>{if(d.target&&!s.current){let u=function(){WS(zO,n,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);s.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function qO(e,t=globalThis?.document){const n=Hi(e),s=g.useRef(!1);return g.useEffect(()=>{const i=a=>{a.target&&!s.current&&WS(WO,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function gw(){const e=new CustomEvent(Mm);document.dispatchEvent(e)}function WS(e,t,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?$O(i,a):i.dispatchEvent(a)}var jp=0;function c0(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??xw()),document.body.insertAdjacentElement("beforeend",e[1]??xw()),jp++,()=>{jp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jp--}},[])}function xw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Sp="focusScope.autoFocusOnMount",Np="focusScope.autoFocusOnUnmount",yw={bubbles:!1,cancelable:!0},GO="FocusScope",Qu=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=e,[d,u]=g.useState(null),f=Hi(i),m=Hi(a),p=g.useRef(null),y=Lt(t,j=>u(j)),v=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let j=function(A){if(v.paused||!d)return;const E=A.target;d.contains(E)?p.current=E:Gs(p.current,{select:!0})},S=function(A){if(v.paused||!d)return;const E=A.relatedTarget;E!==null&&(d.contains(E)||Gs(p.current,{select:!0}))},N=function(A){if(document.activeElement===document.body)for(const _ of A)_.removedNodes.length>0&&Gs(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",S);const C=new MutationObserver(N);return d&&C.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",S),C.disconnect()}}},[s,d,v.paused]),g.useEffect(()=>{if(d){bw.add(v);const j=document.activeElement;if(!d.contains(j)){const N=new CustomEvent(Sp,yw);d.addEventListener(Sp,f),d.dispatchEvent(N),N.defaultPrevented||(KO(ZO(VS(d)),{select:!0}),document.activeElement===j&&Gs(d))}return()=>{d.removeEventListener(Sp,f),setTimeout(()=>{const N=new CustomEvent(Np,yw);d.addEventListener(Np,m),d.dispatchEvent(N),N.defaultPrevented||Gs(j??document.body,{select:!0}),d.removeEventListener(Np,m),bw.remove(v)},0)}}},[d,f,m,v]);const b=g.useCallback(j=>{if(!n&&!s||v.paused)return;const S=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,N=document.activeElement;if(S&&N){const C=j.currentTarget,[A,E]=YO(C);A&&E?!j.shiftKey&&N===E?(j.preventDefault(),n&&Gs(A,{select:!0})):j.shiftKey&&N===A&&(j.preventDefault(),n&&Gs(E,{select:!0})):N===C&&j.preventDefault()}},[n,s,v.paused]);return r.jsx(Ct.div,{tabIndex:-1,...l,ref:y,onKeyDown:b})});Qu.displayName=GO;function KO(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Gs(s,{select:t}),document.activeElement!==n)return}function YO(e){const t=VS(e),n=vw(t,e),s=vw(t.reverse(),e);return[n,s]}function VS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function vw(e,t){for(const n of e)if(!QO(n,{upTo:t}))return n}function QO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function XO(e){return e instanceof HTMLInputElement&&"select"in e}function Gs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&XO(e)&&t&&e.select()}}var bw=JO();function JO(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=ww(e,t),e.unshift(t)},remove(t){e=ww(e,t),e[0]?.resume()}}}function ww(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function ZO(e){return e.filter(t=>t.tagName!=="A")}var An=globalThis?.document?g.useLayoutEffect:()=>{},eI=yg[" useId ".trim().toString()]||(()=>{}),tI=0;function Vi(e){const[t,n]=g.useState(eI());return An(()=>{n(s=>s??String(tI++))},[e]),e||(t?`radix-${t}`:"")}const nI=["top","right","bottom","left"],Zs=Math.min,Qn=Math.max,ju=Math.round,kd=Math.floor,Kr=e=>({x:e,y:e}),rI={left:"right",right:"left",bottom:"top",top:"bottom"},sI={start:"end",end:"start"};function $m(e,t,n){return Qn(e,Zs(t,n))}function ws(e,t){return typeof e=="function"?e(t):e}function js(e){return e.split("-")[0]}function va(e){return e.split("-")[1]}function d0(e){return e==="x"?"y":"x"}function u0(e){return e==="y"?"height":"width"}const iI=new Set(["top","bottom"]);function Hr(e){return iI.has(js(e))?"y":"x"}function h0(e){return d0(Hr(e))}function oI(e,t,n){n===void 0&&(n=!1);const s=va(e),i=h0(e),a=u0(i);let l=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=Su(l)),[l,Su(l)]}function aI(e){const t=Su(e);return[Bm(e),t,Bm(t)]}function Bm(e){return e.replace(/start|end/g,t=>sI[t])}const jw=["left","right"],Sw=["right","left"],lI=["top","bottom"],cI=["bottom","top"];function dI(e,t,n){switch(e){case"top":case"bottom":return n?t?Sw:jw:t?jw:Sw;case"left":case"right":return t?lI:cI;default:return[]}}function uI(e,t,n,s){const i=va(e);let a=dI(js(e),n==="start",s);return i&&(a=a.map(l=>l+"-"+i),t&&(a=a.concat(a.map(Bm)))),a}function Su(e){return e.replace(/left|right|bottom|top/g,t=>rI[t])}function hI(e){return{top:0,right:0,bottom:0,left:0,...e}}function US(e){return typeof e!="number"?hI(e):{top:e,right:e,bottom:e,left:e}}function Nu(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function Nw(e,t,n){let{reference:s,floating:i}=e;const a=Hr(t),l=h0(t),d=u0(l),u=js(t),f=a==="y",m=s.x+s.width/2-i.width/2,p=s.y+s.height/2-i.height/2,y=s[d]/2-i[d]/2;let v;switch(u){case"top":v={x:m,y:s.y-i.height};break;case"bottom":v={x:m,y:s.y+s.height};break;case"right":v={x:s.x+s.width,y:p};break;case"left":v={x:s.x-i.width,y:p};break;default:v={x:s.x,y:s.y}}switch(va(t)){case"start":v[l]-=y*(n&&f?-1:1);break;case"end":v[l]+=y*(n&&f?-1:1);break}return v}const fI=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:l}=n,d=a.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:m,y:p}=Nw(f,s,u),y=s,v={},b=0;for(let j=0;j<d.length;j++){const{name:S,fn:N}=d[j],{x:C,y:A,data:E,reset:_}=await N({x:m,y:p,initialPlacement:s,placement:y,strategy:i,middlewareData:v,rects:f,platform:l,elements:{reference:e,floating:t}});m=C??m,p=A??p,v={...v,[S]:{...v[S],...E}},_&&b<=50&&(b++,typeof _=="object"&&(_.placement&&(y=_.placement),_.rects&&(f=_.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:m,y:p}=Nw(f,y,u)),j=-1)}return{x:m,y:p,placement:y,strategy:i,middlewareData:v}};async function Bl(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:a,rects:l,elements:d,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:y=!1,padding:v=0}=ws(t,e),b=US(v),S=d[y?p==="floating"?"reference":"floating":p],N=Nu(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:f,rootBoundary:m,strategy:u})),C=p==="floating"?{x:s,y:i,width:l.floating.width,height:l.floating.height}:l.reference,A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),E=await(a.isElement==null?void 0:a.isElement(A))?await(a.getScale==null?void 0:a.getScale(A))||{x:1,y:1}:{x:1,y:1},_=Nu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:C,offsetParent:A,strategy:u}):C);return{top:(N.top-_.top+b.top)/E.y,bottom:(_.bottom-N.bottom+b.bottom)/E.y,left:(N.left-_.left+b.left)/E.x,right:(_.right-N.right+b.right)/E.x}}const pI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:a,platform:l,elements:d,middlewareData:u}=t,{element:f,padding:m=0}=ws(e,t)||{};if(f==null)return{};const p=US(m),y={x:n,y:s},v=h0(i),b=u0(v),j=await l.getDimensions(f),S=v==="y",N=S?"top":"left",C=S?"bottom":"right",A=S?"clientHeight":"clientWidth",E=a.reference[b]+a.reference[v]-y[v]-a.floating[b],_=y[v]-a.reference[v],T=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let D=T?T[A]:0;(!D||!await(l.isElement==null?void 0:l.isElement(T)))&&(D=d.floating[A]||a.floating[b]);const R=E/2-_/2,V=D/2-j[b]/2-1,G=Zs(p[N],V),ne=Zs(p[C],V),ie=G,oe=D-j[b]-ne,Z=D/2-j[b]/2+R,F=$m(ie,Z,oe),z=!u.arrow&&va(i)!=null&&Z!==F&&a.reference[b]/2-(Z<ie?G:ne)-j[b]/2<0,B=z?Z<ie?Z-ie:Z-oe:0;return{[v]:y[v]+B,data:{[v]:F,centerOffset:Z-F-B,...z&&{alignmentOffset:B}},reset:z}}}),mI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:a,rects:l,initialPlacement:d,platform:u,elements:f}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:j=!0,...S}=ws(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=js(i),C=Hr(d),A=js(d)===d,E=await(u.isRTL==null?void 0:u.isRTL(f.floating)),_=y||(A||!j?[Su(d)]:aI(d)),T=b!=="none";!y&&T&&_.push(...uI(d,j,b,E));const D=[d,..._],R=await Bl(t,S),V=[];let G=((s=a.flip)==null?void 0:s.overflows)||[];if(m&&V.push(R[N]),p){const Z=oI(i,l,E);V.push(R[Z[0]],R[Z[1]])}if(G=[...G,{placement:i,overflows:V}],!V.every(Z=>Z<=0)){var ne,ie;const Z=(((ne=a.flip)==null?void 0:ne.index)||0)+1,F=D[Z];if(F&&(!(p==="alignment"?C!==Hr(F):!1)||G.every(O=>Hr(O.placement)===C?O.overflows[0]>0:!0)))return{data:{index:Z,overflows:G},reset:{placement:F}};let z=(ie=G.filter(B=>B.overflows[0]<=0).sort((B,O)=>B.overflows[1]-O.overflows[1])[0])==null?void 0:ie.placement;if(!z)switch(v){case"bestFit":{var oe;const B=(oe=G.filter(O=>{if(T){const $=Hr(O.placement);return $===C||$==="y"}return!0}).map(O=>[O.placement,O.overflows.filter($=>$>0).reduce(($,q)=>$+q,0)]).sort((O,$)=>O[1]-$[1])[0])==null?void 0:oe[0];B&&(z=B);break}case"initialPlacement":z=d;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function kw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Cw(e){return nI.some(t=>e[t]>=0)}const gI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=ws(e,t);switch(s){case"referenceHidden":{const a=await Bl(t,{...i,elementContext:"reference"}),l=kw(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Cw(l)}}}case"escaped":{const a=await Bl(t,{...i,altBoundary:!0}),l=kw(a,n.floating);return{data:{escapedOffsets:l,escaped:Cw(l)}}}default:return{}}}}},HS=new Set(["left","top"]);async function xI(e,t){const{placement:n,platform:s,elements:i}=e,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),l=js(n),d=va(n),u=Hr(n)==="y",f=HS.has(l)?-1:1,m=a&&u?-1:1,p=ws(t,e);let{mainAxis:y,crossAxis:v,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return d&&typeof b=="number"&&(v=d==="end"?b*-1:b),u?{x:v*m,y:y*f}:{x:y*f,y:v*m}}const yI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:a,placement:l,middlewareData:d}=t,u=await xI(t,e);return l===((n=d.offset)==null?void 0:n.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:l}}}}},vI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:d={fn:S=>{let{x:N,y:C}=S;return{x:N,y:C}}},...u}=ws(e,t),f={x:n,y:s},m=await Bl(t,u),p=Hr(js(i)),y=d0(p);let v=f[y],b=f[p];if(a){const S=y==="y"?"top":"left",N=y==="y"?"bottom":"right",C=v+m[S],A=v-m[N];v=$m(C,v,A)}if(l){const S=p==="y"?"top":"left",N=p==="y"?"bottom":"right",C=b+m[S],A=b-m[N];b=$m(C,b,A)}const j=d.fn({...t,[y]:v,[p]:b});return{...j,data:{x:j.x-n,y:j.y-s,enabled:{[y]:a,[p]:l}}}}}},bI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:a,middlewareData:l}=t,{offset:d=0,mainAxis:u=!0,crossAxis:f=!0}=ws(e,t),m={x:n,y:s},p=Hr(i),y=d0(p);let v=m[y],b=m[p];const j=ws(d,t),S=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(u){const A=y==="y"?"height":"width",E=a.reference[y]-a.floating[A]+S.mainAxis,_=a.reference[y]+a.reference[A]-S.mainAxis;v<E?v=E:v>_&&(v=_)}if(f){var N,C;const A=y==="y"?"width":"height",E=HS.has(js(i)),_=a.reference[p]-a.floating[A]+(E&&((N=l.offset)==null?void 0:N[p])||0)+(E?0:S.crossAxis),T=a.reference[p]+a.reference[A]+(E?0:((C=l.offset)==null?void 0:C[p])||0)-(E?S.crossAxis:0);b<_?b=_:b>T&&(b=T)}return{[y]:v,[p]:b}}}},wI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:a,platform:l,elements:d}=t,{apply:u=()=>{},...f}=ws(e,t),m=await Bl(t,f),p=js(i),y=va(i),v=Hr(i)==="y",{width:b,height:j}=a.floating;let S,N;p==="top"||p==="bottom"?(S=p,N=y===(await(l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(N=p,S=y==="end"?"top":"bottom");const C=j-m.top-m.bottom,A=b-m.left-m.right,E=Zs(j-m[S],C),_=Zs(b-m[N],A),T=!t.middlewareData.shift;let D=E,R=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=A),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(D=C),T&&!y){const G=Qn(m.left,0),ne=Qn(m.right,0),ie=Qn(m.top,0),oe=Qn(m.bottom,0);v?R=b-2*(G!==0||ne!==0?G+ne:Qn(m.left,m.right)):D=j-2*(ie!==0||oe!==0?ie+oe:Qn(m.top,m.bottom))}await u({...t,availableWidth:R,availableHeight:D});const V=await l.getDimensions(d.floating);return b!==V.width||j!==V.height?{reset:{rects:!0}}:{}}}};function Xu(){return typeof window<"u"}function ba(e){return qS(e)?(e.nodeName||"").toLowerCase():"#document"}function Zn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xr(e){var t;return(t=(qS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function qS(e){return Xu()?e instanceof Node||e instanceof Zn(e).Node:!1}function Tr(e){return Xu()?e instanceof Element||e instanceof Zn(e).Element:!1}function Yr(e){return Xu()?e instanceof HTMLElement||e instanceof Zn(e).HTMLElement:!1}function Ew(e){return!Xu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zn(e).ShadowRoot}const jI=new Set(["inline","contents"]);function sc(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=Pr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!jI.has(i)}const SI=new Set(["table","td","th"]);function NI(e){return SI.has(ba(e))}const kI=[":popover-open",":modal"];function Ju(e){return kI.some(t=>{try{return e.matches(t)}catch{return!1}})}const CI=["transform","translate","scale","rotate","perspective"],EI=["transform","translate","scale","rotate","perspective","filter"],AI=["paint","layout","strict","content"];function f0(e){const t=p0(),n=Tr(e)?Pr(e):e;return CI.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||EI.some(s=>(n.willChange||"").includes(s))||AI.some(s=>(n.contain||"").includes(s))}function _I(e){let t=ei(e);for(;Yr(t)&&!ca(t);){if(f0(t))return t;if(Ju(t))return null;t=ei(t)}return null}function p0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const TI=new Set(["html","body","#document"]);function ca(e){return TI.has(ba(e))}function Pr(e){return Zn(e).getComputedStyle(e)}function Zu(e){return Tr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ei(e){if(ba(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ew(e)&&e.host||Xr(e);return Ew(t)?t.host:t}function GS(e){const t=ei(e);return ca(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yr(t)&&sc(t)?t:GS(t)}function Ll(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=GS(e),a=i===((s=e.ownerDocument)==null?void 0:s.body),l=Zn(i);if(a){const d=Lm(l);return t.concat(l,l.visualViewport||[],sc(i)?i:[],d&&n?Ll(d):[])}return t.concat(i,Ll(i,[],n))}function Lm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function KS(e){const t=Pr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=Yr(e),a=i?e.offsetWidth:n,l=i?e.offsetHeight:s,d=ju(n)!==a||ju(s)!==l;return d&&(n=a,s=l),{width:n,height:s,$:d}}function m0(e){return Tr(e)?e:e.contextElement}function Yo(e){const t=m0(e);if(!Yr(t))return Kr(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:a}=KS(t);let l=(a?ju(n.width):n.width)/s,d=(a?ju(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const PI=Kr(0);function YS(e){const t=Zn(e);return!p0()||!t.visualViewport?PI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function RI(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Zn(e)?!1:t}function qi(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=m0(e);let l=Kr(1);t&&(s?Tr(s)&&(l=Yo(s)):l=Yo(e));const d=RI(a,n,s)?YS(a):Kr(0);let u=(i.left+d.x)/l.x,f=(i.top+d.y)/l.y,m=i.width/l.x,p=i.height/l.y;if(a){const y=Zn(a),v=s&&Tr(s)?Zn(s):s;let b=y,j=Lm(b);for(;j&&s&&v!==b;){const S=Yo(j),N=j.getBoundingClientRect(),C=Pr(j),A=N.left+(j.clientLeft+parseFloat(C.paddingLeft))*S.x,E=N.top+(j.clientTop+parseFloat(C.paddingTop))*S.y;u*=S.x,f*=S.y,m*=S.x,p*=S.y,u+=A,f+=E,b=Zn(j),j=Lm(b)}}return Nu({width:m,height:p,x:u,y:f})}function eh(e,t){const n=Zu(e).scrollLeft;return t?t.left+n:qi(Xr(e)).left+n}function QS(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-eh(e,n),i=n.top+t.scrollTop;return{x:s,y:i}}function DI(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const a=i==="fixed",l=Xr(s),d=t?Ju(t.floating):!1;if(s===l||d&&a)return n;let u={scrollLeft:0,scrollTop:0},f=Kr(1);const m=Kr(0),p=Yr(s);if((p||!p&&!a)&&((ba(s)!=="body"||sc(l))&&(u=Zu(s)),Yr(s))){const v=qi(s);f=Yo(s),m.x=v.x+s.clientLeft,m.y=v.y+s.clientTop}const y=l&&!p&&!a?QS(l,u):Kr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+m.x+y.x,y:n.y*f.y-u.scrollTop*f.y+m.y+y.y}}function OI(e){return Array.from(e.getClientRects())}function II(e){const t=Xr(e),n=Zu(e),s=e.ownerDocument.body,i=Qn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=Qn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let l=-n.scrollLeft+eh(e);const d=-n.scrollTop;return Pr(s).direction==="rtl"&&(l+=Qn(t.clientWidth,s.clientWidth)-i),{width:i,height:a,x:l,y:d}}const Aw=25;function FI(e,t){const n=Zn(e),s=Xr(e),i=n.visualViewport;let a=s.clientWidth,l=s.clientHeight,d=0,u=0;if(i){a=i.width,l=i.height;const m=p0();(!m||m&&t==="fixed")&&(d=i.offsetLeft,u=i.offsetTop)}const f=eh(s);if(f<=0){const m=s.ownerDocument,p=m.body,y=getComputedStyle(p),v=m.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,b=Math.abs(s.clientWidth-p.clientWidth-v);b<=Aw&&(a-=b)}else f<=Aw&&(a+=f);return{width:a,height:l,x:d,y:u}}const MI=new Set(["absolute","fixed"]);function $I(e,t){const n=qi(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,a=Yr(e)?Yo(e):Kr(1),l=e.clientWidth*a.x,d=e.clientHeight*a.y,u=i*a.x,f=s*a.y;return{width:l,height:d,x:u,y:f}}function _w(e,t,n){let s;if(t==="viewport")s=FI(e,n);else if(t==="document")s=II(Xr(e));else if(Tr(t))s=$I(t,n);else{const i=YS(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Nu(s)}function XS(e,t){const n=ei(e);return n===t||!Tr(n)||ca(n)?!1:Pr(n).position==="fixed"||XS(n,t)}function BI(e,t){const n=t.get(e);if(n)return n;let s=Ll(e,[],!1).filter(d=>Tr(d)&&ba(d)!=="body"),i=null;const a=Pr(e).position==="fixed";let l=a?ei(e):e;for(;Tr(l)&&!ca(l);){const d=Pr(l),u=f0(l);!u&&d.position==="fixed"&&(i=null),(a?!u&&!i:!u&&d.position==="static"&&!!i&&MI.has(i.position)||sc(l)&&!u&&XS(e,l))?s=s.filter(m=>m!==l):i=d,l=ei(l)}return t.set(e,s),s}function LI(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const l=[...n==="clippingAncestors"?Ju(t)?[]:BI(t,this._c):[].concat(n),s],d=l[0],u=l.reduce((f,m)=>{const p=_w(t,m,i);return f.top=Qn(p.top,f.top),f.right=Zs(p.right,f.right),f.bottom=Zs(p.bottom,f.bottom),f.left=Qn(p.left,f.left),f},_w(t,d,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function zI(e){const{width:t,height:n}=KS(e);return{width:t,height:n}}function WI(e,t,n){const s=Yr(t),i=Xr(t),a=n==="fixed",l=qi(e,!0,a,t);let d={scrollLeft:0,scrollTop:0};const u=Kr(0);function f(){u.x=eh(i)}if(s||!s&&!a)if((ba(t)!=="body"||sc(i))&&(d=Zu(t)),s){const v=qi(t,!0,a,t);u.x=v.x+t.clientLeft,u.y=v.y+t.clientTop}else i&&f();a&&!s&&i&&f();const m=i&&!s&&!a?QS(i,d):Kr(0),p=l.left+d.scrollLeft-u.x-m.x,y=l.top+d.scrollTop-u.y-m.y;return{x:p,y,width:l.width,height:l.height}}function kp(e){return Pr(e).position==="static"}function Tw(e,t){if(!Yr(e)||Pr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Xr(e)===n&&(n=n.ownerDocument.body),n}function JS(e,t){const n=Zn(e);if(Ju(e))return n;if(!Yr(e)){let i=ei(e);for(;i&&!ca(i);){if(Tr(i)&&!kp(i))return i;i=ei(i)}return n}let s=Tw(e,t);for(;s&&NI(s)&&kp(s);)s=Tw(s,t);return s&&ca(s)&&kp(s)&&!f0(s)?n:s||_I(e)||n}const VI=async function(e){const t=this.getOffsetParent||JS,n=this.getDimensions,s=await n(e.floating);return{reference:WI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function UI(e){return Pr(e).direction==="rtl"}const HI={convertOffsetParentRelativeRectToViewportRelativeRect:DI,getDocumentElement:Xr,getClippingRect:LI,getOffsetParent:JS,getElementRects:VI,getClientRects:OI,getDimensions:zI,getScale:Yo,isElement:Tr,isRTL:UI};function ZS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qI(e,t){let n=null,s;const i=Xr(e);function a(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function l(d,u){d===void 0&&(d=!1),u===void 0&&(u=1),a();const f=e.getBoundingClientRect(),{left:m,top:p,width:y,height:v}=f;if(d||t(),!y||!v)return;const b=kd(p),j=kd(i.clientWidth-(m+y)),S=kd(i.clientHeight-(p+v)),N=kd(m),A={rootMargin:-b+"px "+-j+"px "+-S+"px "+-N+"px",threshold:Qn(0,Zs(1,u))||1};let E=!0;function _(T){const D=T[0].intersectionRatio;if(D!==u){if(!E)return l();D?l(!1,D):s=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!ZS(f,e.getBoundingClientRect())&&l(),E=!1}try{n=new IntersectionObserver(_,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,A)}n.observe(e)}return l(!0),a}function GI(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:u=!1}=s,f=m0(e),m=i||a?[...f?Ll(f):[],...Ll(t)]:[];m.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const p=f&&d?qI(f,n):null;let y=-1,v=null;l&&(v=new ResizeObserver(N=>{let[C]=N;C&&C.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var A;(A=v)==null||A.observe(t)})),n()}),f&&!u&&v.observe(f),v.observe(t));let b,j=u?qi(e):null;u&&S();function S(){const N=qi(e);j&&!ZS(j,N)&&n(),j=N,b=requestAnimationFrame(S)}return n(),()=>{var N;m.forEach(C=>{i&&C.removeEventListener("scroll",n),a&&C.removeEventListener("resize",n)}),p?.(),(N=v)==null||N.disconnect(),v=null,u&&cancelAnimationFrame(b)}}const KI=yI,YI=vI,QI=mI,XI=wI,JI=gI,Pw=pI,ZI=bI,eF=(e,t,n)=>{const s=new Map,i={platform:HI,...n},a={...i.platform,_c:s};return fI(e,t,{...i,platform:a})};var tF=typeof document<"u",nF=function(){},eu=tF?g.useLayoutEffect:nF;function ku(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!ku(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!ku(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function eN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Rw(e,t){const n=eN(e);return Math.round(t*n)/n}function Cp(e){const t=g.useRef(e);return eu(()=>{t.current=e}),t}function rF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:l}={},transform:d=!0,whileElementsMounted:u,open:f}=e,[m,p]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,v]=g.useState(s);ku(y,s)||v(s);const[b,j]=g.useState(null),[S,N]=g.useState(null),C=g.useCallback(O=>{O!==T.current&&(T.current=O,j(O))},[]),A=g.useCallback(O=>{O!==D.current&&(D.current=O,N(O))},[]),E=a||b,_=l||S,T=g.useRef(null),D=g.useRef(null),R=g.useRef(m),V=u!=null,G=Cp(u),ne=Cp(i),ie=Cp(f),oe=g.useCallback(()=>{if(!T.current||!D.current)return;const O={placement:t,strategy:n,middleware:y};ne.current&&(O.platform=ne.current),eF(T.current,D.current,O).then($=>{const q={...$,isPositioned:ie.current!==!1};Z.current&&!ku(R.current,q)&&(R.current=q,Ar.flushSync(()=>{p(q)}))})},[y,t,n,ne,ie]);eu(()=>{f===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,p(O=>({...O,isPositioned:!1})))},[f]);const Z=g.useRef(!1);eu(()=>(Z.current=!0,()=>{Z.current=!1}),[]),eu(()=>{if(E&&(T.current=E),_&&(D.current=_),E&&_){if(G.current)return G.current(E,_,oe);oe()}},[E,_,oe,G,V]);const F=g.useMemo(()=>({reference:T,floating:D,setReference:C,setFloating:A}),[C,A]),z=g.useMemo(()=>({reference:E,floating:_}),[E,_]),B=g.useMemo(()=>{const O={position:n,left:0,top:0};if(!z.floating)return O;const $=Rw(z.floating,m.x),q=Rw(z.floating,m.y);return d?{...O,transform:"translate("+$+"px, "+q+"px)",...eN(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:q}},[n,d,z.floating,m.x,m.y]);return g.useMemo(()=>({...m,update:oe,refs:F,elements:z,floatingStyles:B}),[m,oe,F,z,B])}const sF=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Pw({element:s.current,padding:i}).fn(n):{}:s?Pw({element:s,padding:i}).fn(n):{}}}},iF=(e,t)=>({...KI(e),options:[e,t]}),oF=(e,t)=>({...YI(e),options:[e,t]}),aF=(e,t)=>({...ZI(e),options:[e,t]}),lF=(e,t)=>({...QI(e),options:[e,t]}),cF=(e,t)=>({...XI(e),options:[e,t]}),dF=(e,t)=>({...JI(e),options:[e,t]}),uF=(e,t)=>({...sF(e),options:[e,t]});var hF="Arrow",tN=g.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...a}=e;return r.jsx(Ct.svg,{...a,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});tN.displayName=hF;var fF=tN;function pF(e){const[t,n]=g.useState(void 0);return An(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,d;if("borderBoxSize"in a){const u=a.borderBoxSize,f=Array.isArray(u)?u[0]:u;l=f.inlineSize,d=f.blockSize}else l=e.offsetWidth,d=e.offsetHeight;n({width:l,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var g0="Popper",[nN,th]=rc(g0),[mF,rN]=nN(g0),sN=e=>{const{__scopePopper:t,children:n}=e,[s,i]=g.useState(null);return r.jsx(mF,{scope:t,anchor:s,onAnchorChange:i,children:n})};sN.displayName=g0;var iN="PopperAnchor",oN=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,a=rN(iN,n),l=g.useRef(null),d=Lt(t,l),u=g.useRef(null);return g.useEffect(()=>{const f=u.current;u.current=s?.current||l.current,f!==u.current&&a.onAnchorChange(u.current)}),s?null:r.jsx(Ct.div,{...i,ref:d})});oN.displayName=iN;var x0="PopperContent",[gF,xF]=nN(x0),aN=g.forwardRef((e,t)=>{const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:y=!1,updatePositionStrategy:v="optimized",onPlaced:b,...j}=e,S=rN(x0,n),[N,C]=g.useState(null),A=Lt(t,Y=>C(Y)),[E,_]=g.useState(null),T=pF(E),D=T?.width??0,R=T?.height??0,V=s+(a!=="center"?"-"+a:""),G=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},ne=Array.isArray(f)?f:[f],ie=ne.length>0,oe={padding:G,boundary:ne.filter(vF),altBoundary:ie},{refs:Z,floatingStyles:F,placement:z,isPositioned:B,middlewareData:O}=rF({strategy:"fixed",placement:V,whileElementsMounted:(...Y)=>GI(...Y,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[iF({mainAxis:i+R,alignmentAxis:l}),u&&oF({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?aF():void 0,...oe}),u&&lF({...oe}),cF({...oe,apply:({elements:Y,rects:le,availableWidth:fe,availableHeight:ue})=>{const{width:Se,height:Pe}=le.reference,Ye=Y.floating.style;Ye.setProperty("--radix-popper-available-width",`${fe}px`),Ye.setProperty("--radix-popper-available-height",`${ue}px`),Ye.setProperty("--radix-popper-anchor-width",`${Se}px`),Ye.setProperty("--radix-popper-anchor-height",`${Pe}px`)}}),E&&uF({element:E,padding:d}),bF({arrowWidth:D,arrowHeight:R}),y&&dF({strategy:"referenceHidden",...oe})]}),[$,q]=dN(z),M=Hi(b);An(()=>{B&&M?.()},[B,M]);const W=O.arrow?.x,L=O.arrow?.y,K=O.arrow?.centerOffset!==0,[U,ee]=g.useState();return An(()=>{N&&ee(window.getComputedStyle(N).zIndex)},[N]),r.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:B?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(gF,{scope:n,placedSide:$,onArrowChange:_,arrowX:W,arrowY:L,shouldHideArrow:K,children:r.jsx(Ct.div,{"data-side":$,"data-align":q,...j,ref:A,style:{...j.style,animation:B?void 0:"none"}})})})});aN.displayName=x0;var lN="PopperArrow",yF={top:"bottom",right:"left",bottom:"top",left:"right"},cN=g.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,a=xF(lN,s),l=yF[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(fF,{...i,ref:n,style:{...i.style,display:"block"}})})});cN.displayName=lN;function vF(e){return e!==null}var bF=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:s,middlewareData:i}=t,l=i.arrow?.centerOffset!==0,d=l?0:e.arrowWidth,u=l?0:e.arrowHeight,[f,m]=dN(n),p={start:"0%",center:"50%",end:"100%"}[m],y=(i.arrow?.x??0)+d/2,v=(i.arrow?.y??0)+u/2;let b="",j="";return f==="bottom"?(b=l?p:`${y}px`,j=`${-u}px`):f==="top"?(b=l?p:`${y}px`,j=`${s.floating.height+u}px`):f==="right"?(b=`${-u}px`,j=l?p:`${v}px`):f==="left"&&(b=`${s.floating.width+u}px`,j=l?p:`${v}px`),{data:{x:b,y:j}}}});function dN(e){const[t,n="center"]=e.split("-");return[t,n]}var uN=sN,y0=oN,hN=aN,fN=cN,wF="Portal",nh=g.forwardRef((e,t)=>{const{container:n,...s}=e,[i,a]=g.useState(!1);An(()=>a(!0),[]);const l=n||i&&globalThis?.document?.body;return l?Ej.createPortal(r.jsx(Ct.div,{...s,ref:t}),l):null});nh.displayName=wF;function jF(e){const t=SF(e),n=g.forwardRef((s,i)=>{const{children:a,...l}=s,d=g.Children.toArray(a),u=d.find(kF);if(u){const f=u.props.children,m=d.map(p=>p===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:p);return r.jsx(t,{...l,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,m):null})}return r.jsx(t,{...l,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function SF(e){const t=g.forwardRef((n,s)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const l=EF(i),d=CF(a,i.props);return i.type!==g.Fragment&&(d.ref=s?Ji(s,l):l),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var NF=Symbol("radix.slottable");function kF(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===NF}function CF(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function EF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var AF=yg[" useInsertionEffect ".trim().toString()]||An;function Cu({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,a,l]=_F({defaultProp:t,onChange:n}),d=e!==void 0,u=d?e:i;{const m=g.useRef(e!==void 0);g.useEffect(()=>{const p=m.current;p!==d&&console.warn(`${s} is changing from ${p?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=d},[d,s])}const f=g.useCallback(m=>{if(d){const p=TF(m)?m(e):m;p!==e&&l.current?.(p)}else a(m)},[d,e,a,l]);return[u,f]}function _F({defaultProp:e,onChange:t}){const[n,s]=g.useState(e),i=g.useRef(n),a=g.useRef(t);return AF(()=>{a.current=t},[t]),g.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,s,a]}function TF(e){return typeof e=="function"}function PF(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var pN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),RF="VisuallyHidden",DF=g.forwardRef((e,t)=>r.jsx(Ct.span,{...e,ref:t,style:{...pN,...e.style}}));DF.displayName=RF;var OF=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},No=new WeakMap,Cd=new WeakMap,Ed={},Ep=0,mN=function(e){return e&&(e.host||mN(e.parentNode))},IF=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=mN(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},FF=function(e,t,n,s){var i=IF(t,Array.isArray(e)?e:[e]);Ed[n]||(Ed[n]=new WeakMap);var a=Ed[n],l=[],d=new Set,u=new Set(i),f=function(p){!p||d.has(p)||(d.add(p),f(p.parentNode))};i.forEach(f);var m=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(y){if(d.has(y))m(y);else try{var v=y.getAttribute(s),b=v!==null&&v!=="false",j=(No.get(y)||0)+1,S=(a.get(y)||0)+1;No.set(y,j),a.set(y,S),l.push(y),j===1&&b&&Cd.set(y,!0),S===1&&y.setAttribute(n,"true"),b||y.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",y,N)}})};return m(t),d.clear(),Ep++,function(){l.forEach(function(p){var y=No.get(p)-1,v=a.get(p)-1;No.set(p,y),a.set(p,v),y||(Cd.has(p)||p.removeAttribute(s),Cd.delete(p)),v||p.removeAttribute(n)}),Ep--,Ep||(No=new WeakMap,No=new WeakMap,Cd=new WeakMap,Ed={})}},v0=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=OF(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),FF(s,i,n,"aria-hidden")):function(){return null}},zm=function(e,t){return zm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},zm(e,t)};function gN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zm(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ur=function(){return ur=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ur.apply(this,arguments)};function si(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function xN(e,t,n,s){var i=arguments.length,a=i<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,s);else for(var d=e.length-1;d>=0;d--)(l=e[d])&&(a=(i<3?l(a):i>3?l(t,n,a):l(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function yN(e,t){return function(n,s){t(n,s,e)}}function vN(e,t,n,s,i,a){function l(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var d=s.kind,u=d==="getter"?"get":d==="setter"?"set":"value",f=!t&&e?s.static?e:e.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,s.name):{}),p,y=!1,v=n.length-1;v>=0;v--){var b={};for(var j in s)b[j]=j==="access"?{}:s[j];for(var j in s.access)b.access[j]=s.access[j];b.addInitializer=function(N){if(y)throw new TypeError("Cannot add initializers after decoration has completed");a.push(l(N||null))};var S=(0,n[v])(d==="accessor"?{get:m.get,set:m.set}:m[u],b);if(d==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(p=l(S.get))&&(m.get=p),(p=l(S.set))&&(m.set=p),(p=l(S.init))&&i.unshift(p)}else(p=l(S))&&(d==="field"?i.unshift(p):m[u]=p)}f&&Object.defineProperty(f,s.name,m),y=!0}function bN(e,t,n){for(var s=arguments.length>2,i=0;i<t.length;i++)n=s?t[i].call(e,n):t[i].call(e);return s?n:void 0}function wN(e){return typeof e=="symbol"?e:"".concat(e)}function jN(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function SN(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function He(e,t,n,s){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(m){try{f(s.next(m))}catch(p){l(p)}}function u(m){try{f(s.throw(m))}catch(p){l(p)}}function f(m){m.done?a(m.value):i(m.value).then(d,u)}f((s=s.apply(e,t||[])).next())})}function NN(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=d(0),l.throw=d(1),l.return=d(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(f){return function(m){return u([f,m])}}function u(f){if(s)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(n=0)),n;)try{if(s=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{s=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var rh=Object.create?(function(e,t,n,s){s===void 0&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}):(function(e,t,n,s){s===void 0&&(s=n),e[s]=t[n]});function kN(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&rh(t,e,n)}function Eu(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b0(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),i,a=[],l;try{for(;(t===void 0||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(d){l={error:d}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(l)throw l.error}}return a}function CN(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b0(arguments[t]));return e}function EN(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var s=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],l=0,d=a.length;l<d;l++,i++)s[i]=a[l];return s}function w0(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}function da(e){return this instanceof da?(this.v=e,this):new da(e)}function AN(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(v){return function(b){return Promise.resolve(b).then(v,p)}}function d(v,b){s[v]&&(i[v]=function(j){return new Promise(function(S,N){a.push([v,j,S,N])>1||u(v,j)})},b&&(i[v]=b(i[v])))}function u(v,b){try{f(s[v](b))}catch(j){y(a[0][3],j)}}function f(v){v.value instanceof da?Promise.resolve(v.value.v).then(m,p):y(a[0][2],v)}function m(v){u("next",v)}function p(v){u("throw",v)}function y(v,b){v(b),a.shift(),a.length&&u(a[0][0],a[0][1])}}function _N(e){var t,n;return t={},s("next"),s("throw",function(i){throw i}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(i,a){t[i]=e[i]?function(l){return(n=!n)?{value:da(e[i](l)),done:!1}:a?a(l):l}:a}}function TN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Eu=="function"?Eu(e):e[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(a){n[a]=e[a]&&function(l){return new Promise(function(d,u){l=e[a](l),i(d,u,l.done,l.value)})}}function i(a,l,d,u){Promise.resolve(u).then(function(f){a({value:f,done:d})},l)}}function PN(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var MF=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Wm=function(e){return Wm=Object.getOwnPropertyNames||function(t){var n=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[n.length]=s);return n},Wm(e)};function RN(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Wm(e),s=0;s<n.length;s++)n[s]!=="default"&&rh(t,e,n[s]);return MF(t,e),t}function DN(e){return e&&e.__esModule?e:{default:e}}function ON(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)}function IN(e,t,n,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function FN(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function MN(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var s,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=t[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=t[Symbol.dispose],n&&(i=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");i&&(s=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:s,async:n})}else n&&e.stack.push({async:!0});return t}var $F=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var s=new Error(n);return s.name="SuppressedError",s.error=e,s.suppressed=t,s};function $N(e){function t(a){e.error=e.hasError?new $F(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,s=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&s===1)return s=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return s|=2,Promise.resolve(a).then(i,function(l){return t(l),i()})}else s|=1}catch(l){t(l)}if(s===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function BN(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,s,i,a,l){return s?t?".jsx":".js":i&&(!a||!l)?n:i+a+"."+l.toLowerCase()+"js"}):e}const BF={__extends:gN,__assign:ur,__rest:si,__decorate:xN,__param:yN,__esDecorate:vN,__runInitializers:bN,__propKey:wN,__setFunctionName:jN,__metadata:SN,__awaiter:He,__generator:NN,__createBinding:rh,__exportStar:kN,__values:Eu,__read:b0,__spread:CN,__spreadArrays:EN,__spreadArray:w0,__await:da,__asyncGenerator:AN,__asyncDelegator:_N,__asyncValues:TN,__makeTemplateObject:PN,__importStar:RN,__importDefault:DN,__classPrivateFieldGet:ON,__classPrivateFieldSet:IN,__classPrivateFieldIn:FN,__addDisposableResource:MN,__disposeResources:$N,__rewriteRelativeImportExtension:BN},LF=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:MN,get __assign(){return ur},__asyncDelegator:_N,__asyncGenerator:AN,__asyncValues:TN,__await:da,__awaiter:He,__classPrivateFieldGet:ON,__classPrivateFieldIn:FN,__classPrivateFieldSet:IN,__createBinding:rh,__decorate:xN,__disposeResources:$N,__esDecorate:vN,__exportStar:kN,__extends:gN,__generator:NN,__importDefault:DN,__importStar:RN,__makeTemplateObject:PN,__metadata:SN,__param:yN,__propKey:wN,__read:b0,__rest:si,__rewriteRelativeImportExtension:BN,__runInitializers:bN,__setFunctionName:jN,__spread:CN,__spreadArray:w0,__spreadArrays:EN,__values:Eu,default:BF},Symbol.toStringTag,{value:"Module"}));var tu="right-scroll-bar-position",nu="width-before-scroll-bar",zF="with-scroll-bars-hidden",WF="--removed-body-scroll-bar-size";function Ap(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function VF(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var UF=typeof window<"u"?g.useLayoutEffect:g.useEffect,Dw=new WeakMap;function HF(e,t){var n=VF(null,function(s){return e.forEach(function(i){return Ap(i,s)})});return UF(function(){var s=Dw.get(n);if(s){var i=new Set(s),a=new Set(e),l=n.current;i.forEach(function(d){a.has(d)||Ap(d,null)}),a.forEach(function(d){i.has(d)||Ap(d,l)})}Dw.set(n,e)},[e]),n}function qF(e){return e}function GF(e,t){t===void 0&&(t=qF);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var l=t(a,s);return n.push(l),function(){n=n.filter(function(d){return d!==l})}},assignSyncMedium:function(a){for(s=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){s=!0;var l=[];if(n.length){var d=n;n=[],d.forEach(a),l=n}var u=function(){var m=l;l=[],m.forEach(a)},f=function(){return Promise.resolve().then(u)};f(),n={push:function(m){l.push(m),f()},filter:function(m){return l=l.filter(m),n}}}};return i}function KF(e){e===void 0&&(e={});var t=GF(null);return t.options=ur({async:!0,ssr:!1},e),t}var LN=function(e){var t=e.sideCar,n=si(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return g.createElement(s,ur({},n))};LN.isSideCarExport=!0;function YF(e,t){return e.useMedium(t),LN}var zN=KF(),_p=function(){},sh=g.forwardRef(function(e,t){var n=g.useRef(null),s=g.useState({onScrollCapture:_p,onWheelCapture:_p,onTouchMoveCapture:_p}),i=s[0],a=s[1],l=e.forwardProps,d=e.children,u=e.className,f=e.removeScrollBar,m=e.enabled,p=e.shards,y=e.sideCar,v=e.noRelative,b=e.noIsolation,j=e.inert,S=e.allowPinchZoom,N=e.as,C=N===void 0?"div":N,A=e.gapMode,E=si(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=y,T=HF([n,t]),D=ur(ur({},E),i);return g.createElement(g.Fragment,null,m&&g.createElement(_,{sideCar:zN,removeScrollBar:f,shards:p,noRelative:v,noIsolation:b,inert:j,setCallbacks:a,allowPinchZoom:!!S,lockRef:n,gapMode:A}),l?g.cloneElement(g.Children.only(d),ur(ur({},D),{ref:T})):g.createElement(C,ur({},D,{className:u,ref:T}),d))});sh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sh.classNames={fullWidth:nu,zeroRight:tu};var QF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=QF();return t&&e.setAttribute("nonce",t),e}function JF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ZF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var eM=function(){var e=0,t=null;return{add:function(n){e==0&&(t=XF())&&(JF(t,n),ZF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},tM=function(){var e=eM();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},WN=function(){var e=tM(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},nM={left:0,top:0,right:0,gap:0},Tp=function(e){return parseInt(e||"",10)||0},rM=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Tp(n),Tp(s),Tp(i)]},sM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nM;var t=rM(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},iM=WN(),Qo="data-scroll-locked",oM=function(e,t,n,s){var i=e.left,a=e.top,l=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(zF,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Qo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tu,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(nu,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(tu," .").concat(tu,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(nu," .").concat(nu,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Qo,`] {
    `).concat(WF,": ").concat(d,`px;
  }
`)},Ow=function(){var e=parseInt(document.body.getAttribute(Qo)||"0",10);return isFinite(e)?e:0},aM=function(){g.useEffect(function(){return document.body.setAttribute(Qo,(Ow()+1).toString()),function(){var e=Ow()-1;e<=0?document.body.removeAttribute(Qo):document.body.setAttribute(Qo,e.toString())}},[])},lM=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;aM();var a=g.useMemo(function(){return sM(i)},[i]);return g.createElement(iM,{styles:oM(a,!t,i,n?"":"!important")})},Vm=!1;if(typeof window<"u")try{var Ad=Object.defineProperty({},"passive",{get:function(){return Vm=!0,!0}});window.addEventListener("test",Ad,Ad),window.removeEventListener("test",Ad,Ad)}catch{Vm=!1}var ko=Vm?{passive:!1}:!1,cM=function(e){return e.tagName==="TEXTAREA"},VN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!cM(e)&&n[t]==="visible")},dM=function(e){return VN(e,"overflowY")},uM=function(e){return VN(e,"overflowX")},Iw=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=UN(e,s);if(i){var a=HN(e,s),l=a[1],d=a[2];if(l>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},hM=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},fM=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},UN=function(e,t){return e==="v"?dM(t):uM(t)},HN=function(e,t){return e==="v"?hM(t):fM(t)},pM=function(e,t){return e==="h"&&t==="rtl"?-1:1},mM=function(e,t,n,s,i){var a=pM(e,window.getComputedStyle(t).direction),l=a*s,d=n.target,u=t.contains(d),f=!1,m=l>0,p=0,y=0;do{if(!d)break;var v=HN(e,d),b=v[0],j=v[1],S=v[2],N=j-S-a*b;(b||N)&&UN(e,d)&&(p+=N,y+=b);var C=d.parentNode;d=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!u&&d!==document.body||u&&(t.contains(d)||t===d));return(m&&Math.abs(p)<1||!m&&Math.abs(y)<1)&&(f=!0),f},_d=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Fw=function(e){return[e.deltaX,e.deltaY]},Mw=function(e){return e&&"current"in e?e.current:e},gM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},xM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},yM=0,Co=[];function vM(e){var t=g.useRef([]),n=g.useRef([0,0]),s=g.useRef(),i=g.useState(yM++)[0],a=g.useState(WN)[0],l=g.useRef(e);g.useEffect(function(){l.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var j=w0([e.lockRef.current],(e.shards||[]).map(Mw),!0).filter(Boolean);return j.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),j.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var d=g.useCallback(function(j,S){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!l.current.allowPinchZoom;var N=_d(j),C=n.current,A="deltaX"in j?j.deltaX:C[0]-N[0],E="deltaY"in j?j.deltaY:C[1]-N[1],_,T=j.target,D=Math.abs(A)>Math.abs(E)?"h":"v";if("touches"in j&&D==="h"&&T.type==="range")return!1;var R=Iw(D,T);if(!R)return!0;if(R?_=D:(_=D==="v"?"h":"v",R=Iw(D,T)),!R)return!1;if(!s.current&&"changedTouches"in j&&(A||E)&&(s.current=_),!_)return!0;var V=s.current||_;return mM(V,S,j,V==="h"?A:E)},[]),u=g.useCallback(function(j){var S=j;if(!(!Co.length||Co[Co.length-1]!==a)){var N="deltaY"in S?Fw(S):_d(S),C=t.current.filter(function(_){return _.name===S.type&&(_.target===S.target||S.target===_.shadowParent)&&gM(_.delta,N)})[0];if(C&&C.should){S.cancelable&&S.preventDefault();return}if(!C){var A=(l.current.shards||[]).map(Mw).filter(Boolean).filter(function(_){return _.contains(S.target)}),E=A.length>0?d(S,A[0]):!l.current.noIsolation;E&&S.cancelable&&S.preventDefault()}}},[]),f=g.useCallback(function(j,S,N,C){var A={name:j,delta:S,target:N,should:C,shadowParent:bM(N)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(E){return E!==A})},1)},[]),m=g.useCallback(function(j){n.current=_d(j),s.current=void 0},[]),p=g.useCallback(function(j){f(j.type,Fw(j),j.target,d(j,e.lockRef.current))},[]),y=g.useCallback(function(j){f(j.type,_d(j),j.target,d(j,e.lockRef.current))},[]);g.useEffect(function(){return Co.push(a),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:y}),document.addEventListener("wheel",u,ko),document.addEventListener("touchmove",u,ko),document.addEventListener("touchstart",m,ko),function(){Co=Co.filter(function(j){return j!==a}),document.removeEventListener("wheel",u,ko),document.removeEventListener("touchmove",u,ko),document.removeEventListener("touchstart",m,ko)}},[]);var v=e.removeScrollBar,b=e.inert;return g.createElement(g.Fragment,null,b?g.createElement(a,{styles:xM(i)}):null,v?g.createElement(lM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function bM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const wM=YF(zN,vM);var ih=g.forwardRef(function(e,t){return g.createElement(sh,ur({},e,{ref:t,sideCar:wM}))});ih.classNames=sh.classNames;var jM=[" ","Enter","ArrowUp","ArrowDown"],SM=[" ","Enter"],Gi="Select",[oh,ah,NM]=AO(Gi),[wa]=rc(Gi,[NM,th]),lh=th(),[kM,ii]=wa(Gi),[CM,EM]=wa(Gi),qN=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:a,value:l,defaultValue:d,onValueChange:u,dir:f,name:m,autoComplete:p,disabled:y,required:v,form:b}=e,j=lh(t),[S,N]=g.useState(null),[C,A]=g.useState(null),[E,_]=g.useState(!1),T=TO(f),[D,R]=Cu({prop:s,defaultProp:i??!1,onChange:a,caller:Gi}),[V,G]=Cu({prop:l,defaultProp:d,onChange:u,caller:Gi}),ne=g.useRef(null),ie=S?b||!!S.closest("form"):!0,[oe,Z]=g.useState(new Set),F=Array.from(oe).map(z=>z.props.value).join(";");return r.jsx(uN,{...j,children:r.jsxs(kM,{required:v,scope:t,trigger:S,onTriggerChange:N,valueNode:C,onValueNodeChange:A,valueNodeHasChildren:E,onValueNodeHasChildrenChange:_,contentId:Vi(),value:V,onValueChange:G,open:D,onOpenChange:R,dir:T,triggerPointerDownPosRef:ne,disabled:y,children:[r.jsx(oh.Provider,{scope:t,children:r.jsx(CM,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(z=>{Z(B=>new Set(B).add(z))},[]),onNativeOptionRemove:g.useCallback(z=>{Z(B=>{const O=new Set(B);return O.delete(z),O})},[]),children:n})}),ie?r.jsxs(pk,{"aria-hidden":!0,required:v,tabIndex:-1,name:m,autoComplete:p,value:V,onChange:z=>G(z.target.value),disabled:y,form:b,children:[V===void 0?r.jsx("option",{value:""}):null,Array.from(oe)]},F):null]})})};qN.displayName=Gi;var GN="SelectTrigger",KN=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,a=lh(n),l=ii(GN,n),d=l.disabled||s,u=Lt(t,l.onTriggerChange),f=ah(n),m=g.useRef("touch"),[p,y,v]=gk(j=>{const S=f().filter(A=>!A.disabled),N=S.find(A=>A.value===l.value),C=xk(S,j,N);C!==void 0&&l.onValueChange(C.value)}),b=j=>{d||(l.onOpenChange(!0),v()),j&&(l.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return r.jsx(y0,{asChild:!0,...a,children:r.jsx(Ct.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":mk(l.value)?"":void 0,...i,ref:u,onClick:Nt(i.onClick,j=>{j.currentTarget.focus(),m.current!=="mouse"&&b(j)}),onPointerDown:Nt(i.onPointerDown,j=>{m.current=j.pointerType;const S=j.target;S.hasPointerCapture(j.pointerId)&&S.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(b(j),j.preventDefault())}),onKeyDown:Nt(i.onKeyDown,j=>{const S=p.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&y(j.key),!(S&&j.key===" ")&&jM.includes(j.key)&&(b(),j.preventDefault())})})})});KN.displayName=GN;var YN="SelectValue",QN=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:a,placeholder:l="",...d}=e,u=ii(YN,n),{onValueNodeHasChildrenChange:f}=u,m=a!==void 0,p=Lt(t,u.onValueNodeChange);return An(()=>{f(m)},[f,m]),r.jsx(Ct.span,{...d,ref:p,style:{pointerEvents:"none"},children:mk(u.value)?r.jsx(r.Fragment,{children:l}):a})});QN.displayName=YN;var AM="SelectIcon",XN=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return r.jsx(Ct.span,{"aria-hidden":!0,...i,ref:t,children:s||""})});XN.displayName=AM;var _M="SelectPortal",JN=e=>r.jsx(nh,{asChild:!0,...e});JN.displayName=_M;var Ki="SelectContent",ZN=g.forwardRef((e,t)=>{const n=ii(Ki,e.__scopeSelect),[s,i]=g.useState();if(An(()=>{i(new DocumentFragment)},[]),!n.open){const a=s;return a?Ar.createPortal(r.jsx(ek,{scope:e.__scopeSelect,children:r.jsx(oh.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(tk,{...e,ref:t})});ZN.displayName=Ki;var Cr=10,[ek,oi]=wa(Ki),TM="SelectContentImpl",PM=jF("SelectContent.RemoveScroll"),tk=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:d,sideOffset:u,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:y,collisionPadding:v,sticky:b,hideWhenDetached:j,avoidCollisions:S,...N}=e,C=ii(Ki,n),[A,E]=g.useState(null),[_,T]=g.useState(null),D=Lt(t,Y=>E(Y)),[R,V]=g.useState(null),[G,ne]=g.useState(null),ie=ah(n),[oe,Z]=g.useState(!1),F=g.useRef(!1);g.useEffect(()=>{if(A)return v0(A)},[A]),c0();const z=g.useCallback(Y=>{const[le,...fe]=ie().map(Pe=>Pe.ref.current),[ue]=fe.slice(-1),Se=document.activeElement;for(const Pe of Y)if(Pe===Se||(Pe?.scrollIntoView({block:"nearest"}),Pe===le&&_&&(_.scrollTop=0),Pe===ue&&_&&(_.scrollTop=_.scrollHeight),Pe?.focus(),document.activeElement!==Se))return},[ie,_]),B=g.useCallback(()=>z([R,A]),[z,R,A]);g.useEffect(()=>{oe&&B()},[oe,B]);const{onOpenChange:O,triggerPointerDownPosRef:$}=C;g.useEffect(()=>{if(A){let Y={x:0,y:0};const le=ue=>{Y={x:Math.abs(Math.round(ue.pageX)-($.current?.x??0)),y:Math.abs(Math.round(ue.pageY)-($.current?.y??0))}},fe=ue=>{Y.x<=10&&Y.y<=10?ue.preventDefault():A.contains(ue.target)||O(!1),document.removeEventListener("pointermove",le),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",fe,{capture:!0})}}},[A,O,$]),g.useEffect(()=>{const Y=()=>O(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[O]);const[q,M]=gk(Y=>{const le=ie().filter(Se=>!Se.disabled),fe=le.find(Se=>Se.ref.current===document.activeElement),ue=xk(le,Y,fe);ue&&setTimeout(()=>ue.ref.current.focus())}),W=g.useCallback((Y,le,fe)=>{const ue=!F.current&&!fe;(C.value!==void 0&&C.value===le||ue)&&(V(Y),ue&&(F.current=!0))},[C.value]),L=g.useCallback(()=>A?.focus(),[A]),K=g.useCallback((Y,le,fe)=>{const ue=!F.current&&!fe;(C.value!==void 0&&C.value===le||ue)&&ne(Y)},[C.value]),U=s==="popper"?Um:nk,ee=U===Um?{side:d,sideOffset:u,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:y,collisionPadding:v,sticky:b,hideWhenDetached:j,avoidCollisions:S}:{};return r.jsx(ek,{scope:n,content:A,viewport:_,onViewportChange:T,itemRefCallback:W,selectedItem:R,onItemLeave:L,itemTextRefCallback:K,focusSelectedItem:B,selectedItemText:G,position:s,isPositioned:oe,searchRef:q,children:r.jsx(ih,{as:PM,allowPinchZoom:!0,children:r.jsx(Qu,{asChild:!0,trapped:C.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:Nt(i,Y=>{C.trigger?.focus({preventScroll:!0}),Y.preventDefault()}),children:r.jsx(Yu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:r.jsx(U,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:Y=>Y.preventDefault(),...N,...ee,onPlaced:()=>Z(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Nt(N.onKeyDown,Y=>{const le=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!le&&Y.key.length===1&&M(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let ue=ie().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const Se=Y.target,Pe=ue.indexOf(Se);ue=ue.slice(Pe+1)}setTimeout(()=>z(ue)),Y.preventDefault()}})})})})})})});tk.displayName=TM;var RM="SelectItemAlignedPosition",nk=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,a=ii(Ki,n),l=oi(Ki,n),[d,u]=g.useState(null),[f,m]=g.useState(null),p=Lt(t,D=>m(D)),y=ah(n),v=g.useRef(!1),b=g.useRef(!0),{viewport:j,selectedItem:S,selectedItemText:N,focusSelectedItem:C}=l,A=g.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&f&&j&&S&&N){const D=a.trigger.getBoundingClientRect(),R=f.getBoundingClientRect(),V=a.valueNode.getBoundingClientRect(),G=N.getBoundingClientRect();if(a.dir!=="rtl"){const Se=G.left-R.left,Pe=V.left-Se,Ye=D.left-Pe,Ze=D.width+Ye,ye=Math.max(Ze,R.width),re=window.innerWidth-Cr,ve=fw(Pe,[Cr,Math.max(Cr,re-ye)]);d.style.minWidth=Ze+"px",d.style.left=ve+"px"}else{const Se=R.right-G.right,Pe=window.innerWidth-V.right-Se,Ye=window.innerWidth-D.right-Pe,Ze=D.width+Ye,ye=Math.max(Ze,R.width),re=window.innerWidth-Cr,ve=fw(Pe,[Cr,Math.max(Cr,re-ye)]);d.style.minWidth=Ze+"px",d.style.right=ve+"px"}const ne=y(),ie=window.innerHeight-Cr*2,oe=j.scrollHeight,Z=window.getComputedStyle(f),F=parseInt(Z.borderTopWidth,10),z=parseInt(Z.paddingTop,10),B=parseInt(Z.borderBottomWidth,10),O=parseInt(Z.paddingBottom,10),$=F+z+oe+O+B,q=Math.min(S.offsetHeight*5,$),M=window.getComputedStyle(j),W=parseInt(M.paddingTop,10),L=parseInt(M.paddingBottom,10),K=D.top+D.height/2-Cr,U=ie-K,ee=S.offsetHeight/2,Y=S.offsetTop+ee,le=F+z+Y,fe=$-le;if(le<=K){const Se=ne.length>0&&S===ne[ne.length-1].ref.current;d.style.bottom="0px";const Pe=f.clientHeight-j.offsetTop-j.offsetHeight,Ye=Math.max(U,ee+(Se?L:0)+Pe+B),Ze=le+Ye;d.style.height=Ze+"px"}else{const Se=ne.length>0&&S===ne[0].ref.current;d.style.top="0px";const Ye=Math.max(K,F+j.offsetTop+(Se?W:0)+ee)+fe;d.style.height=Ye+"px",j.scrollTop=le-K+j.offsetTop}d.style.margin=`${Cr}px 0`,d.style.minHeight=q+"px",d.style.maxHeight=ie+"px",s?.(),requestAnimationFrame(()=>v.current=!0)}},[y,a.trigger,a.valueNode,d,f,j,S,N,a.dir,s]);An(()=>A(),[A]);const[E,_]=g.useState();An(()=>{f&&_(window.getComputedStyle(f).zIndex)},[f]);const T=g.useCallback(D=>{D&&b.current===!0&&(A(),C?.(),b.current=!1)},[A,C]);return r.jsx(OM,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:v,onScrollButtonChange:T,children:r.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:r.jsx(Ct.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});nk.displayName=RM;var DM="SelectPopperPosition",Um=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=Cr,...a}=e,l=lh(n);return r.jsx(hN,{...l,...a,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Um.displayName=DM;var[OM,j0]=wa(Ki,{}),Hm="SelectViewport",rk=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,a=oi(Hm,n),l=j0(Hm,n),d=Lt(t,a.onViewportChange),u=g.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(oh.Slot,{scope:n,children:r.jsx(Ct.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Nt(i.onScroll,f=>{const m=f.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:y}=l;if(y?.current&&p){const v=Math.abs(u.current-m.scrollTop);if(v>0){const b=window.innerHeight-Cr*2,j=parseFloat(p.style.minHeight),S=parseFloat(p.style.height),N=Math.max(j,S);if(N<b){const C=N+v,A=Math.min(b,C),E=C-A;p.style.height=A+"px",p.style.bottom==="0px"&&(m.scrollTop=E>0?E:0,p.style.justifyContent="flex-end")}}}u.current=m.scrollTop})})})]})});rk.displayName=Hm;var sk="SelectGroup",[IM,FM]=wa(sk),MM=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Vi();return r.jsx(IM,{scope:n,id:i,children:r.jsx(Ct.div,{role:"group","aria-labelledby":i,...s,ref:t})})});MM.displayName=sk;var ik="SelectLabel",$M=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=FM(ik,n);return r.jsx(Ct.div,{id:i.id,...s,ref:t})});$M.displayName=ik;var Au="SelectItem",[BM,ok]=wa(Au),ak=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:a,...l}=e,d=ii(Au,n),u=oi(Au,n),f=d.value===s,[m,p]=g.useState(a??""),[y,v]=g.useState(!1),b=Lt(t,C=>u.itemRefCallback?.(C,s,i)),j=Vi(),S=g.useRef("touch"),N=()=>{i||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(BM,{scope:n,value:s,disabled:i,textId:j,isSelected:f,onItemTextChange:g.useCallback(C=>{p(A=>A||(C?.textContent??"").trim())},[]),children:r.jsx(oh.ItemSlot,{scope:n,value:s,disabled:i,textValue:m,children:r.jsx(Ct.div,{role:"option","aria-labelledby":j,"data-highlighted":y?"":void 0,"aria-selected":f&&y,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:b,onFocus:Nt(l.onFocus,()=>v(!0)),onBlur:Nt(l.onBlur,()=>v(!1)),onClick:Nt(l.onClick,()=>{S.current!=="mouse"&&N()}),onPointerUp:Nt(l.onPointerUp,()=>{S.current==="mouse"&&N()}),onPointerDown:Nt(l.onPointerDown,C=>{S.current=C.pointerType}),onPointerMove:Nt(l.onPointerMove,C=>{S.current=C.pointerType,i?u.onItemLeave?.():S.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Nt(l.onPointerLeave,C=>{C.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:Nt(l.onKeyDown,C=>{u.searchRef?.current!==""&&C.key===" "||(SM.includes(C.key)&&N(),C.key===" "&&C.preventDefault())})})})})});ak.displayName=Au;var pl="SelectItemText",lk=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...a}=e,l=ii(pl,n),d=oi(pl,n),u=ok(pl,n),f=EM(pl,n),[m,p]=g.useState(null),y=Lt(t,N=>p(N),u.onItemTextChange,N=>d.itemTextRefCallback?.(N,u.value,u.disabled)),v=m?.textContent,b=g.useMemo(()=>r.jsx("option",{value:u.value,disabled:u.disabled,children:v},u.value),[u.disabled,u.value,v]),{onNativeOptionAdd:j,onNativeOptionRemove:S}=f;return An(()=>(j(b),()=>S(b)),[j,S,b]),r.jsxs(r.Fragment,{children:[r.jsx(Ct.span,{id:u.textId,...a,ref:y}),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ar.createPortal(a.children,l.valueNode):null]})});lk.displayName=pl;var ck="SelectItemIndicator",dk=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return ok(ck,n).isSelected?r.jsx(Ct.span,{"aria-hidden":!0,...s,ref:t}):null});dk.displayName=ck;var qm="SelectScrollUpButton",uk=g.forwardRef((e,t)=>{const n=oi(qm,e.__scopeSelect),s=j0(qm,e.__scopeSelect),[i,a]=g.useState(!1),l=Lt(t,s.onScrollButtonChange);return An(()=>{if(n.viewport&&n.isPositioned){let d=function(){const f=u.scrollTop>0;a(f)};const u=n.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?r.jsx(fk,{...e,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=n;d&&u&&(d.scrollTop=d.scrollTop-u.offsetHeight)}}):null});uk.displayName=qm;var Gm="SelectScrollDownButton",hk=g.forwardRef((e,t)=>{const n=oi(Gm,e.__scopeSelect),s=j0(Gm,e.__scopeSelect),[i,a]=g.useState(!1),l=Lt(t,s.onScrollButtonChange);return An(()=>{if(n.viewport&&n.isPositioned){let d=function(){const f=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<f;a(m)};const u=n.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?r.jsx(fk,{...e,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=n;d&&u&&(d.scrollTop=d.scrollTop+u.offsetHeight)}}):null});hk.displayName=Gm;var fk=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,a=oi("SelectScrollButton",n),l=g.useRef(null),d=ah(n),u=g.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return g.useEffect(()=>()=>u(),[u]),An(()=>{d().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),r.jsx(Ct.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Nt(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(s,50))}),onPointerMove:Nt(i.onPointerMove,()=>{a.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(s,50))}),onPointerLeave:Nt(i.onPointerLeave,()=>{u()})})}),LM="SelectSeparator",zM=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(Ct.div,{"aria-hidden":!0,...s,ref:t})});zM.displayName=LM;var Km="SelectArrow",WM=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=lh(n),a=ii(Km,n),l=oi(Km,n);return a.open&&l.position==="popper"?r.jsx(fN,{...i,...s,ref:t}):null});WM.displayName=Km;var VM="SelectBubbleInput",pk=g.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const i=g.useRef(null),a=Lt(s,i),l=PF(t);return g.useEffect(()=>{const d=i.current;if(!d)return;const u=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==t&&m){const p=new Event("change",{bubbles:!0});m.call(d,t),d.dispatchEvent(p)}},[l,t]),r.jsx(Ct.select,{...n,style:{...pN,...n.style},ref:a,defaultValue:t})});pk.displayName=VM;function mk(e){return e===""||e===void 0}function gk(e){const t=Hi(e),n=g.useRef(""),s=g.useRef(0),i=g.useCallback(l=>{const d=n.current+l;t(d),(function u(f){n.current=f,window.clearTimeout(s.current),f!==""&&(s.current=window.setTimeout(()=>u(""),1e3))})(d)},[t]),a=g.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,a]}function xk(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let l=UM(e,Math.max(a,0));i.length===1&&(l=l.filter(f=>f!==n));const u=l.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function UM(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var HM=qN,qM=KN,GM=QN,KM=XN,YM=JN,QM=ZN,XM=rk,JM=ak,ZM=lk,e$=dk,t$=uk,n$=hk;function r$({...e}){return r.jsx(HM,{"data-slot":"select",...e})}function s$({...e}){return r.jsx(GM,{"data-slot":"select-value",...e})}function i$({className:e,size:t="default",children:n,...s}){return r.jsxs(qM,{"data-slot":"select-trigger","data-size":t,className:En("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s,children:[n,r.jsx(KM,{asChild:!0,children:r.jsx(Hn,{className:"size-4 opacity-50"})})]})}function o$({className:e,children:t,position:n="popper",...s}){return r.jsx(YM,{children:r.jsxs(QM,{"data-slot":"select-content",className:En("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(l$,{}),r.jsx(XM,{className:En("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),r.jsx(c$,{})]})})}function a$({className:e,children:t,...n}){return r.jsxs(JM,{"data-slot":"select-item",className:En("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[r.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:r.jsx(e$,{children:r.jsx(Qi,{className:"size-4"})})}),r.jsx(ZM,{children:t})]})}function l$({className:e,...t}){return r.jsx(t$,{"data-slot":"select-scroll-up-button",className:En("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(pu,{className:"size-4"})})}function c$({className:e,...t}){return r.jsx(n$,{"data-slot":"select-scroll-down-button",className:En("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Hn,{className:"size-4"})})}function d$(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const u$=e=>{switch(e){case"success":return p$;case"info":return g$;case"warning":return m$;case"error":return x$;default:return null}},h$=Array(12).fill(0),f$=({visible:e,className:t})=>me.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},me.createElement("div",{className:"sonner-spinner"},h$.map((n,s)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),p$=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),m$=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),g$=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),x$=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),y$=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),v$=()=>{const[e,t]=me.useState(document.hidden);return me.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let Ym=1;class b${constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:s,...i}=t,a=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Ym++,l=this.toasts.find(u=>u.id===a),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(u=>u.id===a?(this.publish({...u,...t,id:a,title:s}),{...u,...t,id:a,dismissible:d,title:s}):u):this.addToast({title:s,...i,dismissible:d,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let a=s!==void 0,l;const d=i.then(async f=>{if(l=["resolve",f],me.isValidElement(f))a=!1,this.create({id:s,type:"default",message:f});else if(j$(f)&&!f.ok){a=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,y=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,b=typeof p=="object"&&!me.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:y,...b})}else if(f instanceof Error){a=!1;const p=typeof n.error=="function"?await n.error(f):n.error,y=typeof n.description=="function"?await n.description(f):n.description,b=typeof p=="object"&&!me.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:y,...b})}else if(n.success!==void 0){a=!1;const p=typeof n.success=="function"?await n.success(f):n.success,y=typeof n.description=="function"?await n.description(f):n.description,b=typeof p=="object"&&!me.isValidElement(p)?p:{message:p};this.create({id:s,type:"success",description:y,...b})}}).catch(async f=>{if(l=["reject",f],n.error!==void 0){a=!1;const m=typeof n.error=="function"?await n.error(f):n.error,p=typeof n.description=="function"?await n.description(f):n.description,v=typeof m=="object"&&!me.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:p,...v})}}).finally(()=>{a&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((f,m)=>d.then(()=>l[0]==="reject"?m(l[1]):f(l[1])).catch(m));return typeof s!="string"&&typeof s!="number"?{unwrap:u}:Object.assign(s,{unwrap:u})},this.custom=(t,n)=>{const s=n?.id||Ym++;return this.create({jsx:t(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Vn=new b$,w$=(e,t)=>{const n=t?.id||Ym++;return Vn.addToast({title:e,...t,id:n}),n},j$=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",S$=w$,N$=()=>Vn.toasts,k$=()=>Vn.getActiveToasts(),de=Object.assign(S$,{success:Vn.success,info:Vn.info,warning:Vn.warning,error:Vn.error,custom:Vn.custom,message:Vn.message,promise:Vn.promise,dismiss:Vn.dismiss,loading:Vn.loading},{getHistory:N$,getToasts:k$});d$("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Td(e){return e.label!==void 0}const C$=3,E$="24px",A$="16px",$w=4e3,_$=356,T$=14,P$=45,R$=200;function Wr(...e){return e.filter(Boolean).join(" ")}function D$(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const O$=e=>{var t,n,s,i,a,l,d,u,f;const{invert:m,toast:p,unstyled:y,interacting:v,setHeights:b,visibleToasts:j,heights:S,index:N,toasts:C,expanded:A,removeToast:E,defaultRichColors:_,closeButton:T,style:D,cancelButtonStyle:R,actionButtonStyle:V,className:G="",descriptionClassName:ne="",duration:ie,position:oe,gap:Z,expandByDefault:F,classNames:z,icons:B,closeButtonAriaLabel:O="Close toast"}=e,[$,q]=me.useState(null),[M,W]=me.useState(null),[L,K]=me.useState(!1),[U,ee]=me.useState(!1),[Y,le]=me.useState(!1),[fe,ue]=me.useState(!1),[Se,Pe]=me.useState(!1),[Ye,Ze]=me.useState(0),[ye,re]=me.useState(0),ve=me.useRef(p.duration||ie||$w),Qe=me.useRef(null),lt=me.useRef(null),ct=N===0,vt=N+1<=j,ut=p.type,Ce=p.dismissible!==!1,et=p.className||"",he=p.descriptionClassName||"",ge=me.useMemo(()=>S.findIndex(J=>J.toastId===p.id)||0,[S,p.id]),Te=me.useMemo(()=>{var J;return(J=p.closeButton)!=null?J:T},[p.closeButton,T]),De=me.useMemo(()=>p.duration||ie||$w,[p.duration,ie]),qe=me.useRef(0),mt=me.useRef(0),jt=me.useRef(0),Et=me.useRef(null),[In,rn]=oe.split("-"),vn=me.useMemo(()=>S.reduce((J,xe,Ee)=>Ee>=ge?J:J+xe.height,0),[S,ge]),sn=v$(),_n=p.invert||m,on=ut==="loading";mt.current=me.useMemo(()=>ge*Z+vn,[ge,vn]),me.useEffect(()=>{ve.current=De},[De]),me.useEffect(()=>{K(!0)},[]),me.useEffect(()=>{const J=lt.current;if(J){const xe=J.getBoundingClientRect().height;return re(xe),b(Ee=>[{toastId:p.id,height:xe,position:p.position},...Ee]),()=>b(Ee=>Ee.filter(Le=>Le.toastId!==p.id))}},[b,p.id]),me.useLayoutEffect(()=>{if(!L)return;const J=lt.current,xe=J.style.height;J.style.height="auto";const Ee=J.getBoundingClientRect().height;J.style.height=xe,re(Ee),b(Le=>Le.find(it=>it.toastId===p.id)?Le.map(it=>it.toastId===p.id?{...it,height:Ee}:it):[{toastId:p.id,height:Ee,position:p.position},...Le])},[L,p.title,p.description,b,p.id,p.jsx,p.action,p.cancel]);const at=me.useCallback(()=>{ee(!0),Ze(mt.current),b(J=>J.filter(xe=>xe.toastId!==p.id)),setTimeout(()=>{E(p)},R$)},[p,E,b,mt]);me.useEffect(()=>{if(p.promise&&ut==="loading"||p.duration===1/0||p.type==="loading")return;let J;return A||v||sn?(()=>{if(jt.current<qe.current){const Le=new Date().getTime()-qe.current;ve.current=ve.current-Le}jt.current=new Date().getTime()})():(()=>{ve.current!==1/0&&(qe.current=new Date().getTime(),J=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),at()},ve.current))})(),()=>clearTimeout(J)},[A,v,p,ut,sn,at]),me.useEffect(()=>{p.delete&&(at(),p.onDismiss==null||p.onDismiss.call(p,p))},[at,p.delete]);function Q(){var J;if(B?.loading){var xe;return me.createElement("div",{className:Wr(z?.loader,p==null||(xe=p.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":ut==="loading"},B.loading)}return me.createElement(f$,{className:Wr(z?.loader,p==null||(J=p.classNames)==null?void 0:J.loader),visible:ut==="loading"})}const we=p.icon||B?.[ut]||u$(ut);var pe,Ie;return me.createElement("li",{tabIndex:0,ref:lt,className:Wr(G,et,z?.toast,p==null||(t=p.classNames)==null?void 0:t.toast,z?.default,z?.[ut],p==null||(n=p.classNames)==null?void 0:n[ut]),"data-sonner-toast":"","data-rich-colors":(pe=p.richColors)!=null?pe:_,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":L,"data-promise":!!p.promise,"data-swiped":Se,"data-removed":U,"data-visible":vt,"data-y-position":In,"data-x-position":rn,"data-index":N,"data-front":ct,"data-swiping":Y,"data-dismissible":Ce,"data-type":ut,"data-invert":_n,"data-swipe-out":fe,"data-swipe-direction":M,"data-expanded":!!(A||F&&L),"data-testid":p.testId,style:{"--index":N,"--toasts-before":N,"--z-index":C.length-N,"--offset":`${U?Ye:mt.current}px`,"--initial-height":F?"auto":`${ye}px`,...D,...p.style},onDragEnd:()=>{le(!1),q(null),Et.current=null},onPointerDown:J=>{J.button!==2&&(on||!Ce||(Qe.current=new Date,Ze(mt.current),J.target.setPointerCapture(J.pointerId),J.target.tagName!=="BUTTON"&&(le(!0),Et.current={x:J.clientX,y:J.clientY})))},onPointerUp:()=>{var J,xe,Ee;if(fe||!Ce)return;Et.current=null;const Le=Number(((J=lt.current)==null?void 0:J.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),rt=Number(((xe=lt.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),it=new Date().getTime()-((Ee=Qe.current)==null?void 0:Ee.getTime()),We=$==="x"?Le:rt,xt=Math.abs(We)/it;if(Math.abs(We)>=P$||xt>.11){Ze(mt.current),p.onDismiss==null||p.onDismiss.call(p,p),W($==="x"?Le>0?"right":"left":rt>0?"down":"up"),at(),ue(!0);return}else{var gt,St;(gt=lt.current)==null||gt.style.setProperty("--swipe-amount-x","0px"),(St=lt.current)==null||St.style.setProperty("--swipe-amount-y","0px")}Pe(!1),le(!1),q(null)},onPointerMove:J=>{var xe,Ee,Le;if(!Et.current||!Ce||((xe=window.getSelection())==null?void 0:xe.toString().length)>0)return;const it=J.clientY-Et.current.y,We=J.clientX-Et.current.x;var xt;const gt=(xt=e.swipeDirections)!=null?xt:D$(oe);!$&&(Math.abs(We)>1||Math.abs(it)>1)&&q(Math.abs(We)>Math.abs(it)?"x":"y");let St={x:0,y:0};const fn=Ot=>1/(1.5+Math.abs(Ot)/20);if($==="y"){if(gt.includes("top")||gt.includes("bottom"))if(gt.includes("top")&&it<0||gt.includes("bottom")&&it>0)St.y=it;else{const Ot=it*fn(it);St.y=Math.abs(Ot)<Math.abs(it)?Ot:it}}else if($==="x"&&(gt.includes("left")||gt.includes("right")))if(gt.includes("left")&&We<0||gt.includes("right")&&We>0)St.x=We;else{const Ot=We*fn(We);St.x=Math.abs(Ot)<Math.abs(We)?Ot:We}(Math.abs(St.x)>0||Math.abs(St.y)>0)&&Pe(!0),(Ee=lt.current)==null||Ee.style.setProperty("--swipe-amount-x",`${St.x}px`),(Le=lt.current)==null||Le.style.setProperty("--swipe-amount-y",`${St.y}px`)}},Te&&!p.jsx&&ut!=="loading"?me.createElement("button",{"aria-label":O,"data-disabled":on,"data-close-button":!0,onClick:on||!Ce?()=>{}:()=>{at(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Wr(z?.closeButton,p==null||(s=p.classNames)==null?void 0:s.closeButton)},(Ie=B?.close)!=null?Ie:y$):null,(ut||p.icon||p.promise)&&p.icon!==null&&(B?.[ut]!==null||p.icon)?me.createElement("div",{"data-icon":"",className:Wr(z?.icon,p==null||(i=p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Q():null,p.type!=="loading"?we:null):null,me.createElement("div",{"data-content":"",className:Wr(z?.content,p==null||(a=p.classNames)==null?void 0:a.content)},me.createElement("div",{"data-title":"",className:Wr(z?.title,p==null||(l=p.classNames)==null?void 0:l.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?me.createElement("div",{"data-description":"",className:Wr(ne,he,z?.description,p==null||(d=p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),me.isValidElement(p.cancel)?p.cancel:p.cancel&&Td(p.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:J=>{Td(p.cancel)&&Ce&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,J),at())},className:Wr(z?.cancelButton,p==null||(u=p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,me.isValidElement(p.action)?p.action:p.action&&Td(p.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||V,onClick:J=>{Td(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,J),!J.defaultPrevented&&at())},className:Wr(z?.actionButton,p==null||(f=p.classNames)==null?void 0:f.actionButton)},p.action.label):null)};function Bw(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function I$(e,t){const n={};return[e,t].forEach((s,i)=>{const a=i===1,l=a?"--mobile-offset":"--offset",d=a?A$:E$;function u(f){["top","right","bottom","left"].forEach(m=>{n[`${l}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof s=="number"||typeof s=="string"?u(s):typeof s=="object"?["top","right","bottom","left"].forEach(f=>{s[f]===void 0?n[`${l}-${f}`]=d:n[`${l}-${f}`]=typeof s[f]=="number"?`${s[f]}px`:s[f]}):u(d)}),n}const F$=me.forwardRef(function(t,n){const{id:s,invert:i,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:d,closeButton:u,className:f,offset:m,mobileOffset:p,theme:y="light",richColors:v,duration:b,style:j,visibleToasts:S=C$,toastOptions:N,dir:C=Bw(),gap:A=T$,icons:E,containerAriaLabel:_="Notifications"}=t,[T,D]=me.useState([]),R=me.useMemo(()=>s?T.filter(L=>L.toasterId===s):T.filter(L=>!L.toasterId),[T,s]),V=me.useMemo(()=>Array.from(new Set([a].concat(R.filter(L=>L.position).map(L=>L.position)))),[R,a]),[G,ne]=me.useState([]),[ie,oe]=me.useState(!1),[Z,F]=me.useState(!1),[z,B]=me.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=me.useRef(null),$=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=me.useRef(null),M=me.useRef(!1),W=me.useCallback(L=>{D(K=>{var U;return(U=K.find(ee=>ee.id===L.id))!=null&&U.delete||Vn.dismiss(L.id),K.filter(({id:ee})=>ee!==L.id)})},[]);return me.useEffect(()=>Vn.subscribe(L=>{if(L.dismiss){requestAnimationFrame(()=>{D(K=>K.map(U=>U.id===L.id?{...U,delete:!0}:U))});return}setTimeout(()=>{Ej.flushSync(()=>{D(K=>{const U=K.findIndex(ee=>ee.id===L.id);return U!==-1?[...K.slice(0,U),{...K[U],...L},...K.slice(U+1)]:[L,...K]})})})}),[T]),me.useEffect(()=>{if(y!=="system"){B(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;const L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:K})=>{B(K?"dark":"light")})}catch{L.addListener(({matches:U})=>{try{B(U?"dark":"light")}catch(ee){console.error(ee)}})}},[y]),me.useEffect(()=>{T.length<=1&&oe(!1)},[T]),me.useEffect(()=>{const L=K=>{var U;if(l.every(le=>K[le]||K.code===le)){var Y;oe(!0),(Y=O.current)==null||Y.focus()}K.code==="Escape"&&(document.activeElement===O.current||(U=O.current)!=null&&U.contains(document.activeElement))&&oe(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[l]),me.useEffect(()=>{if(O.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,M.current=!1)}},[O.current]),me.createElement("section",{ref:n,"aria-label":`${_} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((L,K)=>{var U;const[ee,Y]=L.split("-");return R.length?me.createElement("ol",{key:L,dir:C==="auto"?Bw():C,tabIndex:-1,ref:O,className:f,"data-sonner-toaster":!0,"data-sonner-theme":z,"data-y-position":ee,"data-x-position":Y,style:{"--front-toast-height":`${((U=G[0])==null?void 0:U.height)||0}px`,"--width":`${_$}px`,"--gap":`${A}px`,...j,...I$(m,p)},onBlur:le=>{M.current&&!le.currentTarget.contains(le.relatedTarget)&&(M.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||M.current||(M.current=!0,q.current=le.relatedTarget)},onMouseEnter:()=>oe(!0),onMouseMove:()=>oe(!0),onMouseLeave:()=>{Z||oe(!1)},onDragEnd:()=>oe(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},R.filter(le=>!le.position&&K===0||le.position===L).map((le,fe)=>{var ue,Se;return me.createElement(O$,{key:le.id,icons:E,index:fe,toast:le,defaultRichColors:v,duration:(ue=N?.duration)!=null?ue:b,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:i,visibleToasts:S,closeButton:(Se=N?.closeButton)!=null?Se:u,interacting:Z,position:L,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:W,toasts:R.filter(Pe=>Pe.position==le.position),heights:G.filter(Pe=>Pe.position==le.position),setHeights:ne,expandByDefault:d,gap:A,expanded:ie,swipeDirections:t.swipeDirections})})):null}))}),Ge="ooxinxuphknbfhbancgs",Yt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9veGlueHVwaGtuYmZoYmFuY2dzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MDExMTQsImV4cCI6MjA3NDM3NzExNH0.lrbSZb3DTTWBkX3skjOHZ7N_WC_5YURB0ncDHFrwEzY",M$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class S0 extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class $$ extends S0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Lw extends S0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class zw extends S0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Qm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Qm||(Qm={}));class B${constructor(t,{headers:n={},customFetch:s,region:i=Qm.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=M$(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return He(this,arguments,void 0,function*(n,s={}){var i;let a,l;try{const{headers:d,method:u,body:f,signal:m,timeout:p}=s;let y={},{region:v}=s;v||(v=this.region);const b=new URL(`${this.url}/${n}`);v&&v!=="any"&&(y["x-region"]=v,b.searchParams.set("forceFunctionRegion",v));let j;f&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",j=f):typeof f=="string"?(y["Content-Type"]="text/plain",j=f):typeof FormData<"u"&&f instanceof FormData?j=f:(y["Content-Type"]="application/json",j=JSON.stringify(f)):j=f;let S=m;p&&(l=new AbortController,a=setTimeout(()=>l.abort(),p),m?(S=l.signal,m.addEventListener("abort",()=>l.abort())):S=l.signal);const N=yield this.fetch(b.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),d),body:j,signal:S}).catch(_=>{throw new $$(_)}),C=N.headers.get("x-relay-error");if(C&&C==="true")throw new Lw(N);if(!N.ok)throw new zw(N);let A=((i=N.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return A==="application/json"?E=yield N.json():A==="application/octet-stream"||A==="application/pdf"?E=yield N.blob():A==="text/event-stream"?E=N:A==="multipart/form-data"?E=yield N.formData():E=yield N.text(),{data:E,error:null,response:N}}catch(d){return{data:null,error:d,response:d instanceof zw||d instanceof Lw?d.context:void 0}}finally{a&&clearTimeout(a)}})}}var Nn={};const ja=U5(LF);var Pd={},Rd={},Dd={},Od={},Id={},Fd={},Ww;function yk(){if(Ww)return Fd;Ww=1,Object.defineProperty(Fd,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Fd.default=e,Fd}var Vw;function vk(){if(Vw)return Id;Vw=1,Object.defineProperty(Id,"__esModule",{value:!0});const t=ja.__importDefault(yk());class n{constructor(i){var a,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let d=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,m,p,y;let v=null,b=null,j=null,S=u.status,N=u.statusText;if(u.ok){if(this.method!=="HEAD"){const _=await u.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?b=_:b=JSON.parse(_))}const A=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),E=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");A&&E&&E.length>1&&(j=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(v={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,j=null,S=406,N="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const A=await u.text();try{v=JSON.parse(A),Array.isArray(v)&&u.status===404&&(b=[],v=null,S=200,N="OK")}catch{u.status===404&&A===""?(S=204,N="No Content"):v={message:A}}if(v&&this.isMaybeSingle&&(!((y=v?.details)===null||y===void 0)&&y.includes("0 rows"))&&(v=null,S=200,N="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:b,count:j,status:S,statusText:N}});return this.shouldThrowOnError||(d=d.catch(u=>{var f,m,p;return{error:{message:`${(f=u?.name)!==null&&f!==void 0?f:"FetchError"}: ${u?.message}`,details:`${(m=u?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(p=u?.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),d.then(i,a)}returns(){return this}overrideTypes(){return this}}return Id.default=n,Id}var Uw;function bk(){if(Uw)return Od;Uw=1,Object.defineProperty(Od,"__esModule",{value:!0});const t=ja.__importDefault(vk());class n extends t.default{select(i){let a=!1;const l=(i??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:d,referencedTable:u=d}={}){const f=u?`${u}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:d=l}={}){const u=typeof d>"u"?"offset":`${d}.offset`,f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:d=!1,wal:u=!1,format:f="text"}={}){var m;const p=[i?"analyze":null,a?"verbose":null,l?"settings":null,d?"buffers":null,u?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Od.default=n,Od}var Hw;function N0(){if(Hw)return Dd;Hw=1,Object.defineProperty(Dd,"__esModule",{value:!0});const t=ja.__importDefault(bk()),n=new RegExp("[,()]");class s extends t.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const d=Array.from(new Set(l)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:d,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const m=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${f}fts${m}.${l}`),this}match(a){return Object.entries(a).forEach(([l,d])=>{this.url.searchParams.append(l,`eq.${d}`)}),this}not(a,l,d){return this.url.searchParams.append(a,`not.${l}.${d}`),this}or(a,{foreignTable:l,referencedTable:d=l}={}){const u=d?`${d}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,l,d){return this.url.searchParams.append(a,`${l}.${d}`),this}}return Dd.default=s,Dd}var qw;function wk(){if(qw)return Rd;qw=1,Object.defineProperty(Rd,"__esModule",{value:!0});const t=ja.__importDefault(N0());class n{constructor(i,{headers:a={},schema:l,fetch:d}){this.url=i,this.headers=new Headers(a),this.schema=l,this.fetch=d}select(i,a){const{head:l=!1,count:d}=a??{},u=l?"HEAD":"GET";let f=!1;const m=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",m),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:l=!0}={}){var d;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:d,defaultToNull:u=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(p.length>0){const y=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var l;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var a;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Rd.default=n,Rd}var Gw;function L$(){if(Gw)return Pd;Gw=1,Object.defineProperty(Pd,"__esModule",{value:!0});const e=ja,t=e.__importDefault(wk()),n=e.__importDefault(N0());class s{constructor(a,{headers:l={},schema:d,fetch:u}={}){this.url=a,this.headers=new Headers(l),this.schemaName=d,this.fetch=u}from(a){const l=new URL(`${this.url}/${a}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new s(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:d=!1,get:u=!1,count:f}={}){var m;let p;const y=new URL(`${this.url}/rpc/${a}`);let v;d||u?(p=d?"HEAD":"GET",Object.entries(l).filter(([j,S])=>S!==void 0).map(([j,S])=>[j,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([j,S])=>{y.searchParams.append(j,S)})):(p="POST",v=l);const b=new Headers(this.headers);return f&&b.set("Prefer",`count=${f}`),new n.default({method:p,url:y,headers:b,schema:this.schemaName,body:v,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return Pd.default=s,Pd}var Kw;function z$(){if(Kw)return Nn;Kw=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.PostgrestError=Nn.PostgrestBuilder=Nn.PostgrestTransformBuilder=Nn.PostgrestFilterBuilder=Nn.PostgrestQueryBuilder=Nn.PostgrestClient=void 0;const e=ja,t=e.__importDefault(L$());Nn.PostgrestClient=t.default;const n=e.__importDefault(wk());Nn.PostgrestQueryBuilder=n.default;const s=e.__importDefault(N0());Nn.PostgrestFilterBuilder=s.default;const i=e.__importDefault(bk());Nn.PostgrestTransformBuilder=i.default;const a=e.__importDefault(vk());Nn.PostgrestBuilder=a.default;const l=e.__importDefault(yk());return Nn.PostgrestError=l.default,Nn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:l.default},Nn}var jk=z$();const Sk=zu(jk),W$=aj({__proto__:null,default:Sk},[jk]),{PostgrestClient:V$,PostgrestQueryBuilder:nU,PostgrestFilterBuilder:rU,PostgrestTransformBuilder:sU,PostgrestBuilder:iU,PostgrestError:oU}=Sk||W$;class U${static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const H$="2.81.1",q$=`realtime-js/${H$}`,Nk="1.0.0",G$="2.0.0",Yw=Nk,Xm=1e4,K$=1e3,Y$=100;var Ri;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ri||(Ri={}));var en;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(en||(en={}));var cr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(cr||(cr={}));var Jm;(function(e){e.websocket="websocket"})(Jm||(Jm={}));var Di;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Di||(Di={}));class Q${constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,n){if(this._isArrayBuffer(t.payload))return n(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(s))}_binaryEncodePush(t){const{join_ref:n,ref:s,event:i,topic:a,payload:l}=t,d=this.META_LENGTH+n.length+s.length+a.length+i.length,u=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(u),m=0;f.setUint8(m++,this.KINDS.push),f.setUint8(m++,n.length),f.setUint8(m++,s.length),f.setUint8(m++,a.length),f.setUint8(m++,i.length),Array.from(n,y=>f.setUint8(m++,y.charCodeAt(0))),Array.from(s,y=>f.setUint8(m++,y.charCodeAt(0))),Array.from(a,y=>f.setUint8(m++,y.charCodeAt(0))),Array.from(i,y=>f.setUint8(m++,y.charCodeAt(0)));var p=new Uint8Array(u.byteLength+l.byteLength);return p.set(new Uint8Array(u),0),p.set(new Uint8Array(l),u.byteLength),p.buffer}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,s;const{join_ref:i,ref:a,topic:l}=t,d=t.payload.event,u=(s=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+l.length+d.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(m),y=0;p.setUint8(y++,this.KINDS.userBroadcastPush),p.setUint8(y++,i.length),p.setUint8(y++,a.length),p.setUint8(y++,l.length),p.setUint8(y++,d.length),p.setUint8(y++,this.BINARY_ENCODING),Array.from(i,b=>p.setUint8(y++,b.charCodeAt(0))),Array.from(a,b=>p.setUint8(y++,b.charCodeAt(0))),Array.from(l,b=>p.setUint8(y++,b.charCodeAt(0))),Array.from(d,b=>p.setUint8(y++,b.charCodeAt(0)));var v=new Uint8Array(m.byteLength+u.byteLength);return v.set(new Uint8Array(m),0),v.set(new Uint8Array(u),m.byteLength),v.buffer}_encodeJsonUserBroadcastPush(t){var n,s;const{join_ref:i,ref:a,topic:l}=t,d=t.payload.event,u=(s=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},m=new TextEncoder().encode(JSON.stringify(u)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+l.length+d.length,y=new ArrayBuffer(this.HEADER_LENGTH+p);let v=new DataView(y),b=0;v.setUint8(b++,this.KINDS.userBroadcastPush),v.setUint8(b++,i.length),v.setUint8(b++,a.length),v.setUint8(b++,l.length),v.setUint8(b++,d.length),v.setUint8(b++,this.JSON_ENCODING),Array.from(i,S=>v.setUint8(b++,S.charCodeAt(0))),Array.from(a,S=>v.setUint8(b++,S.charCodeAt(0))),Array.from(l,S=>v.setUint8(b++,S.charCodeAt(0))),Array.from(d,S=>v.setUint8(b++,S.charCodeAt(0)));var j=new Uint8Array(y.byteLength+m.byteLength);return j.set(new Uint8Array(y),0),j.set(new Uint8Array(m),y.byteLength),j.buffer}decode(t,n){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return n(s)}if(typeof t=="string"){const s=JSON.parse(t),[i,a,l,d,u]=s;return n({join_ref:i,ref:a,topic:l,event:d,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),s=n.getUint8(0),i=new TextDecoder;switch(s){case this.KINDS.push:return this._decodePush(t,n,i);case this.KINDS.reply:return this._decodeReply(t,n,i);case this.KINDS.broadcast:return this._decodeBroadcast(t,n,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodePush(t,n,s){const i=n.getUint8(1),a=n.getUint8(2),l=n.getUint8(3);let d=this.HEADER_LENGTH+this.META_LENGTH-1;const u=s.decode(t.slice(d,d+i));d=d+i;const f=s.decode(t.slice(d,d+a));d=d+a;const m=s.decode(t.slice(d,d+l));d=d+l;const p=JSON.parse(s.decode(t.slice(d,t.byteLength)));return{join_ref:u,ref:null,topic:f,event:m,payload:p}}_decodeReply(t,n,s){const i=n.getUint8(1),a=n.getUint8(2),l=n.getUint8(3),d=n.getUint8(4);let u=this.HEADER_LENGTH+this.META_LENGTH;const f=s.decode(t.slice(u,u+i));u=u+i;const m=s.decode(t.slice(u,u+a));u=u+a;const p=s.decode(t.slice(u,u+l));u=u+l;const y=s.decode(t.slice(u,u+d));u=u+d;const v=JSON.parse(s.decode(t.slice(u,t.byteLength))),b={status:y,response:v};return{join_ref:f,ref:m,topic:p,event:cr.reply,payload:b}}_decodeBroadcast(t,n,s){const i=n.getUint8(1),a=n.getUint8(2);let l=this.HEADER_LENGTH+2;const d=s.decode(t.slice(l,l+i));l=l+i;const u=s.decode(t.slice(l,l+a));l=l+a;const f=JSON.parse(s.decode(t.slice(l,t.byteLength)));return{join_ref:null,ref:null,topic:d,event:u,payload:f}}_decodeUserBroadcast(t,n,s){const i=n.getUint8(1),a=n.getUint8(2),l=n.getUint8(3),d=n.getUint8(4);let u=this.HEADER_LENGTH+4;const f=s.decode(t.slice(u,u+i));u=u+i;const m=s.decode(t.slice(u,u+a));u=u+a;const p=s.decode(t.slice(u,u+l));u=u+l;const y=t.slice(u,t.byteLength),v=d===this.JSON_ENCODING?JSON.parse(s.decode(y)):y,b={type:this.BROADCAST,event:m,payload:v};return l>0&&(b.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class kk{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _t;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_t||(_t={}));const Qw=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((a,l)=>(a[l]=X$(l,e,t,i),a),{}):{}},X$=(e,t,n,s)=>{const i=t.find(d=>d.name===e),a=i?.type,l=n[e];return a&&!s.includes(a)?Ck(a,l):Zm(l)},Ck=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return t8(t,n)}switch(e){case _t.bool:return J$(t);case _t.float4:case _t.float8:case _t.int2:case _t.int4:case _t.int8:case _t.numeric:case _t.oid:return Z$(t);case _t.json:case _t.jsonb:return e8(t);case _t.timestamp:return n8(t);case _t.abstime:case _t.date:case _t.daterange:case _t.int4range:case _t.int8range:case _t.money:case _t.reltime:case _t.text:case _t.time:case _t.timestamptz:case _t.timetz:case _t.tsrange:case _t.tstzrange:return Zm(t);default:return Zm(t)}},Zm=e=>e,J$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Z$=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},e8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},t8=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let a;const l=e.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(d=>Ck(t,d))}return e},n8=e=>typeof e=="string"?e.replace(" ","T"):e,Ek=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Pp{constructor(t,n,s={},i=Xm){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Xw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Xw||(Xw={}));class Sl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:a,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sl.syncState(this.state,i,a,l),this.pendingDiffs.forEach(u=>{this.state=Sl.syncDiff(this.state,u,a,l)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Sl.syncDiff(this.state,i,a,l),d())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const a=this.cloneDeep(t),l=this.transformState(n),d={},u={};return this.map(a,(f,m)=>{l[f]||(u[f]=m)}),this.map(l,(f,m)=>{const p=a[f];if(p){const y=m.map(S=>S.presence_ref),v=p.map(S=>S.presence_ref),b=m.filter(S=>v.indexOf(S.presence_ref)<0),j=p.filter(S=>y.indexOf(S.presence_ref)<0);b.length>0&&(d[f]=b),j.length>0&&(u[f]=j)}else d[f]=m}),this.syncDiff(a,{joins:d,leaves:u},s,i)}static syncDiff(t,n,s,i){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(a,(d,u)=>{var f;const m=(f=t[d])!==null&&f!==void 0?f:[];if(t[d]=this.cloneDeep(u),m.length>0){const p=t[d].map(v=>v.presence_ref),y=m.filter(v=>p.indexOf(v.presence_ref)<0);t[d].unshift(...y)}s(d,m,u)}),this.map(l,(d,u)=>{let f=t[d];if(!f)return;const m=u.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),t[d]=f,i(d,f,u),f.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Jw||(Jw={}));var Nl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Nl||(Nl={}));var ds;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ds||(ds={}));class k0{constructor(t,n={config:{}},s){var i,a;if(this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=en.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Pp(this,cr.join,this.params,this.timeout),this.rejoinTimer=new kk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=en.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=en.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cr.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new Sl(this),this.broadcastEndpointURL=Ek(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var s,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==en.closed){const{config:{broadcast:l,presence:d,private:u}}=this.params,f=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(v=>v.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[Nl.PRESENCE]&&this.bindings[Nl.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},y={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>t?.(ds.CHANNEL_ERROR,v)),this._onClose(()=>t?.(ds.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var b;if(this.socket.setAuth(),v===void 0){t?.(ds.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,S=(b=j?.length)!==null&&b!==void 0?b:0,N=[];for(let C=0;C<S;C++){const A=j[C],{filter:{event:E,schema:_,table:T,filter:D}}=A,R=v&&v[C];if(R&&R.event===E&&R.schema===_&&R.table===T&&R.filter===D)N.push(Object.assign(Object.assign({},A),{id:R.id}));else{this.unsubscribe(),this.state=en.errored,t?.(ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(ds.SUBSCRIBED);return}}).receive("error",v=>{this.state=en.errored,t?.(ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t?.(ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===en.joined&&t===Nl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,s)}async httpSend(t,n,s={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let u=d.statusText;try{const f=await d.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,d,u;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=en.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new Pp(this,cr.leave,{},t),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=en.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const i=new AbortController,a=setTimeout(()=>i.abort(),s),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),l}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Pp(this,t,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Y$){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,a;const l=t.toLocaleLowerCase(),{close:d,error:u,leave:f,join:m}=cr;if(s&&[d,u,f,m].indexOf(l)>=0&&s!==this._joinRef())return;let y=this._onMessage(l,n,s);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var b,j,S;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((S=(j=v.filter)===null||j===void 0?void 0:j.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(v=>v.callback(y,s)):(a=this.bindings[l])===null||a===void 0||a.filter(v=>{var b,j,S,N,C,A;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const E=v.id,_=(b=v.filter)===null||b===void 0?void 0:b.event;return E&&((j=n.ids)===null||j===void 0?void 0:j.includes(E))&&(_==="*"||_?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const E=(C=(N=v?.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return E==="*"||E===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof y=="object"&&"ids"in y){const b=y.data,{schema:j,table:S,commit_timestamp:N,type:C,errors:A}=b;y=Object.assign(Object.assign({},{schema:j,table:S,commit_timestamp:N,eventType:C,new:{},old:{},errors:A}),this._getPayloadRecords(b))}v.callback(y,s)})}_isClosed(){return this.state===en.closed}_isJoined(){return this.state===en.joined}_isJoining(){return this.state===en.joining}_isLeaving(){return this.state===en.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&k0.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(cr.close,{},t)}_onError(t){this._on(cr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=en.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Qw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Qw(t.columns,t.old_record)),n}}const Rp=()=>{},Md={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},r8=[1e3,2e3,5e3,1e4],s8=1e4,i8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class o8{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xm,this.transport=null,this.heartbeatIntervalMs=Md.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rp,this.ref=0,this.reconnectTimer=null,this.vsn=Yw,this.logger=Rp,this.conn=null,this.sendBuffer=[],this.serializer=new Q$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Jm.websocket}`,this.httpEndpoint=Ek(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=U$.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ri.connecting:return Di.Connecting;case Ri.open:return Di.Open;case Ri.closing:return Di.Closing;default:return Di.Closed}}isConnected(){return this.connectionState()===Di.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===s);if(i)return i;{const a=new k0(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:s,payload:i,ref:a}=t,l=()=>{this.encode(t,d=>{var u;(u=this.conn)===null||u===void 0||u.send(d)})};this.log("push",`${n} ${s} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(K$,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Md.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:a,ref:l}=n,d=l?`(${l})`:"",u=a.status||"";this.log("receive",`${u} ${s} ${i} ${d}`.trim(),a),this.channels.filter(f=>f._isMember(s)).forEach(f=>f._trigger(i,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ri.open||this.conn.readyState===Ri.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(cr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([i8],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:q$};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(cr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new kk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Md.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,i,a,l,d,u,f,m,p,y,v;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t?.timeout)!==null&&s!==void 0?s:Xm,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Md.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:Rp,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:Yw,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(b=>r8[b-1]||s8),this.vsn){case Nk:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((b,j)=>j(JSON.stringify(b))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((b,j)=>j(JSON.parse(b)));break;case G$:this.encode=(y=t?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(v=t?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class C0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Mt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class a8 extends C0{constructor(t,n,s){super(t),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class eg extends C0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const E0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),l8=()=>Response,tg=e=>{if(Array.isArray(e))return e.map(n=>tg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=tg(s)}),t},c8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Dp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},d8=(e,t,n)=>He(void 0,void 0,void 0,function*(){const s=yield l8();e instanceof s&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,l=i?.statusCode||a+"";t(new a8(Dp(i),a,l))}).catch(i=>{t(new eg(Dp(i),i))}):t(new eg(Dp(e),e))}),u8=(e,t,n,s)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!s?i:(c8(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(s)):i.body=s,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function ic(e,t,n,s,i,a){return He(this,void 0,void 0,function*(){return new Promise((l,d)=>{e(n,u8(t,s,i,a)).then(u=>{if(!u.ok)throw u;return s?.noResolveJson?u:u.json()}).then(u=>l(u)).catch(u=>d8(u,d,s))})})}function zl(e,t,n,s){return He(this,void 0,void 0,function*(){return ic(e,"GET",t,n,s)})}function Er(e,t,n,s,i){return He(this,void 0,void 0,function*(){return ic(e,"POST",t,s,i,n)})}function ng(e,t,n,s,i){return He(this,void 0,void 0,function*(){return ic(e,"PUT",t,s,i,n)})}function h8(e,t,n,s){return He(this,void 0,void 0,function*(){return ic(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function A0(e,t,n,s,i){return He(this,void 0,void 0,function*(){return ic(e,"DELETE",t,s,i,n)})}class f8{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return He(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Mt(t))return{data:null,error:t};throw t}})}}var Ak;class p8{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Ak]="BlobDownloadBuilder",this.promise=null}asStream(){return new f8(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return He(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Mt(t))return{data:null,error:t};throw t}})}}Ak=Symbol.toStringTag;const m8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class g8{constructor(t,n={},s,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=s,this.fetch=E0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,s,i){return He(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},Zw),i);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const u=l.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=s,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,u&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const f=this._removeEmptyFolders(n),m=this._getFinalPath(f),p=yield(t=="PUT"?ng:Er)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:d},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Mt(a))return{data:null,error:a};throw a}})}upload(t,n,s){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return He(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",n);try{let u;const f=Object.assign({upsert:Zw.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.append("cacheControl",f.cacheControl)):(u=s,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const p=yield ng(this.fetch,d.toString(),u,{headers:m});return{data:{path:a,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Mt(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return He(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Er(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),l=new URL(this.url+a.url),d=l.searchParams.get("token");if(!d)throw new C0("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}})}update(t,n,s){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return He(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}copy(t,n,s){return He(this,void 0,void 0,function*(){try{return{data:{path:(yield Er(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return He(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Er(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return He(this,void 0,void 0,function*(){try{const i=yield Er(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),l=a?`?${a}`:"",d=this._getFinalPath(t),u=()=>zl(this.fetch,`${this.url}/${i}/${d}${l}`,{headers:this.headers,noResolveJson:!0});return new p8(u,this.shouldThrowOnError)}info(t){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield zl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:tg(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}})}exists(t){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield h8(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mt(s)&&s instanceof eg){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const d=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${f}`)}}}remove(t){return He(this,void 0,void 0,function*(){try{return{data:yield A0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}list(t,n,s){return He(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},m8),n),{prefix:t||""});return{data:yield Er(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}listV2(t,n){return He(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield Er(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const _k="2.81.1",Tk={"X-Client-Info":`storage-js/${_k}`};class x8{constructor(t,n={},s,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tk),n),this.fetch=E0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return He(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield zl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}getBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield zl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}createBucket(t){return He(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield Er(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return He(this,void 0,void 0,function*(){try{return{data:yield ng(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield A0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class y8{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tk),n),this.fetch=E0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}listBuckets(t){return He(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const s=n.toString(),i=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield zl(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield A0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}}const _0={"X-Client-Info":`storage-js/${_k}`,"Content-Type":"application/json"};class Pk extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Xn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Op extends Pk{constructor(t,n,s){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class v8 extends Pk{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var e1;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(e1||(e1={}));const T0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),b8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},t1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),w8=(e,t,n)=>He(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(l=>{const d=l?.statusCode||l?.code||i+"";t(new Op(t1(l),i,d))}).catch(()=>{const l=i+"",d=a.statusText||`HTTP ${i} error`;t(new Op(d,i,l))});else{const l=i+"",d=a.statusText||`HTTP ${i} error`;t(new Op(d,i,l))}}else t(new v8(t1(e),e))}),j8=(e,t,n,s)=>{const i={method:e,headers:t?.headers||{}};return s?(b8(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(s)):i.body=s,Object.assign(Object.assign({},i),n)):i};function S8(e,t,n,s,i,a){return He(this,void 0,void 0,function*(){return new Promise((l,d)=>{e(n,j8(t,s,i,a)).then(u=>{if(!u.ok)throw u;if(s?.noResolveJson)return u;const f=u.headers.get("content-type");return!f||!f.includes("application/json")?{}:u.json()}).then(u=>l(u)).catch(u=>w8(u,d,s))})})}function Jn(e,t,n,s,i){return He(this,void 0,void 0,function*(){return S8(e,"POST",t,s,i,n)})}class N8{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_0),n),this.fetch=T0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return He(this,void 0,void 0,function*(){try{return{data:(yield Jn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xn(n))return{data:null,error:n};throw n}})}getIndex(t,n){return He(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xn(s))return{data:null,error:s};throw s}})}listIndexes(t){return He(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xn(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return He(this,void 0,void 0,function*(){try{return{data:(yield Jn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xn(s))return{data:null,error:s};throw s}})}}class k8{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_0),n),this.fetch=T0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return He(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Jn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xn(n))return{data:null,error:n};throw n}})}getVectors(t){return He(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xn(n))return{data:null,error:n};throw n}})}listVectors(t){return He(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Jn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xn(n))return{data:null,error:n};throw n}})}queryVectors(t){return He(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xn(n))return{data:null,error:n};throw n}})}deleteVectors(t){return He(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Jn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xn(n))return{data:null,error:n};throw n}})}}class C8{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_0),n),this.fetch=T0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return He(this,void 0,void 0,function*(){try{return{data:(yield Jn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xn(n))return{data:null,error:n};throw n}})}getBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xn(n))return{data:null,error:n};throw n}})}listBuckets(){return He(this,arguments,void 0,function*(t={}){try{return{data:yield Jn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return He(this,void 0,void 0,function*(){try{return{data:(yield Jn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xn(n))return{data:null,error:n};throw n}})}}class E8 extends C8{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new A8(this.url,this.headers,t,this.fetch)}}class A8 extends N8{constructor(t,n,s,i){super(t,n,i),this.vectorBucketName=s}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return He(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return He(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return He(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return He(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new _8(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class _8 extends k8{constructor(t,n,s,i,a){super(t,n,a),this.vectorBucketName=s,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return He(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return He(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return He(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return He(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return He(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class T8 extends x8{constructor(t,n={},s,i){super(t,n,s,i)}from(t){return new g8(this.url,this.headers,t,this.fetch)}get vectors(){return new E8(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new y8(this.url+"/iceberg",this.headers,this.fetch)}}const P8="2.81.1";let ml="";typeof Deno<"u"?ml="deno":typeof document<"u"?ml="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ml="react-native":ml="node";const R8={"X-Client-Info":`supabase-js-${ml}/${P8}`},D8={headers:R8},O8={schema:"public"},I8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},F8={},M8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$8=()=>Headers,B8=(e,t,n)=>{const s=M8(n),i=$8();return async(a,l)=>{var d;const u=(d=await t())!==null&&d!==void 0?d:e;let f=new i(l?.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${u}`),s(a,Object.assign(Object.assign({},l),{headers:f}))}};function L8(e){return e.endsWith("/")?e:e+"/"}function z8(e,t){var n,s;const{db:i,auth:a,realtime:l,global:d}=e,{db:u,auth:f,realtime:m,global:p}=t,y={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},m),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),d),{headers:Object.assign(Object.assign({},(n=p?.headers)!==null&&n!==void 0?n:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function W8(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(L8(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Rk="2.81.1",$o=30*1e3,rg=3,Ip=rg*$o,V8="http://localhost:9999",U8="supabase.auth.token",H8={"X-Client-Info":`gotrue-js/${Rk}`},sg="X-Supabase-Api-Version",Dk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},q8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,G8=600*1e3;class Wl extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class K8 extends Wl{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Y8(e){return Ke(e)&&e.name==="AuthApiError"}class Oi extends Wl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ai extends Wl{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class Sr extends ai{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Q8(e){return Ke(e)&&e.name==="AuthSessionMissingError"}class Eo extends ai{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $d extends ai{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Bd extends ai{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function X8(e){return Ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class n1 extends ai{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ig extends ai{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Fp(e){return Ke(e)&&e.name==="AuthRetryableFetchError"}class r1 extends ai{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class og extends ai{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),s1=` 	
\r=`.split(""),J8=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<s1.length;t+=1)e[s1[t].charCodeAt(0)]=-2;for(let t=0;t<_u.length;t+=1)e[_u[t].charCodeAt(0)]=t;return e})();function i1(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(_u[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(_u[s]),t.queuedBits-=6}}function Ok(e,t,n){const s=J8[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function o1(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{tB(l,s,n)};for(let l=0;l<e.length;l+=1)Ok(e.charCodeAt(l),i,a);return t.join("")}function Z8(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function eB(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Z8(s,t)}}function tB(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Xo(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Ok(e.charCodeAt(i),n,s);return new Uint8Array(t)}function nB(e){const t=[];return eB(e,n=>t.push(n)),new Uint8Array(t)}function Bi(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};return e.forEach(i=>i1(i,n,s)),i1(null,n,s),t.join("")}function rB(e){return Math.round(Date.now()/1e3)+e}function sB(){return Symbol("auth-callback")}const gn=()=>typeof window<"u"&&typeof document<"u",ki={tested:!1,writable:!1},Ik=()=>{if(!gn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ki.tested)return ki.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ki.tested=!0,ki.writable=!0}catch{ki.tested=!0,ki.writable=!1}return ki.writable};function iB(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const Fk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oB=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Bo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ci=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Hs=async(e,t)=>{await e.removeItem(t)};class ch{constructor(){this.promise=new ch.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ch.promiseConstructor=Promise;function Mp(e){const t=e.split(".");if(t.length!==3)throw new og("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!q8.test(t[s]))throw new og("JWT not in base64url format");return{header:JSON.parse(o1(t[0])),payload:JSON.parse(o1(t[1])),signature:Xo(t[2]),raw:{header:t[0],payload:t[1]}}}async function aB(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function lB(e,t){return new Promise((s,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){s(l);return}}catch(l){if(!t(a,l)){i(l);return}}})()})}function cB(e){return("0"+e.toString(16)).substr(-2)}function dB(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,cB).join("")}async function uB(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function hB(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await uB(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ao(e,t,n=!1){const s=dB();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Bo(e,`${t}-code-verifier`,i);const a=await hB(s);return[a,s===a?"plain":"s256"]}const fB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pB(e){const t=e.headers.get(sg);if(!t||!t.match(fB))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function mB(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function gB(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _o(e){if(!xB.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $p(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yB(e,t){return new Proxy(e,{get:(n,s,i)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,i)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,s,i)}})}function a1(e){return JSON.parse(JSON.stringify(e))}const _i=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vB=[502,503,504];async function l1(e){var t;if(!oB(e))throw new ig(_i(e),0);if(vB.includes(e.status))throw new ig(_i(e),e.status);let n;try{n=await e.json()}catch(a){throw new Oi(_i(a),a)}let s;const i=pB(e);if(i&&i.getTime()>=Dk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new r1(_i(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Sr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new r1(_i(n),e.status,n.weak_password.reasons);throw new K8(_i(n),e.status||500,s)}const bB=(e,t,n,s)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function tt(e,t,n,s){var i;const a=Object.assign({},s?.headers);a[sg]||(a[sg]=Dk["2024-01-01"].name),s?.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const l=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(l.redirect_to=s.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",u=await wB(e,t,n+d,{headers:a,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(u):{data:Object.assign({},u),error:null}}async function wB(e,t,n,s,i,a){const l=bB(t,s,i,a);let d;try{d=await e(n,Object.assign({},l))}catch(u){throw console.error(u),new ig(_i(u),0)}if(d.ok||await l1(d),s?.noResolveJson)return d;try{return await d.json()}catch(u){await l1(u)}}function Nr(e){var t;let n=null;NB(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=rB(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function c1(e){const t=Nr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ys(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function jB(e){return{data:e,error:null}}function SB(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a}=e,l=si(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a},u=Object.assign({},l);return{data:{properties:d,user:u},error:null}}function d1(e){return e}function NB(e){return e.access_token&&e.refresh_token&&e.expires_in}const Bp=["global","local","others"];class kB{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=Fk(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Bp[0]){if(Bp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bp.join(", ")}`);try{return await tt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ys})}catch(s){if(Ke(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=si(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:SB,redirectTo:n?.redirectTo})}catch(n){if(Ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ys})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,a,l,d,u;try{const f={nextPage:null,lastPage:0,total:0},m=await tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:d1});if(m.error)throw m.error;const p=await m.json(),y=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(u=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(b=>{const j=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);f[`${S}Page`]=j}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Ke(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){_o(t);try{return await tt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ys})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){_o(t);try{return await tt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ys})}catch(s){if(Ke(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){_o(t);try{return await tt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ys})}catch(s){if(Ke(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){_o(t.userId);try{const{data:n,error:s}=await tt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _deleteFactor(t){_o(t.userId),_o(t.id);try{return{data:await tt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,s,i,a,l,d,u;try{const f={nextPage:null,lastPage:0,total:0},m=await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:d1});if(m.error)throw m.error;const p=await m.json(),y=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(u=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(b=>{const j=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);f[`${S}Page`]=j}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Ke(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await tt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Ke(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await tt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}}function u1(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const To={debug:!!(globalThis&&Ik()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class CB extends Mk{}async function EB(e,t,n){To.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),To.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){To.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{To.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw To.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new CB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(To.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function AB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $k(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _B(e){return parseInt(e,16)}function TB(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function PB(e){var t;const{chainId:n,domain:s,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:d,requestId:u,resources:f,scheme:m,uri:p,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=$k(e.address),b=m?`${m}://${s}`:s,j=e.statement?`${e.statement}
`:"",S=`${b} wants you to sign in with your Ethereum account:
${v}

${j}`;let N=`URI: ${p}
Version: ${y}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),u&&(N+=`
Request ID: ${u}`),f){let C=`
Resources:`;for(const A of f){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);C+=`
- ${A}`}N+=C}return`${S}
${N}`}class Gt extends Error{constructor({message:t,code:n,cause:s,name:i}){var a;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(a=i??(s instanceof Error?s.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Tu extends Gt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function RB({error:e,options:t}){var n,s,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Gt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Gt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Gt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Gt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Gt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Gt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(Bk(l)){if(a.rp.id!==l)return new Gt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Gt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Gt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function DB({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(Bk(s)){if(n.rpId!==s)return new Gt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Gt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class OB{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const IB=new OB;function FB(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:s}=e,i=si(e,["challenge","user","excludeCredentials"]),a=Xo(t).buffer,l=Object.assign(Object.assign({},n),{id:Xo(n.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:a,user:l});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let u=0;u<s.length;u++){const f=s[u];d.excludeCredentials[u]=Object.assign(Object.assign({},f),{id:Xo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return d}function MB(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,s=si(e,["challenge","allowCredentials"]),i=Xo(t).buffer,a=Object.assign(Object.assign({},s),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const d=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},d),{id:Xo(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function $B(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Bi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Bi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BB(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,s=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Bi(new Uint8Array(i.authenticatorData)),clientDataJSON:Bi(new Uint8Array(i.clientDataJSON)),signature:Bi(new Uint8Array(i.signature)),userHandle:i.userHandle?Bi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Bk(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function h1(){var e,t;return!!(gn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function LB(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Tu("Browser returned unexpected credential type",t)}:{data:null,error:new Tu("Empty credential response",t)}}catch(t){return{data:null,error:RB({error:t,options:e})}}}async function zB(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Tu("Browser returned unexpected credential type",t)}:{data:null,error:new Tu("Empty credential response",t)}}catch(t){return{data:null,error:DB({error:t,options:e})}}}const WB={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},VB={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pu(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),s={};for(const i of e)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))s[a]=l;else if(n(l))s[a]=l;else if(t(l)){const d=s[a];t(d)?s[a]=Pu(d,l):s[a]=Pu(l)}else s[a]=l}return s}function UB(e,t){return Pu(WB,e,t||{})}function HB(e,t){return Pu(VB,e,t||{})}class qB{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:s,signal:i},a){try{const{data:l,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:d};const u=i??IB.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${s}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=UB(l.webauthn.credential_options.publicKey,a?.create),{data:m,error:p}=await LB({publicKey:f,signal:u});return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const f=HB(l.webauthn.credential_options.publicKey,a?.request),{data:m,error:p}=await zB(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:u}));return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(l){return Ke(l)?{data:null,error:l}:{data:null,error:new Oi("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Wl("rpId is required for WebAuthn authentication")};try{if(!h1())return{data:null,error:new Oi("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:s},signal:i},{request:a});if(!l)return{data:null,error:d};const{webauthn:u}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:s,credential_response:u.credential_response}})}catch(l){return Ke(l)?{data:null,error:l}:{data:null,error:new Oi("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Wl("rpId is required for WebAuthn registration")};try{if(!h1())return{data:null,error:new Oi("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:d};const{data:u,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:i},{create:a});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:s,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(l){return Ke(l)?{data:null,error:l}:{data:null,error:new Oi("Unexpected error in register",l)}}}}AB();const GB={url:V8,storageKey:U8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:H8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function f1(e,t,n){return await n()}const Po={};class Vl{get jwks(){var t,n;return(n=(t=Po[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Po[this.storageKey]=Object.assign(Object.assign({},Po[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Po[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Po[this.storageKey]=Object.assign(Object.assign({},Po[this.storageKey]),{cachedAt:t})}constructor(t){var n,s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},GB),t);if(this.storageKey=a.storageKey,this.instanceID=(n=Vl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Vl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&gn()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new kB({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Fk(a.fetch),this.lock=a.lock||f1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:gn()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=EB:this.lock=f1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qB(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Ik()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=u1(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=u1(this.memoryStorage)),gn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Rk}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},s="none";if(gn()&&(n=iB(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),gn()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),X8(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ke(n)?this._returnResult({error:n}):this._returnResult({error:new Oi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const a=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Nr}),{data:l,error:d}=a;if(d||!l)return this._returnResult({data:{user:null,session:null},error:d});const u=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(Ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,s,i;try{let a;if("email"in t){const{email:m,password:p,options:y}=t;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await Ao(this.storage,this.storageKey)),a=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:m,password:p,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:v,code_challenge_method:b},xform:Nr})}else if("phone"in t){const{phone:m,password:p,options:y}=t;a=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(s=y?.data)!==null&&s!==void 0?s:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Nr})}else throw new $d("You must provide either an email or phone number and a password");const{data:l,error:d}=a;if(d||!l)return this._returnResult({data:{user:null,session:null},error:d});const u=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(Ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:l,options:d}=t;n=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:c1})}else if("phone"in t){const{phone:a,password:l,options:d}=t;n=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:c1})}else throw new $d("You must provide either an email or phone number and a password");const{data:s,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!s||!s.session||!s.user){const a=new Eo;return this._returnResult({data:{user:null,session:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,s,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,s,i,a,l,d,u,f,m,p,y;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:j,wallet:S,statement:N,options:C}=t;let A;if(gn())if(typeof S=="object")A=S;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")A=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const E=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href),_=await A.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=$k(_[0]);let D=(s=C?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!D){const V=await A.request({method:"eth_chainId"});D=_B(V)}const R={domain:E.host,address:T,statement:N,uri:E.href,version:"1",chainId:D,nonce:(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=C?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=C?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(u=C?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(f=C?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=C?.signInWithEthereum)===null||m===void 0?void 0:m.resources};v=PB(R),b=await A.request({method:"personal_sign",params:[TB(v),T]})}try{const{data:j,error:S}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:b},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Nr});if(S)throw S;if(!j||!j.session||!j.user){const N=new Eo;return this._returnResult({data:{user:null,session:null},error:N})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:S})}catch(j){if(Ke(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(t){var n,s,i,a,l,d,u,f,m,p,y,v;let b,j;if("message"in t)b=t.message,j=t.signature;else{const{chain:S,wallet:N,statement:C,options:A}=t;let E;if(gn())if(typeof N=="object")E=N;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))E=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=N}const _=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const T=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),C?{statement:C}:null));let D;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")D=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)D=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)b=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),j=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${_.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(s=A?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=A?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((l=A?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((p=(m=A?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...A.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const T=await E.signMessage(new TextEncoder().encode(b),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=T}}try{const{data:S,error:N}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Bi(j)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Nr});if(N)throw N;if(!S||!S.session||!S.user){const C=new Eo;return this._returnResult({data:{user:null,session:null},error:C})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:N})}catch(S){if(Ke(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await Ci(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:a,error:l}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Nr});if(await Hs(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const d=new Eo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(Ke(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:a,nonce:l}=t,d=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Nr}),{data:u,error:f}=d;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const m=new Eo;return this._returnResult({data:{user:null,session:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:f})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,s,i,a,l;try{if("email"in t){const{email:d,options:u}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Ao(this.storage,this.storageKey));const{error:p}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:d,options:u}=t,{data:f,error:m}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(l=u?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new $d("You must provide either an email or phone number.")}catch(d){if(Ke(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var n,s;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:l,error:d}=await tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Nr});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const u=l.session,f=l.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(Ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,s,i,a,l;try{let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Ao(this.storage,this.storageKey));const f=await tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:u}),headers:this.headers,xform:jB});return!((a=f.data)===null||a===void 0)&&a.url&&gn()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(d){if(Ke(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Sr;const{error:i}=await tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ke(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:a}=t,{error:l}=await tt(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:s,type:i,options:a}=t,{data:l,error:d}=await tt(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:d})}throw new $d("You must provide either an email or phone number and a type")}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ci(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Ip:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const l=await Ci(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=$p()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=yB(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ys}):await this._useSession(async n=>{var s,i,a;const{data:l,error:d}=n;if(d)throw d;return!(!((s=l.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sr}:await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ys})})}catch(n){if(Ke(n))return Q8(n)&&(await this._removeSession(),await Hs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new Sr;const l=i.session;let d=null,u=null;this.flowType==="pkce"&&t.email!=null&&([d,u]=await Ao(this.storage,this.storageKey));const{data:f,error:m}=await tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:u}),jwt:l.access_token,xform:Ys});if(m)throw m;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(s){if(Ke(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Sr;const n=Date.now()/1e3;let s=n,i=!0,a=null;const{payload:l}=Mp(t.access_token);if(l.exp&&(s=l.exp,i=s<=n),i){const{data:d,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ke(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:l,error:d}=n;if(d)throw d;t=(s=l.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new Sr;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!gn())throw new Bd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new n1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new n1("No code detected.");const{data:C,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:d,expires_at:u,token_type:f}=t;if(!a||!d||!l||!f)throw new Bd("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(d);let y=m+p;u&&(y=parseInt(u));const v=y-m;v*1e3<=$o&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const b=y-p;m-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,y,m):m-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,y,m);const{data:j,error:S}=await this._getUser(a);if(S)throw S;const N={provider_token:s,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:y,refresh_token:l,token_type:f,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(s){if(Ke(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ci(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const l=(s=i.session)===null||s===void 0?void 0:s.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(Y8(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await Hs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=sB(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:a},error:l}=n;if(l)throw l;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Ao(this.storage,this.storageKey,!0));try{return await tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ke(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:s,error:i}=await this._useSession(async a=>{var l,d,u,f,m;const{data:p,error:y}=a;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await tt(this.fetch,"GET",v,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return gn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:t.provider,url:s?.url},error:null})}catch(s){if(Ke(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var s;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:l,provider:d,token:u,access_token:f,nonce:m}=t,p=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=a?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:u,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Nr}),{data:y,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Eo}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:v}))}catch(i){if(Ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:l}=n;if(l)throw l;return await tt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await lB(async i=>(i>0&&await aB(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Nr})),(i,a)=>{const l=200*Math.pow(2,i);return a&&Fp(a)&&Date.now()+l-s<$o})}catch(s){if(this._debug(n,"error",s),Ke(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),gn()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Ci(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Ci(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Bo(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l?.user)!==null&&t!==void 0?t:$p()}else if(i&&!i.user&&!i.user){const l=await Ci(this.storage,this.storageKey+"-user");l&&l?.user?(i.user=l.user,await Hs(this.storage,this.storageKey+"-user"),await Bo(this.storage,this.storageKey,i)):i.user=$p()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ip;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${Ip}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Fp(l)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(i.access_token);!d&&l?.user?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(s,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Sr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ch;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new Sr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(i,"error",a),Ke(a)){const l={data:null,error:a};return Fp(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(l),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Bo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=a1(i);await Bo(this.storage,this.storageKey,a)}else{const i=a1(n);await Bo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Hs(this.storage,this.storageKey),await Hs(this.storage,this.storageKey+"-code-verifier"),await Hs(this.storage,this.storageKey+"-user"),this.userStorage&&await Hs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&gn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$o);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/$o);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${$o}ms, refresh threshold is ${rg} ticks`),i<=rg&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Mk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,l]=await Ao(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(d.toString())}if(s?.queryParams){const a=new URLSearchParams(s.queryParams);i.push(a.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await tt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:f}=await tt(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?$B(t.webauthn.credential_response):BB(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:u}=await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:u}))})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:FB(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:MB(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:s},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Mp(s.access_token);let l=null;a.aal&&(l=a.aal);let d=l;((n=(t=s.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const f=a.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;return i?this._returnResult({data:null,error:i}):s?await tt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Sr})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async s=>{const{data:{session:i},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Sr});const l=await tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&gn()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(s){if(Ke(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,n){try{return await this._useSession(async s=>{const{data:{session:i},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Sr});const l=await tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&gn()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(s){if(Ke(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(d=>d.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(d=>d.kid===t),s&&this.jwks_cached_at+G8>i)return s;const{data:a,error:l}=await tt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,s=a.keys.find(d=>d.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:v,error:b}=await this.getSession();if(b||!v.session)return this._returnResult({data:null,error:b});s=v.session.access_token}const{header:i,payload:a,signature:l,raw:{header:d,payload:u}}=Mp(s);n?.allowExpired||mB(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:v}=await this.getUser(s);if(v)throw v;return{data:{claims:a,header:i,signature:l},error:null}}const m=gB(i.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,l,nB(`${d}.${u}`)))throw new og("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(s){if(Ke(s))return this._returnResult({data:null,error:s});throw s}}}Vl.nextInstanceID={};const KB=Vl;class YB extends KB{constructor(t){super(t)}}class QB{constructor(t,n,s){var i,a,l;this.supabaseUrl=t,this.supabaseKey=n;const d=W8(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const u=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:O8,realtime:F8,auth:Object.assign(Object.assign({},I8),{storageKey:u}),global:D8},m=z8(s??{},f);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=B8(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new V$(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new T8(this.storageUrl.href,this.headers,this.fetch,s?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new B$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,storageKey:l,flowType:d,lock:u,debug:f,throwOnError:m},p,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YB({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,flowType:d,lock:u,debug:f,throwOnError:m,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new o8(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const XB=(e,t,n)=>new QB(e,t,n);function JB(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}JB()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ZB=`https://${Ge}.supabase.co`;let Lp=null;function er(){return Lp||(Lp=XB(ZB,Yt,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:{getItem:e=>typeof window>"u"?null:localStorage.getItem(e),setItem:(e,t)=>{typeof window>"u"||localStorage.setItem(e,t)},removeItem:e=>{typeof window>"u"||localStorage.removeItem(e)}}}}),console.log(" Supabase client initialized")),Lp}function eL(e,t){return g.useReducer((n,s)=>t[n][s]??n,e)}var Sa=e=>{const{present:t,children:n}=e,s=tL(t),i=typeof n=="function"?n({present:s.isPresent}):g.Children.only(n),a=Lt(s.ref,nL(i));return typeof n=="function"||s.isPresent?g.cloneElement(i,{ref:a}):null};Sa.displayName="Presence";function tL(e){const[t,n]=g.useState(),s=g.useRef(null),i=g.useRef(e),a=g.useRef("none"),l=e?"mounted":"unmounted",[d,u]=eL(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const f=Ld(s.current);a.current=d==="mounted"?f:"none"},[d]),An(()=>{const f=s.current,m=i.current;if(m!==e){const y=a.current,v=Ld(f);e?u("MOUNT"):v==="none"||f?.display==="none"?u("UNMOUNT"):u(m&&y!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),An(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,p=v=>{const j=Ld(s.current).includes(CSS.escape(v.animationName));if(v.target===t&&j&&(u("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=v=>{v.target===t&&(a.current=Ld(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:g.useCallback(f=>{s.current=f?getComputedStyle(f):null,n(f)},[])}}function Ld(e){return e?.animationName||"none"}function nL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function rL(e){const t=sL(e),n=g.forwardRef((s,i)=>{const{children:a,...l}=s,d=g.Children.toArray(a),u=d.find(oL);if(u){const f=u.props.children,m=d.map(p=>p===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:p);return r.jsx(t,{...l,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,m):null})}return r.jsx(t,{...l,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function sL(e){const t=g.forwardRef((n,s)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const l=lL(i),d=aL(a,i.props);return i.type!==g.Fragment&&(d.ref=s?Ji(s,l):l),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iL=Symbol("radix.slottable");function oL(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iL}function aL(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function lL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var dh="Dialog",[Lk]=rc(dh),[cL,Ir]=Lk(dh),zk=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=e,d=g.useRef(null),u=g.useRef(null),[f,m]=Cu({prop:s,defaultProp:i??!1,onChange:a,caller:dh});return r.jsx(cL,{scope:t,triggerRef:d,contentRef:u,contentId:Vi(),titleId:Vi(),descriptionId:Vi(),open:f,onOpenChange:m,onOpenToggle:g.useCallback(()=>m(p=>!p),[m]),modal:l,children:n})};zk.displayName=dh;var Wk="DialogTrigger",dL=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ir(Wk,n),a=Lt(t,i.triggerRef);return r.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":D0(i.open),...s,ref:a,onClick:Nt(e.onClick,i.onOpenToggle)})});dL.displayName=Wk;var P0="DialogPortal",[uL,Vk]=Lk(P0,{forceMount:void 0}),Uk=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,a=Ir(P0,t);return r.jsx(uL,{scope:t,forceMount:n,children:g.Children.map(s,l=>r.jsx(Sa,{present:n||a.open,children:r.jsx(nh,{asChild:!0,container:i,children:l})}))})};Uk.displayName=P0;var Ru="DialogOverlay",Hk=g.forwardRef((e,t)=>{const n=Vk(Ru,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Ir(Ru,e.__scopeDialog);return a.modal?r.jsx(Sa,{present:s||a.open,children:r.jsx(fL,{...i,ref:t})}):null});Hk.displayName=Ru;var hL=rL("DialogOverlay.RemoveScroll"),fL=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ir(Ru,n);return r.jsx(ih,{as:hL,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(Ct.div,{"data-state":D0(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Yi="DialogContent",qk=g.forwardRef((e,t)=>{const n=Vk(Yi,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Ir(Yi,e.__scopeDialog);return r.jsx(Sa,{present:s||a.open,children:a.modal?r.jsx(pL,{...i,ref:t}):r.jsx(mL,{...i,ref:t})})});qk.displayName=Yi;var pL=g.forwardRef((e,t)=>{const n=Ir(Yi,e.__scopeDialog),s=g.useRef(null),i=Lt(t,n.contentRef,s);return g.useEffect(()=>{const a=s.current;if(a)return v0(a)},[]),r.jsx(Gk,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nt(e.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Nt(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&a.preventDefault()}),onFocusOutside:Nt(e.onFocusOutside,a=>a.preventDefault())})}),mL=g.forwardRef((e,t)=>{const n=Ir(Yi,e.__scopeDialog),s=g.useRef(!1),i=g.useRef(!1);return r.jsx(Gk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||n.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;n.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Gk=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=e,d=Ir(Yi,n),u=g.useRef(null),f=Lt(t,u);return c0(),r.jsxs(r.Fragment,{children:[r.jsx(Qu,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(Yu,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":D0(d.open),...l,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(xL,{titleId:d.titleId}),r.jsx(vL,{contentRef:u,descriptionId:d.descriptionId})]})]})}),R0="DialogTitle",Kk=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ir(R0,n);return r.jsx(Ct.h2,{id:i.titleId,...s,ref:t})});Kk.displayName=R0;var Yk="DialogDescription",gL=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ir(Yk,n);return r.jsx(Ct.p,{id:i.descriptionId,...s,ref:t})});gL.displayName=Yk;var Qk="DialogClose",Xk=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ir(Qk,n);return r.jsx(Ct.button,{type:"button",...s,ref:t,onClick:Nt(e.onClick,()=>i.onOpenChange(!1))})});Xk.displayName=Qk;function D0(e){return e?"open":"closed"}var Jk="DialogTitleWarning",[aU,Zk]=wO(Jk,{contentName:Yi,titleName:R0,docsSlug:"dialog"}),xL=({titleId:e})=>{const t=Zk(Jk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},yL="DialogDescriptionWarning",vL=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Zk(yL).contentName}}.`;return g.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},bL=zk,wL=Uk,jL=Hk,SL=qk,NL=Kk,kL=Xk;function Jo({...e}){return r.jsx(bL,{"data-slot":"dialog",...e})}function CL({...e}){return r.jsx(wL,{"data-slot":"dialog-portal",...e})}function EL({className:e,...t}){return r.jsx(jL,{"data-slot":"dialog-overlay",className:En("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Zo({className:e,children:t,...n}){return r.jsxs(CL,{"data-slot":"dialog-portal",children:[r.jsx(EL,{}),r.jsxs(SL,{"data-slot":"dialog-content",className:En("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,r.jsxs(kL,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[r.jsx(yn,{}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ea({className:e,...t}){return r.jsx("div",{"data-slot":"dialog-header",className:En("flex flex-col gap-2 text-center sm:text-left",e),...t})}function ta({className:e,...t}){return r.jsx("div",{"data-slot":"dialog-footer",className:En("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function na({className:e,...t}){return r.jsx(NL,{"data-slot":"dialog-title",className:En("text-lg leading-none font-semibold",e),...t})}function AL(e){const t=_L(e),n=g.forwardRef((s,i)=>{const{children:a,...l}=s,d=g.Children.toArray(a),u=d.find(PL);if(u){const f=u.props.children,m=d.map(p=>p===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:p);return r.jsx(t,{...l,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,m):null})}return r.jsx(t,{...l,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function _L(e){const t=g.forwardRef((n,s)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const l=DL(i),d=RL(a,i.props);return i.type!==g.Fragment&&(d.ref=s?Ji(s,l):l),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var TL=Symbol("radix.slottable");function PL(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===TL}function RL(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function DL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var uh="Popover",[eC]=rc(uh,[th]),oc=th(),[OL,li]=eC(uh),tC=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:l=!1}=e,d=oc(t),u=g.useRef(null),[f,m]=g.useState(!1),[p,y]=Cu({prop:s,defaultProp:i??!1,onChange:a,caller:uh});return r.jsx(uN,{...d,children:r.jsx(OL,{scope:t,contentId:Vi(),triggerRef:u,open:p,onOpenChange:y,onOpenToggle:g.useCallback(()=>y(v=>!v),[y]),hasCustomAnchor:f,onCustomAnchorAdd:g.useCallback(()=>m(!0),[]),onCustomAnchorRemove:g.useCallback(()=>m(!1),[]),modal:l,children:n})})};tC.displayName=uh;var nC="PopoverAnchor",IL=g.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=li(nC,n),a=oc(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:d}=i;return g.useEffect(()=>(l(),()=>d()),[l,d]),r.jsx(y0,{...a,...s,ref:t})});IL.displayName=nC;var rC="PopoverTrigger",sC=g.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=li(rC,n),a=oc(n),l=Lt(t,i.triggerRef),d=r.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":cC(i.open),...s,ref:l,onClick:Nt(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?d:r.jsx(y0,{asChild:!0,...a,children:d})});sC.displayName=rC;var O0="PopoverPortal",[FL,ML]=eC(O0,{forceMount:void 0}),iC=e=>{const{__scopePopover:t,forceMount:n,children:s,container:i}=e,a=li(O0,t);return r.jsx(FL,{scope:t,forceMount:n,children:r.jsx(Sa,{present:n||a.open,children:r.jsx(nh,{asChild:!0,container:i,children:s})})})};iC.displayName=O0;var ua="PopoverContent",oC=g.forwardRef((e,t)=>{const n=ML(ua,e.__scopePopover),{forceMount:s=n.forceMount,...i}=e,a=li(ua,e.__scopePopover);return r.jsx(Sa,{present:s||a.open,children:a.modal?r.jsx(BL,{...i,ref:t}):r.jsx(LL,{...i,ref:t})})});oC.displayName=ua;var $L=AL("PopoverContent.RemoveScroll"),BL=g.forwardRef((e,t)=>{const n=li(ua,e.__scopePopover),s=g.useRef(null),i=Lt(t,s),a=g.useRef(!1);return g.useEffect(()=>{const l=s.current;if(l)return v0(l)},[]),r.jsx(ih,{as:$L,allowPinchZoom:!0,children:r.jsx(aC,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nt(e.onCloseAutoFocus,l=>{l.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Nt(e.onPointerDownOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,f=d.button===2||u;a.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Nt(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),LL=g.forwardRef((e,t)=>{const n=li(ua,e.__scopePopover),s=g.useRef(!1),i=g.useRef(!1);return r.jsx(aC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||n.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;n.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),aC=g.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,...p}=e,y=li(ua,n),v=oc(n);return c0(),r.jsx(Qu,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(Yu,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onDismiss:()=>y.onOpenChange(!1),children:r.jsx(hN,{"data-state":cC(y.open),role:"dialog",id:y.contentId,...v,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),lC="PopoverClose",zL=g.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=li(lC,n);return r.jsx(Ct.button,{type:"button",...s,ref:t,onClick:Nt(e.onClick,()=>i.onOpenChange(!1))})});zL.displayName=lC;var WL="PopoverArrow",VL=g.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=oc(n);return r.jsx(fN,{...i,...s,ref:t})});VL.displayName=WL;function cC(e){return e?"open":"closed"}var UL=tC,HL=sC,qL=iC,GL=oC;function dC({...e}){return r.jsx(UL,{"data-slot":"popover",...e})}function uC({...e}){return r.jsx(HL,{"data-slot":"popover-trigger",...e})}function hC({className:e,align:t="center",sideOffset:n=4,...s}){return r.jsx(qL,{children:r.jsx(GL,{"data-slot":"popover-content",align:t,sideOffset:n,className:En("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...s})})}let ru=null,Lo=null;function Ul(){ru=null,Lo=null,console.log(" Vocabulary list cache invalidated")}function fC({onBack:e,onBackToHome:t,onSelectVocabulary:n,onStartFlashcards:s,getAuthToken:i}){const[a,l]=g.useState([]),[d,u]=g.useState([]),[f,m]=g.useState(!1),[p,y]=g.useState({}),[v,b]=g.useState(!0),[j,S]=g.useState(!1),[N,C]=g.useState(!1),[A,E]=g.useState(!1),[_,T]=g.useState(null),[D,R]=g.useState(null),[V,G]=g.useState("");g.useEffect(()=>{let L=!1;const K=ee=>{L||(l(ee.myOwnVocabularies),u(ee.mySharedVocabularies),b(!1))};if(ru)return K(ru),()=>{L=!0};if(Lo)return b(!0),Lo.then(ee=>K(ee)).catch(ee=>{L||(console.error("Failed to load vocabularies:",ee),b(!1))}),()=>{L=!0};b(!0);const U=(async()=>{const ee=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies`,{headers:{Authorization:`Bearer ${i?i():Yt}`}}),Y={myOwnVocabularies:[],mySharedVocabularies:[],timestamp:Date.now()};if(ee.ok){const fe=(await ee.json()).vocabularies||[];Y.myOwnVocabularies=fe.filter(ue=>!ue.shared_vocabulary_id),Y.mySharedVocabularies=fe.filter(ue=>ue.shared_vocabulary_id),console.log(" Loaded My Own vocabularies:",Y.myOwnVocabularies.length),console.log(" Loaded My Shared vocabularies:",Y.mySharedVocabularies.length)}else{const le=await ee.text();console.error(" Failed to load user vocabularies:",le)}return ru=Y,Y})();return Lo=U,U.then(ee=>K(ee)).catch(ee=>{L||(console.error("Failed to load vocabularies:",ee),b(!1))}).finally(()=>{Lo===U&&(Lo=null)}),()=>{L=!0}},[i]);const ne={id:"my-own",title:"  ",subtitle:" ",progress:0,isExpanded:f,items:a.map(L=>({id:L.id,title:L.title,wordCount:L.active_words??L.total_words??0,estimatedTime:`${Math.ceil((L.active_words??L.total_words??0)/3)} min`,isCompleted:!1,progress:0}))},oe=(()=>{console.log(" Creating shared vocab units from:",d),console.log(" Current sharedVocabExpanded state:",p);const L={};return d.forEach(K=>{const U=K.category||"Uncategorized";console.log(` Vocab "${K.title}" -> category: "${U}"`),L[U]||(L[U]=[]),L[U].push(K)}),console.log(" Category groups:",L),Object.entries(L).map(([K,U])=>{const ee=U.reduce((Y,le)=>Y+(le.active_words??le.total_words??0),0);return{id:`category-${K}`,title:K,subtitle:`${ee}   ${U.length} `,progress:0,units:U.map(Y=>({id:Y.id,title:Y.title,wordCount:Y.active_words??Y.total_words??0,startIndex:1,endIndex:Y.active_words??Y.total_words??0})),isExpanded:p[K]||!1,vocabularyId:K,wordsPerUnit:0,totalWords:ee}})})(),Z=[ne],F=L=>{if(console.log(" Toggling unit:",L),L==="my-own")m(!f);else if(L.startsWith("category-")){const K=L.replace("category-","");console.log(" Toggling category:",K),y(U=>{const ee={...U,[K]:!U[K]};return console.log(" New expanded state:",ee),ee})}},z=L=>{n(L.id,L.title)},B=(L,K)=>{K.stopPropagation(),T(L),G(L.title),S(!0)},O=(L,K)=>{K.stopPropagation(),T(L),C(!0)},$=async()=>{if(!(!_||!V.trim()))try{const L=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/${_.id}`,{method:"PUT",headers:{Authorization:`Bearer ${i?i():Yt}`,"Content-Type":"application/json"},body:JSON.stringify({title:V.trim()})});if(L.ok)l(K=>K.map(U=>U.id===_.id?{...U,title:V.trim()}:U)),S(!1),T(null),G(""),console.log("Vocabulary renamed successfully");else{const K=await L.json();console.error("Failed to rename vocabulary:",K),alert("  .")}}catch(L){console.error("Error renaming vocabulary:",L),alert("    .")}},q=async()=>{if(_)try{const L=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/${_.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${i?i():Yt}`}});if(L.ok)l(K=>K.filter(U=>U.id!==_.id)),C(!1),T(null),console.log("Vocabulary deleted successfully");else{const K=await L.json();console.error("Failed to delete vocabulary:",K),alert(" .")}}catch(L){console.error("Error deleting vocabulary:",L),alert("   .")}},M=(L,K,U)=>{U.stopPropagation(),R({id:L,title:K}),E(!0)},W=async()=>{if(D)try{const L=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/${D.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${i?i():Yt}`}});if(L.ok)u(K=>K.filter(U=>U.id!==D.id)),E(!1),R(null),console.log("Shared vocabulary deleted successfully");else{const K=await L.json();console.error("Failed to delete shared vocabulary:",K),alert(" .")}}catch(L){console.error("Error deleting shared vocabulary:",L),alert("   .")}};return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsx("div",{className:"sticky top-0 z-40",style:{background:"transparent"},children:r.jsxs("div",{className:"flex items-center justify-between p-4",children:[r.jsx(Or,{onClick:e}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(s6,{className:"w-5 h-5 text-[#091A7A]"}),r.jsx("h1",{className:"text-[#091A7A]",style:{fontSize:"18px",fontWeight:700},children:"Vocabulary"})]}),t?r.jsx(I.button,{whileTap:{scale:.95},onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full bg-white/80 backdrop-blur-sm shadow-md",children:r.jsx(Xi,{className:"w-5 h-5 text-[#091A7A]"})}):r.jsx("div",{className:"w-10"})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-24",style:{overflowY:"auto",WebkitOverflowScrolling:"touch"},children:v?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-[#8B5CF6] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-[#491B6D]",style:{fontSize:"14px",fontWeight:500},children:"  ..."})]})}):r.jsxs("div",{className:"space-y-2.5 pt-2",children:[Z.map((L,K)=>r.jsx("div",{children:r.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:K*.1},className:`backdrop-blur-lg rounded-2xl overflow-hidden shadow-lg ${L.id==="my-own"?"bg-gradient-to-br from-[#FDF2F8] to-[#FCE7F3]":"bg-white/95"}`,children:[r.jsxs(I.div,{whileTap:{scale:.98},onClick:()=>F(L.id),className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-[#091A7A] mb-1",style:{fontSize:"16px",fontWeight:600},children:L.title}),r.jsxs("span",{className:`inline-block ${L.id==="my-own"?"text-[#9CA3AF]":"text-[#8B5CF6]"}`,style:{fontSize:"11px",fontWeight:500},children:[L.items.reduce((U,ee)=>U+ee.wordCount,0)," words"]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsxs("span",{className:`${L.id==="my-own"?"text-[#9CA3AF]":"text-[#8B5CF6]"}`,style:{fontSize:"12px",fontWeight:600},children:[L.progress,"%"]}),r.jsx(I.div,{animate:{rotate:L.isExpanded?180:0},transition:{duration:.3},children:r.jsx(Hn,{className:"w-5 h-5 text-[#091A7A]"})})]})]}),r.jsx("div",{className:"mt-2.5",children:r.jsx("div",{className:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden",children:r.jsx(I.div,{initial:{width:0},animate:{width:`${L.progress}%`},transition:{duration:.8,delay:K*.1+.2},className:"h-full bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] rounded-full"})})})]}),r.jsx(pt,{children:L.isExpanded&&r.jsx(I.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-200/50 overflow-hidden",children:r.jsx("div",{className:"p-2 space-y-1.5",children:L.items.map((U,ee)=>r.jsxs(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:ee*.05},whileTap:{scale:.98},onClick:()=>z(U),className:`backdrop-blur-sm rounded-xl p-3 flex items-center gap-2.5 ${L.id==="my-own"?"bg-gradient-to-r from-white/95 to-[#FDF2F8]/90":"bg-white/80"}`,children:[r.jsx("div",{className:`w-7 h-7 rounded-lg flex items-center justify-center flex-shrink-0 ${L.id==="my-own"?"bg-gradient-to-br from-[#F9A8D4] to-[#EC4899]":"bg-gradient-to-br from-[#C4B5FD] to-[#A78BFA]"}`,children:r.jsx("span",{className:"text-white",style:{fontSize:"12px",fontWeight:600},children:ee+1})}),r.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between",children:[r.jsx("h4",{className:"text-[#091A7A]",style:{fontSize:"14px",fontWeight:600},children:U.title}),r.jsxs("span",{className:`${L.id==="my-own"?"text-[#F472B6]":"text-[#6B7280]"}`,style:{fontSize:"11px"},children:[U.wordCount," words"]})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx("button",{onClick:Y=>{Y.stopPropagation(),s&&s(U.id,U.title)},className:`p-1.5 ${L.id==="my-own"?"hover:bg-pink-100":"hover:bg-purple-100"} rounded-lg transition-colors`,title:" ",children:r.jsx(mu,{className:`w-5 h-5 ${L.id==="my-own"?"text-[#EC4899]":"text-[#8B5CF6]"}`})})}),L.id==="my-own"&&r.jsx("div",{className:"flex-shrink-0",onClick:Y=>Y.stopPropagation(),children:r.jsxs(dC,{children:[r.jsx(uC,{asChild:!0,children:r.jsx("button",{className:"p-1 hover:bg-pink-100 rounded-lg transition-colors",children:r.jsx(dS,{className:"w-5 h-5 text-[#EC4899]"})})}),r.jsx(hC,{className:"w-40 p-2 bg-white border border-gray-200 shadow-lg",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:Y=>B(U,Y),children:[r.jsx(yS,{className:"w-4 h-4 text-[#8B5CF6]"}),r.jsx("span",{className:"text-[#8B5CF6]",style:{fontSize:"14px",fontWeight:500},children:" "})]}),r.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:Y=>O(U,Y),children:[r.jsx(bs,{className:"w-4 h-4 text-[#EF4444]"}),r.jsx("span",{className:"text-[#EF4444]",style:{fontSize:"14px",fontWeight:500},children:""})]})]})})]})})]},U.id))})})})]})},L.id)),oe.map((L,K)=>r.jsx("div",{children:r.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:(Z.length+K)*.1},className:"bg-gradient-to-br from-[#F3E8FF] to-[#E9D5FF] backdrop-blur-lg rounded-2xl overflow-hidden shadow-lg border border-[#C4B5FD]/30",children:[r.jsxs(I.div,{whileTap:{scale:.98},onClick:()=>{console.log(" CLICK detected on category:",L.id,"isExpanded:",L.isExpanded),F(L.id)},className:"p-4 cursor-pointer",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsx("h3",{className:"text-[#5B21B6]",style:{fontSize:"16px",fontWeight:600},children:L.title})]}),r.jsx("span",{className:"inline-block text-[#7C3AED] mt-1",style:{fontSize:"11px",fontWeight:500},children:L.subtitle})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsxs("span",{className:"text-[#7C3AED]",style:{fontSize:"12px",fontWeight:600},children:[L.progress,"%"]}),r.jsx(I.div,{animate:{rotate:L.isExpanded?180:0},transition:{duration:.3},children:r.jsx(Hn,{className:"w-5 h-5 text-[#5B21B6]"})})]})]}),r.jsx("div",{className:"mt-2.5",children:r.jsx("div",{className:"w-full h-1.5 bg-white/60 rounded-full overflow-hidden",children:r.jsx(I.div,{initial:{width:0},animate:{width:`${L.progress}%`},transition:{duration:.8,delay:(Z.length+K)*.1+.2},className:"h-full bg-gradient-to-r from-[#7C3AED] to-[#A78BFA] rounded-full"})})})]}),r.jsx(pt,{children:L.isExpanded&&r.jsx(I.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-[#C4B5FD]/30 overflow-hidden",children:r.jsx("div",{className:"p-2 space-y-1.5",children:L.units.map((U,ee)=>r.jsxs(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:ee*.05},whileTap:{scale:.98},onClick:()=>n(U.id,U.title),className:"bg-white/90 backdrop-blur-sm rounded-xl p-3 flex items-center gap-2.5",children:[r.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-[#A78BFA] to-[#7C3AED] rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white",style:{fontSize:"12px",fontWeight:600},children:ee+1})}),r.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between",children:[r.jsx("h4",{className:"text-[#5B21B6]",style:{fontSize:"14px",fontWeight:600},children:U.title}),r.jsxs("span",{className:"text-[#8B5CF6]",style:{fontSize:"11px"},children:[U.wordCount," words"]})]}),r.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1",children:[r.jsx("button",{onClick:Y=>{Y.stopPropagation(),s&&s(U.id,U.title)},className:"p-1.5 hover:bg-purple-100 rounded-lg transition-colors",title:" ",children:r.jsx(mu,{className:"w-5 h-5 text-[#7C3AED]"})}),r.jsx("button",{onClick:Y=>M(U.id,U.title,Y),className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors",title:"",children:r.jsx(bs,{className:"w-4 h-4 text-red-500"})})]})]},U.id))})})})]})},L.id))]})}),r.jsx(Jo,{open:j,onOpenChange:S,children:r.jsxs(Zo,{className:"sm:max-w-[350px] bg-white rounded-[24px] border-none shadow-xl",children:[r.jsx(ea,{children:r.jsx(na,{className:"text-[#091A7A] text-lg font-bold",children:"  "})}),r.jsx("div",{className:"space-y-4",children:r.jsx($l,{id:"name",value:V,onChange:L=>G(L.target.value),placeholder:" ",className:"rounded-xl border-gray-200 focus:border-[#8B5CF6] focus:ring-[#8B5CF6]"})}),r.jsxs(ta,{className:"flex-col gap-2 sm:flex-col",children:[r.jsx(nn,{type:"button",onClick:$,className:"w-full bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] hover:from-[#7C3AED] hover:to-[#6D28D9] text-white rounded-xl h-11 font-medium",children:""}),r.jsx(nn,{type:"button",onClick:()=>S(!1),className:"w-full bg-white hover:bg-gray-50 text-[#091A7A] border border-gray-200 rounded-xl h-11 font-medium",children:""})]})]})}),r.jsx(Jo,{open:N,onOpenChange:C,children:r.jsxs(Zo,{className:"sm:max-w-[350px] bg-white rounded-[24px] border-none shadow-xl",children:[r.jsx(ea,{children:r.jsx(na,{className:"text-[#091A7A] text-lg font-bold",children:" "})}),r.jsx("div",{className:"space-y-3",children:r.jsx("p",{className:"text-[#091A7A] text-sm",children:"   ?"})}),r.jsxs(ta,{className:"flex-col gap-2 sm:flex-col",children:[r.jsx(nn,{type:"button",onClick:q,className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl h-11 font-medium",children:""}),r.jsx(nn,{type:"button",onClick:()=>C(!1),className:"w-full bg-white hover:bg-gray-50 text-[#091A7A] border border-gray-200 rounded-xl h-11 font-medium",children:""})]})]})}),r.jsx(Jo,{open:A,onOpenChange:E,children:r.jsxs(Zo,{className:"sm:max-w-[350px] bg-white rounded-[24px] border-none shadow-xl",children:[r.jsx(ea,{children:r.jsx(na,{className:"text-[#091A7A] text-lg font-bold",children:"  "})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("p",{className:"text-[#091A7A] text-sm",children:[r.jsx("strong",{className:"text-[#8B5CF6]",children:D?.title}),"  ?"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"       ."})]}),r.jsxs(ta,{className:"flex-col gap-2 sm:flex-col",children:[r.jsx(nn,{type:"button",onClick:W,className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl h-11 font-medium",children:""}),r.jsx(nn,{type:"button",onClick:()=>E(!1),className:"w-full bg-white hover:bg-gray-50 text-[#091A7A] border border-gray-200 rounded-xl h-11 font-medium",children:""})]})]})})]})}const I0=Object.freeze(Object.defineProperty({__proto__:null,VocabularyListScreen:fC,invalidateVocabularyListCache:Ul},Symbol.toStringTag,{value:"Module"})),zp=()=>new Date().toISOString().split("T")[0],KL=()=>typeof globalThis.crypto<"u"&&typeof globalThis.crypto.randomUUID=="function"?globalThis.crypto.randomUUID():`vocab_${Math.random().toString(36).slice(2)}`,Wp=er(),Vp=20,YL=3;function QL({onBack:e,onSaveComplete:t,getAuthToken:n,onNavigateToGift:s}){const[i,a]=g.useState(zp()),[l,d]=g.useState(""),[u,f]=g.useState(!1),[m,p]=g.useState(null),[y,v]=g.useState([]),[b,j]=g.useState(null),[S,N]=g.useState(!1),[C,A]=g.useState(!1),[E,_]=g.useState([]),[T,D]=g.useState(""),[R,V]=g.useState(!1),G=g.useMemo(()=>l.split(/[\n,]+/).map(F=>F.trim()).filter(Boolean),[l]),ne=async()=>{const{data:{session:F}}=await Wp.auth.getSession(),z=F?.access_token||n?.();if(z){V(!0);try{const B=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies`,{headers:{Authorization:`Bearer ${z}`}});if(B.ok){const O=await B.json(),$=Array.isArray(O)?O:O.vocabularies||[];_($.map(q=>({id:q.id,title:q.title})))}}catch(B){console.error("   :",B)}finally{V(!1)}}},ie=async(F,z)=>{const B=[];for(let ee=0;ee<F.length;ee+=Vp)B.push(F.slice(ee,ee+Vp));const O=[];let $=0,q=0,M=0;j({current:0,total:B.length});const W=async(ee,Y,le=3)=>{for(let fe=1;fe<=le;fe++)try{const ue=await fetch(`https://${Ge}.supabase.co/functions/v1/server/generate-vocabulary-batch`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({words:ee.map(Ye=>({word:Ye}))})}),Se=await ue.json();if(!ue.ok)throw new Error(Se?.error||` ${Y+1}  `);const Pe=Array.isArray(Se.results)?Se.results:Array.isArray(Se.data)?Se.data:[];if(Se.success===!1||Pe.length===0)throw new Error(Se?.error||` ${Y+1} AI  `);return{index:Y,items:Pe,inputTokens:Se.inputTokens||0,outputTokens:Se.outputTokens||0}}catch(ue){if(console.error(`  ${Y+1}  ${fe}/${le} :`,ue),fe<le)await new Promise(Se=>setTimeout(Se,2e3));else throw ue}throw new Error(` ${Y+1}   `)},L=async ee=>{const Y=Math.min(ee+YL,B.length),le=[];for(let ue=ee;ue<Y;ue++)le.push(W(B[ue],ue));const fe=await Promise.all(le);for(const ue of fe)O.push({index:ue.index,items:ue.items}),$+=ue.inputTokens,q+=ue.outputTokens,M++,j({current:M,total:B.length}),de.loading(`AI   ... (${M}/${B.length} , ${M*Vp}/${F.length})`,{id:"user-vocab-progress"});return Y};let K=0;for(;K<B.length;)K=await L(K),K<B.length&&await new Promise(ee=>setTimeout(ee,300));return j(null),O.sort((ee,Y)=>ee.index-Y.index),{results:O.flatMap(ee=>ee.items),inputTokens:$,outputTokens:q}},oe=async()=>{if(G.length===0){de.error("   .");return}const{data:{session:F}}=await Wp.auth.getSession(),z=F?.access_token||n?.();if(!z){de.error(" .  .");return}f(!0),p(null),v([]);try{de.dismiss("user-vocab-progress"),de.loading(`AI ${G.length}   `,{id:"user-vocab-progress"});const{results:B,inputTokens:O,outputTokens:$}=await ie(G,z);if(B.length===0)throw new Error("AI    .");de.loading(`${B.length}   ...`,{id:"user-vocab-progress"});const q=KL(),M=await fetch(`https://${Ge}.supabase.co/functions/v1/server/save-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({vocabularyId:q,title:i.trim()||zp(),category:"My Own",level:"Beginner",words:B})}),W=await M.json();if(!M.ok)throw new Error(W.error||"  .");v(B),p({inputTokens:O||0,outputTokens:$||0}),d(""),a(zp()),Ul(),de.success("     ! ",{id:"user-vocab-progress"}),t&&W.vocabulary?.id&&t(W.vocabulary.id,W.vocabulary.title||i)}catch(B){console.error("  :",B),de.error(B?.message||"    .",{id:"user-vocab-progress"})}finally{f(!1),N(!1)}},Z=async()=>{if(G.length===0){de.error("   .");return}if(!T){de.error("  .");return}const{data:{session:F}}=await Wp.auth.getSession(),z=F?.access_token||n?.();if(!z){de.error(" .  .");return}f(!0),p(null),v([]);try{de.dismiss("user-vocab-progress"),de.loading(`AI ${G.length}   `,{id:"user-vocab-progress"});const{results:B,inputTokens:O,outputTokens:$}=await ie(G,z);if(B.length===0)throw new Error("AI    .");de.loading(`${B.length}   ...`,{id:"user-vocab-progress"});const q=await fetch(`https://${Ge}.supabase.co/functions/v1/server/add-words-to-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({vocabularyId:T,words:B})}),M=await q.json();if(!q.ok)throw new Error(M.error||"  .");const W=E.find(L=>L.id===T);v(B),p({inputTokens:O||0,outputTokens:$||0}),d(""),D(""),Ul(),de.success(`${W?.title||""} ${B.length}  ! `,{id:"user-vocab-progress"}),t&&T&&t(T,W?.title||"")}catch(B){console.error("  :",B),de.error(B?.message||"    .",{id:"user-vocab-progress"})}finally{f(!1),A(!1)}};return r.jsxs("div",{className:"flex h-full flex-col",children:[r.jsx(nc,{onBack:e,title:"AI Vocabulary Maker",subtitle:"   AI ",rightElement:s?r.jsxs(I.button,{whileTap:{scale:.95},onClick:s,className:"flex items-center gap-1.5 px-3 py-2 bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED] rounded-full shadow-lg hover:shadow-xl transition-shadow",title:"Presets",children:[r.jsx(Ku,{className:"w-4 h-4 text-white flex-shrink-0"}),r.jsx("span",{className:"text-white text-xs font-semibold hidden sm:inline",children:"Presets"})]}):void 0}),r.jsx("div",{className:"flex-1 overflow-auto px-4 pb-6",children:r.jsxs("div",{className:"bg-white/95 backdrop-blur-xl border border-white/50 rounded-3xl shadow-xl p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-[#091A7A] mb-2",children:"  (   )"}),r.jsx(dO,{value:l,onChange:F=>d(F.target.value),placeholder:`) meticulous, resilience, nostalgia
     .`,className:"min-h-[280px] resize-none"}),r.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[" ",G.length,"  ."]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{disabled:u||G.length===0,onClick:()=>{if(G.length===0){de.error("   .");return}N(!0)},className:"flex-1 h-14 font-semibold rounded-lg flex flex-col items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed bg-gradient-to-r from-[#491B6D] to-[#5E2278] text-white",style:{fontSize:"14px"},children:[r.jsx(la,{className:"w-5 h-5"}),u?"AI   ...":"  "]}),r.jsxs("button",{disabled:u||G.length===0,onClick:()=>{if(G.length===0){de.error("   .");return}ne(),A(!0)},className:"flex-1 h-14 font-semibold rounded-lg flex flex-col items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed bg-gradient-to-r from-[#491B6D] to-[#5E2278] text-white",style:{fontSize:"14px"},children:[r.jsx(hS,{className:"w-5 h-5"}),"  "]})]}),b&&r.jsxs("div",{className:"bg-white border border-[#C4B5FD] rounded-2xl p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-[#7C3AED] font-semibold",children:[r.jsx(fr,{className:"w-5 h-5 animate-pulse"}),"AI   ..."]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-gradient-to-r from-[#7C3AED] to-[#A78BFA] h-3 rounded-full transition-all duration-500",style:{width:`${b.current/b.total*100}%`}})}),r.jsxs("p",{className:"text-sm text-gray-600",children:[" ",b.current,"/",b.total,"  ..."]})]}),y.length>0&&r.jsxs("div",{className:"bg-white border border-dashed border-[#C4B5FD] rounded-2xl p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-[#2563EB] font-semibold",children:[r.jsx(lS,{className:"w-5 h-5"}),"   "]}),r.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-700",children:y.slice(0,10).map(F=>r.jsxs("div",{className:"px-3 py-2 bg-[#F5F3FF] rounded-lg",children:[r.jsx("span",{className:"font-semibold text-[#5B21B6]",children:F.word}),r.jsx("span",{className:"ml-2 text-xs text-gray-500",children:F.partOfSpeech}),r.jsx("p",{className:"text-xs text-gray-600 truncate",children:F.meaning})]},`${F.word}-${F.meaning}`))}),y.length>10&&r.jsxs("p",{className:"text-xs text-gray-500",children:[" ",y.length-10,"   ."]}),m&&r.jsxs("div",{className:"text-xs text-gray-500",children:["     ",m.inputTokens.toLocaleString()," /  ",m.outputTokens.toLocaleString()]})]})]})}),S&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(I.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[r.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-4",children:"  "}),r.jsx($l,{value:i,onChange:F=>a(F.target.value),placeholder:"  ",className:"mb-4"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(nn,{onClick:oe,className:"flex-1 bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] hover:from-[#7C3AED] hover:to-[#6D28D9] text-white",disabled:u,children:u?" ...":""}),r.jsx(nn,{variant:"outline",onClick:()=>N(!1),className:"flex-1",disabled:u,children:""})]})]})}),C&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(I.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[r.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-4",children:"  "}),R?r.jsx("div",{className:"text-center py-4 text-gray-500",children:"   ..."}):E.length===0?r.jsx("div",{className:"text-center py-4 text-gray-500",children:"  ."}):r.jsxs(r$,{value:T,onValueChange:D,children:[r.jsx(i$,{className:"mb-4 bg-white border-gray-300",children:r.jsx(s$,{placeholder:" "})}),r.jsx(o$,{className:"bg-white border border-gray-200 shadow-lg",children:E.map(F=>r.jsx(a$,{value:F.id,className:"hover:bg-gray-100",children:F.title},F.id))})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(nn,{variant:"outline",onClick:()=>{A(!1),D("")},className:"flex-1 rounded-lg border-gray-300",disabled:u,children:""}),r.jsx(nn,{variant:"outline",onClick:Z,className:"flex-1 rounded-lg border-gray-300 bg-[#7C3AED] text-white hover:bg-[#6D28D9] hover:text-white",disabled:u||!T,children:u?" ...":""})]})]})})]})}const XL="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function pC(e){const[t,n]=g.useState(!1),s=()=>{n(!0)},{src:i,alt:a,style:l,className:d,...u}=e;return t?r.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${d??""}`,style:l,children:r.jsx("div",{className:"flex items-center justify-center w-full h-full",children:r.jsx("img",{src:XL,alt:"Error loading image",...u,"data-original-url":i})})}):r.jsx("img",{src:i,alt:a,className:d,style:l,...u,onError:s})}const JL=[{id:1,title:"First Quiz Complete",description:"Completed your first quiz",icon:aS,earned:!0},{id:2,title:"Week Warrior",description:"7-day learning streak",icon:Ui,earned:!1},{id:3,title:"Math Master",description:"100% in Mathematics quiz",icon:pr,earned:!0},{id:4,title:"XP Champion",description:"Earned 10,000 XP",icon:Qs,earned:!1}],ZL=[{label:"Total XP",value:"5,500",icon:Qs,color:"from-yellow-400 to-yellow-600"},{label:"Current Streak",value:"3 days",icon:Ui,color:"from-orange-400 to-orange-600"},{label:"Quizzes Completed",value:"12",icon:aS,color:"from-blue-400 to-blue-600"},{label:"Avg. Score",value:"87%",icon:SS,color:"from-green-400 to-green-600"}];function e9({onBack:e,userXP:t,profileImage:n,levelProgress:s}){const i=s.currentLevel,a=s.xpForNextLevel-s.xpInCurrentLevel,l=s.xpInCurrentLevel/s.xpForNextLevel*100;return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsx("div",{className:"relative overflow-hidden",style:{background:"transparent"},children:r.jsxs("div",{className:"relative p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx(Or,{onClick:e}),r.jsx(I.button,{whileTap:{scale:.95},className:"w-12 h-12 bg-card-glass backdrop-blur-lg rounded-full flex items-center justify-center shadow-card border border-white/20",children:r.jsx(wS,{className:"w-5 h-5 text-[#091A7A]"})})]}),r.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[r.jsxs(I.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative",children:[r.jsx(pC,{src:n,alt:"Profile",className:"w-24 h-24 rounded-full border-4 border-white shadow-xl object-cover object-top"}),r.jsx("div",{className:"absolute -bottom-2 -right-2 px-3 py-1 bg-gradient-to-r from-[#091A7A] to-[#1a2b8a] rounded-full",children:r.jsxs("span",{className:"text-white font-bold text-sm",children:["Lv.",i]})})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-[#091A7A]",children:"Abhi Dhande"}),r.jsx("p",{className:"text-[#091A7A]/70",children:"Learning enthusiast"})]}),r.jsxs("div",{className:"w-full max-w-xs space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm text-[#091A7A]/70",children:[r.jsxs("span",{children:["Level ",i]}),r.jsxs("span",{children:[a," XP to next level"]})]}),r.jsx("div",{className:"h-3 bg-white/40 rounded-full overflow-hidden",children:r.jsx(I.div,{initial:{width:0},animate:{width:`${l}%`},transition:{delay:.5,duration:1},className:"h-full bg-gradient-to-r from-[#091A7A] to-[#1a2b8a] rounded-full"})})]})]})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"font-semibold text-[#091A7A] mb-4",children:"Your Stats"}),r.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:ZL.map((d,u)=>r.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+u*.1},className:"p-4 bg-white/60 backdrop-blur-sm rounded-2xl border border-white/40 shadow-sm",children:[r.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${d.color} rounded-xl flex items-center justify-center mb-3`,children:r.jsx(d.icon,{className:"w-5 h-5 text-white"})}),r.jsx("p",{className:"text-2xl font-bold text-[#091A7A]",children:d.label==="Total XP"?t.toLocaleString():d.value}),r.jsx("p",{className:"text-xs text-[#091A7A]/70",children:d.label})]},d.label))}),r.jsx("h3",{className:"font-semibold text-[#091A7A] mb-4",children:"Achievements"}),r.jsx("div",{className:"space-y-3",children:JL.map((d,u)=>r.jsx(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+u*.1},className:`p-4 rounded-2xl border ${d.earned?"bg-gradient-to-r from-green-50 to-green-100/50 border-green-200":"bg-white/40 border-white/30"}`,children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${d.earned?"bg-gradient-to-br from-green-400 to-green-600":"bg-gray-200"}`,children:r.jsx(d.icon,{className:`w-6 h-6 ${d.earned?"text-white":"text-gray-400"}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:`font-semibold ${d.earned?"text-green-800":"text-[#091A7A]/60"}`,children:d.title}),d.earned&&r.jsx(dR,{className:"w-4 h-4 text-green-600"})]}),r.jsx("p",{className:`text-sm ${d.earned?"text-green-700":"text-[#091A7A]/50"}`,children:d.description})]})]})},d.id))})]})]})}const ag="/assets/1627f3a870e9b56d751d07f53392d7a84aa55817-nVPN00k3.png",p1=[{id:1,name:"Dr. Sarah Wilson",avatar:"https://images.unsplash.com/photo-1607746882042-944635dfe10e?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:2,name:"Prof. Michael Chen",avatar:"https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:3,name:"Ms. Emily Davis",avatar:"https://images.unsplash.com/photo-1580489944761-15a19d654956?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:4,name:"Dr. James Rodriguez",avatar:"https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:5,name:"Prof. Lisa Thompson",avatar:"https://images.unsplash.com/photo-1614289371518-722f2615943d?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:6,name:"Dr. Alex Kumar",avatar:"https://images.unsplash.com/photo-1507591064344-4c6ce005b128?w=128&h=128&fit=crop&crop=faces&facepad=3"}],t9=e=>{const t=[{id:"unit1",title:"Algebra & Geometry",progress:60,chapters:[{id:"ch1",title:"Introduction to Algebra",duration:"12 min",progress:100,isUnlocked:!0,isCompleted:!0},{id:"ch2",title:"Linear Equations",duration:"15 min",progress:80,isUnlocked:!0,isCompleted:!1},{id:"ch3",title:"Quadratic Equations",duration:"18 min",progress:40,isUnlocked:!0,isCompleted:!1}]},{id:"unit2",title:"Trigonometry & Statistics",progress:20,chapters:[{id:"ch4",title:"Basics of Trigonometry",duration:"14 min",progress:20,isUnlocked:!0,isCompleted:!1},{id:"ch5",title:"Probability & Statistics",duration:"16 min",progress:0,isUnlocked:!1,isCompleted:!1}]}],n=[{id:"unit1",title:"Grammar & Vocabulary",progress:75,chapters:[{id:"ch1",title:"Parts of Speech",duration:"10 min",progress:100,isUnlocked:!0,isCompleted:!0},{id:"ch2",title:"Sentence Structure",duration:"13 min",progress:90,isUnlocked:!0,isCompleted:!1},{id:"ch3",title:"Advanced Grammar",duration:"17 min",progress:35,isUnlocked:!0,isCompleted:!1}]},{id:"unit2",title:"Literature & Writing",progress:30,chapters:[{id:"ch4",title:"Creative Writing",duration:"20 min",progress:60,isUnlocked:!0,isCompleted:!1},{id:"ch5",title:"Poetry Analysis",duration:"15 min",progress:0,isUnlocked:!1,isCompleted:!1}]}],s=[{id:"unit1",title:"Physics & Chemistry",progress:50,chapters:[{id:"ch1",title:"Matter & Energy",duration:"14 min",progress:100,isUnlocked:!0,isCompleted:!0},{id:"ch2",title:"Chemical Reactions",duration:"16 min",progress:25,isUnlocked:!0,isCompleted:!1},{id:"ch3",title:"Forces & Motion",duration:"18 min",progress:25,isUnlocked:!0,isCompleted:!1}]},{id:"unit2",title:"Biology & Earth Science",progress:15,chapters:[{id:"ch4",title:"Cell Biology",duration:"12 min",progress:30,isUnlocked:!0,isCompleted:!1},{id:"ch5",title:"Ecosystems",duration:"15 min",progress:0,isUnlocked:!1,isCompleted:!1}]}],i=[{id:"unit1",title:"World History",progress:45,chapters:[{id:"ch1",title:"Ancient Civilizations",duration:"16 min",progress:100,isUnlocked:!0,isCompleted:!0},{id:"ch2",title:"Medieval Period",duration:"14 min",progress:35,isUnlocked:!0,isCompleted:!1},{id:"ch3",title:"Modern Era",duration:"18 min",progress:0,isUnlocked:!0,isCompleted:!1}]},{id:"unit2",title:"Geography & Culture",progress:25,chapters:[{id:"ch4",title:"World Geography",duration:"13 min",progress:50,isUnlocked:!0,isCompleted:!1},{id:"ch5",title:"Cultural Studies",duration:"17 min",progress:0,isUnlocked:!1,isCompleted:!1}]}];switch(e.toLowerCase()){case"mathematics":return t;case"english":return n;case"science":return s;case"social studies":return i;default:return t}},n9=e=>{switch(e.toLowerCase()){case"mathematics":return"Algebra, Geometry & Trigonometry  Grade 10";case"english":return"Grammar, Literature & Writing  Grade 10";case"science":return"Physics, Chemistry & Biology  Grade 10";case"social studies":return"History, Geography & Culture  Grade 10";default:return"Education you can believe in"}},r9=e=>{for(const t of e)for(const n of t.chapters)if(!n.isCompleted&&n.isUnlocked)return{unit:t.title,chapter:n.title,progress:n.progress};return{unit:e[0].title,chapter:e[0].chapters[0].title,progress:e[0].chapters[0].progress}};function s9({subject:e,onBack:t,onStartQuiz:n,onLessonClick:s}){const[i,a]=g.useState(["unit1"]),l=t9(e.name),d=n9(e.name),u=r9(l),f=Math.round(l.reduce((v,b)=>v+b.progress,0)/l.length),m=l.reduce((v,b)=>v+b.chapters.length,0),p=l.reduce((v,b)=>v+b.chapters.length*15,0),y=v=>{a(b=>b.includes(v)?b.filter(j=>j!==v):[...b,v])};return r.jsxs("div",{className:"h-full bg-gradient-to-b from-[#ADC8FF] via-[#E8F2FF]/95 to-white",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ADC8FF]/30 via-transparent to-transparent"}),r.jsxs("div",{className:"relative px-6 pt-4 pb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx(Or,{onClick:t}),r.jsx("h1",{className:"text-section-header text-[#4F8EFF]/80",children:"Course Details"}),r.jsx(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-12 h-12 bg-white/95 backdrop-blur-md rounded-2xl flex items-center justify-center shadow-lg border border-white/40",children:r.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-[#091A7A] to-[#4F8EFF] flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})})]}),r.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/90 backdrop-blur-md rounded-3xl p-6 shadow-xl border border-white/50 mb-6",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[r.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${e.color} rounded-3xl flex items-center justify-center shadow-lg`,children:e.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-main-heading text-[#4F8EFF] mb-2",children:e.name}),r.jsx("p",{className:"text-small text-[#6B8EFF]/80 mb-3",children:d}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(aa,{className:"w-4 h-4 text-[#6B8EFF]/60"}),r.jsxs("span",{className:"text-tiny text-[#6B8EFF]/70",children:[Math.floor(p/60),"h ",p%60,"min"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vs,{className:"w-4 h-4 text-amber-500 fill-current"}),r.jsx("span",{className:"text-tiny font-medium text-[#4F8EFF]",children:"4.9"})]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-subheading text-[#4F8EFF]",children:"Overall Progress"}),r.jsxs("span",{className:"text-subheading font-semibold text-[#4F8EFF]",children:[f,"%"]})]}),r.jsx("div",{className:"h-3 bg-[#ADC8FF]/30 rounded-full overflow-hidden",children:r.jsx(I.div,{initial:{width:0},animate:{width:`${f}%`},transition:{delay:.3,duration:1.2,ease:"easeOut"},className:"h-full bg-gradient-to-r from-[#4F8EFF] to-[#7BA7FF] rounded-full shadow-sm"})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-tiny text-[#6B8EFF]/70",children:"Course Content"}),r.jsxs("span",{className:"text-tiny text-[#6B8EFF]/80",children:[m," Videos"]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(o0,{className:"w-4 h-4 text-[#6B8EFF]/70"}),r.jsx("span",{className:"text-small text-[#6B8EFF]/70",children:"Instructors"})]}),r.jsxs("div",{className:"flex items-center",children:[p1.slice(0,5).map((v,b)=>r.jsx(I.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:b*.1},className:"relative",style:{marginLeft:b>0?"-12px":"0"},children:r.jsx("img",{src:b===0?ag:v.avatar,alt:v.name,className:"w-11 h-11 rounded-full border-3 border-white shadow-lg object-cover object-[center_20%]"})},v.id)),r.jsx("div",{className:"w-11 h-11 bg-white/95 backdrop-blur-md rounded-full border-3 border-white shadow-lg flex items-center justify-center",style:{marginLeft:"-12px"},children:r.jsxs("span",{className:"text-xs font-semibold text-[#4F8EFF]",children:["+",p1.length-5]})})]})]})]})]}),r.jsx("div",{className:"px-6 mb-6",children:r.jsx(I.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:n,className:"w-full bg-subject-gradient text-[#4F8EFF] rounded-3xl p-5 shadow-xl border border-white/40 backdrop-blur-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-left",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-8 h-8 bg-white/30 rounded-xl flex items-center justify-center",children:r.jsx(Wi,{className:"w-4 h-4 text-[#4F8EFF]"})}),r.jsx("span",{className:"text-subheading font-semibold",children:"Continue Learning"})]}),r.jsxs("p",{className:"text-small text-[#4F8EFF]/80 font-medium",children:[u.unit,": ",u.chapter]}),r.jsxs("p",{className:"text-small text-[#4F8EFF]/70 font-medium",children:[u.progress,"% completed"]})]}),r.jsx("div",{className:"w-14 h-14 bg-white backdrop-blur-sm rounded-full flex items-center justify-center border border-white/30 shadow-lg",children:r.jsx(Wi,{className:"w-6 h-6 text-[#4F8EFF]"})})]})})}),r.jsx("div",{className:"flex-1 px-6 pb-6",children:r.jsx("div",{className:"space-y-6",children:l.map((v,b)=>{const j=i.includes(v.id);return r.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1},className:"bg-white/95 backdrop-blur-xl rounded-3xl overflow-hidden shadow-elevated border border-white/60 ring-1 ring-[#ADC8FF]/20",whileHover:{scale:1.01,boxShadow:"0 25px 50px rgba(9, 26, 122, 0.3), 0 0 0 1px rgba(173, 200, 255, 0.4)"},children:[r.jsxs(I.button,{whileHover:{backgroundColor:"rgba(173, 200, 255, 0.08)"},whileTap:{scale:.98},onClick:()=>y(v.id),className:"w-full p-6 flex items-center justify-between relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#ADC8FF]/5 via-transparent to-[#ADC8FF]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsxs("div",{className:"text-left relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[r.jsx("div",{className:"w-10 h-10 bg-[#ADC8FF] rounded-full flex items-center justify-center border border-white/30 shadow-lg ring-1 ring-[#ADC8FF]/30",children:r.jsx("span",{className:"text-small font-semibold text-[#091A7A]",children:b+1})}),r.jsxs("span",{className:"text-body font-semibold text-[#091A7A]/80",children:["Unit ",b+1]})]}),r.jsx("h3",{className:"text-subheading text-[#4F8EFF] mb-2",children:v.title}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-2.5 w-24 bg-[#ADC8FF]/30 rounded-full overflow-hidden shadow-inner",children:r.jsx(I.div,{initial:{width:0},animate:{width:`${v.progress}%`},transition:{delay:.5,duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-[#4F8EFF] to-[#7BA7FF] rounded-full shadow-sm"})}),r.jsxs("span",{className:"text-small font-semibold text-[#091A7A]",children:[v.progress,"%"]})]})]}),r.jsx(I.div,{animate:{rotate:j?90:0},transition:{duration:.3,ease:"easeInOut"},className:"w-12 h-12 bg-[#ADC8FF]/15 rounded-full flex items-center justify-center border border-white/40 shadow-sm relative z-10",whileHover:{backgroundColor:"rgba(173, 200, 255, 0.25)"},children:r.jsx(us,{className:"w-5 h-5 text-[#091A7A]/70"})})]}),r.jsx(I.div,{initial:!1,animate:{height:j?"auto":0},transition:{duration:.4,ease:"easeInOut"},className:"overflow-hidden",children:r.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[r.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-[#ADC8FF]/30 to-transparent mb-4"}),v.chapters.map((S,N)=>r.jsxs(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:N*.08},className:"bg-white/90 backdrop-blur-sm rounded-2xl p-5 border border-white/70 shadow-card ring-1 ring-[#ADC8FF]/10 relative overflow-hidden",whileHover:{scale:1.02,boxShadow:"0 8px 25px rgba(9, 26, 122, 0.15)"},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ADC8FF]/3 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsx("div",{className:"w-11 h-11 bg-gradient-to-br from-[#ADC8FF]/40 to-[#ADC8FF]/20 rounded-full flex items-center justify-center border border-white/50 shadow-sm",children:r.jsx("span",{className:"text-small font-semibold text-[#091A7A]",children:N+1})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-subheading text-[#091A7A] mb-1.5 font-medium",children:S.title}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(aa,{className:"w-3.5 h-3.5 text-[#6B8EFF]/70"}),r.jsx("span",{className:"text-small text-[#091A7A]/60 font-medium",children:S.duration})]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:S.isCompleted?r.jsx("div",{className:"w-9 h-9 bg-green-50 rounded-full flex items-center justify-center border border-green-200 shadow-sm",children:r.jsx(Dn,{className:"w-4.5 h-4.5 text-green-600"})}):S.isUnlocked?r.jsx(I.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>s?.(S.title),className:"w-9 h-9 bg-gradient-to-br from-[#4F8EFF] to-[#7BA7FF] rounded-full flex items-center justify-center shadow-lg border border-white/30",children:r.jsx(Wi,{className:"w-3.5 h-3.5 text-white"})}):r.jsx("div",{className:"w-9 h-9 bg-gray-50 rounded-full flex items-center justify-center border border-gray-200 shadow-sm",children:r.jsx(gu,{className:"w-4 h-4 text-gray-400"})})})]}),S.progress>0&&!S.isCompleted&&r.jsx("div",{className:"mt-4",children:r.jsx("div",{className:"h-2 bg-[#ADC8FF]/25 rounded-full overflow-hidden shadow-inner",children:r.jsx(I.div,{initial:{width:0},animate:{width:`${S.progress}%`},transition:{delay:.3,duration:.8,ease:"easeOut"},className:"h-full bg-gradient-to-r from-[#4F8EFF] to-[#7BA7FF] rounded-full shadow-sm"})})})]},S.id))]})})]},v.id)})})})]})}function mC({onBack:e,vocabularyId:t,vocabularyName:n,totalWords:s,onComplete:i}){const[a,l]=g.useState([]),[d,u]=g.useState(!0),[f,m]=g.useState(new Set),[p,y]=g.useState(new Set),[v,b]=g.useState([]),j=100,[S,N]=g.useState(null),[C,A]=g.useState(0),E=g.useRef(0),_=g.useRef(0),T=g.useRef(!1);g.useEffect(()=>{D()},[t]);const D=async()=>{try{u(!0);const z=await fetch(`https://${Ge}.supabase.co/functions/v1/server/shared-vocabulary/${t}/words`,{headers:{Authorization:`Bearer ${Yt}`}});if(!z.ok)throw new Error("Failed to fetch words");const B=await z.json();l(B.words||[])}catch(z){console.error("Error fetching words:",z),de.error("  ")}finally{u(!1)}},R=z=>{y(B=>{const O=new Set(B);return O.has(z)?O.delete(z):O.add(z),O})},V=(z,B)=>{E.current=z.touches[0].clientX,_.current=z.touches[0].clientY,T.current=!1,N(B)},G=(z,B)=>{if(S!==B)return;const O=z.touches[0].clientX-E.current,$=z.touches[0].clientY-_.current;!T.current&&Math.abs(O)>Math.abs($)&&Math.abs(O)>10&&(T.current=!0),T.current&&(z.preventDefault(),A(O))},ne=z=>{Math.abs(C)>100&&T.current&&ie(z),A(0),N(null),T.current=!1},ie=z=>{m(B=>new Set(B).add(z)),b(B=>[...B,z]),y(B=>{const O=new Set(B);return O.delete(z),O})},oe=()=>{if(v.length===0)return;const z=v[v.length-1];m(B=>{const O=new Set(B);return O.delete(z),O}),b(B=>B.slice(0,-1))},Z=()=>{const z=a.filter(B=>!f.has(B.id)).map(B=>B.id);if(z.length===0){de.error(" 1   ");return}i(z,j)},F=a.filter(z=>!f.has(z.id));return Math.ceil(F.length/j),d?r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-[#8B5CF6] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-[#091A7A]/70",children:" ..."})]})}):r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"sticky top-0 z-40 backdrop-blur-xl border-b border-gray-100 px-6 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(I.button,{whileTap:{scale:.95},onClick:e,className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm border border-gray-200",children:r.jsx(ys,{className:"w-5 h-5 text-[#091A7A]"})}),r.jsxs("div",{className:"text-center flex-1",children:[r.jsx("h1",{className:"text-lg font-bold text-[#091A7A]",children:n}),r.jsxs("p",{className:"text-sm text-[#091A7A]/60",children:[F.length," / ",s,"  "]})]}),r.jsx(I.button,{whileTap:{scale:.95},onClick:oe,disabled:v.length===0,className:`w-10 h-10 rounded-full flex items-center justify-center shadow-sm transition-all ${v.length>0?"bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED]":"bg-gray-200"}`,children:r.jsx(fD,{className:"w-5 h-5 text-white"})})]}),r.jsx("div",{className:"text-xs text-[#091A7A]/50 mt-2 text-center",children:"     "})]}),r.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:r.jsxs("div",{className:"p-4",children:[r.jsx(pt,{children:F.map((z,B)=>{const O=p.has(z.id),$=S===z.id,q=$?C:0,M=Math.max(.3,1-Math.abs(q)/200);return r.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:M,y:0,x:q},exit:{opacity:0,x:q>0?300:-300,height:0},transition:{duration:.2},onTouchStart:W=>V(W,z.id),onTouchMove:W=>G(W,z.id),onTouchEnd:()=>ne(z.id),className:"relative bg-white/95 backdrop-blur-lg rounded-[20px] p-4 mb-3 shadow-md border border-white/20",style:{touchAction:$?"none":"auto"},children:[$&&Math.abs(q)>50&&r.jsx("div",{className:`absolute top-1/2 -translate-y-1/2 ${q>0?"right-4":"left-4"}`,children:r.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center opacity-80",children:r.jsx(yn,{className:"w-6 h-6 text-white",strokeWidth:3})})}),r.jsx("div",{className:"absolute top-3 left-3 w-6 h-6 bg-[#8B5CF6] rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-[10px] text-white font-medium",children:B+1})}),r.jsxs("div",{className:"flex items-center justify-between pl-10 cursor-pointer",onClick:()=>R(z.id),children:[r.jsx("span",{className:"text-base font-semibold text-gray-700",children:z.word}),r.jsx("span",{className:`text-sm transition-opacity ${O?"text-[#091A7A] opacity-100":"text-[#091A7A]/30 opacity-50"}`,children:O?z.meaning:"  "})]})]},z.id)})}),F.length===0&&r.jsxs("div",{className:"text-center py-16",children:[r.jsx("p",{className:"text-[#091A7A]/70",children:"  "}),r.jsx("p",{className:"text-sm text-[#091A7A]/50 mt-1",children:"    "})]})]})}),r.jsxs("div",{className:"sticky bottom-0 backdrop-blur-lg border-t border-white/20 p-4",children:[r.jsx("div",{className:"mb-3 text-center",children:r.jsx("p",{className:"text-sm text-[#091A7A]/60",children:"100   ."})}),r.jsx(I.button,{whileTap:{scale:.98},onClick:Z,disabled:F.length===0,className:`w-full h-12 rounded-[20px] flex items-center justify-center shadow-lg transition-all ${F.length>0?"bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] text-white":"bg-gray-300 text-gray-500"}`,children:"  "})]})]})}const i9=[{id:"all",name:"All"},{id:"TOEIC",name:"TOEIC"},{id:"SAT",name:"SAT"},{id:"GRE",name:"GRE"},{id:"School",name:" "},{id:"General",name:"General English"}];function o9({onBack:e,getAuthToken:t}){const[n,s]=g.useState("all"),[i,a]=g.useState([]),[l,d]=g.useState([]),[u,f]=g.useState(!0),[m,p]=g.useState(null),y=g.useRef(null);g.useEffect(()=>{v()},[]);const v=async()=>{try{f(!0);const N=await fetch(`https://${Ge}.supabase.co/functions/v1/server/shared-vocabularies`,{headers:{Authorization:`Bearer ${Yt}`}});if(!N.ok)throw new Error("Failed to fetch vocabularies");const C=await N.json();a(C.vocabularies||[])}catch(N){console.error("Error fetching vocabularies:",N),de.error("Failed to load vocabularies")}finally{f(!1)}};g.useEffect(()=>{let N=i;n!=="all"&&(N=N.filter(C=>C.category===n)),d(N)},[n,i]);const b=N=>{switch(N){case"TOEIC":return"bg-yellow-400 text-purple-900";case"SAT":return"bg-white text-purple-700";case"GRE":return"bg-purple-300 text-purple-900";case"School":return"bg-pink-300 text-purple-900";case"General":return"bg-green-300 text-green-900";default:return"bg-purple-300 text-purple-900"}},j=N=>{p(N)},S=async(N,C)=>{if(m)try{const A=t?t():localStorage.getItem("supabase_access_token")||Yt;if(!(await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({name:m.name,description:m.description,words_per_unit:C,selected_word_ids:N,shared_vocabulary_id:m.id})})).ok)throw new Error("Failed to add vocabulary");de.success("Vocabulary added successfully!"),p(null)}catch(A){console.error("Error adding vocabulary:",A),de.error("Failed to add vocabulary")}};return m?r.jsx(mC,{onBack:()=>p(null),vocabularyId:m.id,vocabularyName:m.name,totalWords:m.total_words,onComplete:S}):r.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-b from-[#E8E0FF] to-[#F0EBFF]",children:[r.jsx(nc,{onBack:e,title:"",subtitle:"   "}),r.jsx("div",{className:"px-4 pb-4",children:r.jsx("div",{ref:y,className:"flex gap-2 overflow-x-auto scrollbar-hide",children:i9.map(N=>r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>s(N.id),className:`px-4 py-2 rounded-full whitespace-nowrap transition-all text-sm ${n===N.id?"bg-white text-[#491B6D] shadow-md":"bg-white/30 text-[#491B6D] border border-white/50"}`,children:N.name},N.id))})}),r.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-4 py-6",children:[u?r.jsx("div",{className:"flex items-center justify-center py-16",children:r.jsx("div",{className:"w-12 h-12 border-4 border-[#8B6FC4] border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-4",children:[r.jsx(pt,{children:l.map((N,C)=>r.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:C*.05},whileTap:{scale:.98},onClick:()=>j(N),className:"bg-white/40 backdrop-blur-lg rounded-3xl p-5 border border-white/50 shadow-lg",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-white/60 rounded-2xl flex items-center justify-center flex-shrink-0",children:r.jsx(Ur,{className:"w-7 h-7 text-[#8B6FC4]"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-[#4A3A6B] mb-2 line-clamp-2",children:N.name}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${b(N.category)}`,children:N.category||"General"}),r.jsxs("span",{className:"text-[#8B6FC4] text-xs",children:[N.total_words," "]})]})]}),r.jsx(us,{className:"w-5 h-5 text-[#8B6FC4] flex-shrink-0 mt-1"})]})},N.id))}),l.length===0&&!u&&r.jsxs(I.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[r.jsx("div",{className:"w-16 h-16 bg-white/40 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ur,{className:"w-8 h-8 text-[#8B6FC4]"})}),r.jsx("p",{className:"text-[#6B5A8B]",children:"No vocabulary found"})]})]}),r.jsx("div",{className:"h-4"})]})]})}function a9({onBack:e,onTakeQuiz:t,lessonTitle:n="Introduction to Algebra",teacherName:s="Dr. Sarah Wilson"}){const[i,a]=g.useState(!1),[l,d]=g.useState(!1),[u,f]=g.useState(!1),[m,p]=g.useState(!1),[y,v]=g.useState(!1),[b,j]=g.useState(35),S={name:s,designation:"Mathematics Professor",rating:4.8,avatar:"https://images.unsplash.com/photo-1511629091441-ee46146481b6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxvbmxpbmUlMjBlZHVjYXRpb24lMjB0ZWFjaGVyJTIwcHJvZmVzc29yfGVufDF8fHx8MTc1NzUzNzU0MHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",followers:"12.5K"},N=()=>{a(!i)},C=()=>{u&&f(!1),d(!l)},A=()=>{l&&d(!1),f(!u)},E=()=>{p(!m)},_=()=>{v(!y)};return r.jsxs("div",{className:"h-full bg-gradient-to-b from-[#ADC8FF] via-[#E8F2FF]/95 to-white",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"relative w-full aspect-video bg-black",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1560785472-2f186f554644?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXRoZW1hdGljcyUyMGxlc3NvbiUyMGFsZ2VicmElMjBlcXVhdGlvbnN8ZW58MXx8fHwxNzU3NTM4NzY4fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral')"}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-black/40"}),r.jsx("div",{className:"absolute bottom-16 left-4 right-4",children:r.jsxs("div",{className:"bg-black/60 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[r.jsx("h3",{className:"text-white font-semibold text-lg mb-1",children:"Introduction to Algebra"}),r.jsx("p",{className:"text-white/80 text-sm",children:"Learn the fundamentals of algebraic equations"}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),r.jsx("span",{className:"text-white/60 text-xs",children:"7:20 duration"})]})]})}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(I.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:N,className:"w-20 h-20 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-2xl border-4 border-white/50",children:i?r.jsx(xu,{className:"w-8 h-8 text-[#091A7A] ml-1"}):r.jsx(Wi,{className:"w-8 h-8 text-[#091A7A] ml-1"})})})]}),r.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300",children:[r.jsxs("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between z-10",children:[r.jsx(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"w-10 h-10 bg-black/40 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/20",children:r.jsx(ys,{className:"w-5 h-5 text-white"})}),r.jsx(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-10 h-10 bg-black/40 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/20",children:r.jsx(v6,{className:"w-5 h-5 text-white"})})]}),r.jsxs("div",{className:"absolute bottom-4 left-4 right-4 z-10",children:[r.jsx("div",{className:"w-full h-1 bg-white/30 rounded-full mb-3 overflow-hidden",children:r.jsx(I.div,{initial:{width:0},animate:{width:`${b}%`},className:"h-full bg-white rounded-full"})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(I.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:N,className:"w-8 h-8 flex items-center justify-center",children:i?r.jsx(xu,{className:"w-6 h-6 text-white"}):r.jsx(Wi,{className:"w-6 h-6 text-white"})}),r.jsx("span",{className:"text-white text-sm font-medium",children:"2:35 / 7:20"})]}),r.jsx(I.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"w-8 h-8 flex items-center justify-center",children:r.jsx(a0,{className:"w-6 h-6 text-white"})})]})]})]})]}),r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-6",children:[r.jsx("h1",{className:"text-white font-semibold text-lg mb-1",children:n}),r.jsx("p",{className:"text-white/80 text-sm",children:"Mathematics  Grade 10"})]})]}),r.jsxs("div",{className:"flex-1 px-6",children:[r.jsxs("div",{className:"flex items-center gap-4 py-4 border-b border-white/20",children:[r.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C,className:`flex items-center gap-2 px-4 py-2 rounded-full border transition-all duration-200 ${l?"bg-[#4F8EFF] border-[#4F8EFF] text-white":"bg-white/90 border-white/40 text-[#4F8EFF] hover:bg-[#4F8EFF]/10"}`,children:[r.jsx(aD,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"1.2K"})]}),r.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:A,className:`flex items-center gap-2 px-4 py-2 rounded-full border transition-all duration-200 ${u?"bg-gray-500 border-gray-500 text-white":"bg-white/90 border-white/40 text-gray-600 hover:bg-gray-100"}`,children:[r.jsx(iD,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"23"})]}),r.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:E,className:`flex items-center gap-2 px-4 py-2 rounded-full border transition-all duration-200 ${m?"bg-amber-500 border-amber-500 text-white":"bg-white/90 border-white/40 text-amber-600 hover:bg-amber-50"}`,children:[r.jsx(pR,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:m?"Saved":"Save"})]})]}),r.jsx("div",{className:"py-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"relative",children:r.jsx("img",{src:S.avatar,alt:S.name,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"text-subheading text-[#091A7A] font-semibold",children:S.name}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vs,{className:"w-3.5 h-3.5 text-amber-500 fill-current"}),r.jsx("span",{className:"text-tiny text-[#091A7A] font-medium",children:S.rating})]})]}),r.jsx("p",{className:"text-small text-[#6B8EFF]/80",children:S.designation}),r.jsxs("p",{className:"text-tiny text-[#6B8EFF]/60",children:[S.followers," followers"]})]}),r.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-200 ${y?"bg-gray-100 text-gray-600 border border-gray-200":"bg-[#4F8EFF] text-white border border-[#4F8EFF] hover:bg-[#3B7FFF]"}`,children:[r.jsx(gD,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:y?"Following":"Follow"})]})]})}),r.jsxs("div",{className:"pb-6",children:[r.jsx("h3",{className:"text-subheading text-[#091A7A] font-semibold mb-3",children:"Lesson Summary"}),r.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-2xl p-4 border border-white/50 shadow-card",children:[r.jsx("p",{className:"text-body text-[#4F8EFF] leading-relaxed",children:"In this lesson, you'll learn how to solve quadratic equations using step-by-step methods. We'll cover the quadratic formula, factoring techniques, and completing the square method. You'll also see real-world examples of how quadratic equations are used in physics and engineering."}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[r.jsx("span",{className:"px-3 py-1 bg-[#ADC8FF]/30 text-[#091A7A] text-tiny font-medium rounded-full",children:"Quadratic Formula"}),r.jsx("span",{className:"px-3 py-1 bg-[#ADC8FF]/30 text-[#091A7A] text-tiny font-medium rounded-full",children:"Factoring"}),r.jsx("span",{className:"px-3 py-1 bg-[#ADC8FF]/30 text-[#091A7A] text-tiny font-medium rounded-full",children:"Real Applications"})]})]})]}),r.jsx("div",{className:"pb-28"})]}),r.jsx("div",{className:"fixed bottom-8 left-8 right-8",children:r.jsx(I.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:t,className:"w-full bg-[#ADC8FF] text-[#091A7A] rounded-full p-4 shadow-lg",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("span",{className:"text-subheading font-semibold text-[#091A7A]",children:"Take Quiz for this Lesson"})})})})]})}function l9({show:e,type:t,title:n,subtitle:s,xpGain:i,onComplete:a}){const l=()=>{switch(t){case"xp-gain":return r.jsx(Qs,{className:"w-6 h-6 text-yellow-400",fill:"currentColor"});case"level-up":return r.jsx(fs,{className:"w-6 h-6 text-yellow-400"});case"streak":return r.jsx(vs,{className:"w-6 h-6 text-orange-400",fill:"currentColor"});case"achievement":return r.jsx(pr,{className:"w-6 h-6 text-green-400"});case"quiz-complete":return r.jsx(Dn,{className:"w-6 h-6 text-green-400"});default:return r.jsx(Qs,{className:"w-6 h-6 text-blue-400"})}},u=(()=>{switch(t){case"xp-gain":return{bg:"from-yellow-500 to-orange-500",border:"border-yellow-400/50",shadow:"shadow-yellow-500/25"};case"level-up":return{bg:"from-yellow-400 to-yellow-600",border:"border-yellow-300/50",shadow:"shadow-yellow-500/30"};case"streak":return{bg:"from-orange-500 to-red-500",border:"border-orange-400/50",shadow:"shadow-orange-500/25"};case"achievement":return{bg:"from-green-500 to-emerald-500",border:"border-green-400/50",shadow:"shadow-green-500/25"};case"quiz-complete":return{bg:"from-blue-500 to-indigo-500",border:"border-blue-400/50",shadow:"shadow-blue-500/25"};default:return{bg:"from-blue-500 to-purple-500",border:"border-blue-400/50",shadow:"shadow-blue-500/25"}}})();return r.jsx(pt,{children:e&&r.jsxs(r.Fragment,{children:[r.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/20 backdrop-blur-sm z-[100] rounded-[3rem]",onClick:a}),r.jsx(I.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",stiffness:300,damping:25,duration:.5},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[101]",children:r.jsxs("div",{className:`
              relative p-5 bg-gradient-to-br ${u.bg} 
              rounded-2xl shadow-2xl ${u.shadow} 
              border ${u.border} backdrop-blur-xl
              min-w-[260px] max-w-[300px]
            `,children:[r.jsx("div",{className:"absolute inset-0 bg-white/10 rounded-2xl opacity-50"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 via-transparent to-transparent rounded-2xl"}),r.jsxs("div",{className:"relative z-10 text-center",children:[r.jsx(I.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:200},className:"mb-3 flex justify-center",children:r.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:l()})}),r.jsx(I.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-base font-semibold text-white mb-1",children:n}),s&&r.jsx(I.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-white/90 text-xs mb-3",children:s}),i&&r.jsxs(I.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5,type:"spring"},className:"flex items-center justify-center gap-1.5 bg-white/20 rounded-full px-3 py-1.5 backdrop-blur-sm",children:[r.jsx(Qs,{className:"w-3.5 h-3.5 text-yellow-300",fill:"currentColor"}),r.jsxs("span",{className:"text-white font-medium text-xs",children:["+",i," XP"]})]}),r.jsx(I.div,{initial:{scaleX:1},animate:{scaleX:0},transition:{duration:3,ease:"linear"},className:"absolute bottom-0 left-0 h-1 bg-white/30 rounded-b-2xl origin-left",style:{width:"100%"},onAnimationComplete:a})]})]})})]})})}function c9({show:e,xpGain:t}){return r.jsx(pt,{children:e&&r.jsxs(I.div,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-10},transition:{duration:.4,ease:"easeOut"},className:"absolute top-16 left-1/2 transform -translate-x-1/2 z-50",children:[r.jsxs(I.div,{animate:{scale:[1,1.05,1],rotate:[0,-2,2,0]},transition:{duration:.6,ease:"easeInOut",times:[0,.3,.7,1]},className:"flex items-center gap-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-full shadow-lg backdrop-blur-sm border border-green-400/30",children:[r.jsx(I.div,{animate:{rotate:[0,180]},transition:{duration:.4,ease:"easeOut"},children:r.jsx(la,{className:"w-4 h-4"})}),r.jsxs("span",{className:"font-medium text-sm",children:[t," XP"]}),r.jsx(I.div,{animate:{scale:[1,1.2,1],filter:["brightness(1)","brightness(1.5)","brightness(1)"]},transition:{duration:.6,ease:"easeInOut",repeat:1},children:r.jsx(Qs,{className:"w-4 h-4 text-yellow-300",fill:"currentColor"})})]}),Array.from({length:6}).map((n,s)=>r.jsx(I.div,{initial:{opacity:0,scale:0,x:0,y:0},animate:{opacity:[0,1,0],scale:[0,1,0],x:[0,(Math.random()-.5)*40],y:[0,(Math.random()-.5)*40]},transition:{duration:1,delay:.2+s*.1,ease:"easeOut"},className:`absolute w-1.5 h-1.5 rounded-full ${s%3===0?"bg-yellow-300":s%3===1?"bg-green-300":"bg-white"}`,style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},s))]})})}const Up="learningAppProgress",m1="learningAppProgress_backup";function d9({userXP:e,currentProgress:t,totalQuizzesCompleted:n,lastActiveDate:s,onProgressLoaded:i}){const a=f=>{if(f<1e3)return{currentLevel:1,xpForNextLevel:1e3,xpInCurrentLevel:f};const y=f-1e3,b=2+Math.floor(y/500),j=y%500;return{currentLevel:b,xpForNextLevel:500,xpInCurrentLevel:j}},l=f=>{try{const m={...f,lastSaved:new Date().toISOString(),version:"1.0"};localStorage.setItem(Up,JSON.stringify(m));const p=localStorage.getItem(Up);p&&localStorage.setItem(m1,p),console.log(" Progress saved successfully")}catch(m){console.error(" Failed to save progress:",m)}},d=()=>{try{const f=localStorage.getItem(Up);if(f){const m=JSON.parse(f);return console.log(" Progress loaded from storage"),m}}catch(f){console.error(" Failed to load progress:",f);try{const m=localStorage.getItem(m1);if(m){const p=JSON.parse(m);return console.log(" Progress loaded from backup"),p}}catch(m){console.error(" Failed to load backup progress:",m)}}return null},u=()=>({userXP:5500,currentProgress:40,totalQuizzesCompleted:2,completedStages:[],unlockedSubjects:["math","english","science"],dailyGoalProgress:40,lastActiveDate:new Date().toISOString(),totalSessionTime:0,achievements:[],levelProgress:a(5500)});return g.useEffect(()=>{const f=d();if(f)f.levelProgress=a(f.userXP),i(f);else{const m=u();l(m),i(m)}},[]),g.useEffect(()=>{const f={userXP:e,currentProgress:t,totalQuizzesCompleted:n,completedStages:[],unlockedSubjects:["math","english","science","social-studies"],dailyGoalProgress:t,lastActiveDate:s||new Date().toISOString(),totalSessionTime:0,achievements:[],levelProgress:a(e)},m=setTimeout(()=>{l(f)},1e3);return()=>clearTimeout(m)},[e,t,n,s]),null}const Ii={calculateLevel:e=>{if(e<1e3)return{currentLevel:1,xpForNextLevel:1e3,xpInCurrentLevel:e};const s=e-1e3,a=2+Math.floor(s/500),l=s%500;return{currentLevel:a,xpForNextLevel:500,xpInCurrentLevel:l}},checkForLevelUp:(e,t)=>{const n=Ii.calculateLevel(e).currentLevel;return Ii.calculateLevel(t).currentLevel>n},exportProgress:()=>{const e=localStorage.getItem("learningAppProgress");if(e){const t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download=`learning-progress-${new Date().toISOString().split("T")[0]}.json`,s.click(),URL.revokeObjectURL(n)}},clearProgress:()=>{localStorage.removeItem("learningAppProgress"),localStorage.removeItem("learningAppProgress_backup"),console.log(" Progress cleared")}};function u9({show:e,status:t,className:n=""}){const[s,i]=g.useState("saved");g.useEffect(()=>{e&&i(t)},[e,t]);const a=()=>{switch(s){case"saving":return r.jsx(f6,{className:"w-3 h-3 animate-spin"});case"saved":return r.jsx(Qi,{className:"w-3 h-3"});case"error":return r.jsx(RR,{className:"w-3 h-3"});default:return r.jsx(OR,{className:"w-3 h-3"})}},l=()=>{switch(s){case"saving":return"bg-blue-500/90 text-white";case"saved":return"bg-green-500/90 text-white";case"error":return"bg-red-500/90 text-white";default:return"bg-gray-500/90 text-white"}},d=()=>{switch(s){case"saving":return"Saving...";case"saved":return"Saved";case"error":return"Error";default:return"Saved"}};return r.jsx(pt,{children:e&&r.jsx(I.div,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:10},transition:{duration:.2,ease:"easeOut"},className:`fixed top-20 right-4 z-50 ${n}`,children:r.jsxs("div",{className:`
            flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium
            backdrop-blur-xl border border-white/20 shadow-lg
            ${l()}
          `,children:[a(),r.jsx("span",{children:d()})]})})})}function h9(){const[e,t]=g.useState("saved"),[n,s]=g.useState(!1);return{saveStatus:e,showIndicator:n,triggerSave:()=>{t("saving"),s(!0),setTimeout(()=>{t("saved"),setTimeout(()=>{s(!1)},1500)},800)},triggerError:()=>{t("error"),s(!0),setTimeout(()=>{s(!1)},3e3)}}}const gC="/assets/aeb1623adfde368b33dc26e61638e23dfc50bf84-C69uHyjO.png";function f9({onLoginComplete:e,onGoToSignup:t}){const[n,s]=g.useState({email:"",password:""}),[i,a]=g.useState(!1),[l,d]=g.useState(!1),[u,f]=g.useState(""),m=(j,S)=>{s(N=>({...N,[j]:S})),f("")},p=async()=>{if(!n.email||!n.password){f("  .");return}d(!0),f("");try{console.log(" Signing in with Supabase Auth...");const j=er(),{data:S,error:N}=await j.auth.signInWithPassword({email:n.email,password:n.password});if(N){console.error(" Supabase signin error:",N);let E=" .";throw N.message.includes("Invalid login credentials")||N.message.includes("invalid_credentials")?E=`    .
   .`:N.message.includes("Email not confirmed")?E="  .":E=N.message,new Error(E)}if(console.log(" Login response:",S),!S.session||!S.session.access_token)throw console.error(" Invalid response structure:",S),new Error("   .    .");const C=S.session.access_token,A=S.user;localStorage.setItem("supabase_access_token",C),localStorage.setItem("supabase_user",JSON.stringify(A)),console.log(" Login successful, token saved"),console.log(" Access token:",C.substring(0,20)+"..."),e(A,C)}catch(j){console.error(" Login error:",j),f(j.message||" .")}finally{d(!1)}},y=j=>{j.key==="Enter"&&n.email&&n.password&&p()},v=async()=>{d(!0),f("");try{const j=er(),{error:S}=await j.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:window.location.origin,queryParams:{scope:"profile_nickname profile_image"}}});if(S)throw S}catch(j){console.error(" Kakao login error:",j),f("  ."),d(!1)}},b=async()=>{d(!0),f("");try{const j=er(),{error:S}=await j.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(S)throw S}catch(j){console.error(" Google login error:",j),f("Google  ."),d(!1)}};return r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-8 py-12 min-h-screen",children:[r.jsxs(I.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12 text-center",children:[r.jsx("img",{src:gC,alt:"JEJEVOCA",className:"w-32 h-32 mx-auto mb-6"}),r.jsx("h1",{className:"text-5xl font-extrabold mb-3",style:{color:"#1e3a8a"},children:"JEJEVOCA"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"   "})]}),r.jsx(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1},className:"w-full max-w-sm",children:r.jsxs("div",{className:"bg-white/80 backdrop-blur-lg border border-white/30 rounded-3xl p-8 shadow-xl space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),r.jsxs("div",{className:"relative",children:[r.jsx(gS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"email",value:n.email,onChange:j=>m("email",j.target.value),onKeyPress:y,placeholder:"example@email.com",className:"w-full pl-10 pr-3 py-3 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"email"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),r.jsxs("div",{className:"relative",children:[r.jsx(gu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:i?"text":"password",value:n.password,onChange:j=>m("password",j.target.value),onKeyPress:y,placeholder:"",className:"w-full pl-10 pr-10 py-3 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"current-password"}),r.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:i?r.jsx(Fl,{size:18}):r.jsx(Ko,{size:18})})]})]}),u&&r.jsx(I.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-xl p-3 text-center",children:r.jsx("p",{className:"text-red-600 text-sm",children:u})}),r.jsx(I.button,{whileTap:{scale:.98},onClick:p,disabled:l||!n.email||!n.password,className:`w-full py-3 rounded-2xl font-medium transition-all text-center ${l||!n.email||!n.password?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-[#491B6D] text-white shadow-lg shadow-[#491B6D]/30"}`,children:l?r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r.jsx("span",{children:" ..."})]}):""}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-4 bg-white text-gray-500",children:" "})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(I.button,{whileTap:{scale:.98},onClick:v,disabled:l,className:"w-full py-3 rounded-2xl font-medium transition-all text-center flex items-center justify-center gap-2",style:{backgroundColor:"#FEE500",color:"#000000"},children:[r.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 3C6.5 3 2 6.6 2 11c0 2.8 1.9 5.3 4.7 6.7l-1.1 4.1c-.1.3.2.6.5.4l5.3-3.5c.5.1 1 .1 1.6.1 5.5 0 10-3.6 10-8S17.5 3 12 3z"})})," "]}),r.jsxs(I.button,{whileTap:{scale:.98},onClick:b,disabled:l,className:"w-full py-3 rounded-2xl font-medium bg-white border border-gray-300 text-gray-700 transition-all text-center flex items-center justify-center gap-2 hover:bg-gray-50",children:[r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google "]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-4 bg-white text-gray-500",children:""})})]}),r.jsx(I.button,{whileTap:{scale:.98},onClick:t,className:"w-full py-3 rounded-2xl font-medium bg-white border border-[#491B6D] text-[#491B6D] transition-all text-center",children:" "}),r.jsx("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-xl",children:r.jsxs("p",{className:"text-xs text-purple-700 text-center",children:["  ?  ",r.jsx("strong",{children:""}),"  !"]})})]})}),r.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-8 text-center text-gray-600 text-sm",children:" JEJETRANSFER. All rights reserved.  Made by "})]})}function p9({onBack:e,onSignupComplete:t}){const[n,s]=g.useState({fullName:"",email:"",password:"",confirmPassword:""}),[i,a]=g.useState(!1),[l,d]=g.useState(!1),[u,f]=g.useState(!1),[m,p]=g.useState(""),y=(N,C)=>{s(A=>({...A,[N]:C})),p("")},v=async()=>{if(!n.fullName||!n.email||!n.password||!n.confirmPassword){p("  .");return}if(n.password!==n.confirmPassword){p("  .");return}if(n.password.length<6){p("  6  .");return}f(!0),p("");try{console.log(" Creating account with Supabase Auth...");const N=er(),{data:C,error:A}=await N.auth.signUp({email:n.email,password:n.password,options:{emailRedirectTo:void 0,data:{full_name:n.fullName}}});if(A){console.error(" Supabase signup error:",A);let R=" .";throw A.message.includes("already registered")||A.message.includes("already exists")?R=`  .
 .`:A.message.includes("invalid email")?R="   .":A.message.includes("password")?R="  6  .":R=A.message,new Error(R)}console.log(" Signup successful:",C.user?.id);const{data:E,error:_}=await N.auth.signInWithPassword({email:n.email,password:n.password});if(_)throw console.error(" Auto signin failed:",_),new Error("    .  .");if(!E.session||!E.session.access_token)throw new Error("  .");const T=E.session.access_token,D=E.user;localStorage.setItem("supabase_access_token",T),localStorage.setItem("supabase_user",JSON.stringify(D)),console.log(" Auto-login successful"),console.log(" Access token:",T.substring(0,20)+"...");try{console.log(" Creating user profile...");const{error:R}=await N.from("profiles").insert({id:D.id,student_name:n.fullName,email:n.email});R?console.error(" Profile creation failed:",R):console.log(" Profile created successfully")}catch(R){console.error(" Profile creation error:",R)}t(D,T)}catch(N){console.error(" Signup error:",N),p(N.message||" .")}finally{f(!1)}},b=async()=>{f(!0),p("");try{const N=er(),{error:C}=await N.auth.signInWithOAuth({provider:"kakao",options:{queryParams:{scope:"profile_nickname profile_image"}}});if(C)throw C}catch(N){console.error(" Kakao signup error:",N),p("  ."),f(!1)}},j=async()=>{f(!0),p("");try{const N=er(),{error:C}=await N.auth.signInWithOAuth({provider:"google"});if(C)throw C}catch(N){console.error(" Google signup error:",N),p("Google  ."),f(!1)}},S=n.fullName&&n.email&&n.password&&n.confirmPassword&&n.password===n.confirmPassword;return r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-8 py-12 min-h-screen",children:[r.jsxs(I.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 text-center",children:[r.jsx("img",{src:gC,alt:"JEJEVOCA",className:"w-24 h-24 mx-auto mb-3"}),r.jsx("h2",{className:"text-[#491B6D]",children:""}),r.jsx("p",{className:"text-gray-600 text-sm",children:"JEJEVOCA  "})]}),r.jsx(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1},className:"w-full max-w-sm",children:r.jsxs("div",{className:"bg-white/80 backdrop-blur-lg border border-white/30 rounded-3xl p-8 shadow-xl space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),r.jsxs("div",{className:"relative",children:[r.jsx(NS,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:n.fullName,onChange:N=>y("fullName",N.target.value),placeholder:"",className:"w-full pl-12 pr-4 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"name"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),r.jsxs("div",{className:"relative",children:[r.jsx(gS,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"email",value:n.email,onChange:N=>y("email",N.target.value),placeholder:"example@email.com",className:"w-full pl-12 pr-4 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"email"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),r.jsxs("div",{className:"relative",children:[r.jsx(gu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:i?"text":"password",value:n.password,onChange:N=>y("password",N.target.value),placeholder:" 6 ",className:"w-full pl-12 pr-12 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:i?r.jsx(Fl,{size:20}):r.jsx(Ko,{size:20})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:" "}),r.jsxs("div",{className:"relative",children:[r.jsx(gu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:l?"text":"password",value:n.confirmPassword,onChange:N=>y("confirmPassword",N.target.value),placeholder:" ",className:"w-full pl-12 pr-12 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>d(!l),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:l?r.jsx(Fl,{size:20}):r.jsx(Ko,{size:20})})]})]}),m&&r.jsx(I.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-xl p-3 text-center",children:r.jsx("p",{className:"text-red-600 text-sm",children:m})}),r.jsx(I.button,{whileTap:{scale:.98},onClick:v,disabled:u||!S,className:`w-full py-4 rounded-2xl font-medium transition-all min-h-[56px] ${u||!S?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-[#491B6D] text-white shadow-lg shadow-[#491B6D]/30"}`,children:u?r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r.jsx("span",{children:" ..."})]}):" "}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-4 bg-white text-gray-500",children:" "})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(I.button,{whileTap:{scale:.98},onClick:b,disabled:u,className:"w-full py-4 rounded-2xl font-medium transition-all min-h-[56px] text-center flex items-center justify-center gap-2",style:{backgroundColor:"#FEE500",color:"#000000"},children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 3C6.5 3 2 6.6 2 11c0 2.8 1.9 5.3 4.7 6.7l-1.1 4.1c-.1.3.2.6.5.4l5.3-3.5c.5.1 1 .1 1.6.1 5.5 0 10-3.6 10-8S17.5 3 12 3z"})})," "]}),r.jsxs(I.button,{whileTap:{scale:.98},onClick:j,disabled:u,className:"w-full py-4 rounded-2xl font-medium bg-white border-2 border-gray-300 text-gray-700 transition-all min-h-[56px] text-center flex items-center justify-center gap-2 hover:bg-gray-50",children:[r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google "]})]}),r.jsx("div",{className:"relative",children:r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})})}),r.jsx(I.button,{whileTap:{scale:.98},onClick:e,className:"w-full py-3 rounded-2xl font-medium bg-white border border-gray-200 text-gray-700 transition-all",children:" "})]})}),r.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-8 text-center text-gray-600 text-sm",children:" JEJETRANSFER. All rights reserved.  Made by "})]})}const m9="modulepreload",g9=function(e){return"/"+e},g1={},Fr=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),u=d?.nonce||d?.getAttribute("nonce");i=l(n.map(f=>{if(f=g9(f),f in g1)return;g1[f]=!0;const m=f.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":m9,m||(y.as="script"),y.crossOrigin="",y.href=f,u&&y.setAttribute("nonce",u),document.head.appendChild(y),m)return new Promise((v,b)=>{y.addEventListener("load",v),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return i.then(l=>{for(const d of l||[])d.status==="rejected"&&a(d.reason);return t().catch(a)})};function x9({vocabulary:e,onToggleWord:t,onSelectAll:n,onDeselectAll:s,isWordSelected:i,onAddToVocabulary:a}){const[l,d]=g.useState(!1),u=(b,j)=>({id:`extractor-${j}-${b.word}`,word:b.word,meaning:b.meaning,source:"Passage Extractor",metadata:{pos:b.pos,level:b.level}}),f=b=>{const j=u(e[b],b);t(j)},m=()=>{if(!n)return;const j=e.map((S,N)=>u(S,N)).filter(S=>!i(S.id));j.length>0&&n(j)},p=()=>{if(!s)return;const b=e.map((j,S)=>u(j,S).id);s(b)};if(!e||e.length===0)return null;const y=()=>{if(!a)return;const b=e.map((j,S)=>u(j,S)).filter(j=>i(j.id));b.length!==0&&a(b)},v=e.filter((b,j)=>i(u(b,j).id)).length;return r.jsxs("div",{className:"bg-white rounded-2xl border border-purple-100 p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-bold text-[#491B6D]",children:" "}),r.jsxs("div",{className:"flex gap-2",children:[n&&r.jsx("button",{onClick:m,className:"text-xs text-purple-600 hover:text-purple-800",children:" "}),s&&r.jsx("button",{onClick:p,className:"text-xs text-gray-500 hover:text-gray-700",children:" "}),a&&v>0&&r.jsxs(I.button,{whileTap:{scale:.95},onClick:y,className:"flex items-center gap-1 px-3 py-1.5 bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] text-white rounded-full text-xs font-semibold shadow-sm",children:[r.jsx(la,{className:"w-3 h-3"}),"  (",v,")"]})]})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-[400px] overflow-y-auto",children:e.map((b,j)=>{const S=u(b,j),N=i(S.id);return r.jsx(I.div,{whileTap:{scale:.98},onClick:()=>f(j),className:`p-3 rounded-xl border cursor-pointer transition-all ${N?"bg-purple-50 border-purple-300 shadow-sm":"bg-gray-50 border-gray-200 hover:border-purple-200"}`,children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center flex-shrink-0 mt-0.5 ${N?"bg-purple-600 border-purple-600":"border-gray-300"}`,children:N&&r.jsx(Qi,{className:"w-2.5 h-2.5 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-semibold text-[#491B6D] text-sm break-words",children:b.word}),r.jsx("p",{className:"text-xs text-gray-600 mt-0.5 break-words",children:b.meaning})]})]})},`${b.word}-${j}`)})})]})}const y9={paragraphClassName:"text-[12px] leading-relaxed text-[#35215d] mb-2 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-[12px] text-[#35215d]",boldClassName:"font-semibold text-[#4C1D95]"},x1=(e,t,n)=>e.replace(/--([^-]+)--/g,"**$1**").split(/(\*\*[^*]+\*\*)/g).filter(Boolean).map((a,l)=>a.startsWith("**")&&a.endsWith("**")?r.jsx("strong",{className:n,children:a.slice(2,-2)},`${t}-bold-${l}`):r.jsx("span",{children:a},`${t}-text-${l}`)),ra=(e,t={})=>{const n={...y9,...t};return e.split(/\n{2,}/).map((i,a)=>{const l=i.split(`
`).filter(Boolean);return l.length>1&&l.every(u=>/^[-*]\s+/.test(u.trim()))?r.jsx("ul",{className:n.listClassName,children:l.map((u,f)=>{const m=u.replace(/^[-*]\s+/,"");return r.jsx("li",{children:x1(m,`li-${a}-${f}`,n.boldClassName)},`li-${a}-${f}`)})},`section-${a}`):r.jsx("p",{className:n.paragraphClassName,children:x1(i,`p-${a}`,n.boldClassName)},`section-${a}`)})},v9=e=>e.replace(/\[EN\]/gi,"").replace(/\[KR\]/gi,"").replace(/[ ]{2,}/g," ").trim();function b9({analysis:e}){const[t,n]=g.useState(new Set([0])),[s,i]=g.useState(!0);if(!e)return null;const a=m=>{const p=m.match(/\[ \]([\s\S]*?)(?=\[ \]|$)/i);if(!p)return null;const y=p[1].trim(),v={material:"",subject:"",mainPoint:"",threeLine:[],background:""},b=y.match(/:\s*(.+?)(?=\n:|$)/i);b&&(v.material=b[1].trim());const j=y.match(/:\s*([\s\S]*?)(?=\n3 :|$)/i);j&&(v.mainPoint=j[1].trim());const S=y.match(/3 :([\s\S]*?)(?=\n:|$)/i);if(S){const A=S[1].split(`
`).map(E=>E.trim()).filter(E=>E.startsWith("-")||E.startsWith("")).map(E=>E.replace(/^[-]\s*/,"").trim()).filter(Boolean);v.threeLine=A}const N=y.match(/:\s*(.+?)(?=\n:|$)/i);N&&(v.subject=N[1].trim());const C=y.match(/:\s*([\s\S]+?)$/i);return C&&(v.background=C[1].trim()),v},l=m=>{const p=[],y=m.match(/\[ \]([\s\S]*?)$/i);return(y?y[1]:m).replace(/\*\*/g,"").replace(/\*/g,"").replace(/^#+\s+/gm,"").trim().split(/(?=|||||||||)/).forEach(S=>{if(!S.trim())return;const N=S.trim().split(`
`).map(T=>T.trim()).filter(Boolean);if(N.length<1)return;const C=N[0].match(/^(|||||||||)/);if(!C)return;const E={number:{"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10"}[C[1]]||C[1],english:"",translation:"",paraphrase:"",summary:""};let _="";N.forEach((T,D)=>{if(!(D===0&&T.startsWith(E.number))){if(T.includes("[EN]")||T.startsWith("[EN]")){_="english";const R=T.replace(/\[EN\]/gi,"").trim();R&&(E.english+=(E.english?" ":"")+R)}else if(T.includes("[KR]")||T.startsWith("[KR]")){_="translation";const R=T.replace(/\[KR\]/gi,"").trim();R&&(E.translation+=(E.translation?" ":"")+R)}else if(T.startsWith("=>")||T.startsWith("")){_="paraphrase";const R=T.replace(/^[=>]+\s*/,"").trim();R&&(E.paraphrase+=(E.paraphrase?" ":"")+R)}else if(T.includes("  ")||T.includes(":")){_="summary";const R=T.replace(/.*  :\s*/i,"").replace(/.*:\s*/i,"").replace(/^[()]+/,"").replace(/[()]+$/,"").trim();R&&(E.summary+=(E.summary?" ":"")+R)}else if(_&&T.trim()){const R=T.trim();_==="english"?E.english+=" "+R:_==="translation"?E.translation+=" "+R:_==="paraphrase"?E.paraphrase+=" "+R:_==="summary"&&(E.summary+=" "+R)}}}),E.english=E.english.replace(/\s+/g," ").trim(),E.translation=E.translation.replace(/\s+/g," ").trim(),E.paraphrase=E.paraphrase.replace(/\s+/g," ").trim(),E.summary=E.summary.replace(/\s+/g," ").trim(),E.english&&p.push(E)}),p},d=a(e),u=l(e),f=m=>{const p=new Set(t);p.has(m)?p.delete(m):p.add(m),n(p)};return u.length===0&&!d?r.jsxs("div",{className:"bg-white rounded-2xl border border-blue-100 p-4 space-y-2",children:[r.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-2",children:" "}),r.jsx("div",{className:"space-y-2",children:ra(v9(e),{paragraphClassName:"text-sm text-gray-700 leading-relaxed mb-2 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-gray-700",boldClassName:"font-semibold text-[#491B6D]"})})]}):r.jsxs("div",{className:"bg-white rounded-2xl border border-blue-100 p-4 space-y-3",children:[r.jsx("h3",{className:"text-lg font-bold text-[#491B6D]",children:" "}),r.jsxs("div",{className:"space-y-3",children:[d&&r.jsxs(I.div,{layout:!0,className:"border border-purple-200 rounded-2xl bg-gradient-to-br from-purple-50 to-white shadow-sm overflow-hidden",children:[r.jsxs("button",{type:"button",onClick:()=>i(!s),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-purple-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("p",{className:"text-sm font-bold text-gray-900",children:" "})]}),s?r.jsx(pu,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}):r.jsx(Hn,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),r.jsx(pt,{children:s&&r.jsxs(I.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-4 pb-4 pt-2 space-y-3 bg-white",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-xs font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[r.jsx("span",{children:""}),"  & "]}),r.jsx("div",{className:"bg-purple-50 rounded-xl p-3 border border-purple-100",children:r.jsx("p",{className:"text-sm text-gray-800 leading-relaxed font-medium",children:d.material})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-xs font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[r.jsx("span",{children:""}),"  "]}),r.jsxs("div",{className:"bg-purple-50 rounded-xl p-3 border border-purple-100",children:[r.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:d.mainPoint}),d.threeLine.length>0&&r.jsx("ul",{className:"mt-2 space-y-1",children:d.threeLine.map((m,p)=>r.jsxs("li",{className:"text-sm text-gray-700 leading-relaxed flex items-start gap-2",children:[r.jsx("span",{className:"text-purple-500 flex-shrink-0",children:""}),r.jsx("span",{children:m})]},p))})]})]}),d.subject&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-xs font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[r.jsx("span",{children:""}),"  "]}),r.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-purple-50 border border-purple-200 p-3 rounded-xl",children:r.jsx("p",{className:"text-sm text-purple-900 leading-relaxed font-semibold",children:d.subject})})]}),d.background&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-xs font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[r.jsx("span",{children:""})," "]}),r.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-200 p-3 rounded-xl",children:r.jsx("p",{className:"text-sm text-indigo-900 leading-relaxed",children:d.background})})]})]})})]}),u.map((m,p)=>r.jsxs(I.div,{layout:!0,className:"border border-gray-200 rounded-2xl bg-white shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[r.jsxs("button",{type:"button",onClick:()=>f(p),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx("span",{className:"w-8 h-8 bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED] text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0 shadow-sm",children:m.number}),r.jsx("p",{className:"text-sm text-gray-700 font-medium truncate",children:m.english})]}),t.has(p)?r.jsx(pu,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}):r.jsx(Hn,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),r.jsx(pt,{children:t.has(p)&&r.jsxs(I.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-4 pb-4 pt-2 space-y-3 bg-gray-50",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs font-semibold text-[#7C3AED] uppercase tracking-wider",children:""}),r.jsxs("div",{className:"bg-white rounded-xl p-3 border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-900 leading-relaxed font-medium whitespace-pre-line",children:m.english}),m.translation&&r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mt-2 whitespace-pre-line",children:m.translation})]})]}),m.paraphrase&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs font-semibold text-[#8B5CF6] uppercase tracking-wider",children:""}),r.jsx("div",{className:"bg-white rounded-xl p-3 border border-gray-200",children:ra(m.paraphrase,{paragraphClassName:"text-sm text-gray-700 leading-relaxed mb-1 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-gray-700",boldClassName:"font-semibold text-[#7C3AED]"})})]}),m.summary&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs font-semibold text-[#D97706] uppercase tracking-wider",children:"  "}),r.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 p-3 rounded-xl",children:r.jsx("div",{className:"text-sm text-amber-900 leading-relaxed font-medium",children:ra(m.summary,{paragraphClassName:"text-sm text-amber-900 leading-relaxed mb-1 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-amber-900",boldClassName:"font-bold text-amber-900"})})})]})]})})]},p))]})]})}function w9({explanation:e}){const[t,n]=g.useState(new Set([0,1,2]));if(!e)return null;const s={"":"1","":"2","":"3","":"4","":"5"},i=u=>u.split(`
`).map((f,m)=>{const y=f.trim().match(/^([])\s*(.*)/);if(y){const v=s[y[1]]||y[1];return r.jsx("div",{className:"mb-2 last:mb-0",children:r.jsxs("span",{className:"inline-flex items-start gap-2",children:[r.jsxs("span",{className:"flex-shrink-0 font-bold text-[#7C3AED] text-base",children:[v,"."]}),r.jsx("span",{className:"text-sm text-gray-700 leading-relaxed flex-1",children:y[2]})]})},m)}return r.jsx("p",{className:"text-sm text-gray-700 leading-relaxed mb-2 last:mb-0",children:f},m)}).filter(f=>!(typeof f=="object"&&"props"in f&&f.props.children==="")),l=(u=>{const f=[],m=u.replace(/\*\*/g,"").replace(/\*/g,"").replace(/^#+\s+/gm,"").trim(),p=[/1\s*Step\s*1\)\s*\s*([\s\S]*?)(?=2|$)/i,/Step\s*1[:\)]\s*\s*([\s\S]*?)(?=Step\s*2|$)/i,/1\.\s*\s*([\s\S]*?)(?=2\.|$)/i,/\s*Step\s*1\s*\s*\s*([\s\S]*?)(?=\s*Step\s*2|$)/i];for(const b of p){const j=m.match(b);if(j){f.push({title:"Step 1:  ",content:j[1].trim(),icon:pr,color:"bg-red-500"});break}}const y=[/2\s*Step\s*2\)\s*\s*([\s\S]*?)(?=3|$)/i,/Step\s*2[:\)]\s*\s*([\s\S]*?)(?=Step\s*3|$)/i,/2\.\s*\s*([\s\S]*?)(?=3\.|$)/i,/\s*Step\s*2\s*\s*\s*([\s\S]*?)(?=\s*Step\s*3|$)/i];for(const b of y){const j=m.match(b);if(j){f.push({title:"Step 2:  ",content:j[1].trim(),icon:jl,color:"bg-yellow-500"});break}}const v=[/3\s*Step\s*3\)\s*\s*([\s\S]*?)$/i,/Step\s*3[:\)]\s*\s*([\s\S]*?)$/i,/3\.\s*\s*([\s\S]*?)$/i,/\s*Step\s*3\s*\s*\s*([\s\S]*?)$/i];for(const b of v){const j=m.match(b);if(j){const S=j[1].trim(),N=/[]/.test(S);f.push({title:"Step 3:  ",content:S,icon:Dn,color:"bg-green-500",hasCircledNumbers:N});break}}return f})(e),d=u=>{const f=new Set(t);f.has(u)?f.delete(u):f.add(u),n(f)};return l.length===0?r.jsxs("div",{className:"bg-white rounded-2xl border border-green-100 p-4",children:[r.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-3",children:" "}),r.jsx("div",{className:"space-y-2",children:ra(e,{paragraphClassName:"text-sm text-gray-700 leading-relaxed mb-2 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-gray-700",boldClassName:"font-semibold text-[#166534]"})})]}):r.jsxs("div",{className:"bg-white rounded-2xl border border-green-100 p-4 space-y-3",children:[r.jsx("h3",{className:"text-lg font-bold text-[#491B6D]",children:" "}),r.jsx("div",{className:"space-y-3",children:l.map((u,f)=>(u.icon,r.jsxs(I.div,{layout:!0,className:"border border-gray-100 rounded-2xl shadow-sm overflow-hidden",children:[r.jsxs("button",{onClick:()=>d(f),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED] rounded-full flex items-center justify-center flex-shrink-0 shadow-sm",children:r.jsx("span",{className:"text-white font-bold text-sm",children:f+1})}),r.jsx("p",{className:"text-sm font-semibold text-gray-800",children:u.title})]}),t.has(f)?r.jsx(pu,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}):r.jsx(Hn,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),r.jsx(pt,{children:t.has(f)&&r.jsx(I.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-4 pb-4 pt-2 bg-gray-50",children:r.jsx("div",{className:"bg-white rounded-xl p-3 border border-gray-200",children:u.hasCircledNumbers?i(u.content):ra(u.content,{paragraphClassName:"text-sm text-gray-700 leading-relaxed mb-2 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-gray-700",boldClassName:"font-bold text-[#7C3AED]"})})})})]},f)))})]})}function F0(){const[e,t]=g.useState({}),n=p=>{t(y=>y[p.id]?y:{...y,[p.id]:p})},s=p=>{t(y=>{let v=!1;const b={...y};return p.forEach(j=>{b[j.id]||(b[j.id]=j,v=!0)}),v?b:y})},i=p=>{t(y=>{if(!y[p])return y;const v={...y};return delete v[p],v})},a=p=>{t(y=>{let v=!1;const b={...y};return p.forEach(j=>{b[j]&&(delete b[j],v=!0)}),v?b:y})},l=p=>{t(y=>{const v={...y};return v[p.id]?delete v[p.id]:v[p.id]=p,v})},d=()=>t({}),u=g.useMemo(()=>Object.values(e),[e]),f=u.length;return{selectedWords:u,count:f,addWord:n,addWords:s,removeWord:i,removeWords:a,toggleWord:l,clear:d,isSelected:p=>!!e[p]}}const y1=20,v1=3;function j9(e){return e.trim().replace(/\*\*/g,"").replace(/\*/g,"").replace(/__/g,"").replace(/_/g,"").replace(/~~(.*?)~~/g,"$1").replace(/`/g,"").replace(/\s+/g," ").trim()}async function b1(e,t,n){const s=e.map(f=>({word:j9(f.word)})),i=[];for(let f=0;f<s.length;f+=y1)i.push(s.slice(f,f+y1));const a=[];let l=0;n?.onProgress&&n.onProgress({current:0,total:i.length});const d=async(f,m,p=3)=>{for(let y=1;y<=p;y++)try{const v=await fetch(`https://${Ge}.supabase.co/functions/v1/server/generate-vocabulary-batch`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({words:f})}),b=await v.json();if(!v.ok)throw new Error(b?.error||` ${m+1}  `);const j=Array.isArray(b.results)?b.results:Array.isArray(b.data)?b.data:[];if(b.success===!1||j.length===0)throw new Error(b?.error||` ${m+1} AI  `);return{index:m,items:j}}catch(v){if(console.error(`  ${m+1}  ${y}/${p} :`,v),y<p)await new Promise(b=>setTimeout(b,2e3));else throw v}throw new Error(` ${m+1}   `)};for(let f=0;f<i.length;f+=v1){const m=i.slice(f,f+v1).map((y,v)=>d(y,f+v)),p=await Promise.all(m);a.push(...p),l+=p.length,n?.onProgress&&n.onProgress({current:l,total:i.length}),n?.onBatchUpdate&&n.onBatchUpdate(`  ... (${l}/${i.length} )`)}return a.sort((f,m)=>f.index-m.index),a.flatMap(f=>f.items)}const S9=er(),N9=()=>typeof globalThis.crypto<"u"&&typeof globalThis.crypto.randomUUID=="function"?globalThis.crypto.randomUUID():`vocab_${Date.now()}_${Math.random().toString(36).slice(2)}`,Hp=async()=>{const{data:{session:e}}=await S9.auth.getSession(),t=e?.access_token;if(!t)throw new Error(" .  .");return t};function M0({open:e,onClose:t,words:n,onRemoveWord:s,onClear:i,onActionComplete:a,currentVocabularyId:l,currentVocabularyTitle:d}){const[u,f]=g.useState("new"),[m,p]=g.useState(""),[y,v]=g.useState([]),[b,j]=g.useState(""),[S,N]=g.useState(!1),[C,A]=g.useState(!1),[E,_]=g.useState(null),T=g.useRef(null),D=g.useRef(null),R=n.length,V=()=>{C||t()},G=async()=>{N(!0);try{const F=await Hp(),z=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies`,{headers:{Authorization:`Bearer ${F}`}}),B=await z.json();if(!z.ok)throw new Error(B.error||"   .");const O=Array.isArray(B)?B:Array.isArray(B.vocabularies)?B.vocabularies:[];v(O)}catch(F){console.error("   :",F),de.error(F?.message||"   .")}finally{N(!1)}};g.useEffect(()=>{e&&(f("new"),l?(f("existing"),j(l)):j(""),G(),setTimeout(()=>{const F=l?D.current:T.current;F&&(F.focus(),F.click())},300))},[e,l]),g.useEffect(()=>{e&&setTimeout(()=>{const F=u==="new"?T.current:D.current;F&&(F.focus(),F.click())},200)},[u,e]);const ne=g.useMemo(()=>u==="new"?"  ":"  ",[u]),ie=g.useMemo(()=>{const F=[...y];if(l&&d)if(!F.some(B=>B.id===l))F.unshift({id:l,title:`${d} ( )`,total_words:void 0});else{const B=F.findIndex(O=>O.id===l);if(B!==-1){F[B]={...F[B],title:`${F[B].title} ( )`};const[O]=F.splice(B,1);F.unshift(O)}}return F},[y,l,d]),oe=async()=>{if(R===0){de.error("  .");return}if(!m.trim()){de.error("  .");return}try{A(!0),de.loading("   ...",{id:"word-basket-action"});const F=await Hp(),z=await b1(n.map($=>({word:$.word})),F,{onProgress:$=>_($),onBatchUpdate:$=>de.loading($,{id:"word-basket-action"})});if(z.length===0)throw new Error("  .");de.loading("   ...",{id:"word-basket-action"});const B=await fetch(`https://${Ge}.supabase.co/functions/v1/server/save-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify({vocabularyId:N9(),title:m.trim(),category:"My Own",level:"Custom",words:z})}),O=await B.json();if(!B.ok)throw new Error(O.error||"  .");de.success("  ! ",{id:"word-basket-action"}),a?.(),i(),V()}catch(F){console.error("  :",F),de.error(F?.message||"  .",{id:"word-basket-action"})}finally{A(!1),_(null)}},Z=async()=>{if(R===0){de.error("  .");return}if(!b){de.error("  .");return}try{A(!0),de.loading("   ...",{id:"word-basket-action"});const F=await Hp(),z=await b1(n.map($=>({word:$.word})),F,{onProgress:$=>_($),onBatchUpdate:$=>de.loading($,{id:"word-basket-action"})});if(z.length===0)throw new Error("  .");de.loading("   ...",{id:"word-basket-action"});const B=await fetch(`https://${Ge}.supabase.co/functions/v1/server/add-words-to-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify({vocabularyId:b,words:z})}),O=await B.json();if(!B.ok)throw new Error(O.error||"  .");de.success("  !",{id:"word-basket-action"}),a?.(),i(),V()}catch(F){console.error("  :",F),de.error(F?.message||"  .",{id:"word-basket-action"})}finally{A(!1),_(null)}};return r.jsx(pt,{children:e&&r.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-center justify-center px-4 py-6",children:r.jsxs(I.div,{initial:{y:40,opacity:0},animate:{y:0,opacity:1},exit:{y:40,opacity:0},className:"w-full max-w-2xl max-h-[90vh] bg-white rounded-3xl shadow-2xl border border-gray-100 overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-[#F5F3FF] to-white",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs uppercase tracking-wide text-[#7C3AED] font-semibold",children:[R,"  "]}),r.jsx("h2",{className:"text-xl font-bold text-[#1F1D2B]",children:ne})]}),r.jsx("button",{onClick:V,className:"w-10 h-10 rounded-full bg-white shadow-sm border border-gray-100 flex items-center justify-center",children:r.jsx(yn,{className:"w-5 h-5 text-gray-600"})})]}),r.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("button",{onClick:()=>f("new"),className:`p-3 rounded-2xl border flex items-center gap-2 text-sm font-semibold ${u==="new"?"border-[#7C3AED] bg-[#F5F3FF] text-[#5B21B6]":"border-gray-200 text-gray-500"}`,children:[r.jsx(hS,{className:"w-4 h-4"})," "]}),r.jsxs("button",{onClick:()=>f("existing"),className:`p-3 rounded-2xl border flex items-center gap-2 text-sm font-semibold ${u==="existing"?"border-[#7C3AED] bg-[#F5F3FF] text-[#5B21B6]":"border-gray-200 text-gray-500"}`,children:[r.jsx(VR,{className:"w-4 h-4"})," "]})]}),r.jsx("div",{className:"space-y-4",children:u==="new"?r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:" "}),r.jsx("input",{ref:T,type:"text",value:m,onChange:F=>p(F.target.value),placeholder:": 2025-11-17  ",className:"w-full rounded-2xl border border-gray-200 px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-[#C4B5FD]"})]}):r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-500 mb-2 block",children:"  "}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{ref:D,value:b,onChange:F=>j(F.target.value),className:"w-full appearance-none rounded-2xl border border-gray-200 px-4 py-2.5 pr-10 focus:outline-none focus:ring-2 focus:ring-[#C4B5FD]",children:[r.jsx("option",{value:"",children:" "}),ie.map(F=>r.jsxs("option",{value:F.id,children:[F.title,F.total_words!==void 0?` (${F.total_words})`:""]},F.id))]}),r.jsx(Hn,{className:"w-4 h-4 text-gray-500 absolute right-4 top-1/2 -translate-y-1/2"})]}),S&&r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"  ..."}),!S&&ie.length===0&&r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"   ."})]})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-400 mb-2",children:" "}),r.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:n.map(F=>r.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-gray-100 bg-gray-50 px-4 py-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-[#1F1D2B]",children:F.word}),r.jsx("p",{className:"text-xs text-gray-500",children:F.meaning}),F.source&&r.jsx("p",{className:"text-[10px] text-[#7C3AED] mt-0.5",children:F.source})]}),r.jsx("button",{onClick:()=>s(F.id),className:"text-xs text-gray-500 hover:text-[#DC2626]",children:""})]},F.id))})]})]}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 bg-white",children:[r.jsx("button",{onClick:i,className:"text-sm text-gray-500 hover:text-[#7C3AED]",disabled:C,children:"  "}),r.jsxs("button",{onClick:u==="new"?oe:Z,disabled:C,className:"w-full sm:w-auto px-6 py-3 rounded-2xl bg-gradient-to-r from-[#5B21B6] to-[#7C3AED] text-white font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[C&&r.jsx(Om,{className:"w-4 h-4 animate-spin"}),u==="new"?"  ":" "]})]})]})})})}const w1=er(),dl=60,k9=`https://${Ge}.supabase.co/functions/v1/text-analyzer/analyze`,j1=3,C9=1500,E9=e=>new Promise(t=>setTimeout(t,e)),A9=e=>{if(!e?.length)return;const t=new Set,n=[];for(const s of e){const i=s.word?.trim();if(!i)continue;const a=i.toLowerCase();t.has(a)||(t.add(a),n.push({word:i,pos:s.pos?.trim()||"",meaning:s.meaning?.trim()||"",level:s.level?.trim()||""}))}return n.length?n:void 0},S1=e=>{if(!e)return;const t=e.replace(/\r/g,"").split(`
`),n=[];let s=!1;for(const a of t){const l=a.trim().replace(/[ ]{2,}/g," ");if(!l){n.length>0&&!s&&(s=!0);continue}s&&(n.push(""),s=!1),n.push(l)}return n.join(`
`).replace(/\n{3,}/g,`

`).trim()||void 0},N1=e=>e.replace(/\r/g,"").replace(/[|]/g,"I").replace(/[-]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248)).replace(/[--]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248)).replace(/[ \t]{2,}/g," ").replace(/\n{3,}/g,`

`).split(`
`).map(t=>t.trimEnd()).join(`
`).trim(),qp=e=>({vocabulary:A9(e.vocabulary),analysis:S1(e.analysis),explanation:S1(e.explanation)}),Gp=(e,t,n,s)=>({text:e,options:t,answerKey:n.trim(),...s&&{questionType:s}}),_9=async(e,t)=>{const n=await fetch(k9,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.error||"  ");return s},Kp=async(e,t)=>{let n=null;for(let s=1;s<=j1;s++)try{return await _9(e,t)}catch(i){if(n=i instanceof Error?i:new Error(String(i)),s<j1){await E9(C9);continue}throw n}throw n??new Error("  ")};function T9({onBack:e,onNavigateToTutor:t}){const[n,s]=g.useState([]),[i,a]=g.useState(()=>localStorage.getItem("textExtractorInput")||""),[l,d]=g.useState(""),[u,f]=g.useState("blank"),[m,p]=g.useState(!1),[y,v]=g.useState(!1),[b,j]=g.useState(()=>{const U=localStorage.getItem("textExtractorResults");return U?JSON.parse(U):null}),S=g.useRef(null),N=U=>{a(U),localStorage.setItem("textExtractorInput",U)};g.useEffect(()=>{b&&localStorage.setItem("textExtractorResults",JSON.stringify(b))},[b]);const{selectedWords:C,count:A,toggleWord:E,addWords:_,removeWords:T,removeWord:D,clear:R,isSelected:V}=F0(),[G,ne]=g.useState(!1),[ie,oe]=g.useState(null),[Z,F]=g.useState(!1),[z,B]=g.useState("");g.useEffect(()=>{const U=document.createElement("div");return U.id="print-portal-container",document.body.appendChild(U),oe(U),()=>{document.body.removeChild(U)}},[]),g.useEffect(()=>{Z&&setTimeout(()=>{S.current?.focus()},200)},[Z]);const O=[{id:"word",label:"",sublabel:"Word",icon:Ur},{id:"translation",label:"",sublabel:"Translation",icon:xS},{id:"explanation",label:"",sublabel:"Explanation",icon:s0}],$=U=>{s(ee=>ee.includes(U)?ee.filter(Y=>Y!==U):[...ee,U])},q=U=>new Promise((ee,Y)=>{const le=new FileReader;le.readAsDataURL(U),le.onload=()=>{const ue=le.result.split(",")[1];ee(ue)},le.onerror=Y}),M=()=>{const U=document.createElement("input");U.type="file",U.accept="image/*",U.onchange=async ee=>{const Y=ee.target?.files?.[0];if(Y){v(!0);try{const{data:{session:le}}=await w1.auth.getSession(),fe=le?.access_token;if(!fe){de.error(" .");return}const ue=await q(Y),Se=await fetch(`https://${Ge}.supabase.co/functions/v1/text-analyzer/ocr`,{method:"POST",headers:{Authorization:`Bearer ${fe}`,"Content-Type":"application/json"},body:JSON.stringify({image:ue})}),Pe=await Se.json();if(!Se.ok)throw new Error(Pe.error||"OCR  ");if(Pe.text){const Ye=N1(Pe.text);N(Ye),de.success("  .")}else de.error("    .")}catch(le){console.error("OCR error:",le),de.error(le.message||"OCR    .")}finally{v(!1)}}},U.click()},W=async()=>{if(!i.trim()||n.length===0){de.error("  .");return}p(!0),j(null),localStorage.removeItem("textExtractorResults");try{const{data:{session:U}}=await w1.auth.getSession(),ee=U?.access_token;if(!ee){de.error(" .");return}de.loading("AI  ...",{id:"analysis-progress"});const Y=n.includes("word"),le=n.includes("translation"),fe=n.includes("explanation"),ue=[];if(Y){const Se=(async()=>{try{const Pe=Gp(i,{vocabulary:!0,analysis:!1,explanation:!1},l),Ye=await Kp(ee,Pe),Ze=qp(Ye);j(ye=>({...ye,vocabulary:Ze.vocabulary}))}catch(Pe){console.error("Vocabulary extraction error:",Pe)}})();ue.push(Se)}if(le){const Se=(async()=>{try{const Pe=Gp(i,{vocabulary:!1,analysis:!0,explanation:!1},l),Ye=await Kp(ee,Pe),Ze=qp(Ye);j(ye=>({...ye,analysis:Ze.analysis}))}catch(Pe){console.error("Text analysis error:",Pe)}})();ue.push(Se)}if(fe){const Se=(async()=>{try{const Pe=Gp(i,{vocabulary:!1,analysis:!1,explanation:!0},l,u),Ye=await Kp(ee,Pe),Ze=qp(Ye);j(ye=>({...ye,explanation:Ze.explanation}))}catch(Pe){console.error("Explanation error:",Pe)}})();ue.push(Se)}await Promise.all(ue),de.success(" !",{id:"analysis-progress"})}catch(U){console.error("Analysis error:",U),de.error(U.message||"   .",{id:"analysis-progress"})}finally{p(!1)}},L=()=>{j(null),N(""),localStorage.removeItem("textExtractorResults"),localStorage.removeItem("textExtractorInput"),de.info("  .")},K=()=>{if(!z.trim()){de.error(" .");return}if(!t){de.error("AI     .");return}let U=`[Passage Extractor  ]

`;U+=`:
${i}

`,l&&(U+=`: ${l}

`),b?.vocabulary&&b.vocabulary.length>0&&(U+=` :
`,b.vocabulary.forEach(ee=>{U+=`- ${ee.word}: ${ee.meaning}
`}),U+=`
`),b?.analysis&&(U+=` :
${b.analysis}

`),b?.explanation&&(U+=` :
${b.explanation}

`),U+=` : ${z}`,console.log("Navigating to AI Tutor:",{question:z,hasContext:!!U}),t(z,U),F(!1),B("")};return r.jsxs(r.Fragment,{children:[r.jsx("style",{children:`
        @media print {
          @page {
            margin: 1.5cm;
          }

          /* Hide entire app */
          body > #root {
            display: none !important;
          }

          /* Show only print portal */
          #print-portal-container {
            display: block !important;
          }
        }

        /* Hide print portal by default */
        #print-portal-container {
          display: none;
        }

        @media screen {
          #print-portal-container {
            display: none !important;
          }
        }
      `}),ie&&b&&Ar.createPortal(r.jsxs("div",{style:{padding:"20px",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"9pt",lineHeight:"1.6"},children:[r.jsxs("div",{style:{marginBottom:"20px",borderBottom:"2px solid #000",paddingBottom:"10px",display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[r.jsx("h1",{style:{fontSize:"18pt",margin:0,fontWeight:"bold"},children:"Passage Extractor "}),r.jsx("div",{style:{fontSize:"9pt",color:"#666"},children:new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})})]}),i&&r.jsxs("div",{style:{marginBottom:"25px",padding:"15px",backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"8px"},children:[r.jsx("h2",{style:{fontSize:"12pt",marginBottom:"10px",fontWeight:"bold",color:"#491B6D"},children:" "}),r.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6",fontSize:"9pt",color:"#000"},children:N1(i)}),l&&r.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px dashed #dee2e6"},children:[r.jsx("span",{style:{fontWeight:"bold",fontSize:"9pt",color:"#000"},children:": "}),r.jsx("span",{style:{fontSize:"9pt",color:"#dc3545"},children:l})]})]}),b.vocabulary&&b.vocabulary.length>0&&r.jsxs("div",{style:{marginBottom:"25px",pageBreakInside:"avoid"},children:[r.jsx("h2",{style:{fontSize:"12pt",marginBottom:"10px",fontWeight:"bold",color:"#491B6D"},children:" "}),r.jsx("div",{style:{columnCount:2,columnGap:"20px"},children:b.vocabulary.map((U,ee)=>r.jsxs("div",{style:{marginBottom:"6px",breakInside:"avoid",color:"#000",display:"flex"},children:[r.jsx("span",{style:{fontWeight:"bold",minWidth:"120px",flexShrink:0},children:U.word}),r.jsx("span",{children:U.meaning})]},ee))})]}),b.analysis&&r.jsxs("div",{style:{marginBottom:"25px",pageBreakInside:"avoid"},children:[r.jsx("h2",{style:{fontSize:"12pt",marginBottom:"10px",fontWeight:"bold",color:"#491B6D"},children:" "}),r.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6",fontSize:"9pt",columnCount:2,columnGap:"20px",color:"#000"},children:b.analysis})]}),b.explanation&&r.jsxs("div",{style:{marginBottom:"25px",pageBreakInside:"avoid"},children:[r.jsx("h2",{style:{fontSize:"12pt",marginBottom:"10px",fontWeight:"bold",color:"#491B6D"},children:" "}),r.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6",fontSize:"9pt",columnCount:2,columnGap:"20px",color:"#000"},children:b.explanation})]})]}),ie),r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsx(nc,{onBack:e,title:"Passage Extractor",subtitle:" ,  ,   ",rightElement:b?r.jsx(I.button,{whileTap:{scale:.95},onClick:L,className:"w-11 h-11 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/40",style:{minWidth:"44px",minHeight:"44px"},children:r.jsx(tc,{className:"w-5 h-5 text-[#491B6D]"})}):void 0}),r.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-4 pb-8",children:r.jsxs("div",{className:"pt-2",children:[r.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4 passage-extractor-no-print",children:O.map(U=>{const ee=U.icon,Y=n.includes(U.id);return r.jsxs(I.button,{whileTap:{scale:.95},onClick:()=>$(U.id),className:"relative bg-white/90 border border-gray-200 p-3 shadow-sm transition-all rounded-2xl",children:[Y&&r.jsx("div",{className:"absolute top-1.5 right-1.5 w-4 h-4 bg-[#491B6D] rounded-full flex items-center justify-center",children:r.jsx(Qi,{className:"w-2.5 h-2.5 text-white",strokeWidth:3})}),r.jsx("div",{className:"flex justify-center mb-2",children:r.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center ${Y?"bg-[#491B6D]":"bg-[#491B6D]/10"}`,children:r.jsx(ee,{className:`w-5 h-5 ${Y?"text-white":"text-[#491B6D]"}`})})}),r.jsx("div",{className:"text-center",children:r.jsx("div",{className:"text-[#091A7A]",style:{fontSize:"13px",fontWeight:600},children:U.label})})]},U.id)})}),r.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/95 backdrop-blur-xl border border-white/50 p-6 shadow-xl rounded-3xl passage-extractor-no-print",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 passage-extractor-no-print",children:[r.jsx("h2",{className:"text-[#091A7A] no-print",style:{fontSize:"16px",fontWeight:700},children:" "}),r.jsx(I.button,{whileTap:{scale:.95},onClick:M,disabled:y,className:"w-10 h-10 bg-[#491B6D]/10 flex items-center justify-center rounded-[12px]",children:y?r.jsx(Om,{className:"w-5 h-5 text-[#491B6D] animate-spin"}):r.jsx(yR,{className:"w-5 h-5 text-[#491B6D]"})})]}),r.jsx("textarea",{value:i,onChange:U=>N(U.target.value),placeholder:"   ...",className:"w-full h-64 p-4 bg-[#F9FAFB] border border-gray-200 focus:border-[#491B6D] focus:outline-none resize-none text-[#374151] transition-colors rounded-md",style:{fontSize:"14px",fontWeight:400,lineHeight:"1.6"}}),n.includes("explanation")&&r.jsxs(I.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-[#091A7A] mb-2",children:" ()"}),r.jsx("input",{type:"text",value:l,onChange:U=>d(U.target.value),placeholder:":   resilient",className:"w-full p-3 bg-[#F9FAFB] border border-gray-200 focus:border-[#491B6D] focus:outline-none text-[#374151] transition-colors rounded-md",style:{fontSize:"14px"}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-[#091A7A] mb-2",children:" "}),r.jsxs("select",{value:u,onChange:U=>f(U.target.value),className:"w-full p-3 bg-[#F9FAFB] border border-gray-200 focus:border-[#491B6D] focus:outline-none text-[#374151] transition-colors rounded-md",style:{fontSize:"14px"},children:[r.jsx("option",{value:"blank",children:" & "}),r.jsx("option",{value:"main_idea",children:" (///)"}),r.jsx("option",{value:"matching",children:" (/)"}),r.jsx("option",{value:"order",children:" "}),r.jsx("option",{value:"insertion",children:" "}),r.jsx("option",{value:"irrelevant",children:"  "}),r.jsx("option",{value:"other",children:""})]})]})]})]}),r.jsx(I.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},whileTap:{scale:.98},onClick:W,disabled:!i.trim()||n.length===0||m,className:`w-full p-5 shadow-lg transition-all mt-4 rounded-2xl passage-extractor-no-print ${i.trim()&&n.length>0&&!m?"bg-gradient-to-r from-[#491B6D] to-[#5E2278] opacity-100":"bg-gray-300 opacity-50"}`,children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m?r.jsx(Om,{className:"w-5 h-5 text-white animate-spin"}):r.jsx(fr,{className:"w-5 h-5 text-white"}),r.jsx("span",{className:"text-white",style:{fontSize:"16px",fontWeight:600},children:m?"AI  ...":"  "})]})}),b&&r.jsxs(I.div,{id:"passage-extractor-print-content",initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-4",children:[b.vocabulary&&b.vocabulary.length>0&&r.jsx(x9,{vocabulary:b.vocabulary,onToggleWord:U=>{const ee=V(U.id);if(!ee&&A>=dl){de.error(`  ${dl}   .`);return}E(U),de[ee?"info":"success"](ee?" .":" .",{duration:1500})},onSelectAll:U=>{if(A>=dl){de.error(`  ${dl}   .`);return}const ee=U.filter(fe=>!V(fe.id));if(ee.length===0){de.info("   .");return}const Y=dl-A,le=ee.slice(0,Y);_(le),de.success(`${le.length}   .`)},onDeselectAll:U=>{T(U),de.info("   .")},isWordSelected:V,onAddToVocabulary:U=>{_(U),ne(!0)}}),b.analysis&&r.jsx(b9,{analysis:b.analysis}),b.explanation&&r.jsx(w9,{explanation:b.explanation}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 passage-extractor-no-print",children:[r.jsx(I.button,{whileTap:{scale:.98},onClick:()=>window.print(),className:"p-4 bg-white border border-gray-200 rounded-2xl shadow-sm hover:shadow-md transition-all",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(vS,{className:"w-5 h-5 text-[#491B6D]"}),r.jsx("span",{className:"text-[#491B6D] font-semibold text-sm",children:""})]})}),r.jsx(I.button,{whileTap:{scale:.98},onClick:()=>F(!0),className:"p-4 bg-gradient-to-r from-[#491B6D] to-[#5E2278] rounded-2xl shadow-sm hover:shadow-md transition-all",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(S6,{className:"w-5 h-5 text-white"}),r.jsx("span",{className:"text-white font-semibold text-sm",children:" "})]})})]})]})]})}),r.jsx(M0,{open:G,onClose:()=>ne(!1),words:C,onRemoveWord:D,onClear:R,onActionComplete:async()=>{ne(!1);const{invalidateVocabularyListCache:U}=await Fr(async()=>{const{invalidateVocabularyListCache:ee}=await Promise.resolve().then(()=>I0);return{invalidateVocabularyListCache:ee}},[]);U()}}),r.jsx(pt,{children:Z&&r.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:()=>F(!1),children:r.jsxs(I.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:U=>U.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl w-full max-w-lg p-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-xl font-bold text-[#491B6D]",children:" "}),r.jsx("button",{onClick:()=>F(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",children:r.jsx(yn,{className:"w-5 h-5 text-gray-500"})})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"     AI  ."}),r.jsx("textarea",{ref:S,value:z,onChange:U=>B(U.target.value),placeholder:": 3       ",className:"w-full p-4 border border-gray-200 rounded-2xl focus:border-[#491B6D] focus:outline-none resize-none min-h-[120px] text-sm",onKeyDown:U=>{U.key==="Enter"&&(U.metaKey||U.ctrlKey)&&K()}}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>F(!1),className:"flex-1 p-3 border border-gray-200 rounded-2xl text-gray-700 font-semibold hover:bg-gray-50 transition-colors",children:""}),r.jsx("button",{onClick:K,disabled:!z.trim(),className:"flex-1 p-3 bg-gradient-to-r from-[#491B6D] to-[#5E2278] rounded-2xl text-white font-semibold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"AI  "})]})]})})})]})]})}function P9({words:e,onWordCleared:t,onClose:n,onGameComplete:s}){const[a,l]=g.useState([]),[d,u]=g.useState(0),[f,m]=g.useState([]),[p,y]=g.useState(0),[v,b]=g.useState(!1),[j,S]=g.useState(!1),[N,C]=g.useState(!1);g.useEffect(()=>{if(e.length>0&&a.length===0){const Z=[];e.forEach(z=>{Z.push({id:`${z.id}-word`,wordId:z.id,content:z.word,type:"word",isFlipped:!1,isMatched:!1}),Z.push({id:`${z.id}-meaning`,wordId:z.id,content:z.meaning,type:"meaning",isFlipped:!1,isMatched:!1})});const F=Z.sort(()=>Math.random()-.5);l(F)}},[e,a.length]);const A=Math.ceil(e.length/8),E=d*8*2,_=E+16,T=a.slice(E,_),D=Z=>{if(v)return;const F=T.find(z=>z.id===Z);if(!(!F||F.isFlipped||F.isMatched)&&!(f.length>=2)&&(l(z=>z.map(B=>B.id===Z?{...B,isFlipped:!0}:B)),m(z=>[...z,Z]),f.length===1)){b(!0),y(O=>O+1);const z=f[0],B=T.find(O=>O.id===z);B&&B.wordId===F.wordId&&B.type!==F.type?setTimeout(()=>{if(l($=>$.map(q=>q.wordId===F.wordId?{...q,isMatched:!0,isFlipped:!1}:q)),t(F.wordId),m([]),b(!1),T.filter($=>!$.isMatched&&$.wordId!==F.wordId).length===0){const $=d<A-1;setTimeout($?()=>{C(!0)}:()=>{S(!0),s&&s()},500)}},600):setTimeout(()=>{l(O=>O.map($=>$.id===z||$.id===Z?{...$,isFlipped:!1}:$)),m([]),b(!1)},1e3)}},R=()=>{u(Z=>Z+1),C(!1),y(0)},V=()=>{l(Z=>Z.map(F=>({...F,isFlipped:!1,isMatched:!1}))),m([]),y(0),S(!1),C(!1),u(0),b(!1)},G=T.filter(Z=>Z.isMatched).length/2,ne=e.length,ie=d+1,oe=Math.min(8,e.length-d*8);return r.jsxs(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-gradient-to-br from-red-50 to-red-100 flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/80 backdrop-blur-sm border-b border-red-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-red-900",children:"  "}),r.jsx("p",{className:"text-xs text-red-600",children:"  !"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(I.button,{whileTap:{scale:.95},onClick:V,className:"p-2 bg-red-100 rounded-lg",children:r.jsx(tc,{className:"w-5 h-5 text-red-600"})}),r.jsx(I.button,{whileTap:{scale:.95},onClick:n,className:"p-2 bg-red-100 rounded-lg",children:r.jsx(yn,{className:"w-5 h-5 text-red-600"})})]})]}),r.jsxs("div",{className:"flex justify-center gap-6 p-3 bg-white/60",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs text-red-500 font-medium",children:""}),r.jsxs("p",{className:"text-lg font-bold text-red-700",children:[ie,"/",A]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs text-red-500 font-medium",children:" "}),r.jsxs("p",{className:"text-lg font-bold text-red-700",children:[G,"/",oe]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs text-red-500 font-medium",children:" "}),r.jsx("p",{className:"text-lg font-bold text-red-700",children:p})]})]}),r.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:r.jsx("div",{className:"grid gap-3 max-w-4xl mx-auto",style:{gridTemplateColumns:"repeat(4, 1fr)",gridAutoRows:"minmax(80px, auto)"},children:T.map(Z=>r.jsx(I.div,{initial:{scale:0,rotateY:180},animate:{scale:1,rotateY:0},transition:{type:"spring",stiffness:300,damping:25},onClick:()=>!Z.isMatched&&D(Z.id),className:Z.isMatched?"pointer-events-none":"cursor-pointer",style:{perspective:"1000px"},children:r.jsxs(I.div,{animate:{rotateY:Z.isFlipped||Z.isMatched?180:0},transition:{duration:.4},className:"relative w-full h-full min-h-[80px]",style:{transformStyle:"preserve-3d"},children:[r.jsx("div",{className:`absolute inset-0 rounded-xl flex items-center justify-center ${Z.type==="word"?"bg-gradient-to-br from-rose-400 to-red-500 shadow-md":"bg-gradient-to-br from-rose-200 to-red-300 shadow-sm"}`,style:{backfaceVisibility:"hidden"},children:r.jsx("span",{className:"text-xl",children:""})}),r.jsx("div",{className:`absolute inset-0 rounded-xl flex items-center justify-center p-2 border ${Z.isMatched?"bg-gradient-to-br from-green-50 to-emerald-100 border-green-300 shadow-md":Z.type==="word"?"bg-gradient-to-br from-white to-rose-50 border-rose-200 shadow-md":"bg-gradient-to-br from-rose-50 to-pink-50 border-rose-100 shadow-sm"}`,style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:r.jsx("p",{className:`text-center font-medium ${Z.isMatched?"text-green-700 font-bold":Z.type==="word"?"text-red-700 font-semibold":"text-rose-600"}`,style:{fontSize:Z.content.length>15?"10px":Z.content.length>12?"11px":"13px",wordBreak:"break-word",lineHeight:1.2},children:Z.content})})]})},Z.id))})}),r.jsx(pt,{children:N&&r.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 flex items-center justify-center z-60",children:r.jsxs(I.div,{initial:{scale:.5,y:50},animate:{scale:1,y:0},exit:{scale:.5,y:50},className:"bg-white rounded-2xl p-8 mx-4 text-center shadow-2xl",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:[" ",ie," !"]}),r.jsxs("p",{className:"text-gray-600 mb-1",children:[oe,"  "]}),r.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["   (",ie,"/",A,")"]}),r.jsx(I.button,{whileTap:{scale:.95},onClick:R,className:"w-full px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl font-semibold",children:"   "})]})})}),r.jsx(pt,{children:j&&r.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 flex items-center justify-center z-60",children:r.jsxs(I.div,{initial:{scale:.5,y:50},animate:{scale:1,y:0},exit:{scale:.5,y:50},className:"bg-white rounded-2xl p-8 mx-4 text-center shadow-2xl",children:[r.jsx(fs,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"! "}),r.jsx("p",{className:"text-gray-600 mb-1",children:"  !"}),r.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:[ne,"  / ",p," "]}),r.jsxs("div",{className:"flex gap-3 justify-center",children:[r.jsx(I.button,{whileTap:{scale:.95},onClick:V,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-semibold",children:" "}),r.jsx(I.button,{whileTap:{scale:.95},onClick:n,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold",children:""})]})]})})})]})}const Ti={maxLives:3,zombieCount:4,zombieSpeed:.3,totalQuestions:10},Ro={MIN_Y:10,MAX_Y:70,MIN_X:10,MAX_X:90},k1={CORRECT_ANSWER:100,WRONG_ANSWER:-50},su={BACKGROUND:"#0a1628",HEART_FULL:"#ef4444",HEART_EMPTY:"#4b5563"};function R9(e){const[t,n]=g.useState({currentWord:null,zombies:[],score:0,lives:Ti.maxLives,isGameOver:!1,isPaused:!1,questionNumber:0,totalQuestions:Ti.totalQuestions}),s=g.useRef(new Set),i=g.useRef(),a=g.useRef(()=>{}),l=()=>({x:Ro.MIN_X+Math.random()*(Ro.MAX_X-Ro.MIN_X),y:Ro.MIN_Y+Math.random()*(Ro.MAX_Y-Ro.MIN_Y)}),d=g.useCallback(()=>{e.length!==0&&n(p=>{const y=e.filter(N=>!s.current.has(N.id));if(y.length===0||p.questionNumber>=p.totalQuestions)return{...p,isGameOver:!0};const v=y[Math.floor(Math.random()*y.length)];s.current.add(v.id);const b=e.filter(N=>N.id!==v.id).sort(()=>Math.random()-.5).slice(0,Ti.zombieCount-1),S=[v,...b].sort(()=>Math.random()-.5).map((N,C)=>{const A=l();return{id:`zombie-${Date.now()}-${C}`,wordId:N.id,meaning:N.meaning,x:A.x,y:A.y,speed:Ti.zombieSpeed+Math.random()*.2,direction:Math.random()>.5?"down":"up",isCorrect:N.id===v.id}});return{...p,currentWord:v,zombies:S,questionNumber:p.questionNumber+1}})},[e]);g.useEffect(()=>{a.current=d},[d]);const u=g.useCallback(p=>{n(y=>{const v=y.zombies.find(b=>b.id===p);if(!v)return y;if(v.isCorrect)return setTimeout(()=>a.current(),500),{...y,score:y.score+k1.CORRECT_ANSWER};{const b=y.lives-1;return{...y,lives:b,score:Math.max(0,y.score+k1.WRONG_ANSWER),isGameOver:b<=0}}})},[]);g.useEffect(()=>()=>{i.current&&cancelAnimationFrame(i.current)},[t.isPaused,t.isGameOver]);const f=g.useCallback(()=>{s.current.clear(),n({currentWord:null,zombies:[],score:0,lives:Ti.maxLives,isGameOver:!1,isPaused:!1,questionNumber:0,totalQuestions:Math.min(Ti.totalQuestions,e.length)}),setTimeout(()=>{a.current()},100)},[e.length]),m=g.useCallback(()=>{n(p=>({...p,isPaused:!p.isPaused}))},[]);return{gameState:t,startGame:f,handleZombieClick:u,togglePause:m,generateNextQuestion:d}}const D9="/assets/KakaoTalk_Photo_2025-11-17-19-39-42-BXhh9LMP.png",O9="/assets/KakaoTalk_Photo_2025-11-17-19-39-46-CQctTSuR.png",I9="/assets/KakaoTalk_Photo_2025-11-17-19-39-49-BTLZm4LH.png",F9="/assets/KakaoTalk_Photo_2025-11-17-19-39-52-BzIwN0jb.png",C1=[D9,O9,I9,F9];function M9({zombie:e,onClick:t}){const n=Math.abs(e.id.split("").reduce((p,y)=>p+y.charCodeAt(0),0))%C1.length,s=C1[n],i=e.id.split("").reduce((p,y)=>p+y.charCodeAt(0),0),a=3+i%3,l=10+i%8,d=50+i%50,u=50+i%60,m=i*31%4;return r.jsxs(I.div,{"data-zombie-id":e.id,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{scale:{duration:.3}},onClick:()=>t(e.id),className:"absolute cursor-pointer select-none z-30",style:{left:`${e.x}%`,top:`${e.y}%`,transform:"translate(-50%, -50%)"},whileTap:{scale:.9},children:[r.jsxs("div",{className:"relative flex flex-col items-center",style:{animation:`ghostFloat-${e.id} ${a}s ease-in-out infinite, ghostDrift-${e.id} ${l}s ease-in-out infinite`,animationDelay:`${i%10*.1}s`},children:[r.jsx("div",{className:"relative",children:r.jsx("img",{src:s,alt:"ghost",className:"w-20 h-20 object-contain",style:{filter:"drop-shadow(0 0 10px rgba(100, 100, 100, 0.5))",animation:`ghostWobble-${e.id} ${2+i%2}s ease-in-out infinite`}})}),r.jsx("div",{className:"mt-1 px-3 py-1.5 bg-white/95 rounded-lg shadow-lg border border-gray-200",style:{maxWidth:"120px"},children:r.jsx("span",{className:"text-gray-800 font-semibold leading-tight block text-center",style:{fontSize:e.meaning.length>10?"10px":e.meaning.length>6?"11px":"12px"},children:e.meaning})})]}),r.jsx("style",{children:`
        @keyframes ghostFloat-${e.id} {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-15px); }
        }
        @keyframes ghostDrift-${e.id} {
          ${m===0?`
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(${d}px, -${u}px); }
            50% { transform: translate(-${d*.5}px, ${u}px); }
            75% { transform: translate(${d*.7}px, ${u*.5}px); }
          `:m===1?`
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(-${d}px, ${u}px); }
            50% { transform: translate(${d*.8}px, -${u*.6}px); }
            75% { transform: translate(-${d*.3}px, -${u*.8}px); }
          `:m===2?`
            0%, 100% { transform: translate(0, 0); }
            33% { transform: translate(${d*.9}px, ${u*.7}px); }
            66% { transform: translate(-${d*.6}px, -${u}px); }
          `:`
            0%, 100% { transform: translate(0, 0); }
            20% { transform: translate(-${d*.8}px, -${u*.5}px); }
            40% { transform: translate(${d*.4}px, ${u}px); }
            60% { transform: translate(${d}px, -${u*.3}px); }
            80% { transform: translate(-${d*.5}px, ${u*.6}px); }
          `}
        }
        @keyframes ghostWobble-${e.id} {
          0%, 100% { transform: rotate(-3deg); }
          50% { transform: rotate(3deg); }
        }
      `})]})}function $9({word:e}){return r.jsx(I.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:"text-center",children:r.jsx("div",{className:"inline-block px-8 py-4 rounded-lg",style:{background:"linear-gradient(135deg, #1e3a5f 0%, #0f172a 100%)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.5), 0 0 40px rgba(59, 130, 246, 0.2)",border:"2px solid rgba(59, 130, 246, 0.3)"},children:r.jsx("h1",{className:"text-white font-black tracking-wider",style:{fontSize:"36px",textShadow:"0 0 20px rgba(59, 130, 246, 0.5), 0 4px 8px rgba(0, 0, 0, 0.8)",fontFamily:"system-ui, -apple-system, sans-serif"},children:e})})})}function B9({lives:e,maxLives:t}){return r.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:t}).map((n,s)=>r.jsx(I.div,{initial:{scale:0},animate:{scale:1},transition:{delay:s*.1},children:r.jsx(Dm,{className:"w-8 h-8",fill:s<e?su.HEART_FULL:"transparent",color:s<e?su.HEART_FULL:su.HEART_EMPTY,strokeWidth:2})},s))})}function L9({score:e,questionNumber:t,totalQuestions:n}){return r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-white",children:[r.jsx("span",{className:"text-sm opacity-70",children:"SCORE"}),r.jsx("div",{className:"text-2xl font-bold",children:e})]}),r.jsxs("div",{className:"text-white",children:[r.jsx("span",{className:"text-sm opacity-70",children:"QUESTION"}),r.jsxs("div",{className:"text-2xl font-bold",children:[t,"/",n]})]})]})}function z9(){return r.jsx(I.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:"relative",children:r.jsxs("div",{className:"w-10 h-16 relative",style:{background:"linear-gradient(180deg, #374151 0%, #1f2937 100%)",borderRadius:"4px 4px 2px 2px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.5)"},children:[r.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 w-2 h-4",style:{background:"linear-gradient(180deg, #4b5563 0%, #374151 100%)",borderRadius:"2px 2px 0 0"}}),r.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-6 h-8",style:{background:"linear-gradient(180deg, #1f2937 0%, #111827 100%)",borderRadius:"0 0 4px 4px"}})]})})}function xC({vocabularyWords:e,onBack:t,onBackToHome:n}){const{gameState:s,startGame:i,handleZombieClick:a,togglePause:l}=R9(e),[d,u]=g.useState([]),[f,m]=g.useState([]),p=g.useRef(null),y=g.useRef(null),v=g.useCallback((b,j)=>{const S=p.current?.getBoundingClientRect(),N=s.zombies.find(C=>C.id===b);if(S&&y.current&&N){const C=y.current.getBoundingClientRect(),A=`bullet-${Date.now()}`,E=`explosion-${Date.now()}`,_=C.left+C.width/2-S.left,T=C.top-S.top,D=j.clientX-S.left,R=j.clientY-S.top;u(V=>[...V,{id:A,startX:_,startY:T,endX:D,endY:R}]),setTimeout(()=>{m(V=>[...V,{id:E,x:D,y:R,isCorrect:N.isCorrect}]),setTimeout(()=>{m(V=>V.filter(G=>G.id!==E))},600)},250),setTimeout(()=>{u(V=>V.filter(G=>G.id!==A))},300)}a(b)},[a,s.zombies]);return g.useEffect(()=>{e.length>0&&i()},[]),g.useEffect(()=>{const b=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",()=>{document.body.style.overflow=b,document.documentElement.style.overflow=""}},[]),r.jsxs("div",{className:"h-screen w-full flex flex-col relative overflow-hidden",style:{background:su.BACKGROUND},children:[r.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none z-0",style:{background:"radial-gradient(ellipse at center, rgba(59, 130, 246, 0.1) 0%, transparent 70%)"}}),r.jsxs("div",{className:"relative z-20 flex items-center justify-between p-4",children:[r.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-sm",children:r.jsx(ys,{className:"w-5 h-5 text-white"})}),r.jsx(L9,{score:s.score,questionNumber:s.questionNumber,totalQuestions:s.totalQuestions}),r.jsx("button",{onClick:l,className:"w-10 h-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-sm",children:s.isPaused?r.jsx(Wi,{className:"w-5 h-5 text-white"}):r.jsx(xu,{className:"w-5 h-5 text-white"})})]}),r.jsx("div",{className:"relative z-20 flex justify-center py-2",children:r.jsx(B9,{lives:s.lives,maxLives:Ti.maxLives})}),r.jsx("div",{className:"relative z-20 flex justify-center py-4",children:s.currentWord&&r.jsx($9,{word:s.currentWord.word})}),r.jsxs("div",{ref:p,className:"flex-1 relative z-30 overflow-hidden",children:[r.jsx(pt,{children:s.zombies.map(b=>r.jsx(M9,{zombie:b,onClick:j=>{const S=document.querySelector(`[data-zombie-id="${j}"]`);if(S){const N=S.getBoundingClientRect(),C={clientX:N.left+N.width/2,clientY:N.top+N.height/2};v(j,C)}else a(j)}},b.id))}),r.jsx(pt,{children:d.map(b=>r.jsx(I.div,{initial:{x:b.startX,y:b.startY,scale:1,opacity:1},animate:{x:b.endX,y:b.endY,scale:.5,opacity:.8},exit:{opacity:0},transition:{duration:.25,ease:"linear"},className:"absolute pointer-events-none z-50",style:{width:"12px",height:"12px",borderRadius:"50%",background:"radial-gradient(circle, #ff4444 0%, #cc0000 70%, #990000 100%)",boxShadow:"0 0 20px #ff4444, 0 0 40px #ff0000"}},b.id))}),r.jsx(pt,{children:f.map(b=>r.jsxs(I.div,{initial:{scale:0,opacity:1},animate:{scale:3,opacity:0},exit:{opacity:0},transition:{duration:.6,ease:"easeOut"},className:"absolute pointer-events-none z-50",style:{left:b.x,top:b.y,transform:"translate(-50%, -50%)"},children:[r.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"radial-gradient(circle, rgba(255, 68, 68, 0.9) 0%, rgba(204, 0, 0, 0.5) 40%, transparent 70%)",boxShadow:"0 0 40px rgba(255, 68, 68, 0.8), 0 0 80px rgba(255, 0, 0, 0.4)"}}),[...Array(8)].map((j,S)=>r.jsx(I.div,{initial:{x:0,y:0,opacity:1},animate:{x:Math.cos(S*Math.PI*2/8)*50,y:Math.sin(S*Math.PI*2/8)*50,opacity:0},transition:{duration:.5,ease:"easeOut"},className:"absolute",style:{left:"50%",top:"50%",width:"8px",height:"8px",borderRadius:"50%",background:"#ff4444",boxShadow:"0 0 10px #ff0000",transform:"translate(-50%, -50%)"}},S))]},b.id))})]}),r.jsx("div",{ref:y,className:"relative z-20 flex justify-center pb-8",children:r.jsx(z9,{})}),r.jsx(pt,{children:s.isPaused&&!s.isGameOver&&r.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/70",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-4xl font-bold text-white mb-8",children:"PAUSED"}),r.jsx("button",{onClick:l,className:"px-8 py-4 bg-blue-600 text-white rounded-xl text-xl font-bold",children:"RESUME"})]})})}),r.jsx(pt,{children:s.isGameOver&&r.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:s.lives>0?"COMPLETE!":"GAME OVER"}),r.jsxs("p",{className:"text-2xl text-white mb-2",children:["Score: ",s.score]}),r.jsxs("p",{className:"text-lg text-gray-400 mb-8",children:[s.questionNumber,"/",s.totalQuestions," Questions"]}),r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsxs("button",{onClick:i,className:"px-6 py-3 bg-green-600 text-white rounded-xl text-lg font-bold flex items-center gap-2",children:[r.jsx(tc,{className:"w-5 h-5"}),"RETRY"]}),r.jsx("button",{onClick:n||t,className:"px-6 py-3 bg-gray-600 text-white rounded-xl text-lg font-bold",children:"EXIT"})]})]})})})]})}const W9={DEV:!1},iu=er(),V9={isAuthenticated:!1,currentUser:null,token:null,isInitializing:!0};let gl={...V9};const lg=new Set;let zd=null,Yp=null,Pi=!1;const E1=typeof import.meta<"u"?W9:void 0,yC=!!E1?.DEV&&E1?.VITE_DEBUG_AUTH==="true",Vr=(e,t)=>{yC&&console.log(e)},kl=(e,t)=>{if(!yC||!e){e||(Yp=null);return}Yp!==e&&(Yp=e,console.log(`${t} ${e.substring(0,20)}...`))},Fi=e=>{typeof window>"u"||(e?localStorage.setItem("supabase_access_token",e):localStorage.removeItem("supabase_access_token"))},hs=e=>{let t=!1;for(const n of Object.keys(e))if(gl[n]!==e[n]){t=!0;break}t&&(gl={...gl,...e},lg.forEach(n=>n(gl)))},U9=async()=>zd||(zd=(async()=>{try{const{data:{session:e}}=await iu.auth.getSession();e?.access_token?(Vr(" Found existing session"),Fi(e.access_token),kl(e.access_token," Auth token initialized"),hs({isAuthenticated:!0,currentUser:e.user,token:e.access_token}),Pi=!1):(Vr(" No existing session"),Fi(null),kl(null,""),hs({isAuthenticated:!1,currentUser:null,token:null}))}catch(e){console.error(" Error initializing auth:",e),hs({isAuthenticated:!1,currentUser:null,token:null})}finally{hs({isInitializing:!1})}})(),zd);function Zi(){const[e,t]=g.useState(gl);g.useEffect(()=>{const a=d=>t(d);lg.add(a),U9();const{data:{subscription:l}}=iu.auth.onAuthStateChange(async(d,u)=>{Vr(` Auth state changed: ${d}`),d==="SIGNED_IN"&&u?(Vr(" User signed in via auth listener"),Fi(u.access_token),hs({isAuthenticated:!0,currentUser:u.user,token:u.access_token,isInitializing:!1})):d==="SIGNED_OUT"?(Vr(" User signed out via auth listener"),Fi(null),hs({isAuthenticated:!1,currentUser:null,token:null,isInitializing:!1})):d==="TOKEN_REFRESHED"&&u&&(Vr(" Token refreshed via auth listener"),Fi(u.access_token),hs({token:u.access_token}))});return()=>{lg.delete(a),l.unsubscribe()}},[]);const n=g.useCallback((a,l)=>{Vr(" Login: Setting user and token"),Fi(l),kl(l," Auth token updated"),Pi=!1,hs({isAuthenticated:!0,currentUser:a,token:l,isInitializing:!1})},[]),s=g.useCallback(()=>{Vr(" Logging out..."),iu.auth.signOut(),Fi(null),kl(null,""),hs({isAuthenticated:!1,currentUser:null,token:null,isInitializing:!1})},[]),i=g.useCallback(()=>{if(e.token)return e.token;if(typeof window>"u")return null;const a=localStorage.getItem("supabase_access_token");return a?e.isAuthenticated?(kl(a," Auth token restored"),Pi=!1,a):(Pi||(Vr(" Token in localStorage but not authenticated"),Pi=!0),null):(Pi||(Vr(" No auth token available"),Pi=!0),null)},[e.token,e.isAuthenticated]);return{isAuthenticated:e.isAuthenticated,currentUser:e.currentUser,isInitializing:e.isInitializing,login:n,logout:s,getAuthToken:i,supabase:iu}}const H9={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Du=typeof import.meta<"u"?H9:void 0,q9=!!Du?.DEV&&Du?.VITE_DEBUG_WORD_LIST==="true",Wd=(...e)=>{q9&&console.log("[WordListScreen]",...e)},A1=60,G9={derivative:"",synonym:"",antonym:""};function K9({onBack:e,onBackToHome:t,vocabularyTitle:n,unitName:s,vocabularyWords:i,onAddToStarred:a,onMoveToGraveyard:l,onDeletePermanently:d,onStartFlashcards:u,filterType:f,starredWordIds:m=[],graveyardWordIds:p=[],wrongAnswersWordIds:y=[],hideHeader:v=!1,hideActionButtons:b=!1,unitNumber:j,vocabularyId:S,onRefreshVocabulary:N}){const[C,A]=g.useState(!1),[E,_]=g.useState(!1),{selectedWords:T,count:D,toggleWord:R,clear:V,isSelected:G,removeWord:ne}=F0(),[ie,oe]=g.useState(!1),{getAuthToken:Z}=Zi(),[F,z]=g.useState(null),[B,O]=g.useState(""),$=g.useRef(null),q=g.useRef(null);Wd(" Received props:",{vocabularyWords:i?.length||0,hideActionButtons:b,hideHeader:v,filterType:f}),g.useEffect(()=>{window.scrollTo(0,0)},[]),g.useEffect(()=>{const Q=window.getComputedStyle(document.body).overflow,we=window.getComputedStyle(document.body).overflowY;return document.body.style.overflow="hidden",document.body.style.overflowY="hidden",document.documentElement.style.overflow="hidden",document.documentElement.style.overflowY="hidden",()=>{document.body.style.overflow=Q,document.body.style.overflowY=we,document.documentElement.style.overflow="",document.documentElement.style.overflowY=""}},[]);const M=g.useMemo(()=>!i||i.length===0?[]:(Wd(" Converting words:",i.length),i.map((Q,we)=>({id:Q.id||`word-${we}`,word:Q.word||"",pronunciation:Q.pronunciation||"",partOfSpeech:Q.partOfSpeech||"",meaning:Q.meaning||"",example:Q.example_sentence||Q.englishExample||Q.example||"",translation:Q.translation||"",story:Q.etymology||Q.story||"",derivatives:Array.isArray(Q.derivatives)?Q.derivatives.map(pe=>({word:pe.word||pe,meaning:pe.meaning||""})):typeof Q.derivatives=="string"&&Q.derivatives?Q.derivatives.split(",").map(pe=>{const Ie=pe.trim(),J=Ie.match(/^(.+?)\s*\((.+?)\)\s*$/);return J?{word:J[1].trim(),meaning:J[2].trim()}:{word:Ie,meaning:""}}):[],synonyms:Array.isArray(Q.synonyms)?Q.synonyms.map(pe=>({word:pe.word||pe,meaning:pe.meaning||""})):typeof Q.synonyms=="string"&&Q.synonyms?Q.synonyms.split(",").map(pe=>({word:pe.trim(),meaning:""})):[],antonyms:Array.isArray(Q.antonyms)?Q.antonyms.map(pe=>({word:pe.word||pe,meaning:pe.meaning||""})):typeof Q.antonyms=="string"&&Q.antonyms?Q.antonyms.split(",").map(pe=>({word:pe.trim(),meaning:""})):[],isStarred:!1,isMeaningRevealed:!0,isExpanded:!1,exampleLanguage:"en",swipeX:0,originalIndex:we+1,graveyardAt:Q.updated_at||Q.updatedAt||void 0}))),[i]),W=g.useCallback(()=>{let Q=M;return f==="starred"?M.length===0&&m.length>0?Q=[]:Q=M:f==="graveyard"?M.length===0&&p.length>0?Q=[]:Q=M:f==="wrong-answers"?M.length===0&&y.length>0?Q=[]:Q=M:Q=M.filter(we=>!p.includes(we.id)),Q.map((we,pe)=>({...we,isStarred:m.includes(we.id),isMeaningRevealed:!1,originalIndex:f==="starred"||f==="graveyard"?pe+1:we.originalIndex}))},[M,f,p,m,y]),[L,K]=g.useState(()=>W()),[U,ee]=g.useState(!0),[Y,le]=g.useState("en"),[fe,ue]=g.useState(!1),[Se,Pe]=g.useState(null);g.useEffect(()=>{Wd(" vocabularyWords changed, updating words...");const Q=W();Wd(" New words count:",Q.length),K(we=>Q.map(pe=>{const Ie=we.find(J=>J.id===pe.id);return Ie?{...pe,isMeaningRevealed:Ie.isMeaningRevealed,isExpanded:Ie.isExpanded,exampleLanguage:Ie.exampleLanguage,swipeX:0}:pe}))},[W]);const Ye=L.length;L.filter(Q=>Q.isStarred).length;const Ze=(Q,we)=>{if(!Q||!we)return Q;const pe=/\*\*([^*]+)\*\*/g,Ie=[];let J=0,xe;for(;(xe=pe.exec(Q))!==null;)xe.index>J&&Ie.push(Q.substring(J,xe.index)),Ie.push({text:xe[1],bold:!0}),J=xe.index+xe[0].length;return J<Q.length&&Ie.push(Q.substring(J)),Ie.length===0&&Ie.push(Q),Ie.map((Ee,Le)=>{if(typeof Ee=="string"){const rt=new RegExp(`\\b(${we})\\b`,"gi");return Ee.split(rt).map((We,xt)=>We.toLowerCase()===we.toLowerCase()?r.jsx("span",{style:{color:"#491B6D",fontWeight:700},children:We},`${Le}-${xt}`):r.jsx("span",{children:We},`${Le}-${xt}`))}else return r.jsx("span",{style:{color:"#491B6D",fontWeight:700},children:Ee.text},`${Le}-bold`)})},ye=Q=>{K(L.map(we=>{if(we.id===Q){const pe=!we.isStarred;return a&&a(Q),{...we,isStarred:pe}}return we}))},re=Q=>{ye(Q)},ve=async Q=>{try{q.current&&(q.current.pause(),q.current=null),"speechSynthesis"in window&&window.speechSynthesis.cancel(),$.current||($.current=new Audio);const we=$.current,pe="data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVMAAAAPAAADTGF2ZjU4LjIwLjEwMAAAAAAAAAAAAAAA//OEAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAEAAABIADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMD//////////////////////////////////////////////////////////////////wAAAP//OEAAAAAAAAAAAAAAAAAAAAAATEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//OEAA8AAAAAb4AAACAAAAAAAAAAAAAA//OEAAAAAAAAb4AAACAAAAAAAAAAAAAA";try{we.src=pe,await we.play()}catch{}const Ie=Du?.VITE_SUPABASE_URL||"https://ooxinxuphknbfhbancgs.supabase.co",J=Du?.VITE_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9veGlueHVwaGtuYmZoYmFuY2dzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MDExMTQsImV4cCI6MjA3NDM3NzExNH0.lrbSZb3DTTWBkX3skjOHZ7N_WC_5YURB0ncDHFrwEzY",xe=new AbortController,Ee=setTimeout(()=>xe.abort(),2500),Le=await fetch(`${Ie}/functions/v1/tts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify({text:Q,lang:"en-US"}),signal:xe.signal});if(clearTimeout(Ee),!Le.ok)throw new Error(`TTS API error: ${Le.status}`);const rt=await Le.json(),it=Qe(rt.audioContent,"audio/mp3"),We=URL.createObjectURL(it);await new Promise((xt,gt)=>{we.src=We,q.current=we,we.onended=()=>{q.current=null,xt()},we.onerror=St=>{q.current=null,gt(St)},we.play().catch(St=>{q.current=null,gt(St)})})}catch(we){if(console.error("TTS error:",we),"speechSynthesis"in window){window.speechSynthesis.cancel();const pe=new SpeechSynthesisUtterance(Q);pe.lang="en-US",pe.rate=.8,window.speechSynthesis.speak(pe)}}},Qe=(Q,we)=>{const pe=atob(Q),Ie=new Array(pe.length);for(let xe=0;xe<pe.length;xe++)Ie[xe]=pe.charCodeAt(xe);const J=new Uint8Array(Ie);return new Blob([J],{type:we})},lt=Q=>{l&&l(Q),K(L.filter(we=>we.id!==Q))},ct=Q=>{d&&d(Q),K(L.filter(we=>we.id!==Q))},vt=Q=>{K(L.map(we=>we.id===Q?{...we,isExpanded:!we.isExpanded}:we))},ut=Q=>{K(L.map(we=>we.id===Q?{...we,isMeaningRevealed:!we.isMeaningRevealed}:we))},Ce=()=>{const Q=!U;ee(Q),K(L.map(we=>({...we,isMeaningRevealed:!Q})))},et=Q=>{if(Pe(Q),Q===null)K(W());else{const we=new Date,pe=new Date(we);pe.setDate(pe.getDate()-Q),pe.setHours(0,0,0,0);const Ie=new Date(pe);Ie.setDate(Ie.getDate()+1);const J=W().filter(xe=>{const Ee=xe.graveyardAt||xe.graveyard_at||xe.updated_at||xe.created_at;if(!Ee)return!1;const Le=new Date(Ee);return Le>=pe&&Le<Ie});K(J)}},he=()=>{K(L.map(Q=>({...Q,isExpanded:!0})))},ge=()=>{K(L.map(Q=>({...Q,isExpanded:!1})))},Te=Q=>{K(L.map(we=>we.id===Q?{...we,exampleLanguage:we.exampleLanguage==="en"?"kr":"en"}:we))},De=()=>{const Q=Y==="en"?"kr":"en";le(Q),K(L.map(we=>({...we,exampleLanguage:Q})))},qe=()=>{const Q=[...L].sort(()=>Math.random()-.5);K(Q),de.success("  !",{duration:2e3})},mt=async(Q,we)=>{if(!S)return de.error("    ."),!1;const pe=Z();if(!pe)return de.error(" ."),!1;try{if(!(await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabulary/${S}/word/${Q}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${pe}`},body:JSON.stringify({meaning:we})})).ok)throw new Error("Failed to update word meaning");return!0}catch(Ie){return console.error("Error updating word meaning:",Ie),!1}},jt=(Q,we)=>{z(Q),O(we)},Et=()=>{z(null),O("")},In=async Q=>{if(!B.trim()){de.error(" .");return}await mt(Q,B.trim())?(K(L.map(pe=>pe.id===Q?{...pe,meaning:B.trim()}:pe)),z(null),O(""),de.success(" !")):de.error("  .")},rn=(Q,we,pe,Ie)=>({id:`${Q.id}-${we}-${Ie}`,word:String(pe.word||"").trim(),meaning:pe.meaning||"",source:`${G9[we]}  ${Q.word}`,metadata:{relationType:we,baseWordId:Q.id,baseWord:Q.word,baseMeaning:Q.meaning,translation:Q.translation,partOfSpeech:Q.partOfSpeech}}),vn=Q=>{if(!Q.word){de.error("   .");return}const we=G(Q.id);if(!we&&D>=A1){de.error(`  ${A1}   .`);return}R(Q),de[we?"info":"success"](we?" .":" .",{duration:1500})},sn=(Q,we,pe,Ie)=>{const J=rn(Q,we,pe,Ie),xe=G(J.id);return r.jsxs("button",{onClick:Ee=>{Ee.stopPropagation(),vn(J)},"aria-pressed":xe,className:`rounded-lg border px-2 py-1 transition-all text-left ${xe?"bg-[#F8F5FF] border-[#DCCEF8] text-[#5B21B6] shadow-sm":"bg-white/80 border-gray-200/80 text-gray-700 hover:border-[#D8B4FE]"}`,children:[r.jsxs("div",{className:"min-w-0 flex items-center gap-1",children:[r.jsx("p",{className:"text-[11px] font-semibold leading-tight",children:pe.word}),pe.meaning&&r.jsx("p",{className:"text-[10px] text-gray-500 leading-tight truncate",children:pe.meaning})]}),r.jsx("div",{className:`hidden ${xe?"bg-[#5B21B6] border-[#5B21B6] text-white":"border-gray-300 text-gray-400"}`,children:r.jsx(Zd,{className:"w-3.5 h-3.5"})})]},`${J.id}`)},_n=()=>{if(D===0){de.info("    .");return}oe(!0)},at=(()=>{switch(f){case"starred":return{bgGradient:"from-[#FFFEF5] via-[#FFFEF8] to-[#FFFFF9]",headerBg:"from-[#FFFBEB]/80 to-[#FEF3C7]/70",cardBg:"linear-gradient(135deg, rgba(255, 251, 235, 0.7) 0%, rgba(254, 249, 230, 0.65) 100%)",cardBorder:"border-amber-100/30",numberBadgeBg:"from-[#FCD34D] to-[#F59E0B]",accentColor:"#F59E0B",textColor:"#78350F",buttonBg:"#F59E0B",buttonText:"text-white",headerTextColor:"#78350F",secondaryTextColor:"#D97706",cardTextColor:"#78350F",iconColor:"#F59E0B",badgeColor:"#F59E0B",name:" Starred Words"};case"graveyard":return{bgGradient:"from-[#FCFCFC] via-[#FAFAFA] to-[#F9F9F9]",headerBg:"from-[#F9FAFB]/80 to-[#F3F4F6]/70",cardBg:"linear-gradient(135deg, rgba(249, 250, 251, 0.7) 0%, rgba(243, 244, 246, 0.65) 100%)",cardBorder:"border-gray-200/30",numberBadgeBg:"from-[#6B7280] to-[#4B5563]",accentColor:"#6B7280",textColor:"#374151",buttonBg:"#6B7280",buttonText:"text-white",headerTextColor:"#374151",secondaryTextColor:"#6B7280",cardTextColor:"#374151",iconColor:"#6B7280",badgeColor:"#6B7280",name:" Graveyard"};case"wrong-answers":return{bgGradient:"from-[#FFFAFA] via-[#FFFCFC] to-[#FFF9F9]",headerBg:"from-[#FEF2F2]/80 to-[#FEE2E2]/70",cardBg:"linear-gradient(135deg, rgba(254, 242, 242, 0.7) 0%, rgba(254, 226, 226, 0.65) 100%)",cardBorder:"border-red-100/30",numberBadgeBg:"from-[#EF4444] to-[#DC2626]",accentColor:"#DC2626",textColor:"#7F1D1D",buttonBg:"#DC2626",buttonText:"text-white",headerTextColor:"#7F1D1D",secondaryTextColor:"#DC2626",cardTextColor:"#7F1D1D",iconColor:"#DC2626",badgeColor:"#DC2626",name:" Wrong Answers"};default:return{bgGradient:"from-[#F5F3FF] via-[#EDE9FE] to-[#E9E5FF]",headerBg:"from-[#F5F3FF]/80 to-[#EDE9FE]/70",cardBg:"rgba(255, 255, 255, 0.7)",cardBorder:"border-purple-100/30",numberBadgeBg:"from-[#C4B5FD] to-[#A78BFA]",accentColor:"#8B5CF6",textColor:"#491B6D",buttonBg:"#491B6D",buttonText:"text-white",name:n}}})();return r.jsxs("div",{className:"h-screen flex flex-col bg-transparent",children:[!v&&r.jsxs("div",{className:"sticky top-0 z-40 backdrop-blur-lg border-b border-white/20",style:{background:"transparent"},children:[r.jsxs("div",{className:"flex items-center justify-between p-6",children:[r.jsx(Or,{onClick:e}),r.jsxs("div",{className:"flex-1 mx-4 text-center",children:[r.jsx("h1",{style:{fontSize:"18px",fontWeight:700,color:at.headerTextColor||"#5B21B6"},children:at.name}),r.jsxs("p",{style:{fontSize:"12px",fontWeight:500,color:at.secondaryTextColor||"#A78BFA"},children:[s,"  ",Ye," "]})]}),t&&r.jsx(I.button,{whileTap:{scale:.95},onClick:t,className:"w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-md",children:r.jsx(Xi,{className:"w-5 h-5",style:{color:at.headerTextColor||"#5B21B6"}})}),!t&&r.jsx("div",{className:"w-10"})]}),r.jsxs("div",{className:"px-4 pb-3 bg-transparent",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1.5 overflow-x-auto scrollbar-hide m-[0px] p-[3px]",children:[r.jsxs(I.button,{whileTap:{scale:.95},onClick:qe,className:"px-2.5 py-1.5 bg-white/90 backdrop-blur-lg rounded-lg border border-white/40 shadow-sm flex items-center gap-1 whitespace-nowrap",children:[r.jsx(yu,{className:"w-3 h-3",style:{color:at.iconColor||"#8B5CF6"}}),r.jsx("span",{style:{fontSize:"11px",fontWeight:600,color:at.cardTextColor||"#091A7A"},children:""})]}),r.jsxs(I.button,{whileTap:{scale:.95},onClick:Ce,className:"px-2.5 py-1.5 bg-white/90 backdrop-blur-lg rounded-lg border border-white/40 shadow-sm flex items-center gap-1 whitespace-nowrap",children:[U?r.jsx(Ko,{className:"w-3 h-3",style:{color:at.iconColor||"#8B5CF6"}}):r.jsx(Fl,{className:"w-3 h-3",style:{color:at.iconColor||"#8B5CF6"}}),r.jsx("span",{style:{fontSize:"11px",fontWeight:600,color:at.cardTextColor||"#091A7A"},children:U?"":""})]}),f!=="graveyard"&&f!=="wrong-answers"&&r.jsxs(r.Fragment,{children:[r.jsxs(I.button,{whileTap:{scale:.95},onClick:L.every(Q=>Q.isExpanded)?ge:he,className:"px-2.5 py-1.5 bg-white/90 backdrop-blur-lg rounded-lg border border-white/40 shadow-sm flex items-center gap-1 whitespace-nowrap",children:[r.jsx(Hn,{className:`w-3 h-3 transition-transform ${L.every(Q=>Q.isExpanded)?"rotate-180":""}`,style:{color:at.iconColor||"#8B5CF6"}}),r.jsx("span",{style:{fontSize:"11px",fontWeight:600,color:at.cardTextColor||"#091A7A"},children:L.every(Q=>Q.isExpanded)?"":""})]}),r.jsxs(I.button,{whileTap:{scale:.95},onClick:De,className:"px-2.5 py-1.5 bg-white/90 backdrop-blur-lg rounded-lg border border-white/40 shadow-sm flex items-center gap-1 whitespace-nowrap",children:[r.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:Y==="en"?"#491B6D":"#9CA3AF"},children:"EN"}),r.jsx("span",{style:{fontSize:"10px",fontWeight:600,color:"#9CA3AF"},children:"|"}),r.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:Y==="kr"?"#491B6D":"#9CA3AF"},children:"KR"})]}),r.jsxs(I.button,{whileTap:{scale:.95},onClick:_n,className:`px-2.5 py-1.5 backdrop-blur-lg rounded-lg border shadow-sm flex items-center gap-1 whitespace-nowrap ${D>0?"bg-[#5B21B6] text-white border-[#5B21B6]":"bg-white/90 text-[#5B21B6] border-white/40"}`,children:[r.jsx(Zd,{className:"w-3 h-3"}),r.jsx("span",{style:{fontSize:"11px",fontWeight:600},children:""}),D>0&&r.jsx("span",{style:{fontSize:"9px",fontWeight:700},className:"bg-white/20 px-1.5 py-0.5 rounded-full",children:D})]})]}),f==="graveyard"&&L.length>0&&r.jsxs(I.button,{whileTap:{scale:.95},onClick:()=>_(!0),className:"px-3 py-2 bg-gradient-to-r from-gray-700 to-gray-800 backdrop-blur-lg rounded-xl border border-gray-600 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[r.jsx("span",{style:{fontSize:"14px"},children:""}),r.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#E5E7EB"},children:" "})]}),f==="wrong-answers"&&L.length>0&&r.jsxs(I.button,{whileTap:{scale:.95},onClick:()=>A(!0),className:"px-3 py-2 bg-gradient-to-r from-red-600 to-red-700 backdrop-blur-lg rounded-xl border border-red-500 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[r.jsx("span",{style:{fontSize:"14px"},children:""}),r.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#FEE2E2"},children:" "})]}),f==="graveyard"&&r.jsxs(I.button,{whileTap:{scale:.95},onClick:()=>ue(!fe),className:`px-3 py-2 backdrop-blur-lg rounded-xl border shadow-sm flex items-center gap-1.5 whitespace-nowrap ${fe?"bg-gray-700/90 border-gray-600":"bg-white/90 border-white/40"}`,children:[r.jsx("span",{style:{fontSize:"12px"},children:""}),r.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:fe?"#E5E7EB":at.cardTextColor||"#091A7A"},children:" "})]})]}),f==="graveyard"&&fe&&r.jsxs(I.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"flex items-center justify-center gap-1 mt-2 flex-wrap",children:[r.jsx("button",{onClick:()=>et(null),className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors ${Se===null?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:""}),[1,2,3,7,14,30].map(Q=>r.jsxs("button",{onClick:()=>et(Q),className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors ${Se===Q?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:[Q,""]},Q))]})]})]}),r.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[v&&r.jsxs("div",{className:"sticky top-0 z-40 border-b border-white/20 bg-transparent px-[10px] py-[6px]",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1.5 overflow-x-auto scrollbar-hide m-[0px] p-[3px]",children:[r.jsxs(I.button,{whileTap:{scale:.95},onClick:qe,className:"px-2.5 py-1.5 bg-white/90 backdrop-blur-lg rounded-lg border border-white/40 shadow-sm flex items-center gap-1 whitespace-nowrap",children:[r.jsx(yu,{className:"w-3 h-3",style:{color:at.iconColor||"#8B5CF6"}}),r.jsx("span",{style:{fontSize:"11px",fontWeight:600,color:at.cardTextColor||"#091A7A"},children:""})]}),r.jsxs(I.button,{whileTap:{scale:.95},onClick:Ce,className:"px-2.5 py-1.5 bg-white/90 backdrop-blur-lg rounded-lg border border-white/40 shadow-sm flex items-center gap-1 whitespace-nowrap",children:[U?r.jsx(Ko,{className:"w-3 h-3",style:{color:at.iconColor||"#8B5CF6"}}):r.jsx(Fl,{className:"w-3 h-3",style:{color:at.iconColor||"#8B5CF6"}}),r.jsx("span",{style:{fontSize:"11px",fontWeight:600,color:at.cardTextColor||"#091A7A"},children:U?"":""})]}),f!=="graveyard"&&f!=="wrong-answers"&&r.jsxs(r.Fragment,{children:[r.jsxs(I.button,{whileTap:{scale:.95},onClick:L.every(Q=>Q.isExpanded)?ge:he,className:"px-2.5 py-1.5 bg-white/90 backdrop-blur-lg rounded-lg border border-white/40 shadow-sm flex items-center gap-1 whitespace-nowrap",children:[r.jsx(Hn,{className:`w-3 h-3 transition-transform ${L.every(Q=>Q.isExpanded)?"rotate-180":""}`,style:{color:at.iconColor||"#8B5CF6"}}),r.jsx("span",{style:{fontSize:"11px",fontWeight:600,color:at.cardTextColor||"#091A7A"},children:L.every(Q=>Q.isExpanded)?"":""})]}),r.jsxs(I.button,{whileTap:{scale:.95},onClick:De,className:"px-2.5 py-1.5 bg-white/90 backdrop-blur-lg rounded-lg border border-white/40 shadow-sm flex items-center gap-1 whitespace-nowrap",children:[r.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:Y==="en"?"#491B6D":"#9CA3AF"},children:"EN"}),r.jsx("span",{style:{fontSize:"10px",fontWeight:600,color:"#9CA3AF"},children:"|"}),r.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:Y==="kr"?"#491B6D":"#9CA3AF"},children:"KR"})]}),r.jsxs(I.button,{whileTap:{scale:.95},onClick:_n,className:`px-2.5 py-1.5 backdrop-blur-lg rounded-lg border shadow-sm flex items-center gap-1 whitespace-nowrap ${D>0?"bg-[#5B21B6] text-white border-[#5B21B6]":"bg-white/90 text-[#5B21B6] border-white/40"}`,children:[r.jsx(Zd,{className:"w-3 h-3"}),r.jsx("span",{style:{fontSize:"11px",fontWeight:600},children:""}),D>0&&r.jsx("span",{style:{fontSize:"9px",fontWeight:700},className:"bg-white/20 px-1.5 py-0.5 rounded-full",children:D})]})]}),f==="graveyard"&&L.length>0&&r.jsxs(I.button,{whileTap:{scale:.95},onClick:()=>_(!0),className:"px-3 py-2 bg-gradient-to-r from-gray-700 to-gray-800 backdrop-blur-lg rounded-xl border border-gray-600 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[r.jsx("span",{style:{fontSize:"14px"},children:""}),r.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#E5E7EB"},children:" "})]}),f==="wrong-answers"&&L.length>0&&r.jsxs(I.button,{whileTap:{scale:.95},onClick:()=>A(!0),className:"px-3 py-2 bg-gradient-to-r from-red-600 to-red-700 backdrop-blur-lg rounded-xl border border-red-500 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[r.jsx("span",{style:{fontSize:"14px"},children:""}),r.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#FEE2E2"},children:" "})]}),f==="graveyard"&&r.jsxs(I.button,{whileTap:{scale:.95},onClick:()=>ue(!fe),className:`px-3 py-2 backdrop-blur-lg rounded-xl border shadow-sm flex items-center gap-1.5 whitespace-nowrap ${fe?"bg-gray-700/90 border-gray-600":"bg-white/90 border-white/40"}`,children:[r.jsx("span",{style:{fontSize:"12px"},children:""}),r.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:fe?"#E5E7EB":at.cardTextColor||"#091A7A"},children:" "})]})]}),f==="graveyard"&&fe&&r.jsxs(I.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"flex items-center justify-center gap-1 mt-2 flex-wrap",children:[r.jsx("button",{onClick:()=>et(null),className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors ${Se===null?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:""}),[1,2,3,7,14,30].map(Q=>r.jsxs("button",{onClick:()=>et(Q),className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors ${Se===Q?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:[Q,""]},Q))]})]}),r.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto px-4 pb-64",style:{overflowY:"auto",WebkitOverflowScrolling:"touch"},children:r.jsx("div",{className:"space-y-3 pt-4",children:r.jsx(pt,{mode:"popLayout",children:L.map((Q,we)=>r.jsxs(I.div,{className:"relative",layout:!0,exit:{opacity:0,x:-200,transition:{duration:.2,ease:"easeOut"}},children:[f!=="graveyard"&&r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#6B7280] to-[#4B5563] rounded-2xl flex items-center justify-end px-6",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Im,{className:"w-4 h-4 text-white/80"}),r.jsx("div",{className:"text-white",style:{fontSize:"12px",fontWeight:600},children:" "})]})}),r.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0,x:Q.swipeX},transition:{delay:Math.min(we*.02,.3),duration:.2},drag:f!=="graveyard"?"x":!1,dragConstraints:{left:-150,right:0},dragElastic:0,dragDirectionLock:!0,onDirectionLock:pe=>{},onDragEnd:(pe,Ie)=>{f!=="graveyard"&&Ie.offset.x<-100?lt(Q.id):K(L.map(J=>J.id===Q.id?{...J,swipeX:0}:J))},onDrag:(pe,Ie)=>{f!=="graveyard"&&K(L.map(J=>J.id===Q.id?{...J,swipeX:Math.min(0,Ie.offset.x)}:J))},className:`backdrop-blur-xl rounded-2xl overflow-hidden border ${at.cardBorder} relative z-10`,style:{background:f==="graveyard"?"linear-gradient(135deg, rgba(55, 65, 81, 0.95) 0%, rgba(75, 85, 99, 0.9) 100%)":f==="starred"?"linear-gradient(135deg, rgba(254, 249, 195, 0.95) 0%, rgba(254, 243, 199, 0.9) 100%)":f==="wrong-answers"?"linear-gradient(135deg, rgba(254, 226, 226, 0.95) 0%, rgba(254, 202, 202, 0.9) 100%)":"rgba(255, 255, 255, 0.95)",boxShadow:"0 2px 8px 0 rgba(0, 0, 0, 0.08)"},children:f==="graveyard"||f==="wrong-answers"?r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[r.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:f==="graveyard"?"#D1D5DB":"#7F1D1D"},children:Q.word}),r.jsx("span",{style:{fontSize:"13px",fontWeight:500,color:f==="graveyard"?"#9CA3AF":"#DC2626"},children:Q.pronunciation})]}),r.jsx("p",{onClick:()=>ut(Q.id),style:{fontSize:"14px",fontWeight:500,color:f==="graveyard"?"#A1A1AA":"#991B1B",lineHeight:1.4,filter:Q.isMeaningRevealed?"none":"blur(8px)",cursor:"pointer",transition:"filter 0.3s ease"},children:Q.meaning})]}),r.jsxs("div",{className:"flex flex-col items-end gap-1.5",children:[f==="graveyard"&&Q.graveyardAt&&r.jsx("span",{style:{fontSize:"10px",fontWeight:500,color:"#9CA3AF",whiteSpace:"nowrap"},children:new Date(Q.graveyardAt).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})}),r.jsx(I.button,{whileTap:{scale:.9},onClick:()=>ct(Q.id),className:`flex-shrink-0 w-10 h-10 rounded-lg border flex items-center justify-center shadow-lg ${f==="graveyard"?"bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600":"bg-gradient-to-br from-red-600 to-red-700 border-red-500"}`,children:r.jsx("span",{className:"text-xl",children:f==="graveyard"?"":""})})]})]})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"cursor-pointer px-[12px] py-[16px] p-[12px]",onClick:()=>vt(Q.id),children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2.5",children:[r.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#491B6D"},children:r.jsx("span",{className:"text-white",style:{fontSize:"11px",fontWeight:700},children:Q.originalIndex})}),r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx("h3",{className:"text-gray-900",style:{fontSize:"16px",fontWeight:600},children:Q.word}),r.jsx("span",{className:"text-gray-500",style:{fontSize:"12px",fontWeight:500},children:Q.pronunciation}),Q.partOfSpeech&&r.jsx("span",{className:"px-1.5 py-0.5 rounded",style:{fontSize:"10px",fontWeight:600,color:"#491B6D",backgroundColor:"rgba(73, 27, 109, 0.08)",border:"1px solid rgba(73, 27, 109, 0.15)"},children:Q.partOfSpeech}),r.jsx(I.button,{whileTap:{scale:.9},onClick:pe=>{pe.stopPropagation(),ve(Q.word)},className:"flex-shrink-0",children:r.jsx(a0,{className:"w-4 h-4",style:{color:"#491B6D",opacity:.6}})})]}),r.jsx(I.button,{whileTap:{scale:.9},onClick:pe=>{pe.stopPropagation(),re(Q.id)},className:"flex-shrink-0 p-1",children:r.jsx(vs,{className:"w-4 h-4",style:{color:Q.isStarred?"#F59E0B":"#491B6D",fill:Q.isStarred?"#F59E0B":"transparent",opacity:Q.isStarred?1:.3}})})]}),r.jsxs("div",{className:"flex items-center gap-2.5",children:[r.jsx("div",{className:"w-6 flex-shrink-0 flex items-center justify-center",children:S&&f!=="graveyard"&&f!=="wrong-answers"&&F!==Q.id&&r.jsx(I.button,{whileTap:{scale:.9},onClick:pe=>{pe.stopPropagation(),jt(Q.id,Q.meaning)},className:"p-0.5",children:r.jsx(E6,{className:"w-3.5 h-3.5",style:{color:"#491B6D",opacity:.4}})})}),F===Q.id?r.jsxs(r.Fragment,{children:[r.jsx("input",{type:"text",value:B,onChange:pe=>O(pe.target.value),onClick:pe=>pe.stopPropagation(),onKeyDown:pe=>{pe.stopPropagation(),pe.key==="Enter"?In(Q.id):pe.key==="Escape"&&Et()},className:"flex-1 px-2 py-1 text-sm border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",style:{fontSize:"13px",fontWeight:500,color:"#6B7280"},autoFocus:!0}),r.jsx(I.button,{whileTap:{scale:.9},onClick:pe=>{pe.stopPropagation(),In(Q.id)},className:"flex-shrink-0 p-1.5 bg-green-500 rounded-lg hover:bg-green-600",children:r.jsx(Qi,{className:"w-3.5 h-3.5 text-white"})}),r.jsx(I.button,{whileTap:{scale:.9},onClick:pe=>{pe.stopPropagation(),Et()},className:"flex-shrink-0 p-1.5 bg-gray-400 rounded-lg hover:bg-gray-500",children:r.jsx(yn,{className:"w-3.5 h-3.5 text-white"})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 cursor-pointer",onClick:pe=>{pe.stopPropagation(),ut(Q.id)},children:[r.jsx(Ko,{className:"w-3.5 h-3.5 flex-shrink-0",style:{color:"#9CA3AF"}}),r.jsx("p",{className:"text-gray-600 transition-all duration-200",style:{fontSize:"13px",fontWeight:500,color:"#6B7280",lineHeight:1.4,filter:Q.isMeaningRevealed?"blur(0px)":"blur(4px)",userSelect:Q.isMeaningRevealed?"auto":"none"},children:Q.meaning})]}),r.jsx(I.div,{animate:{rotate:Q.isExpanded?180:0},transition:{duration:.2},className:"flex-shrink-0 p-1",children:r.jsx(Hn,{className:"w-4 h-4",style:{color:"#491B6D",opacity:.3}})})]})]}),(Q.example||Q.translation)&&r.jsxs("div",{className:"flex gap-2.5",children:[r.jsx(I.button,{whileTap:{scale:.9},onClick:pe=>{pe.stopPropagation(),Te(Q.id)},className:"w-6 h-6 flex-shrink-0 rounded-md bg-white/90 border border-[#E5E7EB]/60 flex items-center justify-center shadow-sm",children:r.jsx("span",{style:{fontSize:"8px",fontWeight:700,color:Q.exampleLanguage==="en"?"#491B6D":"#9CA3AF"},children:Q.exampleLanguage==="en"?"EN":"KR"})}),r.jsx("div",{className:"flex-1 bg-[#F3F4F6]/60 border border-[#E5E7EB]/40 rounded-lg px-3 py-2",children:r.jsx("p",{className:"text-[#4B5563]",style:{fontSize:"13px",fontWeight:500,lineHeight:1.5},children:Q.exampleLanguage==="en"?Ze(Q.example,Q.word):Ze(Q.translation,Q.word)})})]})]})}),r.jsx(pt,{children:Q.isExpanded&&r.jsx(I.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:r.jsxs("div",{className:"px-4 pb-4 space-y-2 pt-1",children:[Q.story&&r.jsxs("div",{className:"bg-[#F3F4F6]/80 border border-[#E5E7EB]/60 rounded-[16px] p-[10px]",children:[r.jsxs("div",{className:"flex items-start gap-2 mb-1.5",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6] mt-2"}),r.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:" "})]}),r.jsx("p",{className:"text-[#4B5563] pl-3",style:{fontSize:"12px",fontWeight:500,lineHeight:1.6},children:Q.story})]}),r.jsxs("div",{className:"space-y-2",children:[Q.derivatives.length>0&&r.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2 border border-[#E5E7EB]/50",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6]"}),r.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:""})]}),r.jsx("div",{className:"flex flex-wrap gap-1.5 pl-2",children:Q.derivatives.map((pe,Ie)=>sn(Q,"derivative",pe,Ie))})]}),(Q.synonyms.length>0||Q.antonyms.length>0)&&r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[Q.synonyms.length>0&&r.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2 border border-[#E5E7EB]/50",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6]"}),r.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:""})]}),r.jsx("div",{className:"flex flex-wrap gap-1.5 pl-2",children:Q.synonyms.map((pe,Ie)=>sn(Q,"synonym",pe,Ie))})]}),Q.antonyms.length>0&&r.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2 border border-[#E5E7EB]/50",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6]"}),r.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:""})]}),r.jsx("div",{className:"flex flex-wrap gap-1.5 pl-2",children:Q.antonyms.map((pe,Ie)=>sn(Q,"antonym",pe,Ie))})]})]})]})]})})})]})})]},Q.id))})})})]}),r.jsx(M0,{open:ie,onClose:()=>oe(!1),words:T,onRemoveWord:ne,onClear:V,onActionComplete:async()=>{console.log("[WordListScreen] onActionComplete started"),oe(!1);const{invalidateVocabularyListCache:Q}=await Fr(async()=>{const{invalidateVocabularyListCache:we}=await Promise.resolve().then(()=>I0);return{invalidateVocabularyListCache:we}},void 0);Q(),console.log("[WordListScreen] Vocabulary list cache invalidated"),N?(console.log("[WordListScreen] Calling onRefreshVocabulary..."),await N(),console.log("[WordListScreen] onRefreshVocabulary completed")):console.log("[WordListScreen] No onRefreshVocabulary provided")},currentVocabularyId:S,currentVocabularyTitle:n}),r.jsx(pt,{children:C&&f==="wrong-answers"&&r.jsx(P9,{words:L.map(Q=>({id:Q.id,word:Q.word,meaning:Q.meaning})),onWordCleared:Q=>{d&&d(Q)},onClose:()=>A(!1),onGameComplete:()=>{}})}),r.jsx(pt,{children:E&&f==="graveyard"&&r.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50",children:r.jsx(xC,{vocabularyWords:L.map(Q=>({id:Q.id,word:Q.word,meaning:Q.meaning,pronunciation:Q.pronunciation})),onBack:()=>_(!1),onBackToHome:t})})})]})}const Y9=(e,t)=>e.vocabularyTitle===t.vocabularyTitle&&e.unitName===t.unitName&&e.filterType===t.filterType&&e.hideHeader===t.hideHeader&&e.hideActionButtons===t.hideActionButtons&&e.vocabularyWords===t.vocabularyWords&&e.starredWordIds===t.starredWordIds&&e.graveyardWordIds===t.graveyardWordIds&&e.wrongAnswersWordIds===t.wrongAnswersWordIds&&e.onBack===t.onBack&&e.onBackToHome===t.onBackToHome&&e.onAddToStarred===t.onAddToStarred&&e.onMoveToGraveyard===t.onMoveToGraveyard&&e.onDeletePermanently===t.onDeletePermanently&&e.onStartFlashcards===t.onStartFlashcards,Ou=g.memo(K9,Y9);Ou.displayName="WordListScreen";function Q9({onClick:e}){return r.jsx(I.button,{whileTap:{scale:.95},onClick:e,className:"w-11 h-11 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/40",style:{minWidth:"44px",minHeight:"44px"},children:r.jsx(Xi,{className:"w-5 h-5 text-[#491B6D]"})})}const X9={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},J9=[{id:"1",word:"Ephemeral",pronunciation:"/fem.r.l/",meaning:", ",example:"The beauty of cherry blossoms is ephemeral, lasting only a few weeks.",etymology:"Greek ephemeros (lasting only a day)",synonyms:[{word:"temporary",meaning:""},{word:"fleeting",meaning:""},{word:"transient",meaning:""}],antonyms:[{word:"permanent",meaning:""},{word:"eternal",meaning:""},{word:"lasting",meaning:""}]},{id:"2",word:"Serendipity",pronunciation:"/ser.ndp..ti/",meaning:" ,  ",example:"It was pure serendipity that we met at the cafe.",etymology:"Coined by Horace Walpole from Persian fairy tale",synonyms:[{word:"chance",meaning:""},{word:"fortune",meaning:""},{word:"luck",meaning:""}],antonyms:[{word:"misfortune",meaning:""},{word:"bad luck",meaning:""}]},{id:"3",word:"Ubiquitous",pronunciation:"/jubk.w.ts/",meaning:" , ",example:"Smartphones have become ubiquitous in modern society.",etymology:"Latin ubique (everywhere)",synonyms:[{word:"omnipresent",meaning:""},{word:"pervasive",meaning:""},{word:"universal",meaning:""}],antonyms:[{word:"rare",meaning:""},{word:"scarce",meaning:""},{word:"uncommon",meaning:""}]}];function vC({onBack:e,onBackToHome:t,vocabularyWords:n,onAddToStarred:s,onMoveToGraveyard:i,starredWordIds:a=[],graveyardWordIds:l=[],hideHeader:d=!1,vocabularyId:u,vocabularyTitle:f,onRefreshVocabulary:m}){const[p,y]=g.useState(0),[v,b]=g.useState(!1),[j,S]=g.useState(0),[N,C]=g.useState(!1),[A,E]=g.useState(!1),[_,T]=g.useState(!1),[D,R]=g.useState("en"),[V,G]=g.useState(!1),[ne,ie]=g.useState(1),{toggleWord:oe,isSelected:Z,selectedWords:F,clear:z,removeWord:B}=F0(),O=n&&n.length>0?n.map(he=>({id:he.id||"",word:he.word||"",pronunciation:he.pronunciation||"",meaning:he.meaning||"",example:he.example_sentence||he.example||"",translation:he.translation||"",etymology:he.etymology||"",derivatives:Array.isArray(he.derivatives)?he.derivatives.map(ge=>({word:ge.word||ge,meaning:ge.meaning||""})):typeof he.derivatives=="string"&&he.derivatives?he.derivatives.split(",").map(ge=>{const Te=ge.trim(),De=Te.match(/^(.+?)\s*\((.+?)\)\s*$/);return De?{word:De[1].trim(),meaning:De[2].trim()}:{word:Te,meaning:""}}):[],synonyms:Array.isArray(he.synonyms)?he.synonyms.map(ge=>({word:ge.word||ge,meaning:ge.meaning||""})):typeof he.synonyms=="string"&&he.synonyms?he.synonyms.split(",").map(ge=>({word:ge.trim(),meaning:""})):[],antonyms:Array.isArray(he.antonyms)?he.antonyms.map(ge=>({word:ge.word||ge,meaning:ge.meaning||""})):typeof he.antonyms=="string"&&he.antonyms?he.antonyms.split(",").map(ge=>({word:ge.trim(),meaning:""})):[]})):J9,[$,q]=g.useState(O);g.useEffect(()=>{if(n&&n.length>0){const he=n.map(ge=>({id:ge.id||"",word:ge.word||"",pronunciation:ge.pronunciation||"",meaning:ge.meaning||"",example:ge.example_sentence||ge.example||"",translation:ge.translation||"",etymology:ge.etymology||"",derivatives:Array.isArray(ge.derivatives)?ge.derivatives.map(Te=>({word:Te.word||Te,meaning:Te.meaning||""})):typeof ge.derivatives=="string"&&ge.derivatives?ge.derivatives.split(",").map(Te=>{const De=Te.trim(),qe=De.match(/^(.+?)\s*\((.+?)\)\s*$/);return qe?{word:qe[1].trim(),meaning:qe[2].trim()}:{word:De,meaning:""}}):[],synonyms:Array.isArray(ge.synonyms)?ge.synonyms.map(Te=>({word:Te.word||Te,meaning:Te.meaning||""})):typeof ge.synonyms=="string"&&ge.synonyms?ge.synonyms.split(",").map(Te=>({word:Te.trim(),meaning:""})):[],antonyms:Array.isArray(ge.antonyms)?ge.antonyms.map(Te=>({word:Te.word||Te,meaning:Te.meaning||""})):typeof ge.antonyms=="string"&&ge.antonyms?ge.antonyms.split(",").map(Te=>({word:Te.trim(),meaning:""})):[]}));q(he),y(0),b(!1)}},[n]);const M=$[p],W=a.includes(M?.id||"");Z(M?.id||"");const L=g.useRef(null),K=g.useRef(!1),U=g.useRef(!1),ee=g.useRef(null),Y=g.useRef(null),le=()=>{if(ee.current){try{ee.current.pause(),ee.current.currentTime=0}catch{}ee.current=null}"speechSynthesis"in window&&window.speechSynthesis.cancel()},fe=(he,ge)=>{const Te=atob(he),De=new Array(Te.length);for(let mt=0;mt<Te.length;mt++)De[mt]=Te.charCodeAt(mt);const qe=new Uint8Array(De);return new Blob([qe],{type:ge})},ue=(he,ge="en-US")=>new Promise(Te=>{if(!("speechSynthesis"in window)){Te();return}le();const De=new SpeechSynthesisUtterance(he);De.lang=ge,De.rate=ne*(ge==="ko-KR"?.9:.8),De.pitch=1,De.volume=1,De.onend=()=>Te(),De.onerror=()=>Te(),window.speechSynthesis.speak(De)}),Se=async(he,ge="en-US")=>{try{le(),Y.current||(Y.current=new Audio);const Te=Y.current,De="data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVMAAAAPAAADTGF2ZjU4LjIwLjEwMAAAAAAAAAAAAAAA//OEAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAEAAABIADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMD//////////////////////////////////////////////////////////////////wAAAP//OEAAAAAAAAAAAAAAAAAAAAAATEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//OEAA8AAAAAb4AAACAAAAAAAAAAAAAA//OEAAAAAAAAb4AAACAAAAAAAAAAAAAA";try{Te.src=De,await Te.play()}catch{}const qe=new AbortController,mt=setTimeout(()=>qe.abort(),2500),jt=X9,Et=jt?.VITE_SUPABASE_URL||"https://ooxinxuphknbfhbancgs.supabase.co",In=jt?.VITE_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9veGlueHVwaGtuYmZoYmFuY2dzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MDExMTQsImV4cCI6MjA3NDM3NzExNH0.lrbSZb3DTTWBkX3skjOHZ7N_WC_5YURB0ncDHFrwEzY",rn=await fetch(`${Et}/functions/v1/tts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${In}`},body:JSON.stringify({text:he,lang:ge}),signal:qe.signal});if(clearTimeout(mt),!rn.ok)throw new Error(`TTS API error: ${rn.status}`);const vn=await rn.json(),sn=fe(vn.audioContent,"audio/mp3"),_n=URL.createObjectURL(sn);await new Promise((on,at)=>{Te.src=_n,Te.playbackRate=ne,ee.current=Te,Te.onended=()=>{ee.current=null,on()},Te.onerror=Q=>{ee.current=null,at(Q)},Te.play().catch(Q=>{ee.current=null,at(Q)})})}catch(Te){console.error("TTS error, falling back to speech synthesis:",Te),await ue(he,ge)}},Pe=()=>{if(F.length===0){de.info(" ");return}G(!0)},Ye=(he,ge,Te,De)=>{he.stopPropagation();const qe=`${M?.id}_${De}_${ge}`,mt=Z(qe);oe({id:qe,word:ge,meaning:Te,source:` (${De==="derivative"?"":De==="synonym"?"":""})`,metadata:{}}),de.success(mt?" ":" ")},Ze=(he,ge)=>{if(!he||!ge)return he;const Te=new RegExp(`\\b(${ge})\\b`,"gi");return he.split(Te).map((qe,mt)=>qe.toLowerCase()===ge.toLowerCase()?r.jsx("span",{style:{color:"#491B6D",fontWeight:700},children:qe},mt):qe)},ye=()=>{R(he=>he==="en"?"kr":"en")};g.useEffect(()=>{const he=window.getComputedStyle(document.body).overflow,ge=window.getComputedStyle(document.body).overflowY;return document.body.style.overflow="hidden",document.body.style.overflowY="hidden",document.documentElement.style.overflow="hidden",document.documentElement.style.overflowY="hidden",()=>{document.body.style.overflow=he,document.body.style.overflowY=ge,document.documentElement.style.overflow="",document.documentElement.style.overflowY=""}},[]);const re=(he,ge)=>{const De=ge.velocity.x,qe=ge.offset.x,mt=Math.abs(De)>300,jt=qe>50||mt&&De>0,Et=qe<-50||mt&&De<0;jt?p>0&&(S(-1),y(p-1),b(!1)):Et&&p<$.length-1&&(S(1),y(p+1),b(!1))},ve=()=>{b(!v)};g.useEffect(()=>{if(!N){le(),L.current&&clearTimeout(L.current),K.current=!1,U.current=!1;return}if(U.current)return;L.current&&clearTimeout(L.current);const he=$[p];if(!he)return;const ge=async()=>{U.current=!0;try{if(!N){U.current=!1;return}if(K.current&&p===0){if(await new Promise(Te=>setTimeout(Te,2e3)),K.current=!1,!N){U.current=!1;return}await Se(he.word,"en-US")}else{if(await Se(he.word,"en-US"),await new Promise(Te=>setTimeout(Te,300)),!N){U.current=!1;return}await Se(he.word,"en-US")}if(await new Promise(Te=>setTimeout(Te,500)),!N){U.current=!1;return}if(b(!0),await new Promise(Te=>setTimeout(Te,600)),!N){U.current=!1;return}await Se(he.meaning,"ko-KR"),await new Promise(Te=>setTimeout(Te,800)),U.current=!1,N&&(p<$.length-1?(S(1),y(p+1),b(!1)):C(!1))}catch(Te){console.error("Auto-play error:",Te),U.current=!1,C(!1)}};return L.current=setTimeout(()=>{ge()},100),()=>{L.current&&clearTimeout(L.current)}},[N,p,$,ne]),g.useEffect(()=>()=>{le(),L.current&&clearTimeout(L.current)},[]);const Qe=()=>{Se(M.word,"en-US")},lt=async()=>{const he=$[p];if(he)try{C(!0),K.current=!0,await Se(he.word,"en-US")}catch(ge){console.error("Initial play error:",ge),de.error("  ")}},ct=()=>{C(!1),le()},vt=()=>{C(!1),le(),y(0),b(!1)},ut=he=>{he.stopPropagation(),s&&s(M.id)},Ce=he=>{he.stopPropagation(),E(!0),i&&i(M.id),setTimeout(()=>{p<$.length-1?(S(1),y(p+1)):p>0&&(S(-1),y(p-1)),E(!1),b(!1)},300)},et=()=>{const he=[...$].sort(()=>Math.random()-.5);q(he),y(0),b(!1)};return r.jsx(r.Fragment,{children:r.jsxs("div",{className:`flex flex-col ${d?"h-full":"min-h-screen h-screen fixed inset-0"}`,style:d?{overflow:"visible",height:"100%",touchAction:"pan-x",position:"relative"}:{overflow:"hidden",overflowY:"hidden",maxWidth:"100vw",width:"100vw",height:"100dvh",touchAction:"pan-x",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3},children:[!d&&r.jsx("div",{className:"sticky top-0 z-40 backdrop-blur-lg",style:{background:"transparent"},children:r.jsxs("div",{className:"flex items-center justify-between p-4",children:[r.jsx(Or,{onClick:e}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("h1",{className:"text-[#091A7A]",style:{fontSize:"18px",fontWeight:600},children:""}),r.jsxs("p",{className:"text-[#6B7280]",style:{fontSize:"12px",fontWeight:500},children:[p+1," / ",$.length]})]}),t?r.jsx(Q9,{onClick:t}):r.jsx("div",{className:"w-12 h-12"})]})}),d&&r.jsx("div",{className:"text-center py-3",children:r.jsxs("p",{className:"text-[#6B7280]",style:{fontSize:"14px",fontWeight:500},children:[p+1," / ",$.length]})}),r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center ",style:{overflow:"visible",maxWidth:"100vw",touchAction:"auto",paddingBottom:"0",gap:"1rem"},children:[r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>{const he=[.75,1,1.25,1.5],Te=(he.indexOf(ne)+1)%he.length;ie(he[Te])},className:"w-9 h-9 rounded-full flex items-center justify-center shadow-md transition-all relative",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)"},children:r.jsxs("span",{className:"text-white text-[10px] font-bold",children:[ne,"x"]})}),r.jsx(I.button,{whileTap:{scale:.95},onClick:et,className:"w-9 h-9 rounded-full flex items-center justify-center shadow-md transition-all",style:{background:"linear-gradient(135deg, #A78BFA 0%, #8B5CF6 100%)"},children:r.jsx(yu,{className:"w-4 h-4 text-white"})}),r.jsx(I.button,{whileTap:{scale:.95},onClick:lt,disabled:N,className:`w-11 h-11 rounded-full flex items-center justify-center shadow-md transition-all ${N?"opacity-50 cursor-not-allowed":""}`,style:{background:N?"linear-gradient(135deg, #D1D5DB 0%, #9CA3AF 100%)":"linear-gradient(135deg, #A78BFA 0%, #7C3AED 100%)"},children:r.jsx(Wi,{className:"w-5 h-5 text-white",style:{fill:"white"}})}),r.jsx(I.button,{whileTap:{scale:.95},onClick:ct,disabled:!N,className:`w-9 h-9 rounded-full flex items-center justify-center shadow-md transition-all ${N?"":"opacity-50 cursor-not-allowed"}`,style:{background:N?"linear-gradient(135deg, #FCD34D 0%, #F59E0B 100%)":"linear-gradient(135deg, #D1D5DB 0%, #9CA3AF 100%)"},children:r.jsx(xu,{className:"w-4 h-4 text-white"})}),r.jsx(I.button,{whileTap:{scale:.95},onClick:vt,className:"w-9 h-9 rounded-full flex items-center justify-center shadow-md transition-all",style:{background:"linear-gradient(135deg, #F87171 0%, #EF4444 100%)"},children:r.jsx(Ml,{className:"w-4 h-4 text-white",style:{fill:"white"}})}),r.jsxs(I.button,{whileTap:{scale:.95},onClick:Pe,className:"w-9 h-9 rounded-full flex items-center justify-center shadow-md transition-all relative",style:{background:"linear-gradient(135deg, #9CA3AF 0%, #6B7280 100%)"},children:[r.jsx(Zd,{className:"w-4 h-4 text-white"}),F.length>0&&r.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center shadow-sm",style:{background:"linear-gradient(135deg, #A78BFA 0%, #7C3AED 100%)"},children:r.jsx("span",{className:"text-white",style:{fontSize:"10px",fontWeight:700},children:F.length})})]})]}),r.jsxs("div",{className:`w-full max-w-[90vw] sm:max-w-[85vw] md:max-w-[80vw] ${d?"h-[60vh] sm:h-[65vh] md:h-[70vh]":"h-full max-h-[60vh] sm:max-h-[65vh] md:max-h-[70vh]"} relative flex items-center justify-center`,style:{overflow:"visible",touchAction:"auto"},children:[p>0&&r.jsx(I.div,{className:"absolute left-0 pointer-events-none z-0",initial:{opacity:0,x:-20},animate:{opacity:.4,x:0},transition:{duration:.3},style:{width:"70%",height:"85%",transform:"translateX(-75%) scale(0.7)",transformOrigin:"right center"},children:r.jsx("div",{className:"w-full h-full bg-white/90 backdrop-blur-lg shadow-2xl rounded-[20px] border-2 border-white/30",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)"}})}),p<$.length-1&&r.jsx(I.div,{className:"absolute right-0 pointer-events-none z-0",initial:{opacity:0,x:20},animate:{opacity:.4,x:0},transition:{duration:.3},style:{width:"70%",height:"85%",transform:"translateX(75%) scale(0.7)",transformOrigin:"left center"},children:r.jsx("div",{className:"w-full h-full bg-white/90 backdrop-blur-lg shadow-2xl rounded-[20px] border-2 border-white/30",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)"}})}),r.jsx("div",{className:"w-[92%] h-full relative z-10 mx-auto",style:{overflow:"visible",touchAction:"pan-x"},children:r.jsx(pt,{mode:"popLayout",initial:!1,children:r.jsx(I.div,{initial:{scale:.9,opacity:0},animate:{scale:A?.8:1,opacity:A?0:1},exit:{scale:.9,opacity:0},transition:{duration:A?.3:.2},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.3,dragMomentum:!1,dragPropagation:!1,whileDrag:{cursor:"grabbing"},onDragStart:()=>{T(!0)},onDragEnd:(he,ge)=>{T(!1),re(he,ge)},className:"absolute inset-0 cursor-grab active:cursor-grabbing",style:{perspective:"1000px",zIndex:10},children:r.jsxs(I.div,{className:"w-full h-full relative",style:{transformStyle:"preserve-3d",pointerEvents:_?"none":"auto"},animate:{rotateY:v?180:0},transition:{duration:.6,type:"spring"},onClick:he=>{_||ve()},children:[r.jsxs("div",{className:"absolute inset-0 bg-white/95 backdrop-blur-lg px-6 py-4 flex flex-col items-center justify-center rounded-[20px] border border-white/20 shadow-2xl",style:{backfaceVisibility:"hidden"},children:[r.jsx(I.button,{whileTap:{scale:.9},onClick:ut,className:"absolute top-5 right-5",children:r.jsx(I.div,{animate:W?{scale:[1,1.3,1],rotate:[0,-15,15,0]}:{},transition:{duration:.5,ease:"easeOut"},children:r.jsx(vs,{className:`w-7 h-7 ${W?"fill-[#FCD34D] text-[#FCD34D] drop-shadow-[0_0_8px_rgba(252,211,77,0.6)]":"text-[#D1D5DB]"}`})})}),r.jsx(I.button,{whileTap:{scale:.9},onClick:Ce,className:"absolute bottom-5 right-5",children:r.jsx(Im,{className:"w-7 h-7 text-[#6B7280]"})}),r.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[r.jsx("div",{className:"w-16 h-1 bg-[#491B6D]/20",style:{borderRadius:"var(--radius-pill)"}}),r.jsx("h2",{className:"text-[#091A7A] text-center px-4 text-[32px] sm:text-[40px] md:text-[48px] lg:text-[56px]",style:{fontWeight:700,lineHeight:1.1},children:M.word}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("p",{className:"text-[#6B7280] text-[12px] sm:text-[14px] md:text-[15px]",style:{fontWeight:500},children:M.pronunciation}),r.jsx(I.button,{whileTap:{scale:.9},onClick:he=>{he.stopPropagation(),Qe()},className:"w-10 h-10 sm:w-12 sm:h-12 bg-[#491B6D]/10 rounded-full flex items-center justify-center",children:r.jsx(a0,{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#491B6D]"})})]}),r.jsx("div",{className:"w-16 h-1 bg-[#491B6D]/20 mt-2",style:{borderRadius:"var(--radius-pill)"}})]}),r.jsx("div",{className:"absolute bottom-8 text-[#9CA3AF] text-[12px] sm:text-[13px]",style:{fontWeight:500},children:" "})]}),r.jsxs("div",{className:"absolute inset-0 bg-white/95 backdrop-blur-lg p-5 overflow-y-auto scrollbar-hide rounded-[20px] border border-white/20 shadow-2xl",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[r.jsx(I.button,{whileTap:{scale:.9},onClick:ut,className:"absolute top-4 right-4 z-10",style:{transform:"scaleX(-1)"},children:r.jsx(I.div,{animate:W?{scale:[1,1.3,1],rotate:[0,-15,15,0]}:{},transition:{duration:.5,ease:"easeOut"},children:r.jsx(vs,{className:`w-6 h-6 ${W?"fill-[#FCD34D] text-[#FCD34D] drop-shadow-[0_0_8px_rgba(252,211,77,0.6)]":"text-[#D1D5DB]"}`})})}),r.jsx(I.button,{whileTap:{scale:.9},onClick:Ce,className:"absolute bottom-4 right-4 z-10",style:{transform:"scaleX(-1)"},children:r.jsx(Im,{className:"w-6 h-6 text-[#6B7280]"})}),r.jsxs("div",{className:"flex flex-col gap-3 scrollable-content",style:{touchAction:"pan-y",overflowY:"auto",WebkitOverflowScrolling:"touch"},children:[r.jsx("div",{className:"text-center pb-3 border-b border-gray-200",children:r.jsx("h3",{className:"text-[#491B6D] text-[20px] sm:text-[24px] md:text-[28px]",style:{fontWeight:700},children:M.word})}),r.jsx("div",{className:"text-center py-2",children:r.jsx("p",{className:"text-[#374151] text-[16px] sm:text-[18px] md:text-[20px]",style:{fontWeight:700,lineHeight:1.3},children:M.meaning})}),(M.example||M.translation)&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:he=>{he.stopPropagation(),ye()},className:"w-8 h-8 flex-shrink-0 rounded-md bg-white/90 border border-[#E5E7EB]/60 flex items-center justify-center shadow-sm",style:{transform:"scaleX(-1)"},children:r.jsx("span",{style:{fontSize:"9px",fontWeight:700,color:D==="en"?"#491B6D":"#9CA3AF",transform:"scaleX(-1)"},children:D==="en"?"EN":"KR"})}),r.jsx("div",{className:"flex-1 bg-[#F3F4F6]/60 border border-[#E5E7EB]/40 rounded-lg px-3 py-1",children:r.jsx("p",{className:"text-[#4B5563] text-[11px] sm:text-[12px] md:text-[13px]",style:{fontWeight:500,lineHeight:1.5},children:Ze(D==="en"?M.example:M.translation||M.example,M.word)})})]}),M.etymology&&r.jsxs("div",{className:"bg-[#F3F4F6]/80 border border-[#E5E7EB]/60 rounded-[16px] px-[10px] py-[6px]",children:[r.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6] mt-2"}),r.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:" "})]}),r.jsx("p",{className:"text-[#4B5563] pl-3 text-[11px] sm:text-[11.5px] md:text-[12px]",style:{fontWeight:500,lineHeight:1.6},children:M.etymology})]}),r.jsxs("div",{className:"space-y-2",children:[M.derivatives&&M.derivatives.length>0&&r.jsx("div",{className:"bg-white/60 rounded-[16px] px-2 py-1.5 border border-[#E5E7EB]/50",children:r.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-1",children:M.derivatives.map((he,ge)=>{const Te=`${M.id}_derivative_${he.word}`,De=Z(Te);return r.jsxs(I.button,{whileTap:{scale:.95},onClick:qe=>Ye(qe,he.word,he.meaning||"","derivative"),className:`inline-flex items-baseline gap-1 px-2 py-1 rounded-lg transition-colors ${De?"bg-[#7C3AED]/10 border border-[#7C3AED]":"hover:bg-gray-100 border border-transparent"}`,children:[r.jsx("span",{className:`text-[11px] font-semibold ${De?"text-[#7C3AED]":"text-gray-700"}`,children:he.word}),he.meaning&&r.jsxs("span",{className:"text-[10px] text-gray-500",children:["(",he.meaning,")"]})]},ge)})})}),(M.synonyms&&M.synonyms.length>0||M.antonyms&&M.antonyms.length>0)&&r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[M.synonyms&&M.synonyms.length>0&&r.jsxs("div",{className:"bg-white/60 rounded-[16px] px-2 py-1.5 border border-[#E5E7EB]/50",children:[r.jsx("p",{className:"text-[#6B7280] mb-1 text-center",style:{fontSize:"10px",fontWeight:600,letterSpacing:"0.02em"},children:""}),r.jsx("div",{className:"flex flex-wrap gap-x-1 gap-y-1",children:M.synonyms.map((he,ge)=>{const Te=`${M.id}_synonym_${he.word}`,De=Z(Te);return r.jsxs(I.button,{whileTap:{scale:.95},onClick:qe=>Ye(qe,he.word,he.meaning||"","synonym"),className:`inline-flex items-baseline gap-1 px-1.5 py-0.5 rounded-lg transition-colors ${De?"bg-[#7C3AED]/10 border border-[#7C3AED]":"hover:bg-gray-100 border border-transparent"}`,children:[r.jsx("span",{className:`text-[11px] font-semibold ${De?"text-[#7C3AED]":"text-gray-700"}`,children:he.word}),he.meaning&&r.jsxs("span",{className:"text-[10px] text-gray-500",children:["(",he.meaning,")"]})]},ge)})})]}),M.antonyms&&M.antonyms.length>0&&r.jsxs("div",{className:"bg-white/60 rounded-[16px] px-2 py-1.5 border border-[#E5E7EB]/50",children:[r.jsx("p",{className:"text-[#6B7280] mb-1 text-center",style:{fontSize:"10px",fontWeight:600,letterSpacing:"0.02em"},children:""}),r.jsx("div",{className:"flex flex-wrap gap-x-1 gap-y-1",children:M.antonyms.map((he,ge)=>{const Te=`${M.id}_antonym_${he.word}`,De=Z(Te);return r.jsxs(I.button,{whileTap:{scale:.95},onClick:qe=>Ye(qe,he.word,he.meaning||"","antonym"),className:`inline-flex items-baseline gap-1 px-1.5 py-0.5 rounded-lg transition-colors ${De?"bg-[#7C3AED]/10 border border-[#7C3AED]":"hover:bg-gray-100 border border-transparent"}`,children:[r.jsx("span",{className:`text-[11px] font-semibold ${De?"text-[#7C3AED]":"text-gray-700"}`,children:he.word}),he.meaning&&r.jsxs("span",{className:"text-[10px] text-gray-500",children:["(",he.meaning,")"]})]},ge)})})]})]})]})]})]})]})},p)})})]})]}),r.jsx(M0,{open:V,onClose:()=>G(!1),words:F,onRemoveWord:B,onClear:z,onActionComplete:async()=>{G(!1);const{invalidateVocabularyListCache:he}=await Fr(async()=>{const{invalidateVocabularyListCache:ge}=await Promise.resolve().then(()=>I0);return{invalidateVocabularyListCache:ge}},void 0);he(),m&&await m()},currentVocabularyId:u,currentVocabularyTitle:f})]})})}function Z9({onBack:e,onSelectVocabulary:t}){const[n,s]=g.useState([]),[i,a]=g.useState(!0),[l,d]=g.useState(""),[u,f]=g.useState("All"),[m,p]=g.useState(["All"]),[y,v]=g.useState(new Set),[b,j]=g.useState(!1);g.useEffect(()=>{S(),N()},[]),g.useEffect(()=>{const _=[document.documentElement,document.body];return _.forEach(T=>T?.classList.add("gift-fullscreen")),()=>{_.forEach(T=>T?.classList.remove("gift-fullscreen"))}},[]);const S=async()=>{try{const _=await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/categories`,{headers:{Authorization:`Bearer ${Yt}`}});if(!_.ok){console.error("Failed to fetch categories:",await _.text());return}const D=((await _.json()).categories||[]).filter(R=>R.enabled).map(R=>R.name);p(["All",...D])}catch(_){console.error("Error fetching categories:",_)}},N=async()=>{try{let _=await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/shared-vocabularies`,{headers:{Authorization:`Bearer ${Yt}`}});if(_.ok||(_=await fetch(`https://${Ge}.supabase.co/functions/v1/server/shared-vocabularies`,{headers:{Authorization:`Bearer ${Yt}`}})),!_.ok){console.error("Failed to fetch vocabularies:",await _.text());return}const T=await _.json();s(T.vocabularies||[])}catch(_){console.error("Error fetching shared vocabularies:",_)}finally{a(!1)}},C=n.filter(_=>(_.title?.toLowerCase()||"").includes(l.toLowerCase())&&(u==="All"||_.category===u)).sort((_,T)=>_.title.localeCompare(T.title,"ko-KR")),A=_=>{v(T=>{const D=new Set(T);return D.has(_)?D.delete(_):D.add(_),D})},E=async()=>{j(!0);const _=n.filter(T=>y.has(T.id));try{for(const T of _)await t(T);v(new Set),e()}catch(T){console.error("Error adding vocabularies:",T)}finally{j(!1)}};return r.jsxs(r.Fragment,{children:[r.jsx("style",{children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(8px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out forwards;
          opacity: 0;
        }
      `}),r.jsxs("div",{className:"min-h-screen h-full flex flex-col bg-transparent overflow-hidden",children:[r.jsx(nc,{onBack:e,title:"Presets",subtitle:"  "}),r.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:r.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:[r.jsxs("div",{className:"sticky top-0 z-20 bg-transparent backdrop-blur-xl border-b border-white/20",children:[r.jsxs("div",{className:"flex items-center gap-3 px-6 py-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(jl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#8B5CF6]/50"}),r.jsx("input",{type:"text",value:l,onChange:_=>d(_.target.value),placeholder:"Search preset vocabulary...",className:"w-full pl-12 pr-4 py-3 rounded-full bg-white/90 shadow-md text-[#491B6D] placeholder:text-[#8B5CF6]/40 focus:outline-none focus:ring-2 focus:ring-[#8B5CF6]/30"})]})}),r.jsx(I.button,{whileTap:{scale:.95},onClick:E,disabled:b||y.size===0,className:"bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] text-white rounded-full px-5 py-3 flex items-center gap-2 shadow-lg whitespace-nowrap disabled:opacity-50",style:{fontSize:"14px",fontWeight:600},children:b?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"})," ..."]}):r.jsxs(r.Fragment,{children:[r.jsx(la,{className:"w-4 h-4"})," ",y.size>0&&`(${y.size})`]})})]}),r.jsx("div",{className:"flex gap-3 px-6 pb-4 overflow-x-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:m.map(_=>r.jsx("button",{onClick:T=>{T.preventDefault(),T.stopPropagation(),f(_)},className:`px-3 py-1.5 rounded-full whitespace-nowrap transition-all flex-shrink-0 active:scale-95 ${u===_?"bg-[#091A7A] text-white shadow-lg":"bg-transparent text-[#091A7A]"}`,style:{fontSize:"12px",fontWeight:600,touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},children:_},_))})]}),r.jsx("div",{className:"px-4 pb-32",children:i?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"w-8 h-8 border-4 border-[#8B5CF6]/20 border-t-[#8B5CF6] rounded-full animate-spin"})}):C.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ku,{className:"w-16 h-16 text-[#491B6D]/40 mx-auto mb-4"}),r.jsx("p",{className:"text-[#491B6D]/70",children:"  "})]}):r.jsx("div",{className:"space-y-3 pt-4",children:C.map((_,T)=>r.jsx("div",{onClick:()=>A(_.id),className:"bg-white/95 backdrop-blur-lg rounded-2xl overflow-hidden shadow-md p-4 cursor-pointer active:scale-[0.98] transition-all duration-200 hover:shadow-lg animate-fade-in",style:{animationDelay:`${Math.min(T*30,300)}ms`},children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex items-center justify-center flex-shrink-0",children:r.jsx("div",{className:`w-5 h-5 rounded-lg border-2 flex items-center justify-center transition-all ${y.has(_.id)?"bg-[#8B5CF6] border-[#8B5CF6]":"bg-white border-[#8B5CF6]/30"}`,children:y.has(_.id)&&r.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{d:"M5 13l4 4L19 7"})})})}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[r.jsx("h3",{className:"text-[#491B6D] font-semibold text-sm truncate",children:_.title}),r.jsxs("span",{className:"text-[#8B5CF6] text-xs font-medium whitespace-nowrap",children:[_.total_words.toLocaleString(),""]})]})})]})},_.id))})})]})})]})]})}var e7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],t7=e7.reduce((e,t)=>{const n=LS(`Primitive.${t}`),s=g.forwardRef((i,a)=>{const{asChild:l,...d}=i,u=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(u,{...d,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),n7="Label",bC=g.forwardRef((e,t)=>r.jsx(t7.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bC.displayName=n7;var r7=bC;function _1({className:e,...t}){return r.jsx(r7,{"data-slot":"label",className:En("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function wC({onSave:e,initialData:t=[],data:n,fullscreen:s=!1,headerInfo:i,onHeaderChange:a,onChange:l,getAuthToken:d,hideHeaderFields:u=!1}){const[f,m]=g.useState(!1);g.useRef(null);const[p,y]=g.useState(!1),[v,b]=g.useState(""),j=B=>B.map(O=>({word:O.word,meaning:O.meaning,synonyms:O.synonyms.join(", "),antonyms:O.antonyms.join(", "),example:O.example,translation:O.translation})),[S,N]=g.useState(()=>n&&n.length>0?j(n):Array(10).fill(null).map(()=>({word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""}))),[C,A]=g.useState(null),E=g.useRef({});g.useEffect(()=>{n&&n.length>0&&N(j(n))},[n]);const _=s?["word","meaning","synonyms","antonyms","example","translation"]:["word","meaning"],T={word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""},D=()=>{N([...S,{word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""}])},R=B=>{S.length>1&&N(S.filter((O,$)=>$!==B))},V=(B,O,$)=>{const q=[...S];if(q[B][O]=$,N(q),l&&n&&n[B]){const M={...n[B],[O]:O==="synonyms"||O==="antonyms"?$.split(",").map(L=>L.trim()).filter(L=>L!==""):$},W=[...n];W[B]=M,l(W)}else l&&l(q.map((M,W)=>({id:W+1,word:M.word,pronunciation:n?.[W]?.pronunciation||"",partOfSpeech:n?.[W]?.partOfSpeech||"",meaning:M.meaning,definition:n?.[W]?.definition||void 0,synonyms:M.synonyms.split(",").map(L=>L.trim()).filter(L=>L!==""),antonyms:M.antonyms.split(",").map(L=>L.trim()).filter(L=>L!==""),derivatives:n?.[W]?.derivatives||[],example:M.example,translation:M.translation,translationHighlight:n?.[W]?.translationHighlight||void 0,etymology:n?.[W]?.etymology||""})))},G=(B,O,$)=>{if(B.key==="Enter"){B.preventDefault();const q=O+1;q>=S.length&&D(),setTimeout(()=>{const M=`${q}-${$}`;E.current[M]?.focus()},0)}else if(B.key==="Tab"){B.preventDefault();const q=$+1;if(q<_.length){const M=`${O}-${q}`;E.current[M]?.focus()}else{const M=O+1;M>=S.length&&D(),setTimeout(()=>{const W=`${M}-0`;E.current[W]?.focus()},0)}}},ne=(B,O,$)=>{B.preventDefault();const M=B.clipboardData.getData("text").split(`
`).filter(L=>L.trim()!==""),W=[...S];M.forEach((L,K)=>{const U=L.split("	"),ee=O+K;for(;W.length<=ee;)W.push({word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""});U.forEach((Y,le)=>{const fe=$+le;fe<_.length&&(W[ee][_[fe]]=Y.trim())})}),N(W),l&&l(W.map((L,K)=>({id:K+1,word:L.word,pronunciation:n?.[K]?.pronunciation||"",partOfSpeech:n?.[K]?.partOfSpeech||"",meaning:L.meaning,definition:n?.[K]?.definition||void 0,synonyms:L.synonyms.split(",").map(U=>U.trim()).filter(U=>U!==""),antonyms:L.antonyms.split(",").map(U=>U.trim()).filter(U=>U!==""),derivatives:n?.[K]?.derivatives||[],example:L.example,translation:L.translation,translationHighlight:n?.[K]?.translationHighlight||"",etymology:n?.[K]?.etymology||""})))},ie=20,oe=3,Z=async(B,O=3)=>{try{const $=B.filter(Y=>Y.word&&Y.word.trim()!=="");if($.length===0)return console.error("  "),{items:[],inputTokens:0,outputTokens:0};const q=d?.();if(!q)throw new Error(" .  .");const M=await fetch(`https://${Ge}.supabase.co/functions/v1/server/generate-vocabulary-batch`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`},body:JSON.stringify({words:$.map(Y=>({word:Y.word.trim(),meaning:Y.meaning?Y.meaning.trim():"",synonyms:Y.synonyms?Y.synonyms.trim():"",antonyms:Y.antonyms?Y.antonyms.trim():"",example:Y.example?Y.example.trim():"",translation:Y.translation?Y.translation.trim():""}))})});if(!M.ok){const Y=await M.text();throw console.error(" API :",Y),new Error("Failed to generate word info")}const W=await M.json();if(!W.success)throw new Error(W.error||"Generation failed");const L=W.results||W.data||[],K=W.inputTokens||0,U=W.outputTokens||0;return{items:$.map((Y,le)=>{const fe=L[le]||{};return{id:0,word:Y.word,pronunciation:fe.pronunciation||"",partOfSpeech:fe.partOfSpeech||"",meaning:fe.meaning||Y.meaning,definition:fe.definition||void 0,synonyms:Y.synonyms?Y.synonyms.split(",").map(ue=>ue.trim()).filter(ue=>ue!==""):fe.synonyms||[],antonyms:Y.antonyms?Y.antonyms.split(",").map(ue=>ue.trim()).filter(ue=>ue!==""):fe.antonyms||[],derivatives:fe.derivatives||[],example:Y.example||fe.example||"",translation:Y.translation||fe.translation||"",translationHighlight:fe.translationHighlight||void 0,etymology:fe.etymology||""}}),inputTokens:K,outputTokens:U}}catch($){return console.error("API :",$),O>0?(console.log(` ... ( : ${O})`),await new Promise(q=>setTimeout(q,2e3)),Z(B,O-1)):{items:B.map(q=>({id:0,word:q.word,pronunciation:"",partOfSpeech:"",meaning:q.meaning,definition:void 0,synonyms:q.synonyms.split(",").map(M=>M.trim()).filter(M=>M!==""),antonyms:q.antonyms.split(",").map(M=>M.trim()).filter(M=>M!==""),derivatives:[],example:q.example,translation:q.translation,translationHighlight:void 0,etymology:""})),inputTokens:0,outputTokens:0}}},F=async B=>{const O=[];for(let Y=0;Y<B.length;Y+=ie)O.push(B.slice(Y,Y+ie));const $=[];let q=0,M=0,W=0;const L=async(Y,le)=>{const fe=await Z(Y);return{index:le,items:fe.items,inputTokens:fe.inputTokens,outputTokens:fe.outputTokens}},K=async Y=>{const le=Math.min(Y+oe,O.length),fe=[];for(let Se=Y;Se<le;Se++)fe.push(L(O[Se],Se));const ue=await Promise.all(fe);for(const Se of ue)$.push({index:Se.index,items:Se.items}),q+=Se.inputTokens,M+=Se.outputTokens,W++,O.length>1&&de.loading(`AI   ... (${W}/${O.length} , ${Math.min(W*ie,B.length)}/${B.length})`,{id:"generating",duration:1/0});return le};let U=0;for(;U<O.length;)U=await K(U),U<O.length&&await new Promise(Y=>setTimeout(Y,1e3));return $.sort((Y,le)=>Y.index-le.index),{items:$.flatMap(Y=>Y.items),inputTokens:q,outputTokens:M}},z=async B=>{const O=S,$=O.filter(q=>q.word&&q.word.trim()!=="");if(console.log("=== handleSave  ==="),console.log("  :",O.length),console.log("   :",$.length),console.log(" 3 :",$.slice(0,3)),$.length===0){de.error(" .",{duration:1e3});return}m(!0),de.loading(`AI ${$.length}   ...`,{id:"generating",duration:1/0});try{console.log(`     (BATCH_SIZE=${ie}, CONCURRENCY=${oe})`);const{items:q,inputTokens:M,outputTokens:W}=await F($);de.dismiss("generating"),console.log(" ! ",q.length,""),console.log(`    - : ${M}, : ${W}`);const L=q.map((K,U)=>({...K,id:U+1}));N(j(L)),setTimeout(()=>{de.success(`${L.length}   !`,{duration:1e3})},300),e(L,{inputTokens:M,outputTokens:W})}catch(q){console.error(" :",q),de.dismiss("generating"),de.error("AI    .",{duration:1e3})}finally{m(!1)}};return r.jsxs("div",{className:"flex flex-col h-full",children:[i&&a&&!u&&r.jsxs("div",{className:"mb-4 flex-shrink-0 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_1,{htmlFor:"headerTitle",className:`whitespace-nowrap text-xs ${p?"text-red-600":"text-slate-700"}`,children:" ()"}),r.jsx($l,{id:"headerTitle",value:i.headerTitle,onChange:B=>{a({...i,headerTitle:B.target.value}),p&&y(!1)},placeholder:":     ",className:`bg-white flex-1 transition-all text-sm ${p?"border-red-500 border-2 ring-4 ring-red-100 animate-shake":"border-gray-300"}`,style:{fontFamily:"SUIT",fontWeight:"600"},required:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_1,{htmlFor:"headerDescription",className:"text-slate-600 whitespace-nowrap text-xs",children:" ()"}),r.jsx($l,{id:"headerDescription",value:i.headerDescription,onChange:B=>a({...i,headerDescription:B.target.value}),placeholder:": 1 2 ",className:"bg-white border-gray-300 flex-1 text-gray-700 placeholder:text-gray-400 text-sm",style:{fontFamily:"SUIT"}})]})]}),r.jsxs("div",{className:"mb-3 flex gap-2 flex-shrink-0",children:[r.jsx(nn,{onClick:D,variant:"outline",size:"sm",children:"+  "}),r.jsx(nn,{onClick:()=>{N(Array(10).fill(null).map(()=>({word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""}))),b(""),de.success("  ",{duration:1e3})},variant:"outline",size:"sm",children:" "})]}),r.jsx("div",{className:"h-[350px] overflow-auto border border-gray-300 rounded flex-shrink-0",children:r.jsx("div",{className:"overflow-x-scroll overflow-y-auto h-full",children:r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:r.jsxs("tr",{children:[r.jsx("th",{className:"border border-gray-300 px-2 py-2 text-xs w-12",children:"#"}),_.map(B=>r.jsx("th",{className:"border border-gray-300 px-3 py-2 text-xs min-w-[96px]",children:T[B]},B)),r.jsx("th",{className:"border border-gray-300 px-2 py-2 text-xs w-12",children:""})]})}),r.jsx("tbody",{children:S.map((B,O)=>r.jsxs("tr",{children:[r.jsx("td",{className:"border border-gray-300 px-2 py-1 text-xs text-center bg-gray-50",children:O+1}),_.map(($,q)=>r.jsx("td",{className:"border border-gray-300 p-0",children:r.jsx("input",{ref:M=>{E.current[`${O}-${q}`]=M},type:"text",value:B[$],onChange:M=>V(O,$,M.target.value),onKeyDown:M=>G(M,O,q),onPaste:M=>ne(M,O,q),onFocus:()=>A({row:O,col:q}),className:"w-full min-w-[96px] px-2 py-1.5 text-xs border-0 focus:outline-none focus:ring-2 focus:ring-blue-500 text-black"})},$)),r.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:r.jsx("button",{onClick:()=>R(O),className:"text-red-600 hover:text-red-800 text-xs",disabled:S.length===1,children:""})})]},O))})]})})}),r.jsx("div",{className:"mt-3 flex gap-2 flex-shrink-0",children:r.jsx(nn,{onClick:async()=>{if(i&&!u&&(i.headerTitle.trim()==="JEJEVOCA"||i.headerTitle.trim()==="")){y(!0),de.error("  !",{duration:1e3}),setTimeout(()=>{const B=document.getElementById("headerTitle");B&&(i.headerTitle.trim()==="JEJEVOCA"&&a&&a({...i,headerTitle:""}),B.focus(),B.select())},100),setTimeout(()=>{y(!1)},3e3);return}await z()},disabled:f,size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:f?"AI  ...":"   AI  (  )"})})]})}function s7(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.useMemo(()=>s=>{t.forEach(i=>i(s))},t)}const hh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Na(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function $0(e){return"nodeType"in e}function On(e){var t,n;return e?Na(e)?e:$0(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function B0(e){const{Document:t}=On(e);return e instanceof t}function ac(e){return Na(e)?!1:e instanceof On(e).HTMLElement}function jC(e){return e instanceof On(e).SVGElement}function ka(e){return e?Na(e)?e.document:$0(e)?B0(e)?e:ac(e)||jC(e)?e.ownerDocument:document:document:document}const Rr=hh?g.useLayoutEffect:g.useEffect;function fh(e){const t=g.useRef(e);return Rr(()=>{t.current=e}),g.useCallback(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t.current==null?void 0:t.current(...s)},[])}function i7(){const e=g.useRef(null),t=g.useCallback((s,i)=>{e.current=setInterval(s,i)},[]),n=g.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Hl(e,t){t===void 0&&(t=[e]);const n=g.useRef(e);return Rr(()=>{n.current!==e&&(n.current=e)},t),n}function lc(e,t){const n=g.useRef();return g.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Iu(e){const t=fh(e),n=g.useRef(null),s=g.useCallback(i=>{i!==n.current&&t?.(i,n.current),n.current=i},[]);return[n,s]}function Fu(e){const t=g.useRef();return g.useEffect(()=>{t.current=e},[e]),t.current}let Qp={};function cc(e,t){return g.useMemo(()=>{if(t)return t;const n=Qp[e]==null?0:Qp[e]+1;return Qp[e]=n,e+"-"+n},[e,t])}function SC(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return s.reduce((a,l)=>{const d=Object.entries(l);for(const[u,f]of d){const m=a[u];m!=null&&(a[u]=m+e*f)}return a},{...t})}}const sa=SC(1),Mu=SC(-1);function o7(e){return"clientX"in e&&"clientY"in e}function ph(e){if(!e)return!1;const{KeyboardEvent:t}=On(e.target);return t&&e instanceof t}function a7(e){if(!e)return!1;const{TouchEvent:t}=On(e.target);return t&&e instanceof t}function $u(e){if(a7(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return o7(e)?{x:e.clientX,y:e.clientY}:null}const ti=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[ti.Translate.toString(e),ti.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),T1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function l7(e){return e.matches(T1)?e:e.querySelector(T1)}const c7={display:"none"};function d7(e){let{id:t,value:n}=e;return me.createElement("div",{id:t,style:c7},n)}function u7(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return me.createElement("div",{id:t,style:i,role:"status","aria-live":s,"aria-atomic":!0},n)}function h7(){const[e,t]=g.useState("");return{announce:g.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const NC=g.createContext(null);function f7(e){const t=g.useContext(NC);g.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function p7(){const[e]=g.useState(()=>new Set),t=g.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[g.useCallback(s=>{let{type:i,event:a}=s;e.forEach(l=>{var d;return(d=l[i])==null?void 0:d.call(l,a)})},[e]),t]}const m7={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},g7={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function x7(e){let{announcements:t=g7,container:n,hiddenTextDescribedById:s,screenReaderInstructions:i=m7}=e;const{announce:a,announcement:l}=h7(),d=cc("DndLiveRegion"),[u,f]=g.useState(!1);if(g.useEffect(()=>{f(!0)},[]),f7(g.useMemo(()=>({onDragStart(p){let{active:y}=p;a(t.onDragStart({active:y}))},onDragMove(p){let{active:y,over:v}=p;t.onDragMove&&a(t.onDragMove({active:y,over:v}))},onDragOver(p){let{active:y,over:v}=p;a(t.onDragOver({active:y,over:v}))},onDragEnd(p){let{active:y,over:v}=p;a(t.onDragEnd({active:y,over:v}))},onDragCancel(p){let{active:y,over:v}=p;a(t.onDragCancel({active:y,over:v}))}}),[a,t])),!u)return null;const m=me.createElement(me.Fragment,null,me.createElement(d7,{id:s,value:i.draggable}),me.createElement(u7,{id:d,announcement:l}));return n?Ar.createPortal(m,n):m}var tn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(tn||(tn={}));function Bu(){}function y7(e,t){return g.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function v7(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const Dr=Object.freeze({x:0,y:0});function b7(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function w7(e,t){const n=$u(e);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function j7(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return n-s}function S7(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function N7(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function P1(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const k7=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const i=P1(t,t.left,t.top),a=[];for(const l of s){const{id:d}=l,u=n.get(d);if(u){const f=b7(P1(u),i);a.push({id:d,data:{droppableContainer:l,value:f}})}}return a.sort(j7)};function C7(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),l=i-s,d=a-n;if(s<i&&n<a){const u=t.width*t.height,f=e.width*e.height,m=l*d,p=m/(u+f-m);return Number(p.toFixed(4))}return 0}const E7=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const i=[];for(const a of s){const{id:l}=a,d=n.get(l);if(d){const u=C7(d,t);u>0&&i.push({id:l,data:{droppableContainer:a,value:u}})}}return i.sort(S7)};function A7(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function kC(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Dr}function _7(e){return function(n){for(var s=arguments.length,i=new Array(s>1?s-1:0),a=1;a<s;a++)i[a-1]=arguments[a];return i.reduce((l,d)=>({...l,top:l.top+e*d.y,bottom:l.bottom+e*d.y,left:l.left+e*d.x,right:l.right+e*d.x}),{...n})}}const T7=_7(1);function CC(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function P7(e,t,n){const s=CC(t);if(!s)return e;const{scaleX:i,scaleY:a,x:l,y:d}=s,u=e.left-l-(1-i)*parseFloat(n),f=e.top-d-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),m=i?e.width/i:e.width,p=a?e.height/a:e.height;return{width:m,height:p,top:f,right:u+m,bottom:f+p,left:u}}const R7={ignoreTransform:!1};function Ca(e,t){t===void 0&&(t=R7);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:m}=On(e).getComputedStyle(e);f&&(n=P7(n,f,m))}const{top:s,left:i,width:a,height:l,bottom:d,right:u}=n;return{top:s,left:i,width:a,height:l,bottom:d,right:u}}function R1(e){return Ca(e,{ignoreTransform:!0})}function D7(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function O7(e,t){return t===void 0&&(t=On(e).getComputedStyle(e)),t.position==="fixed"}function I7(e,t){t===void 0&&(t=On(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?n.test(a):!1})}function L0(e,t){const n=[];function s(i){if(t!=null&&n.length>=t||!i)return n;if(B0(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!ac(i)||jC(i)||n.includes(i))return n;const a=On(e).getComputedStyle(i);return i!==e&&I7(i,a)&&n.push(i),O7(i,a)?n:s(i.parentNode)}return e?s(e):n}function EC(e){const[t]=L0(e,1);return t??null}function Xp(e){return!hh||!e?null:Na(e)?e:$0(e)?B0(e)||e===ka(e).scrollingElement?window:ac(e)?e:null:null}function AC(e){return Na(e)?e.scrollX:e.scrollLeft}function _C(e){return Na(e)?e.scrollY:e.scrollTop}function cg(e){return{x:AC(e),y:_C(e)}}var un;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(un||(un={}));function TC(e){return!hh||!e?!1:e===document.scrollingElement}function PC(e){const t={x:0,y:0},n=TC(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,l=e.scrollTop>=s.y,d=e.scrollLeft>=s.x;return{isTop:i,isLeft:a,isBottom:l,isRight:d,maxScroll:s,minScroll:t}}const F7={x:.2,y:.2};function M7(e,t,n,s,i){let{top:a,left:l,right:d,bottom:u}=n;s===void 0&&(s=10),i===void 0&&(i=F7);const{isTop:f,isBottom:m,isLeft:p,isRight:y}=PC(e),v={x:0,y:0},b={x:0,y:0},j={height:t.height*i.y,width:t.width*i.x};return!f&&a<=t.top+j.height?(v.y=un.Backward,b.y=s*Math.abs((t.top+j.height-a)/j.height)):!m&&u>=t.bottom-j.height&&(v.y=un.Forward,b.y=s*Math.abs((t.bottom-j.height-u)/j.height)),!y&&d>=t.right-j.width?(v.x=un.Forward,b.x=s*Math.abs((t.right-j.width-d)/j.width)):!p&&l<=t.left+j.width&&(v.x=un.Backward,b.x=s*Math.abs((t.left+j.width-l)/j.width)),{direction:v,speed:b}}function $7(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:l}=window;return{top:0,left:0,right:a,bottom:l,width:a,height:l}}const{top:t,left:n,right:s,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:i,width:e.clientWidth,height:e.clientHeight}}function RC(e){return e.reduce((t,n)=>sa(t,cg(n)),Dr)}function B7(e){return e.reduce((t,n)=>t+AC(n),0)}function L7(e){return e.reduce((t,n)=>t+_C(n),0)}function DC(e,t){if(t===void 0&&(t=Ca),!e)return;const{top:n,left:s,bottom:i,right:a}=t(e);EC(e)&&(i<=0||a<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const z7=[["x",["left","right"],B7],["y",["top","bottom"],L7]];class z0{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=L0(n),i=RC(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,l,d]of z7)for(const u of l)Object.defineProperty(this,u,{get:()=>{const f=d(s),m=i[a]-f;return this.rect[u]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Cl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var i;(i=this.target)==null||i.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function W7(e){const{EventTarget:t}=On(e);return e instanceof t?e:ka(e)}function Jp(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var dr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(dr||(dr={}));function D1(e){e.preventDefault()}function V7(e){e.stopPropagation()}var wt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(wt||(wt={}));const OC={start:[wt.Space,wt.Enter],cancel:[wt.Esc],end:[wt.Space,wt.Enter,wt.Tab]},U7=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case wt.Right:return{...n,x:n.x+25};case wt.Left:return{...n,x:n.x-25};case wt.Down:return{...n,y:n.y+25};case wt.Up:return{...n,y:n.y-25}}};class IC{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Cl(ka(n)),this.windowListeners=new Cl(On(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(dr.Resize,this.handleCancel),this.windowListeners.add(dr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(dr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&DC(s),n(Dr)}handleKeyDown(t){if(ph(t)){const{active:n,context:s,options:i}=this.props,{keyboardCodes:a=OC,coordinateGetter:l=U7,scrollBehavior:d="smooth"}=i,{code:u}=t;if(a.end.includes(u)){this.handleEnd(t);return}if(a.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:f}=s.current,m=f?{x:f.left,y:f.top}:Dr;this.referenceCoordinates||(this.referenceCoordinates=m);const p=l(t,{active:n,context:s.current,currentCoordinates:m});if(p){const y=Mu(p,m),v={x:0,y:0},{scrollableAncestors:b}=s.current;for(const j of b){const S=t.code,{isTop:N,isRight:C,isLeft:A,isBottom:E,maxScroll:_,minScroll:T}=PC(j),D=$7(j),R={x:Math.min(S===wt.Right?D.right-D.width/2:D.right,Math.max(S===wt.Right?D.left:D.left+D.width/2,p.x)),y:Math.min(S===wt.Down?D.bottom-D.height/2:D.bottom,Math.max(S===wt.Down?D.top:D.top+D.height/2,p.y))},V=S===wt.Right&&!C||S===wt.Left&&!A,G=S===wt.Down&&!E||S===wt.Up&&!N;if(V&&R.x!==p.x){const ne=j.scrollLeft+y.x,ie=S===wt.Right&&ne<=_.x||S===wt.Left&&ne>=T.x;if(ie&&!y.y){j.scrollTo({left:ne,behavior:d});return}ie?v.x=j.scrollLeft-ne:v.x=S===wt.Right?j.scrollLeft-_.x:j.scrollLeft-T.x,v.x&&j.scrollBy({left:-v.x,behavior:d});break}else if(G&&R.y!==p.y){const ne=j.scrollTop+y.y,ie=S===wt.Down&&ne<=_.y||S===wt.Up&&ne>=T.y;if(ie&&!y.x){j.scrollTo({top:ne,behavior:d});return}ie?v.y=j.scrollTop-ne:v.y=S===wt.Down?j.scrollTop-_.y:j.scrollTop-T.y,v.y&&j.scrollBy({top:-v.y,behavior:d});break}}this.handleMove(t,sa(Mu(p,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}IC.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=OC,onActivation:i}=t,{active:a}=n;const{code:l}=e.nativeEvent;if(s.start.includes(l)){const d=a.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function O1(e){return!!(e&&"distance"in e)}function I1(e){return!!(e&&"delay"in e)}class W0{constructor(t,n,s){var i;s===void 0&&(s=W7(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:l}=a;this.props=t,this.events=n,this.document=ka(l),this.documentListeners=new Cl(this.document),this.listeners=new Cl(s),this.windowListeners=new Cl(On(l)),this.initialCoordinates=(i=$u(a))!=null?i:Dr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(dr.Resize,this.handleCancel),this.windowListeners.add(dr.DragStart,D1),this.windowListeners.add(dr.VisibilityChange,this.handleCancel),this.windowListeners.add(dr.ContextMenu,D1),this.documentListeners.add(dr.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(I1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(O1(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:i}=this.props;i(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(dr.Click,V7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(dr.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:i,props:a}=this,{onMove:l,options:{activationConstraint:d}}=a;if(!i)return;const u=(n=$u(t))!=null?n:Dr,f=Mu(i,u);if(!s&&d){if(O1(d)){if(d.tolerance!=null&&Jp(f,d.tolerance))return this.handleCancel();if(Jp(f,d.distance))return this.handleStart()}if(I1(d)&&Jp(f,d.tolerance))return this.handleCancel();this.handlePending(d,f);return}t.cancelable&&t.preventDefault(),l(u)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===wt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const H7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class V0 extends W0{constructor(t){const{event:n}=t,s=ka(n.target);super(t,H7,s)}}V0.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const q7={move:{name:"mousemove"},end:{name:"mouseup"}};var dg;(function(e){e[e.RightClick=2]="RightClick"})(dg||(dg={}));class G7 extends W0{constructor(t){super(t,q7,ka(t.event.target))}}G7.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===dg.RightClick?!1:(s?.({event:n}),!0)}}];const Zp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class K7 extends W0{constructor(t){super(t,Zp)}static setup(){return window.addEventListener(Zp.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Zp.move.name,t)};function t(){}}}K7.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:i}=n;return i.length>1?!1:(s?.({event:n}),!0)}}];var El;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(El||(El={}));var Lu;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Lu||(Lu={}));function Y7(e){let{acceleration:t,activator:n=El.Pointer,canScroll:s,draggingRect:i,enabled:a,interval:l=5,order:d=Lu.TreeOrder,pointerCoordinates:u,scrollableAncestors:f,scrollableAncestorRects:m,delta:p,threshold:y}=e;const v=X7({delta:p,disabled:!a}),[b,j]=i7(),S=g.useRef({x:0,y:0}),N=g.useRef({x:0,y:0}),C=g.useMemo(()=>{switch(n){case El.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case El.DraggableRect:return i}},[n,i,u]),A=g.useRef(null),E=g.useCallback(()=>{const T=A.current;if(!T)return;const D=S.current.x*N.current.x,R=S.current.y*N.current.y;T.scrollBy(D,R)},[]),_=g.useMemo(()=>d===Lu.TreeOrder?[...f].reverse():f,[d,f]);g.useEffect(()=>{if(!a||!f.length||!C){j();return}for(const T of _){if(s?.(T)===!1)continue;const D=f.indexOf(T),R=m[D];if(!R)continue;const{direction:V,speed:G}=M7(T,R,C,t,y);for(const ne of["x","y"])v[ne][V[ne]]||(G[ne]=0,V[ne]=0);if(G.x>0||G.y>0){j(),A.current=T,b(E,l),S.current=G,N.current=V;return}}S.current={x:0,y:0},N.current={x:0,y:0},j()},[t,E,s,j,a,l,JSON.stringify(C),JSON.stringify(v),b,f,_,m,JSON.stringify(y)])}const Q7={x:{[un.Backward]:!1,[un.Forward]:!1},y:{[un.Backward]:!1,[un.Forward]:!1}};function X7(e){let{delta:t,disabled:n}=e;const s=Fu(t);return lc(i=>{if(n||!s||!i)return Q7;const a={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[un.Backward]:i.x[un.Backward]||a.x===-1,[un.Forward]:i.x[un.Forward]||a.x===1},y:{[un.Backward]:i.y[un.Backward]||a.y===-1,[un.Forward]:i.y[un.Forward]||a.y===1}}},[n,t,s])}function J7(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return lc(i=>{var a;return t==null?null:(a=s??i)!=null?a:null},[s,t])}function Z7(e,t){return g.useMemo(()=>e.reduce((n,s)=>{const{sensor:i}=s,a=i.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,s)}));return[...n,...a]},[]),[e,t])}var ql;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ql||(ql={}));var ug;(function(e){e.Optimized="optimized"})(ug||(ug={}));const F1=new Map;function ez(e,t){let{dragging:n,dependencies:s,config:i}=t;const[a,l]=g.useState(null),{frequency:d,measure:u,strategy:f}=i,m=g.useRef(e),p=S(),y=Hl(p),v=g.useCallback(function(N){N===void 0&&(N=[]),!y.current&&l(C=>C===null?N:C.concat(N.filter(A=>!C.includes(A))))},[y]),b=g.useRef(null),j=lc(N=>{if(p&&!n)return F1;if(!N||N===F1||m.current!==e||a!=null){const C=new Map;for(let A of e){if(!A)continue;if(a&&a.length>0&&!a.includes(A.id)&&A.rect.current){C.set(A.id,A.rect.current);continue}const E=A.node.current,_=E?new z0(u(E),E):null;A.rect.current=_,_&&C.set(A.id,_)}return C}return N},[e,a,n,p,u]);return g.useEffect(()=>{m.current=e},[e]),g.useEffect(()=>{p||v()},[n,p]),g.useEffect(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),g.useEffect(()=>{p||typeof d!="number"||b.current!==null||(b.current=setTimeout(()=>{v(),b.current=null},d))},[d,p,v,...s]),{droppableRects:j,measureDroppableContainers:v,measuringScheduled:a!=null};function S(){switch(f){case ql.Always:return!1;case ql.BeforeDragging:return n;default:return!n}}}function U0(e,t){return lc(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function tz(e,t){return U0(e,t)}function nz(e){let{callback:t,disabled:n}=e;const s=fh(t),i=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(s)},[s,n]);return g.useEffect(()=>()=>i?.disconnect(),[i]),i}function mh(e){let{callback:t,disabled:n}=e;const s=fh(t),i=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(s)},[n]);return g.useEffect(()=>()=>i?.disconnect(),[i]),i}function rz(e){return new z0(Ca(e),e)}function M1(e,t,n){t===void 0&&(t=rz);const[s,i]=g.useState(null);function a(){i(u=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=u??n)!=null?f:null}const m=t(e);return JSON.stringify(u)===JSON.stringify(m)?u:m})}const l=nz({callback(u){if(e)for(const f of u){const{type:m,target:p}=f;if(m==="childList"&&p instanceof HTMLElement&&p.contains(e)){a();break}}}}),d=mh({callback:a});return Rr(()=>{a(),e?(d?.observe(e),l?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),l?.disconnect())},[e]),s}function sz(e){const t=U0(e);return kC(e,t)}const $1=[];function iz(e){const t=g.useRef(e),n=lc(s=>e?s&&s!==$1&&e&&t.current&&e.parentNode===t.current.parentNode?s:L0(e):$1,[e]);return g.useEffect(()=>{t.current=e},[e]),n}function oz(e){const[t,n]=g.useState(null),s=g.useRef(e),i=g.useCallback(a=>{const l=Xp(a.target);l&&n(d=>d?(d.set(l,cg(l)),new Map(d)):null)},[]);return g.useEffect(()=>{const a=s.current;if(e!==a){l(a);const d=e.map(u=>{const f=Xp(u);return f?(f.addEventListener("scroll",i,{passive:!0}),[f,cg(f)]):null}).filter(u=>u!=null);n(d.length?new Map(d):null),s.current=e}return()=>{l(e),l(a)};function l(d){d.forEach(u=>{const f=Xp(u);f?.removeEventListener("scroll",i)})}},[i,e]),g.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,l)=>sa(a,l),Dr):RC(e):Dr,[e,t])}function B1(e,t){t===void 0&&(t=[]);const n=g.useRef(null);return g.useEffect(()=>{n.current=null},t),g.useEffect(()=>{const s=e!==Dr;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Mu(e,n.current):Dr}function az(e){g.useEffect(()=>{if(!hh)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function lz(e,t){return g.useMemo(()=>e.reduce((n,s)=>{let{eventName:i,handler:a}=s;return n[i]=l=>{a(l,t)},n},{}),[e,t])}function FC(e){return g.useMemo(()=>e?D7(e):null,[e])}const L1=[];function cz(e,t){t===void 0&&(t=Ca);const[n]=e,s=FC(n?On(n):null),[i,a]=g.useState(L1);function l(){a(()=>e.length?e.map(u=>TC(u)?s:new z0(t(u),u)):L1)}const d=mh({callback:l});return Rr(()=>{d?.disconnect(),l(),e.forEach(u=>d?.observe(u))},[e]),i}function MC(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ac(t)?t:e}function dz(e){let{measure:t}=e;const[n,s]=g.useState(null),i=g.useCallback(f=>{for(const{target:m}of f)if(ac(m)){s(p=>{const y=t(m);return p?{...p,width:y.width,height:y.height}:y});break}},[t]),a=mh({callback:i}),l=g.useCallback(f=>{const m=MC(f);a?.disconnect(),m&&a?.observe(m),s(m?t(m):null)},[t,a]),[d,u]=Iu(l);return g.useMemo(()=>({nodeRef:d,rect:n,setRef:u}),[n,d,u])}const uz=[{sensor:V0,options:{}},{sensor:IC,options:{}}],hz={current:{}},ou={draggable:{measure:R1},droppable:{measure:R1,strategy:ql.WhileDragging,frequency:ug.Optimized},dragOverlay:{measure:Ca}};class Al extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const fz={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Al,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Bu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ou,measureDroppableContainers:Bu,windowRect:null,measuringScheduled:!1},$C={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Bu,draggableNodes:new Map,over:null,measureDroppableContainers:Bu},dc=g.createContext($C),BC=g.createContext(fz);function pz(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Al}}}function mz(e,t){switch(t.type){case tn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case tn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case tn.DragEnd:case tn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case tn.RegisterDroppable:{const{element:n}=t,{id:s}=n,i=new Al(e.droppable.containers);return i.set(s,n),{...e,droppable:{...e.droppable,containers:i}}}case tn.SetDroppableDisabled:{const{id:n,key:s,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||s!==a.key)return e;const l=new Al(e.droppable.containers);return l.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:l}}}case tn.UnregisterDroppable:{const{id:n,key:s}=t,i=e.droppable.containers.get(n);if(!i||s!==i.key)return e;const a=new Al(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function gz(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:i}=g.useContext(dc),a=Fu(s),l=Fu(n?.id);return g.useEffect(()=>{if(!t&&!s&&a&&l!=null){if(!ph(a)||document.activeElement===a.target)return;const d=i.get(l);if(!d)return;const{activatorNode:u,node:f}=d;if(!u.current&&!f.current)return;requestAnimationFrame(()=>{for(const m of[u.current,f.current]){if(!m)continue;const p=l7(m);if(p){p.focus();break}}})}},[s,t,i,l,a]),null}function LC(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...s}),n):n}function xz(e){return g.useMemo(()=>({draggable:{...ou.draggable,...e?.draggable},droppable:{...ou.droppable,...e?.droppable},dragOverlay:{...ou.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function yz(e){let{activeNode:t,measure:n,initialRect:s,config:i=!0}=e;const a=g.useRef(!1),{x:l,y:d}=typeof i=="boolean"?{x:i,y:i}:i;Rr(()=>{if(!l&&!d||!t){a.current=!1;return}if(a.current||!s)return;const f=t?.node.current;if(!f||f.isConnected===!1)return;const m=n(f),p=kC(m,s);if(l||(p.x=0),d||(p.y=0),a.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const y=EC(f);y&&y.scrollBy({top:p.y,left:p.x})}},[t,l,d,s,n])}const gh=g.createContext({...Dr,scaleX:1,scaleY:1});var Ks;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ks||(Ks={}));const vz=g.memo(function(t){var n,s,i,a;let{id:l,accessibility:d,autoScroll:u=!0,children:f,sensors:m=uz,collisionDetection:p=E7,measuring:y,modifiers:v,...b}=t;const j=g.useReducer(mz,void 0,pz),[S,N]=j,[C,A]=p7(),[E,_]=g.useState(Ks.Uninitialized),T=E===Ks.Initialized,{draggable:{active:D,nodes:R,translate:V},droppable:{containers:G}}=S,ne=D!=null?R.get(D):null,ie=g.useRef({initial:null,translated:null}),oe=g.useMemo(()=>{var pe;return D!=null?{id:D,data:(pe=ne?.data)!=null?pe:hz,rect:ie}:null},[D,ne]),Z=g.useRef(null),[F,z]=g.useState(null),[B,O]=g.useState(null),$=Hl(b,Object.values(b)),q=cc("DndDescribedBy",l),M=g.useMemo(()=>G.getEnabled(),[G]),W=xz(y),{droppableRects:L,measureDroppableContainers:K,measuringScheduled:U}=ez(M,{dragging:T,dependencies:[V.x,V.y],config:W.droppable}),ee=J7(R,D),Y=g.useMemo(()=>B?$u(B):null,[B]),le=we(),fe=tz(ee,W.draggable.measure);yz({activeNode:D!=null?R.get(D):null,config:le.layoutShiftCompensation,initialRect:fe,measure:W.draggable.measure});const ue=M1(ee,W.draggable.measure,fe),Se=M1(ee?ee.parentElement:null),Pe=g.useRef({activatorEvent:null,active:null,activeNode:ee,collisionRect:null,collisions:null,droppableRects:L,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:G,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ye=G.getNodeFor((n=Pe.current.over)==null?void 0:n.id),Ze=dz({measure:W.dragOverlay.measure}),ye=(s=Ze.nodeRef.current)!=null?s:ee,re=T?(i=Ze.rect)!=null?i:ue:null,ve=!!(Ze.nodeRef.current&&Ze.rect),Qe=sz(ve?null:ue),lt=FC(ye?On(ye):null),ct=iz(T?Ye??ee:null),vt=cz(ct),ut=LC(v,{transform:{x:V.x-Qe.x,y:V.y-Qe.y,scaleX:1,scaleY:1},activatorEvent:B,active:oe,activeNodeRect:ue,containerNodeRect:Se,draggingNodeRect:re,over:Pe.current.over,overlayNodeRect:Ze.rect,scrollableAncestors:ct,scrollableAncestorRects:vt,windowRect:lt}),Ce=Y?sa(Y,V):null,et=oz(ct),he=B1(et),ge=B1(et,[ue]),Te=sa(ut,he),De=re?T7(re,ut):null,qe=oe&&De?p({active:oe,collisionRect:De,droppableRects:L,droppableContainers:M,pointerCoordinates:Ce}):null,mt=N7(qe,"id"),[jt,Et]=g.useState(null),In=ve?ut:sa(ut,ge),rn=A7(In,(a=jt?.rect)!=null?a:null,ue),vn=g.useRef(null),sn=g.useCallback((pe,Ie)=>{let{sensor:J,options:xe}=Ie;if(Z.current==null)return;const Ee=R.get(Z.current);if(!Ee)return;const Le=pe.nativeEvent,rt=new J({active:Z.current,activeNode:Ee,event:Le,options:xe,context:Pe,onAbort(We){if(!R.get(We))return;const{onDragAbort:gt}=$.current,St={id:We};gt?.(St),C({type:"onDragAbort",event:St})},onPending(We,xt,gt,St){if(!R.get(We))return;const{onDragPending:Ot}=$.current,Ae={id:We,constraint:xt,initialCoordinates:gt,offset:St};Ot?.(Ae),C({type:"onDragPending",event:Ae})},onStart(We){const xt=Z.current;if(xt==null)return;const gt=R.get(xt);if(!gt)return;const{onDragStart:St}=$.current,fn={activatorEvent:Le,active:{id:xt,data:gt.data,rect:ie}};Ar.unstable_batchedUpdates(()=>{St?.(fn),_(Ks.Initializing),N({type:tn.DragStart,initialCoordinates:We,active:xt}),C({type:"onDragStart",event:fn}),z(vn.current),O(Le)})},onMove(We){N({type:tn.DragMove,coordinates:We})},onEnd:it(tn.DragEnd),onCancel:it(tn.DragCancel)});vn.current=rt;function it(We){return async function(){const{active:gt,collisions:St,over:fn,scrollAdjustedTranslate:Ot}=Pe.current;let Ae=null;if(gt&&Ot){const{cancelDrop:Ve}=$.current;Ae={activatorEvent:Le,active:gt,collisions:St,delta:Ot,over:fn},We===tn.DragEnd&&typeof Ve=="function"&&await Promise.resolve(Ve(Ae))&&(We=tn.DragCancel)}Z.current=null,Ar.unstable_batchedUpdates(()=>{N({type:We}),_(Ks.Uninitialized),Et(null),z(null),O(null),vn.current=null;const Ve=We===tn.DragEnd?"onDragEnd":"onDragCancel";if(Ae){const Re=$.current[Ve];Re?.(Ae),C({type:Ve,event:Ae})}})}}},[R]),_n=g.useCallback((pe,Ie)=>(J,xe)=>{const Ee=J.nativeEvent,Le=R.get(xe);if(Z.current!==null||!Le||Ee.dndKit||Ee.defaultPrevented)return;const rt={active:Le};pe(J,Ie.options,rt)===!0&&(Ee.dndKit={capturedBy:Ie.sensor},Z.current=xe,sn(J,Ie))},[R,sn]),on=Z7(m,_n);az(m),Rr(()=>{ue&&E===Ks.Initializing&&_(Ks.Initialized)},[ue,E]),g.useEffect(()=>{const{onDragMove:pe}=$.current,{active:Ie,activatorEvent:J,collisions:xe,over:Ee}=Pe.current;if(!Ie||!J)return;const Le={active:Ie,activatorEvent:J,collisions:xe,delta:{x:Te.x,y:Te.y},over:Ee};Ar.unstable_batchedUpdates(()=>{pe?.(Le),C({type:"onDragMove",event:Le})})},[Te.x,Te.y]),g.useEffect(()=>{const{active:pe,activatorEvent:Ie,collisions:J,droppableContainers:xe,scrollAdjustedTranslate:Ee}=Pe.current;if(!pe||Z.current==null||!Ie||!Ee)return;const{onDragOver:Le}=$.current,rt=xe.get(mt),it=rt&&rt.rect.current?{id:rt.id,rect:rt.rect.current,data:rt.data,disabled:rt.disabled}:null,We={active:pe,activatorEvent:Ie,collisions:J,delta:{x:Ee.x,y:Ee.y},over:it};Ar.unstable_batchedUpdates(()=>{Et(it),Le?.(We),C({type:"onDragOver",event:We})})},[mt]),Rr(()=>{Pe.current={activatorEvent:B,active:oe,activeNode:ee,collisionRect:De,collisions:qe,droppableRects:L,draggableNodes:R,draggingNode:ye,draggingNodeRect:re,droppableContainers:G,over:jt,scrollableAncestors:ct,scrollAdjustedTranslate:Te},ie.current={initial:re,translated:De}},[oe,ee,qe,De,R,ye,re,L,G,jt,ct,Te]),Y7({...le,delta:V,draggingRect:De,pointerCoordinates:Ce,scrollableAncestors:ct,scrollableAncestorRects:vt});const at=g.useMemo(()=>({active:oe,activeNode:ee,activeNodeRect:ue,activatorEvent:B,collisions:qe,containerNodeRect:Se,dragOverlay:Ze,draggableNodes:R,droppableContainers:G,droppableRects:L,over:jt,measureDroppableContainers:K,scrollableAncestors:ct,scrollableAncestorRects:vt,measuringConfiguration:W,measuringScheduled:U,windowRect:lt}),[oe,ee,ue,B,qe,Se,Ze,R,G,L,jt,K,ct,vt,W,U,lt]),Q=g.useMemo(()=>({activatorEvent:B,activators:on,active:oe,activeNodeRect:ue,ariaDescribedById:{draggable:q},dispatch:N,draggableNodes:R,over:jt,measureDroppableContainers:K}),[B,on,oe,ue,N,q,R,jt,K]);return me.createElement(NC.Provider,{value:A},me.createElement(dc.Provider,{value:Q},me.createElement(BC.Provider,{value:at},me.createElement(gh.Provider,{value:rn},f)),me.createElement(gz,{disabled:d?.restoreFocus===!1})),me.createElement(x7,{...d,hiddenTextDescribedById:q}));function we(){const pe=F?.autoScrollEnabled===!1,Ie=typeof u=="object"?u.enabled===!1:u===!1,J=T&&!pe&&!Ie;return typeof u=="object"?{...u,enabled:J}:{enabled:J}}}),bz=g.createContext(null),z1="button",wz="Draggable";function jz(e){let{id:t,data:n,disabled:s=!1,attributes:i}=e;const a=cc(wz),{activators:l,activatorEvent:d,active:u,activeNodeRect:f,ariaDescribedById:m,draggableNodes:p,over:y}=g.useContext(dc),{role:v=z1,roleDescription:b="draggable",tabIndex:j=0}=i??{},S=u?.id===t,N=g.useContext(S?gh:bz),[C,A]=Iu(),[E,_]=Iu(),T=lz(l,t),D=Hl(n);Rr(()=>(p.set(t,{id:t,key:a,node:C,activatorNode:E,data:D}),()=>{const V=p.get(t);V&&V.key===a&&p.delete(t)}),[p,t]);const R=g.useMemo(()=>({role:v,tabIndex:j,"aria-disabled":s,"aria-pressed":S&&v===z1?!0:void 0,"aria-roledescription":b,"aria-describedby":m.draggable}),[s,v,j,S,b,m.draggable]);return{active:u,activatorEvent:d,activeNodeRect:f,attributes:R,isDragging:S,listeners:s?void 0:T,node:C,over:y,setNodeRef:A,setActivatorNodeRef:_,transform:N}}function zC(){return g.useContext(BC)}const Sz="Droppable",Nz={timeout:25};function WC(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:i}=e;const a=cc(Sz),{active:l,dispatch:d,over:u,measureDroppableContainers:f}=g.useContext(dc),m=g.useRef({disabled:n}),p=g.useRef(!1),y=g.useRef(null),v=g.useRef(null),{disabled:b,updateMeasurementsFor:j,timeout:S}={...Nz,...i},N=Hl(j??s),C=g.useCallback(()=>{if(!p.current){p.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{f(Array.isArray(N.current)?N.current:[N.current]),v.current=null},S)},[S]),A=mh({callback:C,disabled:b||!l}),E=g.useCallback((R,V)=>{A&&(V&&(A.unobserve(V),p.current=!1),R&&A.observe(R))},[A]),[_,T]=Iu(E),D=Hl(t);return g.useEffect(()=>{!A||!_.current||(A.disconnect(),p.current=!1,A.observe(_.current))},[_,A]),g.useEffect(()=>(d({type:tn.RegisterDroppable,element:{id:s,key:a,disabled:n,node:_,rect:y,data:D}}),()=>d({type:tn.UnregisterDroppable,key:a,id:s})),[s]),g.useEffect(()=>{n!==m.current.disabled&&(d({type:tn.SetDroppableDisabled,id:s,key:a,disabled:n}),m.current.disabled=n)},[s,a,n,d]),{active:l,rect:y,isOver:u?.id===s,node:_,over:u,setNodeRef:T}}function kz(e){let{animation:t,children:n}=e;const[s,i]=g.useState(null),[a,l]=g.useState(null),d=Fu(n);return!n&&!s&&d&&i(d),Rr(()=>{if(!a)return;const u=s?.key,f=s?.props.id;if(u==null||f==null){i(null);return}Promise.resolve(t(f,a)).then(()=>{i(null)})},[t,s,a]),me.createElement(me.Fragment,null,n,s?g.cloneElement(s,{ref:l}):null)}const Cz={x:0,y:0,scaleX:1,scaleY:1};function Ez(e){let{children:t}=e;return me.createElement(dc.Provider,{value:$C},me.createElement(gh.Provider,{value:Cz},t))}const Az={position:"fixed",touchAction:"none"},_z=e=>ph(e)?"transform 250ms ease":void 0,Tz=g.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:i,children:a,className:l,rect:d,style:u,transform:f,transition:m=_z}=e;if(!d)return null;const p=i?f:{...f,scaleX:1,scaleY:1},y={...Az,width:d.width,height:d.height,top:d.top,left:d.left,transform:ti.Transform.toString(p),transformOrigin:i&&s?w7(s,d):void 0,transition:typeof m=="function"?m(s):m,...u};return me.createElement(n,{className:l,style:y,ref:t},a)}),Pz=e=>t=>{let{active:n,dragOverlay:s}=t;const i={},{styles:a,className:l}=e;if(a!=null&&a.active)for(const[d,u]of Object.entries(a.active))u!==void 0&&(i[d]=n.node.style.getPropertyValue(d),n.node.style.setProperty(d,u));if(a!=null&&a.dragOverlay)for(const[d,u]of Object.entries(a.dragOverlay))u!==void 0&&s.node.style.setProperty(d,u);return l!=null&&l.active&&n.node.classList.add(l.active),l!=null&&l.dragOverlay&&s.node.classList.add(l.dragOverlay),function(){for(const[u,f]of Object.entries(i))n.node.style.setProperty(u,f);l!=null&&l.active&&n.node.classList.remove(l.active)}},Rz=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:ti.Transform.toString(t)},{transform:ti.Transform.toString(n)}]},Dz={duration:250,easing:"ease",keyframes:Rz,sideEffects:Pz({styles:{active:{opacity:"0"}}})};function Oz(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:i}=e;return fh((a,l)=>{if(t===null)return;const d=n.get(a);if(!d)return;const u=d.node.current;if(!u)return;const f=MC(l);if(!f)return;const{transform:m}=On(l).getComputedStyle(l),p=CC(m);if(!p)return;const y=typeof t=="function"?t:Iz(t);return DC(u,i.draggable.measure),y({active:{id:a,data:d.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:l,rect:i.dragOverlay.measure(f)},droppableContainers:s,measuringConfiguration:i,transform:p})})}function Iz(e){const{duration:t,easing:n,sideEffects:s,keyframes:i}={...Dz,...e};return a=>{let{active:l,dragOverlay:d,transform:u,...f}=a;if(!t)return;const m={x:d.rect.left-l.rect.left,y:d.rect.top-l.rect.top},p={scaleX:u.scaleX!==1?l.rect.width*u.scaleX/d.rect.width:1,scaleY:u.scaleY!==1?l.rect.height*u.scaleY/d.rect.height:1},y={x:u.x-m.x,y:u.y-m.y,...p},v=i({...f,active:l,dragOverlay:d,transform:{initial:u,final:y}}),[b]=v,j=v[v.length-1];if(JSON.stringify(b)===JSON.stringify(j))return;const S=s?.({active:l,dragOverlay:d,...f}),N=d.node.animate(v,{duration:t,easing:n,fill:"forwards"});return new Promise(C=>{N.onfinish=()=>{S?.(),C()}})}}let W1=0;function Fz(e){return g.useMemo(()=>{if(e!=null)return W1++,W1},[e])}const Mz=me.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:i,transition:a,modifiers:l,wrapperElement:d="div",className:u,zIndex:f=999}=e;const{activatorEvent:m,active:p,activeNodeRect:y,containerNodeRect:v,draggableNodes:b,droppableContainers:j,dragOverlay:S,over:N,measuringConfiguration:C,scrollableAncestors:A,scrollableAncestorRects:E,windowRect:_}=zC(),T=g.useContext(gh),D=Fz(p?.id),R=LC(l,{activatorEvent:m,active:p,activeNodeRect:y,containerNodeRect:v,draggingNodeRect:S.rect,over:N,overlayNodeRect:S.rect,scrollableAncestors:A,scrollableAncestorRects:E,transform:T,windowRect:_}),V=U0(y),G=Oz({config:s,draggableNodes:b,droppableContainers:j,measuringConfiguration:C}),ne=V?S.setRef:void 0;return me.createElement(Ez,null,me.createElement(kz,{animation:G},p&&D?me.createElement(Tz,{key:D,id:p.id,ref:ne,as:d,activatorEvent:m,adjustScale:t,className:u,transition:a,rect:V,style:{zIndex:f,...i},transform:R},n):null))});function VC(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function $z(e,t){return e.reduce((n,s,i)=>{const a=t.get(s);return a&&(n[i]=a),n},Array(e.length))}function Vd(e){return e!==null&&e>=0}function Bz(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Lz(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const UC=e=>{let{rects:t,activeIndex:n,overIndex:s,index:i}=e;const a=VC(t,s,n),l=t[i],d=a[i];return!d||!l?null:{x:d.left-l.left,y:d.top-l.top,scaleX:d.width/l.width,scaleY:d.height/l.height}},Ud={scaleX:1,scaleY:1},zz=e=>{var t;let{activeIndex:n,activeNodeRect:s,index:i,rects:a,overIndex:l}=e;const d=(t=a[n])!=null?t:s;if(!d)return null;if(i===n){const f=a[l];return f?{x:0,y:n<l?f.top+f.height-(d.top+d.height):f.top-d.top,...Ud}:null}const u=Wz(a,i,n);return i>n&&i<=l?{x:0,y:-d.height-u,...Ud}:i<n&&i>=l?{x:0,y:d.height+u,...Ud}:{x:0,y:0,...Ud}};function Wz(e,t,n){const s=e[t],i=e[t-1],a=e[t+1];return s?n<t?i?s.top-(i.top+i.height):a?a.top-(s.top+s.height):0:a?a.top-(s.top+s.height):i?s.top-(i.top+i.height):0:0}const HC="Sortable",qC=me.createContext({activeIndex:-1,containerId:HC,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:UC,disabled:{draggable:!1,droppable:!1}});function Vz(e){let{children:t,id:n,items:s,strategy:i=UC,disabled:a=!1}=e;const{active:l,dragOverlay:d,droppableRects:u,over:f,measureDroppableContainers:m}=zC(),p=cc(HC,n),y=d.rect!==null,v=g.useMemo(()=>s.map(T=>typeof T=="object"&&"id"in T?T.id:T),[s]),b=l!=null,j=l?v.indexOf(l.id):-1,S=f?v.indexOf(f.id):-1,N=g.useRef(v),C=!Bz(v,N.current),A=S!==-1&&j===-1||C,E=Lz(a);Rr(()=>{C&&b&&m(v)},[C,v,b,m]),g.useEffect(()=>{N.current=v},[v]);const _=g.useMemo(()=>({activeIndex:j,containerId:p,disabled:E,disableTransforms:A,items:v,overIndex:S,useDragOverlay:y,sortedRects:$z(v,u),strategy:i}),[j,p,E.draggable,E.droppable,A,v,S,u,y,i]);return me.createElement(qC.Provider,{value:_},t)}const Uz=e=>{let{id:t,items:n,activeIndex:s,overIndex:i}=e;return VC(n,s,i).indexOf(t)},Hz=e=>{let{containerId:t,isSorting:n,wasDragging:s,index:i,items:a,newIndex:l,previousItems:d,previousContainerId:u,transition:f}=e;return!f||!s||d!==a&&i===l?!1:n?!0:l!==i&&t===u},qz={duration:200,easing:"ease"},GC="transform",Gz=ti.Transition.toString({property:GC,duration:0,easing:"linear"}),Kz={roleDescription:"sortable"};function Yz(e){let{disabled:t,index:n,node:s,rect:i}=e;const[a,l]=g.useState(null),d=g.useRef(n);return Rr(()=>{if(!t&&n!==d.current&&s.current){const u=i.current;if(u){const f=Ca(s.current,{ignoreTransform:!0}),m={x:u.left-f.left,y:u.top-f.top,scaleX:u.width/f.width,scaleY:u.height/f.height};(m.x||m.y)&&l(m)}}n!==d.current&&(d.current=n)},[t,n,s,i]),g.useEffect(()=>{a&&l(null)},[a]),a}function Qz(e){let{animateLayoutChanges:t=Hz,attributes:n,disabled:s,data:i,getNewIndex:a=Uz,id:l,strategy:d,resizeObserverConfig:u,transition:f=qz}=e;const{items:m,containerId:p,activeIndex:y,disabled:v,disableTransforms:b,sortedRects:j,overIndex:S,useDragOverlay:N,strategy:C}=g.useContext(qC),A=Xz(s,v),E=m.indexOf(l),_=g.useMemo(()=>({sortable:{containerId:p,index:E,items:m},...i}),[p,i,E,m]),T=g.useMemo(()=>m.slice(m.indexOf(l)),[m,l]),{rect:D,node:R,isOver:V,setNodeRef:G}=WC({id:l,data:_,disabled:A.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...u}}),{active:ne,activatorEvent:ie,activeNodeRect:oe,attributes:Z,setNodeRef:F,listeners:z,isDragging:B,over:O,setActivatorNodeRef:$,transform:q}=jz({id:l,data:_,attributes:{...Kz,...n},disabled:A.draggable}),M=s7(G,F),W=!!ne,L=W&&!b&&Vd(y)&&Vd(S),K=!N&&B,U=K&&L?q:null,Y=L?U??(d??C)({rects:j,activeNodeRect:oe,activeIndex:y,overIndex:S,index:E}):null,le=Vd(y)&&Vd(S)?a({id:l,items:m,activeIndex:y,overIndex:S}):E,fe=ne?.id,ue=g.useRef({activeId:fe,items:m,newIndex:le,containerId:p}),Se=m!==ue.current.items,Pe=t({active:ne,containerId:p,isDragging:B,isSorting:W,id:l,index:E,items:m,newIndex:ue.current.newIndex,previousItems:ue.current.items,previousContainerId:ue.current.containerId,transition:f,wasDragging:ue.current.activeId!=null}),Ye=Yz({disabled:!Pe,index:E,node:R,rect:D});return g.useEffect(()=>{W&&ue.current.newIndex!==le&&(ue.current.newIndex=le),p!==ue.current.containerId&&(ue.current.containerId=p),m!==ue.current.items&&(ue.current.items=m)},[W,le,p,m]),g.useEffect(()=>{if(fe===ue.current.activeId)return;if(fe!=null&&ue.current.activeId==null){ue.current.activeId=fe;return}const ye=setTimeout(()=>{ue.current.activeId=fe},50);return()=>clearTimeout(ye)},[fe]),{active:ne,activeIndex:y,attributes:Z,data:_,rect:D,index:E,newIndex:le,items:m,isOver:V,isSorting:W,isDragging:B,listeners:z,node:R,overIndex:S,over:O,setNodeRef:M,setActivatorNodeRef:$,setDroppableNodeRef:G,setDraggableNodeRef:F,transform:Ye??Y,transition:Ze()};function Ze(){if(Ye||Se&&ue.current.newIndex===E)return Gz;if(!(K&&!ph(ie)||!f)&&(W||Pe))return ti.Transition.toString({...f,property:GC})}}function Xz(e,t){var n,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(s=e?.droppable)!=null?s:t.droppable}}wt.Down,wt.Right,wt.Up,wt.Left;const Do=`https://${Ge}.supabase.co/functions/v1/server/admin`,ls={async getCategories(e){return(await(await fetch(`${Do}/categories`,{headers:{Authorization:`Bearer ${e}`}})).json()).categories||[]},async getVocabularies(e,t){const s=await(await fetch(`${Do}/shared-vocabularies`,{headers:{Authorization:`Bearer ${e}`}})).json();return s.vocabularies?t?s.vocabularies.filter(i=>i.category===t):s.vocabularies:[]},async updateVocabulary(e,t,n){if(!(await fetch(`${Do}/shared-vocabularies/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(n)})).ok)throw new Error("Failed to update vocabulary")},async deleteVocabulary(e,t){const n=await fetch(`${Do}/shared-vocabularies/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(!n.ok){const s=await n.json().catch(()=>({})),i=s.error||`Failed to delete vocabulary (${n.status})`;throw console.error("Delete vocabulary error:",s),new Error(i)}},async mergeVocabularies(e,t,n,s){const i=await fetch(`${Do}/shared-vocabularies/merge`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({targetVocabId:t,sourceVocabIds:n,newTitle:s})});if(!i.ok){const a=await i.json().catch(()=>({})),l=a.error||`Failed to merge vocabularies (${i.status})`;throw console.error("Merge error details:",a),new Error(l)}},async deleteCategory(e,t){if(!(await fetch(`${Do}/categories/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).ok)throw new Error("Failed to delete category")}};function Jz({vocabulary:e,isSelected:t,onToggleSelect:n,onEdit:s,onDelete:i}){const{attributes:a,listeners:l,setNodeRef:d,transform:u,transition:f,isDragging:m}=Qz({id:e.id}),p={transform:ti.Transform.toString(u),transition:f,opacity:m?.5:1};return r.jsx("div",{ref:d,style:p,className:`bg-white rounded-lg p-4 shadow-sm border-2 transition-all ${t?"border-[#8B5CF6] bg-purple-50":"border-gray-200 hover:border-gray-300"} ${m?"cursor-grabbing":"cursor-grab"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:t,onChange:()=>n(e.id),className:"w-5 h-5 rounded border-gray-300 text-[#8B5CF6] focus:ring-[#8B5CF6] cursor-pointer",onClick:y=>y.stopPropagation()}),r.jsx("div",{...a,...l,className:"flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded cursor-grab active:cursor-grabbing",children:r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold text-[#491B6D]",children:e.title}),r.jsxs("div",{className:"text-sm text-gray-500",children:[e.total_words||e.words?.length||0," ",e.description&&`  ${e.description}`]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(I.button,{whileTap:{scale:.95},onClick:y=>{y.stopPropagation(),s(e)},className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",children:r.jsx(i0,{className:"w-4 h-4 text-blue-600"})}),r.jsx(I.button,{whileTap:{scale:.95},onClick:y=>{y.stopPropagation(),i(e.id)},className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(bs,{className:"w-4 h-4 text-red-500"})})]})]})})}function Zz({selectedVocabularies:e,onMerge:t,onClose:n}){const[s,i]=g.useState(e[0]?.id||""),[a,l]=g.useState(""),d=()=>{if(!s){alert("   .");return}t(s,a||e.find(f=>f.id===s)?.title||" ")},u=e.reduce((f,m)=>f+(m.total_words||m.words?.length||0),0);return r.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/50",children:r.jsxs(I.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-4 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#491B6D] to-[#5E2278] p-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(fS,{className:"w-6 h-6"}),r.jsx("h2",{className:"text-xl font-bold",children:" "})]}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:r.jsx(yn,{className:"w-5 h-5"})})]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:["  (",e.length,")"]}),r.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:e.map(f=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[r.jsx("input",{type:"radio",name:"target",value:f.id,checked:s===f.id,onChange:m=>i(m.target.value),className:"w-4 h-4 text-[#8B5CF6] focus:ring-[#8B5CF6]"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900",children:f.title}),r.jsxs("div",{className:"text-xs text-gray-500",children:[f.total_words||f.words?.length||0," "]})]})]},f.id))}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"*        "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"   ()"}),r.jsx("input",{type:"text",value:a,onChange:f=>l(f.target.value),placeholder:e.find(f=>f.id===s)?.title||" ",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B5CF6]/30"})]}),r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-purple-900 mb-2",children:"  "}),r.jsxs("div",{className:"text-sm text-purple-700 space-y-1",children:[r.jsxs("p",{children:["  : ",u,""]}),r.jsxs("p",{children:[" : ",e.length-1,"    ,  ."]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(I.button,{whileTap:{scale:.98},onClick:d,className:"flex-1 bg-gradient-to-r from-[#491B6D] to-[#5E2278] text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-shadow",children:""}),r.jsx(I.button,{whileTap:{scale:.98},onClick:n,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition-colors",children:""})]})]})]})})}function eW({category:e,isExpanded:t,isSelected:n,onToggle:s,onToggleSelect:i,onEdit:a}){const{setNodeRef:l,isOver:d}=WC({id:`category-${e.id}`,data:{type:"category",category:e.name}});return r.jsx("div",{ref:l,className:`p-6 flex items-center justify-between transition-all ${d?"bg-purple-100 border-l-4 border-[#8B5CF6]":"hover:bg-gray-50"}`,children:r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsx("div",{onClick:u=>{u.stopPropagation(),i()},className:"cursor-pointer",children:n?r.jsx(vu,{className:"w-5 h-5 text-[#8B5CF6]"}):r.jsx(Ml,{className:"w-5 h-5 text-gray-400"})}),r.jsxs("div",{className:"flex items-center gap-4 flex-1 cursor-pointer",onClick:s,children:[r.jsx("div",{className:"text-3xl",children:e.icon}),r.jsxs("div",{children:[r.jsx("div",{style:{fontWeight:600,color:"#491B6D"},children:e.name}),r.jsx("div",{className:"text-sm text-gray-500",children:d?"  ":`ID: ${e.id}`})]})]}),a&&r.jsx(i0,{className:"w-5 h-5 text-blue-500 cursor-pointer hover:text-blue-700 mr-2",onClick:u=>{u.stopPropagation(),a()}}),r.jsx(Hn,{className:`w-5 h-5 text-gray-400 transition-transform cursor-pointer ${t?"rotate-180":""}`,onClick:s})]})})}function tW({getAuthToken:e,onUpdate:t}){const[n,s]=g.useState([]),[i,a]=g.useState([]),[l,d]=g.useState(!0),[u,f]=g.useState(null),[m,p]=g.useState(new Set),[y,v]=g.useState(new Set),[b,j]=g.useState(!1),[S,N]=g.useState(null),[C,A]=g.useState(null),[E,_]=g.useState(""),[T,D]=g.useState(""),[R,V]=g.useState({name:"",icon:""}),[G,ne]=g.useState(null),[ie,oe]=g.useState(""),[Z,F]=g.useState(""),z=v7(y7(V0,{activationConstraint:{distance:8}}));g.useEffect(()=>{B()},[]);const B=async()=>{try{const ye=e();if(!ye)return;d(!0);const re=await ls.getCategories(ye);s(re)}catch(ye){console.error("Error loading categories:",ye),de.error("  ")}finally{d(!1)}},O=async ye=>{const re=e();if(re)try{const ve=await ls.getVocabularies(re,ye);a(ve)}catch(ve){console.error("Error loading vocabularies:",ve),de.error("  ")}},$=async(ye,re)=>{u===ye?(f(null),a([]),p(new Set)):(f(ye),await O(re))},q=ye=>{v(re=>{const ve=new Set(re);return ve.has(ye)?ve.delete(ye):ve.add(ye),ve})},M=ye=>{A(ye.id),_(ye.name),D(ye.icon)},W=async()=>{if(!C)return;const ye=e();if(ye)try{await ls.updateCategory(ye,C,{name:E,icon:T}),de.success(" !"),A(null),await B(),t?.()}catch(re){console.error("Error updating category:",re),de.error("  ")}},L=async()=>{if(y.size===0||!confirm(`  ${y.size}  ?`))return;const ye=e();if(ye)try{const re=Array.from(y).map(ve=>ls.deleteCategory(ye,ve));await Promise.all(re),de.success(`${y.size}  .`),v(new Set),await B(),t?.()}catch(re){console.error("Error deleting categories:",re),de.error("  ")}},K=ye=>{p(re=>{const ve=new Set(re);return ve.has(ye)?ve.delete(ye):ve.add(ye),ve})},U=()=>{m.size===i.length?p(new Set):p(new Set(i.map(ye=>ye.id)))},ee=async(ye,re)=>{const ve=e();if(!ve)return;const Qe=Array.from(m).filter(lt=>lt!==ye);try{await ls.mergeVocabularies(ve,ye,Qe,re),de.success(" !"),j(!1),p(new Set);const lt=n.find(ct=>ct.id===u);lt&&await O(lt.name),t?.()}catch(lt){console.error("Error merging vocabularies:",lt),de.error(" ")}},Y=async ye=>{if(!confirm("   ?"))return;const re=e();if(re)try{await ls.deleteVocabulary(re,ye),de.success(" .");const ve=n.find(Qe=>Qe.id===u);ve&&await O(ve.name),t?.()}catch(ve){console.error("Error deleting vocabulary:",ve),de.error(" ")}},le=ye=>{ne(ye),oe(ye.title),F(ye.description||"")},fe=async()=>{if(!G)return;const ye=e();if(ye)try{await ls.updateVocabulary(ye,G.id,{title:ie,description:Z}),de.success(" !"),ne(null);const re=n.find(ve=>ve.id===u);re&&await O(re.name),t?.()}catch(re){console.error("Error updating vocabulary:",re),de.error(" ")}},ue=ye=>{N(ye.active.id)},Se=async ye=>{const{active:re,over:ve}=ye;if(N(null),!ve)return;const Qe=i.find(ct=>ct.id===re.id);if(!Qe)return;const lt=String(ve.id);if(lt.startsWith("category-")){const ct=lt.replace("category-",""),vt=n.find(ut=>ut.id===ct);vt&&Qe.category!==vt.name&&await Pe(Qe.id,vt.name)}},Pe=async(ye,re)=>{const ve=e();if(ve)try{await ls.updateVocabulary(ve,ye,{category:re}),de.success(` "${re}"  !`);const Qe=n.find(lt=>lt.id===u);Qe&&await O(Qe.name),t?.()}catch(Qe){console.error("Error moving vocabulary:",Qe),de.error(" ")}},Ye=i.filter(ye=>m.has(ye.id)),Ze=S?i.find(ye=>ye.id===S):null;return r.jsxs(vz,{sensors:z,collisionDetection:k7,onDragStart:ue,onDragEnd:Se,children:[r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl mb-2",style:{fontWeight:700,color:"#491B6D"},children:"  "}),r.jsx("p",{className:"text-gray-600",children:"         "})]}),y.size>0&&r.jsxs(I.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 bg-red-50 border border-red-200 rounded-2xl p-4 flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("span",{className:"text-red-900 font-semibold",children:[y.size,"  "]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(I.button,{whileTap:{scale:.95},onClick:L,className:"px-4 py-2 bg-red-600 text-white rounded-lg flex items-center gap-2 font-semibold hover:shadow-lg transition-shadow",children:[r.jsx(bs,{className:"w-4 h-4"})," "]}),r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>v(new Set),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold",children:" "})]})]}),m.size>0&&r.jsxs(I.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 bg-purple-50 border border-purple-200 rounded-2xl p-4 flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("span",{className:"text-purple-900 font-semibold",children:[m.size," "]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(I.button,{whileTap:{scale:.95},onClick:async()=>{if(!confirm(`  ${m.size}  ?`))return;const ye=e();if(ye)try{const re=Array.from(m).map(Qe=>ls.deleteVocabulary(ye,Qe));await Promise.all(re),de.success(`${m.size}  .`),p(new Set);const ve=n.find(Qe=>Qe.id===u);ve&&await O(ve.name),t?.()}catch(re){console.error("Error deleting vocabularies:",re),de.error("  ")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg flex items-center gap-2 font-semibold hover:shadow-lg transition-shadow",children:[r.jsx(bs,{className:"w-4 h-4"})," "]}),m.size>=2&&r.jsxs(I.button,{whileTap:{scale:.95},onClick:()=>j(!0),className:"px-4 py-2 bg-[#491B6D] text-white rounded-lg flex items-center gap-2 font-semibold hover:shadow-lg transition-shadow",children:[r.jsx(fS,{className:"w-4 h-4"}),""]}),r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>p(new Set),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold",children:" "})]})]}),r.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:l?r.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):r.jsx("div",{className:"divide-y divide-gray-200",children:n.map(ye=>r.jsxs("div",{children:[r.jsx(eW,{category:ye,isExpanded:u===ye.id,isSelected:y.has(ye.id),onToggle:()=>$(ye.id,ye.name),onToggleSelect:()=>q(ye.id),onEdit:()=>M(ye)}),u===ye.id&&r.jsx("div",{className:"bg-gray-50 border-t border-gray-200 p-4",children:i.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"   ."}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsxs("button",{onClick:U,className:"flex items-center gap-2 text-sm text-gray-700 hover:text-[#491B6D] font-semibold",children:[m.size===i.length?r.jsx(vu,{className:"w-5 h-5 text-[#8B5CF6]"}):r.jsx(Ml,{className:"w-5 h-5"}),"  / "]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[" ",i.length," "]})]}),r.jsx(Vz,{items:i.map(re=>re.id),strategy:zz,children:r.jsx("div",{className:"space-y-3",children:i.map(re=>r.jsx(Jz,{vocabulary:re,isSelected:m.has(re.id),onToggleSelect:K,onEdit:le,onDelete:Y},re.id))})})]})})]},ye.id))})}),r.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-2xl p-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:" "}),r.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 list-disc list-inside",children:[r.jsx("li",{children:"    "}),r.jsx("li",{children:"        "}),r.jsx("li",{children:"       "}),r.jsx("li",{children:"      "}),r.jsx("li",{children:"    "})]})]})]})}),r.jsx(Mz,{children:Ze&&r.jsx("div",{className:"bg-white rounded-lg p-4 shadow-2xl border-2 border-[#8B5CF6] opacity-80",children:r.jsx("div",{className:"font-semibold text-[#491B6D]",children:Ze.title})})}),b&&r.jsx(Zz,{selectedVocabularies:Ye,onMerge:ee,onClose:()=>j(!1)}),G&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md mx-4",children:[r.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-4",children:" "}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),r.jsx("input",{type:"text",value:ie,onChange:ye=>oe(ye.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#8B5CF6] focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),r.jsx("textarea",{value:Z,onChange:ye=>F(ye.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#8B5CF6] focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex gap-2 mt-6",children:[r.jsx("button",{onClick:()=>ne(null),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:""}),r.jsx("button",{onClick:fe,className:"flex-1 px-4 py-2 bg-[#8B5CF6] text-white rounded-lg hover:bg-[#7C3AED]",children:""})]})]})}),C&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md mx-4",children:[r.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-4",children:" "}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),r.jsx("input",{type:"text",value:E,onChange:ye=>_(ye.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#8B5CF6] focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),r.jsx("input",{type:"text",value:T,onChange:ye=>D(ye.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#8B5CF6] focus:border-transparent",placeholder:""})]})]}),r.jsxs("div",{className:"flex gap-2 mt-6",children:[r.jsx("button",{onClick:()=>A(null),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:""}),r.jsx("button",{onClick:W,className:"flex-1 px-4 py-2 bg-[#8B5CF6] text-white rounded-lg hover:bg-[#7C3AED]",children:""})]})]})})]})}function nW({getAuthToken:e}){const[t,n]=g.useState([]),[s,i]=g.useState([]),[a,l]=g.useState(!0),[d,u]=g.useState("all"),[f,m]=g.useState(null),[p,y]=g.useState(""),[v,b]=g.useState(new Set),[j,S]=g.useState("none"),[N,C]=g.useState(new Set);g.useEffect(()=>{A(),E()},[]);const A=async()=>{try{const F=e();if(!F)return;const B=await(await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/categories`,{headers:{Authorization:`Bearer ${F}`}})).json();i(B.categories||[])}catch(F){console.error("Error loading categories:",F)}},E=async()=>{const F=e();if(F)try{l(!0);const B=await(await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/shared-vocabularies`,{headers:{Authorization:`Bearer ${F}`}})).json();B.vocabularies&&n(B.vocabularies)}catch(z){console.error("Error loading vocabularies:",z)}finally{l(!1)}},_=async F=>{if(!confirm("   ?"))return;const z=e();if(z)try{await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/shared-vocabularies/${F}`,{method:"DELETE",headers:{Authorization:`Bearer ${z}`}}),de.success(" ."),await E()}catch(B){console.error("Error deleting vocabulary:",B),de.error(" .")}},T=async(F,z)=>{if(!confirm(`"${z}"    AI ?

     , AI  .`))return;const B=e();if(!B){de.error(" .");return}const O=de.loading("  AI  ...");try{const $=await fetch(`https://${Ge}.supabase.co/functions/v1/admin-tools/regenerate-examples`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B}`},body:JSON.stringify({vocabularyId:F})}),q=await $.json();if(!$.ok)throw new Error(q.error||"AI  ");de.success(`AI  !
: ${q.processedCount}, : ${q.errorCount}`,{id:O,duration:5e3}),C(M=>new Set(M).add(F)),await E()}catch($){console.error("Error regenerating examples:",$),de.error(`AI  : ${$.message}`,{id:O})}},D=(F,z)=>{m(F),y(z)},R=()=>{m(null),y("")},V=async F=>{const z=e();if(z)try{if(!(await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/shared-vocabularies/${F}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({category:p})})).ok)throw new Error("  ");de.success(" ."),m(null),y(""),await E()}catch(B){console.error("Error updating category:",B),de.error("  ")}},G=F=>{b(z=>{const B=new Set(z);return B.has(F)?B.delete(F):B.add(F),B})},ne=()=>{v.size===oe.length?b(new Set):b(new Set(oe.map(F=>F.id)))},ie=async()=>{if(v.size===0){de.error("  .");return}if(!confirm(` ${v.size}  ?`))return;const F=e();if(!F)return;const z=de.loading("  ...");try{const B=Array.from(v).map(O=>fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/shared-vocabularies/${O}`,{method:"DELETE",headers:{Authorization:`Bearer ${F}`}}));await Promise.all(B),de.success(`${v.size}  .`,{id:z}),b(new Set),await E()}catch(B){console.error("Error deleting vocabularies:",B),de.error("   .",{id:z})}},oe=d==="all"?t:t.filter(F=>F.category===d),Z=[...oe].sort((F,z)=>{if(j==="none")return 0;const B=F.title.localeCompare(z.title,"ko-KR");return j==="asc"?B:-B});return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl mb-2",style:{fontWeight:700,color:"#491B6D"},children:"Vocabulary Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage all shared vocabulary lists"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[v.size>0&&r.jsxs(I.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},whileTap:{scale:.95},onClick:ie,className:"flex items-center gap-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",style:{fontWeight:600},children:[r.jsx(bs,{className:"w-4 h-4"}),"  (",v.size,")"]}),r.jsx("label",{className:"text-sm text-gray-600",style:{fontWeight:600},children:":"}),r.jsxs("select",{value:j,onChange:F=>S(F.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[r.jsx("option",{value:"none",children:" "}),r.jsx("option",{value:"asc",children:" ()"}),r.jsx("option",{value:"desc",children:"  ()"})]}),r.jsx("label",{className:"text-sm text-gray-600",style:{fontWeight:600},children:":"}),r.jsxs("select",{value:d,onChange:F=>u(F.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[r.jsx("option",{value:"all",children:" "}),s.map(F=>r.jsxs("option",{value:F.name,children:[F.icon," ",F.name]},F.id))]})]})]}),r.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:a?r.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):Z.length===0?r.jsx("div",{className:"p-12 text-center text-gray-500",children:d==="all"?' . "Create Vocabulary"    .':"   ."}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:r.jsxs("button",{onClick:ne,className:"flex items-center gap-2 hover:text-purple-600 transition-colors",children:[v.size===Z.length&&Z.length>0?r.jsx(vu,{className:"w-5 h-5"}):r.jsx(Ml,{className:"w-5 h-5"}),r.jsx("span",{children:"Select All"})]})}),r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Title"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Category"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Level"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Words"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Downloads"}),r.jsx("th",{className:"px-6 py-4 text-right text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:Z.map(F=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("button",{onClick:()=>G(F.id),className:"flex items-center justify-center hover:text-purple-600 transition-colors",children:v.has(F.id)?r.jsx(vu,{className:"w-5 h-5 text-purple-600"}):r.jsx(Ml,{className:"w-5 h-5"})})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900",style:{fontWeight:600},children:F.title})}),r.jsx("td",{className:"px-6 py-4",children:f===F.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("select",{value:p,onChange:z=>y(z.target.value),className:"px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-purple-500",children:s.map(z=>r.jsxs("option",{value:z.name,children:[z.icon," ",z.name]},z.id))}),r.jsx("button",{onClick:()=>V(F.id),className:"p-1 hover:bg-green-50 rounded transition-colors",children:r.jsx(Qi,{className:"w-4 h-4 text-green-600"})}),r.jsx("button",{onClick:R,className:"p-1 hover:bg-red-50 rounded transition-colors",children:r.jsx(yn,{className:"w-4 h-4 text-red-600"})})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"px-3 py-1 rounded-full text-xs bg-[#8B5CF6]/10 text-[#8B5CF6]",style:{fontWeight:600},children:F.category}),r.jsx("button",{onClick:()=>D(F.id,F.category),className:"p-1 opacity-0 group-hover:opacity-100 hover:bg-gray-100 rounded transition-all",children:r.jsx(i0,{className:"w-3 h-3 text-gray-500"})})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-sm text-gray-600",children:F.level})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-sm text-gray-600",children:F.total_words?.toLocaleString()||0})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-sm text-gray-600",children:F.downloads?.toLocaleString()||0})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsxs(I.button,{whileTap:{scale:.95},onClick:()=>T(F.id,F.title),className:`p-2 rounded-lg transition-colors relative ${N.has(F.id)?"bg-green-50 hover:bg-green-100":"hover:bg-purple-50"}`,title:N.has(F.id)?"AI   ( )":"AI  ( + )",children:[r.jsx(I6,{className:`w-4 h-4 ${N.has(F.id)?"text-green-600":"text-purple-500"}`}),N.has(F.id)&&r.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]}),r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>_(F.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(bs,{className:"w-4 h-4 text-red-500"})})]})})]},F.id))})]})})]})}function rW({onClose:e}){const{getAuthToken:t}=Zi(),[n,s]=g.useState("overview");return r.jsx("div",{className:"fixed inset-0 z-[100] bg-gray-50",children:r.jsxs("div",{className:"h-full flex",children:[r.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg",style:{fontWeight:700,color:"#491B6D"},children:"Admin Panel"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JEJEVOCA Dashboard"})]}),r.jsx(I.button,{whileTap:{scale:.95},onClick:e,className:"w-8 h-8 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",children:r.jsx(yn,{className:"w-4 h-4 text-gray-600"})})]})}),r.jsxs("nav",{className:"flex-1 p-4 space-y-1",children:[r.jsx(Ei,{icon:r.jsx(t6,{className:"w-5 h-5"}),label:"Overview",active:n==="overview",onClick:()=>s("overview")}),r.jsx(Ei,{icon:r.jsx(Ur,{className:"w-5 h-5"}),label:"Vocabularies",active:n==="vocabularies",onClick:()=>s("vocabularies")}),r.jsx(Ei,{icon:r.jsx(sw,{className:"w-5 h-5"}),label:"Create Vocabulary",active:n==="upload",onClick:()=>s("upload")}),r.jsx(Ei,{icon:r.jsx(sw,{className:"w-5 h-5"}),label:"Bulk Upload",active:n==="bulk-upload",onClick:()=>s("bulk-upload")}),r.jsx(Ei,{icon:r.jsx(o0,{className:"w-5 h-5"}),label:"User Management",active:n==="users",onClick:()=>s("users")}),r.jsx(Ei,{icon:r.jsx(wS,{className:"w-5 h-5"}),label:"Categories",active:n==="categories",onClick:()=>s("categories")}),r.jsx(Ei,{icon:r.jsx(Ui,{className:"w-5 h-5"}),label:" ",active:!1,onClick:()=>{window.location.href="/admin/admission"}})]}),r.jsx("div",{className:"p-4 border-t border-gray-200",children:r.jsx("div",{className:"text-xs text-gray-500 text-center",children:" JEJETRANSFER 2025"})})]}),r.jsxs("div",{className:"flex-1 overflow-auto",children:[n==="overview"&&r.jsx(sW,{}),n==="vocabularies"&&r.jsx(nW,{getAuthToken:t}),n==="upload"&&r.jsx(oW,{}),n==="bulk-upload"&&r.jsx(iW,{}),n==="users"&&r.jsx(aW,{}),n==="categories"&&r.jsx(tW,{getAuthToken:t})]})]})})}function Ei({icon:e,label:t,active:n,onClick:s}){return r.jsxs(I.button,{whileTap:{scale:.98},onClick:s,className:`w-full px-4 py-3 rounded-lg flex items-center gap-3 transition-colors ${n?"bg-[#491B6D] text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e,r.jsx("span",{style:{fontSize:"14px",fontWeight:600},children:t})]})}function sW(){const{getAuthToken:e}=Zi(),[t,n]=g.useState({totalVocabularies:0,totalDownloads:0,activeUsers:0,avgRating:"0.0"});g.useEffect(()=>{s()},[]);const s=async()=>{try{const i=e();if(!i)return;const l=await(await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/stats`,{headers:{Authorization:`Bearer ${i}`}})).json();l.stats&&n(l.stats)}catch(i){console.error("Error loading stats:",i)}};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl mb-2",style:{fontWeight:700,color:"#491B6D"},children:"Dashboard Overview"}),r.jsx("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening today."})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[r.jsx(Hd,{icon:r.jsx(Ur,{className:"w-6 h-6"}),label:"Total Vocabularies",value:t.totalVocabularies.toString(),change:"+12%",positive:!0,color:"#8B5CF6"}),r.jsx(Hd,{icon:r.jsx(FR,{className:"w-6 h-6"}),label:"Total Downloads",value:t.totalDownloads.toString(),change:"+0.3%",positive:!0,color:"#7C3AED"}),r.jsx(Hd,{icon:r.jsx(o0,{className:"w-6 h-6"}),label:"Active Users",value:t.activeUsers.toString(),change:"+6.08%",positive:!0,color:"#6D28D9"}),r.jsx(Hd,{icon:r.jsx(vs,{className:"w-6 h-6"}),label:"Avg Rating",value:t.avgRating,change:"+0.2",positive:!0,color:"#5B21B6"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"col-span-2 bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:"#491B6D"},children:"Downloads Trend"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Last 6 months"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8B5CF6]"}),r.jsx("span",{className:"text-xs text-gray-600",children:"This year"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300"}),r.jsx("span",{className:"text-xs text-gray-600",children:"Last year"})]})]})]}),r.jsx("div",{className:"h-64 flex items-end justify-between gap-3",children:[30,45,60,80,55,70].map((i,a)=>r.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[r.jsx("div",{className:"w-full rounded-t-lg bg-gradient-to-t from-[#8B5CF6] to-[#A78BFA] transition-all",style:{height:`${i}%`}}),r.jsx("div",{className:"w-full rounded-t-lg bg-gray-200",style:{height:`${i*.7}%`}})]},a))})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[r.jsx("h3",{className:"mb-6",style:{fontSize:"16px",fontWeight:600,color:"#491B6D"},children:"Top Categories"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ul,{label:"TOEIC",percentage:52.1,color:"#8B5CF6"}),r.jsx(ul,{label:"SAT",percentage:22.8,color:"#A78BFA"}),r.jsx(ul,{label:"GRE",percentage:13.9,color:"#C4B5FD"}),r.jsx(ul,{label:"School",percentage:8.2,color:"#DDD6FE"}),r.jsx(ul,{label:"General",percentage:3,color:"#EDE9FE"})]})]})]})]})}function iW(){const{getAuthToken:e}=Zi(),[t,n]=g.useState(""),[s,i]=g.useState(""),[a,l]=g.useState(""),[d,u]=g.useState([]),[f,m]=g.useState("200"),[p,y]=g.useState([]),[v,b]=g.useState(!1);g.useEffect(()=>{(async()=>{try{const N=e();if(!N){de.error(" .");return}const A=await(await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/categories`,{headers:{Authorization:`Bearer ${N}`}})).json();if(A.categories){const E=A.categories.filter(_=>_.enabled);u(E),E.length>0&&i(E[0].name)}}catch(N){console.error("Error loading categories:",N)}})()},[e]);const j=async()=>{if(!t.trim()){de.error("Title .");return}if(!s){de.error("Category .");return}const S=p.filter(D=>D.word&&D.word.trim()!=="");if(S.length===0){de.error("  .");return}if(!f.trim()||parseInt(f)<=0){de.error("  .");return}const N=e();if(!N){de.error(" .");return}const C=parseInt(f),A=Math.ceil(S.length/C),E=30,_=4;b(!0);let T=0;try{for(let D=0;D<A;D++){const R=D*C,V=Math.min((D+1)*C,S.length),G=S.slice(R,V),ne=`${t} (${D+1}/${A})`;de.loading(`${ne} AI  ... (${D+1}/${A})`,{id:`bulk-processing-${D}`});const ie=[];for(let z=0;z<G.length;z+=E)ie.push(G.slice(z,z+E));const oe=async(z,B)=>{console.log(` AI  ${B+1} : ${z.length} `);const O=await fetch(`https://${Ge}.supabase.co/functions/v1/server/generate-vocabulary-batch`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({words:z.map(q=>({word:q.word?.trim()||"",meaning:q.meaning?.trim()||"",synonyms:Array.isArray(q.synonyms)?q.synonyms.join(", "):q.synonyms||"",antonyms:Array.isArray(q.antonyms)?q.antonyms.join(", "):q.antonyms||"",example:q.example?.trim()||"",translation:q.translation?.trim()||""}))})});if(!O.ok){const q=await O.json();throw new Error(`AI  : ${q.error||"   "}`)}const $=await O.json();if(!$.success||!$.results)throw new Error("AI  :  ");return console.log(` AI  ${B+1} :  ${z.length}   ${$.results.length}`),$.results.length!==z.length&&console.warn(` AI   ! : ${z.length}, : ${$.results.length}`),$.results},Z=[];console.log(` Part ${D+1}:  ${G.length}  ${ie.length} AI  `);for(let z=0;z<ie.length;z+=_){const B=ie.slice(z,z+_),O=await Promise.all(B.map((q,M)=>oe(q,z+M)));Z.push(...O.flat());const $=Math.min(z+_,ie.length);de.loading(`${ne} AI  ... ( ${$}/${ie.length})`,{id:`bulk-processing-${D}`}),z+_<ie.length&&await new Promise(q=>setTimeout(q,1e3))}console.log(` Part ${D+1} :  ${G.length}  AI  ${Z.length}`),Z.length!==G.length&&console.error(` Part ${D+1}   ! : ${G.length}, AI : ${Z.length}`),de.loading(`${ne}  ... (${D+1}/${A})`,{id:`bulk-processing-${D}`});const F=await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/shared-vocabularies`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({title:ne,category:s,description:a?`${a} (${R+1}-${V} )`:`${R+1}-${V} `,words:Z})});if(!F.ok){const z=await F.json();throw new Error(`${ne}  : ${z.error||"   "}`)}de.dismiss(`bulk-processing-${D}`),de.success(`${ne} !`,{duration:2e3}),T++,D<A-1&&await new Promise(z=>setTimeout(z,500))}de.success(`${T}  ! ( ${S.length} )`),n(""),l(""),y([]),m("200")}catch(D){console.error("Failed to bulk upload:",D),de.error(D?.message||"    .")}finally{b(!1)}};return r.jsxs("div",{className:"p-8 space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-[#491B6D] mb-2",children:"  "}),r.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"   AI    50   (2  )."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Title *"}),r.jsx("input",{type:"text",value:t,onChange:S=>n(S.target.value),placeholder:":   ",className:"w-full px-3 py-2 border rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Category *"}),s==="__new__"?r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",placeholder:" (: )",value:d.find(S=>S.name==="__temp__")?.icon||"",onChange:S=>{const N=S.target.value.slice(0,2);u(C=>C.find(E=>E.name==="__temp__")?C.map(E=>E.name==="__temp__"?{...E,icon:N}:E):[...C,{id:"__temp__",name:"__temp__",icon:N,enabled:!0}])},className:"w-20 px-3 py-2 border rounded-lg text-center",maxLength:2}),r.jsx("input",{type:"text",placeholder:"  (: )",value:d.find(S=>S.name==="__temp__")?.tempName||"",onChange:S=>{const N=S.target.value;u(C=>C.find(E=>E.name==="__temp__")?C.map(E=>E.name==="__temp__"?{...E,tempName:N}:E):[...C,{id:"__temp__",name:"__temp__",icon:"",tempName:N,enabled:!0}])},className:"flex-1 px-3 py-2 border rounded-lg"}),r.jsx("button",{onClick:async()=>{const S=d.find(C=>C.name==="__temp__");if(!S?.tempName||!S?.icon){de.error("    .");return}const N=e();if(!N){de.error(" .");return}try{const C=await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/categories`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({name:S.tempName,icon:S.icon})}),A=await C.json();if(!C.ok)throw console.error(" Category creation error response:",A),new Error(A.error||"  ");console.log(" Category created:",A.category),de.success("  !");const E={id:A.category.id,name:A.category.name,icon:A.category.icon,enabled:A.category.enabled,sort_order:A.category.order};u(_=>{const T=_.filter(R=>R.name!=="__temp__");return T.find(R=>R.name===E.name)?T:[...T,E]}),i(A.category.name),console.log(" Category added to list and selected:",A.category.name)}catch(C){console.error("Error creating category:",C),de.error("  .")}},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:""}),r.jsx("button",{onClick:()=>{u(S=>S.filter(N=>N.name!=="__temp__")),i(d.length>0?d[0].name:"")},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""})]})}):r.jsxs("select",{value:s,onChange:S=>i(S.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[r.jsx("option",{value:"",children:" "}),d.filter(S=>S.name!=="__temp__").map(S=>r.jsxs("option",{value:S.name,children:[S.icon," ",S.name]},S.id)),r.jsx("option",{value:"__new__",children:"   ..."})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Description"}),r.jsx("input",{type:"text",value:a,onChange:S=>l(S.target.value),placeholder:"  ()",className:"w-full px-3 py-2 border rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"  *"}),r.jsx("input",{type:"number",value:f,onChange:S=>m(S.target.value),placeholder:"50",className:"w-full px-3 py-2 border rounded-lg",min:"1"})]})]}),r.jsx(wC,{data:p,onChange:y,onSave:()=>{},hideHeaderFields:!0,fullscreen:!0}),p.length>0&&f.trim()&&parseInt(f)>0&&r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["  ",p.length,"   ",Math.ceil(p.length/parseInt(f)),"  "]}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx("button",{onClick:j,disabled:v,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-[#491B6D] to-[#5E2278] text-white font-semibold shadow-lg disabled:opacity-50",children:v?" ...":" AI    "})})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-4",children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"  "}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsx("li",{children:"      "}),r.jsx("li",{children:' "   AI "    '}),r.jsx("li",{children:" AI , , ,    "}),r.jsx("li",{children:" 50()      (2  )"}),r.jsx("li",{children:' : 1000   " (1/20)", " (2/20)" ...  20 '})]})]})]})}function oW(){const{getAuthToken:e}=Zi(),[t,n]=g.useState(""),[s,i]=g.useState(""),[a,l]=g.useState(""),[d,u]=g.useState([]),[f,m]=g.useState([]),[p,y]=g.useState({headerTitle:"",headerDescription:""}),[v,b]=g.useState(null),[j,S]=g.useState(!1),[N,C]=g.useState("");g.useEffect(()=>{(async()=>{try{const _=e();if(console.log(" Token:",_?"exists":"null"),!_){de.error(" .  .");return}const D=await(await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/categories`,{headers:{Authorization:`Bearer ${_}`}})).json();if(console.log(" Categories response:",D),D.categories){const R=D.categories.filter(V=>V.enabled);console.log(" Enabled categories:",R),u(R),R.length>0&&i(R[0].name)}}catch(_){console.error("Error loading categories:",_)}})()},[e]);const A=async()=>{if(!t.trim()){de.error("Title .");return}if(!s){de.error("Category .");return}if(f.length===0){de.error("   .");return}const E=e();if(!E){de.error(" .  .");return}S(!0);try{const _=N.trim()!==""?parseInt(N):0;if(_>0&&f.length>_){const T=Math.ceil(f.length/_);let D=0;for(let R=0;R<T;R++){const V=R*_,G=Math.min((R+1)*_,f.length),ne=f.slice(V,G),ie=`${t} (${R+1}/${T})`;de.loading(`${ie}  ...`,{id:"saving-parts"});const oe=await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/shared-vocabularies`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({title:ie,category:s,description:a?`${a} (${V+1}-${G} )`:`${V+1}-${G} `,words:ne})});if(!oe.ok){const Z=await oe.json();throw new Error(`${ie}  : ${Z.error||"   "}`)}D++,await new Promise(Z=>setTimeout(Z,500))}de.dismiss("saving-parts"),de.success(`${D}  ! ( ${f.length} )`)}else{const T=await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/shared-vocabularies`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({title:t,category:s,description:a,words:f})});if(!T.ok){const D=await T.json();throw new Error(D.error||"  .")}de.success("  !")}n(""),l(""),m([]),y({headerTitle:"",headerDescription:""}),C("")}catch(_){console.error("Failed to save shared vocabulary:",_),de.error(_?.message||"    .")}finally{S(!1)}};return r.jsxs("div",{className:"p-8 space-y-6 overflow-auto",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-xl font-semibold text-[#491B6D]",children:"  "}),r.jsx("p",{className:"text-sm text-gray-500",children:"    ."})]}),r.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Title *"}),r.jsx("input",{type:"text",value:t,onChange:E=>{n(E.target.value),y(_=>({..._,headerTitle:E.target.value}))},placeholder:": JEJE   100",className:"w-full px-3 py-2 border rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Category *"}),s==="__new__"?r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",placeholder:" (: )",value:d.find(E=>E.name==="__temp__")?.icon||"",onChange:E=>{const _=E.target.value.slice(0,2);u(T=>T.find(R=>R.name==="__temp__")?T.map(R=>R.name==="__temp__"?{...R,icon:_}:R):[...T,{id:"__temp__",name:"__temp__",icon:_,enabled:!0}])},className:"w-20 px-3 py-2 border rounded-lg text-center",maxLength:2}),r.jsx("input",{type:"text",placeholder:"  (: )",value:d.find(E=>E.name==="__temp__")?.tempName||"",onChange:E=>{const _=E.target.value;u(T=>T.find(R=>R.name==="__temp__")?T.map(R=>R.name==="__temp__"?{...R,tempName:_}:R):[...T,{id:"__temp__",name:"__temp__",icon:"",tempName:_,enabled:!0}])},className:"flex-1 px-3 py-2 border rounded-lg"}),r.jsx("button",{onClick:async()=>{const E=d.find(T=>T.name==="__temp__");if(!E?.tempName||!E?.icon){de.error("    .");return}const _=e();if(!_){de.error(" .");return}try{const T=await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/categories`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({name:E.tempName,icon:E.icon})}),D=await T.json();if(!T.ok)throw console.error(" Category creation error response:",D),new Error(D.error||"  ");console.log(" Category created:",D.category),de.success("  !");const R={id:D.category.id,name:D.category.name,icon:D.category.icon,enabled:D.category.enabled,sort_order:D.category.order};u(V=>{const G=V.filter(ie=>ie.name!=="__temp__");return G.find(ie=>ie.name===R.name)?G:[...G,R]}),i(D.category.name),console.log(" Category added to list and selected:",D.category.name)}catch(T){console.error("Error creating category:",T),de.error("  .")}},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:""}),r.jsx("button",{onClick:()=>{u(E=>E.filter(_=>_.name!=="__temp__")),i(d.length>0?d[0].name:"")},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""})]})}):r.jsxs("select",{value:s,onChange:E=>i(E.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[r.jsx("option",{value:"",children:" "}),d.filter(E=>E.name!=="__temp__").map(E=>r.jsxs("option",{value:E.name,children:[E.icon," ",E.name]},E.id)),r.jsx("option",{value:"__new__",children:"   ..."})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Description"}),r.jsx("textarea",{value:a,onChange:E=>l(E.target.value),placeholder:"  ",className:"w-full px-3 py-2 border rounded-lg h-24"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"  ()"}),r.jsx("input",{type:"number",value:N,onChange:E=>C(E.target.value),placeholder:": 200 (   )",className:"w-full px-3 py-2 border rounded-lg",min:"1"}),N.trim()!==""&&f.length>0&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["  ",f.length,"   ",Math.ceil(f.length/parseInt(N||"1")),"  "]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-[#491B6D]",children:"  & AI "}),r.jsx("p",{className:"text-sm text-gray-500",children:"CSV ,  , AI    ."})]})}),r.jsx(wC,{fullscreen:!0,data:f,headerInfo:p,onHeaderChange:y,onChange:m,getAuthToken:e,hideHeaderFields:!0,onSave:(E,_)=>{m(E),_&&b(_),de.success(`${E.length}  .`)}})]}),v&&r.jsxs("div",{className:"bg-[#F4EEFF] border border-[#E0D4FF] rounded-2xl p-4 text-sm text-gray-600",children:["  AI      ",v.inputTokens.toLocaleString()," /  ",v.outputTokens.toLocaleString()]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:A,disabled:j,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-[#491B6D] to-[#5E2278] text-white font-semibold shadow-lg disabled:opacity-50",children:j?" ...":"  "})})]})}function aW(){const{getAuthToken:e}=Zi(),[t,n]=g.useState([]),[s,i]=g.useState(!0);g.useEffect(()=>{a()},[]);const a=async()=>{try{const d=e();if(!d)return;i(!0);const f=await(await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/users`,{headers:{Authorization:`Bearer ${d}`}})).json();f.users&&n(f.users)}catch(d){console.error("Error loading users:",d)}finally{i(!1)}},l=async(d,u,f)=>{const m=e();if(m)try{await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/users/${d}/permissions`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({role:u,permissions:f})}),await a()}catch(p){console.error("Error updating permissions:",p),alert("  ")}};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl mb-2",style:{fontWeight:700,color:"#491B6D"},children:"User Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage users and their permissions"})]}),r.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:s?r.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"User"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Role"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Stats"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Last Active"}),r.jsx("th",{className:"px-6 py-4 text-right text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(d=>r.jsx(lW,{user:d,onUpdatePermissions:l},d.id))})]})})]})}function Hd({icon:e,label:t,value:n,change:s,positive:i,color:a}){return r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:`${a}20`,color:a},children:e}),r.jsx("span",{className:`text-sm ${i?"text-green-600":"text-red-600"}`,style:{fontWeight:600},children:s})]}),r.jsx("div",{className:"text-2xl mb-1",style:{fontWeight:700,color:"#491B6D"},children:n}),r.jsx("div",{className:"text-sm text-gray-600",children:t})]})}function ul({label:e,percentage:t,color:n}){return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-700",style:{fontWeight:600},children:e}),r.jsxs("span",{className:"text-sm text-gray-600",children:[t,"%"]})]}),r.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${t}%`,backgroundColor:n}})})]})}function lW({user:e,onUpdatePermissions:t}){const[n,s]=g.useState(!1),[i,a]=g.useState(e.role),l=e.stats||{},d=e.lastActive||e.lastSignInAt||e.createdAt,u=d?new Date(d):null,f=u&&!Number.isNaN(u.getTime())?u.toLocaleDateString():"Never",m=()=>{t(e.id,i,e.permissions),s(!1)};return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm",style:{fontWeight:600,color:"#491B6D"},children:e.name}),r.jsx("div",{className:"text-xs text-gray-500",children:e.email})]})}),r.jsx("td",{className:"px-6 py-4",children:n?r.jsxs("select",{value:i,onChange:p=>a(p.target.value),className:"px-3 py-1 rounded-lg border border-gray-300 text-sm",children:[r.jsx("option",{value:"user",children:"User"}),r.jsx("option",{value:"admin",children:"Admin"})]}):r.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${e.role==="admin"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,style:{fontWeight:600},children:e.role})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[r.jsxs("div",{children:[": ",l.vocabulariesCreated??0]}),r.jsxs("div",{children:[": ",l.quizzesCompleted??0]}),r.jsxs("div",{children:["XP: ",l.xp??0]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-sm text-gray-600",children:f})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"flex items-center justify-end gap-2",children:n?r.jsxs(r.Fragment,{children:[r.jsx(I.button,{whileTap:{scale:.95},onClick:m,className:"p-2 hover:bg-green-50 rounded-lg transition-colors",children:r.jsx(Dn,{className:"w-4 h-4 text-green-600"})}),r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>{s(!1),a(e.role)},className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(cS,{className:"w-4 h-4 text-red-500"})})]}):r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>s(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(H6,{className:"w-4 h-4 text-gray-600"})})})})]})}const em="calendar_universities",V1="calendar_events";function cW({onBack:e,onHomeClick:t}){const[n,s]=g.useState(new Date),[i,a]=g.useState(null),[l,d]=g.useState([]),[u,f]=g.useState([]);g.useEffect(()=>{window.scrollTo(0,0);const re=localStorage.getItem(em);if(re)d(JSON.parse(re));else{const Qe=[{id:"u1",name:"",department:"",deadline:"2025.09.15",color:"#491B6D"},{id:"u2",name:"",department:"",deadline:"2025.09.20",color:"#5B21B6"},{id:"u3",name:"",department:"",deadline:"2025.09.25",color:"#7C3AED"}];d(Qe),localStorage.setItem(em,JSON.stringify(Qe))}const ve=localStorage.getItem(V1);ve&&f(JSON.parse(ve))},[]),g.useEffect(()=>{l.length>0&&localStorage.setItem(em,JSON.stringify(l))},[l]),g.useEffect(()=>{u.length>0&&localStorage.setItem(V1,JSON.stringify(u))},[u]);const[m,p]=g.useState(!1),[y,v]=g.useState(!1),[b,j]=g.useState(!1),[S,N]=g.useState(!1),[C,A]=g.useState(null),[E,_]=g.useState(""),[T,D]=g.useState(""),[R,V]=g.useState(""),[G,ne]=g.useState("#491B6D"),[ie,oe]=g.useState(""),[Z,F]=g.useState([]),z=new Date,B=["","","","","","",""],O=n.getFullYear(),$=n.getMonth(),q=new Date(O,$,1).getDay(),M=new Date(O,$+1,0).getDate(),W=["1","2","3","4","5","6","7","8","9","10","11","12"],L=Array.from({length:q},(re,ve)=>ve),K=Array.from({length:M},(re,ve)=>ve+1),U=["#491B6D","#5B21B6","#7C3AED","#8B5CF6","#A78BFA","#10B981","#059669","#F59E0B","#F97316","#EF4444","#6366F1","#3B82F6","#EC4899","#8B5CF6"],ee=re=>u.filter(ve=>ve.date===re&&ve.month===$&&ve.year===O),Y=re=>{a({date:re,month:$,year:O})},le=()=>{s(new Date(O,$-1,1)),a(null)},fe=()=>{s(new Date(O,$+1,1)),a(null)},ue=()=>i?u.filter(re=>re.date===i.date&&re.month===i.month&&re.year===i.year):[],Se=()=>{if(!E.trim()||!T.trim()||!R.trim()){alert("  .");return}const re=R.trim().split(".");if(re.length!==3){alert("   . (: 2025.09.15)");return}const ve=parseInt(re[0]),Qe=parseInt(re[1])-1,lt=parseInt(re[2]);if(isNaN(ve)||isNaN(Qe)||isNaN(lt)){alert("   .");return}const ct={id:`u${Date.now()}`,name:E.trim(),department:T.trim(),deadline:R.trim(),color:G};d([...l,ct]);const vt=[],ut=new Date(ve,Qe,lt),Ce=new Date(ut);Ce.setDate(Ce.getDate()-6);for(let et=0;et<7;et++){const he=new Date(Ce);he.setDate(Ce.getDate()+et);let ge="";et===0?ge="":et===6?ge="":ge="",vt.push({id:`e${Date.now()}-${et}`,date:he.getDate(),month:he.getMonth(),year:he.getFullYear(),title:E.trim(),subtitle:ge,color:G,universityId:ct.id})}f([...u,...vt]),_(""),D(""),V(""),ne("#491B6D"),p(!1),alert(`${E}  !
  .`)},Pe=re=>{confirm(" ?")&&(d(l.filter(ve=>ve.id!==re)),f(u.filter(ve=>ve.universityId!==re)),C&&C.name.includes(l.find(ve=>ve.id===re)?.name||"")&&A(null))},Ye=()=>{if(!ie.trim()){F([]);return}const re=ie.toLowerCase().trim(),ve=l.filter(Qe=>Qe.name.toLowerCase().includes(re)||Qe.department.toLowerCase().includes(re));F(ve)},Ze=re=>{if(l.some(Qe=>Qe.id===re.id)){alert("  .");return}alert(`     .
   .`)},ye=()=>{if(!C)return null;const re=new Date;re.setHours(0,0,0,0);const ve=new Date(C.date);return ve.setHours(0,0,0,0),Math.ceil((ve.getTime()-re.getTime())/(1e3*60*60*24))};return r.jsxs("div",{className:"min-h-screen pb-24",style:{background:"transparent"},children:[r.jsx("div",{className:"relative p-6",style:{background:"transparent"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(I.button,{whileTap:{scale:.95},onClick:e,className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"white",boxShadow:"0 4px 12px rgba(73, 27, 109, 0.15)"},children:r.jsx(tw,{className:"w-5 h-5",style:{color:"#491B6D"}})}),r.jsx("h1",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"20px",color:"#491B6D"},children:"  Calendar"}),t&&r.jsx(I.button,{whileTap:{scale:.95},onClick:t,className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"white",boxShadow:"0 4px 12px rgba(73, 27, 109, 0.15)"},children:r.jsx(Xi,{className:"w-5 h-5",style:{color:"#491B6D"}})})]})}),r.jsxs("div",{className:"px-6 space-y-6",children:[r.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-6 backdrop-blur-lg rounded-3xl border",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)",borderColor:"rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px -8px rgba(73, 27, 109, 0.2)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:[O," ",W[$]]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(I.button,{whileTap:{scale:.95},onClick:le,className:"w-9 h-9 flex items-center justify-center rounded-xl",style:{background:"rgba(73, 27, 109, 0.1)"},children:r.jsx(tw,{className:"w-5 h-5",style:{color:"#491B6D"}})}),r.jsx(I.button,{whileTap:{scale:.95},onClick:fe,className:"w-9 h-9 flex items-center justify-center rounded-xl",style:{background:"rgba(73, 27, 109, 0.1)"},children:r.jsx(us,{className:"w-5 h-5",style:{color:"#491B6D"}})})]})]}),r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-3",children:B.map((re,ve)=>r.jsx("div",{className:"text-center py-2",style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"11px",color:ve===0?"#EF4444":ve===6?"#3B82F6":"#6B7280"},children:re},ve))}),r.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[L.map((re,ve)=>r.jsx("div",{className:"aspect-square"},`empty-${ve}`)),K.map(re=>{const ve=ee(re),Qe=re===z.getDate()&&$===z.getMonth()&&O===z.getFullYear(),lt=i?.date===re&&i?.month===$&&i?.year===O;return r.jsxs(I.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:re*.005,type:"spring",stiffness:400},whileTap:{scale:.9},onClick:()=>Y(re),className:"aspect-square rounded-lg flex flex-col items-center justify-center relative p-1",style:{background:Qe?"linear-gradient(135deg, #A78BFA 0%, #8B5CF6 100%)":lt?"rgba(73, 27, 109, 0.15)":ve.length>0?"rgba(73, 27, 109, 0.05)":"transparent",border:lt?"2px solid #491B6D":"none"},children:[r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:Qe?700:500,fontSize:"13px",color:Qe?"#FFFFFF":"#491B6D"},children:re}),ve.length>0&&r.jsx("div",{className:"flex gap-0.5 mt-0.5 flex-wrap justify-center",children:ve.slice(0,2).map((ct,vt)=>r.jsx("div",{className:"w-1 h-1 rounded-full",style:{background:ct.color}},vt))})]},re)})]})]}),r.jsx(pt,{children:i&&ue().length>0&&r.jsxs(I.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"p-6 backdrop-blur-lg rounded-3xl border overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)",borderColor:"rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px -8px rgba(73, 27, 109, 0.2)"},children:[r.jsxs("div",{className:"mb-4 pb-3 border-b flex items-center justify-between",style:{borderColor:"rgba(73, 27, 109, 0.1)"},children:[r.jsxs("div",{children:[r.jsxs("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:[O," ",W[$]," ",i.date,""]}),r.jsxs("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#8B5CF6"},children:[ue().length," "]})]}),r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>a(null),className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"rgba(73, 27, 109, 0.1)"},children:r.jsx(yn,{className:"w-4 h-4",style:{color:"#491B6D"}})})]}),r.jsx("div",{className:"space-y-3",children:ue().map((re,ve)=>r.jsxs(I.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:ve*.05},className:"p-4 rounded-2xl border flex items-start gap-3",style:{background:"rgba(255, 255, 255, 0.8)",borderColor:re.color,borderWidth:"2px"},children:[r.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${re.color}15`},children:r.jsx(aa,{className:"w-5 h-5",style:{color:re.color}})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:re.title}),r.jsx("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:re.subtitle})]})]},ve))})]})}),r.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"p-6 backdrop-blur-lg rounded-3xl border",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)",borderColor:"rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px -8px rgba(73, 27, 109, 0.2)"},children:[r.jsx("h3",{className:"mb-4",style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:"   "}),r.jsx("div",{className:"space-y-3 mb-4",children:l.map((re,ve)=>r.jsx(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+ve*.1},className:"p-4 rounded-2xl border",style:{background:"rgba(255, 255, 255, 0.6)",borderColor:"rgba(73, 27, 109, 0.1)"},children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:re.color}}),r.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:re.name})]}),r.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:400,fontSize:"13px",color:"#6B7280"},children:re.department}),r.jsxs("p",{className:"mt-2",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"12px",color:"#F59E0B"},children:[": ",re.deadline]})]}),r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>Pe(re.id),className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"rgba(239, 68, 68, 0.1)"},children:r.jsx(yn,{className:"w-4 h-4",style:{color:"#EF4444"}})})]})},re.id))}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsxs(I.button,{whileTap:{scale:.95},onClick:()=>p(!0),className:"py-3 px-3 rounded-xl flex items-center justify-center gap-1.5",style:{background:"linear-gradient(135deg, #A78BFA 0%, #8B5CF6 100%)",boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)"},children:[r.jsx(la,{className:"w-4 h-4",style:{color:"#FFFFFF"}}),r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#FFFFFF"},children:""})]}),r.jsxs(I.button,{whileTap:{scale:.95},onClick:()=>v(!0),className:"py-3 px-3 rounded-xl flex items-center justify-center gap-1.5",style:{background:"linear-gradient(135deg, #FCD34D 0%, #F59E0B 100%)",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)"},children:[r.jsx(jl,{className:"w-4 h-4",style:{color:"#FFFFFF"}}),r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#FFFFFF"},children:""})]}),r.jsxs(I.button,{whileTap:{scale:.95},onClick:()=>j(!0),className:"py-3 px-3 rounded-xl flex items-center justify-center gap-1.5",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[r.jsx(Mo,{className:"w-4 h-4",style:{color:"#FFFFFF"}}),r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#FFFFFF"},children:""})]})]})]}),r.jsx(I.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15,duration:.5},whileTap:{scale:.98},onClick:()=>N(!0),className:"w-full p-6 backdrop-blur-lg rounded-3xl border cursor-pointer",style:{background:C?`linear-gradient(135deg, ${C.color}15 0%, ${C.color}05 100%)`:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)",borderColor:C?.color||"rgba(255, 255, 255, 0.3)",boxShadow:`0 8px 32px -8px ${C?.color||"rgba(73, 27, 109, 0.2)"}40`},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center",style:{background:C?`${C.color}20`:"rgba(73, 27, 109, 0.1)"},children:r.jsx(pr,{className:"w-8 h-8",style:{color:C?.color||"#491B6D"}})}),r.jsx("div",{className:"flex-1 text-left",children:C?r.jsxs(r.Fragment,{children:[r.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:C.name}),r.jsxs("h3",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:800,fontSize:"32px",color:C.color,lineHeight:"1"},children:["D-",ye()]})]}):r.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:"D-Day "})})]}),r.jsx(us,{className:"w-6 h-6",style:{color:"#6B7280"}})]})})]}),m&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)"},children:r.jsxs(I.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md p-6 rounded-3xl",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:" "}),r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>p(!1),children:r.jsx(yn,{className:"w-6 h-6",style:{color:"#491B6D"}})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2",style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#491B6D"},children:" "}),r.jsx("input",{type:"text",value:E,onChange:re=>_(re.target.value),placeholder:": ",className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:border-purple-500",style:{fontFamily:"Lexend, sans-serif",fontSize:"14px"}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2",style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#491B6D"},children:""}),r.jsx("input",{type:"text",value:T,onChange:re=>D(re.target.value),placeholder:": ",className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:border-purple-500",style:{fontFamily:"Lexend, sans-serif",fontSize:"14px"}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2",style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#491B6D"},children:""}),r.jsx("input",{type:"text",value:R,onChange:re=>V(re.target.value),placeholder:": 2025.09.15",className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:border-purple-500",style:{fontFamily:"Lexend, sans-serif",fontSize:"14px"}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2",style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#491B6D"},children:""}),r.jsx("div",{className:"grid grid-cols-7 gap-2",children:U.map(re=>r.jsx(I.button,{whileTap:{scale:.9},onClick:()=>ne(re),className:"w-10 h-10 rounded-full border-2",style:{background:re,borderColor:G===re?"#491B6D":"transparent",boxShadow:G===re?"0 0 0 2px white, 0 0 0 4px #491B6D":"none"}},re))})]}),r.jsx(I.button,{whileTap:{scale:.95},onClick:Se,className:"w-full py-3 px-4 rounded-xl mt-6",style:{background:"linear-gradient(135deg, #A78BFA 0%, #8B5CF6 100%)",boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)"},children:r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#FFFFFF"},children:""})})]})]})}),y&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)"},children:r.jsxs(I.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md rounded-3xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxHeight:"80vh"},children:[r.jsxs("div",{className:"p-6 border-b",style:{borderColor:"rgba(73, 27, 109, 0.1)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:"/ "}),r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>{v(!1),oe(""),F([])},children:r.jsx(yn,{className:"w-6 h-6",style:{color:"#491B6D"}})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:ie,onChange:re=>oe(re.target.value),onKeyPress:re=>re.key==="Enter"&&Ye(),placeholder:"   ...",className:"flex-1 px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:border-purple-500",style:{fontFamily:"Lexend, sans-serif",fontSize:"14px"}}),r.jsx(I.button,{whileTap:{scale:.95},onClick:Ye,className:"px-6 py-3 rounded-xl",style:{background:"linear-gradient(135deg, #A78BFA 0%, #8B5CF6 100%)",boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)"},children:r.jsx(jl,{className:"w-5 h-5",style:{color:"#FFFFFF"}})})]})]}),r.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(80vh - 160px)"},children:Z.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(jl,{className:"w-16 h-16 mx-auto mb-4",style:{color:"#D1D5DB"}}),r.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"14px",color:"#6B7280"},children:ie.trim()?"  .":"    ."}),r.jsx("p",{className:"mt-2",style:{fontFamily:"Lexend, sans-serif",fontWeight:400,fontSize:"12px",color:"#9CA3AF"},children:"    ."})]}):r.jsx("div",{className:"space-y-3",children:Z.map(re=>r.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-2xl border cursor-pointer hover:border-purple-500 transition-colors",style:{background:"rgba(255, 255, 255, 0.8)",borderColor:"rgba(73, 27, 109, 0.1)"},onClick:()=>Ze(re),children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${re.color}20`},children:r.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:re.color}})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:re.name}),r.jsx("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:re.department}),r.jsxs("p",{className:"mt-2",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"12px",color:"#F59E0B"},children:[": ",re.deadline]})]})]})},re.id))})})]})}),b&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)"},children:r.jsxs(I.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md rounded-3xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxHeight:"80vh"},children:[r.jsx("div",{className:"p-6 border-b",style:{borderColor:"rgba(73, 27, 109, 0.1)"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:" "}),r.jsxs("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:400,fontSize:"13px",color:"#6B7280"},children:[l.length,"  "]})]}),r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>j(!1),children:r.jsx(yn,{className:"w-6 h-6",style:{color:"#491B6D"}})})]})}),r.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(80vh - 120px)"},children:l.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Mo,{className:"w-16 h-16 mx-auto mb-4",style:{color:"#D1D5DB"}}),r.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"14px",color:"#6B7280"},children:"  ."}),r.jsx("p",{className:"mt-2",style:{fontFamily:"Lexend, sans-serif",fontWeight:400,fontSize:"12px",color:"#9CA3AF"},children:"  ."})]}):r.jsx("div",{className:"space-y-4",children:l.map((re,ve)=>r.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ve*.05},className:"p-5 rounded-2xl border",style:{background:"rgba(255, 255, 255, 0.8)",borderColor:re.color,borderWidth:"2px"},children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${re.color}20`},children:r.jsx(Mo,{className:"w-6 h-6",style:{color:re.color}})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"16px",color:"#491B6D"},children:re.name}),r.jsx("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:re.department}),r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ui,{className:"w-4 h-4",style:{color:"#8B5CF6"}}),r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"11px",color:"#8B5CF6"},children:""}),r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"11px",color:"#6B7280"},children:re.deadline})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mo,{className:"w-4 h-4",style:{color:"#8B5CF6"}}),r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"11px",color:"#8B5CF6"},children:""}),r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"11px",color:"#6B7280"},children:"  "})]})]}),r.jsxs(I.button,{whileTap:{scale:.95},onClick:()=>{alert(` PDF     .
  .`)},className:"mt-4 w-full py-2.5 px-4 rounded-lg flex items-center justify-center gap-2",style:{background:re.color,boxShadow:`0 4px 12px ${re.color}40`},children:[r.jsx(Mo,{className:"w-4 h-4",style:{color:"#FFFFFF"}}),r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#FFFFFF"},children:" "})]})]})]})},re.id))})})]})}),S&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)"},children:r.jsxs(I.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md rounded-3xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxHeight:"80vh"},children:[r.jsx("div",{className:"p-6 border-b",style:{borderColor:"rgba(73, 27, 109, 0.1)"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:"D-Day "}),r.jsx("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:400,fontSize:"13px",color:"#6B7280"},children:"  "})]}),r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>N(!1),children:r.jsx(yn,{className:"w-6 h-6",style:{color:"#491B6D"}})})]})}),r.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(80vh - 100px)"},children:r.jsxs("div",{className:"space-y-3",children:[l.map(re=>{const ve=new Date(re.deadline),Qe=C?.name===`${re.name} `;return r.jsx(I.button,{whileTap:{scale:.98},onClick:()=>{A({name:`${re.name} `,date:ve,color:re.color}),N(!1)},className:"w-full p-5 rounded-2xl border text-left",style:{background:Qe?`${re.color}15`:"rgba(255, 255, 255, 0.8)",borderColor:Qe?re.color:"rgba(73, 27, 109, 0.1)",borderWidth:Qe?"2px":"1px"},children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${re.color}20`},children:r.jsx(Ui,{className:"w-6 h-6",style:{color:re.color}})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:re.name}),r.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:" "}),r.jsx("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"12px",color:re.color},children:re.deadline})]}),Qe&&r.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{background:re.color},children:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:3,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})]})},re.id)}),r.jsxs("div",{className:"flex items-center gap-3 py-2",children:[r.jsx("div",{className:"flex-1 h-px",style:{background:"rgba(73, 27, 109, 0.1)"}}),r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"12px",color:"#6B7280"},children:""}),r.jsx("div",{className:"flex-1 h-px",style:{background:"rgba(73, 27, 109, 0.1)"}})]}),r.jsx(I.button,{whileTap:{scale:.98},className:"w-full p-5 rounded-2xl border",style:{background:"rgba(139, 92, 246, 0.05)",borderColor:"rgba(139, 92, 246, 0.2)",borderStyle:"dashed",borderWidth:"2px"},children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:"rgba(139, 92, 246, 0.15)"},children:r.jsx(la,{className:"w-6 h-6",style:{color:"#8B5CF6"}})}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:"  "}),r.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:"  "})]})]})})]})})]})})]})}const dW={},U1=e=>{let t;const n=new Set,s=(m,p)=>{const y=typeof m=="function"?m(t):m;if(!Object.is(y,t)){const v=t;t=p??(typeof y!="object"||y===null)?y:Object.assign({},t,y),n.forEach(b=>b(t,v))}},i=()=>t,u={setState:s,getState:i,getInitialState:()=>f,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(dW?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(s,i,u);return u},uW=e=>e?U1(e):U1;var tm={exports:{}},nm={},rm={exports:{}},sm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function hW(){if(H1)return sm;H1=1;var e=Gl();function t(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,i=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function d(p,y){var v=y(),b=s({inst:{value:v,getSnapshot:y}}),j=b[0].inst,S=b[1];return a(function(){j.value=v,j.getSnapshot=y,u(j)&&S({inst:j})},[p,v,y]),i(function(){return u(j)&&S({inst:j}),p(function(){u(j)&&S({inst:j})})},[p]),l(v),v}function u(p){var y=p.getSnapshot;p=p.value;try{var v=y();return!n(p,v)}catch{return!0}}function f(p,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return sm.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,sm}var q1;function fW(){return q1||(q1=1,rm.exports=hW()),rm.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1;function pW(){if(G1)return nm;G1=1;var e=Gl(),t=fW();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var s=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,l=e.useEffect,d=e.useMemo,u=e.useDebugValue;return nm.useSyncExternalStoreWithSelector=function(f,m,p,y,v){var b=a(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=d(function(){function N(T){if(!C){if(C=!0,A=T,T=y(T),v!==void 0&&j.hasValue){var D=j.value;if(v(D,T))return E=D}return E=T}if(D=E,s(A,T))return D;var R=y(T);return v!==void 0&&v(D,R)?(A=T,D):(A=T,E=R)}var C=!1,A,E,_=p===void 0?null:p;return[function(){return N(m())},_===null?void 0:function(){return N(_())}]},[m,p,y,v]);var S=i(f,b[0],b[1]);return l(function(){j.hasValue=!0,j.value=S},[S]),u(S),S},nm}var K1;function mW(){return K1||(K1=1,tm.exports=pW()),tm.exports}var gW=mW();const xW=zu(gW),KC={},{useDebugValue:yW}=me,{useSyncExternalStoreWithSelector:vW}=xW;let Y1=!1;const bW=e=>e;function wW(e,t=bW,n){(KC?"production":void 0)!=="production"&&n&&!Y1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Y1=!0);const s=vW(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return yW(s),s}const Q1=e=>{(KC?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?uW(e):e,n=(s,i)=>wW(t,s,i);return Object.assign(n,t),n},YC=e=>e?Q1(e):Q1,X1={starredWords:[],graveyardWords:[],wrongAnswersWords:[],myVocabularies:[],isLoading:!1,hasLoaded:!1},cs=async(e,t,n={})=>{const s=e?.();if(!s)throw new Error("  .  .");const i=await fetch(`https://${Ge}.supabase.co/functions/v1/server${t}`,{...n,headers:{Authorization:`Bearer ${s}`,...n.headers}});let a=null;const l=await i.text();if(l)try{a=JSON.parse(l)}catch(d){console.error(" Failed to parse response JSON:",d,l),a={error:l}}if(!i.ok){const d=a?.message||a?.error||" ";throw new Error(d)}return a},jW=YC((e,t)=>({...X1,loadWordLists:async n=>{if(!n?.()){console.log(" Skipping word lists load - no auth token");return}if(!(t().isLoading||t().hasLoaded)){e({isLoading:!0});try{const[i,a,l,d]=await Promise.all([cs(n,"/starred"),cs(n,"/graveyard"),cs(n,"/wrong-answers"),cs(n,"/my-vocabularies")]);e({starredWords:i?.words?.map(u=>u.id)||[],graveyardWords:a?.words?.map(u=>u.id)||[],wrongAnswersWords:l?.words?.map(u=>u.id)||[],myVocabularies:d?.vocabularies||[],hasLoaded:!0})}catch(i){console.error(" Failed to load word lists:",i)}finally{e({isLoading:!1})}}},toggleStarred:async(n,s)=>{if(!n?.()){console.warn(" Cannot toggle starred without auth token");return}const a=t().starredWords.includes(s);e(l=>({starredWords:a?l.starredWords.filter(d=>d!==s):[...l.starredWords,s]}));try{await cs(n,`/starred/${s}`,{method:a?"DELETE":"POST",headers:{"Content-Type":"application/json"}})}catch(l){console.error(" Error toggling starred:",l),e(d=>({starredWords:a?[...d.starredWords,s]:d.starredWords.filter(u=>u!==s)}))}},moveToGraveyard:async(n,s)=>{if(!n?.()){console.warn(" Cannot move to graveyard without auth token");return}const a={graveyardWords:t().graveyardWords,starredWords:t().starredWords,wrongAnswersWords:t().wrongAnswersWords};e(l=>({graveyardWords:l.graveyardWords.includes(s)?l.graveyardWords:[...l.graveyardWords,s],starredWords:l.starredWords.filter(d=>d!==s),wrongAnswersWords:l.wrongAnswersWords.filter(d=>d!==s)}));try{await cs(n,`/graveyard/${s}`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(l){console.error(" Error moving to graveyard:",l),e({graveyardWords:a.graveyardWords,starredWords:a.starredWords,wrongAnswersWords:a.wrongAnswersWords})}},deletePermanently:async(n,s)=>{if(!n?.()){console.warn(" Cannot delete from graveyard without auth token");return}const a={graveyardWords:t().graveyardWords,starredWords:t().starredWords,wrongAnswersWords:t().wrongAnswersWords};e(l=>({graveyardWords:l.graveyardWords.filter(d=>d!==s),starredWords:l.starredWords.filter(d=>d!==s),wrongAnswersWords:l.wrongAnswersWords.filter(d=>d!==s)}));try{await cs(n,`/graveyard/${s}`,{method:"DELETE"})}catch(l){console.error(" Error deleting word permanently:",l),e({graveyardWords:a.graveyardWords,starredWords:a.starredWords,wrongAnswersWords:a.wrongAnswersWords})}},addWrongAnswer:async(n,s)=>{if(!n?.()){console.warn(" Cannot track wrong answer without auth token");return}if(!t().wrongAnswersWords.includes(s)){e(a=>({wrongAnswersWords:[...a.wrongAnswersWords,s]}));try{await cs(n,`/wrong-answers/${s}`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(a){console.error(" Error adding wrong answer:",a),e(l=>({wrongAnswersWords:l.wrongAnswersWords.filter(d=>d!==s)}))}}},refreshMyVocabularies:async n=>{if(!n?.()){console.warn(" Cannot refresh vocabularies without auth token");return}try{const i=await cs(n,"/my-vocabularies");e({myVocabularies:i?.vocabularies||[]})}catch(i){console.error(" Error refreshing vocabularies:",i)}},reset:()=>{e(X1)}}));function SW(e){const{starredWords:t,graveyardWords:n,wrongAnswersWords:s,myVocabularies:i,isLoading:a,loadWordLists:l,toggleStarred:d,moveToGraveyard:u,deletePermanently:f,addWrongAnswer:m,refreshMyVocabularies:p,reset:y}=jW(),v=g.useCallback(()=>l(e),[l,e]),b=g.useCallback(A=>d(e,A),[d,e]),j=g.useCallback(A=>u(e,A),[u,e]),S=g.useCallback(A=>f(e,A),[f,e]),N=g.useCallback(A=>m(e,A),[m,e]),C=g.useCallback(()=>p(e),[p,e]);return{starredWords:t,graveyardWords:n,wrongAnswersWords:s,myVocabularies:i,isLoading:a,loadWordLists:v,toggleStarred:b,moveToGraveyard:j,deletePermanently:S,addWrongAnswer:N,refreshMyVocabularies:C,resetStore:y}}function NW(e){const[t,n]=g.useState(0),s=g.useRef(null),i=()=>{s.current&&clearTimeout(s.current);const l=t+1;n(l),l>=5?(n(0),e.onAdminAccess&&e.onAdminAccess()):s.current=setTimeout(()=>{n(0)},2e3)},a=()=>{if(!e.ddayInfo)return null;const l=new Date;l.setHours(0,0,0,0);const d=new Date(e.ddayInfo.date);d.setHours(0,0,0,0);const u=Math.ceil((d.getTime()-l.getTime())/(1e3*60*60*24));return Math.abs(u)};return r.jsxs("div",{className:"relative px-7 pt-6 pb-5 overflow-hidden",style:{background:"transparent"},children:[r.jsx("div",{className:"absolute top-0 left-0 w-40 h-40 rounded-full opacity-20 blur-3xl",style:{background:"radial-gradient(circle, rgba(139, 92, 246, 0.3) 0%, transparent 70%)",transform:"translate(-20%, -20%)"}}),r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 rounded-full opacity-15 blur-3xl",style:{background:"radial-gradient(circle, rgba(167, 139, 250, 0.3) 0%, transparent 70%)",transform:"translate(20%, -20%)"}}),r.jsxs("div",{className:"relative flex items-center justify-between",children:[r.jsx(I.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{duration:.6,ease:[.16,1,.3,1]},className:"flex flex-col gap-0",children:r.jsxs("div",{style:{fontFamily:"Inter, -apple-system, sans-serif",fontSize:"36px",letterSpacing:"-1.6px",filter:"drop-shadow(0 1px 1px rgba(9, 26, 122, 0.08))"},onClick:i,children:[r.jsx("span",{style:{fontWeight:800,color:"#091A7A"},children:"JEJE"}),r.jsx("span",{style:{fontWeight:500,color:"#091A7A"},children:"VOCA"})]})}),r.jsxs(I.div,{initial:{opacity:0,x:15},animate:{opacity:1,x:0},transition:{duration:.6,ease:[.16,1,.3,1]},className:"flex items-center gap-3",children:[r.jsxs(I.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1,duration:.5},className:"flex flex-col items-end gap-1",children:[r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsxs("span",{style:{fontFamily:"Lexend, sans-serif",fontSize:"12px",fontWeight:600,color:"#491B6D"},children:[e.userName||"",""]}),r.jsx("span",{style:{fontSize:"13px"},children:""})]}),e.ddayInfo&&r.jsx(I.button,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},whileTap:{scale:.95},onClick:e.onDdayClick,children:r.jsx("div",{className:"px-3 py-1 rounded-xl",style:{background:"#491B6D",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.08)"},children:r.jsxs("span",{style:{fontFamily:"Lexend, sans-serif",fontSize:"13px",fontWeight:700,color:"white",letterSpacing:"0.3px"},children:["D-",a()]})})})]}),r.jsx(I.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},whileTap:{scale:.9},className:"w-12 h-12 rounded-full flex items-center justify-center border-none",style:{background:"white",boxShadow:"0 1px 2px rgba(9, 26, 122, 0.08)",cursor:"pointer"},onClick:e.onLogout,children:r.jsx(g6,{className:"w-5 h-5",style:{color:"#091A7A"}})})]})]})]})}const kW="/assets/d591fc627aa5b7799a1427ce1ddf2818333b2abf-DlciBEN6.png",CW="/assets/58e118d790296ac36e08d84dc8b8f99cdbd1d5bf-BOVzN0Jf.png";function EW(){return r.jsx(I.img,{src:CW,alt:"Star",width:64,height:64,className:"w-16 h-16 object-contain",whileTap:{scale:.95}})}const AW="/assets/2826bb0f82e8ee44cdcabe4b9b093d546b513206-CY4s6HfL.png";function _W(){return r.jsx(I.img,{src:AW,alt:"Skull",width:64,height:64,className:"w-16 h-16 object-contain",whileTap:{scale:.95}})}function TW({onSubjectClick:e,onCalendarClick:t,starredCount:n=0,graveyardCount:s=0,wrongAnswersCount:i=0}){const a=[{id:"starred",name:" ",description:"",progress:0,icon:r.jsx(EW,{}),color:"from-[#091A7A] to-[#FCD34D]",count:n},{id:"graveyard",name:" ",description:"",progress:0,icon:r.jsx(_W,{}),color:"from-[#091A7A] to-[#6B7280]",count:s},{id:"wrong-answers",name:" ",description:"",progress:0,icon:r.jsx(pC,{src:kW,alt:"Wrong Answers Icon",className:"w-7 h-7"}),color:"from-[#091A7A] to-[#EF4444]",count:i},{id:"calendar",name:" ",description:"",progress:0,icon:r.jsx(Ui,{className:"w-7 h-7"}),color:"from-[#091A7A] to-[#3B82F6]",count:0}];return r.jsx("div",{className:"relative mx-6 mb-6",children:r.jsx("div",{className:"grid grid-cols-4 gap-3",children:a.map((l,d)=>r.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7+d*.1,duration:.5},whileTap:{scale:.95},onClick:()=>l.id==="calendar"&&t?t():e(l),className:"relative flex-1 cursor-pointer",children:r.jsxs("div",{className:"relative p-2 border rounded-[20px] overflow-visible group",style:{width:"75px",height:"75px",background:l.id==="starred"?"linear-gradient(135deg, rgba(254, 252, 232, 1) 0%, rgba(254, 249, 195, 1) 100%)":l.id==="graveyard"?"linear-gradient(135deg, rgba(249, 250, 251, 1) 0%, rgba(243, 244, 246, 1) 100%)":l.id==="wrong-answers"?"linear-gradient(135deg, rgba(254, 242, 242, 1) 0%, rgba(254, 226, 226, 1) 100%)":l.id==="calendar"?"linear-gradient(135deg, rgba(219, 234, 254, 1) 0%, rgba(191, 219, 254, 1) 100%)":"linear-gradient(135deg, rgba(173, 200, 255, 1) 0%, rgba(173, 200, 255, 0.9) 100%)",borderColor:"rgba(255, 255, 255, 0.3)",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.08)"},children:[r.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center gap-2",children:[l.id!=="calendar"&&r.jsx(I.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.9+d*.1,duration:.4,type:"spring",stiffness:200},className:"absolute min-w-[24px] h-[24px] px-2 flex items-center justify-center rounded-full",style:{top:"-4px",right:"-4px",background:l.id==="starred"?"linear-gradient(135deg, #FCD34D 0%, #F59E0B 100%)":l.id==="graveyard"?"linear-gradient(135deg, #9CA3AF 0%, #6B7280 100%)":"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"},children:r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"11px",lineHeight:"14px",color:"#FFFFFF"},children:l.count})}),l.icon&&r.jsx(I.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:.9},transition:{delay:.8+d*.15,duration:.5,type:"spring"},className:"w-7 h-7 flex items-center justify-center",style:{filter:"drop-shadow(0 1px 1px rgba(0, 0, 0, 0.08))"},children:l.icon}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"10px",lineHeight:"14px",color:"#091A7A"},children:l.name}),l.id==="calendar"&&r.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"8px",lineHeight:"10px",color:"#6B7280",marginTop:"2px"},children:"()"})]})]}),r.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-full",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 50%, transparent 100%)"}})]})},l.id))})})}const PW="data:image/svg+xml,%3Csvg%20preserveAspectRatio%3D%22none%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20overflow%3D%22visible%22%20style%3D%22display%3A%20block%3B%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20id%3D%22home-01%22%3E%0A%3Cpath%20id%3D%22Vector%22%20d%3D%22M3%2011.9896V14.5C3%2017.7998%203%2019.4497%204.02513%2020.4749C5.05025%2021.5%206.70017%2021.5%2010%2021.5H14C17.2998%2021.5%2018.9497%2021.5%2019.9749%2020.4749C21%2019.4497%2021%2017.7998%2021%2014.5V11.9896C21%2010.3083%2021%209.46773%2020.6441%208.74005C20.2882%208.01237%2019.6247%207.49628%2018.2976%206.46411L16.2976%204.90855C14.2331%203.30285%2013.2009%202.5%2012%202.5C10.7991%202.5%209.76689%203.30285%207.70242%204.90855L5.70241%206.46411C4.37533%207.49628%203.71179%208.01237%203.3559%208.74005C3%209.46773%203%2010.3083%203%2011.9896Z%22%20stroke%3D%22var(--stroke-0%2C%20white)%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%3Cpath%20id%3D%22Vector_2%22%20d%3D%22M15.0002%2017C14.2007%2017.6224%2013.1504%2018%2012.0002%2018C10.8499%2018%209.79971%2017.6224%209.00018%2017%22%20stroke%3D%22var(--stroke-0%2C%20white)%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A";function RW({src:e,active:t,IconComponent:n,isEmoji:s,emojiText:i}){return s&&i?r.jsx("div",{className:"relative w-6 h-6 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:i})}):n?r.jsx("div",{className:"relative w-6 h-6 flex items-center justify-center",children:r.jsx(n,{className:`w-5 h-5 transition-all duration-300 ${t?"text-[#8B5CF6]":"text-white"}`,strokeWidth:2})}):r.jsx("div",{className:"relative w-6 h-6 flex items-center justify-center",children:r.jsx("img",{className:`w-full h-full object-contain transition-all duration-300 ${t?"brightness-0 saturate-100":"brightness-0 invert"}`,style:t?{filter:"invert(40%) sepia(89%) saturate(2476%) hue-rotate(242deg) brightness(96%) contrast(92%)"}:{},src:e,alt:""})})}function DW({currentScreen:e,onScreenChange:t}){const n=[{icon:PW,screen:"home",active:e==="home"},{IconComponent:Ku,screen:"gift",active:e==="gift"},{IconComponent:fr,screen:"vocabulary-creator",active:e==="vocabulary-creator"},{IconComponent:Rm,screen:"ai",active:e==="ai"},{IconComponent:xS,screen:"text-extractor",active:e==="text-extractor"}],s=[10,70,130,190,250],i=[10,70,130,190,250],a=()=>{switch(e){case"home":return 0;case"gift":return 1;case"vocabulary-creator":return 2;case"ai":case"ai-tutor":return 3;case"text-extractor":return 4;default:return 0}};return r.jsx(I.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:1,duration:.6,ease:"easeOut"},className:"fixed bottom-6 left-4 right-4 z-50",children:r.jsxs("div",{className:"bg-[#091A7A]/95 backdrop-blur-lg relative rounded-[50px] mx-auto shadow-elevated border border-white/20",style:{width:"320px",height:"80px"},children:[r.jsx(I.div,{className:"absolute bg-white rounded-full shadow-interactive",style:{width:"60px",height:"60px",top:"10px"},animate:{left:`${i[a()]}px`},transition:{duration:.3,ease:"easeInOut"}}),r.jsx("div",{className:"absolute inset-0",children:n.map((l,d)=>r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>t(l.screen),className:"absolute z-10 flex items-center justify-center rounded-full transition-all duration-200",style:{left:`${s[d]}px`,width:"60px",height:"60px",top:"10px"},children:r.jsx(RW,{src:l.icon,IconComponent:l.IconComponent,active:l.active,isEmoji:l.isEmoji,emojiText:l.emojiText})},d))})]})})}let au=null,zo=null;function OW(){console.log("[VocabularyListSection] Invalidating cache"),au=null,zo=null}function IW({onSelectVocabulary:e,onStartFlashcards:t,getAuthToken:n,onRefresh:s}){const[i,a]=g.useState([]),[l,d]=g.useState([]),[u,f]=g.useState(!1),[m,p]=g.useState({}),[y,v]=g.useState(!0),[b,j]=g.useState(!1),[S,N]=g.useState(!1),[C,A]=g.useState(!1),[E,_]=g.useState(null),[T,D]=g.useState(null),[R,V]=g.useState("");g.useEffect(()=>{let W=!1;const L=U=>{W||(a(U.myOwnVocabularies),d(U.mySharedVocabularies),v(!1))};if(au)return L(au),()=>{W=!0};if(zo)return v(!0),zo.then(U=>L(U)).catch(U=>{W||(console.error("Failed to load vocabularies:",U),v(!1))}),()=>{W=!0};v(!0);const K=(async()=>{const U=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies`,{headers:{Authorization:`Bearer ${n?n():Yt}`}}),ee={myOwnVocabularies:[],mySharedVocabularies:[],timestamp:Date.now()};if(U.ok){const le=(await U.json()).vocabularies||[];ee.myOwnVocabularies=le.filter(fe=>!fe.shared_vocabulary_id),ee.mySharedVocabularies=le.filter(fe=>fe.shared_vocabulary_id),console.log(" Loaded My Own vocabularies:",ee.myOwnVocabularies.length),console.log(" Loaded My Shared vocabularies:",ee.mySharedVocabularies.length)}else{const Y=await U.text();console.error(" Failed to load user vocabularies:",Y)}return au=ee,ee})();return zo=K,K.then(U=>L(U)).catch(U=>{W||(console.error("Failed to load vocabularies:",U),v(!1))}).finally(()=>{zo===K&&(zo=null)}),()=>{W=!0}},[n]);const G={id:"my-own",title:"  ",subtitle:" ",progress:0,isExpanded:u,items:i.map(W=>({id:W.id,title:W.title,wordCount:W.active_words??W.total_words??0,estimatedTime:`${Math.ceil((W.active_words??W.total_words??0)/3)} min`,isCompleted:!1,progress:0}))},ie=(()=>{const W={};return l.forEach(L=>{const K=L.category||"Uncategorized";W[K]||(W[K]=[]),W[K].push(L)}),Object.entries(W).map(([L,K])=>{const U=K.reduce((ee,Y)=>ee+(Y.active_words??Y.total_words??0),0);return{id:`category-${L}`,title:L,subtitle:`${U}   ${K.length} `,progress:0,units:K.map(ee=>({id:ee.id,title:ee.title,wordCount:ee.active_words??ee.total_words??0,startIndex:1,endIndex:ee.active_words??ee.total_words??0})),isExpanded:m[L]||!1,vocabularyId:L,wordsPerUnit:0,totalWords:U}})})(),oe=[G],Z=W=>{if(W==="my-own")f(!u);else if(W.startsWith("category-")){const L=W.replace("category-","");p(K=>({...K,[L]:!K[L]}))}},F=W=>{e(W.id,W.title)},z=(W,L)=>{L.stopPropagation(),_(W),V(W.title),j(!0)},B=(W,L)=>{L.stopPropagation(),_(W),N(!0)},O=async()=>{if(!(!E||!R.trim()))try{const W=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/${E.id}`,{method:"PUT",headers:{Authorization:`Bearer ${n?n():Yt}`,"Content-Type":"application/json"},body:JSON.stringify({title:R.trim()})});if(W.ok)a(L=>L.map(K=>K.id===E.id?{...K,title:R.trim()}:K)),j(!1),_(null),V(""),console.log("Vocabulary renamed successfully"),s&&s();else{const L=await W.json();console.error("Failed to rename vocabulary:",L),alert("  .")}}catch(W){console.error("Error renaming vocabulary:",W),alert("    .")}},$=async()=>{if(E)try{const W=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/${E.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${n?n():Yt}`}});if(W.ok)a(L=>L.filter(K=>K.id!==E.id)),N(!1),_(null),console.log("Vocabulary deleted successfully"),s&&s();else{const L=await W.json();console.error("Failed to delete vocabulary:",L),alert(" .")}}catch(W){console.error("Error deleting vocabulary:",W),alert("   .")}},q=(W,L,K)=>{K.stopPropagation(),D({id:W,title:L}),A(!0)},M=async()=>{if(T)try{const W=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/${T.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${n?n():Yt}`}});if(W.ok)d(L=>L.filter(K=>K.id!==T.id)),A(!1),D(null),console.log("Shared vocabulary deleted successfully"),s&&s();else{const L=await W.json();console.error("Failed to delete shared vocabulary:",L),alert(" .")}}catch(W){console.error("Error deleting shared vocabulary:",W),alert("   .")}};return y?r.jsx("div",{className:"px-6 py-8",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-[#8B5CF6] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-[#491B6D]",style:{fontSize:"14px",fontWeight:500},children:"  ..."})]})})}):r.jsxs("div",{className:"px-6",children:[r.jsxs("div",{className:"space-y-2.5",children:[oe.map((W,L)=>r.jsx("div",{children:r.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.1},className:"rounded-2xl overflow-hidden bg-gradient-to-br from-[#FDF2F8] to-[#FCE7F3]",style:{boxShadow:"0 1px 2px rgba(0, 0, 0, 0.06)"},children:[r.jsxs(I.div,{whileTap:{scale:.98},onClick:()=>Z(W.id),className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-[#091A7A] mb-1",style:{fontSize:"16px",fontWeight:600},children:W.title}),r.jsxs("span",{className:"inline-block text-[#9CA3AF]",style:{fontSize:"11px",fontWeight:500},children:[W.items.reduce((K,U)=>K+U.wordCount,0)," words"]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsxs("span",{className:"text-[#9CA3AF]",style:{fontSize:"12px",fontWeight:600},children:[W.progress,"%"]}),r.jsx(I.div,{animate:{rotate:W.isExpanded?180:0},transition:{duration:.3},children:r.jsx(Hn,{className:"w-5 h-5 text-[#091A7A]"})})]})]}),r.jsx("div",{className:"mt-2.5",children:r.jsx("div",{className:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden",children:r.jsx(I.div,{initial:{width:0},animate:{width:`${W.progress}%`},transition:{duration:.8,delay:L*.1+.2},className:"h-full bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] rounded-full"})})})]}),r.jsx(pt,{children:W.isExpanded&&r.jsx(I.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-200/50 overflow-hidden",children:r.jsx("div",{className:"p-2 space-y-1.5",children:W.items.map((K,U)=>r.jsxs(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:U*.05},whileTap:{scale:.98},onClick:()=>F(K),className:"bg-gradient-to-r from-white/95 to-[#FDF2F8]/90 backdrop-blur-sm rounded-xl p-3 flex items-center gap-2.5",children:[r.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-[#F9A8D4] to-[#EC4899] rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white",style:{fontSize:"12px",fontWeight:600},children:U+1})}),r.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between",children:[r.jsx("h4",{className:"text-[#091A7A]",style:{fontSize:"14px",fontWeight:600},children:K.title}),r.jsxs("span",{className:"text-[#F472B6]",style:{fontSize:"11px"},children:[K.wordCount," words"]})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx("button",{onClick:ee=>{ee.stopPropagation(),t&&t(K.id,K.title)},className:"p-1.5 hover:bg-pink-100 rounded-lg transition-colors",title:" ",children:r.jsx(mu,{className:"w-5 h-5 text-[#EC4899]"})})}),r.jsx("div",{className:"flex-shrink-0",onClick:ee=>ee.stopPropagation(),children:r.jsxs(dC,{children:[r.jsx(uC,{asChild:!0,children:r.jsx("button",{className:"p-1 hover:bg-pink-100 rounded-lg transition-colors",children:r.jsx(dS,{className:"w-5 h-5 text-[#EC4899]"})})}),r.jsx(hC,{className:"w-40 p-2 bg-white border border-gray-200 shadow-lg",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:ee=>z(K,ee),children:[r.jsx(yS,{className:"w-4 h-4 text-[#8B5CF6]"}),r.jsx("span",{className:"text-[#8B5CF6]",style:{fontSize:"14px",fontWeight:500},children:" "})]}),r.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:ee=>B(K,ee),children:[r.jsx(bs,{className:"w-4 h-4 text-[#EF4444]"}),r.jsx("span",{className:"text-[#EF4444]",style:{fontSize:"14px",fontWeight:500},children:""})]})]})})]})})]},K.id))})})})]})},W.id)),ie.map((W,L)=>r.jsx("div",{children:r.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:(oe.length+L)*.1},className:"bg-gradient-to-br from-[#F3E8FF] to-[#E9D5FF] rounded-2xl overflow-hidden border border-[#C4B5FD]/30",style:{boxShadow:"0 1px 2px rgba(0, 0, 0, 0.06)"},children:[r.jsxs(I.div,{whileTap:{scale:.98},onClick:()=>Z(W.id),className:"p-4 cursor-pointer",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ku,{className:"w-5 h-5 text-[#8B5CF6]"}),r.jsx("h3",{className:"text-[#5B21B6]",style:{fontSize:"16px",fontWeight:600},children:W.title})]}),r.jsx("span",{className:"inline-block text-[#7C3AED] mt-1",style:{fontSize:"11px",fontWeight:500},children:W.subtitle})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsxs("span",{className:"text-[#7C3AED]",style:{fontSize:"12px",fontWeight:600},children:[W.progress,"%"]}),r.jsx(I.div,{animate:{rotate:W.isExpanded?180:0},transition:{duration:.3},children:r.jsx(Hn,{className:"w-5 h-5 text-[#5B21B6]"})})]})]}),r.jsx("div",{className:"mt-2.5",children:r.jsx("div",{className:"w-full h-1.5 bg-white/60 rounded-full overflow-hidden",children:r.jsx(I.div,{initial:{width:0},animate:{width:`${W.progress}%`},transition:{duration:.8,delay:(oe.length+L)*.1+.2},className:"h-full bg-gradient-to-r from-[#7C3AED] to-[#A78BFA] rounded-full"})})})]}),r.jsx(pt,{children:W.isExpanded&&r.jsx(I.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-[#C4B5FD]/30 overflow-hidden",children:r.jsx("div",{className:"p-2 space-y-1.5",children:W.units.map((K,U)=>r.jsxs(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:U*.05},whileTap:{scale:.98},onClick:()=>e(K.id,K.title),className:"bg-white/90 backdrop-blur-sm rounded-xl p-3 flex items-center gap-2.5",children:[r.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-[#A78BFA] to-[#7C3AED] rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white",style:{fontSize:"12px",fontWeight:600},children:U+1})}),r.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between",children:[r.jsx("h4",{className:"text-[#5B21B6]",style:{fontSize:"14px",fontWeight:600},children:K.title}),r.jsxs("span",{className:"text-[#8B5CF6]",style:{fontSize:"11px"},children:[K.wordCount," words"]})]}),r.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1",children:[r.jsx("button",{onClick:ee=>{ee.stopPropagation(),t&&t(K.id,K.title)},className:"p-1.5 hover:bg-purple-100 rounded-lg transition-colors",title:" ",children:r.jsx(mu,{className:"w-5 h-5 text-[#7C3AED]"})}),r.jsx("button",{onClick:ee=>q(K.id,K.title,ee),className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors",title:"",children:r.jsx(bs,{className:"w-4 h-4 text-red-500"})})]})]},K.id))})})})]})},W.id))]}),r.jsx(Jo,{open:b,onOpenChange:j,children:r.jsxs(Zo,{className:"sm:max-w-[350px] bg-white rounded-[24px] border-none shadow-xl",children:[r.jsx(ea,{children:r.jsx(na,{className:"text-[#091A7A] text-lg font-bold",children:"  "})}),r.jsx("div",{className:"space-y-4",children:r.jsx($l,{id:"name",value:R,onChange:W=>V(W.target.value),placeholder:" ",className:"rounded-xl border-gray-200 focus:border-[#8B5CF6] focus:ring-[#8B5CF6]"})}),r.jsxs(ta,{className:"flex-col gap-2 sm:flex-col",children:[r.jsx(nn,{type:"button",onClick:O,className:"w-full bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] hover:from-[#7C3AED] hover:to-[#6D28D9] text-white rounded-xl h-11 font-medium",children:""}),r.jsx(nn,{type:"button",onClick:()=>j(!1),className:"w-full bg-white hover:bg-gray-50 text-[#091A7A] border border-gray-200 rounded-xl h-11 font-medium",children:""})]})]})}),r.jsx(Jo,{open:S,onOpenChange:N,children:r.jsxs(Zo,{className:"sm:max-w-[350px] bg-white rounded-[24px] border-none shadow-xl",children:[r.jsx(ea,{children:r.jsx(na,{className:"text-[#091A7A] text-lg font-bold",children:" "})}),r.jsx("div",{className:"space-y-3",children:r.jsx("p",{className:"text-[#091A7A] text-sm",children:"   ?"})}),r.jsxs(ta,{className:"flex-col gap-2 sm:flex-col",children:[r.jsx(nn,{type:"button",onClick:$,className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl h-11 font-medium",children:""}),r.jsx(nn,{type:"button",onClick:()=>N(!1),className:"w-full bg-white hover:bg-gray-50 text-[#091A7A] border border-gray-200 rounded-xl h-11 font-medium",children:""})]})]})}),r.jsx(Jo,{open:C,onOpenChange:A,children:r.jsxs(Zo,{className:"sm:max-w-[350px] bg-white rounded-[24px] border-none shadow-xl",children:[r.jsx(ea,{children:r.jsx(na,{className:"text-[#091A7A] text-lg font-bold",children:"  "})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("p",{className:"text-[#091A7A] text-sm",children:[r.jsx("strong",{className:"text-[#8B5CF6]",children:T?.title}),"  ?"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"       ."})]}),r.jsxs(ta,{className:"flex-col gap-2 sm:flex-col",children:[r.jsx(nn,{type:"button",onClick:M,className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl h-11 font-medium",children:""}),r.jsx(nn,{type:"button",onClick:()=>A(!1),className:"w-full bg-white hover:bg-gray-50 text-[#091A7A] border border-gray-200 rounded-xl h-11 font-medium",children:""})]})]})})]})}const Oo=[{id:1,question:"What is 15  8?",options:["110","120","130","140"],correctAnswer:1},{id:2,question:"Which planet is known as the Red Planet?",options:["Venus","Mars","Jupiter","Saturn"],correctAnswer:1},{id:3,question:"What is the capital of Australia?",options:["Sydney","Melbourne","Canberra","Perth"],correctAnswer:2}];function FW({onBack:e,onXPGain:t,onStreakIncrease:n}){const[s,i]=g.useState(0),[a,l]=g.useState(null),[d,u]=g.useState(!1),[f,m]=g.useState(0),[p,y]=g.useState(30),[v,b]=g.useState(!1),j=Oo[s];g.useEffect(()=>{if(d||v)return;const A=setInterval(()=>{y(E=>E<=1?(u(!0),0):E-1)},1e3);return()=>clearInterval(A)},[s,d,v]),g.useEffect(()=>{if(d&&p===0){const A=setTimeout(()=>{N()},2e3);return()=>clearTimeout(A)}},[d,p]);const S=A=>{d||l(A)},N=()=>{if(a===j.correctAnswer&&m(A=>A+1),u(!1),l(null),s<Oo.length-1)i(A=>A+1),y(30);else{b(!0);const A=f*50+(a===j.correctAnswer?50:0);t(A),f>=2&&n()}},C=()=>{a!==null&&u(!0)};return v?r.jsxs("div",{className:"p-6 h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[r.jsx(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"w-12 h-12 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/50",children:r.jsx(ys,{className:"w-5 h-5 text-[#091A7A]"})}),r.jsx("h1",{className:"text-2xl font-bold text-[#091A7A]",children:"Quiz Complete!"})]}),r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-8",children:[r.jsx(I.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-32 h-32 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full flex items-center justify-center shadow-xl",children:r.jsx(vs,{className:"w-16 h-16 text-white",fill:"currentColor"})}),r.jsxs("div",{className:"text-center space-y-4",children:[r.jsxs("h2",{className:"text-3xl font-bold text-[#091A7A]",children:[f,"/3"]}),r.jsx("p",{className:"text-lg text-[#091A7A]/70",children:"Great job!"}),r.jsx("div",{className:"px-6 py-3 bg-gradient-to-r from-green-100 to-green-50 rounded-2xl border border-green-200",children:r.jsxs("p",{className:"text-green-700 font-semibold",children:["+",f*50," XP Earned!"]})})]}),r.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"w-full py-4 bg-gradient-to-r from-[#091A7A] to-[#1a2b8a] text-white font-semibold rounded-2xl shadow-lg",children:"Continue Learning"})]})]}):r.jsxs("div",{className:"p-6 h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsx(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"w-12 h-12 bg-card-glass backdrop-blur-lg rounded-full flex items-center justify-center shadow-card border border-white/20 animate-button",children:r.jsx(ys,{className:"w-5 h-5 text-[#091A7A]"})}),r.jsxs(I.div,{animate:{scale:p<=5?[1,1.1,1]:1,backgroundColor:p<=5?["rgba(255,255,255,0.9)","rgba(239,68,68,0.2)","rgba(255,255,255,0.9)"]:"rgba(255,255,255,0.9)"},transition:{duration:p<=5?.5:0,repeat:p<=5?1/0:0},className:"flex items-center gap-2 px-4 py-2 bg-card-glass backdrop-blur-lg rounded-[50px] border border-white/20",children:[r.jsx(aa,{className:`w-4 h-4 ${p<=5?"text-[#EF4444]":"text-[#091A7A]"}`}),r.jsxs("span",{className:`text-small font-medium ${p<=5?"text-[#EF4444]":"text-[#091A7A]"}`,children:[p,"s"]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between text-small text-[#6B7280] mb-3",children:[r.jsxs("span",{children:["Question ",s+1," of ",Oo.length]}),r.jsxs("span",{className:"font-medium text-[#091A7A]",children:[Math.round(s/Oo.length*100),"%"]})]}),r.jsx("div",{className:"h-3 bg-white/40 rounded-[50px] overflow-hidden border border-white/20",children:r.jsx(I.div,{initial:{width:0},animate:{width:`${(s+1)/Oo.length*100}%`},className:"h-full bg-gradient-to-r from-[#091A7A] to-[#3B82F6] rounded-[50px]"})})]}),r.jsxs("div",{className:"flex-1 space-y-6",children:[r.jsxs(I.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"p-6 bg-white/80 backdrop-blur-sm rounded-3xl border border-white/60 shadow-lg",children:[r.jsx("h2",{className:"text-xl font-bold text-[#091A7A] mb-6",children:j.question}),r.jsx("div",{className:"space-y-3",children:j.options.map((A,E)=>r.jsx(I.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>S(E),className:`w-full p-4 text-left rounded-2xl border-2 transition-all ${a===E?d?E===j.correctAnswer?"bg-green-100 border-green-300 text-green-800":"bg-red-100 border-red-300 text-red-800":"bg-[#ADC8FF]/30 border-[#091A7A] text-[#091A7A]":d&&E===j.correctAnswer?"bg-green-100 border-green-300 text-green-800":"bg-white/60 border-white/40 text-[#091A7A] hover:bg-[#ADC8FF]/20"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium",children:A}),d&&r.jsxs(r.Fragment,{children:[E===j.correctAnswer&&r.jsx(Dn,{className:"w-5 h-5 text-green-600"}),a===E&&E!==j.correctAnswer&&r.jsx(cS,{className:"w-5 h-5 text-red-600"})]})]})},E))})]},s),r.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d?N:C,disabled:a===null&&!d,className:`w-full py-4 font-semibold rounded-full shadow-lg transition-all text-center ${a===null&&!d?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-[#091A7A] to-[#1a2b8a] text-white"}`,children:d?s<Oo.length-1?"Next Question":"Finish Quiz":"Submit Answer"})]})]})}const MW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>RV),void 0).then(e=>({default:e.VocabularyCard}))),$W=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>FV),void 0).then(e=>({default:e.VocabularyTable}))),BW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>MV),void 0).then(e=>({default:e.VocabularyTableSimple}))),LW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>$V),void 0).then(e=>({default:e.VocabularyTestSimple}))),zW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>BV),void 0).then(e=>({default:e.VocabularyTestSynonym}))),WW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>LV),void 0).then(e=>({default:e.VocabularyTestSynonymAnswer}))),VW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>OV),void 0).then(e=>({default:e.A4PageLayout}))),UW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>DV),void 0).then(e=>({default:e.HeaderFooter}))),J1=[{id:"card",title:"",description:", ,   ",icon:pS},{id:"table",title:" ",description:"     ",icon:jS},{id:"simple",title:" ",description:"   ",icon:bS},{id:"quiz-simple",title:" ",description:"   ",icon:fr},{id:"quiz-synonym",title:" ",description:"  ",icon:mS},{id:"quiz-synonym-answer",title:" ",description:"   ",icon:uS}],hg=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>typeof t=="string"?t:typeof t=="object"&&t!==null?t.word:"").map(t=>(t||"").trim()).filter(Boolean);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return hg(t)}catch{}return e.split(/[\n,]+/).map(t=>t.trim()).filter(Boolean)}return[]},fg=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>{if(typeof t=="string"){const[n,s]=t.split(":").map(i=>i.trim());return{word:n,meaning:s||""}}return typeof t=="object"&&t!==null?{word:String(t.word||"").trim(),meaning:String(t.meaning||"").trim()}:{word:"",meaning:""}}).filter(t=>t.word);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return fg(t)}catch{}return e.split(/[,;]/).map(t=>{const[n,s]=t.split(":").map(i=>i.trim());return{word:n,meaning:s||""}}).filter(t=>t.word)}return typeof e=="object"?fg([e]):[]},HW=e=>(e||[]).map((t,n)=>{const s=t||{},i=String(s.word||s.term||"").trim();return i?{id:n+1,word:i,pronunciation:s.pronunciation||"",partOfSpeech:s.partOfSpeech||s.part_of_speech||"",meaning:s.meaning||s.translation||"",definition:s.definition||"",synonyms:hg(s.synonyms),antonyms:hg(s.antonyms),derivatives:fg(s.derivatives),example:s.example||s.example_sentence||"",translation:s.translation||"",translationHighlight:s.translationHighlight||s.translation_highlight||"",etymology:s.etymology||""}:null}).filter(Boolean),qW=`
@media screen {
  #pdf-print-layout {
    display: none;
  }
}

@media print {
  body {
    margin: 0 !important;
    background: #fff !important;
  }
  .pdf-print-overlay {
    display: none !important;
  }
  #pdf-print-layout {
    display: block !important;
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
  }
}
`;function GW({onBack:e,vocabularyId:t,vocabularyTitle:n,words:s,hideHeader:i=!1}){const[a,l]=g.useState("card"),d=g.useMemo(()=>HW(s||[]),[s]),u=g.useMemo(()=>({headerTitle:n||"AI Vocabulary",headerDescription:d.length?`${d.length.toLocaleString()} `:"",footerLeft:new Date().toLocaleDateString("ko-KR")}),[n,d.length]),f=()=>d.length?r.jsxs(g.Suspense,{fallback:r.jsx("div",{className:"py-16 text-center text-gray-400 text-sm",children:"  ..."}),children:[a==="card"&&r.jsx(VW,{headerContent:r.jsx(UW,{headerInfo:u,showFooter:!0}),showHeaderOnFirstPageOnly:!0,children:d.map(p=>r.jsx(MW,{...p},p.id))}),a==="table"&&r.jsx($W,{data:d,headerInfo:u}),a==="simple"&&r.jsx(BW,{data:d,headerInfo:u}),a==="quiz-simple"&&r.jsx(LW,{data:d,headerInfo:u}),a==="quiz-synonym"&&r.jsx(zW,{data:d,headerInfo:u}),a==="quiz-synonym-answer"&&r.jsx(WW,{data:d,headerInfo:u})]}):null,m=()=>{if(!d.length){alert("  .");return}window.print()};return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:qW}}),r.jsxs("div",{className:"h-full flex flex-col pdf-print-overlay pdf-print-root",children:[!i&&r.jsx(nc,{onBack:e,title:"PDF ",subtitle:"  "}),r.jsxs("main",{className:`flex-1 overflow-y-auto scrollbar-hide px-4 ${i?"pt-2 pb-6":"pt-4 pb-28"} space-y-6`,children:[!i&&r.jsxs("section",{className:"max-w-4xl mx-auto bg-white/90 backdrop-blur-lg rounded-2xl border border-white/50 shadow-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-500",children:" "}),r.jsx("p",{className:"text-xl font-bold text-[#091A7A]",children:n||"  "}),r.jsx("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-400 mt-2",children:r.jsxs("span",{children:[d.length.toLocaleString()," "]})})]}),r.jsx("section",{className:"max-w-4xl mx-auto",children:r.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:J1.map(p=>{const y=p.icon,v=a===p.id;return r.jsx(I.button,{whileTap:{scale:.98},onClick:()=>l(p.id),className:`w-full p-4 bg-white/90 backdrop-blur-lg rounded-2xl border-2 shadow-lg transition-all text-left ${v?"border-[#491B6D] shadow-xl":"border-white/40"}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center ${v?"bg-[#491B6D] text-white":"bg-[#F3E8FF] text-[#7C3AED]"}`,children:r.jsx(y,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:`mb-1 ${v?"text-[#491B6D]":"text-[#091A7A]"}`,style:{fontSize:"16px",fontWeight:600},children:p.title}),r.jsx("p",{className:"text-[#6B7280]",style:{fontSize:"13px",fontWeight:400},children:p.description})]})]})},p.id)})})}),r.jsx("section",{className:"max-w-4xl mx-auto",children:r.jsxs(I.button,{whileTap:{scale:.98},onClick:m,disabled:!d.length,className:`w-full py-4 rounded-2xl shadow-xl flex items-center justify-center gap-2 ${d.length===0?"bg-gray-300 opacity-50 cursor-not-allowed text-white":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] text-white"}`,children:[r.jsx(vS,{className:"w-5 h-5"}),r.jsx("span",{className:"text-white",style:{fontSize:"16px",fontWeight:600},children:d.length===0?"  ":`${J1.find(p=>p.id===a)?.title} `})]})})]})]}),r.jsx("div",{id:"pdf-print-layout",className:"pdf-print-root",children:d.length?f():null})]})}const im=5;function KW({words:e,mode:t,onComplete:n,onWrongAnswer:s}){const[i,a]=g.useState([]),[l,d]=g.useState(0),[u,f]=g.useState([]),[m,p]=g.useState([]),[y,v]=g.useState(null),[b,j]=g.useState(null),[S,N]=g.useState(new Set),[C,A]=g.useState(null),[E,_]=g.useState(0),[T,D]=g.useState(0),[R,V]=g.useState(0),G=Math.ceil(e.length/im);g.useEffect(()=>{const F=[...e].sort(()=>Math.random()-.5);a(F),d(0),V(0)},[e,t]),g.useEffect(()=>{if(i.length===0)return;const F=l*im,z=Math.min(F+im,i.length),B=i.slice(F,z);ne(B)},[i,l,t]);const ne=F=>{const z=B=>{const O=[...B];for(let $=O.length-1;$>0;$--){const q=Math.floor(Math.random()*($+1));[O[$],O[q]]=[O[q],O[$]]}return O};if(t==="word-to-meaning"){const B=F.map(($,q)=>({id:`left-${l}-${q}`,content:$.word,type:"left",matched:!1,wordId:$.id,isWord:!0})),O=z(F.map(($,q)=>({id:`right-${l}-${q}`,content:$.meaning,type:"right",matched:!1,wordId:$.id,isWord:!1})));f(B),p(O)}else{const B=F.map(($,q)=>({id:`left-${l}-${q}`,content:$.meaning,type:"left",matched:!1,wordId:$.id,isWord:!1})),O=z(F.map(($,q)=>({id:`right-${l}-${q}`,content:$.word,type:"right",matched:!1,wordId:$.id,isWord:!0})));f(B),p(O)}N(new Set),v(null),j(null),_(0),D(0)},ie=F=>{F.matched||(F.type==="left"?v(y===F.id?null:F.id):j(b===F.id?null:F.id))};g.useEffect(()=>{y&&b&&oe()},[y,b]);const oe=()=>{const F=u.find(B=>B.id===y),z=m.find(B=>B.id===b);if(!(!F||!z))if(D(B=>B+1),F.wordId===z.wordId){const B=new Set(S);B.add(F.id),B.add(z.id),N(B),f(O=>O.map($=>$.id===F.id?{...$,matched:!0}:$)),p(O=>O.map($=>$.id===z.id?{...$,matched:!0}:$)),_(O=>O+1),V(O=>O+1),v(null),j(null),B.size===u.length*2&&setTimeout(()=>{l<G-1?d(O=>O+1):n(R+1,R+1)},800)}else A({left:F.id,right:z.id}),s&&s(F.wordId),setTimeout(()=>{A(null),v(null),j(null)},800)},Z=(F,z)=>F.matched?"bg-emerald-50 border-emerald-200 text-emerald-700":C&&(C.left===F.id||C.right===F.id)?"bg-red-50 border-red-200 text-red-700 animate-shake":z?"bg-white border-[#7C3AED] text-[#4C1D95] shadow-card":"bg-white/95 border-white/60 text-[#2E1065]";return r.jsx("div",{className:"h-full bg-transparent overflow-y-auto",children:r.jsxs("div",{className:"max-w-4xl mx-auto w-full px-4 py-6 space-y-5",children:[r.jsx("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl p-4 shadow-card border border-white/60",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] rounded-2xl flex items-center justify-center",children:r.jsx(pr,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-[#5B21B6]",children:t==="word-to-meaning"?"  ":"  "}),r.jsxs("p",{className:"text-xs font-medium text-[#8B5CF6]",children:[" ",l+1,"/",G]})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"text-2xl font-extrabold text-[#5B21B6]",children:[R,"/",e.length]})})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx("div",{className:"space-y-2",children:u.map(F=>r.jsx(I.button,{whileTap:{scale:F.matched?1:.97},onClick:()=>ie(F),disabled:F.matched,className:`w-full min-h-[70px] py-3 px-3 rounded-2xl border transition-all duration-200 text-center shadow-sm ${Z(F,y===F.id)}`,style:{touchAction:"manipulation"},children:r.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[r.jsx("span",{className:`${F.isWord?"text-sm":"text-xs"} font-semibold text-[#2E1065]`,children:F.content}),F.matched&&r.jsx(Dn,{className:"w-4 h-4 text-emerald-600"})]})},F.id))}),r.jsx("div",{className:"space-y-2",children:m.map(F=>r.jsx(I.button,{whileTap:{scale:F.matched?1:.97},onClick:()=>ie(F),disabled:F.matched,className:`w-full min-h-[70px] py-3 px-3 rounded-2xl border transition-all duration-200 text-center shadow-sm ${Z(F,b===F.id)}`,style:{touchAction:"manipulation"},children:r.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[r.jsx("span",{className:`${F.isWord?"text-sm":"text-xs"} font-semibold text-[#2E1065]`,children:F.content}),F.matched&&r.jsx(Dn,{className:"w-4 h-4 text-emerald-600"})]})},F.id))})]})]})})}function YW({words:e,mode:t,onComplete:n,onWrongAnswer:s}){const[i,a]=g.useState([]),[l,d]=g.useState(0),[u,f]=g.useState(null),[m,p]=g.useState(!1),[y,v]=g.useState(0),[b,j]=g.useState(0);g.useEffect(()=>{S()},[e,t]);const S=()=>{const _=e.slice(0,Math.min(10,e.length)).map(T=>{const D=e.filter(oe=>oe.id!==T.id).sort(()=>Math.random()-.5).slice(0,3);let R,V,G;t==="word-to-meaning"?(R=T.word,V=T.meaning,G=D.map(oe=>oe.meaning)):(R=T.meaning,V=T.word,G=D.map(oe=>oe.word));const ne=[V,...G].sort(()=>Math.random()-.5),ie=ne.indexOf(V);return{id:`q-${T.id}`,prompt:R,wordId:T.id,options:ne,correctAnswer:ie}});a(_),d(0),f(null),p(!1),v(0),j(0)},N=E=>{if(m)return;const _=i[l];f(E),p(!0),E===_.correctAnswer?(v(T=>T+1),j(T=>T+1)):s&&s(_.wordId),setTimeout(()=>{l+1>=i.length?n(y+(E===_.correctAnswer?1:0),b+(E===_.correctAnswer?1:0)):(d(T=>T+1),f(null),p(!1))},1500)};if(i.length===0)return r.jsx("div",{className:"h-full flex items-center justify-center bg-gradient-to-br from-purple-50 via-white to-pink-50",children:r.jsx("div",{className:"text-center",children:r.jsx("p",{style:{color:"#8B5CF6"},children:"Loading questions..."})})});const C=i[l],A=(l+1)/i.length*100;return r.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-purple-50 via-white to-pink-50 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-700 rounded-2xl flex items-center justify-center",children:r.jsx(pr,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg",style:{fontWeight:700,color:"#491B6D"},children:t==="word-to-meaning"?"  ":"  "}),r.jsx("p",{className:"text-xs",style:{color:"#8B5CF6"},children:" "})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl",style:{fontWeight:800,color:"#491B6D"},children:[l+1,"/",i.length]}),r.jsxs("div",{className:"text-xs",style:{color:"#8B5CF6"},children:[": ",y]})]})]}),r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx(I.div,{initial:{width:0},animate:{width:`${A}%`},className:"h-full bg-gradient-to-r from-purple-500 to-purple-700",transition:{duration:.3}})})}),r.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 text-center",children:r.jsx("div",{className:"inline-block bg-gradient-to-br from-purple-500 to-purple-700 text-white px-8 py-6 rounded-3xl shadow-2xl border-2 border-white/40",children:r.jsx("h3",{className:"text-xl",style:{fontWeight:800},children:C.prompt})})},l),r.jsx("div",{className:"flex-1 space-y-3",children:C.options.map((E,_)=>{const T=u===_,D=_===C.correctAnswer,R=m;let V="bg-white border-purple-200";return R&&D?V="bg-gradient-to-br from-emerald-400 to-emerald-600 border-emerald-300":R&&T&&!D?V="bg-gradient-to-br from-red-400 to-red-600 border-red-300":T&&(V="bg-purple-100 border-purple-400"),r.jsx(I.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:_*.1},whileTap:{scale:m?1:.95},onClick:()=>!m&&N(_),disabled:m,className:`w-full p-5 rounded-2xl border-2 transition-all duration-200 ${V}`,style:{touchAction:"manipulation"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`text-sm flex-1 text-left ${R&&(D||T&&!D)?"text-white":"text-[#491B6D]"}`,style:{fontWeight:600},children:E}),R&&D&&r.jsx(Dn,{className:"w-6 h-6 text-white ml-2 flex-shrink-0"}),R&&T&&!D&&r.jsx(yn,{className:"w-6 h-6 text-white ml-2 flex-shrink-0"})]})},_)})}),r.jsx(pt,{children:m&&r.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-4 text-center",children:u===C.correctAnswer?r.jsxs("div",{className:"flex items-center justify-center gap-2 text-emerald-600",children:[r.jsx(fr,{className:"w-5 h-5"}),r.jsx("span",{style:{fontWeight:700},children:"! "})]}):r.jsx("div",{className:"text-red-600",children:r.jsx("span",{style:{fontWeight:700},children:".  !"})})})})]})}function QW({words:e,matchGameType:t,onBack:n,onBackToHome:s,onComplete:i,onWrongAnswer:a,stage:l,journeyName:d,wordCount:u,isStarredVocabulary:f}){const m=t.startsWith("card-match"),p=t==="card-match-word"||t==="quiz-word"?"word-to-meaning":"meaning-to-word",y=f?"#78350F":"#091A7A",v=f?"#D97706":"#7C3AED";return r.jsxs("div",{className:"h-full bg-transparent overflow-y-auto",children:[r.jsx("div",{className:"max-w-4xl mx-auto w-full px-4 py-4 space-y-4",children:r.jsx("div",{className:`rounded-3xl p-4 shadow-card border border-white/40 ${f?"bg-gradient-to-b from-[#FFFBEB]/90 via-[#FEF3C7]/80 to-white/90":"bg-gradient-to-b from-[#E9D5FF]/90 via-[#E0E7FF]/80 to-white/90"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Or,{onClick:n}),r.jsxs("div",{className:"flex-1 text-center space-y-0.5",children:[r.jsx("h1",{className:"text-lg font-bold",style:{color:y},children:d}),r.jsxs("p",{className:"text-xs font-medium",style:{color:v},children:[u," "]})]}),s?r.jsx("button",{onClick:s,className:"w-10 h-10 bg-white/95 backdrop-blur-xl rounded-full flex items-center justify-center shadow-card border border-white/60",children:r.jsx(Xi,{className:"w-5 h-5",style:{color:y}})}):r.jsx("div",{className:"w-10 h-10"})]})})}),r.jsx("div",{className:"max-w-4xl mx-auto w-full px-4 pb-6",children:m?r.jsx(KW,{words:e,mode:p,onComplete:i,onWrongAnswer:a}):r.jsx(YW,{words:e,mode:p,onComplete:i,onWrongAnswer:a})})]})}function XW({words:e,onComplete:t,onWrongAnswer:n}){const[s,i]=g.useState(!1),[a,l]=g.useState([]),[d,u]=g.useState(0),[f,m]=g.useState(0),[p,y]=g.useState(0),[v,b]=g.useState(null),[j,S]=g.useState(!1),[N]=g.useState(10),[C,A]=g.useState(10),E=g.useRef();g.useEffect(()=>(s&&d<a.length&&_(),()=>{E.current&&clearInterval(E.current)}),[d,s]);const _=()=>{A(N),E.current&&clearInterval(E.current),E.current=setInterval(()=>{A(oe=>oe<=1?(E.current&&clearInterval(E.current),T(),0):oe-1)},1e3)},T=()=>{const oe=a[d];n&&oe&&n(oe.wordId),setTimeout(()=>{d+1>=a.length?G():(u(Z=>Z+1),b(null),S(!1))},500)},D=()=>{const Z=e.slice(0,Math.min(10,e.length)).map(F=>{const z=e.filter($=>$.id!==F.id).sort(()=>Math.random()-.5).slice(0,3).map($=>$.meaning),B=[F.meaning,...z].sort(()=>Math.random()-.5),O=B.indexOf(F.meaning);return{id:`q-${F.id}`,word:F.word,wordId:F.id,options:B,correctAnswer:O}});l(Z)},R=()=>{D(),i(!0),u(0),m(0),y(0),b(null),S(!1)},V=oe=>{if(j)return;const Z=a[d];if(b(oe),S(!0),E.current&&clearInterval(E.current),oe===Z.correctAnswer){const F=Math.floor(C*2);m(z=>z+10+F),y(z=>z+1)}else n&&n(Z.wordId);setTimeout(()=>{d+1>=a.length?G():(u(F=>F+1),b(null),S(!1))},1200)},G=()=>{E.current&&clearInterval(E.current),setTimeout(()=>{t(f,p)},500)};if(!s)return r.jsx("div",{className:"h-full flex flex-col items-center justify-center bg-gradient-to-br from-orange-50 via-white to-yellow-50 p-6",children:r.jsxs(I.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-orange-500 to-yellow-500 rounded-3xl flex items-center justify-center shadow-2xl",children:r.jsx(Qs,{className:"w-12 h-12 text-white"})}),r.jsx("h1",{className:"text-2xl mb-3",style:{fontWeight:800,color:"#491B6D"},children:" "}),r.jsxs("p",{className:"text-sm mb-8",style:{color:"#8B5CF6"},children:["    !",r.jsx("br",{}),"   !"]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 mb-8 space-y-3 text-left max-w-xs mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:r.jsx(aa,{className:"w-4 h-4 text-orange-500"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:" 10"}),r.jsx("div",{className:"text-xs",style:{color:"#8B5CF6"},children:"   !"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(fs,{className:"w-4 h-4 text-yellow-500"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:[" ",Math.min(10,e.length),""]}),r.jsx("div",{className:"text-xs",style:{color:"#8B5CF6"},children:" +10 + "})]})]})]}),r.jsx(I.button,{whileTap:{scale:.95},onClick:R,className:"px-12 py-4 bg-gradient-to-r from-orange-500 to-yellow-500 text-white rounded-2xl shadow-xl",children:r.jsx("span",{style:{fontWeight:700},children:" !"})})]})});const ne=a[d];if(!ne)return null;const ie=(d+1)/a.length*100;return r.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-orange-50 via-white to-yellow-50 p-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:[" ",d+1,"/",a.length]}),r.jsxs("span",{className:"text-xs",style:{fontWeight:700,color:"#EA580C"},children:[": ",f]})]}),r.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx(I.div,{initial:{width:0},animate:{width:`${ie}%`},className:"h-full bg-gradient-to-r from-orange-500 to-yellow-500"})})]}),r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("div",{className:"relative w-20 h-20",children:[r.jsxs("svg",{className:"w-20 h-20 transform -rotate-90",children:[r.jsx("circle",{cx:"40",cy:"40",r:"35",stroke:"#FED7AA",strokeWidth:"6",fill:"none"}),r.jsx(I.circle,{cx:"40",cy:"40",r:"35",stroke:"#EA580C",strokeWidth:"6",fill:"none",strokeDasharray:`${2*Math.PI*35}`,initial:{strokeDashoffset:0},animate:{strokeDashoffset:`${2*Math.PI*35*(1-C/N)}`},transition:{duration:.3}})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("span",{className:"text-xl",style:{fontWeight:800,color:"#EA580C"},children:C})})]})}),r.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 text-center",children:r.jsx("div",{className:"inline-block bg-gradient-to-br from-orange-500 to-yellow-500 text-white px-8 py-4 rounded-3xl shadow-2xl",children:r.jsx("h2",{className:"text-2xl",style:{fontWeight:800},children:ne.word})})},d),r.jsx("div",{className:"flex-1 space-y-3",children:ne.options.map((oe,Z)=>{const F=v===Z,z=Z===ne.correctAnswer,B=j;let O="bg-white border-orange-200";return B&&z?O="bg-gradient-to-br from-emerald-400 to-emerald-600 border-emerald-300":B&&F&&!z?O="bg-gradient-to-br from-red-400 to-red-600 border-red-300":F&&(O="bg-orange-100 border-orange-400"),r.jsx(I.button,{whileTap:{scale:j?1:.95},onClick:()=>!j&&V(Z),disabled:j,className:`w-full p-4 rounded-2xl border-2 transition-all duration-200 ${O}`,style:{touchAction:"manipulation"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`text-sm flex-1 text-left ${B&&(z||F&&!z)?"text-white":"text-[#491B6D]"}`,style:{fontWeight:600},children:oe}),B&&z&&r.jsx(Dn,{className:"w-5 h-5 text-white ml-2 flex-shrink-0"}),B&&F&&!z&&r.jsx(yn,{className:"w-5 h-5 text-white ml-2 flex-shrink-0"})]})},Z)})})]})}function JW({words:e,onComplete:t,onWrongAnswer:n}){const[s,i]=g.useState(!1),[a,l]=g.useState([]),[d,u]=g.useState(null),[f,m]=g.useState(3),[p,y]=g.useState(0),[v,b]=g.useState(60),[j,S]=g.useState(0),N=g.useRef(),C=g.useRef();g.useEffect(()=>(s&&(E(),A()),()=>{N.current&&cancelAnimationFrame(N.current),C.current&&clearInterval(C.current)}),[s]),g.useEffect(()=>{(f===0||v===0)&&D()},[f,v]);const A=()=>{C.current=setInterval(()=>{b(V=>V<=1?(C.current&&clearInterval(C.current),0):V-1)},1e3)},E=()=>{_();const V=()=>{u(G=>{if(!G)return G;const ne=G.yPosition+G.speed;return ne>100?(m(ie=>ie-1),n&&n(G.wordId),setTimeout(()=>_(),500),null):{...G,yPosition:ne}}),N.current=requestAnimationFrame(V)};N.current=requestAnimationFrame(V)},_=()=>{if(e.length===0)return;const V=e[Math.floor(Math.random()*e.length)],G=e.filter(Z=>Z.id!==V.id).sort(()=>Math.random()-.5).slice(0,3).map(Z=>Z.meaning),ne=[V.meaning,...G].sort(()=>Math.random()-.5),ie=ne.indexOf(V.meaning),oe={id:`word-${Date.now()}`,word:V.word,wordId:V.id,options:ne,correctAnswer:ie,yPosition:0,speed:.3+p*.02};u(oe)},T=V=>{d&&(V===d.correctAnswer?(y(G=>G+10),S(G=>G+1),u(null),setTimeout(()=>_(),300)):(m(G=>G-1),n&&n(d.wordId),u(null),setTimeout(()=>_(),500)))},D=()=>{N.current&&cancelAnimationFrame(N.current),C.current&&clearInterval(C.current),setTimeout(()=>{t(p,j)},1e3)},R=()=>{i(!0),m(3),y(0),S(0),b(60)};return s?r.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-indigo-50 via-white to-purple-50 relative overflow-hidden",children:[r.jsx("div",{className:"p-4 bg-white/80 backdrop-blur-lg shadow-lg z-20",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex items-center gap-2",children:[...Array(3)].map((V,G)=>r.jsx(Dm,{className:`w-6 h-6 ${G<f?"fill-red-500 text-red-500":"fill-gray-200 text-gray-200"}`},G))}),r.jsxs("div",{className:"flex items-center gap-2 bg-blue-100 px-3 py-1 rounded-full",children:[r.jsx(rw,{className:"w-4 h-4 text-blue-600"}),r.jsxs("span",{className:"text-sm",style:{fontWeight:700,color:"#1E40AF"},children:[v,"s"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-purple-100 px-4 py-1 rounded-full",children:[r.jsx(fs,{className:"w-4 h-4 text-purple-600"}),r.jsx("span",{className:"text-sm",style:{fontWeight:700,color:"#6B21A8"},children:p})]})]})}),r.jsx("div",{className:"flex-1 relative",children:r.jsx(pt,{children:d&&r.jsx(I.div,{initial:{y:-100},style:{top:`${d.yPosition}%`},className:"absolute left-1/2 -translate-x-1/2 z-10",children:r.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-700 text-white px-6 py-3 rounded-2xl shadow-2xl border-2 border-white/40",children:r.jsx("div",{className:"text-xl text-center",style:{fontWeight:800},children:d.word})})},d.id)})}),d&&r.jsx("div",{className:"p-4 space-y-3 bg-white/90 backdrop-blur-lg z-20",children:d.options.map((V,G)=>r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>T(G),className:"w-full p-4 bg-white border-2 border-purple-200 rounded-2xl text-left shadow-lg",style:{touchAction:"manipulation"},children:r.jsx("span",{className:"text-sm",style:{fontWeight:600,color:"#491B6D"},children:V})},G))})]}):r.jsx("div",{className:"h-full flex flex-col items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6",children:r.jsxs(I.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-3xl flex items-center justify-center shadow-2xl",children:r.jsx(Qs,{className:"w-12 h-12 text-white"})}),r.jsx("h1",{className:"text-2xl mb-3",style:{fontWeight:800,color:"#491B6D"},children:"  "}),r.jsxs("p",{className:"text-sm mb-8",style:{color:"#8B5CF6"},children:["   !",r.jsx("br",{}),"60    !"]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 mb-8 space-y-3 text-left max-w-xs mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Dm,{className:"w-4 h-4 text-red-500"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:": 3"}),r.jsx("div",{className:"text-xs",style:{color:"#8B5CF6"},children:"  -1"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(rw,{className:"w-4 h-4 text-blue-500"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:": 60"}),r.jsx("div",{className:"text-xs",style:{color:"#8B5CF6"},children:"   !"})]})]})]}),r.jsx(I.button,{whileTap:{scale:.95},onClick:R,className:"px-12 py-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-2xl shadow-xl",children:r.jsx("span",{style:{fontWeight:700},children:" !"})})]})})}function ZW({words:e,gameType:t,onBack:n,onComplete:s,onWrongAnswer:i}){return r.jsxs("div",{className:"h-full bg-gradient-to-br from-indigo-50 via-white to-purple-50 relative",children:[r.jsx("div",{className:"absolute top-6 left-6 z-30",children:r.jsx(Or,{onClick:n})}),r.jsx("div",{className:"h-full pt-20",children:t==="fall"?r.jsx(JW,{words:e,onComplete:s,onWrongAnswer:i}):r.jsx(XW,{words:e,onComplete:s,onWrongAnswer:i})})]})}function eV({question:e,showFeedback:t,lastAnswerCorrect:n,aiFeedback:s,onSubmitAnswer:i}){const[a,l]=g.useState(""),[d,u]=g.useState(!1),f=e.type==="fill-in-word";e.type;const m=()=>{a.trim()&&(i(a.trim()),l(""),u(!1))},p=v=>{v.key==="Enter"&&!t&&a.trim()&&m()},y=()=>{if(!e.word||!f)return"";const v=e.correctAnswer;return v.length<=2?v[0]:v.substring(0,2)};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-3",children:[r.jsx("div",{className:"relative",children:r.jsx("input",{type:"text",value:a,onChange:v=>l(v.target.value),onKeyPress:p,disabled:t,placeholder:f?"  ":"  ",className:`w-full px-4 py-3 rounded-2xl border-2 text-base font-medium transition-all duration-300 ${t?n?"bg-emerald-50/95 border-emerald-300 text-emerald-700":"bg-red-50/95 border-red-300 text-red-700":"bg-white/95 border-[#A78BFA] text-[#091A7A] focus:border-[#7C3AED] focus:ring-2 focus:ring-[#7C3AED]/20"} outline-none`,autoFocus:!0})}),f&&!t&&r.jsxs(I.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},onClick:()=>u(!d),className:"flex items-center gap-2 mx-auto px-4 py-2 rounded-full bg-[#F4F4FF] text-[#5B21B6] text-xs font-semibold shadow-inner hover:bg-[#EDE9FE] transition-colors",children:[r.jsx(s0,{className:"w-4 h-4"}),d?" ":" "]}),f&&d&&!t&&r.jsx(I.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"p-3 rounded-xl bg-amber-50/95 border border-amber-200",children:r.jsxs("p",{className:"text-sm text-amber-800 text-center",children:[r.jsx("span",{className:"font-semibold",children:":"})," ",y(),"..."]})})]}),!t&&r.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},children:r.jsxs("button",{onClick:m,disabled:!a.trim(),className:`w-full py-3 rounded-2xl font-semibold shadow-card border transition-all duration-300 flex items-center justify-center gap-2 ${a.trim()?"bg-gradient-to-r from-[#7C3AED] to-[#A78BFA] text-white border-transparent hover:shadow-lg":"bg-white/70 text-gray-400 border-gray-200 cursor-not-allowed"}`,children:[r.jsx(Qi,{className:"w-5 h-5"})," "]})}),t&&r.jsx(I.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.2},className:`p-5 rounded-2xl backdrop-blur-xl border shadow-card ${n?"bg-emerald-50/95 border-emerald-200/60":"bg-red-50/95 border-red-200/60"}`,children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:`font-semibold text-sm ${n?"text-emerald-700":"text-red-700"}`,children:n?"! ":"  "}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-semibold",children:" :"})," ",a]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-semibold",children:" :"})," ",e.correctAnswer]})]}),s&&e.type==="fill-in-meaning"&&r.jsxs("div",{className:"pt-2 border-t border-gray-200 mt-2",children:[r.jsx("p",{className:"text-xs text-gray-500 font-semibold mb-1",children:"AI  :"}),r.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:s})]}),e.explanation&&!s&&e.type!=="fill-in-meaning"&&r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed pt-2 border-t border-gray-200",children:e.explanation})]})})]})}function tV({stage:e,currentStageId:t,currentQuestionIndex:n,totalQuestions:s,question:i,selectedAnswers:a,showFeedback:l,lastAnswerCorrect:d,aiFeedback:u,isMultiSelect:f,isSentenceQuestion:m,sentenceTranslationVisible:p,showConfetti:y,ConfettiComponent:v,onBack:b,onBackToHome:j,onAnswerSelect:S,onToggleSentenceTranslation:N,onSubmitAnswer:C,journeyName:A,wordCount:E,isStarredVocabulary:_}){const T=_?"#78350F":"#091A7A",D=_?"#D97706":"#7C3AED",R=i.type==="fill-in-word"||i.type==="fill-in-meaning";return r.jsxs("div",{className:"h-full bg-transparent overflow-y-auto",children:[y&&r.jsx(v,{}),r.jsxs("div",{className:"max-w-md mx-auto w-full px-4 py-4 space-y-4",children:[r.jsx("div",{className:`rounded-3xl p-4 shadow-card border border-white/40 ${_?"bg-gradient-to-b from-[#FFFBEB]/90 via-[#FEF3C7]/80 to-white/90":"bg-gradient-to-b from-[#E9D5FF]/90 via-[#E0E7FF]/80 to-white/90"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Or,{onClick:b}),r.jsxs("div",{className:"flex-1 text-center space-y-0.5",children:[r.jsx("h1",{className:"text-lg font-bold",style:{color:T},children:A}),r.jsxs("p",{className:"text-xs font-medium",style:{color:D},children:[E," "]})]}),j?r.jsx(I.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:j,className:"w-10 h-10 bg-white/95 backdrop-blur-xl rounded-full flex items-center justify-center shadow-card border border-white/60",children:r.jsx(Xi,{className:"w-5 h-5",style:{color:T}})}):r.jsx("div",{className:"w-10 h-10"})]})}),r.jsxs(I.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-5 shadow-card border border-white/60",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#091A7A] to-[#4F8EFF] rounded-2xl flex items-center justify-center shadow-md",children:r.jsx("div",{className:"w-6 h-6 text-white flex items-center justify-center",children:e?.icon})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-[#091A7A]",children:e?.title}),r.jsxs("p",{className:"text-xs text-[#4F8EFF] mt-0.5",children:["Stage ",t,"  Question ",n+1," / ",s]})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("div",{className:"w-full h-2.5 bg-gray-100 rounded-full overflow-hidden",children:r.jsx(I.div,{initial:{width:0},animate:{width:`${(n+1)/s*100}%`},className:"h-full bg-gradient-to-r from-[#091A7A] to-[#4F8EFF] rounded-full",transition:{duration:.6,ease:"easeOut"}})})})]}),r.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-5 shadow-card border border-white/60",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("p",{className:"text-xs font-semibold text-[#7C3AED] text-center",children:["Question ",n+1]}),r.jsx("h2",{className:"text-base font-semibold text-[#091A7A] text-center leading-relaxed",children:i.text||i.question}),m&&i.sentenceData&&r.jsxs("div",{className:"space-y-2 text-center",children:[r.jsx("p",{className:"text-sm font-semibold text-[#1E1B4B] leading-relaxed",children:p&&i.sentenceData.translation?i.sentenceData.translation:i.sentenceData.english}),i.sentenceData.translation&&r.jsx("button",{onClick:N,className:"mx-auto px-3 py-1.5 rounded-full bg-[#F4F4FF] text-[#5B21B6] text-xs font-semibold shadow-inner",children:p?" ":" "})]})]})},n),R&&r.jsx(eV,{question:i,showFeedback:l,lastAnswerCorrect:d,aiFeedback:u,onSubmitAnswer:V=>C(V)}),!R&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:f?"grid grid-cols-2 gap-3":"space-y-3",children:i.options&&i.options.length>0&&i.options.map((V,G)=>{const ne=a.includes(G),ie=i.correctAnswers?.includes(G)||typeof i.correctAnswer=="number"&&i.correctAnswer===G;let oe="bg-white/95 border-white/60",Z="text-[#091A7A]",F="bg-gray-100 text-gray-500";return l?ie?(oe="bg-emerald-50/95 border-emerald-200/60",Z="text-emerald-700",F="bg-emerald-100 text-emerald-600"):ne&&(oe="bg-red-50/90 border-red-200/60",Z="text-red-700",F="bg-red-100 text-red-600"):ne&&(oe="bg-[#091A7A]/10 border-[#091A7A]/20",Z="text-[#091A7A]",F="bg-[#091A7A] text-white"),r.jsx(I.button,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{delay:.3+G*.05},whileHover:{scale:l?1:1.01},whileTap:{scale:l?1:.98},onClick:()=>S(G),disabled:l,className:`w-full p-3 rounded-2xl backdrop-blur-xl border transition-all duration-300 text-left shadow-sm ${oe}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-2xl flex items-center justify-center font-semibold text-sm ${F}`,children:String.fromCharCode(65+G)}),r.jsx("span",{className:`font-medium flex-1 text-sm ${Z}`,children:V}),l&&ie&&r.jsx(Dn,{className:"w-4 h-4 text-emerald-600"})]})},G)})}),r.jsx(pt,{children:l&&r.jsx(I.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{delay:.2},className:`p-5 rounded-2xl backdrop-blur-xl border shadow-card ${d?"bg-emerald-50/95 border-emerald-200/60":"bg-red-50/95 border-red-200/60"}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center ${d?"bg-emerald-100":"bg-red-100"}`,children:d?r.jsx(Dn,{className:"w-4 h-4 text-emerald-600"}):r.jsx(_R,{className:"w-4 h-4 text-red-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`font-semibold text-sm mb-1 ${d?"text-emerald-700":"text-red-700"}`,children:d?"!":"  "}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:i.explanation})]})]})})}),!l&&f&&r.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},className:"pt-1",children:r.jsx("button",{onClick:()=>C(),disabled:!a.length,className:`w-full py-3 rounded-2xl font-semibold shadow-card border transition-all duration-300 ${a.length?"bg-gradient-to-r from-[#7C3AED] to-[#A78BFA] text-white border-transparent":"bg-white/70 text-gray-400 border-gray-200 cursor-not-allowed"}`,children:a.length?" ":" "})})]})]})]})}const hn=e=>[...e].sort(()=>Math.random()-.5),Z1=e=>e?Array.isArray(e)?e.map(t=>typeof t=="string"?t:t?.word||"").map(t=>t.trim()).filter(Boolean):typeof e=="string"?e.split(/[,;/]/).map(t=>t.trim()).filter(Boolean):[]:[],nV=e=>e?Array.isArray(e)?e.map(t=>{if(typeof t=="string"){const[n,s]=t.split(":").map(i=>i.trim());return{word:n,meaning:s||""}}return{word:t?.word?.trim()||"",meaning:t?.meaning?.trim()||""}}).filter(t=>t.word):typeof e=="string"?e.split(/[,;]/).map(t=>{const[n,s]=t.split(":").map(i=>i.trim());return{word:n,meaning:s||""}}).filter(t=>t.word):[]:[],QC=e=>{const t=e?.word||e?.term;if(!t)return null;const n=e?.id||t;return n?{id:String(n),term:t,meaning:e?.meaning||e?.translation||"",translation:e?.translation||"",example:e?.example||e?.example_sentence||"",derivatives:nV(e?.derivatives),synonyms:Z1(e?.synonyms),antonyms:Z1(e?.antonyms)}:null},om=e=>e&&e.replace(/\([^)]*\)/g,"_____"),ej=(e,t)=>{if(!e||!t)return e;const n=new RegExp(t,"gi");return e.replace(n,"_____")},tj=(e,t)=>({...e,id:t,options:[...e.options],correctAnswers:e.correctAnswers?[...e.correctAnswers]:void 0,wordId:e.wordId,sentenceData:e.sentenceData?{...e.sentenceData}:void 0}),rV=(e,t=20)=>{const n=e.filter(l=>l?.id&&(l?.term||l?.word)&&l?.meaning);if(!n.length)return[];const s=n.map(l=>l.meaning);let i=1;const a=[];return hn(n).forEach(l=>{if(a.length>=t)return;const d=l.term||l.word,u=hn(s.filter(m=>m&&m!==l.meaning)).slice(0,3);if(u.length<3)return;const f=hn([l.meaning,...u]);a.push({id:i++,type:"multiple-choice",wordId:l.id,word:d,question:`${d}    ?`,options:f,correctAnswer:f.indexOf(l.meaning),explanation:`${d}: ${l.meaning}`})}),a},sV=(e,t=12)=>{const n=e.flatMap(l=>(l?.derivatives||[]).map(d=>({wordId:l.id,root:l.term||l.word,derivative:d?.word,meaning:d?.meaning}))).filter(l=>l.wordId&&l.derivative&&l.meaning);if(!n.length)return[];const s=n.map(l=>l.meaning);let i=1;const a=[];return hn(n).forEach(l=>{if(a.length>=t)return;const d=hn(s.filter(f=>f&&f!==l.meaning)).slice(0,3);if(d.length<3)return;const u=hn([l.meaning,...d]);a.push({id:i++,type:"multiple-choice",wordId:l.wordId,question:`'${l.root}'  '${l.derivative}' ?`,options:u,correctAnswer:u.indexOf(l.meaning),explanation:`${l.derivative} (${l.root}): ${l.meaning}`})}),a},iV=(e,t=12)=>{const n=[],s=e.filter(l=>(l?.synonyms?.length||0)>0||(l?.antonyms?.length||0)>0);console.log("[SynAnt] Total words:",e.length),console.log("[SynAnt] Words with syn/ant:",s.length),s.length>0&&console.log("[SynAnt] Sample:",s.slice(0,3).map(l=>({word:l.term||l.word,synonyms:l.synonyms,antonyms:l.antonyms})));let i=e.filter(l=>l?.id&&((l?.synonyms?.length||0)>=2||(l?.antonyms?.length||0)>=2));i.length<1&&(i=e.filter(l=>l?.id&&((l?.synonyms?.length||0)>=1||(l?.antonyms?.length||0)>=1))),console.log("[SynAnt] Final candidates:",i.length);const a=e.map(l=>l.term||l.word).filter(Boolean);return hn(i).forEach(l=>{if(n.length>=t)return;const d=(l.synonyms?.length||0)>=1&&((l.antonyms?.length||0)<1||Math.random()>.5),u=d?l.synonyms||[]:l.antonyms||[];if(u.length<1)return;const f=Math.min(u.length,3),m=Math.max(1,f),p=hn(u).slice(0,m),y=hn([...a,...e.flatMap(_=>d?_.synonyms||[]:_.antonyms||[])].filter(_=>_&&!p.includes(_))),v=[...p];if(y.forEach(_=>{v.length>=8||v.includes(_)||v.push(_)}),v.length<2)return;const b=v.filter(_=>!p.includes(_)),j=Math.max(1,2-p.length);if(b.length<j){console.log("[SynAnt] Skipping - not enough distractors:",{word:l.word,correctWords:p.length,distractors:b.length,minNeeded:j});return}const S=Math.min(8,v.length),N=Math.max(j,S-p.length),C=hn([...p,...hn(b).slice(0,N)]),A=C.reduce((_,T,D)=>(p.includes(T)&&_.push(D),_),[]),E=l.term||l.word;console.log("[SynAnt] Generated question:",{word:E,correctCount:p.length,totalOptions:C.length}),n.push({id:n.length+1,type:"multi-select",wordId:l.id,question:`'${E}' ${d?"":""}   (${p.length})`,options:C,correctAnswers:A,explanation:`${d?"":""}: ${p.join(", ")}`})}),console.log("[SynAnt] Generated questions:",n.length,"/",t),n},oV=(e,t=12)=>{const n=e.filter(l=>l?.id&&(l?.term||l?.word)&&l?.example);if(console.log("[Sentence] Total words:",e.length),console.log("[Sentence] Words with examples:",n.length),!n.length)return[];const s=e.map(l=>l.term||l.word).filter(Boolean);let i=1;const a=[];return hn(n).forEach(l=>{if(a.length>=t)return;const d=l.term||l.word;if(!d||!l.example)return;const u=hn(s.filter(m=>m&&m!==d)).slice(0,3),f=hn([d,...u]);a.push({id:i++,type:"sentence",wordId:l.id,question:"    .",options:f,correctAnswer:f.indexOf(d),explanation:`${d}: ${l.meaning||""}`,word:d,sentenceData:{english:om(ej(l.example,d)),translation:l.translation?om(ej(l.translation,d)):om(l.translation||l.meaning||"")}})}),console.log("[Sentence] Generated questions:",a.length,"/",t),a},aV=(e,t=30)=>{const n=[...e.meaningQuestions,...e.derivativeQuestions,...e.synAntQuestions,...e.sentenceQuestions];if(!n.length)return[];const s=[],i=hn(n);let a=1;for(const l of i){if(s.length>=t)break;s.push(tj(l,a++))}for(;s.length<t&&e.meaningQuestions.length;){const l=e.meaningQuestions[s.length%e.meaningQuestions.length];s.push(tj(l,s.length+1))}return s};function lV(e,t){return e.length?hn([...e]).slice(0,Math.min(t,e.length)).filter(s=>s&&s.term&&s.meaning).map((s,i)=>({id:`fill-in-word-${i}`,text:s.meaning,type:"fill-in-word",options:[],correctAnswer:s.term.toLowerCase(),explanation:`: ${s.term}`,word:s})):[]}function cV(e,t){return e.length?hn([...e]).slice(0,Math.min(t,e.length)).filter(s=>s&&s.term&&s.meaning).map((s,i)=>({id:`fill-in-meaning-${i}`,text:s.term,type:"fill-in-meaning",options:[],correctAnswer:s.meaning,explanation:` : ${s.meaning}`,word:s})):[]}const dV=e=>{if(console.log("[QuestionBank] Building question bank with",e.length,"words"),!e||!e.length)return null;const t=e.map(QC).filter(u=>!!u);if(console.log("[QuestionBank] Normalized",t.length,"words"),console.log("[QuestionBank] Sample normalized word:",t[0]),console.log("[QuestionBank] First word synonyms:",t[0]?.synonyms),console.log("[QuestionBank] First word antonyms:",t[0]?.antonyms),console.log("[QuestionBank] Words with synonyms:",t.filter(u=>u.synonyms?.length>0).length),console.log("[QuestionBank] Words with antonyms:",t.filter(u=>u.antonyms?.length>0).length),!t.length)return null;const n=t.length,s=rV(t,n);if(!s.length)return null;const i=sV(t,n),a=iV(t,n),l=oV(t,n),d=aV({meaningQuestions:s,derivativeQuestions:i,synAntQuestions:a,sentenceQuestions:l},n);return console.log("[QuestionBank] Generated questions:",{meaning:s.length,derivative:i.length,synAnt:a.length,sentence:l.length,allInOne:d.length}),{1:s,2:i.length?i:s,3:a.length?a:s,4:l.length?l:s,5:d.length?d:s}},nj={math:[{id:1,title:"Meaning Quiz",icon:r.jsx(pr,{className:"w-6 h-6"}),status:"current",xpReward:50},{id:2,title:"Derivatives",icon:r.jsx(Ur,{className:"w-6 h-6"}),status:"locked",xpReward:75},{id:3,title:"Synonyms & Antonyms",icon:r.jsx(fl,{className:"w-6 h-6"}),status:"locked",xpReward:100},{id:4,title:"Sentence Completion",icon:r.jsx(jd,{className:"w-6 h-6"}),status:"locked",xpReward:125},{id:5,title:"All in One",icon:r.jsx(fs,{className:"w-6 h-6"}),status:"locked",xpReward:150}],english:[{id:1,title:"Grammar Basics",icon:r.jsx(pr,{className:"w-6 h-6"}),status:"current",xpReward:50},{id:2,title:"Reading & Writing",icon:r.jsx(Ur,{className:"w-6 h-6"}),status:"locked",xpReward:75},{id:3,title:"Literary Analysis",icon:r.jsx(fl,{className:"w-6 h-6"}),status:"locked",xpReward:100},{id:4,title:"Advanced Composition",icon:r.jsx(jd,{className:"w-6 h-6"}),status:"locked",xpReward:125},{id:5,title:"Literary Mastery",icon:r.jsx(fs,{className:"w-6 h-6"}),status:"locked",xpReward:150}],science:[{id:1,title:"Basic Science",icon:r.jsx(pr,{className:"w-6 h-6"}),status:"current",xpReward:50},{id:2,title:"Physical Science",icon:r.jsx(Ur,{className:"w-6 h-6"}),status:"locked",xpReward:75},{id:3,title:"Biology & Chemistry",icon:r.jsx(fl,{className:"w-6 h-6"}),status:"locked",xpReward:100},{id:4,title:"Physics & Earth",icon:r.jsx(jd,{className:"w-6 h-6"}),status:"locked",xpReward:125},{id:5,title:"Advanced Science",icon:r.jsx(fs,{className:"w-6 h-6"}),status:"locked",xpReward:150}],social:[{id:1,title:"Civics & Geography",icon:r.jsx(pr,{className:"w-6 h-6"}),status:"current",xpReward:50},{id:2,title:"American History",icon:r.jsx(Ur,{className:"w-6 h-6"}),status:"locked",xpReward:75},{id:3,title:"World Cultures",icon:r.jsx(fl,{className:"w-6 h-6"}),status:"locked",xpReward:100},{id:4,title:"Government & Economics",icon:r.jsx(jd,{className:"w-6 h-6"}),status:"locked",xpReward:125},{id:5,title:"Global Studies",icon:r.jsx(fs,{className:"w-6 h-6"}),status:"locked",xpReward:150}]},uV={math:"Voca Master Journey",english:"English Journey",science:"Science Journey",social:"Social Studies Journey"},Io=5,rj={1:["normal","match"],2:["normal","match"],3:["normal"],4:["normal"],5:["normal"]},sj={stages:[],currentStage:null,pendingStageId:null,completedModes:{1:new Set,2:new Set,3:new Set,4:new Set,5:new Set},currentQuestion:0,shuffledQuestions:{},selectedAnswers:[],showFeedback:!1,lastAnswerCorrect:null,aiFeedback:null,stageScore:0,correctAnswersCount:0,selectedQuizMode:"normal",matchGameType:null,gameType:null,fillInType:null,showQuizModeSelector:!1,showStageComplete:!1,showVictory:!1,startTime:null,activeTab:"word-list",showSentenceTranslation:!1,rawVocabularyWords:[],isLoadingWords:!0,refreshCounter:0},hV=YC((e,t)=>({...sj,setStages:n=>e({stages:n}),setCurrentStage:n=>e({currentStage:n}),setPendingStageId:n=>e({pendingStageId:n}),setCompletedModes:n=>e({completedModes:n}),addCompletedMode:(n,s)=>e(i=>{const a={...i.completedModes};return a[n]||(a[n]=new Set),a[n].add(s),{completedModes:a}}),setCurrentQuestion:n=>e({currentQuestion:n}),setShuffledQuestions:n=>e({shuffledQuestions:n}),updateShuffledQuestionsForStage:(n,s)=>e(i=>({shuffledQuestions:{...i.shuffledQuestions,[n]:s}})),setSelectedAnswers:n=>e({selectedAnswers:n}),setShowFeedback:n=>e({showFeedback:n}),setLastAnswerCorrect:n=>e({lastAnswerCorrect:n}),setAiFeedback:n=>e({aiFeedback:n}),setStageScore:n=>e({stageScore:n}),incrementStageScore:n=>e(s=>({stageScore:s.stageScore+n})),setCorrectAnswersCount:n=>e({correctAnswersCount:n}),incrementCorrectAnswers:()=>e(n=>({correctAnswersCount:n.correctAnswersCount+1})),setQuizMode:n=>e({selectedQuizMode:n}),setMatchGameType:n=>e({matchGameType:n}),setGameType:n=>e({gameType:n}),setFillInType:n=>e({fillInType:n}),setShowQuizModeSelector:n=>e({showQuizModeSelector:n}),setShowStageComplete:n=>e({showStageComplete:n}),setShowVictory:n=>e({showVictory:n}),setStartTime:n=>e({startTime:n}),setActiveTab:n=>e({activeTab:n}),setShowSentenceTranslation:n=>e({showSentenceTranslation:n}),setRawVocabularyWords:n=>e({rawVocabularyWords:n}),setIsLoadingWords:n=>e({isLoadingWords:n}),incrementRefreshCounter:()=>e(n=>({refreshCounter:n.refreshCounter+1})),startQuiz:(n,s)=>{e({currentStage:n,selectedQuizMode:s,currentQuestion:0,selectedAnswers:[],showFeedback:!1,lastAnswerCorrect:null,stageScore:0,correctAnswersCount:0,startTime:new Date,showQuizModeSelector:!1,pendingStageId:null})},resetQuiz:()=>{e({currentStage:null,currentQuestion:0,selectedAnswers:[],showFeedback:!1,lastAnswerCorrect:null,aiFeedback:null,stageScore:0,correctAnswersCount:0,startTime:null,showStageComplete:!1,matchGameType:null,gameType:null,fillInType:null})},nextQuestion:()=>{e(n=>({currentQuestion:n.currentQuestion+1,selectedAnswers:[],showFeedback:!1,lastAnswerCorrect:null,aiFeedback:null}))},submitAnswer:n=>{e(s=>({showFeedback:!0,lastAnswerCorrect:n,correctAnswersCount:n?s.correctAnswersCount+1:s.correctAnswersCount}))},completeStage:(n,s)=>{const a={...t().completedModes};a[n]||(a[n]=new Set),a[n].add(s),e({completedModes:a,showStageComplete:!0})},unlockNextStage:n=>{e(s=>{const i=s.stages.map(l=>l.id===n+1&&l.status==="locked"?{...l,status:"unlocked"}:l),a=i.every(l=>l.status==="completed");return{stages:i,showVictory:a}})},reset:()=>e(sj)})),fV=({propsVocabularyWords:e,selectedSubject:t,getAuthToken:n,starredWordIds:s=[],graveyardWordIds:i=[],wrongAnswersWordIds:a=[]})=>{const[l,d]=g.useState([]),[u,f]=g.useState(!0),[m,p]=g.useState(0),y=g.useRef({}),v=g.useRef(null),b=g.useRef({}),j=g.useRef({}),S=g.useRef({}),N=g.useRef({starred:"",graveyard:"",wrongAnswers:""}),C=g.useCallback(E=>{E&&(delete y.current[E],delete j.current[E],Object.keys(S.current).forEach(_=>{_.startsWith(`${E}:`)&&delete S.current[_]}),b.current[E]=(b.current[E]||0)+1,p(_=>_+1))},[]),A=g.useCallback(E=>{console.log("[useVocabularyLoader] refreshVocabulary called"),E&&C(E)},[C]);return g.useEffect(()=>{const E=(s||[]).join("|");E!==N.current.starred&&(N.current.starred=E,C("starred"))},[s,C]),g.useEffect(()=>{const E=(i||[]).join("|");E!==N.current.graveyard&&(N.current.graveyard=E,C("graveyard"))},[i,C]),g.useEffect(()=>{const E=(a||[]).join("|");E!==N.current.wrongAnswers&&(N.current.wrongAnswers=E,C("wrong-answers"))},[a,C]),g.useEffect(()=>{if(e&&e.length>0){console.log(`[useVocabularyLoader]  Using ${e.length} words from props`),d(e),f(!1);return}const E=t?.id;if(!E){console.log("[useVocabularyLoader]  No selectedSubject.id"),d([]),f(!1);return}const _=b.current[E]||0,T=`${E}:${_}`,D=y.current[E];if(D&&j.current[E]===_){d(D),f(!1);return}const R=S.current[T];if(R){f(!0);let ne=!1;return R.then(ie=>{ne||(d(ie),f(!1))}).catch(ie=>{ne||(console.error("[useVocabularyLoader]  Error loading vocabulary words:",ie),f(!1))}),()=>{ne=!0}}if(v.current===T)return;let V=!1;const G=(async()=>{const ne=["starred","graveyard","wrong-answers"].includes(E);let ie="";ne?ie=`https://${Ge}.supabase.co/functions/v1/server/${E}`:ie=`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/${E}`;const oe=n?n():Yt,Z=await fetch(ie,{headers:{Authorization:`Bearer ${oe}`}});if(!Z.ok){const B=await Z.text();throw new Error(B||"Failed to load vocabulary words")}const F=await Z.json();console.log("[useVocabularyLoader]  API response:",F);const z=[];return ne?F.words&&Array.isArray(F.words)?z.push(...F.words):Array.isArray(F)&&z.push(...F):F.units&&Array.isArray(F.units)&&F.units.forEach(B=>{B.words&&Array.isArray(B.words)&&z.push(...B.words)}),console.log(`[useVocabularyLoader]  Loaded ${z.length} words from vocabulary ${E}`),z.length>0&&(console.log("[useVocabularyLoader] Sample raw word from API:",z[0]),console.log("[useVocabularyLoader] Sample word synonyms:",z[0]?.synonyms),console.log("[useVocabularyLoader] Sample word antonyms:",z[0]?.antonyms)),y.current[E]=z,j.current[E]=_,z})();return S.current[T]=G,v.current=T,f(!0),console.log("[useVocabularyLoader]  Loading words for vocabulary ID:",E),G.then(ne=>{V||d(ne)}).catch(ne=>{V||console.error("[useVocabularyLoader]  Error loading vocabulary words:",ne)}).finally(()=>{V||f(!1),v.current===T&&(v.current=null),delete S.current[T]}),()=>{V=!0}},[e,t?.id,n,m]),{rawVocabularyWords:l,isLoadingWords:u,refreshVocabulary:A,invalidateVocabulary:C}},pV=`https://${Ge}.supabase.co`;function mV(e,t){const n=d=>d.toLowerCase().trim().replace(/\s+/g,""),s=n(e),i=n(t);if(s===i)return 1;if(s.includes(i)||i.includes(s)){const d=Math.max(s.length,i.length);return Math.min(s.length,i.length)/d}const a=gV(s,i),l=Math.max(s.length,i.length);return 1-a/l}function gV(e,t){const n=[];for(let s=0;s<=t.length;s++)n[s]=[s];for(let s=0;s<=e.length;s++)n[0][s]=s;for(let s=1;s<=t.length;s++)for(let i=1;i<=e.length;i++)t.charAt(s-1)===e.charAt(i-1)?n[s][i]=n[s-1][i-1]:n[s][i]=Math.min(n[s-1][i-1]+1,n[s][i-1]+1,n[s-1][i]+1);return n[t.length][e.length]}async function xV(e,t,n){if(n.trim()===t.trim())return{isCorrect:!0,feedback:"!  ."};const s=t.split(/[,;]/).map(l=>l.trim()).filter(l=>l.length>0);let i=0;for(const l of s){const d=mV(n,l);if(i=Math.max(i,d),n.trim()===l.trim())return{isCorrect:!0,feedback:"!  ."};if(d>=.9)return{isCorrect:!0,feedback:"!    ."}}const a=i;try{const l=await fetch(`${pV}/functions/v1/server/grade-fill-in-answer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Yt}`},body:JSON.stringify({englishWord:e,correctAnswer:t,userAnswer:n})});if(!l.ok)return console.error("Grading API error:",await l.text()),{isCorrect:a>=.6,feedback:a>=.6?" .  .":"   ."};const d=await l.json();return{isCorrect:d.isCorrect||!1,feedback:d.feedback||" ."}}catch(l){return console.error("Grading error:",l),{isCorrect:a>=.6,feedback:a>=.6?" .  .":"   ,     ."}}}function ij({onBack:e,onBackToHome:t,onXPGain:n,userXP:s,selectedSubject:i,vocabularyTitle:a,vocabularyWords:l,onQuizCompletion:d,onWrongAnswer:u,onAddToStarred:f,onMoveToGraveyard:m,onDeletePermanently:p,starredWordIds:y=[],graveyardWordIds:v=[],wrongAnswersWordIds:b=[],getAuthToken:j,onRefreshVocabulary:S,vocabularyId:N,isLoading:C}){const A=i?.id||"math",E=a||uV[A]||"Math Journey",_=!!i,T=i?.id==="starred",{stages:D,setStages:R,currentStage:V,setCurrentStage:G,currentQuestion:ne,setCurrentQuestion:ie,selectedAnswers:oe,setSelectedAnswers:Z,showFeedback:F,setShowFeedback:z,lastAnswerCorrect:B,setLastAnswerCorrect:O,aiFeedback:$,setAiFeedback:q,stageScore:M,setStageScore:W,incrementStageScore:L,showStageComplete:K,setShowStageComplete:U,showVictory:ee,setShowVictory:Y,startTime:le,setStartTime:fe,correctAnswersCount:ue,setCorrectAnswersCount:Se,incrementCorrectAnswers:Pe,showQuizModeSelector:Ye,setShowQuizModeSelector:Ze,selectedQuizMode:ye,setQuizMode:re,matchGameType:ve,setMatchGameType:Qe,gameType:lt,setGameType:ct,fillInType:vt,setFillInType:ut,pendingStageId:Ce,setPendingStageId:et,activeTab:he,setActiveTab:ge,shuffledQuestions:Te,updateShuffledQuestionsForStage:De,completedModes:qe,addCompletedMode:mt,showSentenceTranslation:jt,setShowSentenceTranslation:Et,startQuiz:In,resetQuiz:rn,nextQuestion:vn,submitAnswer:sn,completeStage:_n,unlockNextStage:on}=hV(),{rawVocabularyWords:at,refreshVocabulary:Q}=fV({propsVocabularyWords:l,selectedSubject:i,getAuthToken:j,starredWordIds:y,graveyardWordIds:v,wrongAnswersWordIds:b}),we=at;g.useEffect(()=>{R(nj[A]||nj.math)},[A,R]);const pe=g.useCallback((Ae,Ve)=>{const Re=Ve[Ae]||[];if(!Re.length)return;const ot=hn(Re);De(Ae,ot)},[De]),Ie=i?.id==="graveyard",J=g.useMemo(()=>{if(!we.length)return[];if(Ie||!v.length)return we;const Ae=new Set(v);return we.filter(Ve=>{const Re=Ve?.id||Ve?.term;return!Ae.has(String(Re))})},[we,v,Ie]),xe=g.useMemo(()=>dV(J),[J]),Ee=g.useMemo(()=>xe||{},[xe]),Le=g.useMemo(()=>{const Ae=J.flatMap(Ve=>(Ve?.derivatives||[]).map((Re,ot)=>({id:`${Ve.id}-derivative-${ot}`,word:Re?.word||Re?.term||"",meaning:Re?.meaning||""}))).filter(Ve=>Ve.word&&Ve.meaning);return{1:J,2:Ae.length?Ae:J,3:J,4:J,5:J}},[J]),rt=g.useCallback(Ae=>{const Ve=Le[Ae];return Ve&&Ve.length?Ve:J},[Le,J]);g.useEffect(()=>{Et(!1)},[ne,V]);const it=Ae=>{if(!D.find(ot=>ot.id===Ae))return;const Re=rj[Ae]||["normal"];if(Re.length===1){const ot=Re[0];if(ot==="match"&&rt(Ae).length<Io){alert(`    ${Io}   .`);return}re(ot),We(Ae,ot);return}et(Ae),Ze(!0)},We=(Ae,Ve,Re)=>{if(Ve==="match"&&rt(Ae).length<Io){alert(`    ${Io}   .`);return}if(Ve!=="match"&&Ve!=="fill-in"&&!(Ee[Ae]||[]).length){if(we.length>0){const Qt=D.find(ft=>ft.id===Ae)?.title||" ";alert(`${Qt}   .        .`)}return}if(Ve==="fill-in"){if(!J.length){alert("    .");return}const ot=J.map(QC).filter(an=>!!an);if(!ot.length){alert("    .");return}const Qt=Re||vt;console.log("Normalized words for fill-in:",ot),console.log("Fill-in type:",Qt);let ft=[];if(Qt==="kr-to-en"?ft=lV(ot,10):Qt==="en-to-kr"&&(ft=cV(ot,10)),console.log("Generated fill-in questions:",ft),!ft.length){alert("    .   .");return}Re&&ut(Re),De(Ae,ft)}G(Ae),ie(0),W(0),Z([]),z(!1),O(null),fe(new Date),Se(0),re(Ve),Ze(!1),et(null),Et(!1),Ve!=="fill-in"&&pe(Ae,Ee),Ve==="match"?Qe("card-match-word"):Ve==="game"&&ct(Math.random()>.5?"fall":"speed")},xt=g.useCallback((Ae,Ve)=>{W(Ae),Se(Ae),U(!0),V&&Ae>=3&&R(Re=>Re.map(ot=>ot.id===V?{...ot,status:"completed"}:ot.id===V+1&&ot.status==="locked"?{...ot,status:"current"}:ot))},[V]),gt=Ae=>{if(F)return;const Ve=V?Te[V]||Ee[V]:null,Re=Ve?Ve[ne]:null;if(Re)if(Re.type==="multi-select"){const ot=oe.includes(Ae)?oe.filter(Qt=>Qt!==Ae):[...oe,Ae];Z(ot)}else{const ot=[Ae];Z(ot),setTimeout(()=>{St(ot)},120)}},St=async Ae=>{if(!V)return;const Ve=Te[V]||Ee[V]||[],Re=Ve[ne];if(typeof Ae=="string"){const ft=Ae.trim();if(!ft||!Re)return;let an=!1;if(Re.type==="fill-in-word")an=ft.toLowerCase()===Re.correctAnswer.toLowerCase();else if(Re.type==="fill-in-meaning"){const Fn=Re.text,Jr=Re.correctAnswer;try{const Ns=await xV(Fn,Jr,ft);an=Ns.isCorrect,q(Ns.feedback),console.log("Gemini feedback:",Ns.feedback)}catch(Ns){console.error("Grading error, falling back to simple matching:",Ns),an=ft.includes(Jr)||Jr.includes(ft),q("   .")}}if(z(!0),O(an),an)L(1),Pe();else{const Fn=Re.word?.id||Re.word?.term;u&&Fn&&u(Fn)}setTimeout(()=>{ne<Ve.length-1?(ie(ne+1),Z([]),z(!1),O(null),q(null)):(Z([]),z(!1),O(null),q(null),fn())},2500);return}const ot=Ae??oe;if(!Re||ot.length===0)return;let Qt=!1;if(Re.type==="multi-select"&&Re.correctAnswers){const ft=[...ot].sort(),an=[...Re.correctAnswers].sort();Qt=ft.length===an.length&&ft.every((Fn,Jr)=>Fn===an[Jr])}else typeof Re.correctAnswer=="number"&&(Qt=ot[0]===Re.correctAnswer);if(z(!0),O(Qt),Qt)L(1),Pe();else{const ft=Re.wordId||Re.word;u&&ft&&u(ft)}setTimeout(()=>{ne<Ve.length-1?(ie(ne+1),Z([]),z(!1),O(null),Et(!1)):(Z([]),z(!1),O(null),Et(!1),fn())},2500)},fn=()=>{if(!V||!D.find(Re=>Re.id===V))return;mt(V,ye);const Ve=D.map(Re=>Re.id===V?{...Re,status:"completed"}:Re.id===V+1?{...Re,status:"unlocked"}:Re);if(R(Ve),V===5){const ot=le?new Date().getTime()-le.getTime():0,Qt=Math.floor(ot/6e4),ft=Math.floor(ot%6e4/1e3),an=`${Qt}:${ft.toString().padStart(2,"0")}`,Fn=Object.values(Ee).flat().length,Jr=Math.round(ue/Fn*100);d({xpGained:0,completionTime:an,accuracy:Jr,totalQuestions:Fn,correctAnswers:ue,stageName:E})}else setTimeout(()=>{const Re=D.find(ot=>ot.id===V+1);Re&&Re.status!=="locked"?it(V+1):Ot()},800)},Ot=()=>{G(null),U(!1),ie(0),Z([]),z(!1),O(null),Et(!1),W(0)};if(V){const Ae=D.find(ft=>ft.id===V);if(ye==="match"){const ft=V?rt(V):we;return ft.length?r.jsx(QW,{words:ft,matchGameType:ve||"card-match-word",onBack:Ot,onBackToHome:t?()=>{rn(),ge("word-list"),t()}:void 0,onComplete:(an,Fn)=>xt(Fn,Ae),onWrongAnswer:u,stage:Ae,journeyName:E,wordCount:ft.length,isStarredVocabulary:T}):r.jsx("div",{className:"min-h-screen flex items-center justify-center text-[#091A7A]",children:r.jsx("p",{children:"    ."})})}if(ye==="game"&&we.length>0)return r.jsx(ZW,{words:we,gameType:lt||"fall",onBack:Ot,onComplete:(ft,an)=>xt(an,Ae),onWrongAnswer:u});const Ve=V?Te[V]||Ee[V]||[]:[],Re=Ve[ne];if(!Re)return r.jsx("div",{className:"min-h-screen flex items-center justify-center text-[#091A7A]",children:r.jsx("p",{children:"  .    ."})});const ot=Re.type==="multi-select",Qt=Re.type==="sentence"&&Re.sentenceData;return r.jsx(tV,{stage:Ae,currentStageId:V,currentQuestionIndex:ne,totalQuestions:Ve.length,question:Re,selectedAnswers:oe,showFeedback:F,lastAnswerCorrect:B,aiFeedback:$,isMultiSelect:ot,isSentenceQuestion:!!Qt,sentenceTranslationVisible:jt,onBack:Ot,onBackToHome:t?()=>{rn(),ge("word-list"),t()}:void 0,onAnswerSelect:gt,onToggleSentenceTranslation:()=>Et(!jt),onSubmitAnswer:St,journeyName:E,wordCount:J.length,isStarredVocabulary:T})}return r.jsxs("div",{className:"h-full bg-transparent relative flex flex-col",children:[r.jsxs("div",{className:`flex-shrink-0 z-50 pdf-print-overlay bg-gradient-to-b ${T?"from-[#FFFBEB]/80 to-[#FEF3C7]/70":"from-[#D4C5FF] to-transparent"}`,children:[r.jsx("div",{className:"p-6 pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Or,{onClick:e}),r.jsxs("div",{className:"flex-1 mx-4 text-center",children:[r.jsx("h1",{style:{fontSize:"18px",fontWeight:700,color:T?"#78350F":"#5B21B6"},children:T?" Starred Words":E}),r.jsxs("p",{style:{fontSize:"12px",fontWeight:500,color:T?"#D97706":"#A78BFA"},children:[J.length," "]})]}),t?r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>{rn(),ge("word-list"),t()},className:"w-10 h-10 bg-white/90 backdrop-blur-md rounded-full flex items-center justify-center shadow-card",children:r.jsx(Xi,{className:"w-5 h-5",style:{color:T?"#78350F":"#5B21B6"}})}):r.jsx("div",{className:"w-10 h-10"})]})}),r.jsx("div",{className:"px-4 pb-2",children:r.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl border border-white/40 shadow-lg p-1.5",children:r.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[r.jsxs(I.button,{whileTap:{scale:.97},onClick:()=>ge("word-list"),className:`py-2.5 px-2 rounded-xl flex flex-col items-center gap-1 transition-all duration-200 ${he==="word-list"?T?"bg-gradient-to-br from-[#F59E0B] to-[#FCD34D] shadow-md":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] shadow-md":"hover:bg-white/50"}`,children:[r.jsx(d6,{className:`w-4 h-4 ${he==="word-list"?"text-white":T?"text-[#D97706]":"text-[#7C3AED]"}`}),r.jsx("span",{className:`text-[10px] font-semibold ${he==="word-list"?"text-white":T?"text-[#78350F]":"text-[#5B21B6]"}`,children:"Word List"})]}),r.jsxs(I.button,{whileTap:{scale:.97},onClick:()=>ge("quiz-map"),className:`py-2.5 px-2 rounded-xl flex flex-col items-center gap-1 transition-all duration-200 ${he==="quiz-map"?T?"bg-gradient-to-br from-[#F59E0B] to-[#FCD34D] shadow-md":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] shadow-md":"hover:bg-white/50"}`,children:[r.jsx(qR,{className:`w-4 h-4 ${he==="quiz-map"?"text-white":T?"text-[#D97706]":"text-[#7C3AED]"}`}),r.jsx("span",{className:`text-[10px] font-semibold ${he==="quiz-map"?"text-white":T?"text-[#78350F]":"text-[#5B21B6]"}`,children:"Quiz Map"})]}),r.jsxs(I.button,{whileTap:{scale:.97},onClick:()=>ge("flashcards"),className:`py-2.5 px-2 rounded-xl flex flex-col items-center gap-1 transition-all duration-200 ${he==="flashcards"?T?"bg-gradient-to-br from-[#F59E0B] to-[#FCD34D] shadow-md":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] shadow-md":"hover:bg-white/50"}`,children:[r.jsx(ZR,{className:`w-4 h-4 ${he==="flashcards"?"text-white":T?"text-[#D97706]":"text-[#7C3AED]"}`}),r.jsx("span",{className:`text-[10px] font-semibold ${he==="flashcards"?"text-white":T?"text-[#78350F]":"text-[#5B21B6]"}`,children:"Flash Cards"})]}),r.jsxs(I.button,{whileTap:{scale:_?.97:1},onClick:()=>_&&ge("pdf-print"),className:`py-2.5 px-2 rounded-xl flex flex-col items-center gap-1 transition-all duration-200 ${he==="pdf-print"?T?"bg-gradient-to-br from-[#F59E0B] to-[#FCD34D] shadow-md":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] shadow-md":_?"hover:bg-white/50":"opacity-40 cursor-not-allowed"}`,children:[r.jsx(Mo,{className:`w-4 h-4 ${he==="pdf-print"?"text-white":T?"text-[#D97706]":"text-[#7C3AED]"}`}),r.jsx("span",{className:`text-[10px] font-semibold ${he==="pdf-print"?"text-white":T?"text-[#78350F]":"text-[#5B21B6]"}`,children:"PDF Print"})]})]})})})]}),r.jsx("div",{className:"flex-1 relative z-10 overflow-hidden",children:r.jsxs(pt,{mode:"wait",children:[he==="word-list"&&r.jsx(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full",children:r.jsx(Ou,{onBack:e,onBackToHome:t,vocabularyTitle:i?.name||" ",unitName:"Unit 1",vocabularyWords:we,starredWordIds:y,graveyardWordIds:v,wrongAnswersWordIds:b,isLoading:C,vocabularyId:N,onAddToStarred:f,onMoveToGraveyard:m,onDeletePermanently:p,onStartFlashcards:()=>{console.log("[GameMapQuizScreen]  Flashcard button clicked in WordList! Setting activeTab to flashcards"),ge("flashcards")},onRefreshVocabulary:Q,hideHeader:!0})},"word-list"),he==="quiz-map"&&r.jsx(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full overflow-y-auto scrollbar-hide",children:r.jsxs("div",{className:"max-w-sm mx-auto relative pt-2 pb-4",children:[r.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-0",viewBox:"0 0 300 500",preserveAspectRatio:"xMidYMin meet",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"pathGradientTab",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:T?"#FEF3C7":"#DDD6FE",stopOpacity:"0.8"}),r.jsx("stop",{offset:"30%",stopColor:T?"#FCD34D":"#C4B5FD",stopOpacity:"0.5"}),r.jsx("stop",{offset:"70%",stopColor:T?"#F59E0B":"#A78BFA",stopOpacity:"0.5"}),r.jsx("stop",{offset:"100%",stopColor:T?"#FEF3C7":"#DDD6FE",stopOpacity:"0.8"})]}),r.jsxs("filter",{id:"pathGlowTab",children:[r.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsx(I.path,{d:`M 150 30
                       C 150 45, 120 70, 90 110
                       C 60 150, 140 170, 210 200
                       C 280 230, 180 250, 90 290
                       C 0 330, 120 350, 150 390`,stroke:"url(#pathGradientTab)",strokeWidth:"4",fill:"none",strokeLinecap:"round",filter:"url(#pathGlowTab)",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:2,ease:"easeInOut"}})]}),r.jsx("div",{className:"relative z-10",children:D.map((Ae,Ve)=>{const ot=[{x:"50%",y:"30px",transform:"translateX(-50%)"},{x:"25%",y:"110px",transform:"translateX(-50%)"},{x:"65%",y:"200px",transform:"translateX(-50%)"},{x:"25%",y:"290px",transform:"translateX(-50%)"},{x:"50%",y:"380px",transform:"translateX(-50%)"}][Ve];return r.jsxs(I.div,{initial:{opacity:0,scale:.8,y:30},animate:{opacity:1,scale:1,y:0},transition:{delay:Ve*.15,duration:.7,ease:[.34,1.56,.64,1]},className:"absolute",style:{left:ot.x,top:ot.y,transform:ot.transform},children:[r.jsxs(I.button,{whileTap:{scale:.92},onClick:()=>it(Ae.id),className:`relative w-[72px] h-[72px] rounded-3xl flex items-center justify-center transition-all duration-300 backdrop-blur-lg border-2 ${Ae.status==="completed"?"bg-gradient-to-br from-emerald-400 via-emerald-500 to-emerald-600 border-white/30 text-white shadow-xl shadow-emerald-500/40":Ae.status==="current"?T?"bg-gradient-to-br from-[#F59E0B] via-[#FBBF24] to-[#FCD34D] border-white/30 text-white shadow-xl shadow-amber-500/40":"bg-gradient-to-br from-[#7C3AED] via-[#8B5CF6] to-[#A78BFA] border-white/30 text-white shadow-xl shadow-purple-500/40":"bg-white/70 border-white/50 text-gray-400 shadow-md"}`,children:[Ae.status==="completed"?r.jsx(I.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.4,type:"spring",stiffness:300,damping:15},children:r.jsx(Dn,{className:"w-8 h-8 drop-shadow-lg"})}):r.jsx("div",{className:"relative",children:r.jsx("div",{className:`w-6 h-6 ${Ae.status==="locked"?"opacity-40":""}`,children:Ae.icon})}),r.jsx("div",{className:`absolute -top-1.5 -right-1.5 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold shadow-lg ${Ae.status==="completed"?"bg-white text-emerald-600":Ae.status==="current"?T?"bg-white text-amber-600":"bg-white text-purple-600":"bg-gray-200 text-gray-500"}`,children:Ae.id}),Ae.status==="current"&&r.jsxs(r.Fragment,{children:[r.jsx(I.div,{animate:{scale:[1,1.3,1],opacity:[.6,0,.6]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},className:`absolute inset-0 ${T?"bg-amber-400":"bg-purple-400"} rounded-3xl blur-lg -z-10`}),r.jsx(I.div,{animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-3xl -z-10",style:{background:T?"conic-gradient(from 0deg, transparent 0deg, rgba(251, 191, 36, 0.3) 90deg, transparent 180deg)":"conic-gradient(from 0deg, transparent 0deg, rgba(167, 139, 250, 0.3) 90deg, transparent 180deg)"}})]}),Ae.status==="completed"&&r.jsx(I.div,{animate:{scale:[1,1.15,1],opacity:[.5,.8,.5]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-emerald-400 rounded-3xl blur-xl -z-10"})]}),r.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Ve*.15+.5},className:"absolute top-[78px] text-center z-20 max-w-[130px]",style:{left:Ve===3?"-15px":Ve===1?"0px":Ve===0||Ve===2?"26px":"36px",transform:Ve===1?"translateX(-100%)":Ve===3?"translateX(-120%)":"translateX(-50%)"},children:r.jsx("div",{className:`px-2.5 py-1.5 rounded-xl backdrop-blur-lg shadow-md border ${Ae.status==="completed"?"bg-emerald-50/95 border-emerald-200/60 text-emerald-700":Ae.status==="current"?T?"bg-white/95 border-amber-200/60 text-amber-700":"bg-white/95 border-purple-200/60 text-purple-700":"bg-white/80 border-white/40 text-gray-500"}`,children:r.jsx("div",{className:`text-[11px] ${Ae.status==="completed"?"font-semibold":"font-medium"}`,children:Ae.title})})})]},Ae.id)})}),r.jsx(I.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.8},className:"mt-[500px] mx-4 p-5 bg-white/95 backdrop-blur-xl rounded-3xl border-2 border-white/60 shadow-2xl",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[r.jsx(fr,{className:`w-4 h-4 ${T?"text-amber-500":"text-purple-500"}`}),r.jsx("h3",{className:`text-sm ${T?"text-amber-700":"text-purple-700"}`,style:{fontWeight:700},children:"Your Progress"}),r.jsx(fr,{className:`w-4 h-4 ${T?"text-amber-500":"text-purple-500"}`})]}),r.jsx("p",{className:`text-xs ${T?"text-amber-400":"text-purple-400"}`,children:E})]}),r.jsxs("div",{className:"flex items-center justify-center gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(I.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1.5,type:"spring",stiffness:200},className:`text-2xl bg-gradient-to-br ${T?"from-amber-600 to-amber-400":"from-purple-600 to-purple-400"} bg-clip-text text-transparent mb-1`,style:{fontWeight:700},children:D.filter(Ae=>Ae.status==="completed").length}),r.jsx("div",{className:`text-xs ${T?"text-amber-500":"text-purple-500"}`,style:{fontWeight:600},children:"Completed"})]}),r.jsx("div",{className:`w-px h-10 bg-gradient-to-b from-transparent ${T?"via-amber-200":"via-purple-200"} to-transparent`}),r.jsxs("div",{className:"text-center",children:[r.jsx(I.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1.6,type:"spring",stiffness:200},className:"text-2xl text-gray-300 mb-1",style:{fontWeight:700},children:D.filter(Ae=>Ae.status==="locked").length}),r.jsx("div",{className:"text-xs text-gray-400",style:{fontWeight:600},children:"Remaining"})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("div",{className:`w-full h-2.5 ${T?"bg-amber-100/60":"bg-purple-100/60"} rounded-full overflow-hidden shadow-inner`,children:r.jsx(I.div,{initial:{width:0},animate:{width:`${D.filter(Ae=>Ae.status==="completed").length/D.length*100}%`},transition:{delay:2,duration:1.5,ease:[.34,1.56,.64,1]},className:`h-full bg-gradient-to-r ${T?"from-amber-500 via-amber-400 to-amber-500":"from-purple-500 via-purple-400 to-purple-500"} rounded-full shadow-lg relative`,children:r.jsx(I.div,{animate:{x:[-20,100],opacity:[0,1,0]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent"})})}),r.jsxs("div",{className:`text-[10px] ${T?"text-amber-400":"text-purple-400"}`,style:{fontWeight:600},children:[Math.round(D.filter(Ae=>Ae.status==="completed").length/D.length*100),"% Complete"]})]})]})})]})},"quiz-map"),he==="flashcards"&&r.jsx(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full",children:r.jsx(vC,{onBack:()=>ge("word-list"),onBackToHome:t,vocabularyWords:J,starredWordIds:y,graveyardWordIds:v,vocabularyId:N,vocabularyTitle:i?.name,onAddToStarred:f,onMoveToGraveyard:m,onRefreshVocabulary:Q,hideHeader:!0})},"flashcards"),he==="pdf-print"&&_&&r.jsx(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full",children:r.jsx(GW,{onBack:()=>ge("word-list"),vocabularyId:i?.id||"",vocabularyTitle:i?.name||"",words:we,hideHeader:!0})},"pdf-print")]})}),r.jsx(pt,{children:Ye&&r.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex items-center justify-center p-6",onClick:()=>{Ze(!1),et(null)},children:r.jsxs(I.div,{initial:{scale:.8,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:20},transition:{type:"spring",damping:20},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-6 shadow-2xl border-2 border-white/60 max-w-sm w-full",onClick:Ae=>Ae.stopPropagation(),children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-lg mb-1",style:{fontWeight:700,color:"#491B6D"},children:"  "}),r.jsx("p",{className:"text-xs",style:{color:"#8B5CF6"},children:"   "})]}),(()=>{const Ae=Ce?rj[Ce]||["normal"]:[];return r.jsxs("div",{className:"space-y-3",children:[Ae.includes("normal")&&r.jsxs(I.button,{whileTap:{scale:.95},onClick:()=>Ce&&We(Ce,"normal"),className:`w-full p-4 rounded-2xl shadow-lg flex items-center justify-between relative ${Ce&&qe[Ce]?.has("normal")?"bg-gradient-to-br from-emerald-400 to-emerald-600 text-white":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] text-white"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx(pr,{className:"w-5 h-5"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-sm",style:{fontWeight:700},children:"Normal"}),r.jsx("div",{className:"text-xs opacity-80",children:"  "})]})]}),Ce&&qe[Ce]?.has("normal")?r.jsx(Dn,{className:"w-5 h-5"}):r.jsx(us,{className:"w-5 h-5"})]}),Ae.includes("match")&&(()=>{const Ve=Ce?rt(Ce).length:0,Re=Ve<Io;return r.jsxs(I.button,{whileTap:{scale:Re?1:.95},onClick:()=>{Re||!Ce||We(Ce,"match")},className:`w-full p-4 rounded-2xl shadow-md flex items-center justify-between ${Re?"bg-gray-100 border-2 border-dashed border-gray-300 text-gray-400 cursor-not-allowed":Ce&&qe[Ce]?.has("match")?"bg-gradient-to-br from-emerald-400 to-emerald-600 text-white border-2 border-emerald-300":"bg-white border-2 border-[#A78BFA]"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${Re?"bg-gray-200":Ce&&qe[Ce]?.has("match")?"bg-white/20":"bg-[#EDE9FE]"}`,children:r.jsx(fl,{className:`w-5 h-5 ${Re?"text-gray-400":Ce&&qe[Ce]?.has("match")?"text-white":"text-[#7C3AED]"}`})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-sm",style:{fontWeight:700,color:Re?"#9CA3AF":Ce&&qe[Ce]?.has("match")?"#fff":"#491B6D"},children:"Match"}),r.jsx("div",{className:"text-xs",style:{color:Re?"#9CA3AF":Ce&&qe[Ce]?.has("match")?"rgba(255,255,255,0.8)":"#8B5CF6"},children:Re?`  (${Ve}/${Io})`:"-  "})]})]}),Ce&&qe[Ce]?.has("match")?r.jsx(Dn,{className:"w-5 h-5 text-white"}):Re?r.jsx("span",{className:"text-xs text-gray-400",children:""}):r.jsx(us,{className:"w-5 h-5 text-[#7C3AED]"})]})})(),Ae.includes("normal")&&r.jsxs(I.button,{whileTap:{scale:.95},onClick:()=>{Ce&&(Ze(!1),re("fill-in"))},className:`w-full p-4 rounded-2xl shadow-md flex items-center justify-between ${Ce&&qe[Ce]?.has("fill-in")?"bg-gradient-to-br from-emerald-400 to-emerald-600 text-white border-2 border-emerald-300":"bg-white border-2 border-[#A78BFA]"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${Ce&&qe[Ce]?.has("fill-in")?"bg-white/20":"bg-[#EDE9FE]"}`,children:r.jsx(nw,{className:`w-5 h-5 ${Ce&&qe[Ce]?.has("fill-in")?"text-white":"text-[#7C3AED]"}`})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-sm",style:{fontWeight:700,color:Ce&&qe[Ce]?.has("fill-in")?"#fff":"#491B6D"},children:"Fill-in"}),r.jsx("div",{className:"text-xs",style:{color:Ce&&qe[Ce]?.has("fill-in")?"rgba(255,255,255,0.8)":"#8B5CF6"},children:"  "})]})]}),Ce&&qe[Ce]?.has("fill-in")?r.jsx(Dn,{className:"w-5 h-5 text-white"}):r.jsx(us,{className:"w-5 h-5 text-[#7C3AED]"})]})]})})(),r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>{Ze(!1),et(null)},className:"mt-4 w-full p-3 bg-gray-100 rounded-xl",children:r.jsx("span",{className:"text-sm",style:{fontWeight:600,color:"#6B7280"},children:""})})]})})}),r.jsx(pt,{children:!Ye&&ye==="fill-in"&&Ce&&r.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>{et(null),re("normal")},children:r.jsxs(I.div,{initial:{scale:.8,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:20},transition:{type:"spring",damping:20},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-6 shadow-2xl border-2 border-white/60 max-w-sm w-full",onClick:Ae=>Ae.stopPropagation(),children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-lg mb-1",style:{fontWeight:700,color:"#491B6D"},children:"  "}),r.jsx("p",{className:"text-xs",style:{color:"#8B5CF6"},children:"  "})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(I.button,{whileTap:{scale:.95},onClick:()=>{We(Ce,"fill-in","kr-to-en")},className:"w-full p-4 rounded-2xl shadow-md flex items-center justify-between bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] text-white",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx(Ur,{className:"w-5 h-5"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-sm",style:{fontWeight:700},children:"KR  EN"}),r.jsx("div",{className:"text-xs opacity-80",children:"   "})]})]}),r.jsx(us,{className:"w-5 h-5"})]}),r.jsxs(I.button,{whileTap:{scale:.95},onClick:()=>{We(Ce,"fill-in","en-to-kr")},className:"w-full p-4 rounded-2xl shadow-md flex items-center justify-between bg-white border-2 border-[#A78BFA]",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-[#EDE9FE] rounded-xl flex items-center justify-center",children:r.jsx(nw,{className:"w-5 h-5 text-[#7C3AED]"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-sm",style:{fontWeight:700,color:"#491B6D"},children:"EN  KR"}),r.jsx("div",{className:"text-xs",style:{color:"#8B5CF6"},children:"    (AI )"})]})]}),r.jsx(us,{className:"w-5 h-5 text-[#7C3AED]"})]})]}),r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>{re("normal")},className:"mt-4 w-full p-3 bg-gray-100 rounded-xl",children:r.jsx("span",{className:"text-sm",style:{fontWeight:600,color:"#6B7280"},children:""})})]})})})]})}function yV({onBack:e,onRetakeQuiz:t,onNextChallenge:n,userXP:s,xpGained:i,completionTime:a,accuracy:l,totalQuestions:d,correctAnswers:u,stageName:f}){const[m,p]=g.useState(!0),[y,v]=g.useState(0),b=[{icon:r.jsx(pr,{className:"w-6 h-6"}),label:"Accuracy",value:`${l}%`,color:"emerald"},{icon:r.jsx(aa,{className:"w-6 h-6"}),label:"Time",value:a,color:"blue"},{icon:r.jsx(lS,{className:"w-6 h-6"}),label:"Correct",value:`${u}/${d}`,color:"green"},{icon:r.jsx(SS,{className:"w-6 h-6"}),label:"XP Gained",value:`+${i}`,color:"purple"}];g.useEffect(()=>{const C=setTimeout(()=>p(!1),4e3);return()=>clearTimeout(C)},[]),g.useEffect(()=>{const C=setInterval(()=>{v(A=>(A+1)%b.length)},2e3);return()=>clearInterval(C)},[]);const S=l>=90?{level:"Excellent",color:"emerald",emoji:""}:l>=80?{level:"Great",color:"blue",emoji:""}:l>=70?{level:"Good",color:"orange",emoji:""}:{level:"Keep Practicing",color:"gray",emoji:""},N=()=>r.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:[...Array(50)].map((C,A)=>r.jsx(I.div,{initial:{y:-100,x:Math.random()*window.innerWidth,rotate:0,opacity:1},animate:{y:window.innerHeight+100,rotate:360,opacity:0},transition:{duration:Math.random()*3+2,delay:Math.random()*2,ease:"easeOut"},className:`absolute w-3 h-3 ${A%4===0?"bg-yellow-400":A%4===1?"bg-blue-400":A%4===2?"bg-emerald-400":"bg-purple-400"} rounded-full`},A))});return r.jsxs("div",{className:"h-full relative overflow-hidden",children:[m&&r.jsx(N,{}),r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx(I.div,{animate:{scale:[1,1.2,1],rotate:[0,10,0],opacity:[.1,.2,.1]},transition:{duration:8,repeat:1/0},className:"absolute -top-20 -right-20 w-60 h-60 bg-gradient-to-br from-[#091A7A]/10 to-[#4F8EFF]/10 rounded-full blur-3xl"}),r.jsx(I.div,{animate:{scale:[1,1.1,1],rotate:[0,-15,0],opacity:[.1,.15,.1]},transition:{duration:10,repeat:1/0,delay:2},className:"absolute -bottom-20 -left-20 w-80 h-80 bg-gradient-to-br from-[#ADC8FF]/10 to-[#4F8EFF]/10 rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[r.jsxs("div",{className:"pt-12 px-6 text-center",children:[r.jsx(I.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.3},className:"mb-6",children:r.jsxs("div",{className:"relative inline-flex",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center shadow-2xl shadow-yellow-500/25",children:r.jsx(fs,{className:"w-12 h-12 text-white"})}),r.jsxs(I.div,{animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear"},className:"absolute inset-0",children:[r.jsx(fr,{className:"absolute -top-2 left-2 w-4 h-4 text-yellow-400"}),r.jsx(fr,{className:"absolute top-2 -right-2 w-5 h-5 text-orange-400"}),r.jsx(fr,{className:"absolute -bottom-2 right-2 w-3 h-3 text-yellow-500"}),r.jsx(fr,{className:"absolute bottom-2 -left-2 w-4 h-4 text-orange-300"})]})]})}),r.jsxs(I.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-8",children:[r.jsxs("h1",{className:"text-2xl font-bold text-[#091A7A] mb-2",children:[f," Complete! "]}),r.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium ${S.color==="emerald"?"bg-emerald-100 text-emerald-700":S.color==="blue"?"bg-blue-100 text-blue-700":S.color==="orange"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`,children:[r.jsx("span",{children:S.emoji}),r.jsx("span",{children:S.level})]})]})]}),r.jsx("div",{className:"px-6 mb-8",children:r.jsxs(I.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-6 shadow-lg border border-white/40",children:[r.jsx("h2",{className:"text-lg font-semibold text-[#091A7A] text-center mb-6",children:"Your Performance"}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:b.map((C,A)=>r.jsxs(I.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1+A*.1},className:`p-4 rounded-2xl border transition-all duration-300 ${y===A?"bg-[#091A7A]/5 border-[#091A7A]/20 shadow-lg":"bg-gray-50/50 border-gray-100"}`,children:[r.jsx("div",{className:`w-10 h-10 rounded-xl mb-3 flex items-center justify-center ${C.color==="emerald"?"bg-emerald-100 text-emerald-600":C.color==="blue"?"bg-blue-100 text-blue-600":C.color==="green"?"bg-green-100 text-green-600":C.color==="purple"?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600"}`,children:C.icon}),r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:C.label}),r.jsx("p",{className:"text-lg font-bold text-[#091A7A]",children:C.value})]},C.label))})]})}),r.jsx("div",{className:"px-6 mb-8",children:r.jsxs(I.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:1.2},className:"bg-gradient-to-r from-[#091A7A]/5 to-[#4F8EFF]/5 backdrop-blur-xl rounded-3xl p-6 border border-[#ADC8FF]/30",children:[r.jsx("h3",{className:"font-semibold text-[#091A7A] mb-4 text-center",children:"Rewards Earned"}),r.jsxs("div",{className:"flex items-center justify-center gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-2xl flex items-center justify-center mb-2 mx-auto",children:r.jsx(vs,{className:"w-6 h-6 text-yellow-600"})}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"XP Gained"}),r.jsxs("p",{className:"font-bold text-[#091A7A]",children:["+",i]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-2xl flex items-center justify-center mb-2 mx-auto",children:r.jsx(w6,{className:"w-6 h-6 text-purple-600"})}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Badge"}),r.jsx("p",{className:"font-bold text-[#091A7A] text-xs",children:"Quiz Master"})]})]})]})}),r.jsxs("div",{className:"flex-1 flex flex-col justify-end px-6 pb-8 space-y-4",children:[r.jsxs(I.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.4},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:n,className:"w-full bg-gradient-to-r from-[#091A7A] to-[#4F8EFF] text-white py-4 rounded-2xl font-semibold shadow-lg flex items-center justify-center gap-2",children:[r.jsx("span",{children:"Continue Learning"}),r.jsx(lR,{className:"w-5 h-5"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(I.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.5},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"flex-1 bg-white/90 backdrop-blur-xl border border-white/40 text-[#091A7A] py-3 rounded-2xl font-medium shadow-sm flex items-center justify-center gap-2",children:[r.jsx(tc,{className:"w-4 h-4"}),r.jsx("span",{children:"Retake"})]}),r.jsxs(I.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.6},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{},className:"flex-1 bg-white/90 backdrop-blur-xl border border-white/40 text-[#091A7A] py-3 rounded-2xl font-medium shadow-sm flex items-center justify-center gap-2",children:[r.jsx(V6,{className:"w-4 h-4"}),r.jsx("span",{children:"Share"})]}),r.jsx(I.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.7},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-4 bg-white/90 backdrop-blur-xl border border-white/40 text-[#091A7A] py-3 rounded-2xl font-medium shadow-sm",children:"Home"})]})]})]})]})}const vV=[{icon:yu,text:"  ?",category:"",prompt:"      ,    :"},{icon:a6,text:"   ?",category:"",prompt:"         :"},{icon:s0,text:"   .",category:"",prompt:"        ,  :"},{icon:Q6,text:"  ? ?",category:"",prompt:"    .  , ,      :"}],am=3,bV=1500,wV=e=>new Promise(t=>setTimeout(t,e)),jV=e=>{if(!e)return"";const t=e.replace(/\r/g,"").replace(/\t/g," ").replace(/--([^-\n]+)--/g,"$1").replace(/#{1,3}\s*/g,"").replace(/---+/g,"").replace(/[*]/g,"-").trim();if(!t)return"";const n=new Set,s=[];let i=!1;const a=t.replace(/[ ]{2,}/g," ");for(const d of a.split(`
`)){const u=d.trim();if(!u){!i&&s.length>0&&(i=!0);continue}i&&(s.push(""),i=!1);const f=u.toLowerCase();n.has(f)||(n.add(f),s.push(u))}return s.join(`
`).replace(/\n{3,}/g,`

`).replace(/\n{2,}/g,`

`).trim()};function SV({onBack:e}){const[t,n]=g.useState(()=>{const E=localStorage.getItem("aiTutorMessages");return E?JSON.parse(E).map(T=>({...T,timestamp:new Date(T.timestamp)})):[{id:"1",text:"!   JEJEVOCA AI .         .     ,  !",isUser:!1,timestamp:new Date}]}),[s,i]=g.useState(""),[a,l]=g.useState(!1),d=g.useRef(null),[u,f]=g.useState(!1),[m,p]=g.useState(null);g.useEffect(()=>{localStorage.setItem("aiTutorMessages",JSON.stringify(t))},[t]),g.useEffect(()=>{const E=sessionStorage.getItem("tutorContext"),_=sessionStorage.getItem("tutorInitialQuestion");E&&_&&(sessionStorage.removeItem("tutorContext"),sessionStorage.removeItem("tutorInitialQuestion"),setTimeout(()=>{i(_),N(E)},500))},[]);const y=()=>{d.current?.scrollIntoView({behavior:"smooth"})};g.useEffect(()=>{y()},[t,a]);const v=async E=>{const T=[...t.filter(V=>!V.isLoading).map(V=>({role:V.isUser?"user":"model",parts:[{text:V.text}]})),{role:"user",parts:[{text:E}]}],D=`https://${Ge}.supabase.co/functions/v1/server/ai-chat`;let R=null;for(let V=1;V<=am;V++)try{const G=await fetch(D,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Yt}`},body:JSON.stringify({conversationHistory:T})}),ne=await G.text();let ie={};try{ie=ne?JSON.parse(ne):{}}catch(F){console.warn("API response is not JSON, falling back to text:",ne,F),ie={message:ne}}if(!G.ok)throw console.error("API Error Response:",ie),new Error(ie.error||ie.message||G.statusText||"API request failed");const oe=ie.message||ie.response||ne||"",Z=jV(oe);return console.log("API Success Response:",ie),Z||oe||".     ."}catch(G){if(R=G instanceof Error?G:new Error(String(G)),console.warn(`Gemini request failed (attempt ${V}/${am}):`,R),V<am){await wV(bV);continue}return console.error("Gemini API Error:",R),".     .  . : "+R.message}return".     .  ."},b=E=>{if(p(E),E.category===""){const _={id:Date.now().toString(),text:E.text,isUser:!0,timestamp:new Date};n(T=>[...T,_]),C(E.prompt)}else f(!0),i("")},j=()=>{if(!s.trim()||!m)return;const E={id:Date.now().toString(),text:`${m.text}
: "${s}"`,isUser:!0,timestamp:new Date};n(T=>[...T,E]);const _=`${m.prompt} "${s}"`;C(_),i(""),f(!1),p(null)},S=()=>{const E={id:"1",text:"!   JEJEVOCA AI .         .     ,  !",isUser:!1,timestamp:new Date};n([E]),localStorage.setItem("aiTutorMessages",JSON.stringify([E])),de.info("  .")},N=async E=>{const _=E||s;if(!_.trim())return;const T={id:Date.now().toString(),text:E?s:_,isUser:!0,timestamp:new Date};n(R=>[...R,T]);const D=E||s;E||i(""),C(D)},C=async E=>{l(!0);const _={id:"loading-"+Date.now(),text:" ...",isUser:!1,timestamp:new Date,isLoading:!0};n(R=>[...R,_]);const T=await v(E);n(R=>R.filter(V=>!V.isLoading));const D={id:Date.now().toString(),text:T,isUser:!1,timestamp:new Date};n(R=>[...R,D]),l(!1)},A=()=>r.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex justify-start",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#C4B5FD] to-[#A78BFA] flex items-center justify-center",children:r.jsx(Rm,{className:"w-4 h-4 text-[#491B6D]"})}),r.jsx("div",{className:"bg-white/80 border border-white/60 rounded-2xl rounded-tl-md p-4",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx(I.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:0},className:"w-2 h-2 bg-[#491B6D]/60 rounded-full"}),r.jsx(I.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:.2},className:"w-2 h-2 bg-[#491B6D]/60 rounded-full"}),r.jsx(I.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:.4},className:"w-2 h-2 bg-[#491B6D]/60 rounded-full"})]})})]})});return r.jsxs("div",{className:"h-full flex flex-col bg-transparent",children:[r.jsx("div",{className:"relative overflow-hidden",style:{background:"transparent"},children:r.jsxs("div",{className:"flex items-center justify-between p-6 backdrop-blur-xl border-b border-white/20",children:[r.jsx(Or,{onClick:e}),r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-lg",style:{fontWeight:700,color:"#091A7A"},children:"JEJEVOCA AI "}),r.jsx("p",{className:"text-xs",style:{color:"#6B7280"},children:"    "})]}),r.jsx(I.button,{whileTap:{scale:.95},onClick:S,className:"w-11 h-11 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/40",style:{minWidth:"44px",minHeight:"44px"},children:r.jsx(tc,{className:"w-5 h-5 text-[#491B6D]"})})]})}),r.jsx(pt,{children:t.length===1&&!u&&r.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-6 space-y-4",children:[r.jsx("div",{className:"text-center space-y-2",children:r.jsx("p",{className:"text-sm",style:{fontWeight:600,color:"#491B6D"},children:"  ?"})}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:vV.map((E,_)=>r.jsxs(I.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:_*.1},whileTap:{scale:.95},onClick:()=>b(E),className:"p-4 bg-white/80 backdrop-blur-sm rounded-2xl border border-[#A78BFA]/30 shadow-md active:shadow-lg transition-all duration-300 flex flex-col items-center justify-center text-center",children:[r.jsx(E.icon,{className:"w-6 h-6 mb-2",style:{color:"#8B5CF6"}}),r.jsx("p",{className:"text-xs mb-2",style:{fontWeight:600,color:"#491B6D"},children:E.text}),r.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"rgba(139, 92, 246, 0.15)",color:"#8B5CF6"},children:E.category})]},_))})]})}),r.jsx(pt,{children:u&&m&&r.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"rgba(0, 0, 0, 0.7)"},onClick:()=>{f(!1),p(null),i("")},children:r.jsxs(I.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.15},onClick:E=>E.stopPropagation(),className:"bg-white rounded-2xl p-6 border border-[#A78BFA]/30 shadow-2xl w-full max-w-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(m.icon,{className:"w-6 h-6",style:{color:"#8B5CF6"}}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm",style:{fontWeight:700,color:"#491B6D"},children:m.category}),r.jsx("p",{className:"text-xs",style:{color:"#8B5CF6"},children:m.text})]})]}),r.jsx("input",{type:"text",value:s,onChange:E=>i(E.target.value),onKeyPress:E=>E.key==="Enter"&&j(),placeholder:"  (: ambiguous)",className:"w-full p-3 mb-3 bg-white border-2 rounded-xl focus:outline-none focus:ring-2",style:{borderColor:"#C4B5FD",color:"#491B6D"},autoFocus:!0}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(I.button,{whileTap:{scale:.95},onClick:()=>{f(!1),p(null),i("")},className:"px-5 py-2 rounded-lg",style:{backgroundColor:"#F3F4F6",color:"#6B7280",fontWeight:600,fontSize:"14px"},children:""}),r.jsx(I.button,{whileTap:{scale:.95},onClick:j,disabled:!s.trim(),className:"px-5 py-2 rounded-lg text-white",style:{backgroundColor:s.trim()?"#8B5CF6":"#D1D5DB",fontWeight:600,fontSize:"14px"},children:""})]})]})})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 scrollbar-hide",children:[t.map((E,_)=>r.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.05},className:`flex ${E.isUser?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-[85%] ${E.isUser?"order-1":"order-2"}`,children:r.jsxs("div",{className:`flex items-start gap-3 ${E.isUser?"flex-row-reverse":"flex-row"}`,children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${E.isUser?"bg-[#491B6D]":"bg-gradient-to-br from-[#C4B5FD] to-[#A78BFA]"}`,children:E.isUser?r.jsx(NS,{className:"w-4 h-4 text-white"}):r.jsx(Rm,{className:"w-4 h-4 text-[#491B6D]"})}),r.jsxs("div",{className:`p-4 rounded-2xl shadow-sm ${E.isUser?"bg-[#491B6D] text-white rounded-tr-md":"bg-white/90 rounded-tl-md border border-white/60"}`,style:E.isUser?{}:{color:"#491B6D"},children:[r.jsx("div",{className:"space-y-2",children:E.isUser?r.jsx("div",{className:"text-[12px] whitespace-pre-wrap leading-relaxed",children:E.text}):ra(E.text)}),r.jsx("div",{className:`text-xs mt-2 ${E.isUser?"text-white/70":"opacity-50"}`,children:E.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})})},E.id)),r.jsx(pt,{children:a&&r.jsx(A,{})}),r.jsx("div",{ref:d})]}),r.jsxs("div",{className:"bg-white/90 backdrop-blur-sm border-t border-white/30 px-[20px] py-[16px]",children:[r.jsxs("div",{className:"flex items-end gap-3",children:[r.jsx("div",{className:"flex-1 relative",children:r.jsx("input",{type:"text",value:s,onChange:E=>i(E.target.value),onKeyPress:E=>E.key==="Enter"&&!E.shiftKey&&N(),placeholder:" ...",className:"w-full p-4 pr-12 bg-white border-2 rounded-2xl focus:outline-none focus:ring-2 transition-all duration-200 text-sm",style:{borderColor:"#C4B5FD",color:"#491B6D"},disabled:a||u})}),r.jsx(I.button,{whileTap:{scale:.95},onClick:N,disabled:!s.trim()||a||u,className:`w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg transition-all duration-200 ${s.trim()&&!a&&!u?"bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED] text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:r.jsx(L6,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs mt-2 text-center",style:{color:"#8B5CF6",opacity:.6},children:"AI   .   ."})]})]})}const NV={application_end:"#f43f5e",exam_date:"#2563eb",result_date:"#22c55e"};function XC({onBack:e}){const t=g.useMemo(()=>er(),[]),[n,s]=g.useState(null),[i,a]=g.useState(""),[l,d]=g.useState([]),[u,f]=g.useState([]),[m,p]=g.useState(new Date),[y,v]=g.useState(new Date),[b,j]=g.useState([]),[S,N]=g.useState(!0),[C,A]=g.useState(""),[E,_]=g.useState([]);g.useEffect(()=>{t.auth.getUser().then(({data:$})=>{s($.user?.id||null)})},[]);const T=async()=>{if(!n)return;N(!0);const{data:$}=await t.from("student_applications").select("id,status,universities(name,application_start,application_end,exam_date,result_date),departments(name)").eq("student_id",n),q=$?.map(M=>({id:M.id,status:M.status,university_name:M.universities?.name,department_name:M.departments?.name,...M.universities}))||[];f(q),N(!1)};g.useEffect(()=>{T()},[n]),g.useEffect(()=>{const $=[];u.forEach(q=>{["application_end","exam_date","result_date"].forEach(M=>{const W=q?.[M];W&&$.push({id:`${q.id}-${M}`,title:q.university_name||"",subtitle:{application_end:" ",exam_date:"",result_date:""}[M],date:W,color:NV[M],status:q.status})})}),j($)},[u]);const D=async()=>{const{data:$}=await t.functions.invoke("admission-manager",{body:{action:"search-departments",payload:{keyword:i}}});d($||[])},R=async $=>{if(!n){alert(" .");return}await t.from("student_applications").upsert({student_id:n,university_id:$.university_id,department_id:$.department_id,status:""}),T(),alert(`${$.university_name} ${$.department_name}   !`)},V=async()=>{const{data:$}=await t.functions.invoke("admission-manager",{body:{action:"search-departments",payload:{keyword:C}}});_($||[])},G=m.getFullYear(),ne=m.getMonth(),ie=new Date(G,ne,1).getDay(),oe=new Date(G,ne+1,0).getDate(),Z=Array.from({length:ie},($,q)=>q),F=Array.from({length:oe},($,q)=>q+1),z=b.reduce(($,q)=>{const M=q.date;return $[M]||($[M]=[]),$[M].push(q),$},{}),B=y.toISOString().slice(0,10),O=z[B]||[];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#FDF2F8] via-[#F5F3FF] to-[#E0F2FE] py-10",children:r.jsxs("div",{className:"max-w-5xl mx-auto px-4 space-y-8",children:[r.jsx("div",{className:"flex items-center justify-between",children:e?r.jsxs("button",{onClick:e,className:"flex items-center gap-2 rounded-full bg-white/90 border border-white/70 shadow-lg px-4 py-2 text-sm font-semibold text-[#7c3aed]",style:{boxShadow:"0 12px 32px rgba(124,58,237,0.15)"},children:[r.jsx(ys,{className:"w-4 h-4"}),""]}):r.jsx("div",{})}),r.jsxs("header",{className:"text-center space-y-3",children:[r.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-[#7c3aed]",children:"Student Planner"}),r.jsx("h1",{className:"text-3xl font-black text-[#1e1b4b]",children:"   "}),r.jsx("p",{className:"text-gray-600 text-sm",children:"      ."})]}),r.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("input",{className:"flex-1 rounded-3xl border border-gray-100 bg-gray-50 px-5 py-3 shadow-inner text-sm focus:outline-none focus:ring-2 focus:ring-[#7c3aed]",placeholder:"   ",value:i,onChange:$=>a($.target.value)}),r.jsx("button",{className:"rounded-3xl px-6 py-3 bg-[#7c3aed] text-white font-semibold shadow-lg shadow-purple-200",onClick:D,children:""})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.map($=>r.jsxs("div",{className:"border rounded-3xl p-4 bg-white/95 shadow",children:[r.jsx("p",{className:"text-xs text-[#7c3aed] uppercase tracking-[0.2em]",children:$.university_name}),r.jsx("h3",{className:"text-xl font-bold text-[#1e1b4b]",children:$.department_name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[" ",$.quota||"-"," /  ",$.competition_rate||"-"]}),r.jsxs("div",{className:"text-xs text-gray-500 mt-2 space-y-1",children:[r.jsxs("p",{children:[": ",$.application_start||"-"," ~ ",$.application_end||"-"]}),r.jsxs("p",{children:[": ",$.exam_date||"-"]}),r.jsxs("p",{children:[": ",$.result_date||"-"]})]}),r.jsx("button",{className:"admission-button-primary mt-3 rounded-2xl bg-[#7c3aed] px-4 py-2 text-white",onClick:()=>R($),children:" "})]},$.department_id)),!l.length&&r.jsx("p",{className:"text-center text-gray-500 col-span-full",children:"  ."})]})]}),r.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-5",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"admission-section-title",children:"  Calendar"}),r.jsx("p",{className:"text-sm text-gray-500",children:"        ."})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"w-10 h-10 rounded-full bg-[#f3e8ff] text-[#7c3aed] flex items-center justify-center shadow-inner",onClick:()=>p(new Date(m.getFullYear(),m.getMonth()-1,1)),children:""}),r.jsx("button",{className:"w-10 h-10 rounded-full bg-[#f3e8ff] text-[#7c3aed] flex items-center justify-center shadow-inner",onClick:()=>p(new Date(m.getFullYear(),m.getMonth()+1,1)),children:""})]})]}),r.jsxs("div",{className:"text-center font-semibold text-lg text-[#4c1d95]",children:[m.getFullYear()," ",m.getMonth()+1,""]}),r.jsx("div",{className:"grid grid-cols-7 text-center text-sm text-gray-400",children:["","","","","","",""].map($=>r.jsx("div",{className:$===""?"text-rose-400":$===""?"text-blue-500":"",children:$},$))}),r.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:[Z.map($=>r.jsx("div",{},`blank-${$}`)),F.map($=>{const q=new Date(G,ne,$),M=q.toISOString().slice(0,10),W=B===M,L=z[M]?.length;return r.jsxs("button",{onClick:()=>v(q),className:`relative mx-auto flex h-11 w-11 items-center justify-center rounded-full font-semibold transition-all ${W?"bg-white text-[#7c3aed] border-2 border-[#7c3aed] shadow-lg":"text-[#1e1b4b]"}`,children:[$,L&&!W&&r.jsx("span",{className:"absolute bottom-0 h-1.5 w-1.5 rounded-full",style:{background:z[M][0].color}})]},$)})]}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("p",{className:"text-sm font-semibold text-[#4c1d95] flex items-center gap-2",children:[r.jsx(Ui,{className:"w-4 h-4"}),"   "]}),O.length?O.map($=>r.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-[#ede9fe] bg-[#f9f5ff] px-4 py-3 shadow-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-[#7c3aed] font-semibold",children:$.title}),r.jsx("p",{className:"text-xs text-gray-500",children:$.subtitle})]}),r.jsx("span",{className:"text-xs font-semibold",style:{color:$.color},children:$.subtitle})]},$.id)):r.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"   ."})]})]}),r.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"admission-section-title",children:"   "}),r.jsx("p",{className:"text-sm text-gray-500",children:"     /  /   ."})]})}),r.jsxs("div",{className:"space-y-3",children:[u.map($=>r.jsxs("div",{className:"rounded-3xl border border-[#f1e7ff] bg-white px-4 py-3 shadow-sm flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-[#4c1d95]",children:$.university_name}),r.jsx("p",{className:"text-sm text-gray-500",children:$.department_name||" "}),r.jsxs("p",{className:"text-xs text-gray-400",children:[": ",$.application_end||"-","  : ",$.exam_date||"-","  : ",$.result_date||"-"]})]}),r.jsx("span",{className:"text-xs font-semibold px-3 py-1 rounded-full bg-[#f5f0ff] text-[#7c3aed]",children:$.status})]},$.id)),!u.length&&r.jsx("p",{className:"text-sm text-center text-gray-500",children:"   ."})]})]}),r.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"admission-section-title",children:" "}),r.jsx("p",{className:"text-sm text-gray-500",children:"         ."})]}),r.jsxs("div",{className:"flex gap-2 flex-1",children:[r.jsx("input",{className:"flex-1 rounded-3xl border border-gray-100 bg-gray-50 px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-[#7c3aed]",value:C,onChange:$=>A($.target.value)}),r.jsx("button",{className:"rounded-3xl px-6 py-3 bg-[#7c3aed] text-white font-semibold shadow-lg shadow-purple-200",onClick:V,children:""})]})]}),r.jsxs("div",{className:"overflow-auto",children:[r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-xs uppercase tracking-widest text-gray-500",children:[r.jsx("th",{className:"py-2",children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""})]})}),r.jsx("tbody",{children:E.map($=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"py-2 font-semibold",children:$.university_name}),r.jsx("td",{children:$.department_name}),r.jsx("td",{children:$.quota||"-"}),r.jsx("td",{children:$.competition_rate||"-"}),r.jsxs("td",{className:"text-xs",children:[$.application_start||"-"," ~ ",$.application_end||"-"]}),r.jsx("td",{children:$.exam_date||"-"}),r.jsx("td",{children:$.result_date||"-"})]},$.department_id))})]}),!E.length&&r.jsx("p",{className:"text-center text-gray-500 py-6",children:"  ."})]})]})]})})}var kV=(e,t,n,s,i,a,l,d)=>{let u=document.documentElement,f=["light","dark"];function m(v){(Array.isArray(e)?e:[e]).forEach(b=>{let j=b==="class",S=j&&a?i.map(N=>a[N]||N):i;j?(u.classList.remove(...S),u.classList.add(a&&a[v]?a[v]:v)):u.setAttribute(b,v)}),p(v)}function p(v){d&&f.includes(v)&&(u.style.colorScheme=v)}function y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)m(s);else try{let v=localStorage.getItem(t)||n,b=l&&v==="system"?y():v;m(b)}catch{}},CV=g.createContext(void 0),EV={setTheme:e=>{},themes:[]},AV=()=>{var e;return(e=g.useContext(CV))!=null?e:EV};g.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:i,defaultTheme:a,value:l,themes:d,nonce:u,scriptProps:f})=>{let m=JSON.stringify([n,t,a,e,d,l,s,i]).slice(1,-1);return g.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${kV.toString()})(${m})`}})});const _V=({...e})=>{const{theme:t="system"}=AV();return r.jsx(F$,{theme:"light",className:"toaster group",toastOptions:{style:{background:"white",color:"#491B6D",border:"1px solid #E5E7EB",borderRadius:"16px",padding:"16px",fontSize:"14px",fontWeight:500,boxShadow:"0 10px 40px rgba(73, 27, 109, 0.1)"},className:"toast-custom",classNames:{success:"success-toast",error:"error-toast",warning:"warning-toast",info:"info-toast"}},style:{"--normal-bg":"white","--normal-text":"#491B6D","--normal-border":"#E5E7EB","--success-bg":"white","--success-text":"#166534","--success-border":"#E5E7EB","--error-bg":"white","--error-text":"#991B1B","--error-border":"#E5E7EB","--info-bg":"white","--info-text":"#1E40AF","--info-border":"#E5E7EB","--warning-bg":"white","--warning-text":"#92400E","--warning-border":"#E5E7EB"},...e})},JC={login:"/login",signup:"/signup",home:"/",quiz:"/quiz","game-map-quiz":"/game-map-quiz","quiz-completion":"/quiz-completion",ai:"/ai","ai-tutor":"/ai-tutor",profile:"/profile","subject-detail":"/subject-detail",videos:"/videos","vocabulary-list":"/vocabulary-list","lesson-player":"/lesson-player","text-extractor":"/text-extractor","word-list":"/word-list",flashcard:"/flashcard",gift:"/gift","word-selection":"/word-selection","vocabulary-creator":"/vocabulary-creator","full-calendar":"/full-calendar",calendar:"/calendar","zombie-game":"/zombie-game"},H0=Object.entries(JC).reduce((e,[t,n])=>(e[n]=t,e),{});H0["/home"]="home";H0[""]="home";function TV(){const e=Zi(),t=SW(e.getAuthToken),{saveStatus:n,showIndicator:s,triggerSave:i}=h9(),a=yj(),l=ni(),d=g.useMemo(()=>{let J=l.pathname;return J.length>1&&J.endsWith("/")&&(J=J.replace(/\/+$/,"")),H0[J]??"home"},[l.pathname]),[u,f]=g.useState(null),[m,p]=g.useState(null),[y,v]=g.useState(null),[b,j]=g.useState(!1),[S,N]=g.useState([]),[C,A]=g.useState(null),[E,_]=g.useState(""),[T,D]=g.useState(null),[R,V]=g.useState(5500),[G,ne]=g.useState({xpGained:0,completionTime:"0:00",accuracy:0,totalQuestions:0,correctAnswers:0,stageName:""}),[ie,oe]=g.useState(40),[Z,F]=g.useState(2),[z,B]=g.useState(!1),[O,$]=g.useState(0),[q,M]=g.useState(!1),[W,L]=g.useState({type:"xp-gain",title:"",subtitle:"",xpGain:0}),[K,U]=g.useState(!1),[ee,Y]=g.useState(Ii.calculateLevel(5500)),[le,fe]=g.useState([]),[ue,Se]=g.useState([]),[Pe,Ye]=g.useState(!1),[Ze,ye]=g.useState({name:" ",date:new Date(2025,8,15),color:"#8B5CF6"}),[re,ve]=g.useState(!1),[Qe,lt]=g.useState(!1),ct=g.useRef({}),vt=g.useRef({}),ut=async(J,xe)=>{const Ee=e.getAuthToken();if(!Ee)throw new Error("  .");const Le=J==="starred"||J==="graveyard"||J==="wrong-answers";let rt=Le?`https://${Ge}.supabase.co/functions/v1/server/${J}`:`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/${J}`;xe&&!Le&&(rt+=`?unit=${xe}`);const it=await fetch(rt,{headers:{Authorization:`Bearer ${Ee}`}});if(!it.ok)throw new Error(`Failed to load ${J} words`);return(await it.json()).words||[]},Ce=g.useCallback((J,xe)=>{const Ee=JC[J];Ee&&(console.log("[Navigate] Going to screen:",J,Ee),a(Ee,{replace:xe?.replace}))},[a]),et=g.useCallback(()=>{typeof window<"u"&&window.history.length>1?a(-1):Ce("home",{replace:!0})},[a,Ce]),he=(J,xe,Ee)=>{const Le=Ee?`${J}-unit-${Ee}`:J,rt=ct.current[Le];rt?(N(rt),j(!1)):j(!0),v({id:J,title:xe,unitNumber:Ee})},ge=g.useCallback(async()=>{if(console.log("[App] refreshCurrentVocabulary called, selectedVocabulary:",y),!y?.id){console.log("[App] No selectedVocabulary.id, skipping refresh");return}const J=y.unitNumber?`${y.id}-unit-${y.unitNumber}`:y.id;console.log("[App] Invalidating cache for key:",J),delete ct.current[J];try{j(!0),console.log("[App] Fetching fresh vocabulary data...");const xe=await ut(y.id,y.unitNumber);console.log(`[App] Fetched ${xe.length} words`),ct.current[J]=xe,N(xe),console.log("[App] vocabularyWords state updated")}catch(xe){console.error("[App] Error refreshing vocabulary:",xe)}finally{j(!1)}},[y?.id,y?.unitNumber]),Te=J=>{f(J),J.id==="starred"||J.id==="graveyard"||J.id==="wrong-answers"?(he(J.id,J.name),Ce("word-list")):Ce("subject-detail")},De=()=>{f(null),p(null),Ce("home",{replace:!0})};g.useEffect(()=>{d==="home"&&(f(null),p(null))},[d]);const qe=J=>{const xe=R,Ee=xe+J;$(J),B(!0),V(Ee);const Le=Ii.calculateLevel(Ee);Y(Le),Ii.checkForLevelUp(xe,Ee)?(L({type:"level-up",title:`Level ${Le.currentLevel}!`,subtitle:"You leveled up! Keep going!",xpGain:J}),M(!0)):(U(!0),setTimeout(()=>U(!1),2e3),J>=25&&(L({type:"xp-gain",title:"Excellent Work!",subtitle:"You earned bonus XP!",xpGain:J}),M(!0))),vn()},mt=J=>{p(J),Ce("lesson-player")},jt=J=>{ne(J),F(We=>We+1);const xe=Math.min(100,ie+(J.accuracy>=50?20:10));oe(xe);const Ee=R,Le=Ee+J.xpGained;$(J.xpGained),B(!0),V(Le);const rt=Ii.calculateLevel(Le);Y(rt);const it=Ii.checkForLevelUp(Ee,Le);setTimeout(()=>{L(it?{type:"level-up",title:`Level ${rt.currentLevel}!`,subtitle:"Quiz completed with a level up!",xpGain:J.xpGained}:{type:"quiz-complete",title:"Quiz Completed!",subtitle:`${J.correctAnswers}/${J.totalQuestions} correct  ${J.accuracy}% accuracy`,xpGain:J.xpGained}),M(!0)},1e3),vn(),Ce("quiz-completion")},Et=()=>{B(!1),$(0)},In=()=>{M(!1)},rn=J=>{V(J.userXP),oe(J.currentProgress),F(J.totalQuizzesCompleted),Y(J.levelProgress),fe(J.completedStages),Se(J.achievements),console.log(" Progress loaded:",J)},vn=()=>{i()},sn=()=>{Ce("game-map-quiz")},_n=()=>{De()},on=(J,xe)=>{console.log(" Signup complete! User:",J.id),e.login(J,xe),Ce("home"),setTimeout(()=>{console.log(" Loading word lists after login..."),t.loadWordLists()},100)},at=()=>{Ye(!0)},Q=()=>{Ye(!1)},we=()=>{confirm("  ?")&&(e.logout(),t.resetStore&&t.resetStore(),V(0),fe([]),Ce("login",{replace:!0}),console.log(" Logged out successfully"))};g.useEffect(()=>{(async()=>{if(!y||!y.id){N([]),j(!1);return}const xe=y.unitNumber?`${y.id}-unit-${y.unitNumber}`:y.id,Ee=ct.current[xe];Ee?(N(Ee),j(!1)):j(!0);try{const Le=y.unitNumber?` Loading words for vocabulary: ${y.id} (Unit ${y.unitNumber})`:` Loading words for vocabulary: ${y.id}`;console.log(Le);const rt=await ut(y.id,y.unitNumber);console.log(` Loaded ${rt.length} words for vocabulary`),ct.current[xe]=rt,N(rt)}catch(Le){console.error(" Error loading vocabulary words:",Le),N([])}finally{j(!1)}})()},[y?.id,y?.unitNumber]);const pe=g.useCallback(J=>{e.isInitializing||!e.isAuthenticated||(delete ct.current[J],!vt.current[J]&&(typeof navigator<"u"&&navigator&&"onLine"in navigator&&!navigator.onLine||(vt.current[J]=new Promise(xe=>{setTimeout(async()=>{try{const Ee=await ut(J);ct.current[J]=Ee,y?.id===J&&(N(Ee),j(!1))}catch(Ee){console.warn(`[Prefetch] Failed to refresh ${J}:`,Ee)}finally{vt.current[J]=null,xe()}},200)}))))},[y?.id,e.isAuthenticated,e.isInitializing]);g.useEffect(()=>{e.isAuthenticated&&pe("starred")},[t.starredWords,pe,e.isAuthenticated]),g.useEffect(()=>{e.isAuthenticated&&pe("graveyard")},[t.graveyardWords,pe,e.isAuthenticated]),g.useEffect(()=>{e.isAuthenticated&&pe("wrong-answers")},[t.wrongAnswersWords,pe,e.isAuthenticated]),g.useEffect(()=>{e.isInitializing||(e.isAuthenticated?(d==="login"||d==="signup")&&Ce("home",{replace:!0}):d!=="login"&&d!=="signup"&&Ce("login",{replace:!0}))},[e.isAuthenticated,e.isInitializing,d,Ce]),g.useEffect(()=>{e.isAuthenticated&&!e.isInitializing&&(console.log(" App mounted with authenticated user, loading word lists..."),setTimeout(()=>{t.loadWordLists()},200))},[e.isAuthenticated,e.isInitializing]);const Ie=()=>{if(e.isInitializing)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});switch(d){case"login":return r.jsx(f9,{onLoginComplete:on,onGoToSignup:()=>Ce("signup")});case"signup":return r.jsx(p9,{onBack:()=>Ce("login"),onSignupComplete:on});case"home":return r.jsxs("div",{className:"space-y-6",children:[r.jsx(NW,{profileImage:ag,userXP:R,recentXPGain:O,showXPAnimation:z,onXPAnimationComplete:Et,levelProgress:ee,onAdminAccess:at,ddayInfo:Ze,onDdayClick:()=>ve(!0),onLogout:we,userName:e.currentUser?.user_metadata?.name||e.currentUser?.email?.split("@")[0]}),r.jsx(TW,{onSubjectClick:Te,onCalendarClick:()=>Ce("calendar"),starredCount:t.starredWords.length,graveyardCount:t.graveyardWords.length,wrongAnswersCount:t.wrongAnswersWords.length}),r.jsx(IW,{onSelectVocabulary:(J,xe,Ee)=>{he(J,xe,Ee),f({id:J,name:xe,description:"",progress:0,icon:null,color:"#491B6D"}),Ce("game-map-quiz")},onStartFlashcards:(J,xe,Ee)=>{he(J,xe,Ee),f({id:J,name:xe,description:"",progress:0,icon:null,color:"#491B6D"}),Ce("flashcard")},getAuthToken:e.getAuthToken,onRefresh:()=>{t.refreshMyVocabularies()}}),r.jsx("div",{className:"px-6 pb-4 pt-3",children:r.jsx("div",{className:"text-center text-gray-600",style:{fontSize:"11px"},children:" JEJETRANSFER. All rights reserved.  Made by "})})]});case"quiz":return r.jsx(FW,{onBack:et,onXPGain:qe});case"game-map-quiz":return r.jsx(ij,{onBack:et,onBackToHome:De,onXPGain:qe,userXP:R,selectedSubject:u,vocabularyTitle:y?.title,vocabularyWords:S,onQuizCompletion:jt,onWrongAnswer:t.addWrongAnswer,starredWordIds:t.starredWords,graveyardWordIds:t.graveyardWords,wrongAnswersWordIds:t.wrongAnswersWords,onAddToStarred:t.toggleStarred,onMoveToGraveyard:t.moveToGraveyard,onDeletePermanently:t.deletePermanently,getAuthToken:e.getAuthToken,onRefreshVocabulary:ge,vocabularyId:y?.id,isLoading:b});case"quiz-completion":return r.jsx(yV,{onBack:et,onRetakeQuiz:sn,onNextChallenge:_n,userXP:R,xpGained:G.xpGained,completionTime:G.completionTime,accuracy:G.accuracy,totalQuestions:G.totalQuestions,correctAnswers:G.correctAnswers,stageName:G.stageName});case"ai":case"ai-tutor":return r.jsx(SV,{onBack:et});case"profile":return r.jsx(e9,{onBack:et,userXP:R,profileImage:ag,levelProgress:ee});case"videos":return r.jsx(o9,{onBack:et,getAuthToken:e.getAuthToken});case"vocabulary-list":return r.jsx(fC,{onBack:et,onBackToHome:De,onSelectVocabulary:(J,xe,Ee)=>{he(J,xe,Ee),f({id:J,name:xe,description:"",progress:0,icon:null,color:"#491B6D"}),Ce("game-map-quiz")},onStartFlashcards:(J,xe,Ee)=>{he(J,xe,Ee),f({id:J,name:xe,description:"",progress:0,icon:null,color:"#491B6D"}),Ce("flashcard")},getAuthToken:e.getAuthToken},Date.now());case"subject-detail":return u?r.jsx(s9,{subject:u,onBack:et,onStartQuiz:()=>Ce("game-map-quiz"),onLessonClick:mt}):null;case"lesson-player":return r.jsx(a9,{onBack:et,onTakeQuiz:()=>Ce("game-map-quiz"),lessonTitle:m||"Introduction to Algebra"});case"text-extractor":return r.jsx(T9,{onBack:et,onNavigateToTutor:(J,xe)=>{sessionStorage.setItem("tutorContext",xe),sessionStorage.setItem("tutorInitialQuestion",J),Ce("ai-tutor")}});case"word-list":return u?t.isLoading&&(u.id==="starred"||u.id==="graveyard"||u.id==="wrong-answers")?r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin"}),r.jsx("p",{className:"text-sm font-medium text-purple-600",children:"  ..."})]})}):u.id==="starred"?r.jsx(ij,{onBack:et,onBackToHome:De,onXPGain:qe,userXP:R,selectedSubject:u,vocabularyTitle:u.name,onQuizCompletion:jt,onWrongAnswer:t.addWrongAnswer,starredWordIds:t.starredWords,graveyardWordIds:t.graveyardWords,wrongAnswersWordIds:t.wrongAnswersWords,onAddToStarred:t.toggleStarred,onMoveToGraveyard:t.moveToGraveyard,onDeletePermanently:t.deletePermanently,getAuthToken:e.getAuthToken,onRefreshVocabulary:ge,vocabularyId:y?.id,isLoading:b}):u.id==="graveyard"||u.id==="wrong-answers"?r.jsx(Ou,{onBack:et,onBackToHome:De,vocabularyTitle:u.name,unitName:u.id==="graveyard"?"Graveyard Collection":"Wrong Answers Collection",vocabularyWords:S,filterType:u.id==="graveyard"?"graveyard":"wrong-answers",starredWordIds:t.starredWords,graveyardWordIds:t.graveyardWords,wrongAnswersWordIds:t.wrongAnswersWords,isLoading:b,vocabularyId:y?.id,onAddToStarred:t.toggleStarred,onMoveToGraveyard:t.moveToGraveyard,onDeletePermanently:t.deletePermanently,onStartFlashcards:()=>Ce("flashcard"),onRefreshVocabulary:ge}):r.jsx(Ou,{onBack:et,onBackToHome:De,vocabularyTitle:u.name,unitName:y?.unitNumber?`Unit ${y.unitNumber}`:"Unit 1",vocabularyWords:S,filterType:"all",starredWordIds:t.starredWords,graveyardWordIds:t.graveyardWords,wrongAnswersWordIds:t.wrongAnswersWords,isLoading:b,vocabularyId:y?.id,onAddToStarred:t.toggleStarred,onMoveToGraveyard:t.moveToGraveyard,onDeletePermanently:t.deletePermanently,onStartFlashcards:()=>{console.log("[App] onStartFlashcards called, navigating to flashcard"),Ce("flashcard")},onRefreshVocabulary:ge}):null;case"flashcard":return r.jsx(vC,{onBack:et,onBackToHome:De,vocabularyWords:S,starredWordIds:t.starredWords,graveyardWordIds:t.graveyardWords,onAddToStarred:t.toggleStarred,onMoveToGraveyard:t.moveToGraveyard,vocabularyId:y?.id,vocabularyTitle:y?.title,onRefreshVocabulary:ge});case"zombie-game":return r.jsx(xC,{vocabularyWords:S,onBack:et,onBackToHome:De});case"gift":return r.jsx(Z9,{onBack:()=>{et(),Ul(),OW(),t.refreshMyVocabularies()},onSelectVocabulary:async J=>{console.log(" Adding shared vocabulary:",J.title);try{const rt=((await(await fetch(`https://${Ge}.supabase.co/functions/v1/server/shared-vocabulary/${J.id}/words`,{headers:{Authorization:`Bearer ${Yt}`}})).json()).words||[]).map(xt=>xt.id);console.log(` Adding ${rt.length} words...`);const it=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/add-shared`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.getAuthToken()}`},body:JSON.stringify({sharedVocabularyId:J.id,selectedWordIds:rt})}),We=await it.json();if(!it.ok)throw console.error(" Server error:",it.status,We),new Error(We.error||`Server error: ${it.status}`);if(We.vocabulary)console.log(" Successfully added vocabulary to user collection"),alert(`"${J.title}"  ! (${rt.length} )`);else throw new Error(We.error||"Failed to add vocabulary")}catch(xe){console.error(" Error adding vocabulary:",xe),alert(`  : ${xe instanceof Error?xe.message:"   "}`)}}});case"word-selection":return C?r.jsx(mC,{vocabularyId:C.id,vocabularyName:C.title,totalWords:C.total_words||0,onBack:et,onComplete:async(J,xe)=>{try{console.log(" Adding shared vocabulary to user collection..."),console.log("Selected words:",J.length),console.log("Words per unit:",xe);const it=((await(await fetch(`https://${Ge}.supabase.co/functions/v1/server/shared-vocabulary/${C.id}/words`,{headers:{Authorization:`Bearer ${Yt}`}})).json()).words||[]).filter(gt=>J.includes(gt.id)),We=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/add-shared`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.getAuthToken()}`},body:JSON.stringify({sharedVocabularyId:C.id,title:C.title,description:C.description||"",wordsPerUnit:xe,selectedWordIds:J})}),xt=await We.json();if(console.log(" Add shared vocabulary response:",xt),!We.ok)throw console.error(" Server error:",We.status,xt),new Error(xt.error||`Server error: ${We.status}`);if(xt.vocabulary)console.log(" Successfully added vocabulary to user collection"),Ul(),await t.refreshMyVocabularies(),alert(`"${C.title}"  ! (${it.length} , ${Math.ceil(it.length/xe)} )`);else throw new Error(xt.error||"Failed to add vocabulary")}catch(Ee){console.error(" Error adding vocabulary:",Ee),alert(`  : ${Ee instanceof Error?Ee.message:"   "}`)}finally{A(null),De()}}}):null;case"vocabulary-creator":return r.jsx(QL,{onBack:et,getAuthToken:e.getAuthToken,onNavigateToGift:()=>Ce("gift"),onSaveComplete:(J,xe)=>{console.log(` Vocabulary created: ${J}, navigating to WordList`),t.refreshMyVocabularies(),he(J,xe),f({id:J,name:xe,description:"",progress:0,icon:null,color:"#491B6D"}),Ce("word-list")}});case"full-calendar":return r.jsx(cW,{onBack:et,onHomeClick:De});case"calendar":return r.jsx(XC,{onBack:et});default:return null}};return r.jsxs("div",{className:"min-h-screen overflow-hidden flex flex-col",style:{background:d==="word-list"&&u?u.id==="starred"?"#FFFEF5":u.id==="graveyard"?"#FCFCFC":u.id==="wrong-answers"?"#FFFAFA":"#F2ECFE":"#F2ECFE"},children:[Pe&&r.jsx(rW,{onClose:Q}),r.jsx(d9,{userXP:R,currentProgress:ie,totalQuizzesCompleted:Z,onProgressLoaded:rn}),r.jsxs("div",{className:`flex-1 ${d==="word-list"?"overflow-hidden":"overflow-y-auto scrollbar-hide"} relative`,children:[d==="opening"?Ie():r.jsxs(I.div,{className:d==="word-list"?"h-full":"",initial:{opacity:0,scale:d==="welcome"?.95:d==="home"?1:.98,y:d==="welcome"?20:d==="home"?0:15,filter:"blur(8px)"},animate:{opacity:1,scale:1,y:0,filter:"blur(0px)"},exit:{opacity:0,scale:.95,y:-15,filter:"blur(4px)"},transition:{duration:d==="welcome"?.8:.5,ease:d==="welcome"?[.23,1,.32,1]:"easeInOut",type:d==="welcome"?"spring":"tween",bounce:d==="welcome"?.25:0},children:[d==="welcome"&&r.jsxs(r.Fragment,{children:[r.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.2,ease:"easeOut"},className:"absolute inset-0 pointer-events-none",children:[...Array(12)].map((J,xe)=>r.jsx(I.div,{initial:{x:Math.random()*400,y:Math.random()*800,opacity:0,scale:0},animate:{opacity:[0,.4,0],scale:[0,1,0],x:[Math.random()*400,Math.random()*400,Math.random()*400],y:[Math.random()*800,Math.random()*800+50,Math.random()*800+100]},transition:{duration:6,delay:Math.random()*2,repeat:1/0,ease:"easeInOut"},className:"absolute w-2 h-2 rounded-full",style:{background:"linear-gradient(45deg, #C8B6FF, #7C3AED)",filter:"blur(1px)"}},xe))}),r.jsx(I.div,{initial:{opacity:0},animate:{opacity:[0,.3,0],background:["radial-gradient(circle at 30% 20%, #C8B6FF 0%, transparent 50%)","radial-gradient(circle at 70% 60%, #7C3AED 0%, transparent 40%)","radial-gradient(circle at 20% 80%, #C8B6FF 0%, transparent 60%)"]},transition:{opacity:{duration:2,ease:"easeInOut"},background:{duration:8,repeat:1/0,ease:"easeInOut"}},className:"absolute inset-0 pointer-events-none"})]}),Ie()]},d),r.jsx(l9,{show:q,type:W.type,title:W.title,subtitle:W.subtitle,xpGain:W.xpGain,onComplete:In}),r.jsx(c9,{show:K,xpGain:O}),r.jsx(u9,{show:s,status:n}),r.jsx("div",{className:d==="subject-detail"||d==="lesson-player"||d==="game-map-quiz"||d==="vocabulary-list"||d==="word-list"?"h-8":"h-28"})]}),d!=="login"&&d!=="signup"&&d!=="opening"&&d!=="welcome"&&d!=="subject-detail"&&d!=="lesson-player"&&d!=="game-map-quiz"&&d!=="vocabulary-list"&&d!=="word-list"&&d!=="quiz-completion"&&d!=="full-calendar"&&!C&&r.jsx(DW,{currentScreen:d,onScreenChange:J=>{window.scrollTo({top:0,behavior:"instant"}),J==="home"?De():Ce(J)}}),r.jsx(_V,{position:"top-center",richColors:!0})]})}function kn({value:e,onChange:t,className:n="",style:s={},multiline:i=!1,isEditable:a=!1,children:l,inputWidth:d}){const[u,f]=g.useState(!1),[m,p]=g.useState(e),y=g.useRef(null);g.useEffect(()=>{p(e)},[e]),g.useEffect(()=>{u&&y.current&&(y.current.focus(),y.current.select())},[u]);const v=()=>{t(m),f(!1)},b=j=>{j.key==="Enter"&&!i?(j.preventDefault(),v()):j.key==="Escape"&&(p(e),f(!1))};if(!a)return r.jsx("span",{className:n,style:s,children:e});if(u){const j={ref:y,value:m,onChange:S=>p(S.target.value),onBlur:v,onKeyDown:b,className:`${n} border border-blue-400 bg-blue-50 outline-none`,style:{...s,width:d||"100%",minWidth:d?"auto":"200px",padding:"2px 4px"}};return i?r.jsx("textarea",{...j,rows:3}):r.jsx("input",{...j,type:"text"})}return r.jsx("span",{onClick:()=>f(!0),className:`${n} cursor-pointer hover:bg-blue-50 print:hover:bg-transparent print:cursor-default font-bold`,style:{...s,fontFamily:"SUIT, sans-serif"},title:" ",children:l||e})}const ZC=({id:e,word:t,pronunciation:n,partOfSpeech:s,meaning:i,definition:a,synonyms:l,antonyms:d,derivatives:u,example:f,translation:m,translationHighlight:p,etymology:y,isEditable:v=!1,onUpdate:b})=>{const j=(N,C)=>{const A=N.toLowerCase(),E=C.toLowerCase(),_=A.indexOf(E);return _===-1?N:r.jsxs(r.Fragment,{children:[N.substring(0,_),r.jsx("span",{style:{fontWeight:"bold"},children:N.substring(_,_+C.length)}),N.substring(_+C.length)]})},S=(N,C)=>{if(!C)return N;const A=N.indexOf(C);return A===-1?N:r.jsxs(r.Fragment,{children:[N.substring(0,A),r.jsx("span",{style:{fontWeight:"bold"},children:C}),N.substring(A+C.length)]})};return r.jsx("div",{className:"vocabulary-card border border-gray-200/60 rounded-lg bg-white py-3 pl-4 pr-8 mb-3",style:{overflow:"visible",marginBottom:"12px",pageBreakInside:"avoid",breakInside:"avoid",WebkitColumnBreakInside:"avoid",display:"block"},children:r.jsxs("div",{style:{overflow:"visible"},children:[r.jsxs("div",{className:"grid gap-4 mb-3",style:{gridTemplateColumns:"28% 72%"},children:[r.jsxs("div",{children:[r.jsx("div",{className:"inline-block px-1.5 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-2",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(e).padStart(3,"0")})}),r.jsx("h2",{className:"text-black mb-0.5 tracking-tight",style:{fontSize:"22px",fontWeight:"bold"},children:v?r.jsx(kn,{value:t,onChange:N=>b?.(e,"word",N),isEditable:!0,className:"text-black tracking-tight",style:{fontSize:"22px",fontWeight:"bold"}}):t})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"mb-2",children:[r.jsxs("p",{className:"text-black leading-snug",style:{fontSize:"13px"},children:[r.jsx("span",{className:"text-gray-400 print:text-black",style:{fontSize:"10px",fontWeight:"bold"},children:v?r.jsx(kn,{value:s,onChange:N=>b?.(e,"partOfSpeech",N),isEditable:!0,className:"text-gray-400",style:{fontSize:"10px",fontWeight:"bold"}}):s})," ",v?r.jsx(kn,{value:i,onChange:N=>b?.(e,"meaning",N),isEditable:!0,className:"text-black leading-snug",style:{fontSize:"13px"}}):i]}),a&&r.jsx("p",{className:"text-gray-500 leading-snug mt-0.5 italic",style:{fontSize:"10.5px"},children:v?r.jsx(kn,{value:a,onChange:N=>b?.(e,"definition",N),isEditable:!0,className:"text-gray-500 leading-snug italic",style:{fontSize:"10.5px"}}):a})]}),r.jsxs("div",{className:"pl-2.5 border-l border-gray-300",children:[r.jsx("p",{className:"text-xs text-black leading-snug mb-0.5",children:v?r.jsx(kn,{value:f,onChange:N=>b?.(e,"example",N),isEditable:v,className:"text-xs text-black leading-snug",children:j(f,t)}):j(f,t)}),r.jsx("p",{className:"text-gray-600 leading-snug mb-0",style:{fontSize:"10px"},children:v?r.jsx(kn,{value:m,onChange:N=>b?.(e,"translation",N),isEditable:v,className:"text-gray-600 leading-snug",style:{fontSize:"10px"},children:S(m,p)}):S(m,p)})]})]}),r.jsxs("div",{className:"flex gap-1.5 items-start",children:[r.jsx("div",{className:"w-2 h-2 border-gray-300",style:{border:"1px solid #d1d5db"}}),r.jsx("div",{className:"w-2 h-2 border-gray-300",style:{border:"1px solid #d1d5db"}}),r.jsx("div",{className:"w-2 h-2 border-gray-300",style:{border:"1px solid #d1d5db"}})]})]})]}),r.jsxs("div",{className:"grid gap-4 text-xs bg-[rgba(0,0,0,0)]",style:{gridTemplateColumns:"28% 72%"},children:[r.jsx("div",{children:r.jsx("div",{className:"space-y-1",children:u.map((N,C)=>r.jsxs("div",{className:"leading-tight",children:[r.jsx("div",{className:"text-gray-800 print:text-black",children:N.word}),r.jsx("div",{className:"text-gray-500",style:{fontSize:"10px"},children:N.meaning})]},C))})}),r.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"inline-block px-1 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:""})}),r.jsx("div",{className:"space-y-0.5",children:v?r.jsx(kn,{value:l.join(", "),onChange:N=>{const C=N.split(",").map(A=>A.trim()).filter(A=>A);b?.(e,"synonyms",C)},isEditable:!0,className:"text-gray-600 print:text-black",style:{fontSize:"10px"},multiline:!0,inputWidth:"100%"}):l.map((N,C)=>r.jsx("div",{className:"text-gray-600 print:text-black",style:{fontSize:"10px"},children:N},C))})]}),r.jsxs("div",{children:[r.jsx("div",{className:"inline-block px-1 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:""})}),r.jsx("div",{className:"space-y-0.5",children:v?r.jsx(kn,{value:d.join(", "),onChange:N=>{const C=N.split(",").map(A=>A.trim()).filter(A=>A);b?.(e,"antonyms",C)},isEditable:!0,className:"text-gray-600 print:text-black",style:{fontSize:"10px"},multiline:!0,inputWidth:"100%"}):d.map((N,C)=>r.jsx("div",{className:"text-gray-600 print:text-black",style:{fontSize:"10px"},children:N},C))})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("div",{className:"inline-block px-1.5 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:"Tip"})}),r.jsx("div",{className:"text-gray-600 print:text-black leading-snug",style:{fontSize:"10px"},children:v?r.jsx(kn,{value:y,onChange:N=>b?.(e,"etymology",N),isEditable:!0,className:"text-gray-600 leading-snug",style:{fontSize:"10px"},multiline:!0}):y})]})]})]})]})})},PV=g.memo(ZC),q0=g.memo(ZC),RV=Object.freeze(Object.defineProperty({__proto__:null,VocabularyCard:q0,default:PV},Symbol.toStringTag,{value:"Module"}));function ci({headerInfo:e,showHeader:t=!0,showFooter:n=!0,isEditable:s=!1,onFooterChange:i,onHeaderChange:a}){if(!e)return null;const l=e.headerTitle||e.headerDescription;return r.jsxs(r.Fragment,{children:[t&&l&&r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"inline-block px-4 py-1.5 bg-slate-100 backdrop-blur-md border border-slate-300 rounded-xl rounded-bl-none",children:s?r.jsx("input",{type:"text",value:e.headerTitle||"",onChange:d=>a?.({...e,headerTitle:d.target.value}),placeholder:" ",className:"text-xs uppercase tracking-[0.2em] text-slate-800 placeholder-slate-400 font-medium bg-transparent border-none outline-none text-center min-w-[200px]"}):r.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-800 font-medium",children:e.headerTitle||"Vocabulary Builder"})})}),e.headerDescription&&r.jsx("div",{className:"flex justify-center",children:s?r.jsx("input",{type:"text",value:e.headerDescription||"",onChange:d=>a?.({...e,headerDescription:d.target.value}),placeholder:" ",style:{fontSize:"11px",fontFamily:"SUIT"},className:"text-gray-600 print:text-black text-center border-b border-gray-300 focus:border-gray-600 outline-none bg-transparent max-w-md"}):r.jsx("p",{style:{fontSize:"11px",fontFamily:"SUIT"},className:"text-gray-600 print:text-black text-center",children:e.headerDescription})})]}),n&&r.jsx("div",{className:"mt-4 pt-2",children:s?r.jsx("input",{type:"text",value:e.footerLeft||"",onChange:d=>i?.(d.target.value),placeholder:"  ",style:{fontSize:"11px",fontFamily:"SUIT"},className:"text-gray-600 print:text-black border-b border-gray-300 focus:border-gray-600 outline-none bg-transparent w-64"}):r.jsx("p",{style:{fontSize:"11px",fontFamily:"SUIT"},className:"text-gray-600 print:text-black",children:e.footerLeft||""})})]})}const DV=Object.freeze(Object.defineProperty({__proto__:null,HeaderFooter:ci},Symbol.toStringTag,{value:"Module"}));function di({children:e,headerContent:t,showHeaderOnFirstPageOnly:n=!1}){return r.jsx("div",{className:"page-container",children:r.jsxs("div",{className:"a4-page",children:[n&&t&&r.jsx("div",{className:"page-header",style:{marginBottom:"16px"},children:t}),r.jsx("div",{className:"page-content",children:e})]})})}const OV=Object.freeze(Object.defineProperty({__proto__:null,A4PageLayout:di},Symbol.toStringTag,{value:"Module"})),IV=({data:e,headerInfo:t,isEditable:n=!1,onUpdate:s,onHeaderChange:i})=>{const a=(d,u)=>{const f=d.toLowerCase(),m=u.toLowerCase(),p=f.indexOf(m);return p===-1?d:r.jsxs(r.Fragment,{children:[d.substring(0,p),r.jsx("strong",{children:d.substring(p,p+u.length)}),d.substring(p+u.length)]})},l=e.map(d=>r.jsx("table",{className:"w-full border-collapse",children:r.jsx("tbody",{children:r.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[r.jsx("td",{className:"pt-1 pb-2 px-1 align-top",style:{width:"3%"},children:r.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(d.id).padStart(3,"0")})})}),r.jsx("td",{className:"pt-1 pb-2 px-3 align-top",style:{width:"18%"},children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:n?r.jsx(kn,{value:d.word,onChange:u=>s?.(d.id,"word",u),isEditable:!0,className:"text-black",style:{fontSize:"14px",fontWeight:"bold"}}):d.word}),r.jsx("div",{className:"space-y-1 pb-1",children:d.derivatives.map((u,f)=>r.jsxs("div",{style:{lineHeight:"1.3"},children:[r.jsx("div",{className:"text-gray-800 print:text-black",style:{fontSize:"11px"},children:u.word}),r.jsx("div",{className:"text-gray-500",style:{fontSize:"8px"},children:u.meaning})]},f))})]})}),r.jsx("td",{className:"pt-1 pb-2 px-3 align-top",style:{width:"42%"},children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-[14px]",children:r.jsx("span",{className:"text-black",style:{fontSize:"12px",lineHeight:"0.9"},children:n?r.jsx(kn,{value:d.meaning,onChange:u=>s?.(d.id,"meaning",u),isEditable:!0,className:"text-black",style:{fontSize:"12px",lineHeight:"0.9"}}):d.meaning})}),d.definition&&r.jsx("div",{className:"text-gray-500 italic",style:{fontSize:"9px",lineHeight:"1.3"},children:n?r.jsx(kn,{value:d.definition,onChange:u=>s?.(d.id,"definition",u),isEditable:!0,className:"text-gray-500 italic",style:{fontSize:"9px",lineHeight:"1.3"},multiline:!0}):d.definition}),r.jsx("div",{className:"text-black",style:{fontSize:"10px",lineHeight:"1.3"},children:n?r.jsx(kn,{value:d.example,onChange:u=>s?.(d.id,"example",u),isEditable:!0,className:"text-black",style:{fontSize:"10px",lineHeight:"1.3"},multiline:!0}):a(d.example,d.word)}),r.jsx("div",{className:"text-gray-600",style:{fontSize:"9px",lineHeight:"1.3"},children:n?r.jsx(kn,{value:d.translation,onChange:u=>s?.(d.id,"translation",u),isEditable:!0,className:"text-gray-600",style:{fontSize:"9px",lineHeight:"1.3"},multiline:!0}):d.translation})]})}),r.jsxs("td",{className:"pt-1 pb-2 px-3 align-top",style:{width:"14%"},children:[r.jsx("div",{className:"inline-block px-1 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:""})}),r.jsx("div",{className:"text-gray-600 print:text-black",style:{fontSize:"10px",lineHeight:"1.4"},children:n?r.jsx(kn,{value:d.synonyms.join(", "),onChange:u=>{const f=u.split(",").map(m=>m.trim()).filter(m=>m);s?.(d.id,"synonyms",f)},isEditable:!0,className:"text-gray-600 print:text-black",style:{fontSize:"10px",lineHeight:"1.4"},multiline:!0,inputWidth:"100%"}):d.synonyms.join(", ")})]}),r.jsxs("td",{className:"pt-1 pb-2 px-3 align-top text-[16px]",style:{width:"14%"},children:[r.jsx("div",{className:"inline-block px-1 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:""})}),r.jsx("div",{className:"text-gray-600 print:text-black",style:{fontSize:"10px",lineHeight:"1.4"},children:n?r.jsx(kn,{value:d.antonyms.join(", "),onChange:u=>{const f=u.split(",").map(m=>m.trim()).filter(m=>m);s?.(d.id,"antonyms",f)},isEditable:!0,className:"text-gray-600 print:text-black",style:{fontSize:"10px",lineHeight:"1.4"},multiline:!0,inputWidth:"100%"}):d.antonyms.join(", ")})]})]})})},d.id));return r.jsx(di,{headerContent:r.jsx(ci,{headerInfo:t,showFooter:!1,isEditable:n,onHeaderChange:i}),showHeaderOnFirstPageOnly:!0,children:l})},G0=g.memo(IV),FV=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTable:G0},Symbol.toStringTag,{value:"Module"}));function K0({data:e,headerInfo:t}){const n=[];for(let i=0;i<e.length;i+=2)n.push({left:e[i],right:e[i+1]||null});const s=n.map((i,a)=>r.jsx("table",{className:"w-full border-collapse",children:r.jsx("tbody",{children:r.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[r.jsx("td",{className:"py-2 px-1 align-top",style:{width:"4%"},children:r.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(i.left.id).padStart(3,"0")})})}),r.jsx("td",{className:"py-2 px-3 align-top",style:{width:"18%"},children:r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:i.left.word})}),r.jsx("td",{className:"py-2 px-3 align-top",style:{width:"28%"},children:r.jsx("div",{className:"text-black",style:{fontSize:"10px"},children:i.left.meaning})}),r.jsx("td",{className:"py-2 px-1 align-top",style:{width:"4%"},children:i.right&&r.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(i.right.id).padStart(3,"0")})})}),r.jsx("td",{className:"py-2 px-3 align-top",style:{width:"18%"},children:i.right&&r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:i.right.word})}),r.jsx("td",{className:"py-2 px-3 align-top",style:{width:"28%"},children:i.right&&r.jsx("div",{className:"text-black",style:{fontSize:"10px"},children:i.right.meaning})})]})})},a));return r.jsx(di,{headerContent:r.jsx(ci,{headerInfo:t,showFooter:!1}),showHeaderOnFirstPageOnly:!0,children:s})}const MV=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTableSimple:K0},Symbol.toStringTag,{value:"Module"}));function Y0({data:e,headerInfo:t}){const n=[];for(let i=0;i<e.length;i+=2)n.push({left:e[i],right:e[i+1]||null});const s=n.map((i,a)=>r.jsx("table",{className:"w-full border-collapse",children:r.jsx("tbody",{children:r.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[r.jsx("td",{className:"py-2 px-1 align-top",style:{width:"4%"},children:r.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(i.left.id).padStart(3,"0")})})}),r.jsx("td",{className:"py-2 px-3 align-top",style:{width:"46%"},children:r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:i.left.word})}),r.jsx("td",{className:"py-2 px-1 align-top",style:{width:"4%"},children:i.right&&r.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(i.right.id).padStart(3,"0")})})}),r.jsx("td",{className:"py-2 px-3 align-top",style:{width:"46%"},children:i.right&&r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:i.right.word})})]})})},a));return r.jsx(di,{headerContent:r.jsx(ci,{headerInfo:t,showFooter:!1}),showHeaderOnFirstPageOnly:!0,children:s})}const $V=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTestSimple:Y0},Symbol.toStringTag,{value:"Module"}));function Q0({data:e,headerInfo:t}){const n=g.useMemo(()=>e.map(a=>{const l=a.synonyms.slice(0,Math.min(3,a.synonyms.length)),d=[],u=e.filter(v=>v.id!==a.id);for(const v of u)d.push({word:v.word,meaning:v.meaning}),v.synonyms.forEach(b=>{d.push({word:b,meaning:`(${v.word} )`})});const m=d.sort(()=>Math.random()-.5).slice(0,4),y=[...l.map(v=>({word:v,isCorrect:!0})),...m.map(v=>({word:v.word,isCorrect:!1,meaning:v.meaning}))].sort(()=>Math.random()-.5);return{id:a.id,word:a.word,correctSynonyms:l,allChoices:y}}),[e]),s=[];for(let a=0;a<n.length;a+=2)s.push({left:n[a],right:n[a+1]||null});const i=s.map((a,l)=>r.jsx("table",{className:"w-full border-collapse",children:r.jsx("tbody",{children:r.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[r.jsxs("td",{className:"py-3 px-4 align-top pb-6",style:{width:"50%",verticalAlign:"top"},children:[r.jsx("div",{className:"mb-3",children:r.jsxs("div",{className:"flex items-start gap-2 my-[4px] mx-[0px] px-[0px] py-[4px]",children:[r.jsx("div",{className:"inline-block px-1.5 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",style:{flexShrink:0},children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(a.left.id).padStart(3,"0")})}),r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",flexShrink:0},className:"text-black",children:a.left.word}),r.jsx("div",{className:"text-gray-500 print:text-black",style:{fontSize:"9px",flexShrink:0,paddingTop:"4px"},children:":"}),r.jsx("div",{className:"flex-1",style:{borderBottom:"1px solid #d1d5db",minHeight:"20px"}})]})}),r.jsx("div",{className:"flex flex-wrap gap-x-3 gap-y-1.5 my-[16px] mx-[0px]",children:a.left.allChoices.map((d,u)=>r.jsxs("div",{className:"inline-flex items-center gap-1.5",style:{fontSize:"11px"},children:[r.jsx("span",{className:"text-gray-400 print:text-black",children:""}),r.jsx("span",{className:"text-gray-700 print:text-black text-[12px]",children:d.word})]},u))})]}),r.jsx("td",{className:"py-3 px-4 align-top border-l border-gray-200 pb-6",style:{width:"50%",verticalAlign:"top"},children:a.right&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-3",children:r.jsxs("div",{className:"flex items-start gap-2 my-[4px] mx-[0px] px-[0px] py-[4px]",children:[r.jsx("div",{className:"inline-block px-1.5 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",style:{flexShrink:0},children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(a.right.id).padStart(3,"0")})}),r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",flexShrink:0},className:"text-black",children:a.right.word}),r.jsx("div",{className:"text-gray-500 print:text-black",style:{fontSize:"9px",flexShrink:0,paddingTop:"4px"},children:":"}),r.jsx("div",{className:"flex-1",style:{borderBottom:"1px solid #d1d5db",minHeight:"20px"}})]})}),r.jsx("div",{className:"flex flex-wrap gap-x-3 gap-y-1.5 my-[16px] mx-[0px]",children:a.right.allChoices.map((d,u)=>r.jsxs("div",{className:"inline-flex items-center gap-1.5",style:{fontSize:"11px"},children:[r.jsx("span",{className:"text-gray-400 print:text-black",children:""}),r.jsx("span",{className:"text-gray-700 print:text-black text-[12px]",children:d.word})]},u))})]})})]})})},l));return r.jsx(di,{headerContent:r.jsx(ci,{headerInfo:t,showFooter:!1}),showHeaderOnFirstPageOnly:!0,children:i})}const BV=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTestSynonym:Q0},Symbol.toStringTag,{value:"Module"}));function X0({data:e,headerInfo:t}){const n=()=>e.map(l=>{const d=l.synonyms.slice(0,Math.min(3,l.synonyms.length)),u=[],f=e.filter(b=>b.id!==l.id);for(const b of f)u.push({word:b.word,meaning:b.meaning}),b.synonyms.forEach(j=>{u.push({word:j,meaning:`(${b.word} )`})});const p=u.sort(()=>Math.random()-.5).slice(0,4),v=[...d.map(b=>({word:b,isCorrect:!0})),...p.map(b=>({word:b.word,isCorrect:!1,meaning:b.meaning}))].sort(()=>Math.random()-.5);return{id:l.id,word:l.word,meaning:l.meaning,correctSynonyms:d,allChoices:v}}),s=g.useMemo(()=>n(),[e]),i=[];for(let l=0;l<s.length;l+=2)i.push({left:s[l],right:s[l+1]||null});const a=i.map((l,d)=>r.jsx("table",{className:"w-full border-collapse",children:r.jsx("tbody",{children:r.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[r.jsxs("td",{className:"py-3 px-4 align-top",style:{width:"50%",verticalAlign:"top"},children:[r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(l.left.id).padStart(3,"0")})}),r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:l.left.word})]}),r.jsxs("div",{className:"text-black mb-2",style:{fontSize:"12px"},children:[": ",l.left.meaning]})]}),r.jsxs("div",{style:{fontSize:"11px"},children:[r.jsxs("div",{className:"mb-1 text-[12px]",children:[r.jsx("span",{className:"text-gray-600 print:text-black",children:": "}),r.jsx("span",{className:"text-gray-800 print:text-black",style:{fontWeight:"bold"},children:l.left.allChoices.filter(u=>u.isCorrect).map(u=>u.word).join(", ")})]}),r.jsx("div",{className:"space-y-0.5",children:l.left.allChoices.filter(u=>!u.isCorrect).map((u,f)=>r.jsxs("div",{className:"text-gray-600 print:text-black text-[11px]",children:[r.jsx("span",{className:"text-red-600 print:text-black",children:""})," ",u.word,": ",u.meaning]},f))})]})]}),r.jsx("td",{className:"py-3 px-4 align-top border-l border-gray-200",style:{width:"50%",verticalAlign:"top"},children:l.right&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:r.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(l.right.id).padStart(3,"0")})}),r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:l.right.word})]}),r.jsxs("div",{className:"text-black mb-2",style:{fontSize:"12px"},children:[": ",l.right.meaning]})]}),r.jsxs("div",{style:{fontSize:"11px"},children:[r.jsxs("div",{className:"mb-1 text-[12px]",children:[r.jsx("span",{className:"text-gray-600 print:text-black",children:": "}),r.jsx("span",{className:"text-gray-800 print:text-black",style:{fontWeight:"bold"},children:l.right.allChoices.filter(u=>u.isCorrect).map(u=>u.word).join(", ")})]}),r.jsx("div",{className:"space-y-0.5",children:l.right.allChoices.filter(u=>!u.isCorrect).map((u,f)=>r.jsxs("div",{className:"text-gray-600 print:text-black text-[11px]",children:[r.jsx("span",{className:"text-red-600 print:text-black",children:""})," ",u.word,": ",u.meaning]},f))})]})]})})]})})},d));return r.jsx(di,{headerContent:r.jsx(ci,{headerInfo:t,showFooter:!1}),showHeaderOnFirstPageOnly:!0,children:a})}const LV=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTestSynonymAnswer:X0},Symbol.toStringTag,{value:"Module"})),zV=[{id:"card",title:"",description:"   ",icon:pS},{id:"table",title:" ",description:"     ",icon:jS},{id:"simple",title:" ",description:"   ",icon:bS},{id:"quiz-simple",title:" ",description:"    ",icon:fr},{id:"quiz-synonym",title:" ",description:"  ",icon:mS},{id:"quiz-synonym-answer",title:" ",description:"    ",icon:uS}],pg=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>typeof t=="string"?t:typeof t=="object"&&t!==null?t.word:"").map(t=>(t||"").trim()).filter(Boolean);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return pg(t)}catch{}return e.split(/[\n,]+/).map(t=>t.trim()).filter(Boolean)}return[]},mg=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>{if(typeof t=="string"){const[n,s]=t.split(":").map(i=>i.trim());return{word:n,meaning:s||""}}return typeof t=="object"&&t!==null?{word:String(t.word||"").trim(),meaning:String(t.meaning||"").trim()}:{word:"",meaning:""}}).filter(t=>t.word);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return mg(t)}catch{}return e.split(/[,;]/).map(t=>{const[n,s]=t.split(":").map(i=>i.trim());return{word:n,meaning:s||""}}).filter(t=>t.word)}return typeof e=="object"?mg([e]):[]},WV=e=>e.map((t,n)=>{const s=t||{},i=String(s.word||s.term||"").trim();return i?{id:n+1,word:i,pronunciation:s.pronunciation||"",partOfSpeech:s.partOfSpeech||s.part_of_speech||"",meaning:s.meaning||s.translation||"",definition:s.definition||"",synonyms:pg(s.synonyms),antonyms:pg(s.antonyms),derivatives:mg(s.derivatives),example:s.example||s.example_sentence||"",translation:s.translation||"",translationHighlight:s.translationHighlight||s.translation_highlight||"",etymology:s.etymology||""}:null}).filter(Boolean);function VV(){const e=g.useMemo(()=>new URLSearchParams(window.location.search),[]),t=e.get("vocabularyId")||e.get("vocabId")||"",[n,s]=g.useState("card"),[i,a]=g.useState(t||null),[l,d]=g.useState([]),[u,f]=g.useState(""),[m,p]=g.useState(!1),[y,v]=g.useState(null),b=()=>{window.location.pathname="/"},j=g.useCallback(async E=>{const _=E.trim();if(!_){v(" ID   .");return}const T=localStorage.getItem("supabase_access_token");if(!T){v(" .     .");return}try{p(!0),v(null);const D=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/${_}`,{headers:{Authorization:`Bearer ${T}`}});if(!D.ok){const G=await D.json().catch(()=>({}));throw new Error(G.error||G.message||"  .")}const R=await D.json(),V=WV(R.words||[]);if(V.length===0)throw new Error("   .     .");d(V),f(R.vocabulary?.title||"AI Vocabulary"),a(_)}catch(D){console.error(D),d([]),a(null),v(D instanceof Error?D.message:"  .")}finally{p(!1)}},[]);g.useEffect(()=>{t?j(t):v(" ID    .")},[t,j]);const S=g.useMemo(()=>({headerTitle:u||"AI Vocabulary",headerDescription:l.length?`${l.length.toLocaleString()} `:"",footerLeft:new Date().toLocaleDateString("ko-KR")}),[l.length,u]),N=()=>{if(!l.length)return r.jsx("p",{className:"text-center text-gray-500",children:"  ."});switch(n){case"card":return r.jsx(di,{headerContent:r.jsx(ci,{headerInfo:S,showFooter:!0}),showHeaderOnFirstPageOnly:!0,children:l.map(E=>r.jsx(q0,{...E},E.id))});case"table":return r.jsx(G0,{data:l,headerInfo:S});case"simple":return r.jsx(K0,{data:l,headerInfo:S});case"quiz-simple":return r.jsx(Y0,{data:l,headerInfo:S});case"quiz-synonym":return r.jsx(Q0,{data:l,headerInfo:S});case"quiz-synonym-answer":return r.jsx(X0,{data:l,headerInfo:S});default:return null}},C=()=>{if(m){alert("  .  .");return}if(!l.length){alert(y||"  .");return}window.print()},A=l.length>0?N():null;return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#FDF2F8] via-[#F5F3FF] to-[#E0F2FE] pb-16 print:bg-white print:min-h-0 print:pb-0",children:[r.jsx("header",{className:"sticky top-0 z-40 bg-transparent px-4 pt-6 print:hidden",children:r.jsxs("div",{className:"flex items-center justify-between max-w-6xl mx-auto",children:[r.jsxs(I.button,{onClick:b,whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-3 rounded-2xl bg-white/80 border border-white/60 shadow-lg text-[#491B6D]",children:[r.jsx(ys,{className:"w-4 h-4"}),""]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-[#6B21A8] font-semibold tracking-wide uppercase",children:"AI Vocabulary Export"}),r.jsx("p",{className:"text-lg font-bold text-[#1E1B4B]",children:"  PDF "})]}),r.jsx("div",{className:"w-[140px]"})]})}),r.jsxs("main",{className:"max-w-4xl mx-auto px-4 mt-8 space-y-8 print:hidden",children:[r.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-4",children:[r.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:" "}),r.jsx("p",{className:"text-2xl font-bold text-[#1E1B4B]",children:u||"  "}),r.jsx("p",{className:"text-sm text-gray-500",children:l.length?`${l.length.toLocaleString()} `:"  "})]}),r.jsxs("div",{className:"text-sm text-gray-400 font-mono bg-gray-50 border border-gray-200 rounded-xl px-3 py-2",children:["ID: ",i||""]})]}),m&&r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[r.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-[#C4B5FD] border-t-transparent"}),"  ..."]}),y&&r.jsx("div",{className:"rounded-2xl border border-rose-100 bg-rose-50/70 px-4 py-3 text-sm text-rose-700",children:y})]}),r.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-[#6B21A8] mb-2",children:"1.  "}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:zV.map(E=>{const _=E.icon,T=n===E.id;return r.jsx(I.button,{whileTap:{scale:.97},onClick:()=>s(E.id),className:`p-4 rounded-3xl text-left border shadow-sm transition-all ${T?"bg-gradient-to-br from-[#C084FC] to-[#A855F7] text-white border-transparent shadow-lg shadow-purple-200":"bg-white/90 border-white/60 text-[#1E1B4B] hover:-translate-y-0.5"}`,children:r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:`p-2 rounded-2xl ${T?"bg-white/20 text-white":"bg-[#F5F3FF] text-[#7C3AED]"}`,children:r.jsx(_,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-base font-semibold",children:E.title}),r.jsx("p",{className:`text-sm ${T?"text-white/80":"text-gray-500"}`,children:E.description})]})]})},E.id)})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm font-semibold text-[#6B21A8]",children:"2. "}),r.jsx(I.button,{whileTap:{scale:.98},onClick:C,disabled:m||!l.length,className:`w-full rounded-2xl px-6 py-4 text-white font-bold shadow-lg ${m||!l.length?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-br from-[#7C3AED] to-[#A855F7]"}`,children:m?" ...":"  "}),r.jsx("p",{className:"text-xs text-gray-500",children:"      PDF    PDF    ."})]})]})]}),r.jsx("div",{id:"pdf-print-area",className:"pdf-print-root",children:A})]})}const UV=["card","table","simple","quiz-simple","quiz-synonym","quiz-synonym-answer"],gg=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>typeof t=="string"?t:typeof t=="object"&&t!==null?t.word:"").map(t=>(t||"").trim()).filter(Boolean);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return gg(t)}catch{}return e.split(/[\n,]+/).map(t=>t.trim()).filter(Boolean)}return[]},xg=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>{if(typeof t=="string"){const[n,s]=t.split(":").map(i=>i.trim());return{word:n,meaning:s||""}}return typeof t=="object"&&t!==null?{word:String(t.word||"").trim(),meaning:String(t.meaning||"").trim()}:{word:"",meaning:""}}).filter(t=>t.word);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return xg(t)}catch{}return e.split(/[,;]/).map(t=>{const[n,s]=t.split(":").map(i=>i.trim());return{word:n,meaning:s||""}}).filter(t=>t.word)}return typeof e=="object"?xg([e]):[]},HV=e=>(e||[]).map((t,n)=>{const s=t||{},i=String(s.word||s.term||"").trim();return i?{id:n+1,word:i,pronunciation:s.pronunciation||"",partOfSpeech:s.partOfSpeech||s.part_of_speech||"",meaning:s.meaning||s.translation||"",definition:s.definition||"",synonyms:gg(s.synonyms),antonyms:gg(s.antonyms),derivatives:xg(s.derivatives),example:s.example||s.example_sentence||"",translation:s.translation||"",translationHighlight:s.translationHighlight||s.translation_highlight||"",etymology:s.etymology||""}:null}).filter(Boolean),qV=e=>e?UV.includes(e):!1;function GV(){const e=g.useMemo(()=>new URLSearchParams(window.location.search),[]),t=e.get("vocabularyId")||e.get("vocabId")||"",n=qV(e.get("layout"))?e.get("layout"):"card",[s,i]=g.useState([]),[a,l]=g.useState(""),[d,u]=g.useState(!1),[f,m]=g.useState(null);g.useEffect(()=>{const b="pdf-print-page";return document.body.classList.add(b),document.documentElement.classList.add(b),()=>{document.body.classList.remove(b),document.documentElement.classList.remove(b)}},[]);const p=g.useCallback(async()=>{if(!t.trim()){m(" ID   .");return}const b=localStorage.getItem("supabase_access_token");if(!b){m(" .     .");return}try{u(!0),m(null);const j=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/${t.trim()}`,{headers:{Authorization:`Bearer ${b}`}});if(!j.ok){const C=await j.json().catch(()=>({}));throw new Error(C.error||C.message||"  .")}const S=await j.json(),N=HV(S.words||[]);if(!N.length)throw new Error("   .     .");i(N),l(S.vocabulary?.title||"AI Vocabulary")}catch(j){console.error(j),i([]),m(j instanceof Error?j.message:"  .")}finally{u(!1)}},[t]);g.useEffect(()=>{p()},[p]),g.useEffect(()=>{if(!d&&!f&&s.length){const b=setTimeout(()=>{window.print()},200);return()=>clearTimeout(b)}},[d,f,s.length]);const y=g.useMemo(()=>({headerTitle:a||"AI Vocabulary",headerDescription:s.length?`${s.length.toLocaleString()} `:"",footerLeft:new Date().toLocaleDateString("ko-KR")}),[s.length,a]),v=()=>{if(!s.length)return null;switch(n){case"card":return r.jsx(di,{headerContent:r.jsx(ci,{headerInfo:y,showFooter:!0}),showHeaderOnFirstPageOnly:!0,children:s.map(b=>r.jsx(q0,{...b},b.id))});case"table":return r.jsx(G0,{data:s,headerInfo:y});case"simple":return r.jsx(K0,{data:s,headerInfo:y});case"quiz-simple":return r.jsx(Y0,{data:s,headerInfo:y});case"quiz-synonym":return r.jsx(Q0,{data:s,headerInfo:y});case"quiz-synonym-answer":return r.jsx(X0,{data:s,headerInfo:y});default:return null}};return r.jsxs("div",{className:"min-h-screen bg-white pdf-print-root",children:[d&&r.jsx("div",{className:"py-12 text-center text-gray-500",children:"  ..."}),f&&r.jsx("div",{className:"py-12 text-center text-rose-600",children:f}),!d&&!f&&s.length>0&&r.jsx("div",{id:"pdf-print-area",children:v()})]})}const lm={name:"",logo_url:"",application_start:"",application_end:"",exam_date:"",result_date:""};function KV({universities:e,departments:t,onRefresh:n}){const s=g.useMemo(()=>er(),[]),[i,a]=g.useState(lm),[l,d]=g.useState(null),[u,f]=g.useState(!1),m=async b=>{b.preventDefault(),i.name?.trim()&&(l?await s.from("universities").update(i).eq("id",l):await s.from("universities").insert(i),a(lm),d(null),n())},p=b=>{d(b.id),a({name:b.name,logo_url:b.logo_url||"",application_start:b.application_start||"",application_end:b.application_end||"",exam_date:b.exam_date||"",result_date:b.result_date||""})},y=async b=>{window.confirm("  ?    .")&&(await s.from("universities").delete().eq("id",b),n())},v=async b=>{const j=b.target.files?.[0];if(j){f(!0);try{const N=(await j.text()).split(/\r?\n/).filter(Boolean),[C,...A]=N,E=C.split(",").map(T=>T.trim()),_=A.map(T=>{const D=T.split(","),R={};return E.forEach((V,G)=>{R[V]=D[G]?.trim()}),R});_.length&&(await s.from("universities").upsert(_,{onConflict:"name"}),n())}finally{f(!1)}}};return r.jsxs("section",{className:"admission-card space-y-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"admission-section-title",children:"  "}),r.jsx("p",{className:"text-sm text-gray-500",children:", ,    CSV    ."})]}),r.jsxs("label",{className:"admission-button-primary cursor-pointer",children:[u?" ...":"CSV ",r.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:v,disabled:u})]})]}),r.jsxs("form",{onSubmit:m,className:"admission-grid two",children:[r.jsxs("label",{className:"space-y-2",children:[r.jsx("span",{className:"text-sm text-gray-500",children:""}),r.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:i.name,onChange:b=>a(j=>({...j,name:b.target.value})),placeholder:": "})]}),r.jsxs("label",{className:"space-y-2",children:[r.jsx("span",{className:"text-sm text-gray-500",children:" URL"}),r.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:i.logo_url||"",onChange:b=>a(j=>({...j,logo_url:b.target.value})),placeholder:"https://"})]}),["application_start","application_end","exam_date","result_date"].map(b=>r.jsxs("label",{className:"space-y-2",children:[r.jsx("span",{className:"text-sm text-gray-500",children:{application_start:" ",application_end:" ",exam_date:"",result_date:" "}[b]}),r.jsx("input",{type:"date",className:"w-full border rounded-xl px-3 py-2",value:i[b]||"",onChange:j=>a(S=>({...S,[b]:j.target.value}))})]},b)),r.jsxs("div",{className:"col-span-full flex gap-3",children:[r.jsx("button",{className:"admission-button-primary",type:"submit",children:l?"  ":" "}),l&&r.jsx("button",{type:"button",className:"admission-button-primary bg-gray-300 text-gray-800",onClick:()=>{d(null),a(lm)},children:""})]})]}),r.jsx("div",{className:"overflow-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-xs uppercase tracking-widest text-gray-500",children:[r.jsx("th",{className:"py-2",children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:" "}),r.jsx("th",{})]})}),r.jsx("tbody",{children:e.map(b=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"py-2 font-semibold",children:b.name}),r.jsxs("td",{className:"text-xs text-gray-500",children:[b.application_start||"-"," ~ ",b.application_end||"-"]}),r.jsx("td",{children:b.exam_date||"-"}),r.jsx("td",{children:b.result_date||"-"}),r.jsx("td",{children:t.filter(j=>j.university_id===b.id).length}),r.jsxs("td",{className:"flex gap-2 justify-end py-2",children:[r.jsx("button",{className:"text-[#7c3aed]",onClick:()=>p(b),children:""}),r.jsx("button",{className:"text-rose-500",onClick:()=>y(b.id),children:""})]})]},b.id))})]})})]})}const qd=["","","","1",""],YV={:"",:"",:"","1":"",:""};function QV({universities:e,matrix:t,onChangeStatus:n}){const s=i=>{if(!i)return qd[0];const a=qd.indexOf(i);return qd[(a+1)%qd.length]};return r.jsxs("section",{className:"admission-card space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"admission-section-title",children:"   "}),r.jsx("p",{className:"text-sm text-gray-500",children:"       ."})]})}),r.jsx("div",{className:"overflow-auto",children:r.jsxs("table",{className:"admission-matrix-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left",children:""}),e.map(i=>r.jsx("th",{children:i.name},i.id))]})}),r.jsx("tbody",{children:t.map(i=>r.jsxs("tr",{children:[r.jsx("td",{className:"text-left font-semibold",children:i.studentName}),e.map(a=>{const l=i.statuses[a.id];return r.jsx("td",{className:"admission-matrix-status",onClick:()=>n(i.studentId,a.id,s(l)),title:l||"",children:l?YV[l]:""},a.id)})]},i.studentId))})]})})]})}function XV({universities:e,applicants:t,selectedUniversity:n,onSelectUniversity:s}){return r.jsxs("section",{className:"admission-card space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"admission-section-title",children:"  "}),r.jsx("p",{className:"text-sm text-gray-500",children:"       ."})]}),r.jsxs("select",{value:n,onChange:i=>s(i.target.value),className:"border rounded-xl px-3 py-2 min-w-[200px]",children:[r.jsx("option",{value:"",children:" "}),e.map(i=>r.jsx("option",{value:i.id,children:i.name},i.id))]})]}),n?r.jsx("div",{className:"overflow-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-xs uppercase tracking-widest text-gray-500",children:[r.jsx("th",{className:"py-2",children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""})]})}),r.jsx("tbody",{children:t.map(i=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"py-2 font-semibold",children:i.student_name}),r.jsx("td",{children:i.department_name||"-"}),r.jsx("td",{children:i.status}),r.jsx("td",{className:"text-gray-500",children:i.admin_notes||"-"})]},i.id))})]})}):r.jsx("div",{className:"text-center text-gray-500 py-10",children:"   ."})]})}const oj={:"#f43f5e",:"#3b82f6",:"#10b981"};function JV({loading:e,items:t}){return r.jsxs("section",{className:"admission-card space-y-5",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"admission-section-title",children:"D-day "}),r.jsx("p",{className:"text-sm text-gray-500",children:"     ."})]})}),e&&r.jsx("p",{className:"text-center text-gray-500 py-6",children:"  ..."}),!e&&r.jsxs("div",{className:"admission-grid two",children:[t.map(n=>r.jsxs("article",{className:"border rounded-2xl p-4 bg-white/80",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-gray-500",children:n.deadlineType}),r.jsx("h3",{className:"text-xl font-bold",children:n.universityName}),r.jsx("p",{className:"text-sm text-gray-500",children:n.date})]}),r.jsxs("span",{className:"admission-chip",style:{background:`${oj[n.deadlineType]}22`,color:oj[n.deadlineType]},children:["D-",n.countdown]})]}),r.jsx("div",{className:"mt-3 text-sm text-gray-600",children:n.students.length?r.jsx("ul",{className:"list-disc pl-5 space-y-1",children:n.students.map(s=>r.jsx("li",{children:s.name},s.id))}):r.jsx("p",{children:"   ."})})]},`${n.universityId}-${n.deadlineType}`)),!t.length&&r.jsx("p",{className:"text-center text-gray-500 col-span-full",children:"  ."})]})]})}const ZV={:"",:"",:"","1":"",:""};function eU(){const e=g.useMemo(()=>er(),[]),[t,n]=g.useState("universities"),[s,i]=g.useState([]),[a,l]=g.useState([]),[d,u]=g.useState([]),[f,m]=g.useState([]),[p,y]=g.useState(""),[v,b]=g.useState([]),[j,S]=g.useState(!1),N=async()=>{const{data:R}=await e.from("universities").select("*").order("name");i(R||[])},C=async()=>{const{data:R}=await e.from("departments").select("*");l(R||[])},A=async()=>{const{data:R}=await e.functions.invoke("admission-manager",{body:{action:"get-student-matrix"}});u(R||[])},E=async R=>{if(!R)return;const{data:V}=await e.from("student_applications").select("id,student_id,university_id,department_id,status,admin_notes,profiles:student_id(full_name),universities(name),departments(name)").eq("university_id",R),G=V?.map(ne=>({id:ne.id,student_id:ne.student_id,student_name:ne.profiles?.full_name||"",university_id:ne.university_id,university_name:ne.universities?.name,department_id:ne.department_id,department_name:ne.departments?.name,status:ne.status,admin_notes:ne.admin_notes}))||[];m(G)},_=async()=>{S(!0);try{const{data:R}=await e.functions.invoke("admission-manager",{body:{action:"get-dday-board"}});b(R||[])}finally{S(!1)}};g.useEffect(()=>{N(),C(),A(),_()},[]),g.useEffect(()=>{p&&E(p)},[p]);const T=async(R,V,G)=>{await e.functions.invoke("admission-manager",{body:{action:"update-status",payload:{studentId:R,universityId:V,status:G}}}),A(),p&&E(p)},D=()=>{const R=["",...s.map(Z=>Z.name)],V=d.map(Z=>[Z.studentName,...s.map(F=>Z.statuses[F.id]?ZV[Z.statuses[F.id]]:"-")]),G=[R,...V].map(Z=>Z.join(",")).join(`
`),ne=new Blob([G],{type:"text/csv;charset=utf-8;"}),ie=window.URL.createObjectURL(ne),oe=document.createElement("a");oe.href=ie,oe.download=`admission-status-${Date.now()}.csv`,oe.click(),window.URL.revokeObjectURL(ie)};return r.jsxs("div",{className:"admission-admin-root",children:[r.jsxs("header",{className:"max-w-6xl mx-auto px-6 py-12",children:[r.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 text-[#7c3aed] hover:text-[#4c1d95] transition-colors mb-4",children:[r.jsx(ys,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:""})]}),r.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-[#7c3aed] font-semibold",children:"Admission Manager"}),r.jsx("h1",{className:"text-3xl font-black text-[#1e1b4b] mt-2",children:"  "}),r.jsx("p",{className:"text-[#4c1d95]",children:"       ."}),r.jsxs("div",{className:"flex gap-3 mt-6 flex-wrap",children:[r.jsx("button",{className:`admission-button-primary ${t==="universities"?"!bg-[#4c1d95]":""}`,onClick:()=>n("universities"),children:" "}),r.jsx("button",{className:`admission-button-primary ${t==="matrix"?"!bg-[#4c1d95]":""}`,onClick:()=>n("matrix"),children:" "}),r.jsx("button",{className:`admission-button-primary ${t==="applicants"?"!bg-[#4c1d95]":""}`,onClick:()=>n("applicants"),children:" "}),r.jsx("button",{className:`admission-button-primary ${t==="dday"?"!bg-[#4c1d95]":""}`,onClick:()=>n("dday"),children:"D-day "}),r.jsx("button",{className:"admission-button-primary ml-auto",onClick:D,children:"   "})]})]}),r.jsxs("main",{className:"max-w-6xl mx-auto px-6 admission-grid",children:[t==="universities"&&r.jsx(KV,{universities:s,departments:a,onRefresh:()=>{N(),C()}}),t==="matrix"&&r.jsx(QV,{universities:s,matrix:d,onChangeStatus:T}),t==="applicants"&&r.jsx(XV,{universities:s,applicants:f,selectedUniversity:p,onSelectUniversity:y}),t==="dday"&&r.jsx(JV,{loading:j,items:v})]})]})}const eE=document.getElementById("root");if(!eE)throw new Error("Root element not found");J5.createRoot(eE).render(r.jsx(h_,{children:r.jsxs(VA,{children:[r.jsx(Fo,{path:"/admin/admission/*",element:r.jsx(eU,{})}),r.jsx(Fo,{path:"/student/calendar",element:r.jsx(XC,{})}),r.jsx(Fo,{path:"/export/print",element:r.jsx(GV,{})}),r.jsx(Fo,{path:"/export",element:r.jsx(VV,{})}),r.jsx(Fo,{path:"/*",element:r.jsx(TV,{})})]})}));
