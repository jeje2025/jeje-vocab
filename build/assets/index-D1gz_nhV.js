function Q1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Pu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function T5(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var zf={exports:{}},Ka={},Wf={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function P5(){if(wv)return ot;wv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function S(B,W,z){this.props=B,this.context=W,this.refs=j,this.updater=z||v}S.prototype.isReactComponent={},S.prototype.setState=function(B,W){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,W,"setState")},S.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=S.prototype;function E(B,W,z){this.props=B,this.context=W,this.refs=j,this.updater=z||v}var C=E.prototype=new N;C.constructor=E,w(C,S.prototype),C.isPureReactComponent=!0;var _=Array.isArray,T=Object.prototype.hasOwnProperty,I={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function F(B,W,z){var X,H={},Z=null,Q=null;if(W!=null)for(X in W.ref!==void 0&&(Q=W.ref),W.key!==void 0&&(Z=""+W.key),W)T.call(W,X)&&!M.hasOwnProperty(X)&&(H[X]=W[X]);var te=arguments.length-2;if(te===1)H.children=z;else if(1<te){for(var he=Array(te),le=0;le<te;le++)he[le]=arguments[le+2];H.children=he}if(B&&B.defaultProps)for(X in te=B.defaultProps,te)H[X]===void 0&&(H[X]=te[X]);return{$$typeof:e,type:B,key:Z,ref:Q,props:H,_owner:I.current}}function U(B,W){return{$$typeof:e,type:B.type,key:W,ref:B.ref,props:B.props,_owner:B._owner}}function G(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function se(B){var W={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(z){return W[z]})}var ae=/\/+/g;function oe(B,W){return typeof B=="object"&&B!==null&&B.key!=null?se(""+B.key):W.toString(36)}function ee(B,W,z,X,H){var Z=typeof B;(Z==="undefined"||Z==="boolean")&&(B=null);var Q=!1;if(B===null)Q=!0;else switch(Z){case"string":case"number":Q=!0;break;case"object":switch(B.$$typeof){case e:case t:Q=!0}}if(Q)return Q=B,H=H(Q),B=X===""?"."+oe(Q,0):X,_(H)?(z="",B!=null&&(z=B.replace(ae,"$&/")+"/"),ee(H,W,z,"",function(le){return le})):H!=null&&(G(H)&&(H=U(H,z+(!H.key||Q&&Q.key===H.key?"":(""+H.key).replace(ae,"$&/")+"/")+B)),W.push(H)),1;if(Q=0,X=X===""?".":X+":",_(B))for(var te=0;te<B.length;te++){Z=B[te];var he=X+oe(Z,te);Q+=ee(Z,W,z,he,H)}else if(he=y(B),typeof he=="function")for(B=he.call(B),te=0;!(Z=B.next()).done;)Z=Z.value,he=X+oe(Z,te++),Q+=ee(Z,W,z,he,H);else if(Z==="object")throw W=String(B),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Q}function L(B,W,z){if(B==null)return B;var X=[],H=0;return ee(B,X,"","",function(Z){return W.call(z,Z,H++)}),X}function $(B){if(B._status===-1){var W=B._result;W=W(),W.then(function(z){(B._status===0||B._status===-1)&&(B._status=1,B._result=z)},function(z){(B._status===0||B._status===-1)&&(B._status=2,B._result=z)}),B._status===-1&&(B._status=0,B._result=W)}if(B._status===1)return B._result.default;throw B._result}var D={current:null},P={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:I};function q(){throw Error("act(...) is not supported in production builds of React.")}return ot.Children={map:L,forEach:function(B,W,z){L(B,function(){W.apply(this,arguments)},z)},count:function(B){var W=0;return L(B,function(){W++}),W},toArray:function(B){return L(B,function(W){return W})||[]},only:function(B){if(!G(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},ot.Component=S,ot.Fragment=n,ot.Profiler=i,ot.PureComponent=E,ot.StrictMode=r,ot.Suspense=u,ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,ot.act=q,ot.cloneElement=function(B,W,z){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var X=w({},B.props),H=B.key,Z=B.ref,Q=B._owner;if(W!=null){if(W.ref!==void 0&&(Z=W.ref,Q=I.current),W.key!==void 0&&(H=""+W.key),B.type&&B.type.defaultProps)var te=B.type.defaultProps;for(he in W)T.call(W,he)&&!M.hasOwnProperty(he)&&(X[he]=W[he]===void 0&&te!==void 0?te[he]:W[he])}var he=arguments.length-2;if(he===1)X.children=z;else if(1<he){te=Array(he);for(var le=0;le<he;le++)te[le]=arguments[le+2];X.children=te}return{$$typeof:e,type:B.type,key:H,ref:Z,props:X,_owner:Q}},ot.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},ot.createElement=F,ot.createFactory=function(B){var W=F.bind(null,B);return W.type=B,W},ot.createRef=function(){return{current:null}},ot.forwardRef=function(B){return{$$typeof:d,render:B}},ot.isValidElement=G,ot.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:$}},ot.memo=function(B,W){return{$$typeof:f,type:B,compare:W===void 0?null:W}},ot.startTransition=function(B){var W=P.transition;P.transition={};try{B()}finally{P.transition=W}},ot.unstable_act=q,ot.useCallback=function(B,W){return D.current.useCallback(B,W)},ot.useContext=function(B){return D.current.useContext(B)},ot.useDebugValue=function(){},ot.useDeferredValue=function(B){return D.current.useDeferredValue(B)},ot.useEffect=function(B,W){return D.current.useEffect(B,W)},ot.useId=function(){return D.current.useId()},ot.useImperativeHandle=function(B,W,z){return D.current.useImperativeHandle(B,W,z)},ot.useInsertionEffect=function(B,W){return D.current.useInsertionEffect(B,W)},ot.useLayoutEffect=function(B,W){return D.current.useLayoutEffect(B,W)},ot.useMemo=function(B,W){return D.current.useMemo(B,W)},ot.useReducer=function(B,W,z){return D.current.useReducer(B,W,z)},ot.useRef=function(B){return D.current.useRef(B)},ot.useState=function(B){return D.current.useState(B)},ot.useSyncExternalStore=function(B,W,z){return D.current.useSyncExternalStore(B,W,z)},ot.useTransition=function(){return D.current.useTransition()},ot.version="18.3.1",ot}var bv;function Fl(){return bv||(bv=1,Wf.exports=P5()),Wf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function R5(){if(jv)return Ka;jv=1;var e=Fl(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,u,f){var p,m={},y=null,v=null;f!==void 0&&(y=""+f),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(v=u.ref);for(p in u)r.call(u,p)&&!a.hasOwnProperty(p)&&(m[p]=u[p]);if(d&&d.defaultProps)for(p in u=d.defaultProps,u)m[p]===void 0&&(m[p]=u[p]);return{$$typeof:t,type:d,key:y,ref:v,props:m,_owner:i.current}}return Ka.Fragment=n,Ka.jsx=c,Ka.jsxs=c,Ka}var Sv;function D5(){return Sv||(Sv=1,zf.exports=R5()),zf.exports}var s=D5(),cd={},Vf={exports:{}},On={},Uf={exports:{}},Hf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function O5(){return Nv||(Nv=1,(function(e){function t(P,R){var q=P.length;P.push(R);e:for(;0<q;){var B=q-1>>>1,W=P[B];if(0<i(W,R))P[B]=R,P[q]=W,q=B;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var R=P[0],q=P.pop();if(q!==R){P[0]=q;e:for(var B=0,W=P.length,z=W>>>1;B<z;){var X=2*(B+1)-1,H=P[X],Z=X+1,Q=P[Z];if(0>i(H,q))Z<W&&0>i(Q,H)?(P[B]=Q,P[Z]=q,B=Z):(P[B]=H,P[X]=q,B=X);else if(Z<W&&0>i(Q,q))P[B]=Q,P[Z]=q,B=Z;else break e}}return R}function i(P,R){var q=P.sortIndex-R.sortIndex;return q!==0?q:P.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var u=[],f=[],p=1,m=null,y=3,v=!1,w=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(P){for(var R=n(f);R!==null;){if(R.callback===null)r(f);else if(R.startTime<=P)r(f),R.sortIndex=R.expirationTime,t(u,R);else break;R=n(f)}}function _(P){if(j=!1,C(P),!w)if(n(u)!==null)w=!0,$(T);else{var R=n(f);R!==null&&D(_,R.startTime-P)}}function T(P,R){w=!1,j&&(j=!1,N(F),F=-1),v=!0;var q=y;try{for(C(R),m=n(u);m!==null&&(!(m.expirationTime>R)||P&&!se());){var B=m.callback;if(typeof B=="function"){m.callback=null,y=m.priorityLevel;var W=B(m.expirationTime<=R);R=e.unstable_now(),typeof W=="function"?m.callback=W:m===n(u)&&r(u),C(R)}else r(u);m=n(u)}if(m!==null)var z=!0;else{var X=n(f);X!==null&&D(_,X.startTime-R),z=!1}return z}finally{m=null,y=q,v=!1}}var I=!1,M=null,F=-1,U=5,G=-1;function se(){return!(e.unstable_now()-G<U)}function ae(){if(M!==null){var P=e.unstable_now();G=P;var R=!0;try{R=M(!0,P)}finally{R?oe():(I=!1,M=null)}}else I=!1}var oe;if(typeof E=="function")oe=function(){E(ae)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,L=ee.port2;ee.port1.onmessage=ae,oe=function(){L.postMessage(null)}}else oe=function(){S(ae,0)};function $(P){M=P,I||(I=!0,oe())}function D(P,R){F=S(function(){P(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,$(T))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(P){switch(y){case 1:case 2:case 3:var R=3;break;default:R=y}var q=y;y=R;try{return P()}finally{y=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,R){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var q=y;y=P;try{return R()}finally{y=q}},e.unstable_scheduleCallback=function(P,R,q){var B=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?B+q:B):q=B,P){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=q+W,P={id:p++,callback:R,priorityLevel:P,startTime:q,expirationTime:W,sortIndex:-1},q>B?(P.sortIndex=q,t(f,P),n(u)===null&&P===n(f)&&(j?(N(F),F=-1):j=!0,D(_,q-B))):(P.sortIndex=W,t(u,P),w||v||(w=!0,$(T))),P},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(P){var R=y;return function(){var q=y;y=R;try{return P.apply(this,arguments)}finally{y=q}}}})(Hf)),Hf}var kv;function I5(){return kv||(kv=1,Uf.exports=O5()),Uf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function F5(){if(Cv)return On;Cv=1;var e=Fl(),t=I5();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(o,l){c(o,l),c(o+"Capture",l)}function c(o,l){for(i[o]=l,o=0;o<l.length;o++)r.add(l[o])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(o){return u.call(m,o)?!0:u.call(p,o)?!1:f.test(o)?m[o]=!0:(p[o]=!0,!1)}function v(o,l,h,x){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return x?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function w(o,l,h,x){if(l===null||typeof l>"u"||v(o,l,h,x))return!0;if(x)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function j(o,l,h,x,b,k,A){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=x,this.attributeNamespace=b,this.mustUseProperty=h,this.propertyName=o,this.type=l,this.sanitizeURL=k,this.removeEmptyString=A}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new j(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];S[l]=new j(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new j(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new j(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new j(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new j(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new j(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new j(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new j(o,5,!1,o.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function E(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(N,E);S[l]=new j(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(N,E);S[l]=new j(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(N,E);S[l]=new j(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new j(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new j(o,1,!1,o.toLowerCase(),null,!0,!0)});function C(o,l,h,x){var b=S.hasOwnProperty(l)?S[l]:null;(b!==null?b.type!==0:x||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,h,b,x)&&(h=null),x||b===null?y(l)&&(h===null?o.removeAttribute(l):o.setAttribute(l,""+h)):b.mustUseProperty?o[b.propertyName]=h===null?b.type===3?!1:"":h:(l=b.attributeName,x=b.attributeNamespace,h===null?o.removeAttribute(l):(b=b.type,h=b===3||b===4&&h===!0?"":""+h,x?o.setAttributeNS(x,l,h):o.setAttribute(l,h))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),I=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),se=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),P=Symbol.iterator;function R(o){return o===null||typeof o!="object"?null:(o=P&&o[P]||o["@@iterator"],typeof o=="function"?o:null)}var q=Object.assign,B;function W(o){if(B===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);B=l&&l[1]||""}return`
`+B+o}var z=!1;function X(o,l){if(!o||z)return"";z=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ie){var x=ie}Reflect.construct(o,[],l)}else{try{l.call()}catch(ie){x=ie}o.call(l.prototype)}else{try{throw Error()}catch(ie){x=ie}o()}}catch(ie){if(ie&&x&&typeof ie.stack=="string"){for(var b=ie.stack.split(`
`),k=x.stack.split(`
`),A=b.length-1,V=k.length-1;1<=A&&0<=V&&b[A]!==k[V];)V--;for(;1<=A&&0<=V;A--,V--)if(b[A]!==k[V]){if(A!==1||V!==1)do if(A--,V--,0>V||b[A]!==k[V]){var Y=`
`+b[A].replace(" at new "," at ");return o.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",o.displayName)),Y}while(1<=A&&0<=V);break}}}finally{z=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?W(o):""}function H(o){switch(o.tag){case 5:return W(o.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return o=X(o.type,!1),o;case 11:return o=X(o.type.render,!1),o;case 1:return o=X(o.type,!0),o;default:return""}}function Z(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case M:return"Fragment";case I:return"Portal";case U:return"Profiler";case F:return"StrictMode";case oe:return"Suspense";case ee:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case se:return(o.displayName||"Context")+".Consumer";case G:return(o._context.displayName||"Context")+".Provider";case ae:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case L:return l=o.displayName||null,l!==null?l:Z(o.type)||"Memo";case $:l=o._payload,o=o._init;try{return Z(o(l))}catch{}}return null}function Q(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(l);case 8:return l===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function te(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function he(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function le(o){var l=he(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),x=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,k=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return b.call(this)},set:function(A){x=""+A,k.call(this,A)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return x},setValue:function(A){x=""+A},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Ne(o){o._valueTracker||(o._valueTracker=le(o))}function ke(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),x="";return o&&(x=he(o)?o.checked?"true":"false":o.value),o=x,o!==h?(l.setValue(o),!0):!1}function tt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function nt(o,l){var h=l.checked;return q({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function We(o,l){var h=l.defaultValue==null?"":l.defaultValue,x=l.checked!=null?l.checked:l.defaultChecked;h=te(l.value!=null?l.value:h),o._wrapperState={initialChecked:x,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function wt(o,l){l=l.checked,l!=null&&C(o,"checked",l,!1)}function fe(o,l){wt(o,l);var h=te(l.value),x=l.type;if(h!=null)x==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Ae(o,l.type,h):l.hasOwnProperty("defaultValue")&&Ae(o,l.type,te(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function ye(o,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var x=l.type;if(!(x!=="submit"&&x!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,h||l===o.value||(o.value=l),o.defaultValue=l}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function Ae(o,l,h){(l!=="number"||tt(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var xe=Array.isArray;function Qe(o,l,h,x){if(o=o.options,l){l={};for(var b=0;b<h.length;b++)l["$"+h[b]]=!0;for(h=0;h<o.length;h++)b=l.hasOwnProperty("$"+o[h].value),o[h].selected!==b&&(o[h].selected=b),b&&x&&(o[h].defaultSelected=!0)}else{for(h=""+te(h),l=null,b=0;b<o.length;b++){if(o[b].value===h){o[b].selected=!0,x&&(o[b].defaultSelected=!0);return}l!==null||o[b].disabled||(l=o[b])}l!==null&&(l.selected=!0)}}function at(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Tt(o,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(n(92));if(xe(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),h=l}o._wrapperState={initialValue:te(h)}}function Ze(o,l){var h=te(l.value),x=te(l.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),l.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),x!=null&&(o.defaultValue=""+x)}function pt(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function lt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function K(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?lt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Ce,we=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,x,b){MSApp.execUnsafeLocalFunction(function(){return o(l,h,x,b)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Ce=Ce||document.createElement("div"),Ce.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ce.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function $e(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dt=["Webkit","ms","Moz","O"];Object.keys(et).forEach(function(o){dt.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),et[l]=et[o]})});function un(o,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||et.hasOwnProperty(o)&&et[o]?(""+l).trim():l+"px"}function qt(o,l){o=o.style;for(var h in l)if(l.hasOwnProperty(h)){var x=h.indexOf("--")===0,b=un(h,l[h],x);h==="float"&&(h="cssFloat"),x?o.setProperty(h,b):o[h]=b}}var Xn=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ct(o,l){if(l){if(Xn[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Sn(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ln=null;function kt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var mr=null,Xt=null,mt=null;function bt(o){if(o=Da(o)){if(typeof mr!="function")throw Error(n(280));var l=o.stateNode;l&&(l=Nc(l),mr(o.stateNode,o.type,l))}}function Re(o){Xt?mt?mt.push(o):mt=[o]:Xt=o}function ce(){if(Xt){var o=Xt,l=mt;if(mt=Xt=null,bt(o),l)for(o=0;o<l.length;o++)bt(l[o])}}function Se(o,l){return o(l)}function Pe(){}var rt=!1;function Ge(o,l,h){if(rt)return o(l,h);rt=!0;try{return Se(o,l,h)}finally{rt=!1,(Xt!==null||mt!==null)&&(Pe(),ce())}}function He(o,l){var h=o.stateNode;if(h===null)return null;var x=Nc(h);if(x===null)return null;h=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var ht=!1;if(d)try{var it={};Object.defineProperty(it,"passive",{get:function(){ht=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{ht=!1}function yt(o,l,h,x,b,k,A,V,Y){var ie=Array.prototype.slice.call(arguments,3);try{l.apply(h,ie)}catch(ge){this.onError(ge)}}var ue=!1,_e=null,Ee=!1,qe=null,Pt={onError:function(o){ue=!0,_e=o}};function jt(o,l,h,x,b,k,A,V,Y){ue=!1,_e=null,yt.apply(Pt,arguments)}function Bn(o,l,h,x,b,k,A,V,Y){if(jt.apply(this,arguments),ue){if(ue){var ie=_e;ue=!1,_e=null}else throw Error(n(198));Ee||(Ee=!0,qe=ie)}}function Rt(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function Jn(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function rc(o){if(Rt(o)!==o)throw Error(n(188))}function pa(o){var l=o.alternate;if(!l){if(l=Rt(o),l===null)throw Error(n(188));return l!==o?null:o}for(var h=o,x=l;;){var b=h.return;if(b===null)break;var k=b.alternate;if(k===null){if(x=b.return,x!==null){h=x;continue}break}if(b.child===k.child){for(k=b.child;k;){if(k===h)return rc(b),o;if(k===x)return rc(b),l;k=k.sibling}throw Error(n(188))}if(h.return!==x.return)h=b,x=k;else{for(var A=!1,V=b.child;V;){if(V===h){A=!0,h=b,x=k;break}if(V===x){A=!0,x=b,h=k;break}V=V.sibling}if(!A){for(V=k.child;V;){if(V===h){A=!0,h=k,x=b;break}if(V===x){A=!0,x=k,h=b;break}V=V.sibling}if(!A)throw Error(n(189))}}if(h.alternate!==x)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:l}function Qn(o){return o=pa(o),o!==null?Mr(o):null}function Mr(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Mr(o);if(l!==null)return l;o=o.sibling}return null}var bs=t.unstable_scheduleCallback,K0=t.unstable_cancelCallback,zC=t.unstable_shouldYield,WC=t.unstable_requestPaint,Vt=t.unstable_now,VC=t.unstable_getCurrentPriorityLevel,oh=t.unstable_ImmediatePriority,Y0=t.unstable_UserBlockingPriority,sc=t.unstable_NormalPriority,UC=t.unstable_LowPriority,X0=t.unstable_IdlePriority,ic=null,Lr=null;function HC(o){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(ic,o,void 0,(o.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:KC,qC=Math.log,GC=Math.LN2;function KC(o){return o>>>=0,o===0?32:31-(qC(o)/GC|0)|0}var oc=64,ac=4194304;function ma(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function lc(o,l){var h=o.pendingLanes;if(h===0)return 0;var x=0,b=o.suspendedLanes,k=o.pingedLanes,A=h&268435455;if(A!==0){var V=A&~b;V!==0?x=ma(V):(k&=A,k!==0&&(x=ma(k)))}else A=h&~b,A!==0?x=ma(A):k!==0&&(x=ma(k));if(x===0)return 0;if(l!==0&&l!==x&&(l&b)===0&&(b=x&-x,k=l&-l,b>=k||b===16&&(k&4194240)!==0))return l;if((x&4)!==0&&(x|=h&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=x;0<l;)h=31-gr(l),b=1<<h,x|=o[h],l&=~b;return x}function YC(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XC(o,l){for(var h=o.suspendedLanes,x=o.pingedLanes,b=o.expirationTimes,k=o.pendingLanes;0<k;){var A=31-gr(k),V=1<<A,Y=b[A];Y===-1?((V&h)===0||(V&x)!==0)&&(b[A]=YC(V,l)):Y<=l&&(o.expiredLanes|=V),k&=~V}}function ah(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function J0(){var o=oc;return oc<<=1,(oc&4194240)===0&&(oc=64),o}function lh(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function ga(o,l,h){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-gr(l),o[l]=h}function JC(o,l){var h=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<h;){var b=31-gr(h),k=1<<b;l[b]=0,x[b]=-1,o[b]=-1,h&=~k}}function ch(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var x=31-gr(h),b=1<<x;b&l|o[x]&l&&(o[x]|=l),h&=~b}}var St=0;function Q0(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Z0,dh,ex,tx,nx,uh=!1,cc=[],js=null,Ss=null,Ns=null,xa=new Map,ya=new Map,ks=[],QC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rx(o,l){switch(o){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":xa.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ya.delete(l.pointerId)}}function va(o,l,h,x,b,k){return o===null||o.nativeEvent!==k?(o={blockedOn:l,domEventName:h,eventSystemFlags:x,nativeEvent:k,targetContainers:[b]},l!==null&&(l=Da(l),l!==null&&dh(l)),o):(o.eventSystemFlags|=x,l=o.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),o)}function ZC(o,l,h,x,b){switch(l){case"focusin":return js=va(js,o,l,h,x,b),!0;case"dragenter":return Ss=va(Ss,o,l,h,x,b),!0;case"mouseover":return Ns=va(Ns,o,l,h,x,b),!0;case"pointerover":var k=b.pointerId;return xa.set(k,va(xa.get(k)||null,o,l,h,x,b)),!0;case"gotpointercapture":return k=b.pointerId,ya.set(k,va(ya.get(k)||null,o,l,h,x,b)),!0}return!1}function sx(o){var l=li(o.target);if(l!==null){var h=Rt(l);if(h!==null){if(l=h.tag,l===13){if(l=Jn(h),l!==null){o.blockedOn=l,nx(o.priority,function(){ex(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function dc(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=fh(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var x=new h.constructor(h.type,h);Ln=x,h.target.dispatchEvent(x),Ln=null}else return l=Da(h),l!==null&&dh(l),o.blockedOn=h,!1;l.shift()}return!0}function ix(o,l,h){dc(o)&&h.delete(l)}function eE(){uh=!1,js!==null&&dc(js)&&(js=null),Ss!==null&&dc(Ss)&&(Ss=null),Ns!==null&&dc(Ns)&&(Ns=null),xa.forEach(ix),ya.forEach(ix)}function wa(o,l){o.blockedOn===l&&(o.blockedOn=null,uh||(uh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,eE)))}function ba(o){function l(b){return wa(b,o)}if(0<cc.length){wa(cc[0],o);for(var h=1;h<cc.length;h++){var x=cc[h];x.blockedOn===o&&(x.blockedOn=null)}}for(js!==null&&wa(js,o),Ss!==null&&wa(Ss,o),Ns!==null&&wa(Ns,o),xa.forEach(l),ya.forEach(l),h=0;h<ks.length;h++)x=ks[h],x.blockedOn===o&&(x.blockedOn=null);for(;0<ks.length&&(h=ks[0],h.blockedOn===null);)sx(h),h.blockedOn===null&&ks.shift()}var Gi=_.ReactCurrentBatchConfig,uc=!0;function tE(o,l,h,x){var b=St,k=Gi.transition;Gi.transition=null;try{St=1,hh(o,l,h,x)}finally{St=b,Gi.transition=k}}function nE(o,l,h,x){var b=St,k=Gi.transition;Gi.transition=null;try{St=4,hh(o,l,h,x)}finally{St=b,Gi.transition=k}}function hh(o,l,h,x){if(uc){var b=fh(o,l,h,x);if(b===null)Th(o,l,x,hc,h),rx(o,x);else if(ZC(b,o,l,h,x))x.stopPropagation();else if(rx(o,x),l&4&&-1<QC.indexOf(o)){for(;b!==null;){var k=Da(b);if(k!==null&&Z0(k),k=fh(o,l,h,x),k===null&&Th(o,l,x,hc,h),k===b)break;b=k}b!==null&&x.stopPropagation()}else Th(o,l,x,null,h)}}var hc=null;function fh(o,l,h,x){if(hc=null,o=kt(x),o=li(o),o!==null)if(l=Rt(o),l===null)o=null;else if(h=l.tag,h===13){if(o=Jn(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return hc=o,null}function ox(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VC()){case oh:return 1;case Y0:return 4;case sc:case UC:return 16;case X0:return 536870912;default:return 16}default:return 16}}var Cs=null,ph=null,fc=null;function ax(){if(fc)return fc;var o,l=ph,h=l.length,x,b="value"in Cs?Cs.value:Cs.textContent,k=b.length;for(o=0;o<h&&l[o]===b[o];o++);var A=h-o;for(x=1;x<=A&&l[h-x]===b[k-x];x++);return fc=b.slice(o,1<x?1-x:void 0)}function pc(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function mc(){return!0}function lx(){return!1}function $n(o){function l(h,x,b,k,A){this._reactName=h,this._targetInst=b,this.type=x,this.nativeEvent=k,this.target=A,this.currentTarget=null;for(var V in o)o.hasOwnProperty(V)&&(h=o[V],this[V]=h?h(k):k[V]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?mc:lx,this.isPropagationStopped=lx,this}return q(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=mc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=mc)},persist:function(){},isPersistent:mc}),l}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mh=$n(Ki),ja=q({},Ki,{view:0,detail:0}),rE=$n(ja),gh,xh,Sa,gc=q({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Sa&&(Sa&&o.type==="mousemove"?(gh=o.screenX-Sa.screenX,xh=o.screenY-Sa.screenY):xh=gh=0,Sa=o),gh)},movementY:function(o){return"movementY"in o?o.movementY:xh}}),cx=$n(gc),sE=q({},gc,{dataTransfer:0}),iE=$n(sE),oE=q({},ja,{relatedTarget:0}),yh=$n(oE),aE=q({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),lE=$n(aE),cE=q({},Ki,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),dE=$n(cE),uE=q({},Ki,{data:0}),dx=$n(uE),hE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mE(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=pE[o])?!!l[o]:!1}function vh(){return mE}var gE=q({},ja,{key:function(o){if(o.key){var l=hE[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=pc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?fE[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vh,charCode:function(o){return o.type==="keypress"?pc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?pc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),xE=$n(gE),yE=q({},gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ux=$n(yE),vE=q({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vh}),wE=$n(vE),bE=q({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),jE=$n(bE),SE=q({},gc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),NE=$n(SE),kE=[9,13,27,32],wh=d&&"CompositionEvent"in window,Na=null;d&&"documentMode"in document&&(Na=document.documentMode);var CE=d&&"TextEvent"in window&&!Na,hx=d&&(!wh||Na&&8<Na&&11>=Na),fx=" ",px=!1;function mx(o,l){switch(o){case"keyup":return kE.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gx(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Yi=!1;function EE(o,l){switch(o){case"compositionend":return gx(l);case"keypress":return l.which!==32?null:(px=!0,fx);case"textInput":return o=l.data,o===fx&&px?null:o;default:return null}}function _E(o,l){if(Yi)return o==="compositionend"||!wh&&mx(o,l)?(o=ax(),fc=ph=Cs=null,Yi=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return hx&&l.locale!=="ko"?null:l.data;default:return null}}var AE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xx(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!AE[o.type]:l==="textarea"}function yx(o,l,h,x){Re(x),l=bc(l,"onChange"),0<l.length&&(h=new mh("onChange","change",null,h,x),o.push({event:h,listeners:l}))}var ka=null,Ca=null;function TE(o){Fx(o,0)}function xc(o){var l=eo(o);if(ke(l))return o}function PE(o,l){if(o==="change")return l}var vx=!1;if(d){var bh;if(d){var jh="oninput"in document;if(!jh){var wx=document.createElement("div");wx.setAttribute("oninput","return;"),jh=typeof wx.oninput=="function"}bh=jh}else bh=!1;vx=bh&&(!document.documentMode||9<document.documentMode)}function bx(){ka&&(ka.detachEvent("onpropertychange",jx),Ca=ka=null)}function jx(o){if(o.propertyName==="value"&&xc(Ca)){var l=[];yx(l,Ca,o,kt(o)),Ge(TE,l)}}function RE(o,l,h){o==="focusin"?(bx(),ka=l,Ca=h,ka.attachEvent("onpropertychange",jx)):o==="focusout"&&bx()}function DE(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return xc(Ca)}function OE(o,l){if(o==="click")return xc(l)}function IE(o,l){if(o==="input"||o==="change")return xc(l)}function FE(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var xr=typeof Object.is=="function"?Object.is:FE;function Ea(o,l){if(xr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),x=Object.keys(l);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var b=h[x];if(!u.call(l,b)||!xr(o[b],l[b]))return!1}return!0}function Sx(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Nx(o,l){var h=Sx(o);o=0;for(var x;h;){if(h.nodeType===3){if(x=o+h.textContent.length,o<=l&&x>=l)return{node:h,offset:l-o};o=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Sx(h)}}function kx(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?kx(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Cx(){for(var o=window,l=tt();l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=tt(o.document)}return l}function Sh(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function ME(o){var l=Cx(),h=o.focusedElem,x=o.selectionRange;if(l!==h&&h&&h.ownerDocument&&kx(h.ownerDocument.documentElement,h)){if(x!==null&&Sh(h)){if(l=x.start,o=x.end,o===void 0&&(o=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(o,h.value.length);else if(o=(l=h.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var b=h.textContent.length,k=Math.min(x.start,b);x=x.end===void 0?k:Math.min(x.end,b),!o.extend&&k>x&&(b=x,x=k,k=b),b=Nx(h,k);var A=Nx(h,x);b&&A&&(o.rangeCount!==1||o.anchorNode!==b.node||o.anchorOffset!==b.offset||o.focusNode!==A.node||o.focusOffset!==A.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),o.removeAllRanges(),k>x?(o.addRange(l),o.extend(A.node,A.offset)):(l.setEnd(A.node,A.offset),o.addRange(l)))}}for(l=[],o=h;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)o=l[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var LE=d&&"documentMode"in document&&11>=document.documentMode,Xi=null,Nh=null,_a=null,kh=!1;function Ex(o,l,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;kh||Xi==null||Xi!==tt(x)||(x=Xi,"selectionStart"in x&&Sh(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),_a&&Ea(_a,x)||(_a=x,x=bc(Nh,"onSelect"),0<x.length&&(l=new mh("onSelect","select",null,l,h),o.push({event:l,listeners:x}),l.target=Xi)))}function yc(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var Ji={animationend:yc("Animation","AnimationEnd"),animationiteration:yc("Animation","AnimationIteration"),animationstart:yc("Animation","AnimationStart"),transitionend:yc("Transition","TransitionEnd")},Ch={},_x={};d&&(_x=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function vc(o){if(Ch[o])return Ch[o];if(!Ji[o])return o;var l=Ji[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in _x)return Ch[o]=l[h];return o}var Ax=vc("animationend"),Tx=vc("animationiteration"),Px=vc("animationstart"),Rx=vc("transitionend"),Dx=new Map,Ox="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Es(o,l){Dx.set(o,l),a(l,[o])}for(var Eh=0;Eh<Ox.length;Eh++){var _h=Ox[Eh],BE=_h.toLowerCase(),$E=_h[0].toUpperCase()+_h.slice(1);Es(BE,"on"+$E)}Es(Ax,"onAnimationEnd"),Es(Tx,"onAnimationIteration"),Es(Px,"onAnimationStart"),Es("dblclick","onDoubleClick"),Es("focusin","onFocus"),Es("focusout","onBlur"),Es(Rx,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function Ix(o,l,h){var x=o.type||"unknown-event";o.currentTarget=h,Bn(x,l,void 0,o),o.currentTarget=null}function Fx(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var x=o[h],b=x.event;x=x.listeners;e:{var k=void 0;if(l)for(var A=x.length-1;0<=A;A--){var V=x[A],Y=V.instance,ie=V.currentTarget;if(V=V.listener,Y!==k&&b.isPropagationStopped())break e;Ix(b,V,ie),k=Y}else for(A=0;A<x.length;A++){if(V=x[A],Y=V.instance,ie=V.currentTarget,V=V.listener,Y!==k&&b.isPropagationStopped())break e;Ix(b,V,ie),k=Y}}}if(Ee)throw o=qe,Ee=!1,qe=null,o}function _t(o,l){var h=l[Fh];h===void 0&&(h=l[Fh]=new Set);var x=o+"__bubble";h.has(x)||(Mx(l,o,2,!1),h.add(x))}function Ah(o,l,h){var x=0;l&&(x|=4),Mx(h,o,x,l)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Ta(o){if(!o[wc]){o[wc]=!0,r.forEach(function(h){h!=="selectionchange"&&(zE.has(h)||Ah(h,!1,o),Ah(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[wc]||(l[wc]=!0,Ah("selectionchange",!1,l))}}function Mx(o,l,h,x){switch(ox(l)){case 1:var b=tE;break;case 4:b=nE;break;default:b=hh}h=b.bind(null,l,h,o),b=void 0,!ht||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),x?b!==void 0?o.addEventListener(l,h,{capture:!0,passive:b}):o.addEventListener(l,h,!0):b!==void 0?o.addEventListener(l,h,{passive:b}):o.addEventListener(l,h,!1)}function Th(o,l,h,x,b){var k=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var A=x.tag;if(A===3||A===4){var V=x.stateNode.containerInfo;if(V===b||V.nodeType===8&&V.parentNode===b)break;if(A===4)for(A=x.return;A!==null;){var Y=A.tag;if((Y===3||Y===4)&&(Y=A.stateNode.containerInfo,Y===b||Y.nodeType===8&&Y.parentNode===b))return;A=A.return}for(;V!==null;){if(A=li(V),A===null)return;if(Y=A.tag,Y===5||Y===6){x=k=A;continue e}V=V.parentNode}}x=x.return}Ge(function(){var ie=k,ge=kt(h),ve=[];e:{var me=Dx.get(o);if(me!==void 0){var Te=mh,Oe=o;switch(o){case"keypress":if(pc(h)===0)break e;case"keydown":case"keyup":Te=xE;break;case"focusin":Oe="focus",Te=yh;break;case"focusout":Oe="blur",Te=yh;break;case"beforeblur":case"afterblur":Te=yh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=cx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=iE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=wE;break;case Ax:case Tx:case Px:Te=lE;break;case Rx:Te=jE;break;case"scroll":Te=rE;break;case"wheel":Te=NE;break;case"copy":case"cut":case"paste":Te=dE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=ux}var Me=(l&4)!==0,Ut=!Me&&o==="scroll",ne=Me?me!==null?me+"Capture":null:me;Me=[];for(var J=ie,re;J!==null;){re=J;var je=re.stateNode;if(re.tag===5&&je!==null&&(re=je,ne!==null&&(je=He(J,ne),je!=null&&Me.push(Pa(J,je,re)))),Ut)break;J=J.return}0<Me.length&&(me=new Te(me,Oe,null,h,ge),ve.push({event:me,listeners:Me}))}}if((l&7)===0){e:{if(me=o==="mouseover"||o==="pointerover",Te=o==="mouseout"||o==="pointerout",me&&h!==Ln&&(Oe=h.relatedTarget||h.fromElement)&&(li(Oe)||Oe[Qr]))break e;if((Te||me)&&(me=ge.window===ge?ge:(me=ge.ownerDocument)?me.defaultView||me.parentWindow:window,Te?(Oe=h.relatedTarget||h.toElement,Te=ie,Oe=Oe?li(Oe):null,Oe!==null&&(Ut=Rt(Oe),Oe!==Ut||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Te=null,Oe=ie),Te!==Oe)){if(Me=cx,je="onMouseLeave",ne="onMouseEnter",J="mouse",(o==="pointerout"||o==="pointerover")&&(Me=ux,je="onPointerLeave",ne="onPointerEnter",J="pointer"),Ut=Te==null?me:eo(Te),re=Oe==null?me:eo(Oe),me=new Me(je,J+"leave",Te,h,ge),me.target=Ut,me.relatedTarget=re,je=null,li(ge)===ie&&(Me=new Me(ne,J+"enter",Oe,h,ge),Me.target=re,Me.relatedTarget=Ut,je=Me),Ut=je,Te&&Oe)t:{for(Me=Te,ne=Oe,J=0,re=Me;re;re=Qi(re))J++;for(re=0,je=ne;je;je=Qi(je))re++;for(;0<J-re;)Me=Qi(Me),J--;for(;0<re-J;)ne=Qi(ne),re--;for(;J--;){if(Me===ne||ne!==null&&Me===ne.alternate)break t;Me=Qi(Me),ne=Qi(ne)}Me=null}else Me=null;Te!==null&&Lx(ve,me,Te,Me,!1),Oe!==null&&Ut!==null&&Lx(ve,Ut,Oe,Me,!0)}}e:{if(me=ie?eo(ie):window,Te=me.nodeName&&me.nodeName.toLowerCase(),Te==="select"||Te==="input"&&me.type==="file")var Le=PE;else if(xx(me))if(vx)Le=IE;else{Le=DE;var Ve=RE}else(Te=me.nodeName)&&Te.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(Le=OE);if(Le&&(Le=Le(o,ie))){yx(ve,Le,h,ge);break e}Ve&&Ve(o,me,ie),o==="focusout"&&(Ve=me._wrapperState)&&Ve.controlled&&me.type==="number"&&Ae(me,"number",me.value)}switch(Ve=ie?eo(ie):window,o){case"focusin":(xx(Ve)||Ve.contentEditable==="true")&&(Xi=Ve,Nh=ie,_a=null);break;case"focusout":_a=Nh=Xi=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,Ex(ve,h,ge);break;case"selectionchange":if(LE)break;case"keydown":case"keyup":Ex(ve,h,ge)}var Ue;if(wh)e:{switch(o){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Yi?mx(o,h)&&(Xe="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Xe="onCompositionStart");Xe&&(hx&&h.locale!=="ko"&&(Yi||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Yi&&(Ue=ax()):(Cs=ge,ph="value"in Cs?Cs.value:Cs.textContent,Yi=!0)),Ve=bc(ie,Xe),0<Ve.length&&(Xe=new dx(Xe,o,null,h,ge),ve.push({event:Xe,listeners:Ve}),Ue?Xe.data=Ue:(Ue=gx(h),Ue!==null&&(Xe.data=Ue)))),(Ue=CE?EE(o,h):_E(o,h))&&(ie=bc(ie,"onBeforeInput"),0<ie.length&&(ge=new dx("onBeforeInput","beforeinput",null,h,ge),ve.push({event:ge,listeners:ie}),ge.data=Ue))}Fx(ve,l)})}function Pa(o,l,h){return{instance:o,listener:l,currentTarget:h}}function bc(o,l){for(var h=l+"Capture",x=[];o!==null;){var b=o,k=b.stateNode;b.tag===5&&k!==null&&(b=k,k=He(o,h),k!=null&&x.unshift(Pa(o,k,b)),k=He(o,l),k!=null&&x.push(Pa(o,k,b))),o=o.return}return x}function Qi(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Lx(o,l,h,x,b){for(var k=l._reactName,A=[];h!==null&&h!==x;){var V=h,Y=V.alternate,ie=V.stateNode;if(Y!==null&&Y===x)break;V.tag===5&&ie!==null&&(V=ie,b?(Y=He(h,k),Y!=null&&A.unshift(Pa(h,Y,V))):b||(Y=He(h,k),Y!=null&&A.push(Pa(h,Y,V)))),h=h.return}A.length!==0&&o.push({event:l,listeners:A})}var WE=/\r\n?/g,VE=/\u0000|\uFFFD/g;function Bx(o){return(typeof o=="string"?o:""+o).replace(WE,`
`).replace(VE,"")}function jc(o,l,h){if(l=Bx(l),Bx(o)!==l&&h)throw Error(n(425))}function Sc(){}var Ph=null,Rh=null;function Dh(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Oh=typeof setTimeout=="function"?setTimeout:void 0,UE=typeof clearTimeout=="function"?clearTimeout:void 0,$x=typeof Promise=="function"?Promise:void 0,HE=typeof queueMicrotask=="function"?queueMicrotask:typeof $x<"u"?function(o){return $x.resolve(null).then(o).catch(qE)}:Oh;function qE(o){setTimeout(function(){throw o})}function Ih(o,l){var h=l,x=0;do{var b=h.nextSibling;if(o.removeChild(h),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(x===0){o.removeChild(b),ba(l);return}x--}else h!=="$"&&h!=="$?"&&h!=="$!"||x++;h=b}while(h);ba(l)}function _s(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function zx(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),Br="__reactFiber$"+Zi,Ra="__reactProps$"+Zi,Qr="__reactContainer$"+Zi,Fh="__reactEvents$"+Zi,GE="__reactListeners$"+Zi,KE="__reactHandles$"+Zi;function li(o){var l=o[Br];if(l)return l;for(var h=o.parentNode;h;){if(l=h[Qr]||h[Br]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=zx(o);o!==null;){if(h=o[Br])return h;o=zx(o)}return l}o=h,h=o.parentNode}return null}function Da(o){return o=o[Br]||o[Qr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function eo(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Nc(o){return o[Ra]||null}var Mh=[],to=-1;function As(o){return{current:o}}function At(o){0>to||(o.current=Mh[to],Mh[to]=null,to--)}function Ct(o,l){to++,Mh[to]=o.current,o.current=l}var Ts={},hn=As(Ts),An=As(!1),ci=Ts;function no(o,l){var h=o.type.contextTypes;if(!h)return Ts;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===l)return x.__reactInternalMemoizedMaskedChildContext;var b={},k;for(k in h)b[k]=l[k];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=b),b}function Tn(o){return o=o.childContextTypes,o!=null}function kc(){At(An),At(hn)}function Wx(o,l,h){if(hn.current!==Ts)throw Error(n(168));Ct(hn,l),Ct(An,h)}function Vx(o,l,h){var x=o.stateNode;if(l=l.childContextTypes,typeof x.getChildContext!="function")return h;x=x.getChildContext();for(var b in x)if(!(b in l))throw Error(n(108,Q(o)||"Unknown",b));return q({},h,x)}function Cc(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ts,ci=hn.current,Ct(hn,o),Ct(An,An.current),!0}function Ux(o,l,h){var x=o.stateNode;if(!x)throw Error(n(169));h?(o=Vx(o,l,ci),x.__reactInternalMemoizedMergedChildContext=o,At(An),At(hn),Ct(hn,o)):At(An),Ct(An,h)}var Zr=null,Ec=!1,Lh=!1;function Hx(o){Zr===null?Zr=[o]:Zr.push(o)}function YE(o){Ec=!0,Hx(o)}function Ps(){if(!Lh&&Zr!==null){Lh=!0;var o=0,l=St;try{var h=Zr;for(St=1;o<h.length;o++){var x=h[o];do x=x(!0);while(x!==null)}Zr=null,Ec=!1}catch(b){throw Zr!==null&&(Zr=Zr.slice(o+1)),bs(oh,Ps),b}finally{St=l,Lh=!1}}return null}var ro=[],so=0,_c=null,Ac=0,Zn=[],er=0,di=null,es=1,ts="";function ui(o,l){ro[so++]=Ac,ro[so++]=_c,_c=o,Ac=l}function qx(o,l,h){Zn[er++]=es,Zn[er++]=ts,Zn[er++]=di,di=o;var x=es;o=ts;var b=32-gr(x)-1;x&=~(1<<b),h+=1;var k=32-gr(l)+b;if(30<k){var A=b-b%5;k=(x&(1<<A)-1).toString(32),x>>=A,b-=A,es=1<<32-gr(l)+b|h<<b|x,ts=k+o}else es=1<<k|h<<b|x,ts=o}function Bh(o){o.return!==null&&(ui(o,1),qx(o,1,0))}function $h(o){for(;o===_c;)_c=ro[--so],ro[so]=null,Ac=ro[--so],ro[so]=null;for(;o===di;)di=Zn[--er],Zn[er]=null,ts=Zn[--er],Zn[er]=null,es=Zn[--er],Zn[er]=null}var zn=null,Wn=null,Dt=!1,yr=null;function Gx(o,l){var h=sr(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=o,l=o.deletions,l===null?(o.deletions=[h],o.flags|=16):l.push(h)}function Kx(o,l){switch(o.tag){case 5:var h=o.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,zn=o,Wn=_s(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,zn=o,Wn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=di!==null?{id:es,overflow:ts}:null,o.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=sr(18,null,null,0),h.stateNode=l,h.return=o,o.child=h,zn=o,Wn=null,!0):!1;default:return!1}}function zh(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Wh(o){if(Dt){var l=Wn;if(l){var h=l;if(!Kx(o,l)){if(zh(o))throw Error(n(418));l=_s(h.nextSibling);var x=zn;l&&Kx(o,l)?Gx(x,h):(o.flags=o.flags&-4097|2,Dt=!1,zn=o)}}else{if(zh(o))throw Error(n(418));o.flags=o.flags&-4097|2,Dt=!1,zn=o}}}function Yx(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;zn=o}function Tc(o){if(o!==zn)return!1;if(!Dt)return Yx(o),Dt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Dh(o.type,o.memoizedProps)),l&&(l=Wn)){if(zh(o))throw Xx(),Error(n(418));for(;l;)Gx(o,l),l=_s(l.nextSibling)}if(Yx(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(l===0){Wn=_s(o.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}o=o.nextSibling}Wn=null}}else Wn=zn?_s(o.stateNode.nextSibling):null;return!0}function Xx(){for(var o=Wn;o;)o=_s(o.nextSibling)}function io(){Wn=zn=null,Dt=!1}function Vh(o){yr===null?yr=[o]:yr.push(o)}var XE=_.ReactCurrentBatchConfig;function Oa(o,l,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var x=h.stateNode}if(!x)throw Error(n(147,o));var b=x,k=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function(A){var V=b.refs;A===null?delete V[k]:V[k]=A},l._stringRef=k,l)}if(typeof o!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,o))}return o}function Pc(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function Jx(o){var l=o._init;return l(o._payload)}function Qx(o){function l(ne,J){if(o){var re=ne.deletions;re===null?(ne.deletions=[J],ne.flags|=16):re.push(J)}}function h(ne,J){if(!o)return null;for(;J!==null;)l(ne,J),J=J.sibling;return null}function x(ne,J){for(ne=new Map;J!==null;)J.key!==null?ne.set(J.key,J):ne.set(J.index,J),J=J.sibling;return ne}function b(ne,J){return ne=Bs(ne,J),ne.index=0,ne.sibling=null,ne}function k(ne,J,re){return ne.index=re,o?(re=ne.alternate,re!==null?(re=re.index,re<J?(ne.flags|=2,J):re):(ne.flags|=2,J)):(ne.flags|=1048576,J)}function A(ne){return o&&ne.alternate===null&&(ne.flags|=2),ne}function V(ne,J,re,je){return J===null||J.tag!==6?(J=If(re,ne.mode,je),J.return=ne,J):(J=b(J,re),J.return=ne,J)}function Y(ne,J,re,je){var Le=re.type;return Le===M?ge(ne,J,re.props.children,je,re.key):J!==null&&(J.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===$&&Jx(Le)===J.type)?(je=b(J,re.props),je.ref=Oa(ne,J,re),je.return=ne,je):(je=td(re.type,re.key,re.props,null,ne.mode,je),je.ref=Oa(ne,J,re),je.return=ne,je)}function ie(ne,J,re,je){return J===null||J.tag!==4||J.stateNode.containerInfo!==re.containerInfo||J.stateNode.implementation!==re.implementation?(J=Ff(re,ne.mode,je),J.return=ne,J):(J=b(J,re.children||[]),J.return=ne,J)}function ge(ne,J,re,je,Le){return J===null||J.tag!==7?(J=vi(re,ne.mode,je,Le),J.return=ne,J):(J=b(J,re),J.return=ne,J)}function ve(ne,J,re){if(typeof J=="string"&&J!==""||typeof J=="number")return J=If(""+J,ne.mode,re),J.return=ne,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case T:return re=td(J.type,J.key,J.props,null,ne.mode,re),re.ref=Oa(ne,null,J),re.return=ne,re;case I:return J=Ff(J,ne.mode,re),J.return=ne,J;case $:var je=J._init;return ve(ne,je(J._payload),re)}if(xe(J)||R(J))return J=vi(J,ne.mode,re,null),J.return=ne,J;Pc(ne,J)}return null}function me(ne,J,re,je){var Le=J!==null?J.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Le!==null?null:V(ne,J,""+re,je);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return re.key===Le?Y(ne,J,re,je):null;case I:return re.key===Le?ie(ne,J,re,je):null;case $:return Le=re._init,me(ne,J,Le(re._payload),je)}if(xe(re)||R(re))return Le!==null?null:ge(ne,J,re,je,null);Pc(ne,re)}return null}function Te(ne,J,re,je,Le){if(typeof je=="string"&&je!==""||typeof je=="number")return ne=ne.get(re)||null,V(J,ne,""+je,Le);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case T:return ne=ne.get(je.key===null?re:je.key)||null,Y(J,ne,je,Le);case I:return ne=ne.get(je.key===null?re:je.key)||null,ie(J,ne,je,Le);case $:var Ve=je._init;return Te(ne,J,re,Ve(je._payload),Le)}if(xe(je)||R(je))return ne=ne.get(re)||null,ge(J,ne,je,Le,null);Pc(J,je)}return null}function Oe(ne,J,re,je){for(var Le=null,Ve=null,Ue=J,Xe=J=0,sn=null;Ue!==null&&Xe<re.length;Xe++){Ue.index>Xe?(sn=Ue,Ue=null):sn=Ue.sibling;var gt=me(ne,Ue,re[Xe],je);if(gt===null){Ue===null&&(Ue=sn);break}o&&Ue&&gt.alternate===null&&l(ne,Ue),J=k(gt,J,Xe),Ve===null?Le=gt:Ve.sibling=gt,Ve=gt,Ue=sn}if(Xe===re.length)return h(ne,Ue),Dt&&ui(ne,Xe),Le;if(Ue===null){for(;Xe<re.length;Xe++)Ue=ve(ne,re[Xe],je),Ue!==null&&(J=k(Ue,J,Xe),Ve===null?Le=Ue:Ve.sibling=Ue,Ve=Ue);return Dt&&ui(ne,Xe),Le}for(Ue=x(ne,Ue);Xe<re.length;Xe++)sn=Te(Ue,ne,Xe,re[Xe],je),sn!==null&&(o&&sn.alternate!==null&&Ue.delete(sn.key===null?Xe:sn.key),J=k(sn,J,Xe),Ve===null?Le=sn:Ve.sibling=sn,Ve=sn);return o&&Ue.forEach(function($s){return l(ne,$s)}),Dt&&ui(ne,Xe),Le}function Me(ne,J,re,je){var Le=R(re);if(typeof Le!="function")throw Error(n(150));if(re=Le.call(re),re==null)throw Error(n(151));for(var Ve=Le=null,Ue=J,Xe=J=0,sn=null,gt=re.next();Ue!==null&&!gt.done;Xe++,gt=re.next()){Ue.index>Xe?(sn=Ue,Ue=null):sn=Ue.sibling;var $s=me(ne,Ue,gt.value,je);if($s===null){Ue===null&&(Ue=sn);break}o&&Ue&&$s.alternate===null&&l(ne,Ue),J=k($s,J,Xe),Ve===null?Le=$s:Ve.sibling=$s,Ve=$s,Ue=sn}if(gt.done)return h(ne,Ue),Dt&&ui(ne,Xe),Le;if(Ue===null){for(;!gt.done;Xe++,gt=re.next())gt=ve(ne,gt.value,je),gt!==null&&(J=k(gt,J,Xe),Ve===null?Le=gt:Ve.sibling=gt,Ve=gt);return Dt&&ui(ne,Xe),Le}for(Ue=x(ne,Ue);!gt.done;Xe++,gt=re.next())gt=Te(Ue,ne,Xe,gt.value,je),gt!==null&&(o&&gt.alternate!==null&&Ue.delete(gt.key===null?Xe:gt.key),J=k(gt,J,Xe),Ve===null?Le=gt:Ve.sibling=gt,Ve=gt);return o&&Ue.forEach(function(A5){return l(ne,A5)}),Dt&&ui(ne,Xe),Le}function Ut(ne,J,re,je){if(typeof re=="object"&&re!==null&&re.type===M&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case T:e:{for(var Le=re.key,Ve=J;Ve!==null;){if(Ve.key===Le){if(Le=re.type,Le===M){if(Ve.tag===7){h(ne,Ve.sibling),J=b(Ve,re.props.children),J.return=ne,ne=J;break e}}else if(Ve.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===$&&Jx(Le)===Ve.type){h(ne,Ve.sibling),J=b(Ve,re.props),J.ref=Oa(ne,Ve,re),J.return=ne,ne=J;break e}h(ne,Ve);break}else l(ne,Ve);Ve=Ve.sibling}re.type===M?(J=vi(re.props.children,ne.mode,je,re.key),J.return=ne,ne=J):(je=td(re.type,re.key,re.props,null,ne.mode,je),je.ref=Oa(ne,J,re),je.return=ne,ne=je)}return A(ne);case I:e:{for(Ve=re.key;J!==null;){if(J.key===Ve)if(J.tag===4&&J.stateNode.containerInfo===re.containerInfo&&J.stateNode.implementation===re.implementation){h(ne,J.sibling),J=b(J,re.children||[]),J.return=ne,ne=J;break e}else{h(ne,J);break}else l(ne,J);J=J.sibling}J=Ff(re,ne.mode,je),J.return=ne,ne=J}return A(ne);case $:return Ve=re._init,Ut(ne,J,Ve(re._payload),je)}if(xe(re))return Oe(ne,J,re,je);if(R(re))return Me(ne,J,re,je);Pc(ne,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,J!==null&&J.tag===6?(h(ne,J.sibling),J=b(J,re),J.return=ne,ne=J):(h(ne,J),J=If(re,ne.mode,je),J.return=ne,ne=J),A(ne)):h(ne,J)}return Ut}var oo=Qx(!0),Zx=Qx(!1),Rc=As(null),Dc=null,ao=null,Uh=null;function Hh(){Uh=ao=Dc=null}function qh(o){var l=Rc.current;At(Rc),o._currentValue=l}function Gh(o,l,h){for(;o!==null;){var x=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),o===h)break;o=o.return}}function lo(o,l){Dc=o,Uh=ao=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(Pn=!0),o.firstContext=null)}function tr(o){var l=o._currentValue;if(Uh!==o)if(o={context:o,memoizedValue:l,next:null},ao===null){if(Dc===null)throw Error(n(308));ao=o,Dc.dependencies={lanes:0,firstContext:o}}else ao=ao.next=o;return l}var hi=null;function Kh(o){hi===null?hi=[o]:hi.push(o)}function ey(o,l,h,x){var b=l.interleaved;return b===null?(h.next=h,Kh(l)):(h.next=b.next,b.next=h),l.interleaved=h,ns(o,x)}function ns(o,l){o.lanes|=l;var h=o.alternate;for(h!==null&&(h.lanes|=l),h=o,o=o.return;o!==null;)o.childLanes|=l,h=o.alternate,h!==null&&(h.childLanes|=l),h=o,o=o.return;return h.tag===3?h.stateNode:null}var Rs=!1;function Yh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ty(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function rs(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Ds(o,l,h){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(ft&2)!==0){var b=x.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),x.pending=l,ns(o,h)}return b=x.interleaved,b===null?(l.next=l,Kh(x)):(l.next=b.next,b.next=l),x.interleaved=l,ns(o,h)}function Oc(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var x=l.lanes;x&=o.pendingLanes,h|=x,l.lanes=h,ch(o,h)}}function ny(o,l){var h=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var b=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var A={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};k===null?b=k=A:k=k.next=A,h=h.next}while(h!==null);k===null?b=k=l:k=k.next=l}else b=k=l;h={baseState:x.baseState,firstBaseUpdate:b,lastBaseUpdate:k,shared:x.shared,effects:x.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}function Ic(o,l,h,x){var b=o.updateQueue;Rs=!1;var k=b.firstBaseUpdate,A=b.lastBaseUpdate,V=b.shared.pending;if(V!==null){b.shared.pending=null;var Y=V,ie=Y.next;Y.next=null,A===null?k=ie:A.next=ie,A=Y;var ge=o.alternate;ge!==null&&(ge=ge.updateQueue,V=ge.lastBaseUpdate,V!==A&&(V===null?ge.firstBaseUpdate=ie:V.next=ie,ge.lastBaseUpdate=Y))}if(k!==null){var ve=b.baseState;A=0,ge=ie=Y=null,V=k;do{var me=V.lane,Te=V.eventTime;if((x&me)===me){ge!==null&&(ge=ge.next={eventTime:Te,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Oe=o,Me=V;switch(me=l,Te=h,Me.tag){case 1:if(Oe=Me.payload,typeof Oe=="function"){ve=Oe.call(Te,ve,me);break e}ve=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Me.payload,me=typeof Oe=="function"?Oe.call(Te,ve,me):Oe,me==null)break e;ve=q({},ve,me);break e;case 2:Rs=!0}}V.callback!==null&&V.lane!==0&&(o.flags|=64,me=b.effects,me===null?b.effects=[V]:me.push(V))}else Te={eventTime:Te,lane:me,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ge===null?(ie=ge=Te,Y=ve):ge=ge.next=Te,A|=me;if(V=V.next,V===null){if(V=b.shared.pending,V===null)break;me=V,V=me.next,me.next=null,b.lastBaseUpdate=me,b.shared.pending=null}}while(!0);if(ge===null&&(Y=ve),b.baseState=Y,b.firstBaseUpdate=ie,b.lastBaseUpdate=ge,l=b.shared.interleaved,l!==null){b=l;do A|=b.lane,b=b.next;while(b!==l)}else k===null&&(b.shared.lanes=0);mi|=A,o.lanes=A,o.memoizedState=ve}}function ry(o,l,h){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var x=o[l],b=x.callback;if(b!==null){if(x.callback=null,x=h,typeof b!="function")throw Error(n(191,b));b.call(x)}}}var Ia={},$r=As(Ia),Fa=As(Ia),Ma=As(Ia);function fi(o){if(o===Ia)throw Error(n(174));return o}function Xh(o,l){switch(Ct(Ma,l),Ct(Fa,o),Ct($r,Ia),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:K(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=K(l,o)}At($r),Ct($r,l)}function co(){At($r),At(Fa),At(Ma)}function sy(o){fi(Ma.current);var l=fi($r.current),h=K(l,o.type);l!==h&&(Ct(Fa,o),Ct($r,h))}function Jh(o){Fa.current===o&&(At($r),At(Fa))}var It=As(0);function Fc(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Qh=[];function Zh(){for(var o=0;o<Qh.length;o++)Qh[o]._workInProgressVersionPrimary=null;Qh.length=0}var Mc=_.ReactCurrentDispatcher,ef=_.ReactCurrentBatchConfig,pi=0,Ft=null,Jt=null,nn=null,Lc=!1,La=!1,Ba=0,JE=0;function fn(){throw Error(n(321))}function tf(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!xr(o[h],l[h]))return!1;return!0}function nf(o,l,h,x,b,k){if(pi=k,Ft=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Mc.current=o===null||o.memoizedState===null?t5:n5,o=h(x,b),La){k=0;do{if(La=!1,Ba=0,25<=k)throw Error(n(301));k+=1,nn=Jt=null,l.updateQueue=null,Mc.current=r5,o=h(x,b)}while(La)}if(Mc.current=zc,l=Jt!==null&&Jt.next!==null,pi=0,nn=Jt=Ft=null,Lc=!1,l)throw Error(n(300));return o}function rf(){var o=Ba!==0;return Ba=0,o}function zr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Ft.memoizedState=nn=o:nn=nn.next=o,nn}function nr(){if(Jt===null){var o=Ft.alternate;o=o!==null?o.memoizedState:null}else o=Jt.next;var l=nn===null?Ft.memoizedState:nn.next;if(l!==null)nn=l,Jt=o;else{if(o===null)throw Error(n(310));Jt=o,o={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},nn===null?Ft.memoizedState=nn=o:nn=nn.next=o}return nn}function $a(o,l){return typeof l=="function"?l(o):l}function sf(o){var l=nr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=Jt,b=x.baseQueue,k=h.pending;if(k!==null){if(b!==null){var A=b.next;b.next=k.next,k.next=A}x.baseQueue=b=k,h.pending=null}if(b!==null){k=b.next,x=x.baseState;var V=A=null,Y=null,ie=k;do{var ge=ie.lane;if((pi&ge)===ge)Y!==null&&(Y=Y.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),x=ie.hasEagerState?ie.eagerState:o(x,ie.action);else{var ve={lane:ge,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};Y===null?(V=Y=ve,A=x):Y=Y.next=ve,Ft.lanes|=ge,mi|=ge}ie=ie.next}while(ie!==null&&ie!==k);Y===null?A=x:Y.next=V,xr(x,l.memoizedState)||(Pn=!0),l.memoizedState=x,l.baseState=A,l.baseQueue=Y,h.lastRenderedState=x}if(o=h.interleaved,o!==null){b=o;do k=b.lane,Ft.lanes|=k,mi|=k,b=b.next;while(b!==o)}else b===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function of(o){var l=nr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=h.dispatch,b=h.pending,k=l.memoizedState;if(b!==null){h.pending=null;var A=b=b.next;do k=o(k,A.action),A=A.next;while(A!==b);xr(k,l.memoizedState)||(Pn=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),h.lastRenderedState=k}return[k,x]}function iy(){}function oy(o,l){var h=Ft,x=nr(),b=l(),k=!xr(x.memoizedState,b);if(k&&(x.memoizedState=b,Pn=!0),x=x.queue,af(cy.bind(null,h,x,o),[o]),x.getSnapshot!==l||k||nn!==null&&nn.memoizedState.tag&1){if(h.flags|=2048,za(9,ly.bind(null,h,x,b,l),void 0,null),rn===null)throw Error(n(349));(pi&30)!==0||ay(h,l,b)}return b}function ay(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=Ft.updateQueue,l===null?(l={lastEffect:null,stores:null},Ft.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function ly(o,l,h,x){l.value=h,l.getSnapshot=x,dy(l)&&uy(o)}function cy(o,l,h){return h(function(){dy(l)&&uy(o)})}function dy(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!xr(o,h)}catch{return!0}}function uy(o){var l=ns(o,1);l!==null&&jr(l,o,1,-1)}function hy(o){var l=zr();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:o},l.queue=o,o=o.dispatch=e5.bind(null,Ft,o),[l.memoizedState,o]}function za(o,l,h,x){return o={tag:o,create:l,destroy:h,deps:x,next:null},l=Ft.updateQueue,l===null?(l={lastEffect:null,stores:null},Ft.updateQueue=l,l.lastEffect=o.next=o):(h=l.lastEffect,h===null?l.lastEffect=o.next=o:(x=h.next,h.next=o,o.next=x,l.lastEffect=o)),o}function fy(){return nr().memoizedState}function Bc(o,l,h,x){var b=zr();Ft.flags|=o,b.memoizedState=za(1|l,h,void 0,x===void 0?null:x)}function $c(o,l,h,x){var b=nr();x=x===void 0?null:x;var k=void 0;if(Jt!==null){var A=Jt.memoizedState;if(k=A.destroy,x!==null&&tf(x,A.deps)){b.memoizedState=za(l,h,k,x);return}}Ft.flags|=o,b.memoizedState=za(1|l,h,k,x)}function py(o,l){return Bc(8390656,8,o,l)}function af(o,l){return $c(2048,8,o,l)}function my(o,l){return $c(4,2,o,l)}function gy(o,l){return $c(4,4,o,l)}function xy(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function yy(o,l,h){return h=h!=null?h.concat([o]):null,$c(4,4,xy.bind(null,l,o),h)}function lf(){}function vy(o,l){var h=nr();l=l===void 0?null:l;var x=h.memoizedState;return x!==null&&l!==null&&tf(l,x[1])?x[0]:(h.memoizedState=[o,l],o)}function wy(o,l){var h=nr();l=l===void 0?null:l;var x=h.memoizedState;return x!==null&&l!==null&&tf(l,x[1])?x[0]:(o=o(),h.memoizedState=[o,l],o)}function by(o,l,h){return(pi&21)===0?(o.baseState&&(o.baseState=!1,Pn=!0),o.memoizedState=h):(xr(h,l)||(h=J0(),Ft.lanes|=h,mi|=h,o.baseState=!0),l)}function QE(o,l){var h=St;St=h!==0&&4>h?h:4,o(!0);var x=ef.transition;ef.transition={};try{o(!1),l()}finally{St=h,ef.transition=x}}function jy(){return nr().memoizedState}function ZE(o,l,h){var x=Ms(o);if(h={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null},Sy(o))Ny(l,h);else if(h=ey(o,l,h,x),h!==null){var b=kn();jr(h,o,x,b),ky(h,l,x)}}function e5(o,l,h){var x=Ms(o),b={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null};if(Sy(o))Ny(l,b);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var A=l.lastRenderedState,V=k(A,h);if(b.hasEagerState=!0,b.eagerState=V,xr(V,A)){var Y=l.interleaved;Y===null?(b.next=b,Kh(l)):(b.next=Y.next,Y.next=b),l.interleaved=b;return}}catch{}finally{}h=ey(o,l,b,x),h!==null&&(b=kn(),jr(h,o,x,b),ky(h,l,x))}}function Sy(o){var l=o.alternate;return o===Ft||l!==null&&l===Ft}function Ny(o,l){La=Lc=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function ky(o,l,h){if((h&4194240)!==0){var x=l.lanes;x&=o.pendingLanes,h|=x,l.lanes=h,ch(o,h)}}var zc={readContext:tr,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},t5={readContext:tr,useCallback:function(o,l){return zr().memoizedState=[o,l===void 0?null:l],o},useContext:tr,useEffect:py,useImperativeHandle:function(o,l,h){return h=h!=null?h.concat([o]):null,Bc(4194308,4,xy.bind(null,l,o),h)},useLayoutEffect:function(o,l){return Bc(4194308,4,o,l)},useInsertionEffect:function(o,l){return Bc(4,2,o,l)},useMemo:function(o,l){var h=zr();return l=l===void 0?null:l,o=o(),h.memoizedState=[o,l],o},useReducer:function(o,l,h){var x=zr();return l=h!==void 0?h(l):l,x.memoizedState=x.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},x.queue=o,o=o.dispatch=ZE.bind(null,Ft,o),[x.memoizedState,o]},useRef:function(o){var l=zr();return o={current:o},l.memoizedState=o},useState:hy,useDebugValue:lf,useDeferredValue:function(o){return zr().memoizedState=o},useTransition:function(){var o=hy(!1),l=o[0];return o=QE.bind(null,o[1]),zr().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,h){var x=Ft,b=zr();if(Dt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),rn===null)throw Error(n(349));(pi&30)!==0||ay(x,l,h)}b.memoizedState=h;var k={value:h,getSnapshot:l};return b.queue=k,py(cy.bind(null,x,k,o),[o]),x.flags|=2048,za(9,ly.bind(null,x,k,h,l),void 0,null),h},useId:function(){var o=zr(),l=rn.identifierPrefix;if(Dt){var h=ts,x=es;h=(x&~(1<<32-gr(x)-1)).toString(32)+h,l=":"+l+"R"+h,h=Ba++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=JE++,l=":"+l+"r"+h.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},n5={readContext:tr,useCallback:vy,useContext:tr,useEffect:af,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:wy,useReducer:sf,useRef:fy,useState:function(){return sf($a)},useDebugValue:lf,useDeferredValue:function(o){var l=nr();return by(l,Jt.memoizedState,o)},useTransition:function(){var o=sf($a)[0],l=nr().memoizedState;return[o,l]},useMutableSource:iy,useSyncExternalStore:oy,useId:jy,unstable_isNewReconciler:!1},r5={readContext:tr,useCallback:vy,useContext:tr,useEffect:af,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:wy,useReducer:of,useRef:fy,useState:function(){return of($a)},useDebugValue:lf,useDeferredValue:function(o){var l=nr();return Jt===null?l.memoizedState=o:by(l,Jt.memoizedState,o)},useTransition:function(){var o=of($a)[0],l=nr().memoizedState;return[o,l]},useMutableSource:iy,useSyncExternalStore:oy,useId:jy,unstable_isNewReconciler:!1};function vr(o,l){if(o&&o.defaultProps){l=q({},l),o=o.defaultProps;for(var h in o)l[h]===void 0&&(l[h]=o[h]);return l}return l}function cf(o,l,h,x){l=o.memoizedState,h=h(x,l),h=h==null?l:q({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Wc={isMounted:function(o){return(o=o._reactInternals)?Rt(o)===o:!1},enqueueSetState:function(o,l,h){o=o._reactInternals;var x=kn(),b=Ms(o),k=rs(x,b);k.payload=l,h!=null&&(k.callback=h),l=Ds(o,k,b),l!==null&&(jr(l,o,b,x),Oc(l,o,b))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var x=kn(),b=Ms(o),k=rs(x,b);k.tag=1,k.payload=l,h!=null&&(k.callback=h),l=Ds(o,k,b),l!==null&&(jr(l,o,b,x),Oc(l,o,b))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=kn(),x=Ms(o),b=rs(h,x);b.tag=2,l!=null&&(b.callback=l),l=Ds(o,b,x),l!==null&&(jr(l,o,x,h),Oc(l,o,x))}};function Cy(o,l,h,x,b,k,A){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,k,A):l.prototype&&l.prototype.isPureReactComponent?!Ea(h,x)||!Ea(b,k):!0}function Ey(o,l,h){var x=!1,b=Ts,k=l.contextType;return typeof k=="object"&&k!==null?k=tr(k):(b=Tn(l)?ci:hn.current,x=l.contextTypes,k=(x=x!=null)?no(o,b):Ts),l=new l(h,k),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Wc,o.stateNode=l,l._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=b,o.__reactInternalMemoizedMaskedChildContext=k),l}function _y(o,l,h,x){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,x),l.state!==o&&Wc.enqueueReplaceState(l,l.state,null)}function df(o,l,h,x){var b=o.stateNode;b.props=h,b.state=o.memoizedState,b.refs={},Yh(o);var k=l.contextType;typeof k=="object"&&k!==null?b.context=tr(k):(k=Tn(l)?ci:hn.current,b.context=no(o,k)),b.state=o.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(cf(o,l,k,h),b.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&Wc.enqueueReplaceState(b,b.state,null),Ic(o,h,b,x),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308)}function uo(o,l){try{var h="",x=l;do h+=H(x),x=x.return;while(x);var b=h}catch(k){b=`
Error generating stack: `+k.message+`
`+k.stack}return{value:o,source:l,stack:b,digest:null}}function uf(o,l,h){return{value:o,source:null,stack:h??null,digest:l??null}}function hf(o,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var s5=typeof WeakMap=="function"?WeakMap:Map;function Ay(o,l,h){h=rs(-1,h),h.tag=3,h.payload={element:null};var x=l.value;return h.callback=function(){Yc||(Yc=!0,Ef=x),hf(o,l)},h}function Ty(o,l,h){h=rs(-1,h),h.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var b=l.value;h.payload=function(){return x(b)},h.callback=function(){hf(o,l)}}var k=o.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(h.callback=function(){hf(o,l),typeof x!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})}),h}function Py(o,l,h){var x=o.pingCache;if(x===null){x=o.pingCache=new s5;var b=new Set;x.set(l,b)}else b=x.get(l),b===void 0&&(b=new Set,x.set(l,b));b.has(h)||(b.add(h),o=y5.bind(null,o,l,h),l.then(o,o))}function Ry(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function Dy(o,l,h,x,b){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=rs(-1,1),l.tag=2,Ds(h,l,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=b,o)}var i5=_.ReactCurrentOwner,Pn=!1;function Nn(o,l,h,x){l.child=o===null?Zx(l,null,h,x):oo(l,o.child,h,x)}function Oy(o,l,h,x,b){h=h.render;var k=l.ref;return lo(l,b),x=nf(o,l,h,x,k,b),h=rf(),o!==null&&!Pn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~b,ss(o,l,b)):(Dt&&h&&Bh(l),l.flags|=1,Nn(o,l,x,b),l.child)}function Iy(o,l,h,x,b){if(o===null){var k=h.type;return typeof k=="function"&&!Of(k)&&k.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=k,Fy(o,l,k,x,b)):(o=td(h.type,null,x,l,l.mode,b),o.ref=l.ref,o.return=l,l.child=o)}if(k=o.child,(o.lanes&b)===0){var A=k.memoizedProps;if(h=h.compare,h=h!==null?h:Ea,h(A,x)&&o.ref===l.ref)return ss(o,l,b)}return l.flags|=1,o=Bs(k,x),o.ref=l.ref,o.return=l,l.child=o}function Fy(o,l,h,x,b){if(o!==null){var k=o.memoizedProps;if(Ea(k,x)&&o.ref===l.ref)if(Pn=!1,l.pendingProps=x=k,(o.lanes&b)!==0)(o.flags&131072)!==0&&(Pn=!0);else return l.lanes=o.lanes,ss(o,l,b)}return ff(o,l,h,x,b)}function My(o,l,h){var x=l.pendingProps,b=x.children,k=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(fo,Vn),Vn|=h;else{if((h&1073741824)===0)return o=k!==null?k.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Ct(fo,Vn),Vn|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=k!==null?k.baseLanes:h,Ct(fo,Vn),Vn|=x}else k!==null?(x=k.baseLanes|h,l.memoizedState=null):x=h,Ct(fo,Vn),Vn|=x;return Nn(o,l,b,h),l.child}function Ly(o,l){var h=l.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function ff(o,l,h,x,b){var k=Tn(h)?ci:hn.current;return k=no(l,k),lo(l,b),h=nf(o,l,h,x,k,b),x=rf(),o!==null&&!Pn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~b,ss(o,l,b)):(Dt&&x&&Bh(l),l.flags|=1,Nn(o,l,h,b),l.child)}function By(o,l,h,x,b){if(Tn(h)){var k=!0;Cc(l)}else k=!1;if(lo(l,b),l.stateNode===null)Uc(o,l),Ey(l,h,x),df(l,h,x,b),x=!0;else if(o===null){var A=l.stateNode,V=l.memoizedProps;A.props=V;var Y=A.context,ie=h.contextType;typeof ie=="object"&&ie!==null?ie=tr(ie):(ie=Tn(h)?ci:hn.current,ie=no(l,ie));var ge=h.getDerivedStateFromProps,ve=typeof ge=="function"||typeof A.getSnapshotBeforeUpdate=="function";ve||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(V!==x||Y!==ie)&&_y(l,A,x,ie),Rs=!1;var me=l.memoizedState;A.state=me,Ic(l,x,A,b),Y=l.memoizedState,V!==x||me!==Y||An.current||Rs?(typeof ge=="function"&&(cf(l,h,ge,x),Y=l.memoizedState),(V=Rs||Cy(l,h,V,x,me,Y,ie))?(ve||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=Y),A.props=x,A.state=Y,A.context=ie,x=V):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{A=l.stateNode,ty(o,l),V=l.memoizedProps,ie=l.type===l.elementType?V:vr(l.type,V),A.props=ie,ve=l.pendingProps,me=A.context,Y=h.contextType,typeof Y=="object"&&Y!==null?Y=tr(Y):(Y=Tn(h)?ci:hn.current,Y=no(l,Y));var Te=h.getDerivedStateFromProps;(ge=typeof Te=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(V!==ve||me!==Y)&&_y(l,A,x,Y),Rs=!1,me=l.memoizedState,A.state=me,Ic(l,x,A,b);var Oe=l.memoizedState;V!==ve||me!==Oe||An.current||Rs?(typeof Te=="function"&&(cf(l,h,Te,x),Oe=l.memoizedState),(ie=Rs||Cy(l,h,ie,x,me,Oe,Y)||!1)?(ge||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(x,Oe,Y),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(x,Oe,Y)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||V===o.memoizedProps&&me===o.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&me===o.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=Oe),A.props=x,A.state=Oe,A.context=Y,x=ie):(typeof A.componentDidUpdate!="function"||V===o.memoizedProps&&me===o.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&me===o.memoizedState||(l.flags|=1024),x=!1)}return pf(o,l,h,x,k,b)}function pf(o,l,h,x,b,k){Ly(o,l);var A=(l.flags&128)!==0;if(!x&&!A)return b&&Ux(l,h,!1),ss(o,l,k);x=l.stateNode,i5.current=l;var V=A&&typeof h.getDerivedStateFromError!="function"?null:x.render();return l.flags|=1,o!==null&&A?(l.child=oo(l,o.child,null,k),l.child=oo(l,null,V,k)):Nn(o,l,V,k),l.memoizedState=x.state,b&&Ux(l,h,!0),l.child}function $y(o){var l=o.stateNode;l.pendingContext?Wx(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Wx(o,l.context,!1),Xh(o,l.containerInfo)}function zy(o,l,h,x,b){return io(),Vh(b),l.flags|=256,Nn(o,l,h,x),l.child}var mf={dehydrated:null,treeContext:null,retryLane:0};function gf(o){return{baseLanes:o,cachePool:null,transitions:null}}function Wy(o,l,h){var x=l.pendingProps,b=It.current,k=!1,A=(l.flags&128)!==0,V;if((V=A)||(V=o!==null&&o.memoizedState===null?!1:(b&2)!==0),V?(k=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(b|=1),Ct(It,b&1),o===null)return Wh(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(A=x.children,o=x.fallback,k?(x=l.mode,k=l.child,A={mode:"hidden",children:A},(x&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=A):k=nd(A,x,0,null),o=vi(o,x,h,null),k.return=l,o.return=l,k.sibling=o,l.child=k,l.child.memoizedState=gf(h),l.memoizedState=mf,o):xf(l,A));if(b=o.memoizedState,b!==null&&(V=b.dehydrated,V!==null))return o5(o,l,A,x,V,b,h);if(k){k=x.fallback,A=l.mode,b=o.child,V=b.sibling;var Y={mode:"hidden",children:x.children};return(A&1)===0&&l.child!==b?(x=l.child,x.childLanes=0,x.pendingProps=Y,l.deletions=null):(x=Bs(b,Y),x.subtreeFlags=b.subtreeFlags&14680064),V!==null?k=Bs(V,k):(k=vi(k,A,h,null),k.flags|=2),k.return=l,x.return=l,x.sibling=k,l.child=x,x=k,k=l.child,A=o.child.memoizedState,A=A===null?gf(h):{baseLanes:A.baseLanes|h,cachePool:null,transitions:A.transitions},k.memoizedState=A,k.childLanes=o.childLanes&~h,l.memoizedState=mf,x}return k=o.child,o=k.sibling,x=Bs(k,{mode:"visible",children:x.children}),(l.mode&1)===0&&(x.lanes=h),x.return=l,x.sibling=null,o!==null&&(h=l.deletions,h===null?(l.deletions=[o],l.flags|=16):h.push(o)),l.child=x,l.memoizedState=null,x}function xf(o,l){return l=nd({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Vc(o,l,h,x){return x!==null&&Vh(x),oo(l,o.child,null,h),o=xf(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function o5(o,l,h,x,b,k,A){if(h)return l.flags&256?(l.flags&=-257,x=uf(Error(n(422))),Vc(o,l,A,x)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(k=x.fallback,b=l.mode,x=nd({mode:"visible",children:x.children},b,0,null),k=vi(k,b,A,null),k.flags|=2,x.return=l,k.return=l,x.sibling=k,l.child=x,(l.mode&1)!==0&&oo(l,o.child,null,A),l.child.memoizedState=gf(A),l.memoizedState=mf,k);if((l.mode&1)===0)return Vc(o,l,A,null);if(b.data==="$!"){if(x=b.nextSibling&&b.nextSibling.dataset,x)var V=x.dgst;return x=V,k=Error(n(419)),x=uf(k,x,void 0),Vc(o,l,A,x)}if(V=(A&o.childLanes)!==0,Pn||V){if(x=rn,x!==null){switch(A&-A){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(x.suspendedLanes|A))!==0?0:b,b!==0&&b!==k.retryLane&&(k.retryLane=b,ns(o,b),jr(x,o,b,-1))}return Df(),x=uf(Error(n(421))),Vc(o,l,A,x)}return b.data==="$?"?(l.flags|=128,l.child=o.child,l=v5.bind(null,o),b._reactRetry=l,null):(o=k.treeContext,Wn=_s(b.nextSibling),zn=l,Dt=!0,yr=null,o!==null&&(Zn[er++]=es,Zn[er++]=ts,Zn[er++]=di,es=o.id,ts=o.overflow,di=l),l=xf(l,x.children),l.flags|=4096,l)}function Vy(o,l,h){o.lanes|=l;var x=o.alternate;x!==null&&(x.lanes|=l),Gh(o.return,l,h)}function yf(o,l,h,x,b){var k=o.memoizedState;k===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:b}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=x,k.tail=h,k.tailMode=b)}function Uy(o,l,h){var x=l.pendingProps,b=x.revealOrder,k=x.tail;if(Nn(o,l,x.children,h),x=It.current,(x&2)!==0)x=x&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Vy(o,h,l);else if(o.tag===19)Vy(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(Ct(It,x),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(h=l.child,b=null;h!==null;)o=h.alternate,o!==null&&Fc(o)===null&&(b=h),h=h.sibling;h=b,h===null?(b=l.child,l.child=null):(b=h.sibling,h.sibling=null),yf(l,!1,b,h,k);break;case"backwards":for(h=null,b=l.child,l.child=null;b!==null;){if(o=b.alternate,o!==null&&Fc(o)===null){l.child=b;break}o=b.sibling,b.sibling=h,h=b,b=o}yf(l,!0,h,null,k);break;case"together":yf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Uc(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function ss(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),mi|=l.lanes,(h&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,h=Bs(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=Bs(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function a5(o,l,h){switch(l.tag){case 3:$y(l),io();break;case 5:sy(l);break;case 1:Tn(l.type)&&Cc(l);break;case 4:Xh(l,l.stateNode.containerInfo);break;case 10:var x=l.type._context,b=l.memoizedProps.value;Ct(Rc,x._currentValue),x._currentValue=b;break;case 13:if(x=l.memoizedState,x!==null)return x.dehydrated!==null?(Ct(It,It.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?Wy(o,l,h):(Ct(It,It.current&1),o=ss(o,l,h),o!==null?o.sibling:null);Ct(It,It.current&1);break;case 19:if(x=(h&l.childLanes)!==0,(o.flags&128)!==0){if(x)return Uy(o,l,h);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Ct(It,It.current),x)break;return null;case 22:case 23:return l.lanes=0,My(o,l,h)}return ss(o,l,h)}var Hy,vf,qy,Gy;Hy=function(o,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},vf=function(){},qy=function(o,l,h,x){var b=o.memoizedProps;if(b!==x){o=l.stateNode,fi($r.current);var k=null;switch(h){case"input":b=nt(o,b),x=nt(o,x),k=[];break;case"select":b=q({},b,{value:void 0}),x=q({},x,{value:void 0}),k=[];break;case"textarea":b=at(o,b),x=at(o,x),k=[];break;default:typeof b.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=Sc)}ct(h,x);var A;h=null;for(ie in b)if(!x.hasOwnProperty(ie)&&b.hasOwnProperty(ie)&&b[ie]!=null)if(ie==="style"){var V=b[ie];for(A in V)V.hasOwnProperty(A)&&(h||(h={}),h[A]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(i.hasOwnProperty(ie)?k||(k=[]):(k=k||[]).push(ie,null));for(ie in x){var Y=x[ie];if(V=b?.[ie],x.hasOwnProperty(ie)&&Y!==V&&(Y!=null||V!=null))if(ie==="style")if(V){for(A in V)!V.hasOwnProperty(A)||Y&&Y.hasOwnProperty(A)||(h||(h={}),h[A]="");for(A in Y)Y.hasOwnProperty(A)&&V[A]!==Y[A]&&(h||(h={}),h[A]=Y[A])}else h||(k||(k=[]),k.push(ie,h)),h=Y;else ie==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,V=V?V.__html:void 0,Y!=null&&V!==Y&&(k=k||[]).push(ie,Y)):ie==="children"?typeof Y!="string"&&typeof Y!="number"||(k=k||[]).push(ie,""+Y):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(ie)?(Y!=null&&ie==="onScroll"&&_t("scroll",o),k||V===Y||(k=[])):(k=k||[]).push(ie,Y))}h&&(k=k||[]).push("style",h);var ie=k;(l.updateQueue=ie)&&(l.flags|=4)}},Gy=function(o,l,h,x){h!==x&&(l.flags|=4)};function Wa(o,l){if(!Dt)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function pn(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,x=0;if(l)for(var b=o.child;b!==null;)h|=b.lanes|b.childLanes,x|=b.subtreeFlags&14680064,x|=b.flags&14680064,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)h|=b.lanes|b.childLanes,x|=b.subtreeFlags,x|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=x,o.childLanes=h,l}function l5(o,l,h){var x=l.pendingProps;switch($h(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(l),null;case 1:return Tn(l.type)&&kc(),pn(l),null;case 3:return x=l.stateNode,co(),At(An),At(hn),Zh(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(Tc(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,yr!==null&&(Tf(yr),yr=null))),vf(o,l),pn(l),null;case 5:Jh(l);var b=fi(Ma.current);if(h=l.type,o!==null&&l.stateNode!=null)qy(o,l,h,x,b),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!x){if(l.stateNode===null)throw Error(n(166));return pn(l),null}if(o=fi($r.current),Tc(l)){x=l.stateNode,h=l.type;var k=l.memoizedProps;switch(x[Br]=l,x[Ra]=k,o=(l.mode&1)!==0,h){case"dialog":_t("cancel",x),_t("close",x);break;case"iframe":case"object":case"embed":_t("load",x);break;case"video":case"audio":for(b=0;b<Aa.length;b++)_t(Aa[b],x);break;case"source":_t("error",x);break;case"img":case"image":case"link":_t("error",x),_t("load",x);break;case"details":_t("toggle",x);break;case"input":We(x,k),_t("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!k.multiple},_t("invalid",x);break;case"textarea":Tt(x,k),_t("invalid",x)}ct(h,k),b=null;for(var A in k)if(k.hasOwnProperty(A)){var V=k[A];A==="children"?typeof V=="string"?x.textContent!==V&&(k.suppressHydrationWarning!==!0&&jc(x.textContent,V,o),b=["children",V]):typeof V=="number"&&x.textContent!==""+V&&(k.suppressHydrationWarning!==!0&&jc(x.textContent,V,o),b=["children",""+V]):i.hasOwnProperty(A)&&V!=null&&A==="onScroll"&&_t("scroll",x)}switch(h){case"input":Ne(x),ye(x,k,!0);break;case"textarea":Ne(x),pt(x);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(x.onclick=Sc)}x=b,l.updateQueue=x,x!==null&&(l.flags|=4)}else{A=b.nodeType===9?b:b.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=lt(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=A.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=A.createElement(h,{is:x.is}):(o=A.createElement(h),h==="select"&&(A=o,x.multiple?A.multiple=!0:x.size&&(A.size=x.size))):o=A.createElementNS(o,h),o[Br]=l,o[Ra]=x,Hy(o,l,!1,!1),l.stateNode=o;e:{switch(A=Sn(h,x),h){case"dialog":_t("cancel",o),_t("close",o),b=x;break;case"iframe":case"object":case"embed":_t("load",o),b=x;break;case"video":case"audio":for(b=0;b<Aa.length;b++)_t(Aa[b],o);b=x;break;case"source":_t("error",o),b=x;break;case"img":case"image":case"link":_t("error",o),_t("load",o),b=x;break;case"details":_t("toggle",o),b=x;break;case"input":We(o,x),b=nt(o,x),_t("invalid",o);break;case"option":b=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},b=q({},x,{value:void 0}),_t("invalid",o);break;case"textarea":Tt(o,x),b=at(o,x),_t("invalid",o);break;default:b=x}ct(h,b),V=b;for(k in V)if(V.hasOwnProperty(k)){var Y=V[k];k==="style"?qt(o,Y):k==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&we(o,Y)):k==="children"?typeof Y=="string"?(h!=="textarea"||Y!=="")&&$e(o,Y):typeof Y=="number"&&$e(o,""+Y):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?Y!=null&&k==="onScroll"&&_t("scroll",o):Y!=null&&C(o,k,Y,A))}switch(h){case"input":Ne(o),ye(o,x,!1);break;case"textarea":Ne(o),pt(o);break;case"option":x.value!=null&&o.setAttribute("value",""+te(x.value));break;case"select":o.multiple=!!x.multiple,k=x.value,k!=null?Qe(o,!!x.multiple,k,!1):x.defaultValue!=null&&Qe(o,!!x.multiple,x.defaultValue,!0);break;default:typeof b.onClick=="function"&&(o.onclick=Sc)}switch(h){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return pn(l),null;case 6:if(o&&l.stateNode!=null)Gy(o,l,o.memoizedProps,x);else{if(typeof x!="string"&&l.stateNode===null)throw Error(n(166));if(h=fi(Ma.current),fi($r.current),Tc(l)){if(x=l.stateNode,h=l.memoizedProps,x[Br]=l,(k=x.nodeValue!==h)&&(o=zn,o!==null))switch(o.tag){case 3:jc(x.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&jc(x.nodeValue,h,(o.mode&1)!==0)}k&&(l.flags|=4)}else x=(h.nodeType===9?h:h.ownerDocument).createTextNode(x),x[Br]=l,l.stateNode=x}return pn(l),null;case 13:if(At(It),x=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Dt&&Wn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Xx(),io(),l.flags|=98560,k=!1;else if(k=Tc(l),x!==null&&x.dehydrated!==null){if(o===null){if(!k)throw Error(n(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[Br]=l}else io(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;pn(l),k=!1}else yr!==null&&(Tf(yr),yr=null),k=!0;if(!k)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(It.current&1)!==0?Qt===0&&(Qt=3):Df())),l.updateQueue!==null&&(l.flags|=4),pn(l),null);case 4:return co(),vf(o,l),o===null&&Ta(l.stateNode.containerInfo),pn(l),null;case 10:return qh(l.type._context),pn(l),null;case 17:return Tn(l.type)&&kc(),pn(l),null;case 19:if(At(It),k=l.memoizedState,k===null)return pn(l),null;if(x=(l.flags&128)!==0,A=k.rendering,A===null)if(x)Wa(k,!1);else{if(Qt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(A=Fc(o),A!==null){for(l.flags|=128,Wa(k,!1),x=A.updateQueue,x!==null&&(l.updateQueue=x,l.flags|=4),l.subtreeFlags=0,x=h,h=l.child;h!==null;)k=h,o=x,k.flags&=14680066,A=k.alternate,A===null?(k.childLanes=0,k.lanes=o,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=A.childLanes,k.lanes=A.lanes,k.child=A.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=A.memoizedProps,k.memoizedState=A.memoizedState,k.updateQueue=A.updateQueue,k.type=A.type,o=A.dependencies,k.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return Ct(It,It.current&1|2),l.child}o=o.sibling}k.tail!==null&&Vt()>po&&(l.flags|=128,x=!0,Wa(k,!1),l.lanes=4194304)}else{if(!x)if(o=Fc(A),o!==null){if(l.flags|=128,x=!0,h=o.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Wa(k,!0),k.tail===null&&k.tailMode==="hidden"&&!A.alternate&&!Dt)return pn(l),null}else 2*Vt()-k.renderingStartTime>po&&h!==1073741824&&(l.flags|=128,x=!0,Wa(k,!1),l.lanes=4194304);k.isBackwards?(A.sibling=l.child,l.child=A):(h=k.last,h!==null?h.sibling=A:l.child=A,k.last=A)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=Vt(),l.sibling=null,h=It.current,Ct(It,x?h&1|2:h&1),l):(pn(l),null);case 22:case 23:return Rf(),x=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(l.flags|=8192),x&&(l.mode&1)!==0?(Vn&1073741824)!==0&&(pn(l),l.subtreeFlags&6&&(l.flags|=8192)):pn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function c5(o,l){switch($h(l),l.tag){case 1:return Tn(l.type)&&kc(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return co(),At(An),At(hn),Zh(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Jh(l),null;case 13:if(At(It),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));io()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return At(It),null;case 4:return co(),null;case 10:return qh(l.type._context),null;case 22:case 23:return Rf(),null;case 24:return null;default:return null}}var Hc=!1,mn=!1,d5=typeof WeakSet=="function"?WeakSet:Set,De=null;function ho(o,l){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(x){zt(o,l,x)}else h.current=null}function wf(o,l,h){try{h()}catch(x){zt(o,l,x)}}var Ky=!1;function u5(o,l){if(Ph=uc,o=Cx(),Sh(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var b=x.anchorOffset,k=x.focusNode;x=x.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var A=0,V=-1,Y=-1,ie=0,ge=0,ve=o,me=null;t:for(;;){for(var Te;ve!==h||b!==0&&ve.nodeType!==3||(V=A+b),ve!==k||x!==0&&ve.nodeType!==3||(Y=A+x),ve.nodeType===3&&(A+=ve.nodeValue.length),(Te=ve.firstChild)!==null;)me=ve,ve=Te;for(;;){if(ve===o)break t;if(me===h&&++ie===b&&(V=A),me===k&&++ge===x&&(Y=A),(Te=ve.nextSibling)!==null)break;ve=me,me=ve.parentNode}ve=Te}h=V===-1||Y===-1?null:{start:V,end:Y}}else h=null}h=h||{start:0,end:0}}else h=null;for(Rh={focusedElem:o,selectionRange:h},uc=!1,De=l;De!==null;)if(l=De,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,De=o;else for(;De!==null;){l=De;try{var Oe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Me=Oe.memoizedProps,Ut=Oe.memoizedState,ne=l.stateNode,J=ne.getSnapshotBeforeUpdate(l.elementType===l.type?Me:vr(l.type,Me),Ut);ne.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var re=l.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(je){zt(l,l.return,je)}if(o=l.sibling,o!==null){o.return=l.return,De=o;break}De=l.return}return Oe=Ky,Ky=!1,Oe}function Va(o,l,h){var x=l.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var b=x=x.next;do{if((b.tag&o)===o){var k=b.destroy;b.destroy=void 0,k!==void 0&&wf(l,h,k)}b=b.next}while(b!==x)}}function qc(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&o)===o){var x=h.create;h.destroy=x()}h=h.next}while(h!==l)}}function bf(o){var l=o.ref;if(l!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof l=="function"?l(o):l.current=o}}function Yy(o){var l=o.alternate;l!==null&&(o.alternate=null,Yy(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Br],delete l[Ra],delete l[Fh],delete l[GE],delete l[KE])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Xy(o){return o.tag===5||o.tag===3||o.tag===4}function Jy(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Xy(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function jf(o,l,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(o,l):h.insertBefore(o,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(o,h)):(l=h,l.appendChild(o)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Sc));else if(x!==4&&(o=o.child,o!==null))for(jf(o,l,h),o=o.sibling;o!==null;)jf(o,l,h),o=o.sibling}function Sf(o,l,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(Sf(o,l,h),o=o.sibling;o!==null;)Sf(o,l,h),o=o.sibling}var an=null,wr=!1;function Os(o,l,h){for(h=h.child;h!==null;)Qy(o,l,h),h=h.sibling}function Qy(o,l,h){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(ic,h)}catch{}switch(h.tag){case 5:mn||ho(h,l);case 6:var x=an,b=wr;an=null,Os(o,l,h),an=x,wr=b,an!==null&&(wr?(o=an,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):an.removeChild(h.stateNode));break;case 18:an!==null&&(wr?(o=an,h=h.stateNode,o.nodeType===8?Ih(o.parentNode,h):o.nodeType===1&&Ih(o,h),ba(o)):Ih(an,h.stateNode));break;case 4:x=an,b=wr,an=h.stateNode.containerInfo,wr=!0,Os(o,l,h),an=x,wr=b;break;case 0:case 11:case 14:case 15:if(!mn&&(x=h.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){b=x=x.next;do{var k=b,A=k.destroy;k=k.tag,A!==void 0&&((k&2)!==0||(k&4)!==0)&&wf(h,l,A),b=b.next}while(b!==x)}Os(o,l,h);break;case 1:if(!mn&&(ho(h,l),x=h.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=h.memoizedProps,x.state=h.memoizedState,x.componentWillUnmount()}catch(V){zt(h,l,V)}Os(o,l,h);break;case 21:Os(o,l,h);break;case 22:h.mode&1?(mn=(x=mn)||h.memoizedState!==null,Os(o,l,h),mn=x):Os(o,l,h);break;default:Os(o,l,h)}}function Zy(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new d5),l.forEach(function(x){var b=w5.bind(null,o,x);h.has(x)||(h.add(x),x.then(b,b))})}}function br(o,l){var h=l.deletions;if(h!==null)for(var x=0;x<h.length;x++){var b=h[x];try{var k=o,A=l,V=A;e:for(;V!==null;){switch(V.tag){case 5:an=V.stateNode,wr=!1;break e;case 3:an=V.stateNode.containerInfo,wr=!0;break e;case 4:an=V.stateNode.containerInfo,wr=!0;break e}V=V.return}if(an===null)throw Error(n(160));Qy(k,A,b),an=null,wr=!1;var Y=b.alternate;Y!==null&&(Y.return=null),b.return=null}catch(ie){zt(b,l,ie)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)ev(l,o),l=l.sibling}function ev(o,l){var h=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(br(l,o),Wr(o),x&4){try{Va(3,o,o.return),qc(3,o)}catch(Me){zt(o,o.return,Me)}try{Va(5,o,o.return)}catch(Me){zt(o,o.return,Me)}}break;case 1:br(l,o),Wr(o),x&512&&h!==null&&ho(h,h.return);break;case 5:if(br(l,o),Wr(o),x&512&&h!==null&&ho(h,h.return),o.flags&32){var b=o.stateNode;try{$e(b,"")}catch(Me){zt(o,o.return,Me)}}if(x&4&&(b=o.stateNode,b!=null)){var k=o.memoizedProps,A=h!==null?h.memoizedProps:k,V=o.type,Y=o.updateQueue;if(o.updateQueue=null,Y!==null)try{V==="input"&&k.type==="radio"&&k.name!=null&&wt(b,k),Sn(V,A);var ie=Sn(V,k);for(A=0;A<Y.length;A+=2){var ge=Y[A],ve=Y[A+1];ge==="style"?qt(b,ve):ge==="dangerouslySetInnerHTML"?we(b,ve):ge==="children"?$e(b,ve):C(b,ge,ve,ie)}switch(V){case"input":fe(b,k);break;case"textarea":Ze(b,k);break;case"select":var me=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!k.multiple;var Te=k.value;Te!=null?Qe(b,!!k.multiple,Te,!1):me!==!!k.multiple&&(k.defaultValue!=null?Qe(b,!!k.multiple,k.defaultValue,!0):Qe(b,!!k.multiple,k.multiple?[]:"",!1))}b[Ra]=k}catch(Me){zt(o,o.return,Me)}}break;case 6:if(br(l,o),Wr(o),x&4){if(o.stateNode===null)throw Error(n(162));b=o.stateNode,k=o.memoizedProps;try{b.nodeValue=k}catch(Me){zt(o,o.return,Me)}}break;case 3:if(br(l,o),Wr(o),x&4&&h!==null&&h.memoizedState.isDehydrated)try{ba(l.containerInfo)}catch(Me){zt(o,o.return,Me)}break;case 4:br(l,o),Wr(o);break;case 13:br(l,o),Wr(o),b=o.child,b.flags&8192&&(k=b.memoizedState!==null,b.stateNode.isHidden=k,!k||b.alternate!==null&&b.alternate.memoizedState!==null||(Cf=Vt())),x&4&&Zy(o);break;case 22:if(ge=h!==null&&h.memoizedState!==null,o.mode&1?(mn=(ie=mn)||ge,br(l,o),mn=ie):br(l,o),Wr(o),x&8192){if(ie=o.memoizedState!==null,(o.stateNode.isHidden=ie)&&!ge&&(o.mode&1)!==0)for(De=o,ge=o.child;ge!==null;){for(ve=De=ge;De!==null;){switch(me=De,Te=me.child,me.tag){case 0:case 11:case 14:case 15:Va(4,me,me.return);break;case 1:ho(me,me.return);var Oe=me.stateNode;if(typeof Oe.componentWillUnmount=="function"){x=me,h=me.return;try{l=x,Oe.props=l.memoizedProps,Oe.state=l.memoizedState,Oe.componentWillUnmount()}catch(Me){zt(x,h,Me)}}break;case 5:ho(me,me.return);break;case 22:if(me.memoizedState!==null){rv(ve);continue}}Te!==null?(Te.return=me,De=Te):rv(ve)}ge=ge.sibling}e:for(ge=null,ve=o;;){if(ve.tag===5){if(ge===null){ge=ve;try{b=ve.stateNode,ie?(k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(V=ve.stateNode,Y=ve.memoizedProps.style,A=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,V.style.display=un("display",A))}catch(Me){zt(o,o.return,Me)}}}else if(ve.tag===6){if(ge===null)try{ve.stateNode.nodeValue=ie?"":ve.memoizedProps}catch(Me){zt(o,o.return,Me)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===o)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===o)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===o)break e;ge===ve&&(ge=null),ve=ve.return}ge===ve&&(ge=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:br(l,o),Wr(o),x&4&&Zy(o);break;case 21:break;default:br(l,o),Wr(o)}}function Wr(o){var l=o.flags;if(l&2){try{e:{for(var h=o.return;h!==null;){if(Xy(h)){var x=h;break e}h=h.return}throw Error(n(160))}switch(x.tag){case 5:var b=x.stateNode;x.flags&32&&($e(b,""),x.flags&=-33);var k=Jy(o);Sf(o,k,b);break;case 3:case 4:var A=x.stateNode.containerInfo,V=Jy(o);jf(o,V,A);break;default:throw Error(n(161))}}catch(Y){zt(o,o.return,Y)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function h5(o,l,h){De=o,tv(o)}function tv(o,l,h){for(var x=(o.mode&1)!==0;De!==null;){var b=De,k=b.child;if(b.tag===22&&x){var A=b.memoizedState!==null||Hc;if(!A){var V=b.alternate,Y=V!==null&&V.memoizedState!==null||mn;V=Hc;var ie=mn;if(Hc=A,(mn=Y)&&!ie)for(De=b;De!==null;)A=De,Y=A.child,A.tag===22&&A.memoizedState!==null?sv(b):Y!==null?(Y.return=A,De=Y):sv(b);for(;k!==null;)De=k,tv(k),k=k.sibling;De=b,Hc=V,mn=ie}nv(o)}else(b.subtreeFlags&8772)!==0&&k!==null?(k.return=b,De=k):nv(o)}}function nv(o){for(;De!==null;){var l=De;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:mn||qc(5,l);break;case 1:var x=l.stateNode;if(l.flags&4&&!mn)if(h===null)x.componentDidMount();else{var b=l.elementType===l.type?h.memoizedProps:vr(l.type,h.memoizedProps);x.componentDidUpdate(b,h.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&ry(l,k,x);break;case 3:var A=l.updateQueue;if(A!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}ry(l,A,h)}break;case 5:var V=l.stateNode;if(h===null&&l.flags&4){h=V;var Y=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&h.focus();break;case"img":Y.src&&(h.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ie=l.alternate;if(ie!==null){var ge=ie.memoizedState;if(ge!==null){var ve=ge.dehydrated;ve!==null&&ba(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}mn||l.flags&512&&bf(l)}catch(me){zt(l,l.return,me)}}if(l===o){De=null;break}if(h=l.sibling,h!==null){h.return=l.return,De=h;break}De=l.return}}function rv(o){for(;De!==null;){var l=De;if(l===o){De=null;break}var h=l.sibling;if(h!==null){h.return=l.return,De=h;break}De=l.return}}function sv(o){for(;De!==null;){var l=De;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{qc(4,l)}catch(Y){zt(l,h,Y)}break;case 1:var x=l.stateNode;if(typeof x.componentDidMount=="function"){var b=l.return;try{x.componentDidMount()}catch(Y){zt(l,b,Y)}}var k=l.return;try{bf(l)}catch(Y){zt(l,k,Y)}break;case 5:var A=l.return;try{bf(l)}catch(Y){zt(l,A,Y)}}}catch(Y){zt(l,l.return,Y)}if(l===o){De=null;break}var V=l.sibling;if(V!==null){V.return=l.return,De=V;break}De=l.return}}var f5=Math.ceil,Gc=_.ReactCurrentDispatcher,Nf=_.ReactCurrentOwner,rr=_.ReactCurrentBatchConfig,ft=0,rn=null,Gt=null,ln=0,Vn=0,fo=As(0),Qt=0,Ua=null,mi=0,Kc=0,kf=0,Ha=null,Rn=null,Cf=0,po=1/0,is=null,Yc=!1,Ef=null,Is=null,Xc=!1,Fs=null,Jc=0,qa=0,_f=null,Qc=-1,Zc=0;function kn(){return(ft&6)!==0?Vt():Qc!==-1?Qc:Qc=Vt()}function Ms(o){return(o.mode&1)===0?1:(ft&2)!==0&&ln!==0?ln&-ln:XE.transition!==null?(Zc===0&&(Zc=J0()),Zc):(o=St,o!==0||(o=window.event,o=o===void 0?16:ox(o.type)),o)}function jr(o,l,h,x){if(50<qa)throw qa=0,_f=null,Error(n(185));ga(o,h,x),((ft&2)===0||o!==rn)&&(o===rn&&((ft&2)===0&&(Kc|=h),Qt===4&&Ls(o,ln)),Dn(o,x),h===1&&ft===0&&(l.mode&1)===0&&(po=Vt()+500,Ec&&Ps()))}function Dn(o,l){var h=o.callbackNode;XC(o,l);var x=lc(o,o===rn?ln:0);if(x===0)h!==null&&K0(h),o.callbackNode=null,o.callbackPriority=0;else if(l=x&-x,o.callbackPriority!==l){if(h!=null&&K0(h),l===1)o.tag===0?YE(ov.bind(null,o)):Hx(ov.bind(null,o)),HE(function(){(ft&6)===0&&Ps()}),h=null;else{switch(Q0(x)){case 1:h=oh;break;case 4:h=Y0;break;case 16:h=sc;break;case 536870912:h=X0;break;default:h=sc}h=pv(h,iv.bind(null,o))}o.callbackPriority=l,o.callbackNode=h}}function iv(o,l){if(Qc=-1,Zc=0,(ft&6)!==0)throw Error(n(327));var h=o.callbackNode;if(mo()&&o.callbackNode!==h)return null;var x=lc(o,o===rn?ln:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||l)l=ed(o,x);else{l=x;var b=ft;ft|=2;var k=lv();(rn!==o||ln!==l)&&(is=null,po=Vt()+500,xi(o,l));do try{g5();break}catch(V){av(o,V)}while(!0);Hh(),Gc.current=k,ft=b,Gt!==null?l=0:(rn=null,ln=0,l=Qt)}if(l!==0){if(l===2&&(b=ah(o),b!==0&&(x=b,l=Af(o,b))),l===1)throw h=Ua,xi(o,0),Ls(o,x),Dn(o,Vt()),h;if(l===6)Ls(o,x);else{if(b=o.current.alternate,(x&30)===0&&!p5(b)&&(l=ed(o,x),l===2&&(k=ah(o),k!==0&&(x=k,l=Af(o,k))),l===1))throw h=Ua,xi(o,0),Ls(o,x),Dn(o,Vt()),h;switch(o.finishedWork=b,o.finishedLanes=x,l){case 0:case 1:throw Error(n(345));case 2:yi(o,Rn,is);break;case 3:if(Ls(o,x),(x&130023424)===x&&(l=Cf+500-Vt(),10<l)){if(lc(o,0)!==0)break;if(b=o.suspendedLanes,(b&x)!==x){kn(),o.pingedLanes|=o.suspendedLanes&b;break}o.timeoutHandle=Oh(yi.bind(null,o,Rn,is),l);break}yi(o,Rn,is);break;case 4:if(Ls(o,x),(x&4194240)===x)break;for(l=o.eventTimes,b=-1;0<x;){var A=31-gr(x);k=1<<A,A=l[A],A>b&&(b=A),x&=~k}if(x=b,x=Vt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*f5(x/1960))-x,10<x){o.timeoutHandle=Oh(yi.bind(null,o,Rn,is),x);break}yi(o,Rn,is);break;case 5:yi(o,Rn,is);break;default:throw Error(n(329))}}}return Dn(o,Vt()),o.callbackNode===h?iv.bind(null,o):null}function Af(o,l){var h=Ha;return o.current.memoizedState.isDehydrated&&(xi(o,l).flags|=256),o=ed(o,l),o!==2&&(l=Rn,Rn=h,l!==null&&Tf(l)),o}function Tf(o){Rn===null?Rn=o:Rn.push.apply(Rn,o)}function p5(o){for(var l=o;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var x=0;x<h.length;x++){var b=h[x],k=b.getSnapshot;b=b.value;try{if(!xr(k(),b))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ls(o,l){for(l&=~kf,l&=~Kc,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var h=31-gr(l),x=1<<h;o[h]=-1,l&=~x}}function ov(o){if((ft&6)!==0)throw Error(n(327));mo();var l=lc(o,0);if((l&1)===0)return Dn(o,Vt()),null;var h=ed(o,l);if(o.tag!==0&&h===2){var x=ah(o);x!==0&&(l=x,h=Af(o,x))}if(h===1)throw h=Ua,xi(o,0),Ls(o,l),Dn(o,Vt()),h;if(h===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,yi(o,Rn,is),Dn(o,Vt()),null}function Pf(o,l){var h=ft;ft|=1;try{return o(l)}finally{ft=h,ft===0&&(po=Vt()+500,Ec&&Ps())}}function gi(o){Fs!==null&&Fs.tag===0&&(ft&6)===0&&mo();var l=ft;ft|=1;var h=rr.transition,x=St;try{if(rr.transition=null,St=1,o)return o()}finally{St=x,rr.transition=h,ft=l,(ft&6)===0&&Ps()}}function Rf(){Vn=fo.current,At(fo)}function xi(o,l){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,UE(h)),Gt!==null)for(h=Gt.return;h!==null;){var x=h;switch($h(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&kc();break;case 3:co(),At(An),At(hn),Zh();break;case 5:Jh(x);break;case 4:co();break;case 13:At(It);break;case 19:At(It);break;case 10:qh(x.type._context);break;case 22:case 23:Rf()}h=h.return}if(rn=o,Gt=o=Bs(o.current,null),ln=Vn=l,Qt=0,Ua=null,kf=Kc=mi=0,Rn=Ha=null,hi!==null){for(l=0;l<hi.length;l++)if(h=hi[l],x=h.interleaved,x!==null){h.interleaved=null;var b=x.next,k=h.pending;if(k!==null){var A=k.next;k.next=b,x.next=A}h.pending=x}hi=null}return o}function av(o,l){do{var h=Gt;try{if(Hh(),Mc.current=zc,Lc){for(var x=Ft.memoizedState;x!==null;){var b=x.queue;b!==null&&(b.pending=null),x=x.next}Lc=!1}if(pi=0,nn=Jt=Ft=null,La=!1,Ba=0,Nf.current=null,h===null||h.return===null){Qt=1,Ua=l,Gt=null;break}e:{var k=o,A=h.return,V=h,Y=l;if(l=ln,V.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ie=Y,ge=V,ve=ge.tag;if((ge.mode&1)===0&&(ve===0||ve===11||ve===15)){var me=ge.alternate;me?(ge.updateQueue=me.updateQueue,ge.memoizedState=me.memoizedState,ge.lanes=me.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var Te=Ry(A);if(Te!==null){Te.flags&=-257,Dy(Te,A,V,k,l),Te.mode&1&&Py(k,ie,l),l=Te,Y=ie;var Oe=l.updateQueue;if(Oe===null){var Me=new Set;Me.add(Y),l.updateQueue=Me}else Oe.add(Y);break e}else{if((l&1)===0){Py(k,ie,l),Df();break e}Y=Error(n(426))}}else if(Dt&&V.mode&1){var Ut=Ry(A);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),Dy(Ut,A,V,k,l),Vh(uo(Y,V));break e}}k=Y=uo(Y,V),Qt!==4&&(Qt=2),Ha===null?Ha=[k]:Ha.push(k),k=A;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var ne=Ay(k,Y,l);ny(k,ne);break e;case 1:V=Y;var J=k.type,re=k.stateNode;if((k.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(Is===null||!Is.has(re)))){k.flags|=65536,l&=-l,k.lanes|=l;var je=Ty(k,V,l);ny(k,je);break e}}k=k.return}while(k!==null)}dv(h)}catch(Le){l=Le,Gt===h&&h!==null&&(Gt=h=h.return);continue}break}while(!0)}function lv(){var o=Gc.current;return Gc.current=zc,o===null?zc:o}function Df(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),rn===null||(mi&268435455)===0&&(Kc&268435455)===0||Ls(rn,ln)}function ed(o,l){var h=ft;ft|=2;var x=lv();(rn!==o||ln!==l)&&(is=null,xi(o,l));do try{m5();break}catch(b){av(o,b)}while(!0);if(Hh(),ft=h,Gc.current=x,Gt!==null)throw Error(n(261));return rn=null,ln=0,Qt}function m5(){for(;Gt!==null;)cv(Gt)}function g5(){for(;Gt!==null&&!zC();)cv(Gt)}function cv(o){var l=fv(o.alternate,o,Vn);o.memoizedProps=o.pendingProps,l===null?dv(o):Gt=l,Nf.current=null}function dv(o){var l=o;do{var h=l.alternate;if(o=l.return,(l.flags&32768)===0){if(h=l5(h,l,Vn),h!==null){Gt=h;return}}else{if(h=c5(h,l),h!==null){h.flags&=32767,Gt=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Qt=6,Gt=null;return}}if(l=l.sibling,l!==null){Gt=l;return}Gt=l=o}while(l!==null);Qt===0&&(Qt=5)}function yi(o,l,h){var x=St,b=rr.transition;try{rr.transition=null,St=1,x5(o,l,h,x)}finally{rr.transition=b,St=x}return null}function x5(o,l,h,x){do mo();while(Fs!==null);if((ft&6)!==0)throw Error(n(327));h=o.finishedWork;var b=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var k=h.lanes|h.childLanes;if(JC(o,k),o===rn&&(Gt=rn=null,ln=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Xc||(Xc=!0,pv(sc,function(){return mo(),null})),k=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||k){k=rr.transition,rr.transition=null;var A=St;St=1;var V=ft;ft|=4,Nf.current=null,u5(o,h),ev(h,o),ME(Rh),uc=!!Ph,Rh=Ph=null,o.current=h,h5(h),WC(),ft=V,St=A,rr.transition=k}else o.current=h;if(Xc&&(Xc=!1,Fs=o,Jc=b),k=o.pendingLanes,k===0&&(Is=null),HC(h.stateNode),Dn(o,Vt()),l!==null)for(x=o.onRecoverableError,h=0;h<l.length;h++)b=l[h],x(b.value,{componentStack:b.stack,digest:b.digest});if(Yc)throw Yc=!1,o=Ef,Ef=null,o;return(Jc&1)!==0&&o.tag!==0&&mo(),k=o.pendingLanes,(k&1)!==0?o===_f?qa++:(qa=0,_f=o):qa=0,Ps(),null}function mo(){if(Fs!==null){var o=Q0(Jc),l=rr.transition,h=St;try{if(rr.transition=null,St=16>o?16:o,Fs===null)var x=!1;else{if(o=Fs,Fs=null,Jc=0,(ft&6)!==0)throw Error(n(331));var b=ft;for(ft|=4,De=o.current;De!==null;){var k=De,A=k.child;if((De.flags&16)!==0){var V=k.deletions;if(V!==null){for(var Y=0;Y<V.length;Y++){var ie=V[Y];for(De=ie;De!==null;){var ge=De;switch(ge.tag){case 0:case 11:case 15:Va(8,ge,k)}var ve=ge.child;if(ve!==null)ve.return=ge,De=ve;else for(;De!==null;){ge=De;var me=ge.sibling,Te=ge.return;if(Yy(ge),ge===ie){De=null;break}if(me!==null){me.return=Te,De=me;break}De=Te}}}var Oe=k.alternate;if(Oe!==null){var Me=Oe.child;if(Me!==null){Oe.child=null;do{var Ut=Me.sibling;Me.sibling=null,Me=Ut}while(Me!==null)}}De=k}}if((k.subtreeFlags&2064)!==0&&A!==null)A.return=k,De=A;else e:for(;De!==null;){if(k=De,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:Va(9,k,k.return)}var ne=k.sibling;if(ne!==null){ne.return=k.return,De=ne;break e}De=k.return}}var J=o.current;for(De=J;De!==null;){A=De;var re=A.child;if((A.subtreeFlags&2064)!==0&&re!==null)re.return=A,De=re;else e:for(A=J;De!==null;){if(V=De,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:qc(9,V)}}catch(Le){zt(V,V.return,Le)}if(V===A){De=null;break e}var je=V.sibling;if(je!==null){je.return=V.return,De=je;break e}De=V.return}}if(ft=b,Ps(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(ic,o)}catch{}x=!0}return x}finally{St=h,rr.transition=l}}return!1}function uv(o,l,h){l=uo(h,l),l=Ay(o,l,1),o=Ds(o,l,1),l=kn(),o!==null&&(ga(o,1,l),Dn(o,l))}function zt(o,l,h){if(o.tag===3)uv(o,o,h);else for(;l!==null;){if(l.tag===3){uv(l,o,h);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Is===null||!Is.has(x))){o=uo(h,o),o=Ty(l,o,1),l=Ds(l,o,1),o=kn(),l!==null&&(ga(l,1,o),Dn(l,o));break}}l=l.return}}function y5(o,l,h){var x=o.pingCache;x!==null&&x.delete(l),l=kn(),o.pingedLanes|=o.suspendedLanes&h,rn===o&&(ln&h)===h&&(Qt===4||Qt===3&&(ln&130023424)===ln&&500>Vt()-Cf?xi(o,0):kf|=h),Dn(o,l)}function hv(o,l){l===0&&((o.mode&1)===0?l=1:(l=ac,ac<<=1,(ac&130023424)===0&&(ac=4194304)));var h=kn();o=ns(o,l),o!==null&&(ga(o,l,h),Dn(o,h))}function v5(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),hv(o,h)}function w5(o,l){var h=0;switch(o.tag){case 13:var x=o.stateNode,b=o.memoizedState;b!==null&&(h=b.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(l),hv(o,h)}var fv;fv=function(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps||An.current)Pn=!0;else{if((o.lanes&h)===0&&(l.flags&128)===0)return Pn=!1,a5(o,l,h);Pn=(o.flags&131072)!==0}else Pn=!1,Dt&&(l.flags&1048576)!==0&&qx(l,Ac,l.index);switch(l.lanes=0,l.tag){case 2:var x=l.type;Uc(o,l),o=l.pendingProps;var b=no(l,hn.current);lo(l,h),b=nf(null,l,x,o,b,h);var k=rf();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Tn(x)?(k=!0,Cc(l)):k=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Yh(l),b.updater=Wc,l.stateNode=b,b._reactInternals=l,df(l,x,o,h),l=pf(null,l,x,!0,k,h)):(l.tag=0,Dt&&k&&Bh(l),Nn(null,l,b,h),l=l.child),l;case 16:x=l.elementType;e:{switch(Uc(o,l),o=l.pendingProps,b=x._init,x=b(x._payload),l.type=x,b=l.tag=j5(x),o=vr(x,o),b){case 0:l=ff(null,l,x,o,h);break e;case 1:l=By(null,l,x,o,h);break e;case 11:l=Oy(null,l,x,o,h);break e;case 14:l=Iy(null,l,x,vr(x.type,o),h);break e}throw Error(n(306,x,""))}return l;case 0:return x=l.type,b=l.pendingProps,b=l.elementType===x?b:vr(x,b),ff(o,l,x,b,h);case 1:return x=l.type,b=l.pendingProps,b=l.elementType===x?b:vr(x,b),By(o,l,x,b,h);case 3:e:{if($y(l),o===null)throw Error(n(387));x=l.pendingProps,k=l.memoizedState,b=k.element,ty(o,l),Ic(l,x,null,h);var A=l.memoizedState;if(x=A.element,k.isDehydrated)if(k={element:x,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){b=uo(Error(n(423)),l),l=zy(o,l,x,h,b);break e}else if(x!==b){b=uo(Error(n(424)),l),l=zy(o,l,x,h,b);break e}else for(Wn=_s(l.stateNode.containerInfo.firstChild),zn=l,Dt=!0,yr=null,h=Zx(l,null,x,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(io(),x===b){l=ss(o,l,h);break e}Nn(o,l,x,h)}l=l.child}return l;case 5:return sy(l),o===null&&Wh(l),x=l.type,b=l.pendingProps,k=o!==null?o.memoizedProps:null,A=b.children,Dh(x,b)?A=null:k!==null&&Dh(x,k)&&(l.flags|=32),Ly(o,l),Nn(o,l,A,h),l.child;case 6:return o===null&&Wh(l),null;case 13:return Wy(o,l,h);case 4:return Xh(l,l.stateNode.containerInfo),x=l.pendingProps,o===null?l.child=oo(l,null,x,h):Nn(o,l,x,h),l.child;case 11:return x=l.type,b=l.pendingProps,b=l.elementType===x?b:vr(x,b),Oy(o,l,x,b,h);case 7:return Nn(o,l,l.pendingProps,h),l.child;case 8:return Nn(o,l,l.pendingProps.children,h),l.child;case 12:return Nn(o,l,l.pendingProps.children,h),l.child;case 10:e:{if(x=l.type._context,b=l.pendingProps,k=l.memoizedProps,A=b.value,Ct(Rc,x._currentValue),x._currentValue=A,k!==null)if(xr(k.value,A)){if(k.children===b.children&&!An.current){l=ss(o,l,h);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var V=k.dependencies;if(V!==null){A=k.child;for(var Y=V.firstContext;Y!==null;){if(Y.context===x){if(k.tag===1){Y=rs(-1,h&-h),Y.tag=2;var ie=k.updateQueue;if(ie!==null){ie=ie.shared;var ge=ie.pending;ge===null?Y.next=Y:(Y.next=ge.next,ge.next=Y),ie.pending=Y}}k.lanes|=h,Y=k.alternate,Y!==null&&(Y.lanes|=h),Gh(k.return,h,l),V.lanes|=h;break}Y=Y.next}}else if(k.tag===10)A=k.type===l.type?null:k.child;else if(k.tag===18){if(A=k.return,A===null)throw Error(n(341));A.lanes|=h,V=A.alternate,V!==null&&(V.lanes|=h),Gh(A,h,l),A=k.sibling}else A=k.child;if(A!==null)A.return=k;else for(A=k;A!==null;){if(A===l){A=null;break}if(k=A.sibling,k!==null){k.return=A.return,A=k;break}A=A.return}k=A}Nn(o,l,b.children,h),l=l.child}return l;case 9:return b=l.type,x=l.pendingProps.children,lo(l,h),b=tr(b),x=x(b),l.flags|=1,Nn(o,l,x,h),l.child;case 14:return x=l.type,b=vr(x,l.pendingProps),b=vr(x.type,b),Iy(o,l,x,b,h);case 15:return Fy(o,l,l.type,l.pendingProps,h);case 17:return x=l.type,b=l.pendingProps,b=l.elementType===x?b:vr(x,b),Uc(o,l),l.tag=1,Tn(x)?(o=!0,Cc(l)):o=!1,lo(l,h),Ey(l,x,b),df(l,x,b,h),pf(null,l,x,!0,o,h);case 19:return Uy(o,l,h);case 22:return My(o,l,h)}throw Error(n(156,l.tag))};function pv(o,l){return bs(o,l)}function b5(o,l,h,x){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(o,l,h,x){return new b5(o,l,h,x)}function Of(o){return o=o.prototype,!(!o||!o.isReactComponent)}function j5(o){if(typeof o=="function")return Of(o)?1:0;if(o!=null){if(o=o.$$typeof,o===ae)return 11;if(o===L)return 14}return 2}function Bs(o,l){var h=o.alternate;return h===null?(h=sr(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function td(o,l,h,x,b,k){var A=2;if(x=o,typeof o=="function")Of(o)&&(A=1);else if(typeof o=="string")A=5;else e:switch(o){case M:return vi(h.children,b,k,l);case F:A=8,b|=8;break;case U:return o=sr(12,h,l,b|2),o.elementType=U,o.lanes=k,o;case oe:return o=sr(13,h,l,b),o.elementType=oe,o.lanes=k,o;case ee:return o=sr(19,h,l,b),o.elementType=ee,o.lanes=k,o;case D:return nd(h,b,k,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case G:A=10;break e;case se:A=9;break e;case ae:A=11;break e;case L:A=14;break e;case $:A=16,x=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=sr(A,h,l,b),l.elementType=o,l.type=x,l.lanes=k,l}function vi(o,l,h,x){return o=sr(7,o,x,l),o.lanes=h,o}function nd(o,l,h,x){return o=sr(22,o,x,l),o.elementType=D,o.lanes=h,o.stateNode={isHidden:!1},o}function If(o,l,h){return o=sr(6,o,null,l),o.lanes=h,o}function Ff(o,l,h){return l=sr(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function S5(o,l,h,x,b){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lh(0),this.expirationTimes=lh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lh(0),this.identifierPrefix=x,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Mf(o,l,h,x,b,k,A,V,Y){return o=new S5(o,l,h,V,Y),l===1?(l=1,k===!0&&(l|=8)):l=0,k=sr(3,null,null,l),o.current=k,k.stateNode=o,k.memoizedState={element:x,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yh(k),o}function N5(o,l,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:x==null?null:""+x,children:o,containerInfo:l,implementation:h}}function mv(o){if(!o)return Ts;o=o._reactInternals;e:{if(Rt(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Tn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var h=o.type;if(Tn(h))return Vx(o,h,l)}return l}function gv(o,l,h,x,b,k,A,V,Y){return o=Mf(h,x,!0,o,b,k,A,V,Y),o.context=mv(null),h=o.current,x=kn(),b=Ms(h),k=rs(x,b),k.callback=l??null,Ds(h,k,b),o.current.lanes=b,ga(o,b,x),Dn(o,x),o}function rd(o,l,h,x){var b=l.current,k=kn(),A=Ms(b);return h=mv(h),l.context===null?l.context=h:l.pendingContext=h,l=rs(k,A),l.payload={element:o},x=x===void 0?null:x,x!==null&&(l.callback=x),o=Ds(b,l,A),o!==null&&(jr(o,b,A,k),Oc(o,b,A)),A}function sd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function xv(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function Lf(o,l){xv(o,l),(o=o.alternate)&&xv(o,l)}function k5(){return null}var yv=typeof reportError=="function"?reportError:function(o){console.error(o)};function Bf(o){this._internalRoot=o}id.prototype.render=Bf.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));rd(o,l,null,null)},id.prototype.unmount=Bf.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;gi(function(){rd(null,o,null,null)}),l[Qr]=null}};function id(o){this._internalRoot=o}id.prototype.unstable_scheduleHydration=function(o){if(o){var l=tx();o={blockedOn:null,target:o,priority:l};for(var h=0;h<ks.length&&l!==0&&l<ks[h].priority;h++);ks.splice(h,0,o),h===0&&sx(o)}};function $f(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function od(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function vv(){}function C5(o,l,h,x,b){if(b){if(typeof x=="function"){var k=x;x=function(){var ie=sd(A);k.call(ie)}}var A=gv(l,x,o,0,null,!1,!1,"",vv);return o._reactRootContainer=A,o[Qr]=A.current,Ta(o.nodeType===8?o.parentNode:o),gi(),A}for(;b=o.lastChild;)o.removeChild(b);if(typeof x=="function"){var V=x;x=function(){var ie=sd(Y);V.call(ie)}}var Y=Mf(o,0,!1,null,null,!1,!1,"",vv);return o._reactRootContainer=Y,o[Qr]=Y.current,Ta(o.nodeType===8?o.parentNode:o),gi(function(){rd(l,Y,h,x)}),Y}function ad(o,l,h,x,b){var k=h._reactRootContainer;if(k){var A=k;if(typeof b=="function"){var V=b;b=function(){var Y=sd(A);V.call(Y)}}rd(l,A,o,b)}else A=C5(h,l,o,b,x);return sd(A)}Z0=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var h=ma(l.pendingLanes);h!==0&&(ch(l,h|1),Dn(l,Vt()),(ft&6)===0&&(po=Vt()+500,Ps()))}break;case 13:gi(function(){var x=ns(o,1);if(x!==null){var b=kn();jr(x,o,1,b)}}),Lf(o,1)}},dh=function(o){if(o.tag===13){var l=ns(o,134217728);if(l!==null){var h=kn();jr(l,o,134217728,h)}Lf(o,134217728)}},ex=function(o){if(o.tag===13){var l=Ms(o),h=ns(o,l);if(h!==null){var x=kn();jr(h,o,l,x)}Lf(o,l)}},tx=function(){return St},nx=function(o,l){var h=St;try{return St=o,l()}finally{St=h}},mr=function(o,l,h){switch(l){case"input":if(fe(o,h),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var x=h[l];if(x!==o&&x.form===o.form){var b=Nc(x);if(!b)throw Error(n(90));ke(x),fe(x,b)}}}break;case"textarea":Ze(o,h);break;case"select":l=h.value,l!=null&&Qe(o,!!h.multiple,l,!1)}},Se=Pf,Pe=gi;var E5={usingClientEntryPoint:!1,Events:[Da,eo,Nc,Re,ce,Pf]},Ga={findFiberByHostInstance:li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_5={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Qn(o),o===null?null:o.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance||k5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{ic=ld.inject(_5),Lr=ld}catch{}}return On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E5,On.createPortal=function(o,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$f(l))throw Error(n(200));return N5(o,l,null,h)},On.createRoot=function(o,l){if(!$f(o))throw Error(n(299));var h=!1,x="",b=yv;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=Mf(o,1,!1,null,null,h,!1,x,b),o[Qr]=l.current,Ta(o.nodeType===8?o.parentNode:o),new Bf(l)},On.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Qn(l),o=o===null?null:o.stateNode,o},On.flushSync=function(o){return gi(o)},On.hydrate=function(o,l,h){if(!od(l))throw Error(n(200));return ad(null,o,l,!0,h)},On.hydrateRoot=function(o,l,h){if(!$f(o))throw Error(n(405));var x=h!=null&&h.hydratedSources||null,b=!1,k="",A=yv;if(h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(k=h.identifierPrefix),h.onRecoverableError!==void 0&&(A=h.onRecoverableError)),l=gv(l,null,o,1,h??null,b,!1,k,A),o[Qr]=l.current,Ta(o),x)for(o=0;o<x.length;o++)h=x[o],b=h._getVersion,b=b(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,b]:l.mutableSourceEagerHydrationData.push(h,b);return new id(l)},On.render=function(o,l,h){if(!od(l))throw Error(n(200));return ad(null,o,l,!1,h)},On.unmountComponentAtNode=function(o){if(!od(o))throw Error(n(40));return o._reactRootContainer?(gi(function(){ad(null,null,o,!1,function(){o._reactRootContainer=null,o[Qr]=null})}),!0):!1},On.unstable_batchedUpdates=Pf,On.unstable_renderSubtreeIntoContainer=function(o,l,h,x){if(!od(h))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return ad(o,l,h,!1,x)},On.version="18.3.1-next-f1338f8080-20240426",On}var Ev;function Z1(){if(Ev)return Vf.exports;Ev=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vf.exports=F5(),Vf.exports}var _v;function M5(){if(_v)return cd;_v=1;var e=Z1();return cd.createRoot=e.createRoot,cd.hydrateRoot=e.hydrateRoot,cd}var L5=M5(),g=Fl();const de=Pu(g),pg=Q1({__proto__:null,default:de},[g]);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Av="popstate";function B5(e={}){function t(r,i){let{pathname:a,search:c,hash:d}=r.location;return rm("",{pathname:a,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vl(i)}return z5(t,n,null,e)}function Bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ar(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $5(){return Math.random().toString(36).substring(2,10)}function Tv(e,t){return{usr:e.state,key:e.key,idx:t}}function rm(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Zo(t):t,state:n,key:t&&t.key||r||$5()}}function vl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Zo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function z5(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,c=i.history,d="POP",u=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function m(){d="POP";let S=p(),N=S==null?null:S-f;f=S,u&&u({action:d,location:j.location,delta:N})}function y(S,N){d="PUSH";let E=rm(j.location,S,N);f=p()+1;let C=Tv(E,f),_=j.createHref(E);try{c.pushState(C,"",_)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(_)}a&&u&&u({action:d,location:j.location,delta:1})}function v(S,N){d="REPLACE";let E=rm(j.location,S,N);f=p();let C=Tv(E,f),_=j.createHref(E);c.replaceState(C,"",_),a&&u&&u({action:d,location:j.location,delta:0})}function w(S){return W5(S)}let j={get action(){return d},get location(){return e(i,c)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Av,m),u=S,()=>{i.removeEventListener(Av,m),u=null}},createHref(S){return t(i,S)},createURL:w,encodeLocation(S){let N=w(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:v,go(S){return c.go(S)}};return j}function W5(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:vl(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function e2(e,t,n="/"){return V5(e,t,n,!1)}function V5(e,t,n,r){let i=typeof t=="string"?Zo(t):t,a=fs(i.pathname||"/",n);if(a==null)return null;let c=t2(e);U5(c);let d=null;for(let u=0;d==null&&u<c.length;++u){let f=t_(a);d=Z5(c[u],f,r)}return d}function t2(e,t=[],n=[],r="",i=!1){let a=(c,d,u=i,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;Bt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=hs([r,p.relativePath]),y=n.concat(p);c.children&&c.children.length>0&&(Bt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),t2(c.children,t,y,m,u)),!(c.path==null&&!c.index)&&t.push({path:m,score:J5(m,c.index),routesMeta:y})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))a(c,d);else for(let u of n2(c.path))a(c,d,!0,u)}),t}function n2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let c=n2(r.join("/")),d=[];return d.push(...c.map(u=>u===""?a:[a,u].join("/"))),i&&d.push(...c),d.map(u=>e.startsWith("/")&&u===""?"/":u)}function U5(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Q5(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var H5=/^:[\w-]+$/,q5=3,G5=2,K5=1,Y5=10,X5=-2,Pv=e=>e==="*";function J5(e,t){let n=e.split("/"),r=n.length;return n.some(Pv)&&(r+=X5),t&&(r+=G5),n.filter(i=>!Pv(i)).reduce((i,a)=>i+(H5.test(a)?q5:a===""?K5:Y5),r)}function Q5(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Z5(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",c=[];for(let d=0;d<r.length;++d){let u=r[d],f=d===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",m=Zd({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),y=u.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=Zd({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),c.push({params:i,pathname:hs([a,m.pathname]),pathnameBase:o_(hs([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=hs([a,m.pathnameBase]))}return c}function Zd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=e_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},y)=>{if(p==="*"){let w=d[y]||"";c=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const v=d[y];return m&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:c,pattern:e}}function e_(e,t=!1,n=!0){Ar(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,u)=>(r.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function t_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ar(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function fs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var n_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r_=e=>n_.test(e);function s_(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Zo(e):e,a;if(n)if(r_(n))a=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Ar(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?a=Rv(n.substring(1),"/"):a=Rv(n,t)}else a=t;return{pathname:a,search:a_(r),hash:l_(i)}}function Rv(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qf(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function r2(e){let t=i_(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function s2(e,t,n,r=!1){let i;typeof e=="string"?i=Zo(e):(i={...e},Bt(!i.pathname||!i.pathname.includes("?"),qf("?","pathname","search",i)),Bt(!i.pathname||!i.pathname.includes("#"),qf("#","pathname","hash",i)),Bt(!i.search||!i.search.includes("#"),qf("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,d;if(c==null)d=n;else{let m=t.length-1;if(!r&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}d=m>=0?t[m]:"/"}let u=s_(i,d),f=c&&c!=="/"&&c.endsWith("/"),p=(a||c===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}var hs=e=>e.join("/").replace(/\/\/+/g,"/"),o_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),a_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,l_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function c_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var i2=["POST","PUT","PATCH","DELETE"];new Set(i2);var d_=["GET",...i2];new Set(d_);var ea=g.createContext(null);ea.displayName="DataRouter";var Ru=g.createContext(null);Ru.displayName="DataRouterState";g.createContext(!1);var o2=g.createContext({isTransitioning:!1});o2.displayName="ViewTransition";var u_=g.createContext(new Map);u_.displayName="Fetchers";var h_=g.createContext(null);h_.displayName="Await";var Xr=g.createContext(null);Xr.displayName="Navigation";var Ml=g.createContext(null);Ml.displayName="Location";var ws=g.createContext({outlet:null,matches:[],isDataRoute:!1});ws.displayName="Route";var mg=g.createContext(null);mg.displayName="RouteError";function f_(e,{relative:t}={}){Bt(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=g.useContext(Xr),{hash:i,pathname:a,search:c}=Bl(e,{relative:t}),d=a;return n!=="/"&&(d=a==="/"?n:hs([n,a])),r.createHref({pathname:d,search:c,hash:i})}function Ll(){return g.useContext(Ml)!=null}function Zs(){return Bt(Ll(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Ml).location}var a2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function l2(e){g.useContext(Xr).static||g.useLayoutEffect(e)}function c2(){let{isDataRoute:e}=g.useContext(ws);return e?C_():p_()}function p_(){Bt(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(ea),{basename:t,navigator:n}=g.useContext(Xr),{matches:r}=g.useContext(ws),{pathname:i}=Zs(),a=JSON.stringify(r2(r)),c=g.useRef(!1);return l2(()=>{c.current=!0}),g.useCallback((u,f={})=>{if(Ar(c.current,a2),!c.current)return;if(typeof u=="number"){n.go(u);return}let p=s2(u,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:hs([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,a,i,e])}g.createContext(null);function Bl(e,{relative:t}={}){let{matches:n}=g.useContext(ws),{pathname:r}=Zs(),i=JSON.stringify(r2(n));return g.useMemo(()=>s2(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function m_(e,t){return d2(e,t)}function d2(e,t,n,r,i){Bt(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=g.useContext(Xr),{matches:c}=g.useContext(ws),d=c[c.length-1],u=d?d.params:{},f=d?d.pathname:"/",p=d?d.pathnameBase:"/",m=d&&d.route;{let E=m&&m.path||"";u2(f,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=Zs(),v;if(t){let E=typeof t=="string"?Zo(t):t;Bt(p==="/"||E.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=y;let w=v.pathname||"/",j=w;if(p!=="/"){let E=p.replace(/^\//,"").split("/");j="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=e2(e,{pathname:j});Ar(m||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ar(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=w_(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:hs([p,a.encodeLocation?a.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:hs([p,a.encodeLocation?a.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),c,n,r,i);return t&&N?g.createElement(Ml.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},N):N}function g_(){let e=k_(),t=c_(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:a},"ErrorBoundary")," or"," ",g.createElement("code",{style:a},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:i},n):null,c)}var x_=g.createElement(g_,null),y_=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?g.createElement(ws.Provider,{value:this.props.routeContext},g.createElement(mg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function v_({routeContext:e,match:t,children:n}){let r=g.useContext(ea);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(ws.Provider,{value:e},n)}function w_(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,c=n?.errors;if(c!=null){let p=a.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);Bt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let d=!1,u=-1;if(n)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=p),m.route.id){let{loaderData:y,errors:v}=n,w=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||w){d=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let f=n&&r?(p,m)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:m})}:void 0;return a.reduceRight((p,m,y)=>{let v,w=!1,j=null,S=null;n&&(v=c&&m.route.id?c[m.route.id]:void 0,j=m.route.errorElement||x_,d&&(u<0&&y===0?(u2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):u===y&&(w=!0,S=m.route.hydrateFallbackElement||null)));let N=t.concat(a.slice(0,y+1)),E=()=>{let C;return v?C=j:w?C=S:m.route.Component?C=g.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=p,g.createElement(v_,{match:m,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?g.createElement(y_,{location:n.location,revalidation:n.revalidation,component:j,error:v,children:E(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:f}):E()},null)}function gg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b_(e){let t=g.useContext(ea);return Bt(t,gg(e)),t}function j_(e){let t=g.useContext(Ru);return Bt(t,gg(e)),t}function S_(e){let t=g.useContext(ws);return Bt(t,gg(e)),t}function xg(e){let t=S_(e),n=t.matches[t.matches.length-1];return Bt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function N_(){return xg("useRouteId")}function k_(){let e=g.useContext(mg),t=j_("useRouteError"),n=xg("useRouteError");return e!==void 0?e:t.errors?.[n]}function C_(){let{router:e}=b_("useNavigate"),t=xg("useNavigate"),n=g.useRef(!1);return l2(()=>{n.current=!0}),g.useCallback(async(i,a={})=>{Ar(n.current,a2),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var Dv={};function u2(e,t,n){!t&&!Dv[e]&&(Dv[e]=!0,Ar(!1,n))}g.memo(E_);function E_({routes:e,future:t,state:n,unstable_onError:r}){return d2(e,void 0,n,r,t)}function Ao(e){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function __({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Bt(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:i,static:a,future:{}}),[c,i,a]);typeof n=="string"&&(n=Zo(n));let{pathname:u="/",search:f="",hash:p="",state:m=null,key:y="default"}=n,v=g.useMemo(()=>{let w=fs(u,c);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:y},navigationType:r}},[c,u,f,p,m,y,r]);return Ar(v!=null,`<Router basename="${c}"> is not able to match the URL "${u}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:g.createElement(Xr.Provider,{value:d},g.createElement(Ml.Provider,{children:t,value:v}))}function A_({children:e,location:t}){return m_(sm(e),t)}function sm(e,t=[]){let n=[];return g.Children.forEach(e,(r,i)=>{if(!g.isValidElement(r))return;let a=[...t,i];if(r.type===g.Fragment){n.push.apply(n,sm(r.props.children,a));return}Bt(r.type===Ao,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=sm(r.props.children,a)),n.push(c)}),n}var $d="get",zd="application/x-www-form-urlencoded";function Du(e){return e!=null&&typeof e.tagName=="string"}function T_(e){return Du(e)&&e.tagName.toLowerCase()==="button"}function P_(e){return Du(e)&&e.tagName.toLowerCase()==="form"}function R_(e){return Du(e)&&e.tagName.toLowerCase()==="input"}function D_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function O_(e,t){return e.button===0&&(!t||t==="_self")&&!D_(e)}var dd=null;function I_(){if(dd===null)try{new FormData(document.createElement("form"),0),dd=!1}catch{dd=!0}return dd}var F_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gf(e){return e!=null&&!F_.has(e)?(Ar(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zd}"`),null):e}function M_(e,t){let n,r,i,a,c;if(P_(e)){let d=e.getAttribute("action");r=d?fs(d,t):null,n=e.getAttribute("method")||$d,i=Gf(e.getAttribute("enctype"))||zd,a=new FormData(e)}else if(T_(e)||R_(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||d.getAttribute("action");if(r=u?fs(u,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||$d,i=Gf(e.getAttribute("formenctype"))||Gf(d.getAttribute("enctype"))||zd,a=new FormData(d,e),!I_()){let{name:f,type:p,value:m}=e;if(p==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,m)}}else{if(Du(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$d,r=null,i=zd,c=e}return a&&i==="text/plain"&&(c=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function L_(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&fs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function B_(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $_(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function z_(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let c=await B_(a,n);return c.links?c.links():[]}return[]}));return H_(r.flat(1).filter($_).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Ov(e,t,n,r,i,a){let c=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,d=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,f)=>c(u,f)||d(u,f)):a==="data"?t.filter((u,f)=>{let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(c(u,f)||d(u,f))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function W_(e,t,{includeHydrateFallback:n}={}){return V_(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function V_(e){return[...new Set(e)]}function U_(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function H_(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(U_(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function h2(){let e=g.useContext(ea);return yg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function q_(){let e=g.useContext(Ru);return yg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var vg=g.createContext(void 0);vg.displayName="FrameworkContext";function f2(){let e=g.useContext(vg);return yg(e,"You must render this element inside a <HydratedRouter> element"),e}function G_(e,t){let n=g.useContext(vg),[r,i]=g.useState(!1),[a,c]=g.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=t,y=g.useRef(null);g.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=N=>{N.forEach(E=>{c(E.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),g.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let v=()=>{i(!0)},w=()=>{i(!1),c(!1)};return n?e!=="intent"?[a,y,{}]:[a,y,{onFocus:Ya(d,v),onBlur:Ya(u,w),onMouseEnter:Ya(f,v),onMouseLeave:Ya(p,w),onTouchStart:Ya(m,v)}]:[!1,y,{}]}function Ya(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function K_({page:e,...t}){let{router:n}=h2(),r=g.useMemo(()=>e2(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?g.createElement(X_,{page:e,matches:r,...t}):null}function Y_(e){let{manifest:t,routeModules:n}=f2(),[r,i]=g.useState([]);return g.useEffect(()=>{let a=!1;return z_(e,t,n).then(c=>{a||i(c)}),()=>{a=!0}},[e,t,n]),r}function X_({page:e,matches:t,...n}){let r=Zs(),{manifest:i,routeModules:a}=f2(),{basename:c}=h2(),{loaderData:d,matches:u}=q_(),f=g.useMemo(()=>Ov(e,t,u,i,r,"data"),[e,t,u,i,r]),p=g.useMemo(()=>Ov(e,t,u,i,r,"assets"),[e,t,u,i,r]),m=g.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,j=!1;if(t.forEach(N=>{let E=i.routes[N.route.id];!E||!E.hasLoader||(!f.some(C=>C.route.id===N.route.id)&&N.route.id in d&&a[N.route.id]?.shouldRevalidate||E.hasClientLoader?j=!0:w.add(N.route.id))}),w.size===0)return[];let S=L_(e,c,"data");return j&&w.size>0&&S.searchParams.set("_routes",t.filter(N=>w.has(N.route.id)).map(N=>N.route.id).join(",")),[S.pathname+S.search]},[c,d,r,i,f,t,e,a]),y=g.useMemo(()=>W_(p,i),[p,i]),v=Y_(p);return g.createElement(g.Fragment,null,m.map(w=>g.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),y.map(w=>g.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),v.map(({key:w,link:j})=>g.createElement("link",{key:w,nonce:n.nonce,...j})))}function J_(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var p2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p2&&(window.__reactRouterVersion="7.9.6")}catch{}function Q_({basename:e,children:t,window:n}){let r=g.useRef();r.current==null&&(r.current=B5({window:n,v5Compat:!0}));let i=r.current,[a,c]=g.useState({action:i.action,location:i.location}),d=g.useCallback(u=>{g.startTransition(()=>c(u))},[c]);return g.useLayoutEffect(()=>i.listen(d),[i,d]),g.createElement(__,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var m2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g2=g.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:c,state:d,target:u,to:f,preventScrollReset:p,viewTransition:m,...y},v){let{basename:w}=g.useContext(Xr),j=typeof f=="string"&&m2.test(f),S,N=!1;if(typeof f=="string"&&j&&(S=f,p2))try{let U=new URL(window.location.href),G=f.startsWith("//")?new URL(U.protocol+f):new URL(f),se=fs(G.pathname,w);G.origin===U.origin&&se!=null?f=se+G.search+G.hash:N=!0}catch{Ar(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=f_(f,{relative:i}),[C,_,T]=G_(r,y),I=nA(f,{replace:c,state:d,target:u,preventScrollReset:p,relative:i,viewTransition:m});function M(U){t&&t(U),U.defaultPrevented||I(U)}let F=g.createElement("a",{...y,...T,href:S||E,onClick:N||a?t:M,ref:J_(v,_),target:u,"data-discover":!j&&n==="render"?"true":void 0});return C&&!j?g.createElement(g.Fragment,null,F,g.createElement(K_,{page:E})):F});g2.displayName="Link";var Z_=g.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:c,viewTransition:d,children:u,...f},p){let m=Bl(c,{relative:f.relative}),y=Zs(),v=g.useContext(Ru),{navigator:w,basename:j}=g.useContext(Xr),S=v!=null&&aA(m)&&d===!0,N=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,E=y.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(E=E.toLowerCase(),C=C?C.toLowerCase():null,N=N.toLowerCase()),C&&j&&(C=fs(C,j)||C);const _=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=E===N||!i&&E.startsWith(N)&&E.charAt(_)==="/",I=C!=null&&(C===N||!i&&C.startsWith(N)&&C.charAt(N.length)==="/"),M={isActive:T,isPending:I,isTransitioning:S},F=T?t:void 0,U;typeof r=="function"?U=r(M):U=[r,T?"active":null,I?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let G=typeof a=="function"?a(M):a;return g.createElement(g2,{...f,"aria-current":F,className:U,ref:p,style:G,to:c,viewTransition:d},typeof u=="function"?u(M):u)});Z_.displayName="NavLink";var eA=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:c=$d,action:d,onSubmit:u,relative:f,preventScrollReset:p,viewTransition:m,...y},v)=>{let w=iA(),j=oA(d,{relative:f}),S=c.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&m2.test(d),E=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let _=C.nativeEvent.submitter,T=_?.getAttribute("formmethod")||c;w(_||C.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:i,state:a,relative:f,preventScrollReset:p,viewTransition:m})};return g.createElement("form",{ref:v,method:S,action:j,onSubmit:r?u:E,...y,"data-discover":!N&&e==="render"?"true":void 0})});eA.displayName="Form";function tA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x2(e){let t=g.useContext(ea);return Bt(t,tA(e)),t}function nA(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:c}={}){let d=c2(),u=Zs(),f=Bl(e,{relative:a});return g.useCallback(p=>{if(O_(p,t)){p.preventDefault();let m=n!==void 0?n:vl(u)===vl(f);d(e,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:c})}},[u,d,f,n,r,t,e,i,a,c])}var rA=0,sA=()=>`__${String(++rA)}__`;function iA(){let{router:e}=x2("useSubmit"),{basename:t}=g.useContext(Xr),n=N_();return g.useCallback(async(r,i={})=>{let{action:a,method:c,encType:d,formData:u,body:f}=M_(r,t);if(i.navigate===!1){let p=i.fetcherKey||sA();await e.fetch(p,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function oA(e,{relative:t}={}){let{basename:n}=g.useContext(Xr),r=g.useContext(ws);Bt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Bl(e||".",{relative:t})},c=Zs();if(e==null){a.search=c.search;let d=new URLSearchParams(a.search),u=d.getAll("index");if(u.some(p=>p==="")){d.delete("index"),u.filter(m=>m).forEach(m=>d.append("index",m));let p=d.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:hs([n,a.pathname])),vl(a)}function aA(e,{relative:t}={}){let n=g.useContext(o2);Bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=x2("useViewTransitionState"),i=Bl(e,{relative:t});if(!n.isTransitioning)return!1;let a=fs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=fs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zd(i.pathname,c)!=null||Zd(i.pathname,a)!=null}var _r=Z1();const y2=Pu(_r),wg=g.createContext({});function bg(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const jg=typeof window<"u",v2=jg?g.useLayoutEffect:g.useEffect,Ou=g.createContext(null);function Sg(e,t){e.indexOf(t)===-1&&e.push(t)}function Ng(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ps=(e,t,n)=>n>t?t:n<e?e:n;let kg=()=>{};const ms={},w2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function b2(e){return typeof e=="object"&&e!==null}const j2=e=>/^0[^.\s]+$/u.test(e);function Cg(e){let t;return()=>(t===void 0&&(t=e()),t)}const fr=e=>e,lA=(e,t)=>n=>t(e(n)),$l=(...e)=>e.reduce(lA),wl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Eg{constructor(){this.subscriptions=[]}add(t){return Sg(this.subscriptions,t),()=>Ng(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const c=this.subscriptions[a];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qr=e=>e*1e3,dr=e=>e/1e3;function S2(e,t){return t?e*(1e3/t):0}const N2=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,cA=1e-7,dA=12;function uA(e,t,n,r,i){let a,c,d=0;do c=t+(n-t)/2,a=N2(c,r,i)-e,a>0?n=c:t=c;while(Math.abs(a)>cA&&++d<dA);return c}function zl(e,t,n,r){if(e===t&&n===r)return fr;const i=a=>uA(a,0,1,e,n);return a=>a===0||a===1?a:N2(i(a),t,r)}const k2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,C2=e=>t=>1-e(1-t),E2=zl(.33,1.53,.69,.99),_g=C2(E2),_2=k2(_g),A2=e=>(e*=2)<1?.5*_g(e):.5*(2-Math.pow(2,-10*(e-1))),Ag=e=>1-Math.sin(Math.acos(e)),T2=C2(Ag),P2=k2(Ag),hA=zl(.42,0,1,1),fA=zl(0,0,.58,1),R2=zl(.42,0,.58,1),pA=e=>Array.isArray(e)&&typeof e[0]!="number",D2=e=>Array.isArray(e)&&typeof e[0]=="number",mA={linear:fr,easeIn:hA,easeInOut:R2,easeOut:fA,circIn:Ag,circInOut:P2,circOut:T2,backIn:_g,backInOut:_2,backOut:E2,anticipate:A2},gA=e=>typeof e=="string",Iv=e=>{if(D2(e)){kg(e.length===4);const[t,n,r,i]=e;return zl(t,n,r,i)}else if(gA(e))return mA[e];return e},ud=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xA(e,t){let n=new Set,r=new Set,i=!1,a=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function u(p){c.has(p)&&(f.schedule(p),e()),p(d)}const f={schedule:(p,m=!1,y=!1)=>{const w=y&&i?n:r;return m&&c.add(p),w.has(p)||w.add(p),p},cancel:p=>{r.delete(p),c.delete(p)},process:p=>{if(d=p,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,a&&(a=!1,f.process(p))}};return f}const yA=40;function O2(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,c=ud.reduce((C,_)=>(C[_]=xA(a),C),{}),{setup:d,read:u,resolveKeyframes:f,preUpdate:p,update:m,preRender:y,render:v,postRender:w}=c,j=()=>{const C=ms.useManualTiming?i.timestamp:performance.now();n=!1,ms.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(C-i.timestamp,yA),1)),i.timestamp=C,i.isProcessing=!0,d.process(i),u.process(i),f.process(i),p.process(i),m.process(i),y.process(i),v.process(i),w.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(j))},S=()=>{n=!0,r=!0,i.isProcessing||e(j)};return{schedule:ud.reduce((C,_)=>{const T=c[_];return C[_]=(I,M=!1,F=!1)=>(n||S(),T.schedule(I,M,F)),C},{}),cancel:C=>{for(let _=0;_<ud.length;_++)c[ud[_]].cancel(C)},state:i,steps:c}}const{schedule:Ot,cancel:Ks,state:dn,steps:Kf}=O2(typeof requestAnimationFrame<"u"?requestAnimationFrame:fr,!0);let Wd;function vA(){Wd=void 0}const Fn={now:()=>(Wd===void 0&&Fn.set(dn.isProcessing||ms.useManualTiming?dn.timestamp:performance.now()),Wd),set:e=>{Wd=e,queueMicrotask(vA)}},I2=e=>t=>typeof t=="string"&&t.startsWith(e),Tg=I2("--"),wA=I2("var(--"),Pg=e=>wA(e)?bA.test(e.split("/*")[0].trim()):!1,bA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ta={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},bl={...ta,transform:e=>ps(0,1,e)},hd={...ta,default:1},al=e=>Math.round(e*1e5)/1e5,Rg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jA(e){return e==null}const SA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dg=(e,t)=>n=>!!(typeof n=="string"&&SA.test(n)&&n.startsWith(e)||t&&!jA(n)&&Object.prototype.hasOwnProperty.call(n,t)),F2=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,c,d]=r.match(Rg);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},NA=e=>ps(0,255,e),Yf={...ta,transform:e=>Math.round(NA(e))},Di={test:Dg("rgb","red"),parse:F2("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Yf.transform(e)+", "+Yf.transform(t)+", "+Yf.transform(n)+", "+al(bl.transform(r))+")"};function kA(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const im={test:Dg("#"),parse:kA,transform:Di.transform},Wl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Vs=Wl("deg"),Gr=Wl("%"),Ye=Wl("px"),CA=Wl("vh"),EA=Wl("vw"),Fv={...Gr,parse:e=>Gr.parse(e)/100,transform:e=>Gr.transform(e*100)},Do={test:Dg("hsl","hue"),parse:F2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Gr.transform(al(t))+", "+Gr.transform(al(n))+", "+al(bl.transform(r))+")"},Yt={test:e=>Di.test(e)||im.test(e)||Do.test(e),parse:e=>Di.test(e)?Di.parse(e):Do.test(e)?Do.parse(e):im.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Di.transform(e):Do.transform(e),getAnimatableNone:e=>{const t=Yt.parse(e);return t.alpha=0,Yt.transform(t)}},_A=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AA(e){return isNaN(e)&&typeof e=="string"&&(e.match(Rg)?.length||0)+(e.match(_A)?.length||0)>0}const M2="number",L2="color",TA="var",PA="var(",Mv="${}",RA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jl(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const d=t.replace(RA,u=>(Yt.test(u)?(r.color.push(a),i.push(L2),n.push(Yt.parse(u))):u.startsWith(PA)?(r.var.push(a),i.push(TA),n.push(u)):(r.number.push(a),i.push(M2),n.push(parseFloat(u))),++a,Mv)).split(Mv);return{values:n,split:d,indexes:r,types:i}}function B2(e){return jl(e).values}function $2(e){const{split:t,types:n}=jl(e),r=t.length;return i=>{let a="";for(let c=0;c<r;c++)if(a+=t[c],i[c]!==void 0){const d=n[c];d===M2?a+=al(i[c]):d===L2?a+=Yt.transform(i[c]):a+=i[c]}return a}}const DA=e=>typeof e=="number"?0:Yt.test(e)?Yt.getAnimatableNone(e):e;function OA(e){const t=B2(e);return $2(e)(t.map(DA))}const Ys={test:AA,parse:B2,createTransformer:$2,getAnimatableNone:OA};function Xf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function IA({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,c=0;if(!t)i=a=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,u=2*n-d;i=Xf(u,d,e+1/3),a=Xf(u,d,e),c=Xf(u,d,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:r}}function eu(e,t){return n=>n>0?t:e}const Lt=(e,t,n)=>e+(t-e)*n,Jf=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},FA=[im,Di,Do],MA=e=>FA.find(t=>t.test(e));function Lv(e){const t=MA(e);if(!t)return!1;let n=t.parse(e);return t===Do&&(n=IA(n)),n}const Bv=(e,t)=>{const n=Lv(e),r=Lv(t);if(!n||!r)return eu(e,t);const i={...n};return a=>(i.red=Jf(n.red,r.red,a),i.green=Jf(n.green,r.green,a),i.blue=Jf(n.blue,r.blue,a),i.alpha=Lt(n.alpha,r.alpha,a),Di.transform(i))},om=new Set(["none","hidden"]);function LA(e,t){return om.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function BA(e,t){return n=>Lt(e,t,n)}function Og(e){return typeof e=="number"?BA:typeof e=="string"?Pg(e)?eu:Yt.test(e)?Bv:WA:Array.isArray(e)?z2:typeof e=="object"?Yt.test(e)?Bv:$A:eu}function z2(e,t){const n=[...e],r=n.length,i=e.map((a,c)=>Og(a)(a,t[c]));return a=>{for(let c=0;c<r;c++)n[c]=i[c](a);return n}}function $A(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Og(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function zA(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],c=e.indexes[a][r[a]],d=e.values[c]??0;n[i]=d,r[a]++}return n}const WA=(e,t)=>{const n=Ys.createTransformer(t),r=jl(e),i=jl(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?om.has(e)&&!i.values.length||om.has(t)&&!r.values.length?LA(e,t):$l(z2(zA(r,i),i.values),n):eu(e,t)};function W2(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Lt(e,t,n):Og(e)(e,t)}const VA=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ot.update(t,n),stop:()=>Ks(t),now:()=>dn.isProcessing?dn.timestamp:Fn.now()}},V2=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},tu=2e4;function Ig(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<tu;)t+=n,r=e.next(t);return t>=tu?1/0:t}function UA(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(Ig(r),tu);return{type:"keyframes",ease:a=>r.next(i*a).value/t,duration:dr(i)}}const HA=5;function U2(e,t,n){const r=Math.max(t-HA,0);return S2(n-e(r),t-r)}const Wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qf=.001;function qA({duration:e=Wt.duration,bounce:t=Wt.bounce,velocity:n=Wt.velocity,mass:r=Wt.mass}){let i,a,c=1-t;c=ps(Wt.minDamping,Wt.maxDamping,c),e=ps(Wt.minDuration,Wt.maxDuration,dr(e)),c<1?(i=f=>{const p=f*c,m=p*e,y=p-n,v=am(f,c),w=Math.exp(-m);return Qf-y/v*w},a=f=>{const m=f*c*e,y=m*n+n,v=Math.pow(c,2)*Math.pow(f,2)*e,w=Math.exp(-m),j=am(Math.pow(f,2),c);return(-i(f)+Qf>0?-1:1)*((y-v)*w)/j}):(i=f=>{const p=Math.exp(-f*e),m=(f-n)*e+1;return-Qf+p*m},a=f=>{const p=Math.exp(-f*e),m=(n-f)*(e*e);return p*m});const d=5/e,u=KA(i,a,d);if(e=qr(e),isNaN(u))return{stiffness:Wt.stiffness,damping:Wt.damping,duration:e};{const f=Math.pow(u,2)*r;return{stiffness:f,damping:c*2*Math.sqrt(r*f),duration:e}}}const GA=12;function KA(e,t,n){let r=n;for(let i=1;i<GA;i++)r=r-e(r)/t(r);return r}function am(e,t){return e*Math.sqrt(1-t*t)}const YA=["duration","bounce"],XA=["stiffness","damping","mass"];function $v(e,t){return t.some(n=>e[n]!==void 0)}function JA(e){let t={velocity:Wt.velocity,stiffness:Wt.stiffness,damping:Wt.damping,mass:Wt.mass,isResolvedFromDuration:!1,...e};if(!$v(e,XA)&&$v(e,YA))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*ps(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Wt.mass,stiffness:i,damping:a}}else{const n=qA(e);t={...t,...n,mass:Wt.mass},t.isResolvedFromDuration=!0}return t}function nu(e=Wt.visualDuration,t=Wt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:u,damping:f,mass:p,duration:m,velocity:y,isResolvedFromDuration:v}=JA({...n,velocity:-dr(n.velocity||0)}),w=y||0,j=f/(2*Math.sqrt(u*p)),S=c-a,N=dr(Math.sqrt(u/p)),E=Math.abs(S)<5;r||(r=E?Wt.restSpeed.granular:Wt.restSpeed.default),i||(i=E?Wt.restDelta.granular:Wt.restDelta.default);let C;if(j<1){const T=am(N,j);C=I=>{const M=Math.exp(-j*N*I);return c-M*((w+j*N*S)/T*Math.sin(T*I)+S*Math.cos(T*I))}}else if(j===1)C=T=>c-Math.exp(-N*T)*(S+(w+N*S)*T);else{const T=N*Math.sqrt(j*j-1);C=I=>{const M=Math.exp(-j*N*I),F=Math.min(T*I,300);return c-M*((w+j*N*S)*Math.sinh(F)+T*S*Math.cosh(F))/T}}const _={calculatedDuration:v&&m||null,next:T=>{const I=C(T);if(v)d.done=T>=m;else{let M=T===0?w:0;j<1&&(M=T===0?qr(w):U2(C,T,I));const F=Math.abs(M)<=r,U=Math.abs(c-I)<=i;d.done=F&&U}return d.value=d.done?c:I,d},toString:()=>{const T=Math.min(Ig(_),tu),I=V2(M=>_.next(T*M).value,T,30);return T+"ms "+I},toTransition:()=>{}};return _}nu.applyToOptions=e=>{const t=UA(e,100,nu);return e.ease=t.ease,e.duration=qr(t.duration),e.type="keyframes",e};function lm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:c,min:d,max:u,restDelta:f=.5,restSpeed:p}){const m=e[0],y={done:!1,value:m},v=F=>d!==void 0&&F<d||u!==void 0&&F>u,w=F=>d===void 0?u:u===void 0||Math.abs(d-F)<Math.abs(u-F)?d:u;let j=n*t;const S=m+j,N=c===void 0?S:c(S);N!==S&&(j=N-m);const E=F=>-j*Math.exp(-F/r),C=F=>N+E(F),_=F=>{const U=E(F),G=C(F);y.done=Math.abs(U)<=f,y.value=y.done?N:G};let T,I;const M=F=>{v(y.value)&&(T=F,I=nu({keyframes:[y.value,w(y.value)],velocity:U2(C,F,y.value),damping:i,stiffness:a,restDelta:f,restSpeed:p}))};return M(0),{calculatedDuration:null,next:F=>{let U=!1;return!I&&T===void 0&&(U=!0,_(F),M(F)),T!==void 0&&F>=T?I.next(F-T):(!U&&_(F),y)}}}function QA(e,t,n){const r=[],i=n||ms.mix||W2,a=e.length-1;for(let c=0;c<a;c++){let d=i(e[c],e[c+1]);if(t){const u=Array.isArray(t)?t[c]||fr:t;d=$l(u,d)}r.push(d)}return r}function ZA(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(kg(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=QA(t,r,i),u=d.length,f=p=>{if(c&&p<e[0])return t[0];let m=0;if(u>1)for(;m<e.length-2&&!(p<e[m+1]);m++);const y=wl(e[m],e[m+1],p);return d[m](y)};return n?p=>f(ps(e[0],e[a-1],p)):f}function eT(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=wl(0,t,r);e.push(Lt(n,1,i))}}function tT(e){const t=[0];return eT(t,e.length-1),t}function nT(e,t){return e.map(n=>n*t)}function rT(e,t){return e.map(()=>t||R2).splice(0,e.length-1)}function ll({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=pA(r)?r.map(Iv):Iv(r),a={done:!1,value:t[0]},c=nT(n&&n.length===t.length?n:tT(t),e),d=ZA(c,t,{ease:Array.isArray(i)?i:rT(t,i)});return{calculatedDuration:e,next:u=>(a.value=d(u),a.done=u>=e,a)}}const sT=e=>e!==null;function Fg(e,{repeat:t,repeatType:n="loop"},r,i=1){const a=e.filter(sT),d=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!d||r===void 0?a[d]:r}const iT={decay:lm,inertia:lm,tween:ll,keyframes:ll,spring:nu};function H2(e){typeof e.type=="string"&&(e.type=iT[e.type])}class Mg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const oT=e=>e/100;class Lg extends Mg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Fn.now()&&this.tick(Fn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;H2(t);const{type:n=ll,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:c=0}=t;let{keyframes:d}=t;const u=n||ll;u!==ll&&typeof d[0]!="number"&&(this.mixKeyframes=$l(oT,W2(d[0],d[1])),d=[0,100]);const f=u({...t,keyframes:d});a==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...d].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=Ig(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:p,repeat:m,repeatType:y,repeatDelay:v,type:w,onUpdate:j,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const N=this.currentTime-f*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?N<0:N>i;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let C=this.currentTime,_=r;if(m){const F=Math.min(this.currentTime,i)/d;let U=Math.floor(F),G=F%1;!G&&F>=1&&(G=1),G===1&&U--,U=Math.min(U,m+1),!!(U%2)&&(y==="reverse"?(G=1-G,v&&(G-=v/d)):y==="mirror"&&(_=c)),C=ps(0,1,G)*d}const T=E?{done:!1,value:p[0]}:_.next(C);a&&(T.value=a(T.value));let{done:I}=T;!E&&u!==null&&(I=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return M&&w!==lm&&(T.value=Fg(p,this.options,S,this.speed)),j&&j(T.value),M&&this.finish(),T}then(t,n){return this.finished.then(t,n)}get duration(){return dr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dr(t)}get time(){return dr(this.currentTime)}set time(t){t=qr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Fn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=dr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=VA,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function aT(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Oi=e=>e*180/Math.PI,cm=e=>{const t=Oi(Math.atan2(e[1],e[0]));return dm(t)},lT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:cm,rotateZ:cm,skewX:e=>Oi(Math.atan(e[1])),skewY:e=>Oi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},dm=e=>(e=e%360,e<0&&(e+=360),e),zv=cm,Wv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Vv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),cT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Wv,scaleY:Vv,scale:e=>(Wv(e)+Vv(e))/2,rotateX:e=>dm(Oi(Math.atan2(e[6],e[5]))),rotateY:e=>dm(Oi(Math.atan2(-e[2],e[0]))),rotateZ:zv,rotate:zv,skewX:e=>Oi(Math.atan(e[4])),skewY:e=>Oi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function um(e){return e.includes("scale")?1:0}function hm(e,t){if(!e||e==="none")return um(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=cT,i=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=lT,i=d}if(!i)return um(t);const a=r[t],c=i[1].split(",").map(uT);return typeof a=="function"?a(c):c[a]}const dT=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return hm(n,t)};function uT(e){return parseFloat(e.trim())}const na=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ra=new Set(na),Uv=e=>e===ta||e===Ye,hT=new Set(["x","y","z"]),fT=na.filter(e=>!hT.has(e));function pT(e){const t=[];return fT.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Fi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>hm(t,"x"),y:(e,{transform:t})=>hm(t,"y")};Fi.translateX=Fi.x;Fi.translateY=Fi.y;const Mi=new Set;let fm=!1,pm=!1,mm=!1;function q2(){if(pm){const e=Array.from(Mi).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=pT(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,c])=>{r.getValue(a)?.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pm=!1,fm=!1,Mi.forEach(e=>e.complete(mm)),Mi.clear()}function G2(){Mi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(pm=!0)})}function mT(){mm=!0,G2(),q2(),mm=!1}class Bg{constructor(t,n,r,i,a,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Mi.add(this),fm||(fm=!0,Ot.read(G2),Ot.resolveKeyframes(q2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const a=i?.get(),c=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const d=r.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),i&&a===void 0&&i.set(t[0])}aT(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Mi.delete(this)}cancel(){this.state==="scheduled"&&(Mi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gT=e=>e.startsWith("--");function xT(e,t,n){gT(t)?e.style.setProperty(t,n):e.style[t]=n}const yT=Cg(()=>window.ScrollTimeline!==void 0),vT={};function wT(e,t){const n=Cg(e);return()=>vT[t]??n()}const K2=wT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Hv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nl([0,.65,.55,1]),circOut:nl([.55,0,1,.45]),backIn:nl([.31,.01,.66,-.59]),backOut:nl([.33,1.53,.69,.99])};function Y2(e,t){if(e)return typeof e=="function"?K2()?V2(e,t):"ease-out":D2(e)?nl(e):Array.isArray(e)?e.map(n=>Y2(n,t)||Hv.easeOut):Hv[e]}function bT(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:c="loop",ease:d="easeOut",times:u}={},f=void 0){const p={[t]:n};u&&(p.offset=u);const m=Y2(d,i);Array.isArray(m)&&(p.easing=m);const y={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"};return f&&(y.pseudoElement=f),e.animate(p,y)}function X2(e){return typeof e=="function"&&"applyToOptions"in e}function jT({type:e,...t}){return X2(e)&&K2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ST extends Mg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:c=!1,finalKeyframe:d,onComplete:u}=t;this.isPseudoElement=!!a,this.allowFlatten=c,this.options=t,kg(typeof t.type!="string");const f=jT(t);this.animation=bT(n,r,i,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=Fg(i,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):xT(n,r,p),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return dr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dr(t)}get time(){return dr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=qr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&yT()?(this.animation.timeline=t,fr):n(this)}}const J2={anticipate:A2,backInOut:_2,circInOut:P2};function NT(e){return e in J2}function kT(e){typeof e.ease=="string"&&NT(e.ease)&&(e.ease=J2[e.ease])}const qv=10;class CT extends ST{constructor(t){kT(t),H2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Lg({...c,autoplay:!1}),u=qr(this.finishedTime??this.time);n.setWithVelocity(d.sample(u-qv).value,d.sample(u).value,qv),d.stop()}}const Gv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ys.test(e)||e==="0")&&!e.startsWith("url("));function ET(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function _T(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],c=Gv(i,t),d=Gv(a,t);return!c||!d?!1:ET(e)||(n==="spring"||X2(n))&&r}function gm(e){e.duration=0,e.type="keyframes"}const AT=new Set(["opacity","clipPath","filter","transform"]),TT=Cg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function PT(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=t.owner.getProps();return TT()&&n&&AT.has(n)&&(n!=="transform"||!f)&&!u&&!r&&i!=="mirror"&&a!==0&&c!=="inertia"}const RT=40;class DT extends Mg{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:c="loop",keyframes:d,name:u,motionValue:f,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Fn.now();const y={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:c,name:u,motionValue:f,element:p,...m},v=p?.KeyframeResolver||Bg;this.keyframeResolver=new v(d,(w,j,S)=>this.onKeyframesResolved(w,j,y,!S),u,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:a,type:c,velocity:d,delay:u,isHandoff:f,onUpdate:p}=r;this.resolvedAt=Fn.now(),_T(t,a,c,d)||((ms.instantAnimations||!u)&&p?.(Fg(t,r,n)),t[0]=t[t.length-1],gm(r),r.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>RT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},v=!f&&PT(y)?new CT({...y,element:y.motionValue.owner.current}):new Lg(y);v.finished.then(()=>this.notifyFinished()).catch(fr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),mT()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const OT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function IT(e){const t=OT.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Q2(e,t,n=1){const[r,i]=IT(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const c=a.trim();return w2(c)?parseFloat(c):c}return Pg(i)?Q2(i,t,n+1):i}function $g(e,t){return e?.[t]??e?.default??e}const Z2=new Set(["width","height","top","left","right","bottom",...na]),FT={test:e=>e==="auto",parse:e=>e},ej=e=>t=>t.test(e),tj=[ta,Ye,Gr,Vs,EA,CA,FT],Kv=e=>tj.find(ej(e));function MT(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||j2(e):!0}const LT=new Set(["brightness","contrast","saturate","opacity"]);function BT(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Rg)||[];if(!r)return e;const i=n.replace(r,"");let a=LT.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const $T=/\b([a-z-]*)\(.*?\)/gu,xm={...Ys,getAnimatableNone:e=>{const t=e.match($T);return t?t.map(BT).join(" "):e}},Yv={...ta,transform:Math.round},zT={rotate:Vs,rotateX:Vs,rotateY:Vs,rotateZ:Vs,scale:hd,scaleX:hd,scaleY:hd,scaleZ:hd,skew:Vs,skewX:Vs,skewY:Vs,distance:Ye,translateX:Ye,translateY:Ye,translateZ:Ye,x:Ye,y:Ye,z:Ye,perspective:Ye,transformPerspective:Ye,opacity:bl,originX:Fv,originY:Fv,originZ:Ye},zg={borderWidth:Ye,borderTopWidth:Ye,borderRightWidth:Ye,borderBottomWidth:Ye,borderLeftWidth:Ye,borderRadius:Ye,radius:Ye,borderTopLeftRadius:Ye,borderTopRightRadius:Ye,borderBottomRightRadius:Ye,borderBottomLeftRadius:Ye,width:Ye,maxWidth:Ye,height:Ye,maxHeight:Ye,top:Ye,right:Ye,bottom:Ye,left:Ye,padding:Ye,paddingTop:Ye,paddingRight:Ye,paddingBottom:Ye,paddingLeft:Ye,margin:Ye,marginTop:Ye,marginRight:Ye,marginBottom:Ye,marginLeft:Ye,backgroundPositionX:Ye,backgroundPositionY:Ye,...zT,zIndex:Yv,fillOpacity:bl,strokeOpacity:bl,numOctaves:Yv},WT={...zg,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:xm,WebkitFilter:xm},nj=e=>WT[e];function rj(e,t){let n=nj(e);return n!==xm&&(n=Ys),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const VT=new Set(["auto","none","0"]);function UT(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!VT.has(a)&&jl(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=rj(n,i)}class HT extends Bg{constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let f=t[u];if(typeof f=="string"&&(f=f.trim(),Pg(f))){const p=Q2(f,n.current);p!==void 0&&(t[u]=p),u===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!Z2.has(r)||t.length!==2)return;const[i,a]=t,c=Kv(i),d=Kv(a);if(c!==d)if(Uv(c)&&Uv(d))for(let u=0;u<t.length;u++){const f=t[u];typeof f=="string"&&(t[u]=parseFloat(f))}else Fi[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||MT(t[i]))&&r.push(i);r.length&&UT(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,c=r[a];r[a]=Fi[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,u])=>{t.getValue(d).set(u)}),this.resolveNoneKeyframes()}}function qT(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const sj=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ij(e){return b2(e)&&"offsetHeight"in e}const Xv=30,GT=e=>!isNaN(parseFloat(e));class KT{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Fn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Fn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=GT(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Eg);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Xv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Xv);return S2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ho(e,t){return new KT(e,t)}const{schedule:Wg}=O2(queueMicrotask,!1),kr={x:!1,y:!1};function oj(){return kr.x||kr.y}function YT(e){return e==="x"||e==="y"?kr[e]?null:(kr[e]=!0,()=>{kr[e]=!1}):kr.x||kr.y?null:(kr.x=kr.y=!0,()=>{kr.x=kr.y=!1})}function aj(e,t){const n=qT(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Jv(e){return!(e.pointerType==="touch"||oj())}function XT(e,t,n={}){const[r,i,a]=aj(e,n),c=d=>{if(!Jv(d))return;const{target:u}=d,f=t(u,d);if(typeof f!="function"||!u)return;const p=m=>{Jv(m)&&(f(m),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,i)};return r.forEach(d=>{d.addEventListener("pointerenter",c,i)}),a}const lj=(e,t)=>t?e===t?!0:lj(e,t.parentElement):!1,Vg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,JT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function QT(e){return JT.has(e.tagName)||e.tabIndex!==-1}const Vd=new WeakSet;function Qv(e){return t=>{t.key==="Enter"&&e(t)}}function Zf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ZT=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Qv(()=>{if(Vd.has(n))return;Zf(n,"down");const i=Qv(()=>{Zf(n,"up")}),a=()=>Zf(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Zv(e){return Vg(e)&&!oj()}function e4(e,t,n={}){const[r,i,a]=aj(e,n),c=d=>{const u=d.currentTarget;if(!Zv(d))return;Vd.add(u);const f=t(u,d),p=(v,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),Vd.has(u)&&Vd.delete(u),Zv(v)&&typeof f=="function"&&f(v,{success:w})},m=v=>{p(v,u===window||u===document||n.useGlobalTarget||lj(u,v.target))},y=v=>{p(v,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",y,i)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),ij(d)&&(d.addEventListener("focus",f=>ZT(f,i)),!QT(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function cj(e){return b2(e)&&"ownerSVGElement"in e}function t4(e){return cj(e)&&e.tagName==="svg"}const wn=e=>!!(e&&e.getVelocity),n4=[...tj,Yt,Ys],r4=e=>n4.find(ej(e)),Ug=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ew(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function s4(...e){return t=>{let n=!1;const r=e.map(i=>{const a=ew(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():ew(e[i],null)}}}}function i4(...e){return g.useCallback(s4(...e),e)}class o4 extends g.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=ij(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function a4({children:e,isPresent:t,anchorX:n,root:r}){const i=g.useId(),a=g.useRef(null),c=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=g.useContext(Ug),u=i4(a,e?.ref);return g.useInsertionEffect(()=>{const{width:f,height:p,top:m,left:y,right:v}=c.current;if(t||!a.current||!f||!p)return;const w=n==="left"?`left: ${y}`:`right: ${v}`;a.current.dataset.motionPopId=i;const j=document.createElement("style");d&&(j.nonce=d);const S=r??document.head;return S.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${w}px !important;
            top: ${m}px !important;
          }
        `),()=>{S.contains(j)&&S.removeChild(j)}},[t]),s.jsx(o4,{isPresent:t,childRef:a,sizeRef:c,children:g.cloneElement(e,{ref:u})})}const l4=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:c,anchorX:d,root:u})=>{const f=bg(c4),p=g.useId();let m=!0,y=g.useMemo(()=>(m=!1,{id:p,initial:t,isPresent:n,custom:i,onExitComplete:v=>{f.set(v,!0);for(const w of f.values())if(!w)return;r&&r()},register:v=>(f.set(v,!1),()=>f.delete(v))}),[n,f,r]);return a&&m&&(y={...y}),g.useMemo(()=>{f.forEach((v,w)=>f.set(w,!1))},[n]),g.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),c==="popLayout"&&(e=s.jsx(a4,{isPresent:n,anchorX:d,root:u,children:e})),s.jsx(Ou.Provider,{value:y,children:e})};function c4(){return new Map}function dj(e=!0){const t=g.useContext(Ou);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=g.useId();g.useEffect(()=>{if(e)return i(a)},[e]);const c=g.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,c]:[!0]}const fd=e=>e.key||"";function tw(e){const t=[];return g.Children.forEach(e,n=>{g.isValidElement(n)&&t.push(n)}),t}const ut=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:c=!1,anchorX:d="left",root:u})=>{const[f,p]=dj(c),m=g.useMemo(()=>tw(e),[e]),y=c&&!f?[]:m.map(fd),v=g.useRef(!0),w=g.useRef(m),j=bg(()=>new Map),[S,N]=g.useState(m),[E,C]=g.useState(m);v2(()=>{v.current=!1,w.current=m;for(let I=0;I<E.length;I++){const M=fd(E[I]);y.includes(M)?j.delete(M):j.get(M)!==!0&&j.set(M,!1)}},[E,y.length,y.join("-")]);const _=[];if(m!==S){let I=[...m];for(let M=0;M<E.length;M++){const F=E[M],U=fd(F);y.includes(U)||(I.splice(M,0,F),_.push(F))}return a==="wait"&&_.length&&(I=_),C(tw(I)),N(m),null}const{forceRender:T}=g.useContext(wg);return s.jsx(s.Fragment,{children:E.map(I=>{const M=fd(I),F=c&&!f?!1:m===E||y.includes(M),U=()=>{if(j.has(M))j.set(M,!0);else return;let G=!0;j.forEach(se=>{se||(G=!1)}),G&&(T?.(),C(w.current),c&&p?.(),r&&r())};return s.jsx(l4,{isPresent:F,initial:!v.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:u,onExitComplete:F?void 0:U,anchorX:d,children:I},M)})})},uj=g.createContext({strict:!1}),nw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qo={};for(const e in nw)qo[e]={isEnabled:t=>nw[e].some(n=>!!t[n])};function d4(e){for(const t in e)qo[t]={...qo[t],...e[t]}}const u4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ru(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||u4.has(e)}let hj=e=>!ru(e);function h4(e){typeof e=="function"&&(hj=t=>t.startsWith("on")?!ru(t):e(t))}try{h4(require("@emotion/is-prop-valid").default)}catch{}function f4(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(hj(i)||n===!0&&ru(i)||!t&&!ru(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const Iu=g.createContext({});function Fu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Sl(e){return typeof e=="string"||Array.isArray(e)}const Hg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qg=["initial",...Hg];function Mu(e){return Fu(e.animate)||qg.some(t=>Sl(e[t]))}function fj(e){return!!(Mu(e)||e.variants)}function p4(e,t){if(Mu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Sl(n)?n:void 0,animate:Sl(r)?r:void 0}}return e.inherit!==!1?t:{}}function m4(e){const{initial:t,animate:n}=p4(e,g.useContext(Iu));return g.useMemo(()=>({initial:t,animate:n}),[rw(t),rw(n)])}function rw(e){return Array.isArray(e)?e.join(" "):e}const Nl={};function g4(e){for(const t in e)Nl[t]=e[t],Tg(t)&&(Nl[t].isCSSVariable=!0)}function pj(e,{layout:t,layoutId:n}){return ra.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Nl[e]||e==="opacity")}const x4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},y4=na.length;function v4(e,t,n){let r="",i=!0;for(let a=0;a<y4;a++){const c=na[a],d=e[c];if(d===void 0)continue;let u=!0;if(typeof d=="number"?u=d===(c.startsWith("scale")?1:0):u=parseFloat(d)===0,!u||n){const f=sj(d,zg[c]);if(!u){i=!1;const p=x4[c]||c;r+=`${p}(${f}) `}n&&(t[c]=f)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Gg(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let c=!1,d=!1;for(const u in t){const f=t[u];if(ra.has(u)){c=!0;continue}else if(Tg(u)){i[u]=f;continue}else{const p=sj(f,zg[u]);u.startsWith("origin")?(d=!0,a[u]=p):r[u]=p}}if(t.transform||(c||n?r.transform=v4(t,e.transform,n):r.transform&&(r.transform="none")),d){const{originX:u="50%",originY:f="50%",originZ:p=0}=a;r.transformOrigin=`${u} ${f} ${p}`}}const Kg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mj(e,t,n){for(const r in t)!wn(t[r])&&!pj(r,n)&&(e[r]=t[r])}function w4({transformTemplate:e},t){return g.useMemo(()=>{const n=Kg();return Gg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function b4(e,t){const n=e.style||{},r={};return mj(r,n,e),Object.assign(r,w4(e,t)),r}function j4(e,t){const n={},r=b4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const S4={offset:"stroke-dashoffset",array:"stroke-dasharray"},N4={offset:"strokeDashoffset",array:"strokeDasharray"};function k4(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?S4:N4;e[a.offset]=Ye.transform(-r);const c=Ye.transform(t),d=Ye.transform(n);e[a.array]=`${c} ${d}`}function gj(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:c=0,...d},u,f,p){if(Gg(e,d,f),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:y}=e;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&k4(m,i,a,c,!1)}const xj=()=>({...Kg(),attrs:{}}),yj=e=>typeof e=="string"&&e.toLowerCase()==="svg";function C4(e,t,n,r){const i=g.useMemo(()=>{const a=xj();return gj(a,t,yj(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};mj(a,e.style,e),i.style={...a,...i.style}}return i}const E4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yg(e){return typeof e!="string"||e.includes("-")?!1:!!(E4.indexOf(e)>-1||/[A-Z]/u.test(e))}function _4(e,t,n,{latestValues:r},i,a=!1){const d=(Yg(e)?C4:j4)(t,r,i,e),u=f4(t,typeof e=="string",a),f=e!==g.Fragment?{...u,...d,ref:n}:{},{children:p}=t,m=g.useMemo(()=>wn(p)?p.get():p,[p]);return g.createElement(e,{...f,children:m})}function sw(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Xg(e,t,n,r){if(typeof t=="function"){const[i,a]=sw(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=sw(r);t=t(n!==void 0?n:e.custom,i,a)}return t}function Ud(e){return wn(e)?e.get():e}function A4({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:T4(n,r,i,e),renderState:t()}}function T4(e,t,n,r){const i={},a=r(e,{});for(const y in a)i[y]=Ud(a[y]);let{initial:c,animate:d}=e;const u=Mu(e),f=fj(e);t&&f&&!u&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const m=p?d:c;if(m&&typeof m!="boolean"&&!Fu(m)){const y=Array.isArray(m)?m:[m];for(let v=0;v<y.length;v++){const w=Xg(e,y[v]);if(w){const{transitionEnd:j,transition:S,...N}=w;for(const E in N){let C=N[E];if(Array.isArray(C)){const _=p?C.length-1:0;C=C[_]}C!==null&&(i[E]=C)}for(const E in j)i[E]=j[E]}}}return i}const vj=e=>(t,n)=>{const r=g.useContext(Iu),i=g.useContext(Ou),a=()=>A4(e,t,r,i);return n?a():bg(a)};function Jg(e,t,n){const{style:r}=e,i={};for(const a in r)(wn(r[a])||t.style&&wn(t.style[a])||pj(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const P4=vj({scrapeMotionValuesFromProps:Jg,createRenderState:Kg});function wj(e,t,n){const r=Jg(e,t,n);for(const i in e)if(wn(e[i])||wn(t[i])){const a=na.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}const R4=vj({scrapeMotionValuesFromProps:wj,createRenderState:xj}),D4=Symbol.for("motionComponentSymbol");function Oo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function O4(e,t,n){return g.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Oo(n)&&(n.current=r))},[t])}const Qg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),I4="framerAppearId",bj="data-"+Qg(I4),jj=g.createContext({});function F4(e,t,n,r,i){const{visualElement:a}=g.useContext(Iu),c=g.useContext(uj),d=g.useContext(Ou),u=g.useContext(Ug).reducedMotion,f=g.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const p=f.current,m=g.useContext(jj);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&M4(f.current,n,i,m);const y=g.useRef(!1);g.useInsertionEffect(()=>{p&&y.current&&p.update(n,d)});const v=n[bj],w=g.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return v2(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),w.current&&p.animationState&&p.animationState.animateChanges())}),g.useEffect(()=>{p&&(!w.current&&p.animationState&&p.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),w.current=!1),p.enteringChildren=void 0)}),p}function M4(e,t,n,r){const{layoutId:i,layout:a,drag:c,dragConstraints:d,layoutScroll:u,layoutRoot:f,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Sj(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!c||d&&Oo(d),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:u,layoutRoot:f})}function Sj(e){if(e)return e.options.allowProjection!==!1?e.projection:Sj(e.parent)}function ep(e,{forwardMotionProps:t=!1}={},n,r){n&&d4(n);const i=Yg(e)?R4:P4;function a(d,u){let f;const p={...g.useContext(Ug),...d,layoutId:L4(d)},{isStatic:m}=p,y=m4(d),v=i(d,m);if(!m&&jg){B4();const w=$4(p);f=w.MeasureLayout,y.visualElement=F4(e,v,p,r,w.ProjectionNode)}return s.jsxs(Iu.Provider,{value:y,children:[f&&y.visualElement?s.jsx(f,{visualElement:y.visualElement,...p}):null,_4(e,d,O4(v,y.visualElement,u),v,m,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=g.forwardRef(a);return c[D4]=e,c}function L4({layoutId:e}){const t=g.useContext(wg).id;return t&&e!==void 0?t+"-"+e:e}function B4(e,t){g.useContext(uj).strict}function $4(e){const{drag:t,layout:n}=qo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function z4(e,t){if(typeof Proxy>"u")return ep;const n=new Map,r=(a,c)=>ep(a,c,e,t),i=(a,c)=>r(a,c);return new Proxy(i,{get:(a,c)=>c==="create"?r:(n.has(c)||n.set(c,ep(c,void 0,e,t)),n.get(c))})}function Nj({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function W4({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function V4(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function tp(e){return e===void 0||e===1}function ym({scale:e,scaleX:t,scaleY:n}){return!tp(e)||!tp(t)||!tp(n)}function Ni(e){return ym(e)||kj(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function kj(e){return iw(e.x)||iw(e.y)}function iw(e){return e&&e!=="0%"}function su(e,t,n){const r=e-n,i=t*r;return n+i}function ow(e,t,n,r,i){return i!==void 0&&(e=su(e,i,r)),su(e,n,r)+t}function vm(e,t=0,n=1,r,i){e.min=ow(e.min,t,n,r,i),e.max=ow(e.max,t,n,r,i)}function Cj(e,{x:t,y:n}){vm(e.x,t.translate,t.scale,t.originPoint),vm(e.y,n.translate,n.scale,n.originPoint)}const aw=.999999999999,lw=1.0000000000001;function U4(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,c;for(let d=0;d<i;d++){a=n[d],c=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Fo(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Cj(e,c)),r&&Ni(a.latestValues)&&Fo(e,a.latestValues))}t.x<lw&&t.x>aw&&(t.x=1),t.y<lw&&t.y>aw&&(t.y=1)}function Io(e,t){e.min=e.min+t,e.max=e.max+t}function cw(e,t,n,r,i=.5){const a=Lt(e.min,e.max,i);vm(e,t,n,a,r)}function Fo(e,t){cw(e.x,t.x,t.scaleX,t.scale,t.originX),cw(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ej(e,t){return Nj(V4(e.getBoundingClientRect(),t))}function H4(e,t,n){const r=Ej(e,n),{scroll:i}=t;return i&&(Io(r.x,i.offset.x),Io(r.y,i.offset.y)),r}const dw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mo=()=>({x:dw(),y:dw()}),uw=()=>({min:0,max:0}),Ht=()=>({x:uw(),y:uw()}),wm={current:null},_j={current:!1};function q4(){if(_j.current=!0,!!jg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wm.current=e.matches;e.addEventListener("change",t),t()}else wm.current=!1}const G4=new WeakMap;function K4(e,t,n){for(const r in t){const i=t[r],a=n[r];if(wn(i))e.addValue(r,i);else if(wn(a))e.addValue(r,Ho(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=e.getStaticValue(r);e.addValue(r,Ho(c!==void 0?c:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const hw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Y4{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Fn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Ot.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=c;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Mu(n),this.isVariantNode=fj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const v=m[y];u[y]!==void 0&&wn(v)&&v.set(u[y])}}mount(t){this.current=t,G4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),_j.current||q4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ks(this.notifyUpdate),Ks(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ra.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ot.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in qo){const n=qo[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ht()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<hw.length;r++){const i=hw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,c=t[a];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=K4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ho(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(w2(r)||j2(r))?r=parseFloat(r):!r4(r)&&Ys.test(n)&&(r=rj(t,n)),this.setBaseTarget(t,wn(r)?r.get():r)),wn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Xg(this.props,n,this.presenceContext?.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!wn(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Eg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Wg.render(this.render)}}class Aj extends Y4{constructor(){super(...arguments),this.KeyframeResolver=HT}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Tj(e,{style:t,vars:n},r,i){const a=e.style;let c;for(c in t)a[c]=t[c];i?.applyProjectionStyles(a,r);for(c in n)a.setProperty(c,n[c])}function X4(e){return window.getComputedStyle(e)}class J4 extends Aj{constructor(){super(...arguments),this.type="html",this.renderInstance=Tj}readValueFromInstance(t,n){if(ra.has(n))return this.projection?.isProjecting?um(n):dT(t,n);{const r=X4(t),i=(Tg(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ej(t,n)}build(t,n,r){Gg(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Jg(t,n,r)}}const Pj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Q4(e,t,n,r){Tj(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Pj.has(i)?i:Qg(i),t.attrs[i])}class Z4 extends Aj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ht}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ra.has(n)){const r=nj(n);return r&&r.default||0}return n=Pj.has(n)?n:Qg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return wj(t,n,r)}build(t,n,r){gj(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){Q4(t,n,r,i)}mount(t){this.isSVGTag=yj(t.tagName),super.mount(t)}}const e3=(e,t)=>Yg(e)?new Z4(t):new J4(t,{allowProjection:e!==g.Fragment});function Lo(e,t,n){const r=e.getProps();return Xg(r,t,n!==void 0?n:r.custom,e)}const bm=e=>Array.isArray(e);function t3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ho(n))}function n3(e){return bm(e)?e[e.length-1]||0:e}function r3(e,t){const n=Lo(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const c in a){const d=n3(a[c]);t3(e,c,d)}}function s3(e){return!!(wn(e)&&e.add)}function jm(e,t){const n=e.getValue("willChange");if(s3(n))return n.add(t);if(!n&&ms.WillChange){const r=new ms.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Rj(e){return e.props[bj]}const i3=e=>e!==null;function o3(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(i3),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}const a3={type:"spring",stiffness:500,damping:25,restSpeed:10},l3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),c3={type:"keyframes",duration:.8},d3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},u3=(e,{keyframes:t})=>t.length>2?c3:ra.has(e)?e.startsWith("scale")?l3(t[1]):a3:d3;function h3({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:c,repeatDelay:d,from:u,elapsed:f,...p}){return!!Object.keys(p).length}const Zg=(e,t,n,r={},i,a)=>c=>{const d=$g(r,e)||{},u=d.delay||r.delay||0;let{elapsed:f=0}=r;f=f-qr(u);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-f,onUpdate:y=>{t.set(y),d.onUpdate&&d.onUpdate(y)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:a?void 0:i};h3(d)||Object.assign(p,u3(e,p)),p.duration&&(p.duration=qr(p.duration)),p.repeatDelay&&(p.repeatDelay=qr(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(gm(p),p.delay===0&&(m=!0)),(ms.instantAnimations||ms.skipAnimations)&&(m=!0,gm(p),p.delay=0),p.allowFlatten=!d.type&&!d.ease,m&&!a&&t.get()!==void 0){const y=o3(p.keyframes,d);if(y!==void 0){Ot.update(()=>{p.onUpdate(y),p.onComplete()});return}}return d.isSync?new Lg(p):new DT(p)};function f3({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Dj(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(a=r);const u=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const p in d){const m=e.getValue(p,e.latestValues[p]??null),y=d[p];if(y===void 0||f&&f3(f,p))continue;const v={delay:n,...$g(a||{},p)},w=m.get();if(w!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===w&&!v.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const N=Rj(e);if(N){const E=window.MotionHandoffAnimation(N,p,Ot);E!==null&&(v.startTime=E,j=!0)}}jm(e,p),m.start(Zg(p,m,y,e.shouldReduceMotion&&Z2.has(p)?{type:!1}:v,e,j));const S=m.animation;S&&u.push(S)}return c&&Promise.all(u).then(()=>{Ot.update(()=>{c&&r3(e,c)})}),u}function Oj(e,t,n,r=0,i=1){const a=Array.from(e).sort((f,p)=>f.sortNodePosition(p)).indexOf(t),c=e.size,d=(c-1)*r;return typeof n=="function"?n(a,c):i===1?a*r:d-a*r}function Sm(e,t,n={}){const r=Lo(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(Dj(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=i;return p3(e,t,u,f,p,m,n)}:()=>Promise.resolve(),{when:d}=i;if(d){const[u,f]=d==="beforeChildren"?[a,c]:[c,a];return u().then(()=>f())}else return Promise.all([a(),c(n.delay)])}function p3(e,t,n=0,r=0,i=0,a=1,c){const d=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),d.push(Sm(u,t,{...c,delay:n+(typeof r=="function"?0:r)+Oj(e.variantChildren,u,r,i,a)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(d)}function m3(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>Sm(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=Sm(e,t,n);else{const i=typeof t=="function"?Lo(e,t,n.custom):t;r=Promise.all(Dj(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Ij(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const g3=qg.length;function Fj(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Fj(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<g3;n++){const r=qg[n],i=e.props[r];(Sl(i)||i===!1)&&(t[r]=i)}return t}const x3=[...Hg].reverse(),y3=Hg.length;function v3(e){return t=>Promise.all(t.map(({animation:n,options:r})=>m3(e,n,r)))}function w3(e){let t=v3(e),n=fw(),r=!0;const i=u=>(f,p)=>{const m=Lo(e,p,u==="exit"?e.presenceContext?.custom:void 0);if(m){const{transition:y,transitionEnd:v,...w}=m;f={...f,...w,...v}}return f};function a(u){t=u(e)}function c(u){const{props:f}=e,p=Fj(e.parent)||{},m=[],y=new Set;let v={},w=1/0;for(let S=0;S<y3;S++){const N=x3[S],E=n[N],C=f[N]!==void 0?f[N]:p[N],_=Sl(C),T=N===u?E.isActive:null;T===!1&&(w=S);let I=C===p[N]&&C!==f[N]&&_;if(I&&r&&e.manuallyAnimateOnMount&&(I=!1),E.protectedKeys={...v},!E.isActive&&T===null||!C&&!E.prevProp||Fu(C)||typeof C=="boolean")continue;const M=b3(E.prevProp,C);let F=M||N===u&&E.isActive&&!I&&_||S>w&&_,U=!1;const G=Array.isArray(C)?C:[C];let se=G.reduce(i(N),{});T===!1&&(se={});const{prevResolvedValues:ae={}}=E,oe={...ae,...se},ee=D=>{F=!0,y.has(D)&&(U=!0,y.delete(D)),E.needsAnimating[D]=!0;const P=e.getValue(D);P&&(P.liveStyle=!1)};for(const D in oe){const P=se[D],R=ae[D];if(v.hasOwnProperty(D))continue;let q=!1;bm(P)&&bm(R)?q=!Ij(P,R):q=P!==R,q?P!=null?ee(D):y.add(D):P!==void 0&&y.has(D)?ee(D):E.protectedKeys[D]=!0}E.prevProp=C,E.prevResolvedValues=se,E.isActive&&(v={...v,...se}),r&&e.blockInitialAnimation&&(F=!1);const L=I&&M;F&&(!L||U)&&m.push(...G.map(D=>{const P={type:N};if(typeof D=="string"&&r&&!L&&e.manuallyAnimateOnMount&&e.parent){const{parent:R}=e,q=Lo(R,D);if(R.enteringChildren&&q){const{delayChildren:B}=q.transition||{};P.delay=Oj(R.enteringChildren,e,B)}}return{animation:D,options:P}}))}if(y.size){const S={};if(typeof f.initial!="boolean"){const N=Lo(e,Array.isArray(f.initial)?f.initial[0]:f.initial);N&&N.transition&&(S.transition=N.transition)}y.forEach(N=>{const E=e.getBaseTarget(N),C=e.getValue(N);C&&(C.liveStyle=!0),S[N]=E??null}),m.push({animation:S})}let j=!!m.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(m):Promise.resolve()}function d(u,f){if(n[u].isActive===f)return Promise.resolve();e.variantChildren?.forEach(m=>m.animationState?.setActive(u,f)),n[u].isActive=f;const p=c(u);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:c,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=fw()}}}function b3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Ij(t,e):!1}function wi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fw(){return{animate:wi(!0),whileInView:wi(),whileHover:wi(),whileTap:wi(),whileDrag:wi(),whileFocus:wi(),exit:wi()}}class ei{constructor(t){this.isMounted=!1,this.node=t}update(){}}class j3 extends ei{constructor(t){super(t),t.animationState||(t.animationState=w3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let S3=0;class N3 extends ei{constructor(){super(...arguments),this.id=S3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const k3={animation:{Feature:j3},exit:{Feature:N3}};function kl(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Vl(e){return{point:{x:e.pageX,y:e.pageY}}}const C3=e=>t=>Vg(t)&&e(t,Vl(t));function cl(e,t,n,r){return kl(e,t,C3(n),r)}const Mj=1e-4,E3=1-Mj,_3=1+Mj,Lj=.01,A3=0-Lj,T3=0+Lj;function Cn(e){return e.max-e.min}function P3(e,t,n){return Math.abs(e-t)<=n}function pw(e,t,n,r=.5){e.origin=r,e.originPoint=Lt(t.min,t.max,e.origin),e.scale=Cn(n)/Cn(t),e.translate=Lt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=E3&&e.scale<=_3||isNaN(e.scale))&&(e.scale=1),(e.translate>=A3&&e.translate<=T3||isNaN(e.translate))&&(e.translate=0)}function dl(e,t,n,r){pw(e.x,t.x,n.x,r?r.originX:void 0),pw(e.y,t.y,n.y,r?r.originY:void 0)}function mw(e,t,n){e.min=n.min+t.min,e.max=e.min+Cn(t)}function R3(e,t,n){mw(e.x,t.x,n.x),mw(e.y,t.y,n.y)}function gw(e,t,n){e.min=t.min-n.min,e.max=e.min+Cn(t)}function ul(e,t,n){gw(e.x,t.x,n.x),gw(e.y,t.y,n.y)}function or(e){return[e("x"),e("y")]}const Bj=({current:e})=>e?e.ownerDocument.defaultView:null,xw=(e,t)=>Math.abs(e-t);function D3(e,t){const n=xw(e.x,t.x),r=xw(e.y,t.y);return Math.sqrt(n**2+r**2)}class $j{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=rp(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=D3(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!w)return;const{point:j}=y,{timestamp:S}=dn;this.history.push({...j,timestamp:S});const{onStart:N,onMove:E}=this.handlers;v||(N&&N(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=np(v,this.transformPagePoint),Ot.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:w,onSessionEnd:j,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=rp(y.type==="pointercancel"?this.lastMoveEventInfo:np(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(y,N),j&&j(y,N)},!Vg(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=i||window;const d=Vl(t),u=np(d,this.transformPagePoint),{point:f}=u,{timestamp:p}=dn;this.history=[{...f,timestamp:p}];const{onSessionStart:m}=n;m&&m(t,rp(u,this.history)),this.removeListeners=$l(cl(this.contextWindow,"pointermove",this.handlePointerMove),cl(this.contextWindow,"pointerup",this.handlePointerUp),cl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ks(this.updatePoint)}}function np(e,t){return t?{point:t(e.point)}:e}function yw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rp({point:e},t){return{point:e,delta:yw(e,zj(t)),offset:yw(e,O3(t)),velocity:I3(t,.1)}}function O3(e){return e[0]}function zj(e){return e[e.length-1]}function I3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=zj(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>qr(t)));)n--;if(!r)return{x:0,y:0};const a=dr(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const c={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function F3(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Lt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Lt(n,e,r.max):Math.min(e,n)),e}function vw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function M3(e,{top:t,left:n,bottom:r,right:i}){return{x:vw(e.x,n,i),y:vw(e.y,t,r)}}function ww(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function L3(e,t){return{x:ww(e.x,t.x),y:ww(e.y,t.y)}}function B3(e,t){let n=.5;const r=Cn(e),i=Cn(t);return i>r?n=wl(t.min,t.max-r,e.min):r>i&&(n=wl(e.min,e.max-i,t.min)),ps(0,1,n)}function $3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Nm=.35;function z3(e=Nm){return e===!1?e=0:e===!0&&(e=Nm),{x:bw(e,"left","right"),y:bw(e,"top","bottom")}}function bw(e,t,n){return{min:jw(e,t),max:jw(e,n)}}function jw(e,t){return typeof e=="number"?e:e[t]||0}const W3=new WeakMap;class V3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vl(m).point)},c=(m,y)=>{const{drag:v,dragPropagation:w,onDragStart:j}=this.getProps();if(v&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=YT(v),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),or(N=>{let E=this.getAxisMotionValue(N).get()||0;if(Gr.test(E)){const{projection:C}=this.visualElement;if(C&&C.layout){const _=C.layout.layoutBox[N];_&&(E=Cn(_)*(parseFloat(E)/100))}}this.originPoint[N]=E}),j&&Ot.postRender(()=>j(m,y)),jm(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},d=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y;const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:j,onDrag:S}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:N}=y;if(w&&this.currentDirection===null){this.currentDirection=U3(N),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",y.point,N),this.updateAxis("y",y.point,N),this.visualElement.render(),S&&S(m,y)},u=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y,this.stop(m,y),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>or(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new $j(t,{onSessionStart:a,onStart:c,onMove:d,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:Bj(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:c}=i;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Ot.postRender(()=>d(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!pd(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=F3(c,this.constraints[t],this.elastic[t])),a.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&Oo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=M3(r.layoutBox,t):this.constraints=!1,this.elastic=z3(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&or(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=$3(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Oo(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=H4(r,i.root,this.visualElement.getTransformPagePoint());let c=L3(i.layout.layoutBox,a);if(n){const d=n(W4(c));this.hasMutatedConstraints=!!d,d&&(c=Nj(d))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),u=this.constraints||{},f=or(p=>{if(!pd(p,n,this.currentDirection))return;let m=u&&u[p]||{};c&&(m={min:0,max:0});const y=i?200:1e6,v=i?40:1e7,w={type:"inertia",velocity:r?t[p]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(p,w)});return Promise.all(f).then(d)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return jm(this.visualElement,t),r.start(Zg(t,r,0,n,this.visualElement,!1))}stopAnimation(){or(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){or(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){or(n=>{const{drag:r}=this.getProps();if(!pd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[n];a.set(t[n]-Lt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Oo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};or(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const u=d.get();i[c]=B3({min:u,max:u},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),or(c=>{if(!pd(c,t,null))return;const d=this.getAxisMotionValue(c),{min:u,max:f}=this.constraints[c];d.set(Lt(u,f,i[c]))})}addListeners(){if(!this.visualElement.current)return;W3.set(this.visualElement,this);const t=this.visualElement.current,n=cl(t,"pointerdown",u=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Oo(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ot.read(r);const c=kl(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(or(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=u[p].translate,m.set(m.get()+u[p].translate))}),this.visualElement.render())}));return()=>{c(),n(),a(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:c=Nm,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:c,dragMomentum:d}}}function pd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function U3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class H3 extends ei{constructor(t){super(t),this.removeGroupControls=fr,this.removeListeners=fr,this.controls=new V3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Sw=e=>(t,n)=>{e&&Ot.postRender(()=>e(t,n))};class q3 extends ei{constructor(){super(...arguments),this.removePointerDownListener=fr}onPointerDown(t){this.session=new $j(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Bj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Sw(t),onStart:Sw(n),onMove:r,onEnd:(a,c)=>{delete this.session,i&&Ot.postRender(()=>i(a,c))}}}mount(){this.removePointerDownListener=cl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Nw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Xa={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ye.test(e))e=parseFloat(e);else return e;const n=Nw(e,t.target.x),r=Nw(e,t.target.y);return`${n}% ${r}%`}},G3={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Ys.parse(e);if(i.length>5)return r;const a=Ys.createTransformer(e),c=typeof i[0]!="number"?1:0,d=n.x.scale*t.x,u=n.y.scale*t.y;i[0+c]/=d,i[1+c]/=u;const f=Lt(d,u,.5);return typeof i[2+c]=="number"&&(i[2+c]/=f),typeof i[3+c]=="number"&&(i[3+c]/=f),a(i)}};let sp=!1;class K3 extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;g4(Y3),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),sp&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Hd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:c}=r;return c&&(c.isPresent=a,sp=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?c.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?c.promote():c.relegate()||Ot.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Wg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;sp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Wj(e){const[t,n]=dj(),r=g.useContext(wg);return s.jsx(K3,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(jj),isPresent:t,safeToRemove:n})}const Y3={borderRadius:{...Xa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xa,borderTopRightRadius:Xa,borderBottomLeftRadius:Xa,borderBottomRightRadius:Xa,boxShadow:G3};function X3(e,t,n){const r=wn(e)?e:Ho(e);return r.start(Zg("",r,t,n)),r.animation}const J3=(e,t)=>e.depth-t.depth;class Q3{constructor(){this.children=[],this.isDirty=!1}add(t){Sg(this.children,t),this.isDirty=!0}remove(t){Ng(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(J3),this.isDirty=!1,this.children.forEach(t)}}function Z3(e,t){const n=Fn.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(Ks(r),e(a-t))};return Ot.setup(r,!0),()=>Ks(r)}const Vj=["TopLeft","TopRight","BottomLeft","BottomRight"],eP=Vj.length,kw=e=>typeof e=="string"?parseFloat(e):e,Cw=e=>typeof e=="number"||Ye.test(e);function tP(e,t,n,r,i,a){i?(e.opacity=Lt(0,n.opacity??1,nP(r)),e.opacityExit=Lt(t.opacity??1,0,rP(r))):a&&(e.opacity=Lt(t.opacity??1,n.opacity??1,r));for(let c=0;c<eP;c++){const d=`border${Vj[c]}Radius`;let u=Ew(t,d),f=Ew(n,d);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||Cw(u)===Cw(f)?(e[d]=Math.max(Lt(kw(u),kw(f),r),0),(Gr.test(f)||Gr.test(u))&&(e[d]+="%")):e[d]=f}(t.rotate||n.rotate)&&(e.rotate=Lt(t.rotate||0,n.rotate||0,r))}function Ew(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const nP=Uj(0,.5,T2),rP=Uj(.5,.95,fr);function Uj(e,t,n){return r=>r<e?0:r>t?1:n(wl(e,t,r))}function _w(e,t){e.min=t.min,e.max=t.max}function ir(e,t){_w(e.x,t.x),_w(e.y,t.y)}function Aw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Tw(e,t,n,r,i){return e-=t,e=su(e,1/n,r),i!==void 0&&(e=su(e,1/i,r)),e}function sP(e,t=0,n=1,r=.5,i,a=e,c=e){if(Gr.test(t)&&(t=parseFloat(t),t=Lt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Lt(a.min,a.max,r);e===a&&(d-=t),e.min=Tw(e.min,t,n,d,i),e.max=Tw(e.max,t,n,d,i)}function Pw(e,t,[n,r,i],a,c){sP(e,t[n],t[r],t[i],t.scale,a,c)}const iP=["x","scaleX","originX"],oP=["y","scaleY","originY"];function Rw(e,t,n,r){Pw(e.x,t,iP,n?n.x:void 0,r?r.x:void 0),Pw(e.y,t,oP,n?n.y:void 0,r?r.y:void 0)}function Dw(e){return e.translate===0&&e.scale===1}function Hj(e){return Dw(e.x)&&Dw(e.y)}function Ow(e,t){return e.min===t.min&&e.max===t.max}function aP(e,t){return Ow(e.x,t.x)&&Ow(e.y,t.y)}function Iw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function qj(e,t){return Iw(e.x,t.x)&&Iw(e.y,t.y)}function Fw(e){return Cn(e.x)/Cn(e.y)}function Mw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class lP{constructor(){this.members=[]}add(t){Sg(this.members,t),t.scheduleRender()}remove(t){if(Ng(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cP(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,c=n?.z||0;if((i||a||c)&&(r=`translate3d(${i}px, ${a}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:m,rotateY:y,skewX:v,skewY:w}=n;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),m&&(r+=`rotateX(${m}deg) `),y&&(r+=`rotateY(${y}deg) `),v&&(r+=`skewX(${v}deg) `),w&&(r+=`skewY(${w}deg) `)}const d=e.x.scale*t.x,u=e.y.scale*t.y;return(d!==1||u!==1)&&(r+=`scale(${d}, ${u})`),r||"none"}const ip=["","X","Y","Z"],dP=1e3;let uP=0;function op(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Gj(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Rj(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ot,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Gj(r)}function Kj({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},d=t?.()){this.id=uP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pP),this.nodes.forEach(yP),this.nodes.forEach(vP),this.nodes.forEach(mP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Q3)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Eg),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const u=this.eventHandlers.get(c);u&&u.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=cj(c)&&!t4(c),this.instance=c;const{layoutId:d,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||d)&&(this.isLayoutDirty=!0),e){let p,m=0;const y=()=>this.root.updateBlockedByResize=!1;Ot.read(()=>{m=window.innerWidth}),e(c,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,p&&p(),p=Z3(y,250),Hd.hasAnimatedSinceResize&&(Hd.hasAnimatedSinceResize=!1,this.nodes.forEach($w)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&f&&(d||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||NP,{onLayoutAnimationStart:j,onLayoutAnimationComplete:S}=f.getProps(),N=!this.targetLayout||!qj(this.targetLayout,v),E=!m&&y;if(this.options.layoutRoot||this.resumeFrom||E||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...$g(w,"layout"),onPlay:j,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(p,E)}else m||$w(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wP),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Gj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:d,layout:u}=this.options;if(d===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Bw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(xP),this.nodes.forEach(hP),this.nodes.forEach(fP)):this.nodes.forEach(Bw),this.clearAllSnapshots();const d=Fn.now();dn.delta=ps(0,1e3/60,d-dn.timestamp),dn.timestamp=d,dn.isProcessing=!0,Kf.update.process(dn),Kf.preRender.process(dn),Kf.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gP),this.sharedNodes.forEach(bP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cn(this.snapshot.measuredBox.x)&&!Cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Hj(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;c&&this.instance&&(d||Ni(this.latestValues)||p)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let u=this.removeElementScroll(d);return c&&(u=this.removeTransform(u)),kP(u),{animationId:this.root.animationId,measuredBox:d,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ht();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(CP))){const{scroll:f}=this.root;f&&(Io(d.x,f.offset.x),Io(d.y,f.offset.y))}return d}removeElementScroll(c){const d=Ht();if(ir(d,c),this.scroll?.wasRoot)return d;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&ir(d,c),Io(d.x,p.offset.x),Io(d.y,p.offset.y))}return d}applyTransform(c,d=!1){const u=Ht();ir(u,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Fo(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Ni(p.latestValues)&&Fo(u,p.latestValues)}return Ni(this.latestValues)&&Fo(u,this.latestValues),u}removeTransform(c){const d=Ht();ir(d,c);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!Ni(f.latestValues))continue;ym(f.latestValues)&&f.updateSnapshot();const p=Ht(),m=f.measurePageBox();ir(p,m),Rw(d,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Ni(this.latestValues)&&Rw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==d;if(!(c||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=dn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),ul(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ht(),this.targetWithTransforms=Ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),R3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ir(this.target,this.layout.layoutBox),Cj(this.target,this.targetDelta)):ir(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),ul(this.relativeTargetOrigin,this.target,y.target),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ym(this.parent.latestValues)||kj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(u=!1),u)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;ir(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;U4(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ht());const{target:v}=c;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Aw(this.prevProjectionDelta.x,this.projectionDelta.x),Aw(this.prevProjectionDelta.y,this.projectionDelta.y)),dl(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!Mw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Mw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mo(),this.projectionDelta=Mo(),this.projectionDeltaWithTransform=Mo()}setAnimationOrigin(c,d=!1){const u=this.snapshot,f=u?u.latestValues:{},p={...this.latestValues},m=Mo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const y=Ht(),v=u?u.source:void 0,w=this.layout?this.layout.source:void 0,j=v!==w,S=this.getStack(),N=!S||S.members.length<=1,E=!!(j&&!N&&this.options.crossfade===!0&&!this.path.some(SP));this.animationProgress=0;let C;this.mixTargetDelta=_=>{const T=_/1e3;zw(m.x,c.x,T),zw(m.y,c.y,T),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ul(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jP(this.relativeTarget,this.relativeTargetOrigin,y,T),C&&aP(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Ht()),ir(C,this.relativeTarget)),j&&(this.animationValues=p,tP(p,f,this.latestValues,T,E,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ot.update(()=>{Hd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ho(0)),this.currentAnimation=X3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:u,layout:f,latestValues:p}=c;if(!(!d||!u||!f)){if(this!==c&&this.layout&&f&&Yj(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||Ht();const m=Cn(this.layout.layoutBox.x);u.x.min=c.target.x.min,u.x.max=u.x.min+m;const y=Cn(this.layout.layoutBox.y);u.y.min=c.target.y.min,u.y.max=u.y.min+y}ir(d,u),Fo(d,p),dl(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new lP),this.sharedNodes.get(c).add(d);const f=d.options.initialPromotionConfig;d.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:u}=c;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(d=!0),!d)return;const f={};u.z&&op("z",c,f,this.animationValues);for(let p=0;p<ip.length;p++)op(`rotate${ip[p]}`,c,f,this.animationValues),op(`skew${ip[p]}`,c,f,this.animationValues);c.render();for(const p in f)c.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Ud(d?.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Ud(d?.pointerEvents)||""),this.hasProjected&&!Ni(this.latestValues)&&(c.transform=u?u({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=cP(this.projectionDeltaWithTransform,this.treeScale,p);u&&(m=u(p,m)),c.transform=m;const{x:y,y:v}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in Nl){if(p[w]===void 0)continue;const{correct:j,applyTo:S,isCSSVariable:N}=Nl[w],E=m==="none"?p[w]:j(p[w],f);if(S){const C=S.length;for(let _=0;_<C;_++)c[S[_]]=E}else N?this.options.visualElement.renderState.vars[w]=E:c[w]=E}this.options.layoutId&&(c.pointerEvents=f===this?Ud(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Lw),this.root.sharedNodes.clear()}}}function hP(e){e.updateLayout()}function fP(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?or(p=>{const m=a?t.measuredBox[p]:t.layoutBox[p],y=Cn(m);m.min=n[p].min,m.max=m.min+y}):Yj(i,t.layoutBox,n)&&or(p=>{const m=a?t.measuredBox[p]:t.layoutBox[p],y=Cn(n[p]);m.max=m.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+y)});const c=Mo();dl(c,n,t.layoutBox);const d=Mo();a?dl(d,e.applyTransform(r,!0),t.measuredBox):dl(d,n,t.layoutBox);const u=!Hj(c);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const v=Ht();ul(v,t.layoutBox,m.layoutBox);const w=Ht();ul(w,n,y.layoutBox),qj(v,w)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=v,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function pP(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function mP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function gP(e){e.clearSnapshot()}function Lw(e){e.clearMeasurements()}function Bw(e){e.isLayoutDirty=!1}function xP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function $w(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function yP(e){e.resolveTargetDelta()}function vP(e){e.calcProjection()}function wP(e){e.resetSkewAndRotation()}function bP(e){e.removeLeadSnapshot()}function zw(e,t,n){e.translate=Lt(t.translate,0,n),e.scale=Lt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ww(e,t,n,r){e.min=Lt(t.min,n.min,r),e.max=Lt(t.max,n.max,r)}function jP(e,t,n,r){Ww(e.x,t.x,n.x,r),Ww(e.y,t.y,n.y,r)}function SP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const NP={duration:.45,ease:[.4,0,.1,1]},Vw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Uw=Vw("applewebkit/")&&!Vw("chrome/")?Math.round:fr;function Hw(e){e.min=Uw(e.min),e.max=Uw(e.max)}function kP(e){Hw(e.x),Hw(e.y)}function Yj(e,t,n){return e==="position"||e==="preserve-aspect"&&!P3(Fw(t),Fw(n),.2)}function CP(e){return e!==e.root&&e.scroll?.wasRoot}const EP=Kj({attachResizeListener:(e,t)=>kl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ap={current:void 0},Xj=Kj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ap.current){const e=new EP({});e.mount(window),e.setOptions({layoutScroll:!0}),ap.current=e}return ap.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),_P={pan:{Feature:q3},drag:{Feature:H3,ProjectionNode:Xj,MeasureLayout:Wj}};function qw(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Ot.postRender(()=>a(t,Vl(t)))}class AP extends ei{mount(){const{current:t}=this.node;t&&(this.unmount=XT(t,(n,r)=>(qw(this.node,r,"Start"),i=>qw(this.node,i,"End"))))}unmount(){}}class TP extends ei{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$l(kl(this.node.current,"focus",()=>this.onFocus()),kl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gw(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Ot.postRender(()=>a(t,Vl(t)))}class PP extends ei{mount(){const{current:t}=this.node;t&&(this.unmount=e4(t,(n,r)=>(Gw(this.node,r,"Start"),(i,{success:a})=>Gw(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const km=new WeakMap,lp=new WeakMap,RP=e=>{const t=km.get(e.target);t&&t(e)},DP=e=>{e.forEach(RP)};function OP({root:e,...t}){const n=e||document;lp.has(n)||lp.set(n,{});const r=lp.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(DP,{root:e,...t})),r[i]}function IP(e,t,n){const r=OP(t);return km.set(e,n),r.observe(e),()=>{km.delete(e),r.unobserve(e)}}const FP={some:0,all:1};class MP extends ei{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:FP[i]},d=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),y=f?p:m;y&&y(u)};return IP(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(LP(t,n))&&this.startObserver()}unmount(){}}function LP({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const BP={inView:{Feature:MP},tap:{Feature:PP},focus:{Feature:TP},hover:{Feature:AP}},$P={layout:{ProjectionNode:Xj,MeasureLayout:Wj}},zP={...k3,...BP,..._P,...$P},O=z4(zP,e3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VP=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Kw=e=>{const t=VP(e);return t.charAt(0).toUpperCase()+t.slice(1)},Jj=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:c,...d},u)=>g.createElement("svg",{ref:u,...UP,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Jj("lucide",i),...d},[...c.map(([f,p])=>g.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const n=g.forwardRef(({className:r,...i},a)=>g.createElement(HP,{ref:a,iconNode:t,className:Jj(`lucide-${WP(Kw(e))}`,`lucide-${e}`,r),...i}));return n.displayName=Kw(e),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],gs=be("arrow-left",qP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Qj=be("arrow-right",GP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],YP=be("award",KP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ds=be("book-open",XP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Zj=be("book",JP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],ZP=be("bookmark",QP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Cm=be("bot",eR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ul=be("calendar",tR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],rR=be("camera",nR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Hl=be("check",sR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pr=be("chevron-down",iR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Yw=be("chevron-left",oR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Go=be("chevron-right",aR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],iu=be("chevron-up",lR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Mn=be("circle-check-big",cR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],eS=be("circle-check",dR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],Xw=be("circle-play",uR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],e0=be("circle-x",hR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pR=be("circle",fR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ko=be("clock",mR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],xR=be("cloud-off",gR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],vR=be("cloud",yR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],bR=be("download",wR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],SR=be("ellipsis-vertical",jR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Cl=be("eye-off",NR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bo=be("eye",kR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3 15 2 2 4-4",key:"1lhrkk"}]],tS=be("file-check-2",CR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Em=be("file-text",ER);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"m9 13 2 2 4-4",key:"6343dt"}]],AR=be("folder-check",_R);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],nS=be("folder-plus",TR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],RR=be("gamepad-2",PR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],ou=be("gift",DR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],rS=be("git-merge",OR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],_m=be("heart",IR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Hi=be("house",FR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],md=be("key",MR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],BR=be("layers",LR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],zR=be("layout-dashboard",$R);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],sS=be("layout-grid",WR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],UR=be("library",VR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],iS=be("lightbulb",HR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],GR=be("link-2",qR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],oS=be("list-checks",KR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],XR=be("list",YR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Am=be("loader-circle",JR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],ZR=be("loader",QR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],au=be("lock",e6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],n6=be("log-out",t6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],aS=be("mail",r6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],i6=be("maximize",s6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],a6=be("medal",o6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],c6=be("message-circle-plus",l6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],lS=be("message-square",d6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],lu=be("pause",u6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],f6=be("pen",h6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Li=be("play",p6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yo=be("plus",m6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],cS=be("printer",g6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],rl=be("puzzle",x6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],v6=be("refresh-cw",y6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ql=be("rotate-ccw",w6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]],dS=be("rows-3",b6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],t0=be("search",j6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],N6=be("send",S6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uS=be("settings",k6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],E6=be("share-2",C6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],A6=be("shield",_6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],hl=be("shopping-cart",T6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],hS=be("shuffle",P6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Tm=be("skull",R6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],O6=be("smile",D6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ur=be("sparkles",I6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pm=be("square-check-big",F6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],fS=be("square-pen",M6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],cu=be("square",L6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],xs=be("star",B6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],pS=be("table-2",$6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],hr=be("target",z6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],V6=be("thumbs-down",W6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],H6=be("thumbs-up",U6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Jw=be("timer",q6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],El=be("trash-2",G6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],mS=be("trending-up",K6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],us=be("trophy",Y6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],J6=be("undo-2",X6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Z6=be("upload",Q6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],tD=be("user-plus",eD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gS=be("user",nD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],n0=be("users",rD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],r0=be("volume-2",sD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yn=be("x",iD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Gs=be("zap",oD);function Or({onClick:e}){return s.jsx(O.button,{whileTap:{scale:.95},onClick:e,className:"w-11 h-11 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/40",style:{minWidth:"44px",minHeight:"44px"},children:s.jsx(gs,{className:"w-5 h-5 text-[#491B6D]"})})}function Gl({onBack:e,title:t,subtitle:n,rightElement:r}){return s.jsx("div",{className:"sticky top-0 z-40 backdrop-blur-lg flex-shrink-0",style:{background:"transparent"},children:s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 md:p-8 gap-2 sm:gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Or,{onClick:e})}),s.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[s.jsx("h1",{className:"text-[#091A7A] text-center truncate max-w-full",style:{fontSize:"18px",fontWeight:600},children:t}),n&&s.jsx("p",{className:"text-[#6B7280] text-center truncate max-w-full",style:{fontSize:"12px",fontWeight:500},children:n})]}),s.jsx("div",{className:"flex-shrink-0",children:r||s.jsx("div",{className:"w-11 h-11"})})]})})}function xS(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=xS(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function yS(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=xS(e))&&(r&&(r+=" "),r+=t);return r}const aD=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},lD=(e,t)=>({classGroupId:e,validator:t}),vS=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),du="-",Qw=[],cD="arbitrary..",dD=e=>{const t=hD(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return uD(c);const d=c.split(du),u=d[0]===""&&d.length>1?1:0;return wS(d,u,t)},getConflictingClassGroupIds:(c,d)=>{if(d){const u=r[c],f=n[c];return u?f?aD(f,u):u:f||Qw}return n[c]||Qw}}},wS=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],a=n.nextPart.get(i);if(a){const f=wS(e,t+1,a);if(f)return f}const c=n.validators;if(c===null)return;const d=t===0?e.join(du):e.slice(t).join(du),u=c.length;for(let f=0;f<u;f++){const p=c[f];if(p.validator(d))return p.classGroupId}},uD=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?cD+r:void 0})(),hD=e=>{const{theme:t,classGroups:n}=e;return fD(n,t)},fD=(e,t)=>{const n=vS();for(const r in e){const i=e[r];s0(i,n,r,t)}return n},s0=(e,t,n,r)=>{const i=e.length;for(let a=0;a<i;a++){const c=e[a];pD(c,t,n,r)}},pD=(e,t,n,r)=>{if(typeof e=="string"){mD(e,t,n);return}if(typeof e=="function"){gD(e,t,n,r);return}xD(e,t,n,r)},mD=(e,t,n)=>{const r=e===""?t:bS(t,e);r.classGroupId=n},gD=(e,t,n,r)=>{if(yD(e)){s0(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(lD(n,e))},xD=(e,t,n,r)=>{const i=Object.entries(e),a=i.length;for(let c=0;c<a;c++){const[d,u]=i[c];s0(u,bS(t,d),n,r)}},bS=(e,t)=>{let n=e;const r=t.split(du),i=r.length;for(let a=0;a<i;a++){const c=r[a];let d=n.nextPart.get(c);d||(d=vS(),n.nextPart.set(c,d)),n=d}return n},yD=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,vD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(a,c)=>{n[a]=c,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(a){let c=n[a];if(c!==void 0)return c;if((c=r[a])!==void 0)return i(a,c),c},set(a,c){a in n?n[a]=c:i(a,c)}}},Rm="!",Zw=":",wD=[],eb=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),bD=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const a=[];let c=0,d=0,u=0,f;const p=i.length;for(let j=0;j<p;j++){const S=i[j];if(c===0&&d===0){if(S===Zw){a.push(i.slice(u,j)),u=j+1;continue}if(S==="/"){f=j;continue}}S==="["?c++:S==="]"?c--:S==="("?d++:S===")"&&d--}const m=a.length===0?i:i.slice(u);let y=m,v=!1;m.endsWith(Rm)?(y=m.slice(0,-1),v=!0):m.startsWith(Rm)&&(y=m.slice(1),v=!0);const w=f&&f>u?f-u:void 0;return eb(a,v,y,w)};if(t){const i=t+Zw,a=r;r=c=>c.startsWith(i)?a(c.slice(i.length)):eb(wD,!1,c,void 0,!0)}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},jD=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let a=0;a<n.length;a++){const c=n[a],d=c[0]==="[",u=t.has(c);d||u?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(c)):i.push(c)}return i.length>0&&(i.sort(),r.push(...i)),r}},SD=e=>({cache:vD(e.cacheSize),parseClassName:bD(e),sortModifiers:jD(e),...dD(e)}),ND=/\s+/,kD=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,c=[],d=e.trim().split(ND);let u="";for(let f=d.length-1;f>=0;f-=1){const p=d[f],{isExternal:m,modifiers:y,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:j}=n(p);if(m){u=p+(u.length>0?" "+u:u);continue}let S=!!j,N=r(S?w.substring(0,j):w);if(!N){if(!S){u=p+(u.length>0?" "+u:u);continue}if(N=r(w),!N){u=p+(u.length>0?" "+u:u);continue}S=!1}const E=y.length===0?"":y.length===1?y[0]:a(y).join(":"),C=v?E+Rm:E,_=C+N;if(c.indexOf(_)>-1)continue;c.push(_);const T=i(N,S);for(let I=0;I<T.length;++I){const M=T[I];c.push(C+M)}u=p+(u.length>0?" "+u:u)}return u},CD=(...e)=>{let t=0,n,r,i="";for(;t<e.length;)(n=e[t++])&&(r=jS(n))&&(i&&(i+=" "),i+=r);return i},jS=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=jS(e[r]))&&(n&&(n+=" "),n+=t);return n},ED=(e,...t)=>{let n,r,i,a;const c=u=>{const f=t.reduce((p,m)=>m(p),e());return n=SD(f),r=n.cache.get,i=n.cache.set,a=d,d(u)},d=u=>{const f=r(u);if(f)return f;const p=kD(u,n);return i(u,p),p};return a=c,(...u)=>a(CD(...u))},_D=[],Zt=e=>{const t=n=>n[e]||_D;return t.isThemeGetter=!0,t},SS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,NS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,AD=/^\d+\/\d+$/,TD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,DD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,go=e=>AD.test(e),st=e=>!!e&&!Number.isNaN(Number(e)),zs=e=>!!e&&Number.isInteger(Number(e)),cp=e=>e.endsWith("%")&&st(e.slice(0,-1)),os=e=>TD.test(e),ID=()=>!0,FD=e=>PD.test(e)&&!RD.test(e),kS=()=>!1,MD=e=>DD.test(e),LD=e=>OD.test(e),BD=e=>!Ie(e)&&!Fe(e),$D=e=>sa(e,_S,kS),Ie=e=>SS.test(e),bi=e=>sa(e,AS,FD),dp=e=>sa(e,HD,st),tb=e=>sa(e,CS,kS),zD=e=>sa(e,ES,LD),gd=e=>sa(e,TS,MD),Fe=e=>NS.test(e),Ja=e=>ia(e,AS),WD=e=>ia(e,qD),nb=e=>ia(e,CS),VD=e=>ia(e,_S),UD=e=>ia(e,ES),xd=e=>ia(e,TS,!0),sa=(e,t,n)=>{const r=SS.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},ia=(e,t,n=!1)=>{const r=NS.exec(e);return r?r[1]?t(r[1]):n:!1},CS=e=>e==="position"||e==="percentage",ES=e=>e==="image"||e==="url",_S=e=>e==="length"||e==="size"||e==="bg-size",AS=e=>e==="length",HD=e=>e==="number",qD=e=>e==="family-name",TS=e=>e==="shadow",GD=()=>{const e=Zt("color"),t=Zt("font"),n=Zt("text"),r=Zt("font-weight"),i=Zt("tracking"),a=Zt("leading"),c=Zt("breakpoint"),d=Zt("container"),u=Zt("spacing"),f=Zt("radius"),p=Zt("shadow"),m=Zt("inset-shadow"),y=Zt("text-shadow"),v=Zt("drop-shadow"),w=Zt("blur"),j=Zt("perspective"),S=Zt("aspect"),N=Zt("ease"),E=Zt("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[..._(),Fe,Ie],I=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],F=()=>[Fe,Ie,u],U=()=>[go,"full","auto",...F()],G=()=>[zs,"none","subgrid",Fe,Ie],se=()=>["auto",{span:["full",zs,Fe,Ie]},zs,Fe,Ie],ae=()=>[zs,"auto",Fe,Ie],oe=()=>["auto","min","max","fr",Fe,Ie],ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],L=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...F()],D=()=>[go,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],P=()=>[e,Fe,Ie],R=()=>[..._(),nb,tb,{position:[Fe,Ie]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",VD,$D,{size:[Fe,Ie]}],W=()=>[cp,Ja,bi],z=()=>["","none","full",f,Fe,Ie],X=()=>["",st,Ja,bi],H=()=>["solid","dashed","dotted","double"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[st,cp,nb,tb],te=()=>["","none",w,Fe,Ie],he=()=>["none",st,Fe,Ie],le=()=>["none",st,Fe,Ie],Ne=()=>[st,Fe,Ie],ke=()=>[go,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[os],breakpoint:[os],color:[ID],container:[os],"drop-shadow":[os],ease:["in","out","in-out"],font:[BD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[os],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[os],shadow:[os],spacing:["px",st],text:[os],"text-shadow":[os],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",go,Ie,Fe,S]}],container:["container"],columns:[{columns:[st,Ie,Fe,d]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[zs,"auto",Fe,Ie]}],basis:[{basis:[go,"full","auto",d,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[st,go,"auto","initial","none",Ie]}],grow:[{grow:["",st,Fe,Ie]}],shrink:[{shrink:["",st,Fe,Ie]}],order:[{order:[zs,"first","last","none",Fe,Ie]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:se()}],"col-start":[{"col-start":ae()}],"col-end":[{"col-end":ae()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:se()}],"row-start":[{"row-start":ae()}],"row-end":[{"row-end":ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":oe()}],"auto-rows":[{"auto-rows":oe()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...ee(),"normal"]}],"justify-items":[{"justify-items":[...L(),"normal"]}],"justify-self":[{"justify-self":["auto",...L()]}],"align-content":[{content:["normal",...ee()]}],"align-items":[{items:[...L(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...L(),{baseline:["","last"]}]}],"place-content":[{"place-content":ee()}],"place-items":[{"place-items":[...L(),"baseline"]}],"place-self":[{"place-self":["auto",...L()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[d,"screen",...D()]}],"min-w":[{"min-w":[d,"screen","none",...D()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...D()]}],h:[{h:["screen","lh",...D()]}],"min-h":[{"min-h":["screen","lh","none",...D()]}],"max-h":[{"max-h":["screen","lh",...D()]}],"font-size":[{text:["base",n,Ja,bi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Fe,dp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",cp,Ie]}],"font-family":[{font:[WD,Ie,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Fe,Ie]}],"line-clamp":[{"line-clamp":[st,"none",Fe,dp]}],leading:[{leading:[a,...F()]}],"list-image":[{"list-image":["none",Fe,Ie]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Fe,Ie]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[st,"from-font","auto",Fe,bi]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[st,"auto",Fe,Ie]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe,Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe,Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:R()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zs,Fe,Ie],radial:["",Fe,Ie],conic:[zs,Fe,Ie]},UD,zD]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[st,Fe,Ie]}],"outline-w":[{outline:["",st,Ja,bi]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",p,xd,gd]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",m,xd,gd]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[st,bi]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",y,xd,gd]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[st,Fe,Ie]}],"mix-blend":[{"mix-blend":[...Z(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Z()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[st]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[Fe,Ie]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[st]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:R()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Fe,Ie]}],filter:[{filter:["","none",Fe,Ie]}],blur:[{blur:te()}],brightness:[{brightness:[st,Fe,Ie]}],contrast:[{contrast:[st,Fe,Ie]}],"drop-shadow":[{"drop-shadow":["","none",v,xd,gd]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",st,Fe,Ie]}],"hue-rotate":[{"hue-rotate":[st,Fe,Ie]}],invert:[{invert:["",st,Fe,Ie]}],saturate:[{saturate:[st,Fe,Ie]}],sepia:[{sepia:["",st,Fe,Ie]}],"backdrop-filter":[{"backdrop-filter":["","none",Fe,Ie]}],"backdrop-blur":[{"backdrop-blur":te()}],"backdrop-brightness":[{"backdrop-brightness":[st,Fe,Ie]}],"backdrop-contrast":[{"backdrop-contrast":[st,Fe,Ie]}],"backdrop-grayscale":[{"backdrop-grayscale":["",st,Fe,Ie]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[st,Fe,Ie]}],"backdrop-invert":[{"backdrop-invert":["",st,Fe,Ie]}],"backdrop-opacity":[{"backdrop-opacity":[st,Fe,Ie]}],"backdrop-saturate":[{"backdrop-saturate":[st,Fe,Ie]}],"backdrop-sepia":[{"backdrop-sepia":["",st,Fe,Ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Fe,Ie]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[st,"initial",Fe,Ie]}],ease:[{ease:["linear","initial",N,Fe,Ie]}],delay:[{delay:[st,Fe,Ie]}],animate:[{animate:["none",E,Fe,Ie]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Fe,Ie]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:he()}],"rotate-x":[{"rotate-x":he()}],"rotate-y":[{"rotate-y":he()}],"rotate-z":[{"rotate-z":he()}],scale:[{scale:le()}],"scale-x":[{"scale-x":le()}],"scale-y":[{"scale-y":le()}],"scale-z":[{"scale-z":le()}],"scale-3d":["scale-3d"],skew:[{skew:Ne()}],"skew-x":[{"skew-x":Ne()}],"skew-y":[{"skew-y":Ne()}],transform:[{transform:[Fe,Ie,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ke()}],"translate-x":[{"translate-x":ke()}],"translate-y":[{"translate-y":ke()}],"translate-z":[{"translate-z":ke()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe,Ie]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe,Ie]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[st,Ja,bi,dp]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},KD=ED(GD);function bn(...e){return KD(yS(e))}function uu({className:e,type:t,...n}){return s.jsx("input",{type:t,"data-slot":"input",className:bn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}function YD({className:e,...t}){return s.jsx("textarea",{"data-slot":"textarea",className:bn("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function rb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function qi(...e){return t=>{let n=!1;const r=e.map(i=>{const a=rb(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():rb(e[i],null)}}}}function $t(...e){return g.useCallback(qi(...e),e)}var XD=Symbol.for("react.lazy"),hu=pg[" use ".trim().toString()];function JD(e){return typeof e=="object"&&e!==null&&"then"in e}function PS(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===XD&&"_payload"in e&&JD(e._payload)}function RS(e){const t=ZD(e),n=g.forwardRef((r,i)=>{let{children:a,...c}=r;PS(a)&&typeof hu=="function"&&(a=hu(a._payload));const d=g.Children.toArray(a),u=d.find(tO);if(u){const f=u.props.children,p=d.map(m=>m===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:m);return s.jsx(t,{...c,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,p):null})}return s.jsx(t,{...c,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var QD=RS("Slot");function ZD(e){const t=g.forwardRef((n,r)=>{let{children:i,...a}=n;if(PS(i)&&typeof hu=="function"&&(i=hu(i._payload)),g.isValidElement(i)){const c=rO(i),d=nO(a,i.props);return i.type!==g.Fragment&&(d.ref=r?qi(r,c):c),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eO=Symbol("radix.slottable");function tO(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eO}function nO(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function rO(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const sb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ib=yS,sO=(e,t)=>n=>{var r;if(t?.variants==null)return ib(e,n?.class,n?.className);const{variants:i,defaultVariants:a}=t,c=Object.keys(i).map(f=>{const p=n?.[f],m=a?.[f];if(p===null)return null;const y=sb(p)||sb(m);return i[f][y]}),d=n&&Object.entries(n).reduce((f,p)=>{let[m,y]=p;return y===void 0||(f[m]=y),f},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:m,className:y,...v}=p;return Object.entries(v).every(w=>{let[j,S]=w;return Array.isArray(S)?S.includes({...a,...d}[j]):{...a,...d}[j]===S})?[...f,m,y]:f},[]);return ib(e,c,u,n?.class,n?.className)},iO=sO("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Un({className:e,variant:t,size:n,asChild:r=!1,...i}){const a=r?QD:"button";return s.jsx(a,{"data-slot":"button",className:bn(iO({variant:t,size:n,className:e})),...i})}function ob(e,[t,n]){return Math.min(n,Math.max(t,e))}function vt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function oO(e,t){const n=g.createContext(t),r=a=>{const{children:c,...d}=a,u=g.useMemo(()=>d,Object.values(d));return s.jsx(n.Provider,{value:u,children:c})};r.displayName=e+"Provider";function i(a){const c=g.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Kl(e,t=[]){let n=[];function r(a,c){const d=g.createContext(c),u=n.length;n=[...n,c];const f=m=>{const{scope:y,children:v,...w}=m,j=y?.[e]?.[u]||d,S=g.useMemo(()=>w,Object.values(w));return s.jsx(j.Provider,{value:S,children:v})};f.displayName=a+"Provider";function p(m,y){const v=y?.[e]?.[u]||d,w=g.useContext(v);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(c=>g.createContext(c));return function(d){const u=d?.[e]||a;return g.useMemo(()=>({[`__scope${e}`]:{...d,[e]:u}}),[d,u])}};return i.scopeName=e,[r,aO(i,...t)]}function aO(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const c=r.reduce((d,{useScope:u,scopeName:f})=>{const m=u(a)[`__scope${f}`];return{...d,...m}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function ab(e){const t=lO(e),n=g.forwardRef((r,i)=>{const{children:a,...c}=r,d=g.Children.toArray(a),u=d.find(dO);if(u){const f=u.props.children,p=d.map(m=>m===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:m);return s.jsx(t,{...c,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,p):null})}return s.jsx(t,{...c,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function lO(e){const t=g.forwardRef((n,r)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const c=hO(i),d=uO(a,i.props);return i.type!==g.Fragment&&(d.ref=r?qi(r,c):c),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cO=Symbol("radix.slottable");function dO(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cO}function uO(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function hO(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function fO(e){const t=e+"CollectionProvider",[n,r]=Kl(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=j=>{const{scope:S,children:N}=j,E=de.useRef(null),C=de.useRef(new Map).current;return s.jsx(i,{scope:S,itemMap:C,collectionRef:E,children:N})};c.displayName=t;const d=e+"CollectionSlot",u=ab(d),f=de.forwardRef((j,S)=>{const{scope:N,children:E}=j,C=a(d,N),_=$t(S,C.collectionRef);return s.jsx(u,{ref:_,children:E})});f.displayName=d;const p=e+"CollectionItemSlot",m="data-radix-collection-item",y=ab(p),v=de.forwardRef((j,S)=>{const{scope:N,children:E,...C}=j,_=de.useRef(null),T=$t(S,_),I=a(p,N);return de.useEffect(()=>(I.itemMap.set(_,{ref:_,...C}),()=>void I.itemMap.delete(_))),s.jsx(y,{[m]:"",ref:T,children:E})});v.displayName=p;function w(j){const S=a(e+"CollectionConsumer",j);return de.useCallback(()=>{const E=S.collectionRef.current;if(!E)return[];const C=Array.from(E.querySelectorAll(`[${m}]`));return Array.from(S.itemMap.values()).sort((I,M)=>C.indexOf(I.ref.current)-C.indexOf(M.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:c,Slot:f,ItemSlot:v},w,r]}var pO=g.createContext(void 0);function mO(e){const t=g.useContext(pO);return e||t||"ltr"}function gO(e){const t=xO(e),n=g.forwardRef((r,i)=>{const{children:a,...c}=r,d=g.Children.toArray(a),u=d.find(vO);if(u){const f=u.props.children,p=d.map(m=>m===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:m);return s.jsx(t,{...c,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,p):null})}return s.jsx(t,{...c,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function xO(e){const t=g.forwardRef((n,r)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const c=bO(i),d=wO(a,i.props);return i.type!==g.Fragment&&(d.ref=r?qi(r,c):c),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yO=Symbol("radix.slottable");function vO(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yO}function wO(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function bO(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var jO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nt=jO.reduce((e,t)=>{const n=gO(`Primitive.${t}`),r=g.forwardRef((i,a)=>{const{asChild:c,...d}=i,u=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...d,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function SO(e,t){e&&_r.flushSync(()=>e.dispatchEvent(t))}function $i(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>t.current?.(...n),[])}function NO(e,t=globalThis?.document){const n=$i(e);g.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var kO="DismissableLayer",Dm="dismissableLayer.update",CO="dismissableLayer.pointerDownOutside",EO="dismissableLayer.focusOutside",lb,DS=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lu=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:c,onDismiss:d,...u}=e,f=g.useContext(DS),[p,m]=g.useState(null),y=p?.ownerDocument??globalThis?.document,[,v]=g.useState({}),w=$t(t,M=>m(M)),j=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=j.indexOf(S),E=p?j.indexOf(p):-1,C=f.layersWithOutsidePointerEventsDisabled.size>0,_=E>=N,T=TO(M=>{const F=M.target,U=[...f.branches].some(G=>G.contains(F));!_||U||(i?.(M),c?.(M),M.defaultPrevented||d?.())},y),I=PO(M=>{const F=M.target;[...f.branches].some(G=>G.contains(F))||(a?.(M),c?.(M),M.defaultPrevented||d?.())},y);return NO(M=>{E===f.layers.size-1&&(r?.(M),!M.defaultPrevented&&d&&(M.preventDefault(),d()))},y),g.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(lb=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),cb(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=lb)}},[p,y,n,f]),g.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),cb())},[p,f]),g.useEffect(()=>{const M=()=>v({});return document.addEventListener(Dm,M),()=>document.removeEventListener(Dm,M)},[]),s.jsx(Nt.div,{...u,ref:w,style:{pointerEvents:C?_?"auto":"none":void 0,...e.style},onFocusCapture:vt(e.onFocusCapture,I.onFocusCapture),onBlurCapture:vt(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:vt(e.onPointerDownCapture,T.onPointerDownCapture)})});Lu.displayName=kO;var _O="DismissableLayerBranch",AO=g.forwardRef((e,t)=>{const n=g.useContext(DS),r=g.useRef(null),i=$t(t,r);return g.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Nt.div,{...e,ref:i})});AO.displayName=_O;function TO(e,t=globalThis?.document){const n=$i(e),r=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const a=d=>{if(d.target&&!r.current){let u=function(){OS(CO,n,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function PO(e,t=globalThis?.document){const n=$i(e),r=g.useRef(!1);return g.useEffect(()=>{const i=a=>{a.target&&!r.current&&OS(EO,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function cb(){const e=new CustomEvent(Dm);document.dispatchEvent(e)}function OS(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?SO(i,a):i.dispatchEvent(a)}var up=0;function i0(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??db()),document.body.insertAdjacentElement("beforeend",e[1]??db()),up++,()=>{up===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),up--}},[])}function db(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hp="focusScope.autoFocusOnMount",fp="focusScope.autoFocusOnUnmount",ub={bubbles:!1,cancelable:!0},RO="FocusScope",Bu=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...c}=e,[d,u]=g.useState(null),f=$i(i),p=$i(a),m=g.useRef(null),y=$t(t,j=>u(j)),v=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let j=function(C){if(v.paused||!d)return;const _=C.target;d.contains(_)?m.current=_:Us(m.current,{select:!0})},S=function(C){if(v.paused||!d)return;const _=C.relatedTarget;_!==null&&(d.contains(_)||Us(m.current,{select:!0}))},N=function(C){if(document.activeElement===document.body)for(const T of C)T.removedNodes.length>0&&Us(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",S);const E=new MutationObserver(N);return d&&E.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",S),E.disconnect()}}},[r,d,v.paused]),g.useEffect(()=>{if(d){fb.add(v);const j=document.activeElement;if(!d.contains(j)){const N=new CustomEvent(hp,ub);d.addEventListener(hp,f),d.dispatchEvent(N),N.defaultPrevented||(DO(LO(IS(d)),{select:!0}),document.activeElement===j&&Us(d))}return()=>{d.removeEventListener(hp,f),setTimeout(()=>{const N=new CustomEvent(fp,ub);d.addEventListener(fp,p),d.dispatchEvent(N),N.defaultPrevented||Us(j??document.body,{select:!0}),d.removeEventListener(fp,p),fb.remove(v)},0)}}},[d,f,p,v]);const w=g.useCallback(j=>{if(!n&&!r||v.paused)return;const S=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,N=document.activeElement;if(S&&N){const E=j.currentTarget,[C,_]=OO(E);C&&_?!j.shiftKey&&N===_?(j.preventDefault(),n&&Us(C,{select:!0})):j.shiftKey&&N===C&&(j.preventDefault(),n&&Us(_,{select:!0})):N===E&&j.preventDefault()}},[n,r,v.paused]);return s.jsx(Nt.div,{tabIndex:-1,...c,ref:y,onKeyDown:w})});Bu.displayName=RO;function DO(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Us(r,{select:t}),document.activeElement!==n)return}function OO(e){const t=IS(e),n=hb(t,e),r=hb(t.reverse(),e);return[n,r]}function IS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function hb(e,t){for(const n of e)if(!IO(n,{upTo:t}))return n}function IO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function FO(e){return e instanceof HTMLInputElement&&"select"in e}function Us(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&FO(e)&&t&&e.select()}}var fb=MO();function MO(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=pb(e,t),e.unshift(t)},remove(t){e=pb(e,t),e[0]?.resume()}}}function pb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function LO(e){return e.filter(t=>t.tagName!=="A")}var jn=globalThis?.document?g.useLayoutEffect:()=>{},BO=pg[" useId ".trim().toString()]||(()=>{}),$O=0;function Bi(e){const[t,n]=g.useState(BO());return jn(()=>{n(r=>r??String($O++))},[e]),e||(t?`radix-${t}`:"")}const zO=["top","right","bottom","left"],Xs=Math.min,Hn=Math.max,fu=Math.round,yd=Math.floor,Kr=e=>({x:e,y:e}),WO={left:"right",right:"left",bottom:"top",top:"bottom"},VO={start:"end",end:"start"};function Om(e,t,n){return Hn(e,Xs(t,n))}function ys(e,t){return typeof e=="function"?e(t):e}function vs(e){return e.split("-")[0]}function oa(e){return e.split("-")[1]}function o0(e){return e==="x"?"y":"x"}function a0(e){return e==="y"?"height":"width"}const UO=new Set(["top","bottom"]);function Hr(e){return UO.has(vs(e))?"y":"x"}function l0(e){return o0(Hr(e))}function HO(e,t,n){n===void 0&&(n=!1);const r=oa(e),i=l0(e),a=a0(i);let c=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=pu(c)),[c,pu(c)]}function qO(e){const t=pu(e);return[Im(e),t,Im(t)]}function Im(e){return e.replace(/start|end/g,t=>VO[t])}const mb=["left","right"],gb=["right","left"],GO=["top","bottom"],KO=["bottom","top"];function YO(e,t,n){switch(e){case"top":case"bottom":return n?t?gb:mb:t?mb:gb;case"left":case"right":return t?GO:KO;default:return[]}}function XO(e,t,n,r){const i=oa(e);let a=YO(vs(e),n==="start",r);return i&&(a=a.map(c=>c+"-"+i),t&&(a=a.concat(a.map(Im)))),a}function pu(e){return e.replace(/left|right|bottom|top/g,t=>WO[t])}function JO(e){return{top:0,right:0,bottom:0,left:0,...e}}function FS(e){return typeof e!="number"?JO(e):{top:e,right:e,bottom:e,left:e}}function mu(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function xb(e,t,n){let{reference:r,floating:i}=e;const a=Hr(t),c=l0(t),d=a0(c),u=vs(t),f=a==="y",p=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,y=r[d]/2-i[d]/2;let v;switch(u){case"top":v={x:p,y:r.y-i.height};break;case"bottom":v={x:p,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:m};break;case"left":v={x:r.x-i.width,y:m};break;default:v={x:r.x,y:r.y}}switch(oa(t)){case"start":v[c]-=y*(n&&f?-1:1);break;case"end":v[c]+=y*(n&&f?-1:1);break}return v}const QO=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:c}=n,d=a.filter(Boolean),u=await(c.isRTL==null?void 0:c.isRTL(t));let f=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:m}=xb(f,r,u),y=r,v={},w=0;for(let j=0;j<d.length;j++){const{name:S,fn:N}=d[j],{x:E,y:C,data:_,reset:T}=await N({x:p,y:m,initialPlacement:r,placement:y,strategy:i,middlewareData:v,rects:f,platform:c,elements:{reference:e,floating:t}});p=E??p,m=C??m,v={...v,[S]:{...v[S],..._}},T&&w<=50&&(w++,typeof T=="object"&&(T.placement&&(y=T.placement),T.rects&&(f=T.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:p,y:m}=xb(f,y,u)),j=-1)}return{x:p,y:m,placement:y,strategy:i,middlewareData:v}};async function _l(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:c,elements:d,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:y=!1,padding:v=0}=ys(t,e),w=FS(v),S=d[y?m==="floating"?"reference":"floating":m],N=mu(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:f,rootBoundary:p,strategy:u})),E=m==="floating"?{x:r,y:i,width:c.floating.width,height:c.floating.height}:c.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),_=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},T=mu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:E,offsetParent:C,strategy:u}):E);return{top:(N.top-T.top+w.top)/_.y,bottom:(T.bottom-N.bottom+w.bottom)/_.y,left:(N.left-T.left+w.left)/_.x,right:(T.right-N.right+w.right)/_.x}}const ZO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:c,elements:d,middlewareData:u}=t,{element:f,padding:p=0}=ys(e,t)||{};if(f==null)return{};const m=FS(p),y={x:n,y:r},v=l0(i),w=a0(v),j=await c.getDimensions(f),S=v==="y",N=S?"top":"left",E=S?"bottom":"right",C=S?"clientHeight":"clientWidth",_=a.reference[w]+a.reference[v]-y[v]-a.floating[w],T=y[v]-a.reference[v],I=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let M=I?I[C]:0;(!M||!await(c.isElement==null?void 0:c.isElement(I)))&&(M=d.floating[C]||a.floating[w]);const F=_/2-T/2,U=M/2-j[w]/2-1,G=Xs(m[N],U),se=Xs(m[E],U),ae=G,oe=M-j[w]-se,ee=M/2-j[w]/2+F,L=Om(ae,ee,oe),$=!u.arrow&&oa(i)!=null&&ee!==L&&a.reference[w]/2-(ee<ae?G:se)-j[w]/2<0,D=$?ee<ae?ee-ae:ee-oe:0;return{[v]:y[v]+D,data:{[v]:L,centerOffset:ee-L-D,...$&&{alignmentOffset:D}},reset:$}}}),eI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:c,initialPlacement:d,platform:u,elements:f}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:j=!0,...S}=ys(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=vs(i),E=Hr(d),C=vs(d)===d,_=await(u.isRTL==null?void 0:u.isRTL(f.floating)),T=y||(C||!j?[pu(d)]:qO(d)),I=w!=="none";!y&&I&&T.push(...XO(d,j,w,_));const M=[d,...T],F=await _l(t,S),U=[];let G=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&U.push(F[N]),m){const ee=HO(i,c,_);U.push(F[ee[0]],F[ee[1]])}if(G=[...G,{placement:i,overflows:U}],!U.every(ee=>ee<=0)){var se,ae;const ee=(((se=a.flip)==null?void 0:se.index)||0)+1,L=M[ee];if(L&&(!(m==="alignment"?E!==Hr(L):!1)||G.every(P=>Hr(P.placement)===E?P.overflows[0]>0:!0)))return{data:{index:ee,overflows:G},reset:{placement:L}};let $=(ae=G.filter(D=>D.overflows[0]<=0).sort((D,P)=>D.overflows[1]-P.overflows[1])[0])==null?void 0:ae.placement;if(!$)switch(v){case"bestFit":{var oe;const D=(oe=G.filter(P=>{if(I){const R=Hr(P.placement);return R===E||R==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(R=>R>0).reduce((R,q)=>R+q,0)]).sort((P,R)=>P[1]-R[1])[0])==null?void 0:oe[0];D&&($=D);break}case"initialPlacement":$=d;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function yb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function vb(e){return zO.some(t=>e[t]>=0)}const tI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=ys(e,t);switch(r){case"referenceHidden":{const a=await _l(t,{...i,elementContext:"reference"}),c=yb(a,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:vb(c)}}}case"escaped":{const a=await _l(t,{...i,altBoundary:!0}),c=yb(a,n.floating);return{data:{escapedOffsets:c,escaped:vb(c)}}}default:return{}}}}},MS=new Set(["left","top"]);async function nI(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),c=vs(n),d=oa(n),u=Hr(n)==="y",f=MS.has(c)?-1:1,p=a&&u?-1:1,m=ys(t,e);let{mainAxis:y,crossAxis:v,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return d&&typeof w=="number"&&(v=d==="end"?w*-1:w),u?{x:v*p,y:y*f}:{x:y*f,y:v*p}}const rI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:c,middlewareData:d}=t,u=await nI(t,e);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:c}}}}},sI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:d={fn:S=>{let{x:N,y:E}=S;return{x:N,y:E}}},...u}=ys(e,t),f={x:n,y:r},p=await _l(t,u),m=Hr(vs(i)),y=o0(m);let v=f[y],w=f[m];if(a){const S=y==="y"?"top":"left",N=y==="y"?"bottom":"right",E=v+p[S],C=v-p[N];v=Om(E,v,C)}if(c){const S=m==="y"?"top":"left",N=m==="y"?"bottom":"right",E=w+p[S],C=w-p[N];w=Om(E,w,C)}const j=d.fn({...t,[y]:v,[m]:w});return{...j,data:{x:j.x-n,y:j.y-r,enabled:{[y]:a,[m]:c}}}}}},iI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:c}=t,{offset:d=0,mainAxis:u=!0,crossAxis:f=!0}=ys(e,t),p={x:n,y:r},m=Hr(i),y=o0(m);let v=p[y],w=p[m];const j=ys(d,t),S=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(u){const C=y==="y"?"height":"width",_=a.reference[y]-a.floating[C]+S.mainAxis,T=a.reference[y]+a.reference[C]-S.mainAxis;v<_?v=_:v>T&&(v=T)}if(f){var N,E;const C=y==="y"?"width":"height",_=MS.has(vs(i)),T=a.reference[m]-a.floating[C]+(_&&((N=c.offset)==null?void 0:N[m])||0)+(_?0:S.crossAxis),I=a.reference[m]+a.reference[C]+(_?0:((E=c.offset)==null?void 0:E[m])||0)-(_?S.crossAxis:0);w<T?w=T:w>I&&(w=I)}return{[y]:v,[m]:w}}}},oI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:c,elements:d}=t,{apply:u=()=>{},...f}=ys(e,t),p=await _l(t,f),m=vs(i),y=oa(i),v=Hr(i)==="y",{width:w,height:j}=a.floating;let S,N;m==="top"||m==="bottom"?(S=m,N=y===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(N=m,S=y==="end"?"top":"bottom");const E=j-p.top-p.bottom,C=w-p.left-p.right,_=Xs(j-p[S],E),T=Xs(w-p[N],C),I=!t.middlewareData.shift;let M=_,F=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(F=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(M=E),I&&!y){const G=Hn(p.left,0),se=Hn(p.right,0),ae=Hn(p.top,0),oe=Hn(p.bottom,0);v?F=w-2*(G!==0||se!==0?G+se:Hn(p.left,p.right)):M=j-2*(ae!==0||oe!==0?ae+oe:Hn(p.top,p.bottom))}await u({...t,availableWidth:F,availableHeight:M});const U=await c.getDimensions(d.floating);return w!==U.width||j!==U.height?{reset:{rects:!0}}:{}}}};function $u(){return typeof window<"u"}function aa(e){return LS(e)?(e.nodeName||"").toLowerCase():"#document"}function Kn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jr(e){var t;return(t=(LS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function LS(e){return $u()?e instanceof Node||e instanceof Kn(e).Node:!1}function Tr(e){return $u()?e instanceof Element||e instanceof Kn(e).Element:!1}function Yr(e){return $u()?e instanceof HTMLElement||e instanceof Kn(e).HTMLElement:!1}function wb(e){return!$u()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Kn(e).ShadowRoot}const aI=new Set(["inline","contents"]);function Yl(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Pr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!aI.has(i)}const lI=new Set(["table","td","th"]);function cI(e){return lI.has(aa(e))}const dI=[":popover-open",":modal"];function zu(e){return dI.some(t=>{try{return e.matches(t)}catch{return!1}})}const uI=["transform","translate","scale","rotate","perspective"],hI=["transform","translate","scale","rotate","perspective","filter"],fI=["paint","layout","strict","content"];function c0(e){const t=d0(),n=Tr(e)?Pr(e):e;return uI.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||hI.some(r=>(n.willChange||"").includes(r))||fI.some(r=>(n.contain||"").includes(r))}function pI(e){let t=Js(e);for(;Yr(t)&&!Xo(t);){if(c0(t))return t;if(zu(t))return null;t=Js(t)}return null}function d0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mI=new Set(["html","body","#document"]);function Xo(e){return mI.has(aa(e))}function Pr(e){return Kn(e).getComputedStyle(e)}function Wu(e){return Tr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Js(e){if(aa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||wb(e)&&e.host||Jr(e);return wb(t)?t.host:t}function BS(e){const t=Js(e);return Xo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yr(t)&&Yl(t)?t:BS(t)}function Al(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=BS(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),c=Kn(i);if(a){const d=Fm(c);return t.concat(c,c.visualViewport||[],Yl(i)?i:[],d&&n?Al(d):[])}return t.concat(i,Al(i,[],n))}function Fm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $S(e){const t=Pr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Yr(e),a=i?e.offsetWidth:n,c=i?e.offsetHeight:r,d=fu(n)!==a||fu(r)!==c;return d&&(n=a,r=c),{width:n,height:r,$:d}}function u0(e){return Tr(e)?e:e.contextElement}function $o(e){const t=u0(e);if(!Yr(t))return Kr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=$S(t);let c=(a?fu(n.width):n.width)/r,d=(a?fu(n.height):n.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const gI=Kr(0);function zS(e){const t=Kn(e);return!d0()||!t.visualViewport?gI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xI(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Kn(e)?!1:t}function zi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=u0(e);let c=Kr(1);t&&(r?Tr(r)&&(c=$o(r)):c=$o(e));const d=xI(a,n,r)?zS(a):Kr(0);let u=(i.left+d.x)/c.x,f=(i.top+d.y)/c.y,p=i.width/c.x,m=i.height/c.y;if(a){const y=Kn(a),v=r&&Tr(r)?Kn(r):r;let w=y,j=Fm(w);for(;j&&r&&v!==w;){const S=$o(j),N=j.getBoundingClientRect(),E=Pr(j),C=N.left+(j.clientLeft+parseFloat(E.paddingLeft))*S.x,_=N.top+(j.clientTop+parseFloat(E.paddingTop))*S.y;u*=S.x,f*=S.y,p*=S.x,m*=S.y,u+=C,f+=_,w=Kn(j),j=Fm(w)}}return mu({width:p,height:m,x:u,y:f})}function Vu(e,t){const n=Wu(e).scrollLeft;return t?t.left+n:zi(Jr(e)).left+n}function WS(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Vu(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function yI(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",c=Jr(r),d=t?zu(t.floating):!1;if(r===c||d&&a)return n;let u={scrollLeft:0,scrollTop:0},f=Kr(1);const p=Kr(0),m=Yr(r);if((m||!m&&!a)&&((aa(r)!=="body"||Yl(c))&&(u=Wu(r)),Yr(r))){const v=zi(r);f=$o(r),p.x=v.x+r.clientLeft,p.y=v.y+r.clientTop}const y=c&&!m&&!a?WS(c,u):Kr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+p.x+y.x,y:n.y*f.y-u.scrollTop*f.y+p.y+y.y}}function vI(e){return Array.from(e.getClientRects())}function wI(e){const t=Jr(e),n=Wu(e),r=e.ownerDocument.body,i=Hn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Hn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Vu(e);const d=-n.scrollTop;return Pr(r).direction==="rtl"&&(c+=Hn(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:c,y:d}}const bb=25;function bI(e,t){const n=Kn(e),r=Jr(e),i=n.visualViewport;let a=r.clientWidth,c=r.clientHeight,d=0,u=0;if(i){a=i.width,c=i.height;const p=d0();(!p||p&&t==="fixed")&&(d=i.offsetLeft,u=i.offsetTop)}const f=Vu(r);if(f<=0){const p=r.ownerDocument,m=p.body,y=getComputedStyle(m),v=p.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,w=Math.abs(r.clientWidth-m.clientWidth-v);w<=bb&&(a-=w)}else f<=bb&&(a+=f);return{width:a,height:c,x:d,y:u}}const jI=new Set(["absolute","fixed"]);function SI(e,t){const n=zi(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Yr(e)?$o(e):Kr(1),c=e.clientWidth*a.x,d=e.clientHeight*a.y,u=i*a.x,f=r*a.y;return{width:c,height:d,x:u,y:f}}function jb(e,t,n){let r;if(t==="viewport")r=bI(e,n);else if(t==="document")r=wI(Jr(e));else if(Tr(t))r=SI(t,n);else{const i=zS(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return mu(r)}function VS(e,t){const n=Js(e);return n===t||!Tr(n)||Xo(n)?!1:Pr(n).position==="fixed"||VS(n,t)}function NI(e,t){const n=t.get(e);if(n)return n;let r=Al(e,[],!1).filter(d=>Tr(d)&&aa(d)!=="body"),i=null;const a=Pr(e).position==="fixed";let c=a?Js(e):e;for(;Tr(c)&&!Xo(c);){const d=Pr(c),u=c0(c);!u&&d.position==="fixed"&&(i=null),(a?!u&&!i:!u&&d.position==="static"&&!!i&&jI.has(i.position)||Yl(c)&&!u&&VS(e,c))?r=r.filter(p=>p!==c):i=d,c=Js(c)}return t.set(e,r),r}function kI(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const c=[...n==="clippingAncestors"?zu(t)?[]:NI(t,this._c):[].concat(n),r],d=c[0],u=c.reduce((f,p)=>{const m=jb(t,p,i);return f.top=Hn(m.top,f.top),f.right=Xs(m.right,f.right),f.bottom=Xs(m.bottom,f.bottom),f.left=Hn(m.left,f.left),f},jb(t,d,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function CI(e){const{width:t,height:n}=$S(e);return{width:t,height:n}}function EI(e,t,n){const r=Yr(t),i=Jr(t),a=n==="fixed",c=zi(e,!0,a,t);let d={scrollLeft:0,scrollTop:0};const u=Kr(0);function f(){u.x=Vu(i)}if(r||!r&&!a)if((aa(t)!=="body"||Yl(i))&&(d=Wu(t)),r){const v=zi(t,!0,a,t);u.x=v.x+t.clientLeft,u.y=v.y+t.clientTop}else i&&f();a&&!r&&i&&f();const p=i&&!r&&!a?WS(i,d):Kr(0),m=c.left+d.scrollLeft-u.x-p.x,y=c.top+d.scrollTop-u.y-p.y;return{x:m,y,width:c.width,height:c.height}}function pp(e){return Pr(e).position==="static"}function Sb(e,t){if(!Yr(e)||Pr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Jr(e)===n&&(n=n.ownerDocument.body),n}function US(e,t){const n=Kn(e);if(zu(e))return n;if(!Yr(e)){let i=Js(e);for(;i&&!Xo(i);){if(Tr(i)&&!pp(i))return i;i=Js(i)}return n}let r=Sb(e,t);for(;r&&cI(r)&&pp(r);)r=Sb(r,t);return r&&Xo(r)&&pp(r)&&!c0(r)?n:r||pI(e)||n}const _I=async function(e){const t=this.getOffsetParent||US,n=this.getDimensions,r=await n(e.floating);return{reference:EI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function AI(e){return Pr(e).direction==="rtl"}const TI={convertOffsetParentRelativeRectToViewportRelativeRect:yI,getDocumentElement:Jr,getClippingRect:kI,getOffsetParent:US,getElementRects:_I,getClientRects:vI,getDimensions:CI,getScale:$o,isElement:Tr,isRTL:AI};function HS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function PI(e,t){let n=null,r;const i=Jr(e);function a(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,u){d===void 0&&(d=!1),u===void 0&&(u=1),a();const f=e.getBoundingClientRect(),{left:p,top:m,width:y,height:v}=f;if(d||t(),!y||!v)return;const w=yd(m),j=yd(i.clientWidth-(p+y)),S=yd(i.clientHeight-(m+v)),N=yd(p),C={rootMargin:-w+"px "+-j+"px "+-S+"px "+-N+"px",threshold:Hn(0,Xs(1,u))||1};let _=!0;function T(I){const M=I[0].intersectionRatio;if(M!==u){if(!_)return c();M?c(!1,M):r=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!HS(f,e.getBoundingClientRect())&&c(),_=!1}try{n=new IntersectionObserver(T,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,C)}n.observe(e)}return c(!0),a}function RI(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,f=u0(e),p=i||a?[...f?Al(f):[],...Al(t)]:[];p.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const m=f&&d?PI(f,n):null;let y=-1,v=null;c&&(v=new ResizeObserver(N=>{let[E]=N;E&&E.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(t)})),n()}),f&&!u&&v.observe(f),v.observe(t));let w,j=u?zi(e):null;u&&S();function S(){const N=zi(e);j&&!HS(j,N)&&n(),j=N,w=requestAnimationFrame(S)}return n(),()=>{var N;p.forEach(E=>{i&&E.removeEventListener("scroll",n),a&&E.removeEventListener("resize",n)}),m?.(),(N=v)==null||N.disconnect(),v=null,u&&cancelAnimationFrame(w)}}const DI=rI,OI=sI,II=eI,FI=oI,MI=tI,Nb=ZO,LI=iI,BI=(e,t,n)=>{const r=new Map,i={platform:TI,...n},a={...i.platform,_c:r};return QO(e,t,{...i,platform:a})};var $I=typeof document<"u",zI=function(){},qd=$I?g.useLayoutEffect:zI;function gu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!gu(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!gu(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function qS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kb(e,t){const n=qS(e);return Math.round(t*n)/n}function mp(e){const t=g.useRef(e);return qd(()=>{t.current=e}),t}function WI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:c}={},transform:d=!0,whileElementsMounted:u,open:f}=e,[p,m]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,v]=g.useState(r);gu(y,r)||v(r);const[w,j]=g.useState(null),[S,N]=g.useState(null),E=g.useCallback(P=>{P!==I.current&&(I.current=P,j(P))},[]),C=g.useCallback(P=>{P!==M.current&&(M.current=P,N(P))},[]),_=a||w,T=c||S,I=g.useRef(null),M=g.useRef(null),F=g.useRef(p),U=u!=null,G=mp(u),se=mp(i),ae=mp(f),oe=g.useCallback(()=>{if(!I.current||!M.current)return;const P={placement:t,strategy:n,middleware:y};se.current&&(P.platform=se.current),BI(I.current,M.current,P).then(R=>{const q={...R,isPositioned:ae.current!==!1};ee.current&&!gu(F.current,q)&&(F.current=q,_r.flushSync(()=>{m(q)}))})},[y,t,n,se,ae]);qd(()=>{f===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,m(P=>({...P,isPositioned:!1})))},[f]);const ee=g.useRef(!1);qd(()=>(ee.current=!0,()=>{ee.current=!1}),[]),qd(()=>{if(_&&(I.current=_),T&&(M.current=T),_&&T){if(G.current)return G.current(_,T,oe);oe()}},[_,T,oe,G,U]);const L=g.useMemo(()=>({reference:I,floating:M,setReference:E,setFloating:C}),[E,C]),$=g.useMemo(()=>({reference:_,floating:T}),[_,T]),D=g.useMemo(()=>{const P={position:n,left:0,top:0};if(!$.floating)return P;const R=kb($.floating,p.x),q=kb($.floating,p.y);return d?{...P,transform:"translate("+R+"px, "+q+"px)",...qS($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:q}},[n,d,$.floating,p.x,p.y]);return g.useMemo(()=>({...p,update:oe,refs:L,elements:$,floatingStyles:D}),[p,oe,L,$,D])}const VI=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Nb({element:r.current,padding:i}).fn(n):{}:r?Nb({element:r,padding:i}).fn(n):{}}}},UI=(e,t)=>({...DI(e),options:[e,t]}),HI=(e,t)=>({...OI(e),options:[e,t]}),qI=(e,t)=>({...LI(e),options:[e,t]}),GI=(e,t)=>({...II(e),options:[e,t]}),KI=(e,t)=>({...FI(e),options:[e,t]}),YI=(e,t)=>({...MI(e),options:[e,t]}),XI=(e,t)=>({...VI(e),options:[e,t]});var JI="Arrow",GS=g.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return s.jsx(Nt.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});GS.displayName=JI;var QI=GS;function ZI(e){const[t,n]=g.useState(void 0);return jn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let c,d;if("borderBoxSize"in a){const u=a.borderBoxSize,f=Array.isArray(u)?u[0]:u;c=f.inlineSize,d=f.blockSize}else c=e.offsetWidth,d=e.offsetHeight;n({width:c,height:d})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var h0="Popper",[KS,Uu]=Kl(h0),[eF,YS]=KS(h0),XS=e=>{const{__scopePopper:t,children:n}=e,[r,i]=g.useState(null);return s.jsx(eF,{scope:t,anchor:r,onAnchorChange:i,children:n})};XS.displayName=h0;var JS="PopperAnchor",QS=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=YS(JS,n),c=g.useRef(null),d=$t(t,c),u=g.useRef(null);return g.useEffect(()=>{const f=u.current;u.current=r?.current||c.current,f!==u.current&&a.onAnchorChange(u.current)}),r?null:s.jsx(Nt.div,{...i,ref:d})});QS.displayName=JS;var f0="PopperContent",[tF,nF]=KS(f0),ZS=g.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:v="optimized",onPlaced:w,...j}=e,S=YS(f0,n),[N,E]=g.useState(null),C=$t(t,Q=>E(Q)),[_,T]=g.useState(null),I=ZI(_),M=I?.width??0,F=I?.height??0,U=r+(a!=="center"?"-"+a:""),G=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},se=Array.isArray(f)?f:[f],ae=se.length>0,oe={padding:G,boundary:se.filter(sF),altBoundary:ae},{refs:ee,floatingStyles:L,placement:$,isPositioned:D,middlewareData:P}=WI({strategy:"fixed",placement:U,whileElementsMounted:(...Q)=>RI(...Q,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[UI({mainAxis:i+F,alignmentAxis:c}),u&&HI({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?qI():void 0,...oe}),u&&GI({...oe}),KI({...oe,apply:({elements:Q,rects:te,availableWidth:he,availableHeight:le})=>{const{width:Ne,height:ke}=te.reference,tt=Q.floating.style;tt.setProperty("--radix-popper-available-width",`${he}px`),tt.setProperty("--radix-popper-available-height",`${le}px`),tt.setProperty("--radix-popper-anchor-width",`${Ne}px`),tt.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),_&&XI({element:_,padding:d}),iF({arrowWidth:M,arrowHeight:F}),y&&YI({strategy:"referenceHidden",...oe})]}),[R,q]=nN($),B=$i(w);jn(()=>{D&&B?.()},[D,B]);const W=P.arrow?.x,z=P.arrow?.y,X=P.arrow?.centerOffset!==0,[H,Z]=g.useState();return jn(()=>{N&&Z(window.getComputedStyle(N).zIndex)},[N]),s.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:D?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[P.transformOrigin?.x,P.transformOrigin?.y].join(" "),...P.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(tF,{scope:n,placedSide:R,onArrowChange:T,arrowX:W,arrowY:z,shouldHideArrow:X,children:s.jsx(Nt.div,{"data-side":R,"data-align":q,...j,ref:C,style:{...j.style,animation:D?void 0:"none"}})})})});ZS.displayName=f0;var eN="PopperArrow",rF={top:"bottom",right:"left",bottom:"top",left:"right"},tN=g.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=nF(eN,r),c=rF[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(QI,{...i,ref:n,style:{...i.style,display:"block"}})})});tN.displayName=eN;function sF(e){return e!==null}var iF=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,c=i.arrow?.centerOffset!==0,d=c?0:e.arrowWidth,u=c?0:e.arrowHeight,[f,p]=nN(n),m={start:"0%",center:"50%",end:"100%"}[p],y=(i.arrow?.x??0)+d/2,v=(i.arrow?.y??0)+u/2;let w="",j="";return f==="bottom"?(w=c?m:`${y}px`,j=`${-u}px`):f==="top"?(w=c?m:`${y}px`,j=`${r.floating.height+u}px`):f==="right"?(w=`${-u}px`,j=c?m:`${v}px`):f==="left"&&(w=`${r.floating.width+u}px`,j=c?m:`${v}px`),{data:{x:w,y:j}}}});function nN(e){const[t,n="center"]=e.split("-");return[t,n]}var rN=XS,p0=QS,sN=ZS,iN=tN,oF="Portal",Hu=g.forwardRef((e,t)=>{const{container:n,...r}=e,[i,a]=g.useState(!1);jn(()=>a(!0),[]);const c=n||i&&globalThis?.document?.body;return c?y2.createPortal(s.jsx(Nt.div,{...r,ref:t}),c):null});Hu.displayName=oF;function aF(e){const t=lF(e),n=g.forwardRef((r,i)=>{const{children:a,...c}=r,d=g.Children.toArray(a),u=d.find(dF);if(u){const f=u.props.children,p=d.map(m=>m===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:m);return s.jsx(t,{...c,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,p):null})}return s.jsx(t,{...c,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function lF(e){const t=g.forwardRef((n,r)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const c=hF(i),d=uF(a,i.props);return i.type!==g.Fragment&&(d.ref=r?qi(r,c):c),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cF=Symbol("radix.slottable");function dF(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cF}function uF(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function hF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var fF=pg[" useInsertionEffect ".trim().toString()]||jn;function xu({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,c]=pF({defaultProp:t,onChange:n}),d=e!==void 0,u=d?e:i;{const p=g.useRef(e!==void 0);g.useEffect(()=>{const m=p.current;m!==d&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,r])}const f=g.useCallback(p=>{if(d){const m=mF(p)?p(e):p;m!==e&&c.current?.(m)}else a(p)},[d,e,a,c]);return[u,f]}function pF({defaultProp:e,onChange:t}){const[n,r]=g.useState(e),i=g.useRef(n),a=g.useRef(t);return fF(()=>{a.current=t},[t]),g.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function mF(e){return typeof e=="function"}function gF(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var oN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xF="VisuallyHidden",yF=g.forwardRef((e,t)=>s.jsx(Nt.span,{...e,ref:t,style:{...oN,...e.style}}));yF.displayName=xF;var vF=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xo=new WeakMap,vd=new WeakMap,wd={},gp=0,aN=function(e){return e&&(e.host||aN(e.parentNode))},wF=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=aN(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},bF=function(e,t,n,r){var i=wF(t,Array.isArray(e)?e:[e]);wd[n]||(wd[n]=new WeakMap);var a=wd[n],c=[],d=new Set,u=new Set(i),f=function(m){!m||d.has(m)||(d.add(m),f(m.parentNode))};i.forEach(f);var p=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(y){if(d.has(y))p(y);else try{var v=y.getAttribute(r),w=v!==null&&v!=="false",j=(xo.get(y)||0)+1,S=(a.get(y)||0)+1;xo.set(y,j),a.set(y,S),c.push(y),j===1&&w&&vd.set(y,!0),S===1&&y.setAttribute(n,"true"),w||y.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",y,N)}})};return p(t),d.clear(),gp++,function(){c.forEach(function(m){var y=xo.get(m)-1,v=a.get(m)-1;xo.set(m,y),a.set(m,v),y||(vd.has(m)||m.removeAttribute(r),vd.delete(m)),v||m.removeAttribute(n)}),gp--,gp||(xo=new WeakMap,xo=new WeakMap,vd=new WeakMap,wd={})}},m0=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=vF(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),bF(r,i,n,"aria-hidden")):function(){return null}},Mm=function(e,t){return Mm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Mm(e,t)};function lN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Mm(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var cr=function(){return cr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},cr.apply(this,arguments)};function ti(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function cN(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var d=e.length-1;d>=0;d--)(c=e[d])&&(a=(i<3?c(a):i>3?c(t,n,a):c(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function dN(e,t){return function(n,r){t(n,r,e)}}function uN(e,t,n,r,i,a){function c(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var d=r.kind,u=d==="getter"?"get":d==="setter"?"set":"value",f=!t&&e?r.static?e:e.prototype:null,p=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),m,y=!1,v=n.length-1;v>=0;v--){var w={};for(var j in r)w[j]=j==="access"?{}:r[j];for(var j in r.access)w.access[j]=r.access[j];w.addInitializer=function(N){if(y)throw new TypeError("Cannot add initializers after decoration has completed");a.push(c(N||null))};var S=(0,n[v])(d==="accessor"?{get:p.get,set:p.set}:p[u],w);if(d==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(m=c(S.get))&&(p.get=m),(m=c(S.set))&&(p.set=m),(m=c(S.init))&&i.unshift(m)}else(m=c(S))&&(d==="field"?i.unshift(m):p[u]=m)}f&&Object.defineProperty(f,r.name,p),y=!0}function hN(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function fN(e){return typeof e=="symbol"?e:"".concat(e)}function pN(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function mN(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Be(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function d(p){try{f(r.next(p))}catch(m){c(m)}}function u(p){try{f(r.throw(p))}catch(m){c(m)}}function f(p){p.done?a(p.value):i(p.value).then(d,u)}f((r=r.apply(e,t||[])).next())})}function gN(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(f){return function(p){return u([f,p])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var qu=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function xN(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&qu(t,e,n)}function yu(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g0(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],c;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(d){c={error:d}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return a}function yN(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g0(arguments[t]));return e}function vN(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],c=0,d=a.length;c<d;c++,i++)r[i]=a[c];return r}function x0(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Jo(e){return this instanceof Jo?(this.v=e,this):new Jo(e)}function wN(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(v){return function(w){return Promise.resolve(w).then(v,m)}}function d(v,w){r[v]&&(i[v]=function(j){return new Promise(function(S,N){a.push([v,j,S,N])>1||u(v,j)})},w&&(i[v]=w(i[v])))}function u(v,w){try{f(r[v](w))}catch(j){y(a[0][3],j)}}function f(v){v.value instanceof Jo?Promise.resolve(v.value.v).then(p,m):y(a[0][2],v)}function p(v){u("next",v)}function m(v){u("throw",v)}function y(v,w){v(w),a.shift(),a.length&&u(a[0][0],a[0][1])}}function bN(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(c){return(n=!n)?{value:Jo(e[i](c)),done:!1}:a?a(c):c}:a}}function jN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof yu=="function"?yu(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(c){return new Promise(function(d,u){c=e[a](c),i(d,u,c.done,c.value)})}}function i(a,c,d,u){Promise.resolve(u).then(function(f){a({value:f,done:d})},c)}}function SN(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var jF=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Lm=function(e){return Lm=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Lm(e)};function NN(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Lm(e),r=0;r<n.length;r++)n[r]!=="default"&&qu(t,e,n[r]);return jF(t,e),t}function kN(e){return e&&e.__esModule?e:{default:e}}function CN(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function EN(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function _N(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function AN(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var SF=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function TN(e){function t(a){e.error=e.hasError?new SF(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(c){return t(c),i()})}else r|=1}catch(c){t(c)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function PN(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,c){return r?t?".jsx":".js":i&&(!a||!c)?n:i+a+"."+c.toLowerCase()+"js"}):e}const NF={__extends:lN,__assign:cr,__rest:ti,__decorate:cN,__param:dN,__esDecorate:uN,__runInitializers:hN,__propKey:fN,__setFunctionName:pN,__metadata:mN,__awaiter:Be,__generator:gN,__createBinding:qu,__exportStar:xN,__values:yu,__read:g0,__spread:yN,__spreadArrays:vN,__spreadArray:x0,__await:Jo,__asyncGenerator:wN,__asyncDelegator:bN,__asyncValues:jN,__makeTemplateObject:SN,__importStar:NN,__importDefault:kN,__classPrivateFieldGet:CN,__classPrivateFieldSet:EN,__classPrivateFieldIn:_N,__addDisposableResource:AN,__disposeResources:TN,__rewriteRelativeImportExtension:PN},kF=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:AN,get __assign(){return cr},__asyncDelegator:bN,__asyncGenerator:wN,__asyncValues:jN,__await:Jo,__awaiter:Be,__classPrivateFieldGet:CN,__classPrivateFieldIn:_N,__classPrivateFieldSet:EN,__createBinding:qu,__decorate:cN,__disposeResources:TN,__esDecorate:uN,__exportStar:xN,__extends:lN,__generator:gN,__importDefault:kN,__importStar:NN,__makeTemplateObject:SN,__metadata:mN,__param:dN,__propKey:fN,__read:g0,__rest:ti,__rewriteRelativeImportExtension:PN,__runInitializers:hN,__setFunctionName:pN,__spread:yN,__spreadArray:x0,__spreadArrays:vN,__values:yu,default:NF},Symbol.toStringTag,{value:"Module"}));var Gd="right-scroll-bar-position",Kd="width-before-scroll-bar",CF="with-scroll-bars-hidden",EF="--removed-body-scroll-bar-size";function xp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function _F(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var AF=typeof window<"u"?g.useLayoutEffect:g.useEffect,Cb=new WeakMap;function TF(e,t){var n=_F(null,function(r){return e.forEach(function(i){return xp(i,r)})});return AF(function(){var r=Cb.get(n);if(r){var i=new Set(r),a=new Set(e),c=n.current;i.forEach(function(d){a.has(d)||xp(d,null)}),a.forEach(function(d){i.has(d)||xp(d,c)})}Cb.set(n,e)},[e]),n}function PF(e){return e}function RF(e,t){t===void 0&&(t=PF);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var c=t(a,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(a){for(r=!0;n.length;){var c=n;n=[],c.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(a),c=n}var u=function(){var p=c;c=[],p.forEach(a)},f=function(){return Promise.resolve().then(u)};f(),n={push:function(p){c.push(p),f()},filter:function(p){return c=c.filter(p),n}}}};return i}function DF(e){e===void 0&&(e={});var t=RF(null);return t.options=cr({async:!0,ssr:!1},e),t}var RN=function(e){var t=e.sideCar,n=ti(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,cr({},n))};RN.isSideCarExport=!0;function OF(e,t){return e.useMedium(t),RN}var DN=DF(),yp=function(){},Gu=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:yp,onWheelCapture:yp,onTouchMoveCapture:yp}),i=r[0],a=r[1],c=e.forwardProps,d=e.children,u=e.className,f=e.removeScrollBar,p=e.enabled,m=e.shards,y=e.sideCar,v=e.noRelative,w=e.noIsolation,j=e.inert,S=e.allowPinchZoom,N=e.as,E=N===void 0?"div":N,C=e.gapMode,_=ti(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=y,I=TF([n,t]),M=cr(cr({},_),i);return g.createElement(g.Fragment,null,p&&g.createElement(T,{sideCar:DN,removeScrollBar:f,shards:m,noRelative:v,noIsolation:w,inert:j,setCallbacks:a,allowPinchZoom:!!S,lockRef:n,gapMode:C}),c?g.cloneElement(g.Children.only(d),cr(cr({},M),{ref:I})):g.createElement(E,cr({},M,{className:u,ref:I}),d))});Gu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gu.classNames={fullWidth:Kd,zeroRight:Gd};var IF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function FF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=IF();return t&&e.setAttribute("nonce",t),e}function MF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function LF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var BF=function(){var e=0,t=null;return{add:function(n){e==0&&(t=FF())&&(MF(t,n),LF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$F=function(){var e=BF();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ON=function(){var e=$F(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},zF={left:0,top:0,right:0,gap:0},vp=function(e){return parseInt(e||"",10)||0},WF=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[vp(n),vp(r),vp(i)]},VF=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zF;var t=WF(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},UF=ON(),zo="data-scroll-locked",HF=function(e,t,n,r){var i=e.left,a=e.top,c=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(CF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(zo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gd,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Kd,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Gd," .").concat(Gd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Kd," .").concat(Kd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zo,`] {
    `).concat(EF,": ").concat(d,`px;
  }
`)},Eb=function(){var e=parseInt(document.body.getAttribute(zo)||"0",10);return isFinite(e)?e:0},qF=function(){g.useEffect(function(){return document.body.setAttribute(zo,(Eb()+1).toString()),function(){var e=Eb()-1;e<=0?document.body.removeAttribute(zo):document.body.setAttribute(zo,e.toString())}},[])},GF=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;qF();var a=g.useMemo(function(){return VF(i)},[i]);return g.createElement(UF,{styles:HF(a,!t,i,n?"":"!important")})},Bm=!1;if(typeof window<"u")try{var bd=Object.defineProperty({},"passive",{get:function(){return Bm=!0,!0}});window.addEventListener("test",bd,bd),window.removeEventListener("test",bd,bd)}catch{Bm=!1}var yo=Bm?{passive:!1}:!1,KF=function(e){return e.tagName==="TEXTAREA"},IN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!KF(e)&&n[t]==="visible")},YF=function(e){return IN(e,"overflowY")},XF=function(e){return IN(e,"overflowX")},_b=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=FN(e,r);if(i){var a=MN(e,r),c=a[1],d=a[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},JF=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},QF=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},FN=function(e,t){return e==="v"?YF(t):XF(t)},MN=function(e,t){return e==="v"?JF(t):QF(t)},ZF=function(e,t){return e==="h"&&t==="rtl"?-1:1},e8=function(e,t,n,r,i){var a=ZF(e,window.getComputedStyle(t).direction),c=a*r,d=n.target,u=t.contains(d),f=!1,p=c>0,m=0,y=0;do{if(!d)break;var v=MN(e,d),w=v[0],j=v[1],S=v[2],N=j-S-a*w;(w||N)&&FN(e,d)&&(m+=N,y+=w);var E=d.parentNode;d=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!u&&d!==document.body||u&&(t.contains(d)||t===d));return(p&&Math.abs(m)<1||!p&&Math.abs(y)<1)&&(f=!0),f},jd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ab=function(e){return[e.deltaX,e.deltaY]},Tb=function(e){return e&&"current"in e?e.current:e},t8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},n8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},r8=0,vo=[];function s8(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),i=g.useState(r8++)[0],a=g.useState(ON)[0],c=g.useRef(e);g.useEffect(function(){c.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var j=x0([e.lockRef.current],(e.shards||[]).map(Tb),!0).filter(Boolean);return j.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),j.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var d=g.useCallback(function(j,S){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!c.current.allowPinchZoom;var N=jd(j),E=n.current,C="deltaX"in j?j.deltaX:E[0]-N[0],_="deltaY"in j?j.deltaY:E[1]-N[1],T,I=j.target,M=Math.abs(C)>Math.abs(_)?"h":"v";if("touches"in j&&M==="h"&&I.type==="range")return!1;var F=_b(M,I);if(!F)return!0;if(F?T=M:(T=M==="v"?"h":"v",F=_b(M,I)),!F)return!1;if(!r.current&&"changedTouches"in j&&(C||_)&&(r.current=T),!T)return!0;var U=r.current||T;return e8(U,S,j,U==="h"?C:_)},[]),u=g.useCallback(function(j){var S=j;if(!(!vo.length||vo[vo.length-1]!==a)){var N="deltaY"in S?Ab(S):jd(S),E=t.current.filter(function(T){return T.name===S.type&&(T.target===S.target||S.target===T.shadowParent)&&t8(T.delta,N)})[0];if(E&&E.should){S.cancelable&&S.preventDefault();return}if(!E){var C=(c.current.shards||[]).map(Tb).filter(Boolean).filter(function(T){return T.contains(S.target)}),_=C.length>0?d(S,C[0]):!c.current.noIsolation;_&&S.cancelable&&S.preventDefault()}}},[]),f=g.useCallback(function(j,S,N,E){var C={name:j,delta:S,target:N,should:E,shadowParent:i8(N)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(_){return _!==C})},1)},[]),p=g.useCallback(function(j){n.current=jd(j),r.current=void 0},[]),m=g.useCallback(function(j){f(j.type,Ab(j),j.target,d(j,e.lockRef.current))},[]),y=g.useCallback(function(j){f(j.type,jd(j),j.target,d(j,e.lockRef.current))},[]);g.useEffect(function(){return vo.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",u,yo),document.addEventListener("touchmove",u,yo),document.addEventListener("touchstart",p,yo),function(){vo=vo.filter(function(j){return j!==a}),document.removeEventListener("wheel",u,yo),document.removeEventListener("touchmove",u,yo),document.removeEventListener("touchstart",p,yo)}},[]);var v=e.removeScrollBar,w=e.inert;return g.createElement(g.Fragment,null,w?g.createElement(a,{styles:n8(i)}):null,v?g.createElement(GF,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function i8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const o8=OF(DN,s8);var Ku=g.forwardRef(function(e,t){return g.createElement(Gu,cr({},e,{ref:t,sideCar:o8}))});Ku.classNames=Gu.classNames;var a8=[" ","Enter","ArrowUp","ArrowDown"],l8=[" ","Enter"],Wi="Select",[Yu,Xu,c8]=fO(Wi),[la]=Kl(Wi,[c8,Uu]),Ju=Uu(),[d8,ni]=la(Wi),[u8,h8]=la(Wi),LN=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:c,defaultValue:d,onValueChange:u,dir:f,name:p,autoComplete:m,disabled:y,required:v,form:w}=e,j=Ju(t),[S,N]=g.useState(null),[E,C]=g.useState(null),[_,T]=g.useState(!1),I=mO(f),[M,F]=xu({prop:r,defaultProp:i??!1,onChange:a,caller:Wi}),[U,G]=xu({prop:c,defaultProp:d,onChange:u,caller:Wi}),se=g.useRef(null),ae=S?w||!!S.closest("form"):!0,[oe,ee]=g.useState(new Set),L=Array.from(oe).map($=>$.props.value).join(";");return s.jsx(rN,{...j,children:s.jsxs(d8,{required:v,scope:t,trigger:S,onTriggerChange:N,valueNode:E,onValueNodeChange:C,valueNodeHasChildren:_,onValueNodeHasChildrenChange:T,contentId:Bi(),value:U,onValueChange:G,open:M,onOpenChange:F,dir:I,triggerPointerDownPosRef:se,disabled:y,children:[s.jsx(Yu.Provider,{scope:t,children:s.jsx(u8,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback($=>{ee(D=>new Set(D).add($))},[]),onNativeOptionRemove:g.useCallback($=>{ee(D=>{const P=new Set(D);return P.delete($),P})},[]),children:n})}),ae?s.jsxs(ok,{"aria-hidden":!0,required:v,tabIndex:-1,name:p,autoComplete:m,value:U,onChange:$=>G($.target.value),disabled:y,form:w,children:[U===void 0?s.jsx("option",{value:""}):null,Array.from(oe)]},L):null]})})};LN.displayName=Wi;var BN="SelectTrigger",$N=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=Ju(n),c=ni(BN,n),d=c.disabled||r,u=$t(t,c.onTriggerChange),f=Xu(n),p=g.useRef("touch"),[m,y,v]=lk(j=>{const S=f().filter(C=>!C.disabled),N=S.find(C=>C.value===c.value),E=ck(S,j,N);E!==void 0&&c.onValueChange(E.value)}),w=j=>{d||(c.onOpenChange(!0),v()),j&&(c.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return s.jsx(p0,{asChild:!0,...a,children:s.jsx(Nt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":ak(c.value)?"":void 0,...i,ref:u,onClick:vt(i.onClick,j=>{j.currentTarget.focus(),p.current!=="mouse"&&w(j)}),onPointerDown:vt(i.onPointerDown,j=>{p.current=j.pointerType;const S=j.target;S.hasPointerCapture(j.pointerId)&&S.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(w(j),j.preventDefault())}),onKeyDown:vt(i.onKeyDown,j=>{const S=m.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&y(j.key),!(S&&j.key===" ")&&a8.includes(j.key)&&(w(),j.preventDefault())})})})});$N.displayName=BN;var zN="SelectValue",WN=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:c="",...d}=e,u=ni(zN,n),{onValueNodeHasChildrenChange:f}=u,p=a!==void 0,m=$t(t,u.onValueNodeChange);return jn(()=>{f(p)},[f,p]),s.jsx(Nt.span,{...d,ref:m,style:{pointerEvents:"none"},children:ak(u.value)?s.jsx(s.Fragment,{children:c}):a})});WN.displayName=zN;var f8="SelectIcon",VN=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return s.jsx(Nt.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});VN.displayName=f8;var p8="SelectPortal",UN=e=>s.jsx(Hu,{asChild:!0,...e});UN.displayName=p8;var Vi="SelectContent",HN=g.forwardRef((e,t)=>{const n=ni(Vi,e.__scopeSelect),[r,i]=g.useState();if(jn(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?_r.createPortal(s.jsx(qN,{scope:e.__scopeSelect,children:s.jsx(Yu.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(GN,{...e,ref:t})});HN.displayName=Vi;var Cr=10,[qN,ri]=la(Vi),m8="SelectContentImpl",g8=aF("SelectContent.RemoveScroll"),GN=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:c,side:d,sideOffset:u,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:y,collisionPadding:v,sticky:w,hideWhenDetached:j,avoidCollisions:S,...N}=e,E=ni(Vi,n),[C,_]=g.useState(null),[T,I]=g.useState(null),M=$t(t,Q=>_(Q)),[F,U]=g.useState(null),[G,se]=g.useState(null),ae=Xu(n),[oe,ee]=g.useState(!1),L=g.useRef(!1);g.useEffect(()=>{if(C)return m0(C)},[C]),i0();const $=g.useCallback(Q=>{const[te,...he]=ae().map(ke=>ke.ref.current),[le]=he.slice(-1),Ne=document.activeElement;for(const ke of Q)if(ke===Ne||(ke?.scrollIntoView({block:"nearest"}),ke===te&&T&&(T.scrollTop=0),ke===le&&T&&(T.scrollTop=T.scrollHeight),ke?.focus(),document.activeElement!==Ne))return},[ae,T]),D=g.useCallback(()=>$([F,C]),[$,F,C]);g.useEffect(()=>{oe&&D()},[oe,D]);const{onOpenChange:P,triggerPointerDownPosRef:R}=E;g.useEffect(()=>{if(C){let Q={x:0,y:0};const te=le=>{Q={x:Math.abs(Math.round(le.pageX)-(R.current?.x??0)),y:Math.abs(Math.round(le.pageY)-(R.current?.y??0))}},he=le=>{Q.x<=10&&Q.y<=10?le.preventDefault():C.contains(le.target)||P(!1),document.removeEventListener("pointermove",te),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",he,{capture:!0})}}},[C,P,R]),g.useEffect(()=>{const Q=()=>P(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[P]);const[q,B]=lk(Q=>{const te=ae().filter(Ne=>!Ne.disabled),he=te.find(Ne=>Ne.ref.current===document.activeElement),le=ck(te,Q,he);le&&setTimeout(()=>le.ref.current.focus())}),W=g.useCallback((Q,te,he)=>{const le=!L.current&&!he;(E.value!==void 0&&E.value===te||le)&&(U(Q),le&&(L.current=!0))},[E.value]),z=g.useCallback(()=>C?.focus(),[C]),X=g.useCallback((Q,te,he)=>{const le=!L.current&&!he;(E.value!==void 0&&E.value===te||le)&&se(Q)},[E.value]),H=r==="popper"?$m:KN,Z=H===$m?{side:d,sideOffset:u,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:y,collisionPadding:v,sticky:w,hideWhenDetached:j,avoidCollisions:S}:{};return s.jsx(qN,{scope:n,content:C,viewport:T,onViewportChange:I,itemRefCallback:W,selectedItem:F,onItemLeave:z,itemTextRefCallback:X,focusSelectedItem:D,selectedItemText:G,position:r,isPositioned:oe,searchRef:q,children:s.jsx(Ku,{as:g8,allowPinchZoom:!0,children:s.jsx(Bu,{asChild:!0,trapped:E.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:vt(i,Q=>{E.trigger?.focus({preventScroll:!0}),Q.preventDefault()}),children:s.jsx(Lu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:s.jsx(H,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:Q=>Q.preventDefault(),...N,...Z,onPlaced:()=>ee(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:vt(N.onKeyDown,Q=>{const te=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!te&&Q.key.length===1&&B(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let le=ae().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const Ne=Q.target,ke=le.indexOf(Ne);le=le.slice(ke+1)}setTimeout(()=>$(le)),Q.preventDefault()}})})})})})})});GN.displayName=m8;var x8="SelectItemAlignedPosition",KN=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=ni(Vi,n),c=ri(Vi,n),[d,u]=g.useState(null),[f,p]=g.useState(null),m=$t(t,M=>p(M)),y=Xu(n),v=g.useRef(!1),w=g.useRef(!0),{viewport:j,selectedItem:S,selectedItemText:N,focusSelectedItem:E}=c,C=g.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&f&&j&&S&&N){const M=a.trigger.getBoundingClientRect(),F=f.getBoundingClientRect(),U=a.valueNode.getBoundingClientRect(),G=N.getBoundingClientRect();if(a.dir!=="rtl"){const Ne=G.left-F.left,ke=U.left-Ne,tt=M.left-ke,nt=M.width+tt,We=Math.max(nt,F.width),wt=window.innerWidth-Cr,fe=ob(ke,[Cr,Math.max(Cr,wt-We)]);d.style.minWidth=nt+"px",d.style.left=fe+"px"}else{const Ne=F.right-G.right,ke=window.innerWidth-U.right-Ne,tt=window.innerWidth-M.right-ke,nt=M.width+tt,We=Math.max(nt,F.width),wt=window.innerWidth-Cr,fe=ob(ke,[Cr,Math.max(Cr,wt-We)]);d.style.minWidth=nt+"px",d.style.right=fe+"px"}const se=y(),ae=window.innerHeight-Cr*2,oe=j.scrollHeight,ee=window.getComputedStyle(f),L=parseInt(ee.borderTopWidth,10),$=parseInt(ee.paddingTop,10),D=parseInt(ee.borderBottomWidth,10),P=parseInt(ee.paddingBottom,10),R=L+$+oe+P+D,q=Math.min(S.offsetHeight*5,R),B=window.getComputedStyle(j),W=parseInt(B.paddingTop,10),z=parseInt(B.paddingBottom,10),X=M.top+M.height/2-Cr,H=ae-X,Z=S.offsetHeight/2,Q=S.offsetTop+Z,te=L+$+Q,he=R-te;if(te<=X){const Ne=se.length>0&&S===se[se.length-1].ref.current;d.style.bottom="0px";const ke=f.clientHeight-j.offsetTop-j.offsetHeight,tt=Math.max(H,Z+(Ne?z:0)+ke+D),nt=te+tt;d.style.height=nt+"px"}else{const Ne=se.length>0&&S===se[0].ref.current;d.style.top="0px";const tt=Math.max(X,L+j.offsetTop+(Ne?W:0)+Z)+he;d.style.height=tt+"px",j.scrollTop=te-X+j.offsetTop}d.style.margin=`${Cr}px 0`,d.style.minHeight=q+"px",d.style.maxHeight=ae+"px",r?.(),requestAnimationFrame(()=>v.current=!0)}},[y,a.trigger,a.valueNode,d,f,j,S,N,a.dir,r]);jn(()=>C(),[C]);const[_,T]=g.useState();jn(()=>{f&&T(window.getComputedStyle(f).zIndex)},[f]);const I=g.useCallback(M=>{M&&w.current===!0&&(C(),E?.(),w.current=!1)},[C,E]);return s.jsx(v8,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:v,onScrollButtonChange:I,children:s.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(Nt.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});KN.displayName=x8;var y8="SelectPopperPosition",$m=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Cr,...a}=e,c=Ju(n);return s.jsx(sN,{...c,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$m.displayName=y8;var[v8,y0]=la(Vi,{}),zm="SelectViewport",YN=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=ri(zm,n),c=y0(zm,n),d=$t(t,a.onViewportChange),u=g.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Yu.Slot,{scope:n,children:s.jsx(Nt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:vt(i.onScroll,f=>{const p=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=c;if(y?.current&&m){const v=Math.abs(u.current-p.scrollTop);if(v>0){const w=window.innerHeight-Cr*2,j=parseFloat(m.style.minHeight),S=parseFloat(m.style.height),N=Math.max(j,S);if(N<w){const E=N+v,C=Math.min(w,E),_=E-C;m.style.height=C+"px",m.style.bottom==="0px"&&(p.scrollTop=_>0?_:0,m.style.justifyContent="flex-end")}}}u.current=p.scrollTop})})})]})});YN.displayName=zm;var XN="SelectGroup",[w8,b8]=la(XN),j8=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Bi();return s.jsx(w8,{scope:n,id:i,children:s.jsx(Nt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});j8.displayName=XN;var JN="SelectLabel",S8=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=b8(JN,n);return s.jsx(Nt.div,{id:i.id,...r,ref:t})});S8.displayName=JN;var vu="SelectItem",[N8,QN]=la(vu),ZN=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...c}=e,d=ni(vu,n),u=ri(vu,n),f=d.value===r,[p,m]=g.useState(a??""),[y,v]=g.useState(!1),w=$t(t,E=>u.itemRefCallback?.(E,r,i)),j=Bi(),S=g.useRef("touch"),N=()=>{i||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(N8,{scope:n,value:r,disabled:i,textId:j,isSelected:f,onItemTextChange:g.useCallback(E=>{m(C=>C||(E?.textContent??"").trim())},[]),children:s.jsx(Yu.ItemSlot,{scope:n,value:r,disabled:i,textValue:p,children:s.jsx(Nt.div,{role:"option","aria-labelledby":j,"data-highlighted":y?"":void 0,"aria-selected":f&&y,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...c,ref:w,onFocus:vt(c.onFocus,()=>v(!0)),onBlur:vt(c.onBlur,()=>v(!1)),onClick:vt(c.onClick,()=>{S.current!=="mouse"&&N()}),onPointerUp:vt(c.onPointerUp,()=>{S.current==="mouse"&&N()}),onPointerDown:vt(c.onPointerDown,E=>{S.current=E.pointerType}),onPointerMove:vt(c.onPointerMove,E=>{S.current=E.pointerType,i?u.onItemLeave?.():S.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:vt(c.onPointerLeave,E=>{E.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:vt(c.onKeyDown,E=>{u.searchRef?.current!==""&&E.key===" "||(l8.includes(E.key)&&N(),E.key===" "&&E.preventDefault())})})})})});ZN.displayName=vu;var sl="SelectItemText",ek=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,c=ni(sl,n),d=ri(sl,n),u=QN(sl,n),f=h8(sl,n),[p,m]=g.useState(null),y=$t(t,N=>m(N),u.onItemTextChange,N=>d.itemTextRefCallback?.(N,u.value,u.disabled)),v=p?.textContent,w=g.useMemo(()=>s.jsx("option",{value:u.value,disabled:u.disabled,children:v},u.value),[u.disabled,u.value,v]),{onNativeOptionAdd:j,onNativeOptionRemove:S}=f;return jn(()=>(j(w),()=>S(w)),[j,S,w]),s.jsxs(s.Fragment,{children:[s.jsx(Nt.span,{id:u.textId,...a,ref:y}),u.isSelected&&c.valueNode&&!c.valueNodeHasChildren?_r.createPortal(a.children,c.valueNode):null]})});ek.displayName=sl;var tk="SelectItemIndicator",nk=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return QN(tk,n).isSelected?s.jsx(Nt.span,{"aria-hidden":!0,...r,ref:t}):null});nk.displayName=tk;var Wm="SelectScrollUpButton",rk=g.forwardRef((e,t)=>{const n=ri(Wm,e.__scopeSelect),r=y0(Wm,e.__scopeSelect),[i,a]=g.useState(!1),c=$t(t,r.onScrollButtonChange);return jn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const f=u.scrollTop>0;a(f)};const u=n.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?s.jsx(ik,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=n;d&&u&&(d.scrollTop=d.scrollTop-u.offsetHeight)}}):null});rk.displayName=Wm;var Vm="SelectScrollDownButton",sk=g.forwardRef((e,t)=>{const n=ri(Vm,e.__scopeSelect),r=y0(Vm,e.__scopeSelect),[i,a]=g.useState(!1),c=$t(t,r.onScrollButtonChange);return jn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const f=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<f;a(p)};const u=n.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?s.jsx(ik,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=n;d&&u&&(d.scrollTop=d.scrollTop+u.offsetHeight)}}):null});sk.displayName=Vm;var ik=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=ri("SelectScrollButton",n),c=g.useRef(null),d=Xu(n),u=g.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return g.useEffect(()=>()=>u(),[u]),jn(()=>{d().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),s.jsx(Nt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:vt(i.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:vt(i.onPointerMove,()=>{a.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:vt(i.onPointerLeave,()=>{u()})})}),k8="SelectSeparator",C8=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Nt.div,{"aria-hidden":!0,...r,ref:t})});C8.displayName=k8;var Um="SelectArrow",E8=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Ju(n),a=ni(Um,n),c=ri(Um,n);return a.open&&c.position==="popper"?s.jsx(iN,{...i,...r,ref:t}):null});E8.displayName=Um;var _8="SelectBubbleInput",ok=g.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=g.useRef(null),a=$t(r,i),c=gF(t);return g.useEffect(()=>{const d=i.current;if(!d)return;const u=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(c!==t&&p){const m=new Event("change",{bubbles:!0});p.call(d,t),d.dispatchEvent(m)}},[c,t]),s.jsx(Nt.select,{...n,style:{...oN,...n.style},ref:a,defaultValue:t})});ok.displayName=_8;function ak(e){return e===""||e===void 0}function lk(e){const t=$i(e),n=g.useRef(""),r=g.useRef(0),i=g.useCallback(c=>{const d=n.current+c;t(d),(function u(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>u(""),1e3))})(d)},[t]),a=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function ck(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let c=A8(e,Math.max(a,0));i.length===1&&(c=c.filter(f=>f!==n));const u=c.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function A8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var T8=LN,P8=$N,R8=WN,D8=VN,O8=UN,I8=HN,F8=YN,M8=ZN,L8=ek,B8=nk,$8=rk,z8=sk;function W8({...e}){return s.jsx(T8,{"data-slot":"select",...e})}function V8({...e}){return s.jsx(R8,{"data-slot":"select-value",...e})}function U8({className:e,size:t="default",children:n,...r}){return s.jsxs(P8,{"data-slot":"select-trigger","data-size":t,className:bn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,s.jsx(D8,{asChild:!0,children:s.jsx(pr,{className:"size-4 opacity-50"})})]})}function H8({className:e,children:t,position:n="popper",...r}){return s.jsx(O8,{children:s.jsxs(I8,{"data-slot":"select-content",className:bn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(G8,{}),s.jsx(F8,{className:bn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(K8,{})]})})}function q8({className:e,children:t,...n}){return s.jsxs(M8,{"data-slot":"select-item",className:bn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(B8,{children:s.jsx(Hl,{className:"size-4"})})}),s.jsx(L8,{children:t})]})}function G8({className:e,...t}){return s.jsx($8,{"data-slot":"select-scroll-up-button",className:bn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(iu,{className:"size-4"})})}function K8({className:e,...t}){return s.jsx(z8,{"data-slot":"select-scroll-down-button",className:bn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(pr,{className:"size-4"})})}function Y8(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const X8=e=>{switch(e){case"success":return Z8;case"info":return tM;case"warning":return eM;case"error":return nM;default:return null}},J8=Array(12).fill(0),Q8=({visible:e,className:t})=>de.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},de.createElement("div",{className:"sonner-spinner"},J8.map((n,r)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Z8=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eM=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),tM=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nM=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rM=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),sM=()=>{const[e,t]=de.useState(document.hidden);return de.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let Hm=1;class iM{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...i}=t,a=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Hm++,c=this.toasts.find(u=>u.id===a),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),c?this.toasts=this.toasts.map(u=>u.id===a?(this.publish({...u,...t,id:a,title:r}),{...u,...t,id:a,dismissible:d,title:r}):u):this.addToast({title:r,...i,dismissible:d,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,c;const d=i.then(async f=>{if(c=["resolve",f],de.isValidElement(f))a=!1,this.create({id:r,type:"default",message:f});else if(aM(f)&&!f.ok){a=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,y=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,w=typeof m=="object"&&!de.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:y,...w})}else if(f instanceof Error){a=!1;const m=typeof n.error=="function"?await n.error(f):n.error,y=typeof n.description=="function"?await n.description(f):n.description,w=typeof m=="object"&&!de.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:y,...w})}else if(n.success!==void 0){a=!1;const m=typeof n.success=="function"?await n.success(f):n.success,y=typeof n.description=="function"?await n.description(f):n.description,w=typeof m=="object"&&!de.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:y,...w})}}).catch(async f=>{if(c=["reject",f],n.error!==void 0){a=!1;const p=typeof n.error=="function"?await n.error(f):n.error,m=typeof n.description=="function"?await n.description(f):n.description,v=typeof p=="object"&&!de.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:m,...v})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((f,p)=>d.then(()=>c[0]==="reject"?p(c[1]):f(c[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(t,n)=>{const r=n?.id||Hm++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const In=new iM,oM=(e,t)=>{const n=t?.id||Hm++;return In.addToast({title:e,...t,id:n}),n},aM=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",lM=oM,cM=()=>In.toasts,dM=()=>In.getActiveToasts(),pe=Object.assign(lM,{success:In.success,info:In.info,warning:In.warning,error:In.error,custom:In.custom,message:In.message,promise:In.promise,dismiss:In.dismiss,loading:In.loading},{getHistory:cM,getToasts:dM});Y8("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Sd(e){return e.label!==void 0}const uM=3,hM="24px",fM="16px",Pb=4e3,pM=356,mM=14,gM=45,xM=200;function Vr(...e){return e.filter(Boolean).join(" ")}function yM(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const vM=e=>{var t,n,r,i,a,c,d,u,f;const{invert:p,toast:m,unstyled:y,interacting:v,setHeights:w,visibleToasts:j,heights:S,index:N,toasts:E,expanded:C,removeToast:_,defaultRichColors:T,closeButton:I,style:M,cancelButtonStyle:F,actionButtonStyle:U,className:G="",descriptionClassName:se="",duration:ae,position:oe,gap:ee,expandByDefault:L,classNames:$,icons:D,closeButtonAriaLabel:P="Close toast"}=e,[R,q]=de.useState(null),[B,W]=de.useState(null),[z,X]=de.useState(!1),[H,Z]=de.useState(!1),[Q,te]=de.useState(!1),[he,le]=de.useState(!1),[Ne,ke]=de.useState(!1),[tt,nt]=de.useState(0),[We,wt]=de.useState(0),fe=de.useRef(m.duration||ae||Pb),ye=de.useRef(null),Ae=de.useRef(null),xe=N===0,Qe=N+1<=j,at=m.type,Tt=m.dismissible!==!1,Ze=m.className||"",pt=m.descriptionClassName||"",lt=de.useMemo(()=>S.findIndex(Re=>Re.toastId===m.id)||0,[S,m.id]),K=de.useMemo(()=>{var Re;return(Re=m.closeButton)!=null?Re:I},[m.closeButton,I]),Ce=de.useMemo(()=>m.duration||ae||Pb,[m.duration,ae]),we=de.useRef(0),$e=de.useRef(0),et=de.useRef(0),dt=de.useRef(null),[un,qt]=oe.split("-"),Xn=de.useMemo(()=>S.reduce((Re,ce,Se)=>Se>=lt?Re:Re+ce.height,0),[S,lt]),ct=sM(),Sn=m.invert||p,Ln=at==="loading";$e.current=de.useMemo(()=>lt*ee+Xn,[lt,Xn]),de.useEffect(()=>{fe.current=Ce},[Ce]),de.useEffect(()=>{X(!0)},[]),de.useEffect(()=>{const Re=Ae.current;if(Re){const ce=Re.getBoundingClientRect().height;return wt(ce),w(Se=>[{toastId:m.id,height:ce,position:m.position},...Se]),()=>w(Se=>Se.filter(Pe=>Pe.toastId!==m.id))}},[w,m.id]),de.useLayoutEffect(()=>{if(!z)return;const Re=Ae.current,ce=Re.style.height;Re.style.height="auto";const Se=Re.getBoundingClientRect().height;Re.style.height=ce,wt(Se),w(Pe=>Pe.find(Ge=>Ge.toastId===m.id)?Pe.map(Ge=>Ge.toastId===m.id?{...Ge,height:Se}:Ge):[{toastId:m.id,height:Se,position:m.position},...Pe])},[z,m.title,m.description,w,m.id,m.jsx,m.action,m.cancel]);const kt=de.useCallback(()=>{Z(!0),nt($e.current),w(Re=>Re.filter(ce=>ce.toastId!==m.id)),setTimeout(()=>{_(m)},xM)},[m,_,w,$e]);de.useEffect(()=>{if(m.promise&&at==="loading"||m.duration===1/0||m.type==="loading")return;let Re;return C||v||ct?(()=>{if(et.current<we.current){const Pe=new Date().getTime()-we.current;fe.current=fe.current-Pe}et.current=new Date().getTime()})():(()=>{fe.current!==1/0&&(we.current=new Date().getTime(),Re=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),kt()},fe.current))})(),()=>clearTimeout(Re)},[C,v,m,at,ct,kt]),de.useEffect(()=>{m.delete&&(kt(),m.onDismiss==null||m.onDismiss.call(m,m))},[kt,m.delete]);function mr(){var Re;if(D?.loading){var ce;return de.createElement("div",{className:Vr($?.loader,m==null||(ce=m.classNames)==null?void 0:ce.loader,"sonner-loader"),"data-visible":at==="loading"},D.loading)}return de.createElement(Q8,{className:Vr($?.loader,m==null||(Re=m.classNames)==null?void 0:Re.loader),visible:at==="loading"})}const Xt=m.icon||D?.[at]||X8(at);var mt,bt;return de.createElement("li",{tabIndex:0,ref:Ae,className:Vr(G,Ze,$?.toast,m==null||(t=m.classNames)==null?void 0:t.toast,$?.default,$?.[at],m==null||(n=m.classNames)==null?void 0:n[at]),"data-sonner-toast":"","data-rich-colors":(mt=m.richColors)!=null?mt:T,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":z,"data-promise":!!m.promise,"data-swiped":Ne,"data-removed":H,"data-visible":Qe,"data-y-position":un,"data-x-position":qt,"data-index":N,"data-front":xe,"data-swiping":Q,"data-dismissible":Tt,"data-type":at,"data-invert":Sn,"data-swipe-out":he,"data-swipe-direction":B,"data-expanded":!!(C||L&&z),"data-testid":m.testId,style:{"--index":N,"--toasts-before":N,"--z-index":E.length-N,"--offset":`${H?tt:$e.current}px`,"--initial-height":L?"auto":`${We}px`,...M,...m.style},onDragEnd:()=>{te(!1),q(null),dt.current=null},onPointerDown:Re=>{Re.button!==2&&(Ln||!Tt||(ye.current=new Date,nt($e.current),Re.target.setPointerCapture(Re.pointerId),Re.target.tagName!=="BUTTON"&&(te(!0),dt.current={x:Re.clientX,y:Re.clientY})))},onPointerUp:()=>{var Re,ce,Se;if(he||!Tt)return;dt.current=null;const Pe=Number(((Re=Ae.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),rt=Number(((ce=Ae.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ge=new Date().getTime()-((Se=ye.current)==null?void 0:Se.getTime()),He=R==="x"?Pe:rt,ht=Math.abs(He)/Ge;if(Math.abs(He)>=gM||ht>.11){nt($e.current),m.onDismiss==null||m.onDismiss.call(m,m),W(R==="x"?Pe>0?"right":"left":rt>0?"down":"up"),kt(),le(!0);return}else{var it,yt;(it=Ae.current)==null||it.style.setProperty("--swipe-amount-x","0px"),(yt=Ae.current)==null||yt.style.setProperty("--swipe-amount-y","0px")}ke(!1),te(!1),q(null)},onPointerMove:Re=>{var ce,Se,Pe;if(!dt.current||!Tt||((ce=window.getSelection())==null?void 0:ce.toString().length)>0)return;const Ge=Re.clientY-dt.current.y,He=Re.clientX-dt.current.x;var ht;const it=(ht=e.swipeDirections)!=null?ht:yM(oe);!R&&(Math.abs(He)>1||Math.abs(Ge)>1)&&q(Math.abs(He)>Math.abs(Ge)?"x":"y");let yt={x:0,y:0};const ue=_e=>1/(1.5+Math.abs(_e)/20);if(R==="y"){if(it.includes("top")||it.includes("bottom"))if(it.includes("top")&&Ge<0||it.includes("bottom")&&Ge>0)yt.y=Ge;else{const _e=Ge*ue(Ge);yt.y=Math.abs(_e)<Math.abs(Ge)?_e:Ge}}else if(R==="x"&&(it.includes("left")||it.includes("right")))if(it.includes("left")&&He<0||it.includes("right")&&He>0)yt.x=He;else{const _e=He*ue(He);yt.x=Math.abs(_e)<Math.abs(He)?_e:He}(Math.abs(yt.x)>0||Math.abs(yt.y)>0)&&ke(!0),(Se=Ae.current)==null||Se.style.setProperty("--swipe-amount-x",`${yt.x}px`),(Pe=Ae.current)==null||Pe.style.setProperty("--swipe-amount-y",`${yt.y}px`)}},K&&!m.jsx&&at!=="loading"?de.createElement("button",{"aria-label":P,"data-disabled":Ln,"data-close-button":!0,onClick:Ln||!Tt?()=>{}:()=>{kt(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Vr($?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(bt=D?.close)!=null?bt:rM):null,(at||m.icon||m.promise)&&m.icon!==null&&(D?.[at]!==null||m.icon)?de.createElement("div",{"data-icon":"",className:Vr($?.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||mr():null,m.type!=="loading"?Xt:null):null,de.createElement("div",{"data-content":"",className:Vr($?.content,m==null||(a=m.classNames)==null?void 0:a.content)},de.createElement("div",{"data-title":"",className:Vr($?.title,m==null||(c=m.classNames)==null?void 0:c.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?de.createElement("div",{"data-description":"",className:Vr(se,pt,$?.description,m==null||(d=m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),de.isValidElement(m.cancel)?m.cancel:m.cancel&&Sd(m.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||F,onClick:Re=>{Sd(m.cancel)&&Tt&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Re),kt())},className:Vr($?.cancelButton,m==null||(u=m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,de.isValidElement(m.action)?m.action:m.action&&Sd(m.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||U,onClick:Re=>{Sd(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Re),!Re.defaultPrevented&&kt())},className:Vr($?.actionButton,m==null||(f=m.classNames)==null?void 0:f.actionButton)},m.action.label):null)};function Rb(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function wM(e,t){const n={};return[e,t].forEach((r,i)=>{const a=i===1,c=a?"--mobile-offset":"--offset",d=a?fM:hM;function u(f){["top","right","bottom","left"].forEach(p=>{n[`${c}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${c}-${f}`]=d:n[`${c}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):u(d)}),n}const bM=de.forwardRef(function(t,n){const{id:r,invert:i,position:a="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:u,className:f,offset:p,mobileOffset:m,theme:y="light",richColors:v,duration:w,style:j,visibleToasts:S=uM,toastOptions:N,dir:E=Rb(),gap:C=mM,icons:_,containerAriaLabel:T="Notifications"}=t,[I,M]=de.useState([]),F=de.useMemo(()=>r?I.filter(z=>z.toasterId===r):I.filter(z=>!z.toasterId),[I,r]),U=de.useMemo(()=>Array.from(new Set([a].concat(F.filter(z=>z.position).map(z=>z.position)))),[F,a]),[G,se]=de.useState([]),[ae,oe]=de.useState(!1),[ee,L]=de.useState(!1),[$,D]=de.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=de.useRef(null),R=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=de.useRef(null),B=de.useRef(!1),W=de.useCallback(z=>{M(X=>{var H;return(H=X.find(Z=>Z.id===z.id))!=null&&H.delete||In.dismiss(z.id),X.filter(({id:Z})=>Z!==z.id)})},[]);return de.useEffect(()=>In.subscribe(z=>{if(z.dismiss){requestAnimationFrame(()=>{M(X=>X.map(H=>H.id===z.id?{...H,delete:!0}:H))});return}setTimeout(()=>{y2.flushSync(()=>{M(X=>{const H=X.findIndex(Z=>Z.id===z.id);return H!==-1?[...X.slice(0,H),{...X[H],...z},...X.slice(H+1)]:[z,...X]})})})}),[I]),de.useEffect(()=>{if(y!=="system"){D(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window>"u")return;const z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:X})=>{D(X?"dark":"light")})}catch{z.addListener(({matches:H})=>{try{D(H?"dark":"light")}catch(Z){console.error(Z)}})}},[y]),de.useEffect(()=>{I.length<=1&&oe(!1)},[I]),de.useEffect(()=>{const z=X=>{var H;if(c.every(te=>X[te]||X.code===te)){var Q;oe(!0),(Q=P.current)==null||Q.focus()}X.code==="Escape"&&(document.activeElement===P.current||(H=P.current)!=null&&H.contains(document.activeElement))&&oe(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[c]),de.useEffect(()=>{if(P.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,B.current=!1)}},[P.current]),de.createElement("section",{ref:n,"aria-label":`${T} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((z,X)=>{var H;const[Z,Q]=z.split("-");return F.length?de.createElement("ol",{key:z,dir:E==="auto"?Rb():E,tabIndex:-1,ref:P,className:f,"data-sonner-toaster":!0,"data-sonner-theme":$,"data-y-position":Z,"data-x-position":Q,style:{"--front-toast-height":`${((H=G[0])==null?void 0:H.height)||0}px`,"--width":`${pM}px`,"--gap":`${C}px`,...j,...wM(p,m)},onBlur:te=>{B.current&&!te.currentTarget.contains(te.relatedTarget)&&(B.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||B.current||(B.current=!0,q.current=te.relatedTarget)},onMouseEnter:()=>oe(!0),onMouseMove:()=>oe(!0),onMouseLeave:()=>{ee||oe(!1)},onDragEnd:()=>oe(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},F.filter(te=>!te.position&&X===0||te.position===z).map((te,he)=>{var le,Ne;return de.createElement(vM,{key:te.id,icons:_,index:he,toast:te,defaultRichColors:v,duration:(le=N?.duration)!=null?le:w,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:i,visibleToasts:S,closeButton:(Ne=N?.closeButton)!=null?Ne:u,interacting:ee,position:z,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:W,toasts:F.filter(ke=>ke.position==te.position),heights:G.filter(ke=>ke.position==te.position),setHeights:se,expandByDefault:d,gap:C,expanded:ae,swipeDirections:t.swipeDirections})})):null}))}),Je="ooxinxuphknbfhbancgs",En="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9veGlueHVwaGtuYmZoYmFuY2dzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MDExMTQsImV4cCI6MjA3NDM3NzExNH0.lrbSZb3DTTWBkX3skjOHZ7N_WC_5YURB0ncDHFrwEzY",jM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class v0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class SM extends v0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Db extends v0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ob extends v0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qm||(qm={}));class NM{constructor(t,{headers:n={},customFetch:r,region:i=qm.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=jM(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Be(this,arguments,void 0,function*(n,r={}){var i;let a,c;try{const{headers:d,method:u,body:f,signal:p,timeout:m}=r;let y={},{region:v}=r;v||(v=this.region);const w=new URL(`${this.url}/${n}`);v&&v!=="any"&&(y["x-region"]=v,w.searchParams.set("forceFunctionRegion",v));let j;f&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",j=f):typeof f=="string"?(y["Content-Type"]="text/plain",j=f):typeof FormData<"u"&&f instanceof FormData?j=f:(y["Content-Type"]="application/json",j=JSON.stringify(f)):j=f;let S=p;m&&(c=new AbortController,a=setTimeout(()=>c.abort(),m),p?(S=c.signal,p.addEventListener("abort",()=>c.abort())):S=c.signal);const N=yield this.fetch(w.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),d),body:j,signal:S}).catch(T=>{throw new SM(T)}),E=N.headers.get("x-relay-error");if(E&&E==="true")throw new Db(N);if(!N.ok)throw new Ob(N);let C=((i=N.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return C==="application/json"?_=yield N.json():C==="application/octet-stream"||C==="application/pdf"?_=yield N.blob():C==="text/event-stream"?_=N:C==="multipart/form-data"?_=yield N.formData():_=yield N.text(),{data:_,error:null,response:N}}catch(d){return{data:null,error:d,response:d instanceof Ob||d instanceof Db?d.context:void 0}}finally{a&&clearTimeout(a)}})}}var gn={};const ca=T5(kF);var Nd={},kd={},Cd={},Ed={},_d={},Ad={},Ib;function dk(){if(Ib)return Ad;Ib=1,Object.defineProperty(Ad,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ad.default=e,Ad}var Fb;function uk(){if(Fb)return _d;Fb=1,Object.defineProperty(_d,"__esModule",{value:!0});const t=ca.__importDefault(dk());class n{constructor(i){var a,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,p,m,y;let v=null,w=null,j=null,S=u.status,N=u.statusText;if(u.ok){if(this.method!=="HEAD"){const T=await u.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?w=T:w=JSON.parse(T))}const C=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),_=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");C&&_&&_.length>1&&(j=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(v={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,j=null,S=406,N="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const C=await u.text();try{v=JSON.parse(C),Array.isArray(v)&&u.status===404&&(w=[],v=null,S=200,N="OK")}catch{u.status===404&&C===""?(S=204,N="No Content"):v={message:C}}if(v&&this.isMaybeSingle&&(!((y=v?.details)===null||y===void 0)&&y.includes("0 rows"))&&(v=null,S=200,N="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:w,count:j,status:S,statusText:N}});return this.shouldThrowOnError||(d=d.catch(u=>{var f,p,m;return{error:{message:`${(f=u?.name)!==null&&f!==void 0?f:"FetchError"}: ${u?.message}`,details:`${(p=u?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(m=u?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),d.then(i,a)}returns(){return this}overrideTypes(){return this}}return _d.default=n,_d}var Mb;function hk(){if(Mb)return Ed;Mb=1,Object.defineProperty(Ed,"__esModule",{value:!0});const t=ca.__importDefault(uk());class n extends t.default{select(i){let a=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:c,foreignTable:d,referencedTable:u=d}={}){const f=u?`${u}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${i}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:c=a}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,a,{foreignTable:c,referencedTable:d=c}={}){const u=typeof d>"u"?"offset":`${d}.offset`,f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:c=!1,buffers:d=!1,wal:u=!1,format:f="text"}={}){var p;const m=[i?"analyze":null,a?"verbose":null,c?"settings":null,d?"buffers":null,u?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Ed.default=n,Ed}var Lb;function w0(){if(Lb)return Cd;Lb=1,Object.defineProperty(Cd,"__esModule",{value:!0});const t=ca.__importDefault(hk()),n=new RegExp("[,()]");class r extends t.default{eq(a,c){return this.url.searchParams.append(a,`eq.${c}`),this}neq(a,c){return this.url.searchParams.append(a,`neq.${c}`),this}gt(a,c){return this.url.searchParams.append(a,`gt.${c}`),this}gte(a,c){return this.url.searchParams.append(a,`gte.${c}`),this}lt(a,c){return this.url.searchParams.append(a,`lt.${c}`),this}lte(a,c){return this.url.searchParams.append(a,`lte.${c}`),this}like(a,c){return this.url.searchParams.append(a,`like.${c}`),this}likeAllOf(a,c){return this.url.searchParams.append(a,`like(all).{${c.join(",")}}`),this}likeAnyOf(a,c){return this.url.searchParams.append(a,`like(any).{${c.join(",")}}`),this}ilike(a,c){return this.url.searchParams.append(a,`ilike.${c}`),this}ilikeAllOf(a,c){return this.url.searchParams.append(a,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(a,c){return this.url.searchParams.append(a,`ilike(any).{${c.join(",")}}`),this}is(a,c){return this.url.searchParams.append(a,`is.${c}`),this}in(a,c){const d=Array.from(new Set(c)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cs.{${c.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(c)}`),this}containedBy(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cd.{${c.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(c)}`),this}rangeGt(a,c){return this.url.searchParams.append(a,`sr.${c}`),this}rangeGte(a,c){return this.url.searchParams.append(a,`nxl.${c}`),this}rangeLt(a,c){return this.url.searchParams.append(a,`sl.${c}`),this}rangeLte(a,c){return this.url.searchParams.append(a,`nxr.${c}`),this}rangeAdjacent(a,c){return this.url.searchParams.append(a,`adj.${c}`),this}overlaps(a,c){return typeof c=="string"?this.url.searchParams.append(a,`ov.${c}`):this.url.searchParams.append(a,`ov.{${c.join(",")}}`),this}textSearch(a,c,{config:d,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const p=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${f}fts${p}.${c}`),this}match(a){return Object.entries(a).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(a,c,d){return this.url.searchParams.append(a,`not.${c}.${d}`),this}or(a,{foreignTable:c,referencedTable:d=c}={}){const u=d?`${d}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,c,d){return this.url.searchParams.append(a,`${c}.${d}`),this}}return Cd.default=r,Cd}var Bb;function fk(){if(Bb)return kd;Bb=1,Object.defineProperty(kd,"__esModule",{value:!0});const t=ca.__importDefault(w0());class n{constructor(i,{headers:a={},schema:c,fetch:d}){this.url=i,this.headers=new Headers(a),this.schema=c,this.fetch=d}select(i,a){const{head:c=!1,count:d}=a??{},u=c?"HEAD":"GET";let f=!1;const p=(i??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",p),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:c=!0}={}){var d;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:c=!1,count:d,defaultToNull:u=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(m.length>0){const y=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var c;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var a;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return kd.default=n,kd}var $b;function kM(){if($b)return Nd;$b=1,Object.defineProperty(Nd,"__esModule",{value:!0});const e=ca,t=e.__importDefault(fk()),n=e.__importDefault(w0());class r{constructor(a,{headers:c={},schema:d,fetch:u}={}){this.url=a,this.headers=new Headers(c),this.schemaName=d,this.fetch=u}from(a){const c=new URL(`${this.url}/${a}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,c={},{head:d=!1,get:u=!1,count:f}={}){var p;let m;const y=new URL(`${this.url}/rpc/${a}`);let v;d||u?(m=d?"HEAD":"GET",Object.entries(c).filter(([j,S])=>S!==void 0).map(([j,S])=>[j,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([j,S])=>{y.searchParams.append(j,S)})):(m="POST",v=c);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new n.default({method:m,url:y,headers:w,schema:this.schemaName,body:v,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Nd.default=r,Nd}var zb;function CM(){if(zb)return gn;zb=1,Object.defineProperty(gn,"__esModule",{value:!0}),gn.PostgrestError=gn.PostgrestBuilder=gn.PostgrestTransformBuilder=gn.PostgrestFilterBuilder=gn.PostgrestQueryBuilder=gn.PostgrestClient=void 0;const e=ca,t=e.__importDefault(kM());gn.PostgrestClient=t.default;const n=e.__importDefault(fk());gn.PostgrestQueryBuilder=n.default;const r=e.__importDefault(w0());gn.PostgrestFilterBuilder=r.default;const i=e.__importDefault(hk());gn.PostgrestTransformBuilder=i.default;const a=e.__importDefault(uk());gn.PostgrestBuilder=a.default;const c=e.__importDefault(dk());return gn.PostgrestError=c.default,gn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:c.default},gn}var pk=CM();const mk=Pu(pk),EM=Q1({__proto__:null,default:mk},[pk]),{PostgrestClient:_M,PostgrestQueryBuilder:$V,PostgrestFilterBuilder:zV,PostgrestTransformBuilder:WV,PostgrestBuilder:VV,PostgrestError:UV}=mk||EM;class AM{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const TM="2.81.1",PM=`realtime-js/${TM}`,gk="1.0.0",RM="2.0.0",Wb=gk,Gm=1e4,DM=1e3,OM=100;var _i;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_i||(_i={}));var en;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(en||(en={}));var ar;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ar||(ar={}));var Km;(function(e){e.websocket="websocket"})(Km||(Km={}));var Ai;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ai||(Ai={}));class IM{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,n){if(this._isArrayBuffer(t.payload))return n(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodePush(t){const{join_ref:n,ref:r,event:i,topic:a,payload:c}=t,d=this.META_LENGTH+n.length+r.length+a.length+i.length,u=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(u),p=0;f.setUint8(p++,this.KINDS.push),f.setUint8(p++,n.length),f.setUint8(p++,r.length),f.setUint8(p++,a.length),f.setUint8(p++,i.length),Array.from(n,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(r,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(a,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(i,y=>f.setUint8(p++,y.charCodeAt(0)));var m=new Uint8Array(u.byteLength+c.byteLength);return m.set(new Uint8Array(u),0),m.set(new Uint8Array(c),u.byteLength),m.buffer}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const{join_ref:i,ref:a,topic:c}=t,d=t.payload.event,u=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+c.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(p),y=0;m.setUint8(y++,this.KINDS.userBroadcastPush),m.setUint8(y++,i.length),m.setUint8(y++,a.length),m.setUint8(y++,c.length),m.setUint8(y++,d.length),m.setUint8(y++,this.BINARY_ENCODING),Array.from(i,w=>m.setUint8(y++,w.charCodeAt(0))),Array.from(a,w=>m.setUint8(y++,w.charCodeAt(0))),Array.from(c,w=>m.setUint8(y++,w.charCodeAt(0))),Array.from(d,w=>m.setUint8(y++,w.charCodeAt(0)));var v=new Uint8Array(p.byteLength+u.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(u),p.byteLength),v.buffer}_encodeJsonUserBroadcastPush(t){var n,r;const{join_ref:i,ref:a,topic:c}=t,d=t.payload.event,u=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},p=new TextEncoder().encode(JSON.stringify(u)).buffer,m=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+c.length+d.length,y=new ArrayBuffer(this.HEADER_LENGTH+m);let v=new DataView(y),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,i.length),v.setUint8(w++,a.length),v.setUint8(w++,c.length),v.setUint8(w++,d.length),v.setUint8(w++,this.JSON_ENCODING),Array.from(i,S=>v.setUint8(w++,S.charCodeAt(0))),Array.from(a,S=>v.setUint8(w++,S.charCodeAt(0))),Array.from(c,S=>v.setUint8(w++,S.charCodeAt(0))),Array.from(d,S=>v.setUint8(w++,S.charCodeAt(0)));var j=new Uint8Array(y.byteLength+p.byteLength);return j.set(new Uint8Array(y),0),j.set(new Uint8Array(p),y.byteLength),j.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,c,d,u]=r;return n({join_ref:i,ref:a,topic:c,event:d,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(t,n,i);case this.KINDS.reply:return this._decodeReply(t,n,i);case this.KINDS.broadcast:return this._decodeBroadcast(t,n,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodePush(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),c=n.getUint8(3);let d=this.HEADER_LENGTH+this.META_LENGTH-1;const u=r.decode(t.slice(d,d+i));d=d+i;const f=r.decode(t.slice(d,d+a));d=d+a;const p=r.decode(t.slice(d,d+c));d=d+c;const m=JSON.parse(r.decode(t.slice(d,t.byteLength)));return{join_ref:u,ref:null,topic:f,event:p,payload:m}}_decodeReply(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),c=n.getUint8(3),d=n.getUint8(4);let u=this.HEADER_LENGTH+this.META_LENGTH;const f=r.decode(t.slice(u,u+i));u=u+i;const p=r.decode(t.slice(u,u+a));u=u+a;const m=r.decode(t.slice(u,u+c));u=u+c;const y=r.decode(t.slice(u,u+d));u=u+d;const v=JSON.parse(r.decode(t.slice(u,t.byteLength))),w={status:y,response:v};return{join_ref:f,ref:p,topic:m,event:ar.reply,payload:w}}_decodeBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2);let c=this.HEADER_LENGTH+2;const d=r.decode(t.slice(c,c+i));c=c+i;const u=r.decode(t.slice(c,c+a));c=c+a;const f=JSON.parse(r.decode(t.slice(c,t.byteLength)));return{join_ref:null,ref:null,topic:d,event:u,payload:f}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),c=n.getUint8(3),d=n.getUint8(4);let u=this.HEADER_LENGTH+4;const f=r.decode(t.slice(u,u+i));u=u+i;const p=r.decode(t.slice(u,u+a));u=u+a;const m=r.decode(t.slice(u,u+c));u=u+c;const y=t.slice(u,t.byteLength),v=d===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,w={type:this.BROADCAST,event:p,payload:v};return c>0&&(w.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST,payload:w}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class xk{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Et||(Et={}));const Vb=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,c)=>(a[c]=FM(c,e,t,i),a),{}):{}},FM=(e,t,n,r)=>{const i=t.find(d=>d.name===e),a=i?.type,c=n[e];return a&&!r.includes(a)?yk(a,c):Ym(c)},yk=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return $M(t,n)}switch(e){case Et.bool:return MM(t);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return LM(t);case Et.json:case Et.jsonb:return BM(t);case Et.timestamp:return zM(t);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:return Ym(t);default:return Ym(t)}},Ym=e=>e,MM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},LM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},BM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$M=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const c=e.slice(1,n);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(d=>yk(t,d))}return e},zM=e=>typeof e=="string"?e.replace(" ","T"):e,vk=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class wp{constructor(t,n,r={},i=Gm){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ub;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ub||(Ub={}));class fl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fl.syncState(this.state,i,a,c),this.pendingDiffs.forEach(u=>{this.state=fl.syncDiff(this.state,u,a,c)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=fl.syncDiff(this.state,i,a,c),d())}),this.onJoin((i,a,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:c})}),this.onLeave((i,a,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),c=this.transformState(n),d={},u={};return this.map(a,(f,p)=>{c[f]||(u[f]=p)}),this.map(c,(f,p)=>{const m=a[f];if(m){const y=p.map(S=>S.presence_ref),v=m.map(S=>S.presence_ref),w=p.filter(S=>v.indexOf(S.presence_ref)<0),j=m.filter(S=>y.indexOf(S.presence_ref)<0);w.length>0&&(d[f]=w),j.length>0&&(u[f]=j)}else d[f]=p}),this.syncDiff(a,{joins:d,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(d,u)=>{var f;const p=(f=t[d])!==null&&f!==void 0?f:[];if(t[d]=this.cloneDeep(u),p.length>0){const m=t[d].map(v=>v.presence_ref),y=p.filter(v=>m.indexOf(v.presence_ref)<0);t[d].unshift(...y)}r(d,p,u)}),this.map(c,(d,u)=>{let f=t[d];if(!f)return;const p=u.map(m=>m.presence_ref);f=f.filter(m=>p.indexOf(m.presence_ref)<0),t[d]=f,i(d,f,u),f.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Hb||(Hb={}));var pl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(pl||(pl={}));var ls;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ls||(ls={}));class b0{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=en.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new wp(this,ar.join,this.params,this.timeout),this.rejoinTimer=new xk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=en.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=en.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ar.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new fl(this),this.broadcastEndpointURL=vk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==en.closed){const{config:{broadcast:c,presence:d,private:u}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[pl.PRESENCE]&&this.bindings[pl.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},y={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(v=>t?.(ls.CHANNEL_ERROR,v)),this._onClose(()=>t?.(ls.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){t?.(ls.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,S=(w=j?.length)!==null&&w!==void 0?w:0,N=[];for(let E=0;E<S;E++){const C=j[E],{filter:{event:_,schema:T,table:I,filter:M}}=C,F=v&&v[E];if(F&&F.event===_&&F.schema===T&&F.table===I&&F.filter===M)N.push(Object.assign(Object.assign({},C),{id:F.id}));else{this.unsubscribe(),this.state=en.errored,t?.(ls.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(ls.SUBSCRIBED);return}}).receive("error",v=>{this.state=en.errored,t?.(ls.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t?.(ls.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===en.joined&&t===pl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let u=d.statusText;try{const f=await d.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:c}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,d,u;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=en.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ar.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new wp(this,ar.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=en.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),c=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),c}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new wp(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>OM){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const c=t.toLocaleLowerCase(),{close:d,error:u,leave:f,join:p}=ar;if(r&&[d,u,f,p].indexOf(c)>=0&&r!==this._joinRef())return;let y=this._onMessage(c,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var w,j,S;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(j=v.filter)===null||j===void 0?void 0:j.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===c}).map(v=>v.callback(y,r)):(a=this.bindings[c])===null||a===void 0||a.filter(v=>{var w,j,S,N,E,C;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in v){const _=v.id,T=(w=v.filter)===null||w===void 0?void 0:w.event;return _&&((j=n.ids)===null||j===void 0?void 0:j.includes(_))&&(T==="*"||T?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const _=(E=(N=v?.filter)===null||N===void 0?void 0:N.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return _==="*"||_===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===c}).map(v=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:j,table:S,commit_timestamp:N,type:E,errors:C}=w;y=Object.assign(Object.assign({},{schema:j,table:S,commit_timestamp:N,eventType:E,new:{},old:{},errors:C}),this._getPayloadRecords(w))}v.callback(y,r)})}_isClosed(){return this.state===en.closed}_isJoined(){return this.state===en.joined}_isJoining(){return this.state===en.joining}_isLeaving(){return this.state===en.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&b0.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ar.close,{},t)}_onError(t){this._on(ar.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=en.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Vb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Vb(t.columns,t.old_record)),n}}const bp=()=>{},Td={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},WM=[1e3,2e3,5e3,1e4],VM=1e4,UM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HM{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gm,this.transport=null,this.heartbeatIntervalMs=Td.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bp,this.ref=0,this.reconnectTimer=null,this.vsn=Wb,this.logger=bp,this.conn=null,this.sendBuffer=[],this.serializer=new IM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Km.websocket}`,this.httpEndpoint=vk(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=AM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case _i.connecting:return Ai.Connecting;case _i.open:return Ai.Open;case _i.closing:return Ai.Closing;default:return Ai.Closed}}isConnected(){return this.connectionState()===Ai.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new b0(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,c=()=>{this.encode(t,d=>{var u;(u=this.conn)===null||u===void 0||u.send(d)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(DM,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Td.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:c}=n,d=c?`(${c})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${d}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===_i.open||this.conn.readyState===_i.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ar.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([UM],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:PM};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(ar.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new xk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Td.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,c,d,u,f,p,m,y,v;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Gm,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Td.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:bp,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:Wb,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(w=>WM[w-1]||VM),this.vsn){case gk:this.encode=(p=t?.encode)!==null&&p!==void 0?p:((w,j)=>j(JSON.stringify(w))),this.decode=(m=t?.decode)!==null&&m!==void 0?m:((w,j)=>j(JSON.parse(w)));break;case RM:this.encode=(y=t?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(v=t?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class j0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Mt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class qM extends j0{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xm extends j0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const S0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),GM=()=>Response,Jm=e=>{if(Array.isArray(e))return e.map(n=>Jm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Jm(r)}),t},KM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},jp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},YM=(e,t,n)=>Be(void 0,void 0,void 0,function*(){const r=yield GM();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,c=i?.statusCode||a+"";t(new qM(jp(i),a,c))}).catch(i=>{t(new Xm(jp(i),i))}):t(new Xm(jp(e),e))}),XM=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(KM(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Xl(e,t,n,r,i,a){return Be(this,void 0,void 0,function*(){return new Promise((c,d)=>{e(n,XM(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>c(u)).catch(u=>YM(u,d,r))})})}function Tl(e,t,n,r){return Be(this,void 0,void 0,function*(){return Xl(e,"GET",t,n,r)})}function Er(e,t,n,r,i){return Be(this,void 0,void 0,function*(){return Xl(e,"POST",t,r,i,n)})}function Qm(e,t,n,r,i){return Be(this,void 0,void 0,function*(){return Xl(e,"PUT",t,r,i,n)})}function JM(e,t,n,r){return Be(this,void 0,void 0,function*(){return Xl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function N0(e,t,n,r,i){return Be(this,void 0,void 0,function*(){return Xl(e,"DELETE",t,r,i,n)})}class QM{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Be(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Mt(t))return{data:null,error:t};throw t}})}}var wk;class ZM{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[wk]="BlobDownloadBuilder",this.promise=null}asStream(){return new QM(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Be(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Mt(t))return{data:null,error:t};throw t}})}}wk=Symbol.toStringTag;const eL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tL{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=S0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Be(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},qb),i);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const u=c.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",c.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,u&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const f=this._removeEmptyFolders(n),p=this._getFinalPath(f),m=yield(t=="PUT"?Qm:Er)(this.fetch,`${this.url}/object/${p}`,a,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Mt(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Be(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",n);try{let u;const f=Object.assign({upsert:qb.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",f.cacheControl)):(u=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const m=yield Qm(this.fetch,d.toString(),u,{headers:p});return{data:{path:a,fullPath:m.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Mt(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Er(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),c=new URL(this.url+a.url),d=c.searchParams.get("token");if(!d)throw new j0("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:d},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Be(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Be(this,void 0,void 0,function*(){try{return{data:{path:(yield Er(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Be(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Er(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Be(this,void 0,void 0,function*(){try{const i=yield Er(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),c=a?`?${a}`:"",d=this._getFinalPath(t),u=()=>Tl(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new ZM(u,this.shouldThrowOnError)}info(t){return Be(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Tl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Jm(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}exists(t){return Be(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield JM(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r)&&r instanceof Xm){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const d=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${f}`)}}}remove(t){return Be(this,void 0,void 0,function*(){try{return{data:yield N0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Be(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},eL),n),{prefix:t||""});return{data:yield Er(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}listV2(t,n){return Be(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Er(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const bk="2.81.1",jk={"X-Client-Info":`storage-js/${bk}`};class nL{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jk),n),this.fetch=S0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Be(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Tl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}getBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Tl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}createBucket(t){return Be(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Er(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Be(this,void 0,void 0,function*(){try{return{data:yield Qm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield N0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class rL{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jk),n),this.fetch=S0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}listBuckets(t){return Be(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Tl(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield N0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}}const k0={"X-Client-Info":`storage-js/${bk}`,"Content-Type":"application/json"};class Sk extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function qn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Sp extends Sk{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sL extends Sk{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Gb;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Gb||(Gb={}));const C0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Kb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oL=(e,t,n)=>Be(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(c=>{const d=c?.statusCode||c?.code||i+"";t(new Sp(Kb(c),i,d))}).catch(()=>{const c=i+"",d=a.statusText||`HTTP ${i} error`;t(new Sp(d,i,c))});else{const c=i+"",d=a.statusText||`HTTP ${i} error`;t(new Sp(d,i,c))}}else t(new sL(Kb(e),e))}),aL=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(iL(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function lL(e,t,n,r,i,a){return Be(this,void 0,void 0,function*(){return new Promise((c,d)=>{e(n,aL(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const f=u.headers.get("content-type");return!f||!f.includes("application/json")?{}:u.json()}).then(u=>c(u)).catch(u=>oL(u,d,r))})})}function Gn(e,t,n,r,i){return Be(this,void 0,void 0,function*(){return lL(e,"POST",t,r,i,n)})}class cL{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},k0),n),this.fetch=C0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Be(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Be(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qn(r))return{data:null,error:r};throw r}})}listIndexes(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Be(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qn(r))return{data:null,error:r};throw r}})}}class dL{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},k0),n),this.fetch=C0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Be(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Gn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}})}getVectors(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}})}listVectors(t){return Be(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Gn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}})}queryVectors(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Be(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Gn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}})}}class uL{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},k0),n),this.fetch=C0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}})}getBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}})}listBuckets(){return Be(this,arguments,void 0,function*(t={}){try{return{data:yield Gn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}})}}class hL extends uL{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new fL(this.url,this.headers,t,this.fetch)}}class fL extends cL{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Be(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Be(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Be(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Be(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new pL(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class pL extends dL{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Be(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Be(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Be(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Be(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Be(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class mL extends nL{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new tL(this.url,this.headers,t,this.fetch)}get vectors(){return new hL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new rL(this.url+"/iceberg",this.headers,this.fetch)}}const gL="2.81.1";let il="";typeof Deno<"u"?il="deno":typeof document<"u"?il="web":typeof navigator<"u"&&navigator.product==="ReactNative"?il="react-native":il="node";const xL={"X-Client-Info":`supabase-js-${il}/${gL}`},yL={headers:xL},vL={schema:"public"},wL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bL={},jL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),SL=()=>Headers,NL=(e,t,n)=>{const r=jL(n),i=SL();return async(a,c)=>{var d;const u=(d=await t())!==null&&d!==void 0?d:e;let f=new i(c?.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${u}`),r(a,Object.assign(Object.assign({},c),{headers:f}))}};function kL(e){return e.endsWith("/")?e:e+"/"}function CL(e,t){var n,r;const{db:i,auth:a,realtime:c,global:d}=e,{db:u,auth:f,realtime:p,global:m}=t,y={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},p),c),storage:{},global:Object.assign(Object.assign(Object.assign({},m),d),{headers:Object.assign(Object.assign({},(n=m?.headers)!==null&&n!==void 0?n:{}),(r=d?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function EL(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kL(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Nk="2.81.1",To=30*1e3,Zm=3,Np=Zm*To,_L="http://localhost:9999",AL="supabase.auth.token",TL={"X-Client-Info":`gotrue-js/${Nk}`},eg="X-Supabase-Api-Version",kk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},PL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,RL=600*1e3;class Pl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class DL extends Pl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function OL(e){return ze(e)&&e.name==="AuthApiError"}class Ti extends Pl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class si extends Pl{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Sr extends si{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function IL(e){return ze(e)&&e.name==="AuthSessionMissingError"}class wo extends si{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pd extends si{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Rd extends si{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FL(e){return ze(e)&&e.name==="AuthImplicitGrantRedirectError"}class Yb extends si{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tg extends si{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function kp(e){return ze(e)&&e.name==="AuthRetryableFetchError"}class Xb extends si{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ng extends si{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jb=` 	
\r=`.split(""),ML=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Jb.length;t+=1)e[Jb[t].charCodeAt(0)]=-2;for(let t=0;t<wu.length;t+=1)e[wu[t].charCodeAt(0)]=t;return e})();function Qb(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(wu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(wu[r]),t.queuedBits-=6}}function Ck(e,t,n){const r=ML[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Zb(e){const t=[],n=c=>{t.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=c=>{$L(c,r,n)};for(let c=0;c<e.length;c+=1)Ck(e.charCodeAt(c),i,a);return t.join("")}function LL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function BL(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}LL(r,t)}}function $L(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Wo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Ck(e.charCodeAt(i),n,r);return new Uint8Array(t)}function zL(e){const t=[];return BL(e,n=>t.push(n)),new Uint8Array(t)}function Ii(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Qb(i,n,r)),Qb(null,n,r),t.join("")}function WL(e){return Math.round(Date.now()/1e3)+e}function VL(){return Symbol("auth-callback")}const cn=()=>typeof window<"u"&&typeof document<"u",ji={tested:!1,writable:!1},Ek=()=>{if(!cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ji.tested)return ji.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ji.tested=!0,ji.writable=!0}catch{ji.tested=!0,ji.writable=!1}return ji.writable};function UL(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const _k=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),HL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Po=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Si=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ws=async(e,t)=>{await e.removeItem(t)};class Qu{constructor(){this.promise=new Qu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Qu.promiseConstructor=Promise;function Cp(e){const t=e.split(".");if(t.length!==3)throw new ng("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!PL.test(t[r]))throw new ng("JWT not in base64url format");return{header:JSON.parse(Zb(t[0])),payload:JSON.parse(Zb(t[1])),signature:Wo(t[2]),raw:{header:t[0],payload:t[1]}}}async function qL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function GL(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){r(c);return}}catch(c){if(!t(a,c)){i(c);return}}})()})}function KL(e){return("0"+e.toString(16)).substr(-2)}function YL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,KL).join("")}async function XL(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function JL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await XL(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bo(e,t,n=!1){const r=YL();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Po(e,`${t}-code-verifier`,i);const a=await JL(r);return[a,r===a?"plain":"s256"]}const QL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZL(e){const t=e.headers.get(eg);if(!t||!t.match(QL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function eB(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function tB(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jo(e){if(!nB.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ep(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rB(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function e1(e){return JSON.parse(JSON.stringify(e))}const ki=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sB=[502,503,504];async function t1(e){var t;if(!HL(e))throw new tg(ki(e),0);if(sB.includes(e.status))throw new tg(ki(e),e.status);let n;try{n=await e.json()}catch(a){throw new Ti(ki(a),a)}let r;const i=ZL(e);if(i&&i.getTime()>=kk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Xb(ki(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Sr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new Xb(ki(n),e.status,n.weak_password.reasons);throw new DL(ki(n),e.status||500,r)}const iB=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ke(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[eg]||(a[eg]=kk["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const c=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(c.redirect_to=r.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",u=await oB(e,t,n+d,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function oB(e,t,n,r,i,a){const c=iB(t,r,i,a);let d;try{d=await e(n,Object.assign({},c))}catch(u){throw console.error(u),new tg(ki(u),0)}if(d.ok||await t1(d),r?.noResolveJson)return d;try{return await d.json()}catch(u){await t1(u)}}function Nr(e){var t;let n=null;cB(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=WL(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function n1(e){const t=Nr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function aB(e){return{data:e,error:null}}function lB(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,c=ti(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},c);return{data:{properties:d,user:u},error:null}}function r1(e){return e}function cB(e){return e.access_token&&e.refresh_token&&e.expires_in}const _p=["global","local","others"];class dB{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=_k(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=_p[0]){if(_p.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_p.join(", ")}`);try{return await Ke(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:qs})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ti(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:lB,redirectTo:n?.redirectTo})}catch(n){if(ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qs})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,c,d,u;try{const f={nextPage:null,lastPage:0,total:0},p=await Ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:r1});if(p.error)throw p.error;const m=await p.json(),y=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,v=(u=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(w=>{const j=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);f[`${S}Page`]=j}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(ze(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){jo(t);try{return await Ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qs})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){jo(t);try{return await Ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:qs})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){jo(t);try{return await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:qs})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){jo(t.userId);try{const{data:n,error:r}=await Ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteFactor(t){jo(t.userId),jo(t.id);try{return{data:await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,c,d,u;try{const f={nextPage:null,lastPage:0,total:0},p=await Ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:r1});if(p.error)throw p.error;const m=await p.json(),y=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,v=(u=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(w=>{const j=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);f[`${S}Page`]=j}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(ze(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Ke(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}}function s1(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const So={debug:!!(globalThis&&Ek()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ak extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class uB extends Ak{}async function hB(e,t,n){So.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),So.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){So.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{So.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw So.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new uB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(So.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function fB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Tk(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function pB(e){return parseInt(e,16)}function mB(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function gB(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:c,notBefore:d,requestId:u,resources:f,scheme:p,uri:m,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Tk(e.address),w=p?`${p}://${r}`:r,j=e.statement?`${e.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${v}

${j}`;let N=`URI: ${m}
Version: ${y}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${a.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),u&&(N+=`
Request ID: ${u}`),f){let E=`
Resources:`;for(const C of f){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);E+=`
- ${C}`}N+=E}return`${S}
${N}`}class Kt extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class bu extends Kt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function xB({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Kt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Kt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Kt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Kt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Kt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Kt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Kt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(Pk(c)){if(a.rp.id!==c)return new Kt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Kt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Kt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function yB({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Kt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Pk(r)){if(n.rpId!==r)return new Kt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Kt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class vB{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const wB=new vB;function bB(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=ti(e,["challenge","user","excludeCredentials"]),a=Wo(t).buffer,c=Object.assign(Object.assign({},n),{id:Wo(n.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:a,user:c});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];d.excludeCredentials[u]=Object.assign(Object.assign({},f),{id:Wo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return d}function jB(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=ti(e,["challenge","allowCredentials"]),i=Wo(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];a.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Wo(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function SB(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ii(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ii(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function NB(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ii(new Uint8Array(i.authenticatorData)),clientDataJSON:Ii(new Uint8Array(i.clientDataJSON)),signature:Ii(new Uint8Array(i.signature)),userHandle:i.userHandle?Ii(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Pk(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function i1(){var e,t;return!!(cn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function kB(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bu("Browser returned unexpected credential type",t)}:{data:null,error:new bu("Empty credential response",t)}}catch(t){return{data:null,error:xB({error:t,options:e})}}}async function CB(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bu("Browser returned unexpected credential type",t)}:{data:null,error:new bu("Empty credential response",t)}}catch(t){return{data:null,error:yB({error:t,options:e})}}}const EB={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_B={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ju(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const c=i[a];if(c!==void 0)if(Array.isArray(c))r[a]=c;else if(n(c))r[a]=c;else if(t(c)){const d=r[a];t(d)?r[a]=ju(d,c):r[a]=ju(c)}else r[a]=c}return r}function AB(e,t){return ju(EB,e,t||{})}function TB(e,t){return ju(_B,e,t||{})}class PB{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:d};const u=i??wB.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=AB(c.webauthn.credential_options.publicKey,a?.create),{data:p,error:m}=await kB({publicKey:f,signal:u});return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const f=TB(c.webauthn.credential_options.publicKey,a?.request),{data:p,error:m}=await CB(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:u}));return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(c){return ze(c)?{data:null,error:c}:{data:null,error:new Ti("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Pl("rpId is required for WebAuthn authentication")};try{if(!i1())return{data:null,error:new Ti("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!c)return{data:null,error:d};const{webauthn:u}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(c){return ze(c)?{data:null,error:c}:{data:null,error:new Ti("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Pl("rpId is required for WebAuthn registration")};try{if(!i1())return{data:null,error:new Ti("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:d};const{data:u,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:c.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(c){return ze(c)?{data:null,error:c}:{data:null,error:new Ti("Unexpected error in register",c)}}}}fB();const RB={url:_L,storageKey:AL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:TL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function o1(e,t,n){return await n()}const No={};class Rl{get jwks(){var t,n;return(n=(t=No[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=No[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},RB),t);if(this.storageKey=a.storageKey,this.instanceID=(n=Rl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Rl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&cn()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new dB({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=_k(a.fetch),this.lock=a.lock||o1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:cn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=hB:this.lock=o1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new PB(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Ek()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=s1(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=s1(this.memoryStorage)),cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Nk}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(cn()&&(n=UL(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),cn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),FL(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ze(n)?this._returnResult({error:n}):this._returnResult({error:new Ti("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Nr}),{data:c,error:d}=a;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const u=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(ze(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:p,password:m,options:y}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await bo(this.storage,this.storageKey)),a=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:p,password:m,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:v,code_challenge_method:w},xform:Nr})}else if("phone"in t){const{phone:p,password:m,options:y}=t;a=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=y?.data)!==null&&r!==void 0?r:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Nr})}else throw new Pd("You must provide either an email or phone number and a password");const{data:c,error:d}=a;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const u=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(ze(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:c,options:d}=t;n=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:n1})}else if("phone"in t){const{phone:a,password:c,options:d}=t;n=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:n1})}else throw new Pd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new wo;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,c,d,u,f,p,m,y;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:j,wallet:S,statement:N,options:E}=t;let C;if(cn())if(typeof S=="object")C=S;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")C=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=S}const _=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href),T=await C.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=Tk(T[0]);let M=(r=E?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const U=await C.request({method:"eth_chainId"});M=pB(U)}const F={domain:_.host,address:I,statement:N,uri:_.href,version:"1",chainId:M,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(a=E?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(f=E?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=E?.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=gB(F),w=await C.request({method:"personal_sign",params:[mB(v),I]})}try{const{data:j,error:S}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:w},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Nr});if(S)throw S;if(!j||!j.session||!j.user){const N=new wo;return this._returnResult({data:{user:null,session:null},error:N})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:S})}catch(j){if(ze(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(t){var n,r,i,a,c,d,u,f,p,m,y,v;let w,j;if("message"in t)w=t.message,j=t.signature;else{const{chain:S,wallet:N,statement:E,options:C}=t;let _;if(cn())if(typeof N=="object")_=N;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))_=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=N}const T=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const I=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),E?{statement:E}:null));let M;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")M=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)M=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)w=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),j=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${T.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(r=C?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=C?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((m=(p=C?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...C.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const I=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=I}}try{const{data:S,error:N}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Ii(j)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Nr});if(N)throw N;if(!S||!S.session||!S.user){const E=new wo;return this._returnResult({data:{user:null,session:null},error:E})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:N})}catch(S){if(ze(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await Si(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:c}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Nr});if(await Ws(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!a||!a.session||!a.user){const d=new wo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:c})}catch(a){if(ze(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:c}=t,d=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Nr}),{data:u,error:f}=d;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const p=new wo;return this._returnResult({data:{user:null,session:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:f})}catch(n){if(ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,c;try{if("email"in t){const{email:d,options:u}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await bo(this.storage,this.storageKey));const{error:m}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:d,options:u}=t,{data:f,error:p}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(c=u?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Pd("You must provide either an email or phone number.")}catch(d){if(ze(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:d}=await Ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Nr});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const u=c.session,f=c.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(ze(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,c;try{let d=null,u=null;this.flowType==="pkce"&&([d,u]=await bo(this.storage,this.storageKey));const f=await Ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:u}),headers:this.headers,xform:aB});return!((a=f.data)===null||a===void 0)&&a.url&&cn()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(d){if(ze(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Sr;const{error:i}=await Ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ze(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:c}=await Ke(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:c,error:d}=await Ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new Pd("You must provide either an email or phone number and a type")}catch(n){if(ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Si(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Np:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const c=await Si(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Ep()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=rB(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qs}):await this._useSession(async n=>{var r,i,a;const{data:c,error:d}=n;if(d)throw d;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sr}:await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:qs})})}catch(n){if(ze(n))return IL(n)&&(await this._removeSession(),await Ws(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Sr;const c=i.session;let d=null,u=null;this.flowType==="pkce"&&t.email!=null&&([d,u]=await bo(this.storage,this.storageKey));const{data:f,error:p}=await Ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:u}),jwt:c.access_token,xform:qs});if(p)throw p;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(r){if(ze(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Sr;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:c}=Cp(t.access_token);if(c.exp&&(r=c.exp,i=r<=n),i){const{data:d,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(ze(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:c,error:d}=n;if(d)throw d;t=(r=c.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Sr;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!cn())throw new Rd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Rd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Yb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Yb("No code detected.");const{data:E,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:c,expires_in:d,expires_at:u,token_type:f}=t;if(!a||!d||!c||!f)throw new Rd("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(d);let y=p+m;u&&(y=parseInt(u));const v=y-p;v*1e3<=To&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const w=y-m;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,p);const{data:j,error:S}=await this._getUser(a);if(S)throw S;const N={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:y,refresh_token:c,token_type:f,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(r){if(ze(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Si(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const c=(r=i.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!(OL(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await Ws(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=VL(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:c}=n;if(c)throw c;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await bo(this.storage,this.storageKey,!0));try{return await Ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(ze(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var c,d,u,f,p;const{data:m,error:y}=a;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Ke(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return cn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(ze(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:c,provider:d,token:u,access_token:f,nonce:p}=t,m=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:u,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Nr}),{data:y,error:v}=m;return v?this._returnResult({data:{user:null,session:null},error:v}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new wo}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:v}))}catch(i){if(ze(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:c}=n;if(c)throw c;return await Ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await GL(async i=>(i>0&&await qL(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Nr})),(i,a)=>{const c=200*Math.pow(2,i);return a&&kp(a)&&Date.now()+c-r<To})}catch(r){if(this._debug(n,"error",r),ze(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),cn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Si(this.storage,this.storageKey);if(i&&this.userStorage){let c=await Si(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await Po(this.userStorage,this.storageKey+"-user",c)),i.user=(t=c?.user)!==null&&t!==void 0?t:Ep()}else if(i&&!i.user&&!i.user){const c=await Si(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await Ws(this.storage,this.storageKey+"-user"),await Po(this.storage,this.storageKey,i)):i.user=Ep()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Np;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Np}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),kp(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(i.access_token);!d&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Sr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Qu;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new Sr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(i,"error",a),ze(a)){const c={data:null,error:a};return kp(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(c),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Po(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=e1(i);await Po(this.storage,this.storageKey,a)}else{const i=e1(n);await Po(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ws(this.storage,this.storageKey),await Ws(this.storage,this.storageKey+"-code-verifier"),await Ws(this.storage,this.storageKey+"-user"),this.userStorage&&await Ws(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&cn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),To);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/To);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${To}ms, refresh threshold is ${Zm} ticks`),i<=Zm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ak)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,c]=await bo(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(d.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await Ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:c}=n;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:f}=await Ke(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?SB(t.webauthn.credential_response):NB(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:u}=await Ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:u}))})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const c=await Ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:bB(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:jB(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Cp(r.access_token);let c=null;a.aal&&(c=a.aal);let d=c;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const f=a.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Ke(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Sr})})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Sr});const c=await Ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&cn()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Sr});const c=await Ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&cn()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(d=>d.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(d=>d.kid===t),r&&this.jwks_cached_at+RL>i)return r;const{data:a,error:c}=await Ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(d=>d.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return this._returnResult({data:null,error:w});r=v.session.access_token}const{header:i,payload:a,signature:c,raw:{header:d,payload:u}}=Cp(r);n?.allowExpired||eB(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:a,header:i,signature:c},error:null}}const p=tB(i.alg),m=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,c,zL(`${d}.${u}`)))throw new ng("Invalid JWT signature");return{data:{claims:a,header:i,signature:c},error:null}}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}}Rl.nextInstanceID={};const DB=Rl;class OB extends DB{constructor(t){super(t)}}class IB{constructor(t,n,r){var i,a,c;this.supabaseUrl=t,this.supabaseKey=n;const d=EL(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const u=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:vL,realtime:bL,auth:Object.assign(Object.assign({},wL),{storageKey:u}),global:yL},p=CL(r??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=p.auth)!==null&&c!==void 0?c:{},this.headers,p.global.fetch),this.fetch=NL(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new _M(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new mL(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new NM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:c,flowType:d,lock:u,debug:f,throwOnError:p},m,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OB({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),m),storageKey:c,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:d,lock:u,debug:f,throwOnError:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new HM(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FB=(e,t,n)=>new IB(e,t,n);function MB(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}MB()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const LB=`https://${Je}.supabase.co`;let Ap=null;function Yn(){return Ap||(Ap=FB(LB,En,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:{getItem:e=>typeof window>"u"?null:localStorage.getItem(e),setItem:(e,t)=>{typeof window>"u"||localStorage.setItem(e,t)},removeItem:e=>{typeof window>"u"||localStorage.removeItem(e)}}}}),console.log(" Supabase client initialized")),Ap}function BB(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var da=e=>{const{present:t,children:n}=e,r=$B(t),i=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),a=$t(r.ref,zB(i));return typeof n=="function"||r.isPresent?g.cloneElement(i,{ref:a}):null};da.displayName="Presence";function $B(e){const[t,n]=g.useState(),r=g.useRef(null),i=g.useRef(e),a=g.useRef("none"),c=e?"mounted":"unmounted",[d,u]=BB(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const f=Dd(r.current);a.current=d==="mounted"?f:"none"},[d]),jn(()=>{const f=r.current,p=i.current;if(p!==e){const y=a.current,v=Dd(f);e?u("MOUNT"):v==="none"||f?.display==="none"?u("UNMOUNT"):u(p&&y!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),jn(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,m=v=>{const j=Dd(r.current).includes(CSS.escape(v.animationName));if(v.target===t&&j&&(u("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=v=>{v.target===t&&(a.current=Dd(r.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:g.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Dd(e){return e?.animationName||"none"}function zB(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function WB(e){const t=VB(e),n=g.forwardRef((r,i)=>{const{children:a,...c}=r,d=g.Children.toArray(a),u=d.find(HB);if(u){const f=u.props.children,p=d.map(m=>m===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:m);return s.jsx(t,{...c,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,p):null})}return s.jsx(t,{...c,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function VB(e){const t=g.forwardRef((n,r)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const c=GB(i),d=qB(a,i.props);return i.type!==g.Fragment&&(d.ref=r?qi(r,c):c),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var UB=Symbol("radix.slottable");function HB(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===UB}function qB(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function GB(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Zu="Dialog",[Rk]=Kl(Zu),[KB,Ir]=Rk(Zu),Dk=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:c=!0}=e,d=g.useRef(null),u=g.useRef(null),[f,p]=xu({prop:r,defaultProp:i??!1,onChange:a,caller:Zu});return s.jsx(KB,{scope:t,triggerRef:d,contentRef:u,contentId:Bi(),titleId:Bi(),descriptionId:Bi(),open:f,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(m=>!m),[p]),modal:c,children:n})};Dk.displayName=Zu;var Ok="DialogTrigger",YB=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ir(Ok,n),a=$t(t,i.triggerRef);return s.jsx(Nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":A0(i.open),...r,ref:a,onClick:vt(e.onClick,i.onOpenToggle)})});YB.displayName=Ok;var E0="DialogPortal",[XB,Ik]=Rk(E0,{forceMount:void 0}),Fk=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=Ir(E0,t);return s.jsx(XB,{scope:t,forceMount:n,children:g.Children.map(r,c=>s.jsx(da,{present:n||a.open,children:s.jsx(Hu,{asChild:!0,container:i,children:c})}))})};Fk.displayName=E0;var Su="DialogOverlay",Mk=g.forwardRef((e,t)=>{const n=Ik(Su,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Ir(Su,e.__scopeDialog);return a.modal?s.jsx(da,{present:r||a.open,children:s.jsx(QB,{...i,ref:t})}):null});Mk.displayName=Su;var JB=WB("DialogOverlay.RemoveScroll"),QB=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ir(Su,n);return s.jsx(Ku,{as:JB,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Nt.div,{"data-state":A0(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ui="DialogContent",Lk=g.forwardRef((e,t)=>{const n=Ik(Ui,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Ir(Ui,e.__scopeDialog);return s.jsx(da,{present:r||a.open,children:a.modal?s.jsx(ZB,{...i,ref:t}):s.jsx(e$,{...i,ref:t})})});Lk.displayName=Ui;var ZB=g.forwardRef((e,t)=>{const n=Ir(Ui,e.__scopeDialog),r=g.useRef(null),i=$t(t,n.contentRef,r);return g.useEffect(()=>{const a=r.current;if(a)return m0(a)},[]),s.jsx(Bk,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vt(e.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:vt(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&a.preventDefault()}),onFocusOutside:vt(e.onFocusOutside,a=>a.preventDefault())})}),e$=g.forwardRef((e,t)=>{const n=Ir(Ui,e.__scopeDialog),r=g.useRef(!1),i=g.useRef(!1);return s.jsx(Bk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=a.target;n.triggerRef.current?.contains(c)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Bk=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...c}=e,d=Ir(Ui,n),u=g.useRef(null),f=$t(t,u);return i0(),s.jsxs(s.Fragment,{children:[s.jsx(Bu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Lu,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":A0(d.open),...c,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(n$,{titleId:d.titleId}),s.jsx(s$,{contentRef:u,descriptionId:d.descriptionId})]})]})}),_0="DialogTitle",$k=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ir(_0,n);return s.jsx(Nt.h2,{id:i.titleId,...r,ref:t})});$k.displayName=_0;var zk="DialogDescription",t$=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ir(zk,n);return s.jsx(Nt.p,{id:i.descriptionId,...r,ref:t})});t$.displayName=zk;var Wk="DialogClose",Vk=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ir(Wk,n);return s.jsx(Nt.button,{type:"button",...r,ref:t,onClick:vt(e.onClick,()=>i.onOpenChange(!1))})});Vk.displayName=Wk;function A0(e){return e?"open":"closed"}var Uk="DialogTitleWarning",[HV,Hk]=oO(Uk,{contentName:Ui,titleName:_0,docsSlug:"dialog"}),n$=({titleId:e})=>{const t=Hk(Uk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},r$="DialogDescriptionWarning",s$=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Hk(r$).contentName}}.`;return g.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},i$=Dk,o$=Fk,a$=Mk,l$=Lk,c$=$k,d$=Vk;function Tp({...e}){return s.jsx(i$,{"data-slot":"dialog",...e})}function u$({...e}){return s.jsx(o$,{"data-slot":"dialog-portal",...e})}function h$({className:e,...t}){return s.jsx(a$,{"data-slot":"dialog-overlay",className:bn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Pp({className:e,children:t,...n}){return s.jsxs(u$,{"data-slot":"dialog-portal",children:[s.jsx(h$,{}),s.jsxs(l$,{"data-slot":"dialog-content",className:bn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,s.jsxs(d$,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(yn,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Rp({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-header",className:bn("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Dp({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-footer",className:bn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Op({className:e,...t}){return s.jsx(c$,{"data-slot":"dialog-title",className:bn("text-lg leading-none font-semibold",e),...t})}function f$(e){const t=p$(e),n=g.forwardRef((r,i)=>{const{children:a,...c}=r,d=g.Children.toArray(a),u=d.find(g$);if(u){const f=u.props.children,p=d.map(m=>m===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:m);return s.jsx(t,{...c,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,p):null})}return s.jsx(t,{...c,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function p$(e){const t=g.forwardRef((n,r)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const c=y$(i),d=x$(a,i.props);return i.type!==g.Fragment&&(d.ref=r?qi(r,c):c),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var m$=Symbol("radix.slottable");function g$(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===m$}function x$(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function y$(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var eh="Popover",[qk]=Kl(eh,[Uu]),Jl=Uu(),[v$,ii]=qk(eh),Gk=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:c=!1}=e,d=Jl(t),u=g.useRef(null),[f,p]=g.useState(!1),[m,y]=xu({prop:r,defaultProp:i??!1,onChange:a,caller:eh});return s.jsx(rN,{...d,children:s.jsx(v$,{scope:t,contentId:Bi(),triggerRef:u,open:m,onOpenChange:y,onOpenToggle:g.useCallback(()=>y(v=>!v),[y]),hasCustomAnchor:f,onCustomAnchorAdd:g.useCallback(()=>p(!0),[]),onCustomAnchorRemove:g.useCallback(()=>p(!1),[]),modal:c,children:n})})};Gk.displayName=eh;var Kk="PopoverAnchor",w$=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ii(Kk,n),a=Jl(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=i;return g.useEffect(()=>(c(),()=>d()),[c,d]),s.jsx(p0,{...a,...r,ref:t})});w$.displayName=Kk;var Yk="PopoverTrigger",Xk=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ii(Yk,n),a=Jl(n),c=$t(t,i.triggerRef),d=s.jsx(Nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":tC(i.open),...r,ref:c,onClick:vt(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?d:s.jsx(p0,{asChild:!0,...a,children:d})});Xk.displayName=Yk;var T0="PopoverPortal",[b$,j$]=qk(T0,{forceMount:void 0}),Jk=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=ii(T0,t);return s.jsx(b$,{scope:t,forceMount:n,children:s.jsx(da,{present:n||a.open,children:s.jsx(Hu,{asChild:!0,container:i,children:r})})})};Jk.displayName=T0;var Qo="PopoverContent",Qk=g.forwardRef((e,t)=>{const n=j$(Qo,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=ii(Qo,e.__scopePopover);return s.jsx(da,{present:r||a.open,children:a.modal?s.jsx(N$,{...i,ref:t}):s.jsx(k$,{...i,ref:t})})});Qk.displayName=Qo;var S$=f$("PopoverContent.RemoveScroll"),N$=g.forwardRef((e,t)=>{const n=ii(Qo,e.__scopePopover),r=g.useRef(null),i=$t(t,r),a=g.useRef(!1);return g.useEffect(()=>{const c=r.current;if(c)return m0(c)},[]),s.jsx(Ku,{as:S$,allowPinchZoom:!0,children:s.jsx(Zk,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vt(e.onCloseAutoFocus,c=>{c.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:vt(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,f=d.button===2||u;a.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:vt(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),k$=g.forwardRef((e,t)=>{const n=ii(Qo,e.__scopePopover),r=g.useRef(!1),i=g.useRef(!1);return s.jsx(Zk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=a.target;n.triggerRef.current?.contains(c)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Zk=g.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:p,...m}=e,y=ii(Qo,n),v=Jl(n);return i0(),s.jsx(Bu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Lu,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onDismiss:()=>y.onOpenChange(!1),children:s.jsx(sN,{"data-state":tC(y.open),role:"dialog",id:y.contentId,...v,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),eC="PopoverClose",C$=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ii(eC,n);return s.jsx(Nt.button,{type:"button",...r,ref:t,onClick:vt(e.onClick,()=>i.onOpenChange(!1))})});C$.displayName=eC;var E$="PopoverArrow",_$=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Jl(n);return s.jsx(iN,{...i,...r,ref:t})});_$.displayName=E$;function tC(e){return e?"open":"closed"}var A$=Gk,T$=Xk,P$=Jk,R$=Qk;function D$({...e}){return s.jsx(A$,{"data-slot":"popover",...e})}function O$({...e}){return s.jsx(T$,{"data-slot":"popover-trigger",...e})}function I$({className:e,align:t="center",sideOffset:n=4,...r}){return s.jsx(P$,{children:s.jsx(R$,{"data-slot":"popover-content",align:t,sideOffset:n,className:bn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}let Yd=null,Ro=null;function Dl(){Yd=null,Ro=null,console.log(" Vocabulary list cache invalidated")}function nC({onBack:e,onBackToHome:t,onSelectVocabulary:n,onStartFlashcards:r,getAuthToken:i}){const[a,c]=g.useState([]),[d,u]=g.useState([]),[f,p]=g.useState(!1),[m,y]=g.useState({}),[v,w]=g.useState(!0),[j,S]=g.useState(!1),[N,E]=g.useState(!1),[C,_]=g.useState(!1),[T,I]=g.useState(null),[M,F]=g.useState(null),[U,G]=g.useState("");g.useEffect(()=>{let z=!1;const X=Z=>{z||(c(Z.myOwnVocabularies),u(Z.mySharedVocabularies),w(!1))};if(Yd)return X(Yd),()=>{z=!0};if(Ro)return w(!0),Ro.then(Z=>X(Z)).catch(Z=>{z||(console.error("Failed to load vocabularies:",Z),w(!1))}),()=>{z=!0};w(!0);const H=(async()=>{const Z=await fetch(`https://${Je}.supabase.co/functions/v1/server/user-vocabularies`,{headers:{Authorization:`Bearer ${i?i():En}`}}),Q={myOwnVocabularies:[],mySharedVocabularies:[],timestamp:Date.now()};if(Z.ok){const he=(await Z.json()).vocabularies||[];Q.myOwnVocabularies=he.filter(le=>!le.shared_vocabulary_id),Q.mySharedVocabularies=he.filter(le=>le.shared_vocabulary_id),console.log(" Loaded My Own vocabularies:",Q.myOwnVocabularies.length),console.log(" Loaded My Shared vocabularies:",Q.mySharedVocabularies.length)}else{const te=await Z.text();console.error(" Failed to load user vocabularies:",te)}return Yd=Q,Q})();return Ro=H,H.then(Z=>X(Z)).catch(Z=>{z||(console.error("Failed to load vocabularies:",Z),w(!1))}).finally(()=>{Ro===H&&(Ro=null)}),()=>{z=!0}},[i]);const se={id:"my-own",title:"  ",subtitle:" ",progress:0,isExpanded:f,items:a.map(z=>({id:z.id,title:z.title,wordCount:z.total_words||0,estimatedTime:`${Math.ceil((z.total_words||0)/3)} min`,isCompleted:!1,progress:0}))},oe=(()=>{console.log(" Creating shared vocab units from:",d),console.log(" Current sharedVocabExpanded state:",m);const z={};return d.forEach(X=>{const H=X.category||"Uncategorized";console.log(` Vocab "${X.title}" -> category: "${H}"`),z[H]||(z[H]=[]),z[H].push(X)}),console.log(" Category groups:",z),Object.entries(z).map(([X,H])=>{const Z=H.reduce((Q,te)=>Q+(te.total_words||0),0);return{id:`category-${X}`,title:X,subtitle:`${Z}   ${H.length} `,progress:0,units:H.map(Q=>({id:Q.id,title:Q.title,wordCount:Q.total_words||0,startIndex:1,endIndex:Q.total_words||0})),isExpanded:m[X]||!1,vocabularyId:X,wordsPerUnit:0,totalWords:Z}})})(),ee=[se],L=z=>{if(console.log(" Toggling unit:",z),z==="my-own")p(!f);else if(z.startsWith("category-")){const X=z.replace("category-","");console.log(" Toggling category:",X),y(H=>{const Z={...H,[X]:!H[X]};return console.log(" New expanded state:",Z),Z})}},$=z=>{n(z.id,z.title)},D=(z,X)=>{X.stopPropagation(),I(z),G(z.title),S(!0)},P=(z,X)=>{X.stopPropagation(),I(z),E(!0)},R=async()=>{if(!(!T||!U.trim()))try{const z=await fetch(`https://${Je}.supabase.co/functions/v1/server/user-vocabularies/${T.id}`,{method:"PUT",headers:{Authorization:`Bearer ${i?i():En}`,"Content-Type":"application/json"},body:JSON.stringify({title:U.trim()})});if(z.ok)c(X=>X.map(H=>H.id===T.id?{...H,title:U.trim()}:H)),S(!1),I(null),G(""),console.log("Vocabulary renamed successfully");else{const X=await z.json();console.error("Failed to rename vocabulary:",X),alert("  .")}}catch(z){console.error("Error renaming vocabulary:",z),alert("    .")}},q=async()=>{if(T)try{const z=await fetch(`https://${Je}.supabase.co/functions/v1/server/user-vocabularies/${T.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${i?i():En}`}});if(z.ok)c(X=>X.filter(H=>H.id!==T.id)),E(!1),I(null),console.log("Vocabulary deleted successfully");else{const X=await z.json();console.error("Failed to delete vocabulary:",X),alert(" .")}}catch(z){console.error("Error deleting vocabulary:",z),alert("   .")}},B=(z,X,H)=>{H.stopPropagation(),F({id:z,title:X}),_(!0)},W=async()=>{if(M)try{const z=await fetch(`https://${Je}.supabase.co/functions/v1/server/user-vocabularies/${M.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${i?i():En}`}});if(z.ok)u(X=>X.filter(H=>H.id!==M.id)),_(!1),F(null),console.log("Shared vocabulary deleted successfully");else{const X=await z.json();console.error("Failed to delete shared vocabulary:",X),alert(" .")}}catch(z){console.error("Error deleting shared vocabulary:",z),alert("   .")}};return s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"sticky top-0 z-40",style:{background:"transparent"},children:s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsx(Or,{onClick:e}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(UR,{className:"w-5 h-5 text-[#091A7A]"}),s.jsx("h1",{className:"text-[#091A7A]",style:{fontSize:"18px",fontWeight:700},children:"Vocabulary"})]}),t?s.jsx(O.button,{whileTap:{scale:.95},onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full bg-white/80 backdrop-blur-sm shadow-md",children:s.jsx(Hi,{className:"w-5 h-5 text-[#091A7A]"})}):s.jsx("div",{className:"w-10"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-24",style:{overflowY:"auto",WebkitOverflowScrolling:"touch"},children:v?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-[#8B5CF6] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-[#491B6D]",style:{fontSize:"14px",fontWeight:500},children:"  ..."})]})}):s.jsxs("div",{className:"space-y-2.5 pt-2",children:[ee.map((z,X)=>s.jsx("div",{children:s.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:X*.1},className:`backdrop-blur-lg rounded-2xl overflow-hidden shadow-lg ${z.id==="my-own"?"bg-gradient-to-br from-[#FDF2F8] to-[#FCE7F3]":"bg-white/95"}`,children:[s.jsxs(O.div,{whileTap:{scale:.98},onClick:()=>L(z.id),className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-[#091A7A] mb-1",style:{fontSize:"16px",fontWeight:600},children:z.title}),s.jsxs("span",{className:`inline-block ${z.id==="my-own"?"text-[#9CA3AF]":"text-[#8B5CF6]"}`,style:{fontSize:"11px",fontWeight:500},children:[z.items.reduce((H,Z)=>H+Z.wordCount,0)," words"]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs("span",{className:`${z.id==="my-own"?"text-[#9CA3AF]":"text-[#8B5CF6]"}`,style:{fontSize:"12px",fontWeight:600},children:[z.progress,"%"]}),s.jsx(O.div,{animate:{rotate:z.isExpanded?180:0},transition:{duration:.3},children:s.jsx(pr,{className:"w-5 h-5 text-[#091A7A]"})})]})]}),s.jsx("div",{className:"mt-2.5",children:s.jsx("div",{className:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden",children:s.jsx(O.div,{initial:{width:0},animate:{width:`${z.progress}%`},transition:{duration:.8,delay:X*.1+.2},className:"h-full bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] rounded-full"})})})]}),s.jsx(ut,{children:z.isExpanded&&s.jsx(O.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-200/50 overflow-hidden",children:s.jsx("div",{className:"p-2 space-y-1.5",children:z.items.map((H,Z)=>s.jsxs(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:Z*.05},whileTap:{scale:.98},onClick:()=>$(H),className:`backdrop-blur-sm rounded-xl p-3 flex items-center gap-2.5 ${z.id==="my-own"?"bg-gradient-to-r from-white/95 to-[#FDF2F8]/90":"bg-white/80"}`,children:[s.jsx("div",{className:`w-7 h-7 rounded-lg flex items-center justify-center flex-shrink-0 ${z.id==="my-own"?"bg-gradient-to-br from-[#F9A8D4] to-[#EC4899]":"bg-gradient-to-br from-[#C4B5FD] to-[#A78BFA]"}`,children:s.jsx("span",{className:"text-white",style:{fontSize:"12px",fontWeight:600},children:Z+1})}),s.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between",children:[s.jsx("h4",{className:"text-[#091A7A]",style:{fontSize:"14px",fontWeight:600},children:H.title}),s.jsxs("span",{className:`${z.id==="my-own"?"text-[#F472B6]":"text-[#6B7280]"}`,style:{fontSize:"11px"},children:[H.wordCount," words"]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("button",{onClick:Q=>{Q.stopPropagation(),r&&r(H.id,H.title)},className:`p-1.5 ${z.id==="my-own"?"hover:bg-pink-100":"hover:bg-purple-100"} rounded-lg transition-colors`,title:" ",children:s.jsx(Xw,{className:`w-5 h-5 ${z.id==="my-own"?"text-[#EC4899]":"text-[#8B5CF6]"}`})})}),z.id==="my-own"&&s.jsx("div",{className:"flex-shrink-0",onClick:Q=>Q.stopPropagation(),children:s.jsxs(D$,{children:[s.jsx(O$,{asChild:!0,children:s.jsx("button",{className:"p-1 hover:bg-pink-100 rounded-lg transition-colors",children:s.jsx(SR,{className:"w-5 h-5 text-[#EC4899]"})})}),s.jsx(I$,{className:"w-40 p-2 bg-white border border-gray-200 shadow-lg",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:Q=>D(H,Q),children:[s.jsx(f6,{className:"w-4 h-4 text-[#8B5CF6]"}),s.jsx("span",{className:"text-[#8B5CF6]",style:{fontSize:"14px",fontWeight:500},children:" "})]}),s.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:Q=>P(H,Q),children:[s.jsx(El,{className:"w-4 h-4 text-[#EF4444]"}),s.jsx("span",{className:"text-[#EF4444]",style:{fontSize:"14px",fontWeight:500},children:""})]})]})})]})})]},H.id))})})})]})},z.id)),oe.map((z,X)=>s.jsx("div",{children:s.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:(ee.length+X)*.1},className:"bg-gradient-to-br from-[#F3E8FF] to-[#E9D5FF] backdrop-blur-lg rounded-2xl overflow-hidden shadow-lg border border-[#C4B5FD]/30",children:[s.jsxs(O.div,{whileTap:{scale:.98},onClick:()=>{console.log(" CLICK detected on category:",z.id,"isExpanded:",z.isExpanded),L(z.id)},className:"p-4 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("h3",{className:"text-[#5B21B6]",style:{fontSize:"16px",fontWeight:600},children:z.title})]}),s.jsx("span",{className:"inline-block text-[#7C3AED] mt-1",style:{fontSize:"11px",fontWeight:500},children:z.subtitle})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs("span",{className:"text-[#7C3AED]",style:{fontSize:"12px",fontWeight:600},children:[z.progress,"%"]}),s.jsx(O.div,{animate:{rotate:z.isExpanded?180:0},transition:{duration:.3},children:s.jsx(pr,{className:"w-5 h-5 text-[#5B21B6]"})})]})]}),s.jsx("div",{className:"mt-2.5",children:s.jsx("div",{className:"w-full h-1.5 bg-white/60 rounded-full overflow-hidden",children:s.jsx(O.div,{initial:{width:0},animate:{width:`${z.progress}%`},transition:{duration:.8,delay:(ee.length+X)*.1+.2},className:"h-full bg-gradient-to-r from-[#7C3AED] to-[#A78BFA] rounded-full"})})})]}),s.jsx(ut,{children:z.isExpanded&&s.jsx(O.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-[#C4B5FD]/30 overflow-hidden",children:s.jsx("div",{className:"p-2 space-y-1.5",children:z.units.map((H,Z)=>s.jsxs(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:Z*.05},whileTap:{scale:.98},onClick:()=>n(H.id,H.title),className:"bg-white/90 backdrop-blur-sm rounded-xl p-3 flex items-center gap-2.5",children:[s.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-[#A78BFA] to-[#7C3AED] rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white",style:{fontSize:"12px",fontWeight:600},children:Z+1})}),s.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between",children:[s.jsx("h4",{className:"text-[#5B21B6]",style:{fontSize:"14px",fontWeight:600},children:H.title}),s.jsxs("span",{className:"text-[#8B5CF6]",style:{fontSize:"11px"},children:[H.wordCount," words"]})]}),s.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1",children:[s.jsx("button",{onClick:Q=>{Q.stopPropagation(),r&&r(H.id,H.title)},className:"p-1.5 hover:bg-purple-100 rounded-lg transition-colors",title:" ",children:s.jsx(Xw,{className:"w-5 h-5 text-[#7C3AED]"})}),s.jsx("button",{onClick:Q=>B(H.id,H.title,Q),className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors",title:"",children:s.jsx(El,{className:"w-4 h-4 text-red-500"})})]})]},H.id))})})})]})},z.id))]})}),s.jsx(Tp,{open:j,onOpenChange:S,children:s.jsxs(Pp,{className:"sm:max-w-[350px] bg-white rounded-[24px] border-none shadow-xl",children:[s.jsx(Rp,{children:s.jsx(Op,{className:"text-[#091A7A] text-lg font-bold",children:"  "})}),s.jsx("div",{className:"space-y-4",children:s.jsx(uu,{id:"name",value:U,onChange:z=>G(z.target.value),placeholder:" ",className:"rounded-xl border-gray-200 focus:border-[#8B5CF6] focus:ring-[#8B5CF6]"})}),s.jsxs(Dp,{className:"flex-col gap-2 sm:flex-col",children:[s.jsx(Un,{type:"button",onClick:R,className:"w-full bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] hover:from-[#7C3AED] hover:to-[#6D28D9] text-white rounded-xl h-11 font-medium",children:""}),s.jsx(Un,{type:"button",onClick:()=>S(!1),className:"w-full bg-white hover:bg-gray-50 text-[#091A7A] border border-gray-200 rounded-xl h-11 font-medium",children:""})]})]})}),s.jsx(Tp,{open:N,onOpenChange:E,children:s.jsxs(Pp,{className:"sm:max-w-[350px] bg-white rounded-[24px] border-none shadow-xl",children:[s.jsx(Rp,{children:s.jsx(Op,{className:"text-[#091A7A] text-lg font-bold",children:" "})}),s.jsx("div",{className:"space-y-3",children:s.jsx("p",{className:"text-[#091A7A] text-sm",children:"   ?"})}),s.jsxs(Dp,{className:"flex-col gap-2 sm:flex-col",children:[s.jsx(Un,{type:"button",onClick:q,className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl h-11 font-medium",children:""}),s.jsx(Un,{type:"button",onClick:()=>E(!1),className:"w-full bg-white hover:bg-gray-50 text-[#091A7A] border border-gray-200 rounded-xl h-11 font-medium",children:""})]})]})}),s.jsx(Tp,{open:C,onOpenChange:_,children:s.jsxs(Pp,{className:"sm:max-w-[350px] bg-white rounded-[24px] border-none shadow-xl",children:[s.jsx(Rp,{children:s.jsx(Op,{className:"text-[#091A7A] text-lg font-bold",children:"  "})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-[#091A7A] text-sm",children:[s.jsx("strong",{className:"text-[#8B5CF6]",children:M?.title}),"  ?"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"       ."})]}),s.jsxs(Dp,{className:"flex-col gap-2 sm:flex-col",children:[s.jsx(Un,{type:"button",onClick:W,className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl h-11 font-medium",children:""}),s.jsx(Un,{type:"button",onClick:()=>_(!1),className:"w-full bg-white hover:bg-gray-50 text-[#091A7A] border border-gray-200 rounded-xl h-11 font-medium",children:""})]})]})})]})}const P0=Object.freeze(Object.defineProperty({__proto__:null,VocabularyListScreen:nC,invalidateVocabularyListCache:Dl},Symbol.toStringTag,{value:"Module"})),Ip=()=>new Date().toISOString().split("T")[0],F$=()=>typeof globalThis.crypto<"u"&&typeof globalThis.crypto.randomUUID=="function"?globalThis.crypto.randomUUID():`vocab_${Math.random().toString(36).slice(2)}`,Fp=Yn(),Mp=20,M$=3;function L$({onBack:e,onSaveComplete:t,getAuthToken:n,onNavigateToGift:r}){const[i,a]=g.useState(Ip()),[c,d]=g.useState(""),[u,f]=g.useState(!1),[p,m]=g.useState(null),[y,v]=g.useState([]),[w,j]=g.useState(null),[S,N]=g.useState(!1),[E,C]=g.useState(!1),[_,T]=g.useState([]),[I,M]=g.useState(""),[F,U]=g.useState(!1),G=g.useMemo(()=>c.split(/[\n,]+/).map(L=>L.trim()).filter(Boolean),[c]),se=async()=>{const{data:{session:L}}=await Fp.auth.getSession(),$=L?.access_token||n?.();if($){U(!0);try{const D=await fetch(`https://${Je}.supabase.co/functions/v1/server/user-vocabularies`,{headers:{Authorization:`Bearer ${$}`}});if(D.ok){const P=await D.json(),R=Array.isArray(P)?P:P.vocabularies||[];T(R.map(q=>({id:q.id,title:q.title})))}}catch(D){console.error("   :",D)}finally{U(!1)}}},ae=async(L,$)=>{const D=[];for(let Z=0;Z<L.length;Z+=Mp)D.push(L.slice(Z,Z+Mp));const P=[];let R=0,q=0,B=0;j({current:0,total:D.length});const W=async(Z,Q,te=3)=>{for(let he=1;he<=te;he++)try{const le=await fetch(`https://${Je}.supabase.co/functions/v1/server/generate-vocabulary-batch`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify({words:Z.map(tt=>({word:tt}))})}),Ne=await le.json();if(!le.ok)throw new Error(Ne?.error||` ${Q+1}  `);const ke=Array.isArray(Ne.results)?Ne.results:Array.isArray(Ne.data)?Ne.data:[];if(Ne.success===!1||ke.length===0)throw new Error(Ne?.error||` ${Q+1} AI  `);return{index:Q,items:ke,inputTokens:Ne.inputTokens||0,outputTokens:Ne.outputTokens||0}}catch(le){if(console.error(`  ${Q+1}  ${he}/${te} :`,le),he<te)await new Promise(Ne=>setTimeout(Ne,2e3));else throw le}throw new Error(` ${Q+1}   `)},z=async Z=>{const Q=Math.min(Z+M$,D.length),te=[];for(let le=Z;le<Q;le++)te.push(W(D[le],le));const he=await Promise.all(te);for(const le of he)P.push({index:le.index,items:le.items}),R+=le.inputTokens,q+=le.outputTokens,B++,j({current:B,total:D.length}),pe.loading(`AI   ... (${B}/${D.length} , ${B*Mp}/${L.length})`,{id:"user-vocab-progress"});return Q};let X=0;for(;X<D.length;)X=await z(X),X<D.length&&await new Promise(Z=>setTimeout(Z,300));return j(null),P.sort((Z,Q)=>Z.index-Q.index),{results:P.flatMap(Z=>Z.items),inputTokens:R,outputTokens:q}},oe=async()=>{if(G.length===0){pe.error("   .");return}const{data:{session:L}}=await Fp.auth.getSession(),$=L?.access_token||n?.();if(!$){pe.error(" .  .");return}f(!0),m(null),v([]);try{pe.dismiss("user-vocab-progress"),pe.loading(`AI ${G.length}   `,{id:"user-vocab-progress"});const{results:D,inputTokens:P,outputTokens:R}=await ae(G,$);if(D.length===0)throw new Error("AI    .");pe.loading(`${D.length}   ...`,{id:"user-vocab-progress"});const q=F$(),B=await fetch(`https://${Je}.supabase.co/functions/v1/server/save-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify({vocabularyId:q,title:i.trim()||Ip(),category:"My Own",level:"Beginner",words:D})}),W=await B.json();if(!B.ok)throw new Error(W.error||"  .");v(D),m({inputTokens:P||0,outputTokens:R||0}),d(""),a(Ip()),Dl(),pe.success("     ! ",{id:"user-vocab-progress"}),t&&W.vocabulary?.id&&t(W.vocabulary.id,W.vocabulary.title||i)}catch(D){console.error("  :",D),pe.error(D?.message||"    .",{id:"user-vocab-progress"})}finally{f(!1),N(!1)}},ee=async()=>{if(G.length===0){pe.error("   .");return}if(!I){pe.error("  .");return}const{data:{session:L}}=await Fp.auth.getSession(),$=L?.access_token||n?.();if(!$){pe.error(" .  .");return}f(!0),m(null),v([]);try{pe.dismiss("user-vocab-progress"),pe.loading(`AI ${G.length}   `,{id:"user-vocab-progress"});const{results:D,inputTokens:P,outputTokens:R}=await ae(G,$);if(D.length===0)throw new Error("AI    .");pe.loading(`${D.length}   ...`,{id:"user-vocab-progress"});const q=await fetch(`https://${Je}.supabase.co/functions/v1/server/add-words-to-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify({vocabularyId:I,words:D})}),B=await q.json();if(!q.ok)throw new Error(B.error||"  .");const W=_.find(z=>z.id===I);v(D),m({inputTokens:P||0,outputTokens:R||0}),d(""),M(""),Dl(),pe.success(`${W?.title||""} ${D.length}  ! `,{id:"user-vocab-progress"}),t&&I&&t(I,W?.title||"")}catch(D){console.error("  :",D),pe.error(D?.message||"    .",{id:"user-vocab-progress"})}finally{f(!1),C(!1)}};return s.jsxs("div",{className:"flex h-full flex-col",children:[s.jsx(Gl,{onBack:e,title:"AI Vocabulary Maker",subtitle:"   AI ",rightElement:r?s.jsxs(O.button,{whileTap:{scale:.95},onClick:r,className:"flex items-center gap-1.5 px-3 py-2 bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED] rounded-full shadow-lg hover:shadow-xl transition-shadow",title:"Presets",children:[s.jsx(ou,{className:"w-4 h-4 text-white flex-shrink-0"}),s.jsx("span",{className:"text-white text-xs font-semibold hidden sm:inline",children:"Presets"})]}):void 0}),s.jsx("div",{className:"flex-1 overflow-auto px-4 pb-6",children:s.jsxs("div",{className:"bg-white/95 backdrop-blur-xl border border-white/50 rounded-3xl shadow-xl p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-[#091A7A] mb-2",children:"  (   )"}),s.jsx(YD,{value:c,onChange:L=>d(L.target.value),placeholder:`) meticulous, resilience, nostalgia
     .`,className:"min-h-[280px] resize-none"}),s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[" ",G.length,"  ."]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{disabled:u||G.length===0,onClick:()=>{if(G.length===0){pe.error("   .");return}N(!0)},className:"flex-1 h-14 font-semibold rounded-lg flex flex-col items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed bg-gradient-to-r from-[#491B6D] to-[#5E2278] text-white",style:{fontSize:"14px"},children:[s.jsx(Yo,{className:"w-5 h-5"}),u?"AI   ...":"  "]}),s.jsxs("button",{disabled:u||G.length===0,onClick:()=>{if(G.length===0){pe.error("   .");return}se(),C(!0)},className:"flex-1 h-14 font-semibold rounded-lg flex flex-col items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed bg-gradient-to-r from-[#491B6D] to-[#5E2278] text-white",style:{fontSize:"14px"},children:[s.jsx(nS,{className:"w-5 h-5"}),"  "]})]}),w&&s.jsxs("div",{className:"bg-white border border-[#C4B5FD] rounded-2xl p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[#7C3AED] font-semibold",children:[s.jsx(ur,{className:"w-5 h-5 animate-pulse"}),"AI   ..."]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-[#7C3AED] to-[#A78BFA] h-3 rounded-full transition-all duration-500",style:{width:`${w.current/w.total*100}%`}})}),s.jsxs("p",{className:"text-sm text-gray-600",children:[" ",w.current,"/",w.total,"  ..."]})]}),y.length>0&&s.jsxs("div",{className:"bg-white border border-dashed border-[#C4B5FD] rounded-2xl p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[#2563EB] font-semibold",children:[s.jsx(eS,{className:"w-5 h-5"}),"   "]}),s.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-700",children:y.slice(0,10).map(L=>s.jsxs("div",{className:"px-3 py-2 bg-[#F5F3FF] rounded-lg",children:[s.jsx("span",{className:"font-semibold text-[#5B21B6]",children:L.word}),s.jsx("span",{className:"ml-2 text-xs text-gray-500",children:L.partOfSpeech}),s.jsx("p",{className:"text-xs text-gray-600 truncate",children:L.meaning})]},`${L.word}-${L.meaning}`))}),y.length>10&&s.jsxs("p",{className:"text-xs text-gray-500",children:[" ",y.length-10,"   ."]}),p&&s.jsxs("div",{className:"text-xs text-gray-500",children:["     ",p.inputTokens.toLocaleString()," /  ",p.outputTokens.toLocaleString()]})]})]})}),S&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(O.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[s.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-4",children:"  "}),s.jsx(uu,{value:i,onChange:L=>a(L.target.value),placeholder:"  ",className:"mb-4"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Un,{onClick:oe,className:"flex-1 bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] hover:from-[#7C3AED] hover:to-[#6D28D9] text-white",disabled:u,children:u?" ...":""}),s.jsx(Un,{variant:"outline",onClick:()=>N(!1),className:"flex-1",disabled:u,children:""})]})]})}),E&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(O.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[s.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-4",children:"  "}),F?s.jsx("div",{className:"text-center py-4 text-gray-500",children:"   ..."}):_.length===0?s.jsx("div",{className:"text-center py-4 text-gray-500",children:"  ."}):s.jsxs(W8,{value:I,onValueChange:M,children:[s.jsx(U8,{className:"mb-4 bg-white border-gray-300",children:s.jsx(V8,{placeholder:" "})}),s.jsx(H8,{className:"bg-white border border-gray-200 shadow-lg",children:_.map(L=>s.jsx(q8,{value:L.id,className:"hover:bg-gray-100",children:L.title},L.id))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Un,{variant:"outline",onClick:()=>{C(!1),M("")},className:"flex-1 rounded-lg border-gray-300",disabled:u,children:""}),s.jsx(Un,{variant:"outline",onClick:ee,className:"flex-1 rounded-lg border-gray-300 bg-[#7C3AED] text-white hover:bg-[#6D28D9] hover:text-white",disabled:u||!I,children:u?" ...":""})]})]})})]})}const B$="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function rC(e){const[t,n]=g.useState(!1),r=()=>{n(!0)},{src:i,alt:a,style:c,className:d,...u}=e;return t?s.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${d??""}`,style:c,children:s.jsx("div",{className:"flex items-center justify-center w-full h-full",children:s.jsx("img",{src:B$,alt:"Error loading image",...u,"data-original-url":i})})}):s.jsx("img",{src:i,alt:a,className:d,style:c,...u,onError:r})}const $$=[{id:1,title:"First Quiz Complete",description:"Completed your first quiz",icon:Zj,earned:!0},{id:2,title:"Week Warrior",description:"7-day learning streak",icon:Ul,earned:!1},{id:3,title:"Math Master",description:"100% in Mathematics quiz",icon:hr,earned:!0},{id:4,title:"XP Champion",description:"Earned 10,000 XP",icon:Gs,earned:!1}],z$=[{label:"Total XP",value:"5,500",icon:Gs,color:"from-yellow-400 to-yellow-600"},{label:"Current Streak",value:"3 days",icon:Ul,color:"from-orange-400 to-orange-600"},{label:"Quizzes Completed",value:"12",icon:Zj,color:"from-blue-400 to-blue-600"},{label:"Avg. Score",value:"87%",icon:mS,color:"from-green-400 to-green-600"}];function W$({onBack:e,userXP:t,profileImage:n,levelProgress:r}){const i=r.currentLevel,a=r.xpForNextLevel-r.xpInCurrentLevel,c=r.xpInCurrentLevel/r.xpForNextLevel*100;return s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"relative overflow-hidden",style:{background:"transparent"},children:s.jsxs("div",{className:"relative p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(Or,{onClick:e}),s.jsx(O.button,{whileTap:{scale:.95},className:"w-12 h-12 bg-card-glass backdrop-blur-lg rounded-full flex items-center justify-center shadow-card border border-white/20",children:s.jsx(uS,{className:"w-5 h-5 text-[#091A7A]"})})]}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsxs(O.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative",children:[s.jsx(rC,{src:n,alt:"Profile",className:"w-24 h-24 rounded-full border-4 border-white shadow-xl object-cover object-top"}),s.jsx("div",{className:"absolute -bottom-2 -right-2 px-3 py-1 bg-gradient-to-r from-[#091A7A] to-[#1a2b8a] rounded-full",children:s.jsxs("span",{className:"text-white font-bold text-sm",children:["Lv.",i]})})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-[#091A7A]",children:"Abhi Dhande"}),s.jsx("p",{className:"text-[#091A7A]/70",children:"Learning enthusiast"})]}),s.jsxs("div",{className:"w-full max-w-xs space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm text-[#091A7A]/70",children:[s.jsxs("span",{children:["Level ",i]}),s.jsxs("span",{children:[a," XP to next level"]})]}),s.jsx("div",{className:"h-3 bg-white/40 rounded-full overflow-hidden",children:s.jsx(O.div,{initial:{width:0},animate:{width:`${c}%`},transition:{delay:.5,duration:1},className:"h-full bg-gradient-to-r from-[#091A7A] to-[#1a2b8a] rounded-full"})})]})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"font-semibold text-[#091A7A] mb-4",children:"Your Stats"}),s.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:z$.map((d,u)=>s.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+u*.1},className:"p-4 bg-white/60 backdrop-blur-sm rounded-2xl border border-white/40 shadow-sm",children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${d.color} rounded-xl flex items-center justify-center mb-3`,children:s.jsx(d.icon,{className:"w-5 h-5 text-white"})}),s.jsx("p",{className:"text-2xl font-bold text-[#091A7A]",children:d.label==="Total XP"?t.toLocaleString():d.value}),s.jsx("p",{className:"text-xs text-[#091A7A]/70",children:d.label})]},d.label))}),s.jsx("h3",{className:"font-semibold text-[#091A7A] mb-4",children:"Achievements"}),s.jsx("div",{className:"space-y-3",children:$$.map((d,u)=>s.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+u*.1},className:`p-4 rounded-2xl border ${d.earned?"bg-gradient-to-r from-green-50 to-green-100/50 border-green-200":"bg-white/40 border-white/30"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${d.earned?"bg-gradient-to-br from-green-400 to-green-600":"bg-gray-200"}`,children:s.jsx(d.icon,{className:`w-6 h-6 ${d.earned?"text-white":"text-gray-400"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:`font-semibold ${d.earned?"text-green-800":"text-[#091A7A]/60"}`,children:d.title}),d.earned&&s.jsx(YP,{className:"w-4 h-4 text-green-600"})]}),s.jsx("p",{className:`text-sm ${d.earned?"text-green-700":"text-[#091A7A]/50"}`,children:d.description})]})]})},d.id))})]})]})}const rg="/assets/1627f3a870e9b56d751d07f53392d7a84aa55817-nVPN00k3.png",a1=[{id:1,name:"Dr. Sarah Wilson",avatar:"https://images.unsplash.com/photo-1607746882042-944635dfe10e?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:2,name:"Prof. Michael Chen",avatar:"https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:3,name:"Ms. Emily Davis",avatar:"https://images.unsplash.com/photo-1580489944761-15a19d654956?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:4,name:"Dr. James Rodriguez",avatar:"https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:5,name:"Prof. Lisa Thompson",avatar:"https://images.unsplash.com/photo-1614289371518-722f2615943d?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:6,name:"Dr. Alex Kumar",avatar:"https://images.unsplash.com/photo-1507591064344-4c6ce005b128?w=128&h=128&fit=crop&crop=faces&facepad=3"}],V$=e=>{const t=[{id:"unit1",title:"Algebra & Geometry",progress:60,chapters:[{id:"ch1",title:"Introduction to Algebra",duration:"12 min",progress:100,isUnlocked:!0,isCompleted:!0},{id:"ch2",title:"Linear Equations",duration:"15 min",progress:80,isUnlocked:!0,isCompleted:!1},{id:"ch3",title:"Quadratic Equations",duration:"18 min",progress:40,isUnlocked:!0,isCompleted:!1}]},{id:"unit2",title:"Trigonometry & Statistics",progress:20,chapters:[{id:"ch4",title:"Basics of Trigonometry",duration:"14 min",progress:20,isUnlocked:!0,isCompleted:!1},{id:"ch5",title:"Probability & Statistics",duration:"16 min",progress:0,isUnlocked:!1,isCompleted:!1}]}],n=[{id:"unit1",title:"Grammar & Vocabulary",progress:75,chapters:[{id:"ch1",title:"Parts of Speech",duration:"10 min",progress:100,isUnlocked:!0,isCompleted:!0},{id:"ch2",title:"Sentence Structure",duration:"13 min",progress:90,isUnlocked:!0,isCompleted:!1},{id:"ch3",title:"Advanced Grammar",duration:"17 min",progress:35,isUnlocked:!0,isCompleted:!1}]},{id:"unit2",title:"Literature & Writing",progress:30,chapters:[{id:"ch4",title:"Creative Writing",duration:"20 min",progress:60,isUnlocked:!0,isCompleted:!1},{id:"ch5",title:"Poetry Analysis",duration:"15 min",progress:0,isUnlocked:!1,isCompleted:!1}]}],r=[{id:"unit1",title:"Physics & Chemistry",progress:50,chapters:[{id:"ch1",title:"Matter & Energy",duration:"14 min",progress:100,isUnlocked:!0,isCompleted:!0},{id:"ch2",title:"Chemical Reactions",duration:"16 min",progress:25,isUnlocked:!0,isCompleted:!1},{id:"ch3",title:"Forces & Motion",duration:"18 min",progress:25,isUnlocked:!0,isCompleted:!1}]},{id:"unit2",title:"Biology & Earth Science",progress:15,chapters:[{id:"ch4",title:"Cell Biology",duration:"12 min",progress:30,isUnlocked:!0,isCompleted:!1},{id:"ch5",title:"Ecosystems",duration:"15 min",progress:0,isUnlocked:!1,isCompleted:!1}]}],i=[{id:"unit1",title:"World History",progress:45,chapters:[{id:"ch1",title:"Ancient Civilizations",duration:"16 min",progress:100,isUnlocked:!0,isCompleted:!0},{id:"ch2",title:"Medieval Period",duration:"14 min",progress:35,isUnlocked:!0,isCompleted:!1},{id:"ch3",title:"Modern Era",duration:"18 min",progress:0,isUnlocked:!0,isCompleted:!1}]},{id:"unit2",title:"Geography & Culture",progress:25,chapters:[{id:"ch4",title:"World Geography",duration:"13 min",progress:50,isUnlocked:!0,isCompleted:!1},{id:"ch5",title:"Cultural Studies",duration:"17 min",progress:0,isUnlocked:!1,isCompleted:!1}]}];switch(e.toLowerCase()){case"mathematics":return t;case"english":return n;case"science":return r;case"social studies":return i;default:return t}},U$=e=>{switch(e.toLowerCase()){case"mathematics":return"Algebra, Geometry & Trigonometry  Grade 10";case"english":return"Grammar, Literature & Writing  Grade 10";case"science":return"Physics, Chemistry & Biology  Grade 10";case"social studies":return"History, Geography & Culture  Grade 10";default:return"Education you can believe in"}},H$=e=>{for(const t of e)for(const n of t.chapters)if(!n.isCompleted&&n.isUnlocked)return{unit:t.title,chapter:n.title,progress:n.progress};return{unit:e[0].title,chapter:e[0].chapters[0].title,progress:e[0].chapters[0].progress}};function q$({subject:e,onBack:t,onStartQuiz:n,onLessonClick:r}){const[i,a]=g.useState(["unit1"]),c=V$(e.name),d=U$(e.name),u=H$(c),f=Math.round(c.reduce((v,w)=>v+w.progress,0)/c.length),p=c.reduce((v,w)=>v+w.chapters.length,0),m=c.reduce((v,w)=>v+w.chapters.length*15,0),y=v=>{a(w=>w.includes(v)?w.filter(j=>j!==v):[...w,v])};return s.jsxs("div",{className:"h-full bg-gradient-to-b from-[#ADC8FF] via-[#E8F2FF]/95 to-white",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ADC8FF]/30 via-transparent to-transparent"}),s.jsxs("div",{className:"relative px-6 pt-4 pb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(Or,{onClick:t}),s.jsx("h1",{className:"text-section-header text-[#4F8EFF]/80",children:"Course Details"}),s.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-12 h-12 bg-white/95 backdrop-blur-md rounded-2xl flex items-center justify-center shadow-lg border border-white/40",children:s.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-[#091A7A] to-[#4F8EFF] flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})})]}),s.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/90 backdrop-blur-md rounded-3xl p-6 shadow-xl border border-white/50 mb-6",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${e.color} rounded-3xl flex items-center justify-center shadow-lg`,children:e.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-main-heading text-[#4F8EFF] mb-2",children:e.name}),s.jsx("p",{className:"text-small text-[#6B8EFF]/80 mb-3",children:d}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ko,{className:"w-4 h-4 text-[#6B8EFF]/60"}),s.jsxs("span",{className:"text-tiny text-[#6B8EFF]/70",children:[Math.floor(m/60),"h ",m%60,"min"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xs,{className:"w-4 h-4 text-amber-500 fill-current"}),s.jsx("span",{className:"text-tiny font-medium text-[#4F8EFF]",children:"4.9"})]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-subheading text-[#4F8EFF]",children:"Overall Progress"}),s.jsxs("span",{className:"text-subheading font-semibold text-[#4F8EFF]",children:[f,"%"]})]}),s.jsx("div",{className:"h-3 bg-[#ADC8FF]/30 rounded-full overflow-hidden",children:s.jsx(O.div,{initial:{width:0},animate:{width:`${f}%`},transition:{delay:.3,duration:1.2,ease:"easeOut"},className:"h-full bg-gradient-to-r from-[#4F8EFF] to-[#7BA7FF] rounded-full shadow-sm"})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-tiny text-[#6B8EFF]/70",children:"Course Content"}),s.jsxs("span",{className:"text-tiny text-[#6B8EFF]/80",children:[p," Videos"]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(n0,{className:"w-4 h-4 text-[#6B8EFF]/70"}),s.jsx("span",{className:"text-small text-[#6B8EFF]/70",children:"Instructors"})]}),s.jsxs("div",{className:"flex items-center",children:[a1.slice(0,5).map((v,w)=>s.jsx(O.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:w*.1},className:"relative",style:{marginLeft:w>0?"-12px":"0"},children:s.jsx("img",{src:w===0?rg:v.avatar,alt:v.name,className:"w-11 h-11 rounded-full border-3 border-white shadow-lg object-cover object-[center_20%]"})},v.id)),s.jsx("div",{className:"w-11 h-11 bg-white/95 backdrop-blur-md rounded-full border-3 border-white shadow-lg flex items-center justify-center",style:{marginLeft:"-12px"},children:s.jsxs("span",{className:"text-xs font-semibold text-[#4F8EFF]",children:["+",a1.length-5]})})]})]})]})]}),s.jsx("div",{className:"px-6 mb-6",children:s.jsx(O.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:n,className:"w-full bg-subject-gradient text-[#4F8EFF] rounded-3xl p-5 shadow-xl border border-white/40 backdrop-blur-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-white/30 rounded-xl flex items-center justify-center",children:s.jsx(Li,{className:"w-4 h-4 text-[#4F8EFF]"})}),s.jsx("span",{className:"text-subheading font-semibold",children:"Continue Learning"})]}),s.jsxs("p",{className:"text-small text-[#4F8EFF]/80 font-medium",children:[u.unit,": ",u.chapter]}),s.jsxs("p",{className:"text-small text-[#4F8EFF]/70 font-medium",children:[u.progress,"% completed"]})]}),s.jsx("div",{className:"w-14 h-14 bg-white backdrop-blur-sm rounded-full flex items-center justify-center border border-white/30 shadow-lg",children:s.jsx(Li,{className:"w-6 h-6 text-[#4F8EFF]"})})]})})}),s.jsx("div",{className:"flex-1 px-6 pb-6",children:s.jsx("div",{className:"space-y-6",children:c.map((v,w)=>{const j=i.includes(v.id);return s.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"bg-white/95 backdrop-blur-xl rounded-3xl overflow-hidden shadow-elevated border border-white/60 ring-1 ring-[#ADC8FF]/20",whileHover:{scale:1.01,boxShadow:"0 25px 50px rgba(9, 26, 122, 0.3), 0 0 0 1px rgba(173, 200, 255, 0.4)"},transition:{duration:.3,ease:"easeOut"},children:[s.jsxs(O.button,{whileHover:{backgroundColor:"rgba(173, 200, 255, 0.08)"},whileTap:{scale:.98},onClick:()=>y(v.id),className:"w-full p-6 flex items-center justify-between relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#ADC8FF]/5 via-transparent to-[#ADC8FF]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"text-left relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-[#ADC8FF] rounded-full flex items-center justify-center border border-white/30 shadow-lg ring-1 ring-[#ADC8FF]/30",children:s.jsx("span",{className:"text-small font-semibold text-[#091A7A]",children:w+1})}),s.jsxs("span",{className:"text-body font-semibold text-[#091A7A]/80",children:["Unit ",w+1]})]}),s.jsx("h3",{className:"text-subheading text-[#4F8EFF] mb-2",children:v.title}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-2.5 w-24 bg-[#ADC8FF]/30 rounded-full overflow-hidden shadow-inner",children:s.jsx(O.div,{initial:{width:0},animate:{width:`${v.progress}%`},transition:{delay:.5,duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-[#4F8EFF] to-[#7BA7FF] rounded-full shadow-sm"})}),s.jsxs("span",{className:"text-small font-semibold text-[#091A7A]",children:[v.progress,"%"]})]})]}),s.jsx(O.div,{animate:{rotate:j?90:0},transition:{duration:.3,ease:"easeInOut"},className:"w-12 h-12 bg-[#ADC8FF]/15 rounded-full flex items-center justify-center border border-white/40 shadow-sm relative z-10",whileHover:{backgroundColor:"rgba(173, 200, 255, 0.25)"},children:s.jsx(Go,{className:"w-5 h-5 text-[#091A7A]/70"})})]}),s.jsx(O.div,{initial:!1,animate:{height:j?"auto":0},transition:{duration:.4,ease:"easeInOut"},className:"overflow-hidden",children:s.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[s.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-[#ADC8FF]/30 to-transparent mb-4"}),v.chapters.map((S,N)=>s.jsxs(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:N*.08},className:"bg-white/90 backdrop-blur-sm rounded-2xl p-5 border border-white/70 shadow-card ring-1 ring-[#ADC8FF]/10 relative overflow-hidden",whileHover:{scale:1.02,boxShadow:"0 8px 25px rgba(9, 26, 122, 0.15)"},transition:{duration:.2},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ADC8FF]/3 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:"w-11 h-11 bg-gradient-to-br from-[#ADC8FF]/40 to-[#ADC8FF]/20 rounded-full flex items-center justify-center border border-white/50 shadow-sm",children:s.jsx("span",{className:"text-small font-semibold text-[#091A7A]",children:N+1})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-subheading text-[#091A7A] mb-1.5 font-medium",children:S.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ko,{className:"w-3.5 h-3.5 text-[#6B8EFF]/70"}),s.jsx("span",{className:"text-small text-[#091A7A]/60 font-medium",children:S.duration})]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:S.isCompleted?s.jsx("div",{className:"w-9 h-9 bg-green-50 rounded-full flex items-center justify-center border border-green-200 shadow-sm",children:s.jsx(Mn,{className:"w-4.5 h-4.5 text-green-600"})}):S.isUnlocked?s.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>r?.(S.title),className:"w-9 h-9 bg-gradient-to-br from-[#4F8EFF] to-[#7BA7FF] rounded-full flex items-center justify-center shadow-lg border border-white/30",children:s.jsx(Li,{className:"w-3.5 h-3.5 text-white"})}):s.jsx("div",{className:"w-9 h-9 bg-gray-50 rounded-full flex items-center justify-center border border-gray-200 shadow-sm",children:s.jsx(au,{className:"w-4 h-4 text-gray-400"})})})]}),S.progress>0&&!S.isCompleted&&s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"h-2 bg-[#ADC8FF]/25 rounded-full overflow-hidden shadow-inner",children:s.jsx(O.div,{initial:{width:0},animate:{width:`${S.progress}%`},transition:{delay:.3,duration:.8,ease:"easeOut"},className:"h-full bg-gradient-to-r from-[#4F8EFF] to-[#7BA7FF] rounded-full shadow-sm"})})})]},S.id))]})})]},v.id)})})})]})}function sC({onBack:e,vocabularyId:t,vocabularyName:n,totalWords:r,onComplete:i}){const[a,c]=g.useState([]),[d,u]=g.useState(!0),[f,p]=g.useState(new Set),[m,y]=g.useState(new Set),[v,w]=g.useState([]),j=100,[S,N]=g.useState(null),[E,C]=g.useState(0),_=g.useRef(0),T=g.useRef(0),I=g.useRef(!1);g.useEffect(()=>{M()},[t]);const M=async()=>{try{u(!0);const $=await fetch(`https://${Je}.supabase.co/functions/v1/server/shared-vocabulary/${t}/words`,{headers:{Authorization:`Bearer ${En}`}});if(!$.ok)throw new Error("Failed to fetch words");const D=await $.json();c(D.words||[])}catch($){console.error("Error fetching words:",$),pe.error("  ")}finally{u(!1)}},F=$=>{y(D=>{const P=new Set(D);return P.has($)?P.delete($):P.add($),P})},U=($,D)=>{_.current=$.touches[0].clientX,T.current=$.touches[0].clientY,I.current=!1,N(D)},G=($,D)=>{if(S!==D)return;const P=$.touches[0].clientX-_.current,R=$.touches[0].clientY-T.current;!I.current&&Math.abs(P)>Math.abs(R)&&Math.abs(P)>10&&(I.current=!0),I.current&&($.preventDefault(),C(P))},se=$=>{Math.abs(E)>100&&I.current&&ae($),C(0),N(null),I.current=!1},ae=$=>{p(D=>new Set(D).add($)),w(D=>[...D,$]),y(D=>{const P=new Set(D);return P.delete($),P})},oe=()=>{if(v.length===0)return;const $=v[v.length-1];p(D=>{const P=new Set(D);return P.delete($),P}),w(D=>D.slice(0,-1))},ee=()=>{const $=a.filter(D=>!f.has(D.id)).map(D=>D.id);if($.length===0){pe.error(" 1   ");return}i($,j)},L=a.filter($=>!f.has($.id));return Math.ceil(L.length/j),d?s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-[#8B5CF6] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-[#091A7A]/70",children:" ..."})]})}):s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"sticky top-0 z-40 backdrop-blur-xl border-b border-gray-100 px-6 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(O.button,{whileTap:{scale:.95},onClick:e,className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm border border-gray-200",children:s.jsx(gs,{className:"w-5 h-5 text-[#091A7A]"})}),s.jsxs("div",{className:"text-center flex-1",children:[s.jsx("h1",{className:"text-lg font-bold text-[#091A7A]",children:n}),s.jsxs("p",{className:"text-sm text-[#091A7A]/60",children:[L.length," / ",r,"  "]})]}),s.jsx(O.button,{whileTap:{scale:.95},onClick:oe,disabled:v.length===0,className:`w-10 h-10 rounded-full flex items-center justify-center shadow-sm transition-all ${v.length>0?"bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED]":"bg-gray-200"}`,children:s.jsx(J6,{className:"w-5 h-5 text-white"})})]}),s.jsx("div",{className:"text-xs text-[#091A7A]/50 mt-2 text-center",children:"     "})]}),s.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:s.jsxs("div",{className:"p-4",children:[s.jsx(ut,{children:L.map(($,D)=>{const P=m.has($.id),R=S===$.id,q=R?E:0,B=Math.max(.3,1-Math.abs(q)/200);return s.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:B,y:0,x:q},exit:{opacity:0,x:q>0?300:-300,height:0},transition:{duration:.2},onTouchStart:W=>U(W,$.id),onTouchMove:W=>G(W,$.id),onTouchEnd:()=>se($.id),className:"relative bg-white/95 backdrop-blur-lg rounded-[20px] p-4 mb-3 shadow-md border border-white/20",style:{touchAction:R?"none":"auto"},children:[R&&Math.abs(q)>50&&s.jsx("div",{className:`absolute top-1/2 -translate-y-1/2 ${q>0?"right-4":"left-4"}`,children:s.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center opacity-80",children:s.jsx(yn,{className:"w-6 h-6 text-white",strokeWidth:3})})}),s.jsx("div",{className:"absolute top-3 left-3 w-6 h-6 bg-[#8B5CF6] rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-[10px] text-white font-medium",children:D+1})}),s.jsxs("div",{className:"flex items-center justify-between pl-10 cursor-pointer",onClick:()=>F($.id),children:[s.jsx("span",{className:"text-base font-semibold text-gray-700",children:$.word}),s.jsx("span",{className:`text-sm transition-opacity ${P?"text-[#091A7A] opacity-100":"text-[#091A7A]/30 opacity-50"}`,children:P?$.meaning:"  "})]})]},$.id)})}),L.length===0&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx("p",{className:"text-[#091A7A]/70",children:"  "}),s.jsx("p",{className:"text-sm text-[#091A7A]/50 mt-1",children:"    "})]})]})}),s.jsxs("div",{className:"sticky bottom-0 backdrop-blur-lg border-t border-white/20 p-4",children:[s.jsx("div",{className:"mb-3 text-center",children:s.jsx("p",{className:"text-sm text-[#091A7A]/60",children:"100   ."})}),s.jsx(O.button,{whileTap:{scale:.98},onClick:ee,disabled:L.length===0,className:`w-full h-12 rounded-[20px] flex items-center justify-center shadow-lg transition-all ${L.length>0?"bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] text-white":"bg-gray-300 text-gray-500"}`,children:"  "})]})]})}const G$=[{id:"all",name:"All"},{id:"TOEIC",name:"TOEIC"},{id:"SAT",name:"SAT"},{id:"GRE",name:"GRE"},{id:"School",name:" "},{id:"General",name:"General English"}];function K$({onBack:e,getAuthToken:t}){const[n,r]=g.useState("all"),[i,a]=g.useState([]),[c,d]=g.useState([]),[u,f]=g.useState(!0),[p,m]=g.useState(null),y=g.useRef(null);g.useEffect(()=>{v()},[]);const v=async()=>{try{f(!0);const N=await fetch(`https://${Je}.supabase.co/functions/v1/server/shared-vocabularies`,{headers:{Authorization:`Bearer ${En}`}});if(!N.ok)throw new Error("Failed to fetch vocabularies");const E=await N.json();a(E.vocabularies||[])}catch(N){console.error("Error fetching vocabularies:",N),pe.error("Failed to load vocabularies")}finally{f(!1)}};g.useEffect(()=>{let N=i;n!=="all"&&(N=N.filter(E=>E.category===n)),d(N)},[n,i]);const w=N=>{switch(N){case"TOEIC":return"bg-yellow-400 text-purple-900";case"SAT":return"bg-white text-purple-700";case"GRE":return"bg-purple-300 text-purple-900";case"School":return"bg-pink-300 text-purple-900";case"General":return"bg-green-300 text-green-900";default:return"bg-purple-300 text-purple-900"}},j=N=>{m(N)},S=async(N,E)=>{if(p)try{const C=t?t():localStorage.getItem("supabase_access_token")||En;if(!(await fetch(`https://${Je}.supabase.co/functions/v1/server/user-vocabularies`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({name:p.name,description:p.description,words_per_unit:E,selected_word_ids:N,shared_vocabulary_id:p.id})})).ok)throw new Error("Failed to add vocabulary");pe.success("Vocabulary added successfully!"),m(null)}catch(C){console.error("Error adding vocabulary:",C),pe.error("Failed to add vocabulary")}};return p?s.jsx(sC,{onBack:()=>m(null),vocabularyId:p.id,vocabularyName:p.name,totalWords:p.total_words,onComplete:S}):s.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-b from-[#E8E0FF] to-[#F0EBFF]",children:[s.jsx(Gl,{onBack:e,title:"",subtitle:"   "}),s.jsx("div",{className:"px-4 pb-4",children:s.jsx("div",{ref:y,className:"flex gap-2 overflow-x-auto scrollbar-hide",children:G$.map(N=>s.jsx(O.button,{whileTap:{scale:.95},onClick:()=>r(N.id),className:`px-4 py-2 rounded-full whitespace-nowrap transition-all text-sm ${n===N.id?"bg-white text-[#491B6D] shadow-md":"bg-white/30 text-[#491B6D] border border-white/50"}`,children:N.name},N.id))})}),s.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-4 py-6",children:[u?s.jsx("div",{className:"flex items-center justify-center py-16",children:s.jsx("div",{className:"w-12 h-12 border-4 border-[#8B6FC4] border-t-transparent rounded-full animate-spin"})}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(ut,{children:c.map((N,E)=>s.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:E*.05},whileTap:{scale:.98},onClick:()=>j(N),className:"bg-white/40 backdrop-blur-lg rounded-3xl p-5 border border-white/50 shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-white/60 rounded-2xl flex items-center justify-center flex-shrink-0",children:s.jsx(ds,{className:"w-7 h-7 text-[#8B6FC4]"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-[#4A3A6B] mb-2 line-clamp-2",children:N.name}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${w(N.category)}`,children:N.category||"General"}),s.jsxs("span",{className:"text-[#8B6FC4] text-xs",children:[N.total_words," "]})]})]}),s.jsx(Go,{className:"w-5 h-5 text-[#8B6FC4] flex-shrink-0 mt-1"})]})},N.id))}),c.length===0&&!u&&s.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[s.jsx("div",{className:"w-16 h-16 bg-white/40 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ds,{className:"w-8 h-8 text-[#8B6FC4]"})}),s.jsx("p",{className:"text-[#6B5A8B]",children:"No vocabulary found"})]})]}),s.jsx("div",{className:"h-4"})]})]})}function Y$({onBack:e,onTakeQuiz:t,lessonTitle:n="Introduction to Algebra",teacherName:r="Dr. Sarah Wilson"}){const[i,a]=g.useState(!1),[c,d]=g.useState(!1),[u,f]=g.useState(!1),[p,m]=g.useState(!1),[y,v]=g.useState(!1),[w,j]=g.useState(35),S={name:r,designation:"Mathematics Professor",rating:4.8,avatar:"https://images.unsplash.com/photo-1511629091441-ee46146481b6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxvbmxpbmUlMjBlZHVjYXRpb24lMjB0ZWFjaGVyJTIwcHJvZmVzc29yfGVufDF8fHx8MTc1NzUzNzU0MHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",followers:"12.5K"},N=()=>{a(!i)},E=()=>{u&&f(!1),d(!c)},C=()=>{c&&d(!1),f(!u)},_=()=>{m(!p)},T=()=>{v(!y)};return s.jsxs("div",{className:"h-full bg-gradient-to-b from-[#ADC8FF] via-[#E8F2FF]/95 to-white",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative w-full aspect-video bg-black",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1560785472-2f186f554644?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXRoZW1hdGljcyUyMGxlc3NvbiUyMGFsZ2VicmElMjBlcXVhdGlvbnN8ZW58MXx8fHwxNzU3NTM4NzY4fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral')"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-black/40"}),s.jsx("div",{className:"absolute bottom-16 left-4 right-4",children:s.jsxs("div",{className:"bg-black/60 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[s.jsx("h3",{className:"text-white font-semibold text-lg mb-1",children:"Introduction to Algebra"}),s.jsx("p",{className:"text-white/80 text-sm",children:"Learn the fundamentals of algebraic equations"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),s.jsx("span",{className:"text-white/60 text-xs",children:"7:20 duration"})]})]})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:N,className:"w-20 h-20 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-2xl border-4 border-white/50",children:i?s.jsx(lu,{className:"w-8 h-8 text-[#091A7A] ml-1"}):s.jsx(Li,{className:"w-8 h-8 text-[#091A7A] ml-1"})})})]}),s.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300",children:[s.jsxs("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between z-10",children:[s.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"w-10 h-10 bg-black/40 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/20",children:s.jsx(gs,{className:"w-5 h-5 text-white"})}),s.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-10 h-10 bg-black/40 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/20",children:s.jsx(i6,{className:"w-5 h-5 text-white"})})]}),s.jsxs("div",{className:"absolute bottom-4 left-4 right-4 z-10",children:[s.jsx("div",{className:"w-full h-1 bg-white/30 rounded-full mb-3 overflow-hidden",children:s.jsx(O.div,{initial:{width:0},animate:{width:`${w}%`},className:"h-full bg-white rounded-full"})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:N,className:"w-8 h-8 flex items-center justify-center",children:i?s.jsx(lu,{className:"w-6 h-6 text-white"}):s.jsx(Li,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-white text-sm font-medium",children:"2:35 / 7:20"})]}),s.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"w-8 h-8 flex items-center justify-center",children:s.jsx(r0,{className:"w-6 h-6 text-white"})})]})]})]})]}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-6",children:[s.jsx("h1",{className:"text-white font-semibold text-lg mb-1",children:n}),s.jsx("p",{className:"text-white/80 text-sm",children:"Mathematics  Grade 10"})]})]}),s.jsxs("div",{className:"flex-1 px-6",children:[s.jsxs("div",{className:"flex items-center gap-4 py-4 border-b border-white/20",children:[s.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:E,className:`flex items-center gap-2 px-4 py-2 rounded-full border transition-all duration-200 ${c?"bg-[#4F8EFF] border-[#4F8EFF] text-white":"bg-white/90 border-white/40 text-[#4F8EFF] hover:bg-[#4F8EFF]/10"}`,children:[s.jsx(H6,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"1.2K"})]}),s.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C,className:`flex items-center gap-2 px-4 py-2 rounded-full border transition-all duration-200 ${u?"bg-gray-500 border-gray-500 text-white":"bg-white/90 border-white/40 text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(V6,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"23"})]}),s.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,className:`flex items-center gap-2 px-4 py-2 rounded-full border transition-all duration-200 ${p?"bg-amber-500 border-amber-500 text-white":"bg-white/90 border-white/40 text-amber-600 hover:bg-amber-50"}`,children:[s.jsx(ZP,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:p?"Saved":"Save"})]})]}),s.jsx("div",{className:"py-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"relative",children:s.jsx("img",{src:S.avatar,alt:S.name,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"text-subheading text-[#091A7A] font-semibold",children:S.name}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xs,{className:"w-3.5 h-3.5 text-amber-500 fill-current"}),s.jsx("span",{className:"text-tiny text-[#091A7A] font-medium",children:S.rating})]})]}),s.jsx("p",{className:"text-small text-[#6B8EFF]/80",children:S.designation}),s.jsxs("p",{className:"text-tiny text-[#6B8EFF]/60",children:[S.followers," followers"]})]}),s.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:T,className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-200 ${y?"bg-gray-100 text-gray-600 border border-gray-200":"bg-[#4F8EFF] text-white border border-[#4F8EFF] hover:bg-[#3B7FFF]"}`,children:[s.jsx(tD,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:y?"Following":"Follow"})]})]})}),s.jsxs("div",{className:"pb-6",children:[s.jsx("h3",{className:"text-subheading text-[#091A7A] font-semibold mb-3",children:"Lesson Summary"}),s.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-2xl p-4 border border-white/50 shadow-card",children:[s.jsx("p",{className:"text-body text-[#4F8EFF] leading-relaxed",children:"In this lesson, you'll learn how to solve quadratic equations using step-by-step methods. We'll cover the quadratic formula, factoring techniques, and completing the square method. You'll also see real-world examples of how quadratic equations are used in physics and engineering."}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[s.jsx("span",{className:"px-3 py-1 bg-[#ADC8FF]/30 text-[#091A7A] text-tiny font-medium rounded-full",children:"Quadratic Formula"}),s.jsx("span",{className:"px-3 py-1 bg-[#ADC8FF]/30 text-[#091A7A] text-tiny font-medium rounded-full",children:"Factoring"}),s.jsx("span",{className:"px-3 py-1 bg-[#ADC8FF]/30 text-[#091A7A] text-tiny font-medium rounded-full",children:"Real Applications"})]})]})]}),s.jsx("div",{className:"pb-28"})]}),s.jsx("div",{className:"fixed bottom-8 left-8 right-8",children:s.jsx(O.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:t,className:"w-full bg-[#ADC8FF] text-[#091A7A] rounded-full p-4 shadow-lg",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("span",{className:"text-subheading font-semibold text-[#091A7A]",children:"Take Quiz for this Lesson"})})})})]})}function X$({show:e,type:t,title:n,subtitle:r,xpGain:i,onComplete:a}){const c=()=>{switch(t){case"xp-gain":return s.jsx(Gs,{className:"w-6 h-6 text-yellow-400",fill:"currentColor"});case"level-up":return s.jsx(us,{className:"w-6 h-6 text-yellow-400"});case"streak":return s.jsx(xs,{className:"w-6 h-6 text-orange-400",fill:"currentColor"});case"achievement":return s.jsx(hr,{className:"w-6 h-6 text-green-400"});case"quiz-complete":return s.jsx(Mn,{className:"w-6 h-6 text-green-400"});default:return s.jsx(Gs,{className:"w-6 h-6 text-blue-400"})}},u=(()=>{switch(t){case"xp-gain":return{bg:"from-yellow-500 to-orange-500",border:"border-yellow-400/50",shadow:"shadow-yellow-500/25"};case"level-up":return{bg:"from-yellow-400 to-yellow-600",border:"border-yellow-300/50",shadow:"shadow-yellow-500/30"};case"streak":return{bg:"from-orange-500 to-red-500",border:"border-orange-400/50",shadow:"shadow-orange-500/25"};case"achievement":return{bg:"from-green-500 to-emerald-500",border:"border-green-400/50",shadow:"shadow-green-500/25"};case"quiz-complete":return{bg:"from-blue-500 to-indigo-500",border:"border-blue-400/50",shadow:"shadow-blue-500/25"};default:return{bg:"from-blue-500 to-purple-500",border:"border-blue-400/50",shadow:"shadow-blue-500/25"}}})();return s.jsx(ut,{children:e&&s.jsxs(s.Fragment,{children:[s.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/20 backdrop-blur-sm z-[100] rounded-[3rem]",onClick:a}),s.jsx(O.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",stiffness:300,damping:25,duration:.5},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[101]",children:s.jsxs("div",{className:`
              relative p-5 bg-gradient-to-br ${u.bg} 
              rounded-2xl shadow-2xl ${u.shadow} 
              border ${u.border} backdrop-blur-xl
              min-w-[260px] max-w-[300px]
            `,children:[s.jsx("div",{className:"absolute inset-0 bg-white/10 rounded-2xl opacity-50"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 via-transparent to-transparent rounded-2xl"}),s.jsxs("div",{className:"relative z-10 text-center",children:[s.jsx(O.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:200},className:"mb-3 flex justify-center",children:s.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:c()})}),s.jsx(O.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-base font-semibold text-white mb-1",children:n}),r&&s.jsx(O.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-white/90 text-xs mb-3",children:r}),i&&s.jsxs(O.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5,type:"spring"},className:"flex items-center justify-center gap-1.5 bg-white/20 rounded-full px-3 py-1.5 backdrop-blur-sm",children:[s.jsx(Gs,{className:"w-3.5 h-3.5 text-yellow-300",fill:"currentColor"}),s.jsxs("span",{className:"text-white font-medium text-xs",children:["+",i," XP"]})]}),s.jsx(O.div,{initial:{scaleX:1},animate:{scaleX:0},transition:{duration:3,ease:"linear"},className:"absolute bottom-0 left-0 h-1 bg-white/30 rounded-b-2xl origin-left",style:{width:"100%"},onAnimationComplete:a})]})]})})]})})}function J$({show:e,xpGain:t}){return s.jsx(ut,{children:e&&s.jsxs(O.div,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-10},transition:{duration:.4,ease:"easeOut"},className:"absolute top-16 left-1/2 transform -translate-x-1/2 z-50",children:[s.jsxs(O.div,{animate:{scale:[1,1.05,1],rotate:[0,-2,2,0]},transition:{duration:.6,ease:"easeInOut",times:[0,.3,.7,1]},className:"flex items-center gap-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-full shadow-lg backdrop-blur-sm border border-green-400/30",children:[s.jsx(O.div,{animate:{rotate:[0,180]},transition:{duration:.4,ease:"easeOut"},children:s.jsx(Yo,{className:"w-4 h-4"})}),s.jsxs("span",{className:"font-medium text-sm",children:[t," XP"]}),s.jsx(O.div,{animate:{scale:[1,1.2,1],filter:["brightness(1)","brightness(1.5)","brightness(1)"]},transition:{duration:.6,ease:"easeInOut",repeat:1},children:s.jsx(Gs,{className:"w-4 h-4 text-yellow-300",fill:"currentColor"})})]}),Array.from({length:6}).map((n,r)=>s.jsx(O.div,{initial:{opacity:0,scale:0,x:0,y:0},animate:{opacity:[0,1,0],scale:[0,1,0],x:[0,(Math.random()-.5)*40],y:[0,(Math.random()-.5)*40]},transition:{duration:1,delay:.2+r*.1,ease:"easeOut"},className:`absolute w-1.5 h-1.5 rounded-full ${r%3===0?"bg-yellow-300":r%3===1?"bg-green-300":"bg-white"}`,style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},r))]})})}const Lp="learningAppProgress",l1="learningAppProgress_backup";function Q$({userXP:e,currentProgress:t,totalQuizzesCompleted:n,lastActiveDate:r,onProgressLoaded:i}){const a=f=>{if(f<1e3)return{currentLevel:1,xpForNextLevel:1e3,xpInCurrentLevel:f};const y=f-1e3,w=2+Math.floor(y/500),j=y%500;return{currentLevel:w,xpForNextLevel:500,xpInCurrentLevel:j}},c=f=>{try{const p={...f,lastSaved:new Date().toISOString(),version:"1.0"};localStorage.setItem(Lp,JSON.stringify(p));const m=localStorage.getItem(Lp);m&&localStorage.setItem(l1,m),console.log(" Progress saved successfully")}catch(p){console.error(" Failed to save progress:",p)}},d=()=>{try{const f=localStorage.getItem(Lp);if(f){const p=JSON.parse(f);return console.log(" Progress loaded from storage"),p}}catch(f){console.error(" Failed to load progress:",f);try{const p=localStorage.getItem(l1);if(p){const m=JSON.parse(p);return console.log(" Progress loaded from backup"),m}}catch(p){console.error(" Failed to load backup progress:",p)}}return null},u=()=>({userXP:5500,currentProgress:40,totalQuizzesCompleted:2,completedStages:[],unlockedSubjects:["math","english","science"],dailyGoalProgress:40,lastActiveDate:new Date().toISOString(),totalSessionTime:0,achievements:[],levelProgress:a(5500)});return g.useEffect(()=>{const f=d();if(f)f.levelProgress=a(f.userXP),i(f);else{const p=u();c(p),i(p)}},[]),g.useEffect(()=>{const f={userXP:e,currentProgress:t,totalQuizzesCompleted:n,completedStages:[],unlockedSubjects:["math","english","science","social-studies"],dailyGoalProgress:t,lastActiveDate:r||new Date().toISOString(),totalSessionTime:0,achievements:[],levelProgress:a(e)},p=setTimeout(()=>{c(f)},1e3);return()=>clearTimeout(p)},[e,t,n,r]),null}const Pi={calculateLevel:e=>{if(e<1e3)return{currentLevel:1,xpForNextLevel:1e3,xpInCurrentLevel:e};const r=e-1e3,a=2+Math.floor(r/500),c=r%500;return{currentLevel:a,xpForNextLevel:500,xpInCurrentLevel:c}},checkForLevelUp:(e,t)=>{const n=Pi.calculateLevel(e).currentLevel;return Pi.calculateLevel(t).currentLevel>n},exportProgress:()=>{const e=localStorage.getItem("learningAppProgress");if(e){const t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`learning-progress-${new Date().toISOString().split("T")[0]}.json`,r.click(),URL.revokeObjectURL(n)}},clearProgress:()=>{localStorage.removeItem("learningAppProgress"),localStorage.removeItem("learningAppProgress_backup"),console.log(" Progress cleared")}};function Z$({show:e,status:t,className:n=""}){const[r,i]=g.useState("saved");g.useEffect(()=>{e&&i(t)},[e,t]);const a=()=>{switch(r){case"saving":return s.jsx(ZR,{className:"w-3 h-3 animate-spin"});case"saved":return s.jsx(Hl,{className:"w-3 h-3"});case"error":return s.jsx(xR,{className:"w-3 h-3"});default:return s.jsx(vR,{className:"w-3 h-3"})}},c=()=>{switch(r){case"saving":return"bg-blue-500/90 text-white";case"saved":return"bg-green-500/90 text-white";case"error":return"bg-red-500/90 text-white";default:return"bg-gray-500/90 text-white"}},d=()=>{switch(r){case"saving":return"Saving...";case"saved":return"Saved";case"error":return"Error";default:return"Saved"}};return s.jsx(ut,{children:e&&s.jsx(O.div,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:10},transition:{duration:.2,ease:"easeOut"},className:`fixed top-20 right-4 z-50 ${n}`,children:s.jsxs("div",{className:`
            flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium
            backdrop-blur-xl border border-white/20 shadow-lg
            ${c()}
          `,children:[a(),s.jsx("span",{children:d()})]})})})}function e9(){const[e,t]=g.useState("saved"),[n,r]=g.useState(!1);return{saveStatus:e,showIndicator:n,triggerSave:()=>{t("saving"),r(!0),setTimeout(()=>{t("saved"),setTimeout(()=>{r(!1)},1500)},800)},triggerError:()=>{t("error"),r(!0),setTimeout(()=>{r(!1)},3e3)}}}const iC="/assets/aeb1623adfde368b33dc26e61638e23dfc50bf84-C69uHyjO.png";function t9({onLoginComplete:e,onGoToSignup:t}){const[n,r]=g.useState({email:"",password:""}),[i,a]=g.useState(!1),[c,d]=g.useState(!1),[u,f]=g.useState(""),p=(j,S)=>{r(N=>({...N,[j]:S})),f("")},m=async()=>{if(!n.email||!n.password){f("  .");return}d(!0),f("");try{console.log(" Signing in with Supabase Auth...");const j=Yn(),{data:S,error:N}=await j.auth.signInWithPassword({email:n.email,password:n.password});if(N){console.error(" Supabase signin error:",N);let _=" .";throw N.message.includes("Invalid login credentials")||N.message.includes("invalid_credentials")?_=`    .
   .`:N.message.includes("Email not confirmed")?_="  .":_=N.message,new Error(_)}if(console.log(" Login response:",S),!S.session||!S.session.access_token)throw console.error(" Invalid response structure:",S),new Error("   .    .");const E=S.session.access_token,C=S.user;localStorage.setItem("supabase_access_token",E),localStorage.setItem("supabase_user",JSON.stringify(C)),console.log(" Login successful, token saved"),console.log(" Access token:",E.substring(0,20)+"..."),e(C,E)}catch(j){console.error(" Login error:",j),f(j.message||" .")}finally{d(!1)}},y=j=>{j.key==="Enter"&&n.email&&n.password&&m()},v=async()=>{d(!0),f("");try{const j=Yn(),{error:S}=await j.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:window.location.origin,queryParams:{scope:"profile_nickname profile_image"}}});if(S)throw S}catch(j){console.error(" Kakao login error:",j),f("  ."),d(!1)}},w=async()=>{d(!0),f("");try{const j=Yn(),{error:S}=await j.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(S)throw S}catch(j){console.error(" Google login error:",j),f("Google  ."),d(!1)}};return s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-8 py-12 min-h-screen",children:[s.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12 text-center",children:[s.jsx("img",{src:iC,alt:"JEJEVOCA",className:"w-32 h-32 mx-auto mb-6"}),s.jsx("h1",{className:"text-5xl font-extrabold mb-3",style:{color:"#1e3a8a"},children:"JEJEVOCA"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"   "})]}),s.jsx(O.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1},className:"w-full max-w-sm",children:s.jsxs("div",{className:"bg-white/80 backdrop-blur-lg border border-white/30 rounded-3xl p-8 shadow-xl space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(aS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"email",value:n.email,onChange:j=>p("email",j.target.value),onKeyPress:y,placeholder:"example@email.com",className:"w-full pl-10 pr-3 py-3 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"email"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(au,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:i?"text":"password",value:n.password,onChange:j=>p("password",j.target.value),onKeyPress:y,placeholder:"",className:"w-full pl-10 pr-10 py-3 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"current-password"}),s.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:i?s.jsx(Cl,{size:18}):s.jsx(Bo,{size:18})})]})]}),u&&s.jsx(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-xl p-3 text-center",children:s.jsx("p",{className:"text-red-600 text-sm",children:u})}),s.jsx(O.button,{whileTap:{scale:.98},onClick:m,disabled:c||!n.email||!n.password,className:`w-full py-3 rounded-2xl font-medium transition-all text-center ${c||!n.email||!n.password?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-[#491B6D] text-white shadow-lg shadow-[#491B6D]/30"}`,children:c?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),s.jsx("span",{children:" ..."})]}):""}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-200"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-4 bg-white text-gray-500",children:" "})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(O.button,{whileTap:{scale:.98},onClick:v,disabled:c,className:"w-full py-3 rounded-2xl font-medium transition-all text-center flex items-center justify-center gap-2",style:{backgroundColor:"#FEE500",color:"#000000"},children:[s.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 3C6.5 3 2 6.6 2 11c0 2.8 1.9 5.3 4.7 6.7l-1.1 4.1c-.1.3.2.6.5.4l5.3-3.5c.5.1 1 .1 1.6.1 5.5 0 10-3.6 10-8S17.5 3 12 3z"})})," "]}),s.jsxs(O.button,{whileTap:{scale:.98},onClick:w,disabled:c,className:"w-full py-3 rounded-2xl font-medium bg-white border border-gray-300 text-gray-700 transition-all text-center flex items-center justify-center gap-2 hover:bg-gray-50",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google "]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-200"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-4 bg-white text-gray-500",children:""})})]}),s.jsx(O.button,{whileTap:{scale:.98},onClick:t,className:"w-full py-3 rounded-2xl font-medium bg-white border border-[#491B6D] text-[#491B6D] transition-all text-center",children:" "}),s.jsx("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-xl",children:s.jsxs("p",{className:"text-xs text-purple-700 text-center",children:["  ?  ",s.jsx("strong",{children:""}),"  !"]})})]})}),s.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-8 text-center text-gray-600 text-sm",children:" JEJETRANSFER. All rights reserved.  Made by "})]})}function n9({onBack:e,onSignupComplete:t}){const[n,r]=g.useState({fullName:"",email:"",password:"",confirmPassword:""}),[i,a]=g.useState(!1),[c,d]=g.useState(!1),[u,f]=g.useState(!1),[p,m]=g.useState(""),y=(N,E)=>{r(C=>({...C,[N]:E})),m("")},v=async()=>{if(!n.fullName||!n.email||!n.password||!n.confirmPassword){m("  .");return}if(n.password!==n.confirmPassword){m("  .");return}if(n.password.length<6){m("  6  .");return}f(!0),m("");try{console.log(" Creating account with Supabase Auth...");const N=Yn(),{data:E,error:C}=await N.auth.signUp({email:n.email,password:n.password,options:{emailRedirectTo:void 0,data:{full_name:n.fullName}}});if(C){console.error(" Supabase signup error:",C);let F=" .";throw C.message.includes("already registered")||C.message.includes("already exists")?F=`  .
 .`:C.message.includes("invalid email")?F="   .":C.message.includes("password")?F="  6  .":F=C.message,new Error(F)}console.log(" Signup successful:",E.user?.id);const{data:_,error:T}=await N.auth.signInWithPassword({email:n.email,password:n.password});if(T)throw console.error(" Auto signin failed:",T),new Error("    .  .");if(!_.session||!_.session.access_token)throw new Error("  .");const I=_.session.access_token,M=_.user;localStorage.setItem("supabase_access_token",I),localStorage.setItem("supabase_user",JSON.stringify(M)),console.log(" Auto-login successful"),console.log(" Access token:",I.substring(0,20)+"...");try{console.log(" Creating user profile...");const{error:F}=await N.from("profiles").insert({id:M.id,student_name:n.fullName,email:n.email});F?console.error(" Profile creation failed:",F):console.log(" Profile created successfully")}catch(F){console.error(" Profile creation error:",F)}t(M,I)}catch(N){console.error(" Signup error:",N),m(N.message||" .")}finally{f(!1)}},w=async()=>{f(!0),m("");try{const N=Yn(),{error:E}=await N.auth.signInWithOAuth({provider:"kakao",options:{queryParams:{scope:"profile_nickname profile_image"}}});if(E)throw E}catch(N){console.error(" Kakao signup error:",N),m("  ."),f(!1)}},j=async()=>{f(!0),m("");try{const N=Yn(),{error:E}=await N.auth.signInWithOAuth({provider:"google"});if(E)throw E}catch(N){console.error(" Google signup error:",N),m("Google  ."),f(!1)}},S=n.fullName&&n.email&&n.password&&n.confirmPassword&&n.password===n.confirmPassword;return s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-8 py-12 min-h-screen",children:[s.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 text-center",children:[s.jsx("img",{src:iC,alt:"JEJEVOCA",className:"w-24 h-24 mx-auto mb-3"}),s.jsx("h2",{className:"text-[#491B6D]",children:""}),s.jsx("p",{className:"text-gray-600 text-sm",children:"JEJEVOCA  "})]}),s.jsx(O.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1},className:"w-full max-w-sm",children:s.jsxs("div",{className:"bg-white/80 backdrop-blur-lg border border-white/30 rounded-3xl p-8 shadow-xl space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(gS,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",value:n.fullName,onChange:N=>y("fullName",N.target.value),placeholder:"",className:"w-full pl-12 pr-4 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(aS,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"email",value:n.email,onChange:N=>y("email",N.target.value),placeholder:"example@email.com",className:"w-full pl-12 pr-4 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"email"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(au,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:i?"text":"password",value:n.password,onChange:N=>y("password",N.target.value),placeholder:" 6 ",className:"w-full pl-12 pr-12 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"new-password"}),s.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:i?s.jsx(Cl,{size:20}):s.jsx(Bo,{size:20})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(au,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:c?"text":"password",value:n.confirmPassword,onChange:N=>y("confirmPassword",N.target.value),placeholder:" ",className:"w-full pl-12 pr-12 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"new-password"}),s.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:c?s.jsx(Cl,{size:20}):s.jsx(Bo,{size:20})})]})]}),p&&s.jsx(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-xl p-3 text-center",children:s.jsx("p",{className:"text-red-600 text-sm",children:p})}),s.jsx(O.button,{whileTap:{scale:.98},onClick:v,disabled:u||!S,className:`w-full py-4 rounded-2xl font-medium transition-all min-h-[56px] ${u||!S?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-[#491B6D] text-white shadow-lg shadow-[#491B6D]/30"}`,children:u?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),s.jsx("span",{children:" ..."})]}):" "}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-200"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-4 bg-white text-gray-500",children:" "})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(O.button,{whileTap:{scale:.98},onClick:w,disabled:u,className:"w-full py-4 rounded-2xl font-medium transition-all min-h-[56px] text-center flex items-center justify-center gap-2",style:{backgroundColor:"#FEE500",color:"#000000"},children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 3C6.5 3 2 6.6 2 11c0 2.8 1.9 5.3 4.7 6.7l-1.1 4.1c-.1.3.2.6.5.4l5.3-3.5c.5.1 1 .1 1.6.1 5.5 0 10-3.6 10-8S17.5 3 12 3z"})})," "]}),s.jsxs(O.button,{whileTap:{scale:.98},onClick:j,disabled:u,className:"w-full py-4 rounded-2xl font-medium bg-white border-2 border-gray-300 text-gray-700 transition-all min-h-[56px] text-center flex items-center justify-center gap-2 hover:bg-gray-50",children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google "]})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-200"})})}),s.jsx(O.button,{whileTap:{scale:.98},onClick:e,className:"w-full py-3 rounded-2xl font-medium bg-white border border-gray-200 text-gray-700 transition-all",children:" "})]})}),s.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-8 text-center text-gray-600 text-sm",children:" JEJETRANSFER. All rights reserved.  Made by "})]})}const r9="modulepreload",s9=function(e){return"/"+e},c1={},Fr=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),u=d?.nonce||d?.getAttribute("nonce");i=c(n.map(f=>{if(f=s9(f),f in c1)return;c1[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":r9,p||(y.as="script"),y.crossOrigin="",y.href=f,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((v,w)=>{y.addEventListener("load",v),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return t().catch(a)})};function i9({vocabulary:e,onToggleWord:t,onSelectAll:n,onDeselectAll:r,isWordSelected:i,onAddToVocabulary:a}){const[c,d]=g.useState(!1),u=(w,j)=>({id:`extractor-${j}-${w.word}`,word:w.word,meaning:w.meaning,source:"Passage Extractor",metadata:{pos:w.pos,level:w.level}}),f=w=>{const j=u(e[w],w);t(j)},p=()=>{if(!n)return;const j=e.map((S,N)=>u(S,N)).filter(S=>!i(S.id));j.length>0&&n(j)},m=()=>{if(!r)return;const w=e.map((j,S)=>u(j,S).id);r(w)};if(!e||e.length===0)return null;const y=()=>{if(!a)return;const w=e.map((j,S)=>u(j,S)).filter(j=>i(j.id));w.length!==0&&a(w)},v=e.filter((w,j)=>i(u(w,j).id)).length;return s.jsxs("div",{className:"bg-white rounded-2xl border border-purple-100 p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-bold text-[#491B6D]",children:" "}),s.jsxs("div",{className:"flex gap-2",children:[n&&s.jsx("button",{onClick:p,className:"text-xs text-purple-600 hover:text-purple-800",children:" "}),r&&s.jsx("button",{onClick:m,className:"text-xs text-gray-500 hover:text-gray-700",children:" "}),a&&v>0&&s.jsxs(O.button,{whileTap:{scale:.95},onClick:y,className:"flex items-center gap-1 px-3 py-1.5 bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] text-white rounded-full text-xs font-semibold shadow-sm",children:[s.jsx(Yo,{className:"w-3 h-3"}),"  (",v,")"]})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-[400px] overflow-y-auto",children:e.map((w,j)=>{const S=u(w,j),N=i(S.id);return s.jsx(O.div,{whileTap:{scale:.98},onClick:()=>f(j),className:`p-3 rounded-xl border cursor-pointer transition-all ${N?"bg-purple-50 border-purple-300 shadow-sm":"bg-gray-50 border-gray-200 hover:border-purple-200"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center flex-shrink-0 mt-0.5 ${N?"bg-purple-600 border-purple-600":"border-gray-300"}`,children:N&&s.jsx(Hl,{className:"w-2.5 h-2.5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-semibold text-[#491B6D] text-sm break-words",children:w.word}),s.jsx("p",{className:"text-xs text-gray-600 mt-0.5 break-words",children:w.meaning})]})]})},`${w.word}-${j}`)})})]})}const o9={paragraphClassName:"text-[12px] leading-relaxed text-[#35215d] mb-2 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-[12px] text-[#35215d]",boldClassName:"font-semibold text-[#4C1D95]"},d1=(e,t,n)=>e.replace(/--([^-]+)--/g,"**$1**").split(/(\*\*[^*]+\*\*)/g).filter(Boolean).map((a,c)=>a.startsWith("**")&&a.endsWith("**")?s.jsx("strong",{className:n,children:a.slice(2,-2)},`${t}-bold-${c}`):s.jsx("span",{children:a},`${t}-text-${c}`)),Vo=(e,t={})=>{const n={...o9,...t};return e.split(/\n{2,}/).map((i,a)=>{const c=i.split(`
`).filter(Boolean);return c.length>1&&c.every(u=>/^[-*]\s+/.test(u.trim()))?s.jsx("ul",{className:n.listClassName,children:c.map((u,f)=>{const p=u.replace(/^[-*]\s+/,"");return s.jsx("li",{children:d1(p,`li-${a}-${f}`,n.boldClassName)},`li-${a}-${f}`)})},`section-${a}`):s.jsx("p",{className:n.paragraphClassName,children:d1(i,`p-${a}`,n.boldClassName)},`section-${a}`)})},a9=e=>e.replace(/\[EN\]/gi,"").replace(/\[KR\]/gi,"").replace(/[ ]{2,}/g," ").trim();function l9({analysis:e}){const[t,n]=g.useState(new Set([0])),[r,i]=g.useState(!0);if(!e)return null;const a=p=>{const m=p.match(/\[ \]([\s\S]*?)(?=\[ \]|$)/i);if(!m)return null;const y=m[1].trim(),v={material:"",subject:"",mainPoint:"",threeLine:[],background:""},w=y.match(/:\s*(.+?)(?=\n:|$)/i);w&&(v.material=w[1].trim());const j=y.match(/:\s*([\s\S]*?)(?=\n3 :|$)/i);j&&(v.mainPoint=j[1].trim());const S=y.match(/3 :([\s\S]*?)(?=\n:|$)/i);if(S){const C=S[1].split(`
`).map(_=>_.trim()).filter(_=>_.startsWith("-")||_.startsWith("")).map(_=>_.replace(/^[-]\s*/,"").trim()).filter(Boolean);v.threeLine=C}const N=y.match(/:\s*(.+?)(?=\n:|$)/i);N&&(v.subject=N[1].trim());const E=y.match(/:\s*([\s\S]+?)$/i);return E&&(v.background=E[1].trim()),v},c=p=>{const m=[],y=p.match(/\[ \]([\s\S]*?)$/i);return(y?y[1]:p).replace(/\*\*/g,"").replace(/\*/g,"").replace(/^#+\s+/gm,"").trim().split(/(?=|||||||||)/).forEach(S=>{if(!S.trim())return;const N=S.trim().split(`
`).map(I=>I.trim()).filter(Boolean);if(N.length<1)return;const E=N[0].match(/^(|||||||||)/);if(!E)return;const _={number:{"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10"}[E[1]]||E[1],english:"",translation:"",paraphrase:"",summary:""};let T="";N.forEach((I,M)=>{if(!(M===0&&I.startsWith(_.number))){if(I.includes("[EN]")||I.startsWith("[EN]")){T="english";const F=I.replace(/\[EN\]/gi,"").trim();F&&(_.english+=(_.english?" ":"")+F)}else if(I.includes("[KR]")||I.startsWith("[KR]")){T="translation";const F=I.replace(/\[KR\]/gi,"").trim();F&&(_.translation+=(_.translation?" ":"")+F)}else if(I.startsWith("=>")||I.startsWith("")){T="paraphrase";const F=I.replace(/^[=>]+\s*/,"").trim();F&&(_.paraphrase+=(_.paraphrase?" ":"")+F)}else if(I.includes("  ")||I.includes(":")){T="summary";const F=I.replace(/.*  :\s*/i,"").replace(/.*:\s*/i,"").replace(/^[()]+/,"").replace(/[()]+$/,"").trim();F&&(_.summary+=(_.summary?" ":"")+F)}else if(T&&I.trim()){const F=I.trim();T==="english"?_.english+=" "+F:T==="translation"?_.translation+=" "+F:T==="paraphrase"?_.paraphrase+=" "+F:T==="summary"&&(_.summary+=" "+F)}}}),_.english=_.english.replace(/\s+/g," ").trim(),_.translation=_.translation.replace(/\s+/g," ").trim(),_.paraphrase=_.paraphrase.replace(/\s+/g," ").trim(),_.summary=_.summary.replace(/\s+/g," ").trim(),_.english&&m.push(_)}),m},d=a(e),u=c(e),f=p=>{const m=new Set(t);m.has(p)?m.delete(p):m.add(p),n(m)};return u.length===0&&!d?s.jsxs("div",{className:"bg-white rounded-2xl border border-blue-100 p-4 space-y-2",children:[s.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-2",children:" "}),s.jsx("div",{className:"space-y-2",children:Vo(a9(e),{paragraphClassName:"text-sm text-gray-700 leading-relaxed mb-2 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-gray-700",boldClassName:"font-semibold text-[#491B6D]"})})]}):s.jsxs("div",{className:"bg-white rounded-2xl border border-blue-100 p-4 space-y-3",children:[s.jsx("h3",{className:"text-lg font-bold text-[#491B6D]",children:" "}),s.jsxs("div",{className:"space-y-3",children:[d&&s.jsxs(O.div,{layout:!0,className:"border border-purple-200 rounded-2xl bg-gradient-to-br from-purple-50 to-white shadow-sm overflow-hidden",children:[s.jsxs("button",{type:"button",onClick:()=>i(!r),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-purple-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{className:"text-sm font-bold text-gray-900",children:" "})]}),r?s.jsx(iu,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}):s.jsx(pr,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),s.jsx(ut,{children:r&&s.jsxs(O.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-4 pb-4 pt-2 space-y-3 bg-white",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-xs font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[s.jsx("span",{children:""}),"  & "]}),s.jsx("div",{className:"bg-purple-50 rounded-xl p-3 border border-purple-100",children:s.jsx("p",{className:"text-sm text-gray-800 leading-relaxed font-medium",children:d.material})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-xs font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[s.jsx("span",{children:""}),"  "]}),s.jsxs("div",{className:"bg-purple-50 rounded-xl p-3 border border-purple-100",children:[s.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:d.mainPoint}),d.threeLine.length>0&&s.jsx("ul",{className:"mt-2 space-y-1",children:d.threeLine.map((p,m)=>s.jsxs("li",{className:"text-sm text-gray-700 leading-relaxed flex items-start gap-2",children:[s.jsx("span",{className:"text-purple-500 flex-shrink-0",children:""}),s.jsx("span",{children:p})]},m))})]})]}),d.subject&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-xs font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[s.jsx("span",{children:""}),"  "]}),s.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-purple-50 border border-purple-200 p-3 rounded-xl",children:s.jsx("p",{className:"text-sm text-purple-900 leading-relaxed font-semibold",children:d.subject})})]}),d.background&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-xs font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[s.jsx("span",{children:""})," "]}),s.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-200 p-3 rounded-xl",children:s.jsx("p",{className:"text-sm text-indigo-900 leading-relaxed",children:d.background})})]})]})})]}),u.map((p,m)=>s.jsxs(O.div,{layout:!0,className:"border border-gray-200 rounded-2xl bg-white shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[s.jsxs("button",{type:"button",onClick:()=>f(m),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("span",{className:"w-8 h-8 bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED] text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0 shadow-sm",children:p.number}),s.jsx("p",{className:"text-sm text-gray-700 font-medium truncate",children:p.english})]}),t.has(m)?s.jsx(iu,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}):s.jsx(pr,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),s.jsx(ut,{children:t.has(m)&&s.jsxs(O.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-4 pb-4 pt-2 space-y-3 bg-gray-50",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-semibold text-[#7C3AED] uppercase tracking-wider",children:""}),s.jsxs("div",{className:"bg-white rounded-xl p-3 border border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-900 leading-relaxed font-medium whitespace-pre-line",children:p.english}),p.translation&&s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mt-2 whitespace-pre-line",children:p.translation})]})]}),p.paraphrase&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-semibold text-[#8B5CF6] uppercase tracking-wider",children:""}),s.jsx("div",{className:"bg-white rounded-xl p-3 border border-gray-200",children:Vo(p.paraphrase,{paragraphClassName:"text-sm text-gray-700 leading-relaxed mb-1 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-gray-700",boldClassName:"font-semibold text-[#7C3AED]"})})]}),p.summary&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-semibold text-[#D97706] uppercase tracking-wider",children:"  "}),s.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 p-3 rounded-xl",children:s.jsx("div",{className:"text-sm text-amber-900 leading-relaxed font-medium",children:Vo(p.summary,{paragraphClassName:"text-sm text-amber-900 leading-relaxed mb-1 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-amber-900",boldClassName:"font-bold text-amber-900"})})})]})]})})]},m))]})]})}function c9({explanation:e}){const[t,n]=g.useState(new Set([0,1,2]));if(!e)return null;const r={"":"1","":"2","":"3","":"4","":"5"},i=u=>u.split(`
`).map((f,p)=>{const y=f.trim().match(/^([])\s*(.*)/);if(y){const v=r[y[1]]||y[1];return s.jsx("div",{className:"mb-2 last:mb-0",children:s.jsxs("span",{className:"inline-flex items-start gap-2",children:[s.jsxs("span",{className:"flex-shrink-0 font-bold text-[#7C3AED] text-base",children:[v,"."]}),s.jsx("span",{className:"text-sm text-gray-700 leading-relaxed flex-1",children:y[2]})]})},p)}return s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed mb-2 last:mb-0",children:f},p)}).filter(f=>!(typeof f=="object"&&"props"in f&&f.props.children==="")),c=(u=>{const f=[],p=u.replace(/\*\*/g,"").replace(/\*/g,"").replace(/^#+\s+/gm,"").trim(),m=[/1\s*Step\s*1\)\s*\s*([\s\S]*?)(?=2|$)/i,/Step\s*1[:\)]\s*\s*([\s\S]*?)(?=Step\s*2|$)/i,/1\.\s*\s*([\s\S]*?)(?=2\.|$)/i,/\s*Step\s*1\s*\s*\s*([\s\S]*?)(?=\s*Step\s*2|$)/i];for(const w of m){const j=p.match(w);if(j){f.push({title:"Step 1:  ",content:j[1].trim(),icon:hr,color:"bg-red-500"});break}}const y=[/2\s*Step\s*2\)\s*\s*([\s\S]*?)(?=3|$)/i,/Step\s*2[:\)]\s*\s*([\s\S]*?)(?=Step\s*3|$)/i,/2\.\s*\s*([\s\S]*?)(?=3\.|$)/i,/\s*Step\s*2\s*\s*\s*([\s\S]*?)(?=\s*Step\s*3|$)/i];for(const w of y){const j=p.match(w);if(j){f.push({title:"Step 2:  ",content:j[1].trim(),icon:t0,color:"bg-yellow-500"});break}}const v=[/3\s*Step\s*3\)\s*\s*([\s\S]*?)$/i,/Step\s*3[:\)]\s*\s*([\s\S]*?)$/i,/3\.\s*\s*([\s\S]*?)$/i,/\s*Step\s*3\s*\s*\s*([\s\S]*?)$/i];for(const w of v){const j=p.match(w);if(j){const S=j[1].trim(),N=/[]/.test(S);f.push({title:"Step 3:  ",content:S,icon:Mn,color:"bg-green-500",hasCircledNumbers:N});break}}return f})(e),d=u=>{const f=new Set(t);f.has(u)?f.delete(u):f.add(u),n(f)};return c.length===0?s.jsxs("div",{className:"bg-white rounded-2xl border border-green-100 p-4",children:[s.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-3",children:" "}),s.jsx("div",{className:"space-y-2",children:Vo(e,{paragraphClassName:"text-sm text-gray-700 leading-relaxed mb-2 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-gray-700",boldClassName:"font-semibold text-[#166534]"})})]}):s.jsxs("div",{className:"bg-white rounded-2xl border border-green-100 p-4 space-y-3",children:[s.jsx("h3",{className:"text-lg font-bold text-[#491B6D]",children:" "}),s.jsx("div",{className:"space-y-3",children:c.map((u,f)=>(u.icon,s.jsxs(O.div,{layout:!0,className:"border border-gray-100 rounded-2xl shadow-sm overflow-hidden",children:[s.jsxs("button",{onClick:()=>d(f),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED] rounded-full flex items-center justify-center flex-shrink-0 shadow-sm",children:s.jsx("span",{className:"text-white font-bold text-sm",children:f+1})}),s.jsx("p",{className:"text-sm font-semibold text-gray-800",children:u.title})]}),t.has(f)?s.jsx(iu,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}):s.jsx(pr,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),s.jsx(ut,{children:t.has(f)&&s.jsx(O.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-4 pb-4 pt-2 bg-gray-50",children:s.jsx("div",{className:"bg-white rounded-xl p-3 border border-gray-200",children:u.hasCircledNumbers?i(u.content):Vo(u.content,{paragraphClassName:"text-sm text-gray-700 leading-relaxed mb-2 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-gray-700",boldClassName:"font-bold text-[#7C3AED]"})})})})]},f)))})]})}function R0(){const[e,t]=g.useState({}),n=m=>{t(y=>y[m.id]?y:{...y,[m.id]:m})},r=m=>{t(y=>{let v=!1;const w={...y};return m.forEach(j=>{w[j.id]||(w[j.id]=j,v=!0)}),v?w:y})},i=m=>{t(y=>{if(!y[m])return y;const v={...y};return delete v[m],v})},a=m=>{t(y=>{let v=!1;const w={...y};return m.forEach(j=>{w[j]&&(delete w[j],v=!0)}),v?w:y})},c=m=>{t(y=>{const v={...y};return v[m.id]?delete v[m.id]:v[m.id]=m,v})},d=()=>t({}),u=g.useMemo(()=>Object.values(e),[e]),f=u.length;return{selectedWords:u,count:f,addWord:n,addWords:r,removeWord:i,removeWords:a,toggleWord:c,clear:d,isSelected:m=>!!e[m]}}function d9({count:e,onReview:t,onClear:n,label:r=" "}){return s.jsx(ut,{children:e>0&&s.jsx(O.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{type:"spring",stiffness:260,damping:30},className:"fixed bottom-4 left-0 right-0 z-[100] px-4 pointer-events-none",children:s.jsx("div",{className:"mx-auto max-w-md pointer-events-auto",children:s.jsxs("div",{className:"bg-gradient-to-r from-[#5B21B6] to-[#7C3AED] text-white rounded-3xl shadow-xl border border-white/10 p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-2xl bg-white/20 flex items-center justify-center",children:s.jsx(hl,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm uppercase tracking-wide text-white/70",children:r}),s.jsxs("p",{className:"text-lg font-bold",children:[e,"  "]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:flex-shrink-0",children:[s.jsxs("button",{onClick:n,className:"px-3 py-2 rounded-2xl bg-white/10 hover:bg-white/20 transition-colors text-sm font-semibold flex items-center gap-1",children:[s.jsx(e0,{className:"w-4 h-4"}),""]}),s.jsx("button",{onClick:t,className:"px-4 py-2 rounded-2xl bg-white text-[#5B21B6] font-bold text-sm shadow-md hover:shadow-lg transition-all",children:" "})]})]})})})})}const u1=20,h1=3;function u9(e){return e.trim().replace(/\*\*/g,"").replace(/\*/g,"").replace(/__/g,"").replace(/_/g,"").replace(/~~(.*?)~~/g,"$1").replace(/`/g,"").replace(/\s+/g," ").trim()}async function f1(e,t,n){const r=e.map(f=>({word:u9(f.word)})),i=[];for(let f=0;f<r.length;f+=u1)i.push(r.slice(f,f+u1));const a=[];let c=0;n?.onProgress&&n.onProgress({current:0,total:i.length});const d=async(f,p,m=3)=>{for(let y=1;y<=m;y++)try{const v=await fetch(`https://${Je}.supabase.co/functions/v1/server/generate-vocabulary-batch`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({words:f})}),w=await v.json();if(!v.ok)throw new Error(w?.error||` ${p+1}  `);const j=Array.isArray(w.results)?w.results:Array.isArray(w.data)?w.data:[];if(w.success===!1||j.length===0)throw new Error(w?.error||` ${p+1} AI  `);return{index:p,items:j}}catch(v){if(console.error(`  ${p+1}  ${y}/${m} :`,v),y<m)await new Promise(w=>setTimeout(w,2e3));else throw v}throw new Error(` ${p+1}   `)};for(let f=0;f<i.length;f+=h1){const p=i.slice(f,f+h1).map((y,v)=>d(y,f+v)),m=await Promise.all(p);a.push(...m),c+=m.length,n?.onProgress&&n.onProgress({current:c,total:i.length}),n?.onBatchUpdate&&n.onBatchUpdate(`  ... (${c}/${i.length} )`)}return a.sort((f,p)=>f.index-p.index),a.flatMap(f=>f.items)}const h9=Yn(),f9=()=>typeof globalThis.crypto<"u"&&typeof globalThis.crypto.randomUUID=="function"?globalThis.crypto.randomUUID():`vocab_${Date.now()}_${Math.random().toString(36).slice(2)}`,Bp=async()=>{const{data:{session:e}}=await h9.auth.getSession(),t=e?.access_token;if(!t)throw new Error(" .  .");return t};function D0({open:e,onClose:t,words:n,onRemoveWord:r,onClear:i,onActionComplete:a,currentVocabularyId:c,currentVocabularyTitle:d}){const[u,f]=g.useState("new"),[p,m]=g.useState(""),[y,v]=g.useState([]),[w,j]=g.useState(""),[S,N]=g.useState(!1),[E,C]=g.useState(!1),[_,T]=g.useState(null),I=g.useRef(null),M=g.useRef(null),F=n.length,U=()=>{E||t()},G=async()=>{N(!0);try{const L=await Bp(),$=await fetch(`https://${Je}.supabase.co/functions/v1/server/user-vocabularies`,{headers:{Authorization:`Bearer ${L}`}}),D=await $.json();if(!$.ok)throw new Error(D.error||"   .");const P=Array.isArray(D)?D:Array.isArray(D.vocabularies)?D.vocabularies:[];v(P)}catch(L){console.error("   :",L),pe.error(L?.message||"   .")}finally{N(!1)}};g.useEffect(()=>{e&&(f("new"),c?(f("existing"),j(c)):j(""),G(),setTimeout(()=>{c?M.current?.focus():I.current?.focus()},100))},[e,c]),g.useEffect(()=>{e&&setTimeout(()=>{u==="new"?I.current?.focus():M.current?.focus()},50)},[u,e]);const se=g.useMemo(()=>u==="new"?"  ":"  ",[u]),ae=g.useMemo(()=>{const L=[...y];if(c&&d)if(!L.some(D=>D.id===c))L.unshift({id:c,title:`${d} ( )`,total_words:void 0});else{const D=L.findIndex(P=>P.id===c);if(D!==-1){L[D]={...L[D],title:`${L[D].title} ( )`};const[P]=L.splice(D,1);L.unshift(P)}}return L},[y,c,d]),oe=async()=>{if(F===0){pe.error("  .");return}if(!p.trim()){pe.error("  .");return}try{C(!0),pe.loading("   ...",{id:"word-basket-action"});const L=await Bp(),$=await f1(n.map(R=>({word:R.word})),L,{onProgress:R=>T(R),onBatchUpdate:R=>pe.loading(R,{id:"word-basket-action"})});if($.length===0)throw new Error("  .");pe.loading("   ...",{id:"word-basket-action"});const D=await fetch(`https://${Je}.supabase.co/functions/v1/server/save-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({vocabularyId:f9(),title:p.trim(),category:"My Own",level:"Custom",words:$})}),P=await D.json();if(!D.ok)throw new Error(P.error||"  .");pe.success("  ! ",{id:"word-basket-action"}),a?.(),i(),U()}catch(L){console.error("  :",L),pe.error(L?.message||"  .",{id:"word-basket-action"})}finally{C(!1),T(null)}},ee=async()=>{if(F===0){pe.error("  .");return}if(!w){pe.error("  .");return}try{C(!0),pe.loading("   ...",{id:"word-basket-action"});const L=await Bp(),$=await f1(n.map(R=>({word:R.word})),L,{onProgress:R=>T(R),onBatchUpdate:R=>pe.loading(R,{id:"word-basket-action"})});if($.length===0)throw new Error("  .");pe.loading("   ...",{id:"word-basket-action"});const D=await fetch(`https://${Je}.supabase.co/functions/v1/server/add-words-to-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({vocabularyId:w,words:$})}),P=await D.json();if(!D.ok)throw new Error(P.error||"  .");pe.success("  !",{id:"word-basket-action"}),a?.(),i(),U()}catch(L){console.error("  :",L),pe.error(L?.message||"  .",{id:"word-basket-action"})}finally{C(!1),T(null)}};return s.jsx(ut,{children:e&&s.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-center justify-center px-4 py-6",children:s.jsxs(O.div,{initial:{y:40,opacity:0},animate:{y:0,opacity:1},exit:{y:40,opacity:0},className:"w-full max-w-2xl max-h-[90vh] bg-white rounded-3xl shadow-2xl border border-gray-100 overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-[#F5F3FF] to-white",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs uppercase tracking-wide text-[#7C3AED] font-semibold",children:[F,"  "]}),s.jsx("h2",{className:"text-xl font-bold text-[#1F1D2B]",children:se})]}),s.jsx("button",{onClick:U,className:"w-10 h-10 rounded-full bg-white shadow-sm border border-gray-100 flex items-center justify-center",children:s.jsx(yn,{className:"w-5 h-5 text-gray-600"})})]}),s.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:()=>f("new"),className:`p-3 rounded-2xl border flex items-center gap-2 text-sm font-semibold ${u==="new"?"border-[#7C3AED] bg-[#F5F3FF] text-[#5B21B6]":"border-gray-200 text-gray-500"}`,children:[s.jsx(nS,{className:"w-4 h-4"})," "]}),s.jsxs("button",{onClick:()=>f("existing"),className:`p-3 rounded-2xl border flex items-center gap-2 text-sm font-semibold ${u==="existing"?"border-[#7C3AED] bg-[#F5F3FF] text-[#5B21B6]":"border-gray-200 text-gray-500"}`,children:[s.jsx(AR,{className:"w-4 h-4"})," "]})]}),s.jsx("div",{className:"space-y-4",children:u==="new"?s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:" "}),s.jsx("input",{ref:I,type:"text",value:p,onChange:L=>m(L.target.value),placeholder:": 2025-11-17  ",className:"w-full rounded-2xl border border-gray-200 px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-[#C4B5FD]"})]}):s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500 mb-2 block",children:"  "}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{ref:M,value:w,onChange:L=>j(L.target.value),className:"w-full appearance-none rounded-2xl border border-gray-200 px-4 py-2.5 pr-10 focus:outline-none focus:ring-2 focus:ring-[#C4B5FD]",children:[s.jsx("option",{value:"",children:" "}),ae.map(L=>s.jsxs("option",{value:L.id,children:[L.title,L.total_words!==void 0?` (${L.total_words})`:""]},L.id))]}),s.jsx(pr,{className:"w-4 h-4 text-gray-500 absolute right-4 top-1/2 -translate-y-1/2"})]}),S&&s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"  ..."}),!S&&ae.length===0&&s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"   ."})]})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-400 mb-2",children:" "}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:n.map(L=>s.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-gray-100 bg-gray-50 px-4 py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-[#1F1D2B]",children:L.word}),s.jsx("p",{className:"text-xs text-gray-500",children:L.meaning}),L.source&&s.jsx("p",{className:"text-[10px] text-[#7C3AED] mt-0.5",children:L.source})]}),s.jsx("button",{onClick:()=>r(L.id),className:"text-xs text-gray-500 hover:text-[#DC2626]",children:""})]},L.id))})]})]}),s.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 bg-white",children:[s.jsx("button",{onClick:i,className:"text-sm text-gray-500 hover:text-[#7C3AED]",disabled:E,children:"  "}),s.jsxs("button",{onClick:u==="new"?oe:ee,disabled:E,className:"w-full sm:w-auto px-6 py-3 rounded-2xl bg-gradient-to-r from-[#5B21B6] to-[#7C3AED] text-white font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[E&&s.jsx(Am,{className:"w-4 h-4 animate-spin"}),u==="new"?"  ":" "]})]})]})})})}const p1=Yn(),Qa=60,p9=`https://${Je}.supabase.co/functions/v1/text-analyzer/analyze`,m1=3,m9=1500,g9=e=>new Promise(t=>setTimeout(t,e)),x9=e=>{if(!e?.length)return;const t=new Set,n=[];for(const r of e){const i=r.word?.trim();if(!i)continue;const a=i.toLowerCase();t.has(a)||(t.add(a),n.push({word:i,pos:r.pos?.trim()||"",meaning:r.meaning?.trim()||"",level:r.level?.trim()||""}))}return n.length?n:void 0},g1=e=>{if(!e)return;const t=e.replace(/\r/g,"").split(`
`),n=[];let r=!1;for(const a of t){const c=a.trim().replace(/[ ]{2,}/g," ");if(!c){n.length>0&&!r&&(r=!0);continue}r&&(n.push(""),r=!1),n.push(c)}return n.join(`
`).replace(/\n{3,}/g,`

`).trim()||void 0},y9=e=>e.replace(/\r/g,"").replace(/[ \t]{2,}/g," ").replace(/\n{3,}/g,`

`).split(`
`).map(t=>t.trimEnd()).join(`
`).trim(),$p=e=>({vocabulary:x9(e.vocabulary),analysis:g1(e.analysis),explanation:g1(e.explanation)}),zp=(e,t,n,r)=>({text:e,options:t,answerKey:n.trim(),...r&&{questionType:r}}),v9=async(e,t)=>{const n=await fetch(p9,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)}),r=await n.json();if(!n.ok)throw new Error(r.error||"  ");return r},Wp=async(e,t)=>{let n=null;for(let r=1;r<=m1;r++)try{return await v9(e,t)}catch(i){if(n=i instanceof Error?i:new Error(String(i)),r<m1){await g9(m9);continue}throw n}throw n??new Error("  ")};function w9({onBack:e,onNavigateToTutor:t}){const[n,r]=g.useState([]),[i,a]=g.useState(()=>localStorage.getItem("textExtractorInput")||""),[c,d]=g.useState(""),[u,f]=g.useState("blank"),[p,m]=g.useState(!1),[y,v]=g.useState(!1),[w,j]=g.useState(()=>{const H=localStorage.getItem("textExtractorResults");return H?JSON.parse(H):null}),S=g.useRef(null),N=H=>{a(H),localStorage.setItem("textExtractorInput",H)};g.useEffect(()=>{w&&localStorage.setItem("textExtractorResults",JSON.stringify(w))},[w]);const{selectedWords:E,count:C,toggleWord:_,addWords:T,removeWords:I,removeWord:M,clear:F,isSelected:U}=R0(),[G,se]=g.useState(!1),[ae,oe]=g.useState(null),[ee,L]=g.useState(!1),[$,D]=g.useState("");g.useEffect(()=>{const H=document.createElement("div");return H.id="print-portal-container",document.body.appendChild(H),oe(H),()=>{document.body.removeChild(H)}},[]),g.useEffect(()=>{ee&&setTimeout(()=>{S.current?.focus()},200)},[ee]);const P=[{id:"word",label:"",sublabel:"Word",icon:ds},{id:"translation",label:"",sublabel:"Translation",icon:lS},{id:"explanation",label:"",sublabel:"Explanation",icon:iS}],R=H=>{r(Z=>Z.includes(H)?Z.filter(Q=>Q!==H):[...Z,H])},q=H=>new Promise((Z,Q)=>{const te=new FileReader;te.readAsDataURL(H),te.onload=()=>{const le=te.result.split(",")[1];Z(le)},te.onerror=Q}),B=()=>{const H=document.createElement("input");H.type="file",H.accept="image/*",H.onchange=async Z=>{const Q=Z.target?.files?.[0];if(Q){v(!0);try{const{data:{session:te}}=await p1.auth.getSession(),he=te?.access_token;if(!he){pe.error(" .");return}const le=await q(Q),Ne=await fetch(`https://${Je}.supabase.co/functions/v1/text-analyzer/ocr`,{method:"POST",headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"},body:JSON.stringify({image:le})}),ke=await Ne.json();if(!Ne.ok)throw new Error(ke.error||"OCR  ");ke.text?(N(ke.text),pe.success("  .")):pe.error("    .")}catch(te){console.error("OCR error:",te),pe.error(te.message||"OCR    .")}finally{v(!1)}}},H.click()},W=async()=>{if(!i.trim()||n.length===0){pe.error("  .");return}m(!0),j(null),localStorage.removeItem("textExtractorResults");try{const{data:{session:H}}=await p1.auth.getSession(),Z=H?.access_token;if(!Z){pe.error(" .");return}pe.loading("AI  ...",{id:"analysis-progress"});const Q=n.includes("word"),te=n.includes("translation"),he=n.includes("explanation"),le=[];if(Q){const Ne=(async()=>{try{const ke=zp(i,{vocabulary:!0,analysis:!1,explanation:!1},c),tt=await Wp(Z,ke),nt=$p(tt);j(We=>({...We,vocabulary:nt.vocabulary}))}catch(ke){console.error("Vocabulary extraction error:",ke)}})();le.push(Ne)}if(te){const Ne=(async()=>{try{const ke=zp(i,{vocabulary:!1,analysis:!0,explanation:!1},c),tt=await Wp(Z,ke),nt=$p(tt);j(We=>({...We,analysis:nt.analysis}))}catch(ke){console.error("Text analysis error:",ke)}})();le.push(Ne)}if(he){const Ne=(async()=>{try{const ke=zp(i,{vocabulary:!1,analysis:!1,explanation:!0},c,u),tt=await Wp(Z,ke),nt=$p(tt);j(We=>({...We,explanation:nt.explanation}))}catch(ke){console.error("Explanation error:",ke)}})();le.push(Ne)}await Promise.all(le),pe.success(" !",{id:"analysis-progress"})}catch(H){console.error("Analysis error:",H),pe.error(H.message||"   .",{id:"analysis-progress"})}finally{m(!1)}},z=()=>{j(null),N(""),localStorage.removeItem("textExtractorResults"),localStorage.removeItem("textExtractorInput"),pe.info("  .")},X=()=>{if(!$.trim()){pe.error(" .");return}if(!t){pe.error("AI     .");return}let H=`[Passage Extractor  ]

`;H+=`:
${i}

`,c&&(H+=`: ${c}

`),w?.vocabulary&&w.vocabulary.length>0&&(H+=` :
`,w.vocabulary.forEach(Z=>{H+=`- ${Z.word}: ${Z.meaning}
`}),H+=`
`),w?.analysis&&(H+=` :
${w.analysis}

`),w?.explanation&&(H+=` :
${w.explanation}

`),H+=` : ${$}`,console.log("Navigating to AI Tutor:",{question:$,hasContext:!!H}),t($,H),L(!1),D("")};return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:`
        @media print {
          @page {
            margin: 1.5cm;
          }

          /* Hide entire app */
          body > #root {
            display: none !important;
          }

          /* Show only print portal */
          #print-portal-container {
            display: block !important;
          }
        }

        /* Hide print portal by default */
        #print-portal-container {
          display: none;
        }

        @media screen {
          #print-portal-container {
            display: none !important;
          }
        }
      `}),ae&&w&&_r.createPortal(s.jsxs("div",{style:{padding:"20px",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"9pt",lineHeight:"1.6"},children:[s.jsxs("div",{style:{marginBottom:"20px",borderBottom:"2px solid #000",paddingBottom:"10px",display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[s.jsx("h1",{style:{fontSize:"18pt",margin:0,fontWeight:"bold"},children:"Passage Extractor "}),s.jsx("div",{style:{fontSize:"9pt",color:"#666"},children:new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})})]}),i&&s.jsxs("div",{style:{marginBottom:"25px",padding:"15px",backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"8px"},children:[s.jsx("h2",{style:{fontSize:"12pt",marginBottom:"10px",fontWeight:"bold",color:"#491B6D"},children:" "}),s.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6",fontSize:"9pt",color:"#000"},children:y9(i)}),c&&s.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px dashed #dee2e6"},children:[s.jsx("span",{style:{fontWeight:"bold",fontSize:"9pt",color:"#000"},children:": "}),s.jsx("span",{style:{fontSize:"9pt",color:"#dc3545"},children:c})]})]}),w.vocabulary&&w.vocabulary.length>0&&s.jsxs("div",{style:{marginBottom:"25px",pageBreakInside:"avoid"},children:[s.jsx("h2",{style:{fontSize:"12pt",marginBottom:"10px",fontWeight:"bold",color:"#491B6D"},children:" "}),s.jsx("div",{style:{columnCount:2,columnGap:"20px"},children:w.vocabulary.map((H,Z)=>s.jsxs("div",{style:{marginBottom:"6px",breakInside:"avoid",color:"#000",display:"flex"},children:[s.jsx("span",{style:{fontWeight:"bold",minWidth:"120px",flexShrink:0},children:H.word}),s.jsx("span",{children:H.meaning})]},Z))})]}),w.analysis&&s.jsxs("div",{style:{marginBottom:"25px",pageBreakInside:"avoid"},children:[s.jsx("h2",{style:{fontSize:"12pt",marginBottom:"10px",fontWeight:"bold",color:"#491B6D"},children:" "}),s.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6",fontSize:"9pt",columnCount:2,columnGap:"20px",color:"#000"},children:w.analysis})]}),w.explanation&&s.jsxs("div",{style:{marginBottom:"25px",pageBreakInside:"avoid"},children:[s.jsx("h2",{style:{fontSize:"12pt",marginBottom:"10px",fontWeight:"bold",color:"#491B6D"},children:" "}),s.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6",fontSize:"9pt",columnCount:2,columnGap:"20px",color:"#000"},children:w.explanation})]})]}),ae),s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx(Gl,{onBack:e,title:"Passage Extractor",subtitle:" ,  ,   ",rightElement:w?s.jsx(O.button,{whileTap:{scale:.95},onClick:z,className:"w-11 h-11 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/40",style:{minWidth:"44px",minHeight:"44px"},children:s.jsx(ql,{className:"w-5 h-5 text-[#491B6D]"})}):void 0}),s.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-4 pb-8",children:s.jsxs("div",{className:"pt-2",children:[s.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4 passage-extractor-no-print",children:P.map(H=>{const Z=H.icon,Q=n.includes(H.id);return s.jsxs(O.button,{whileTap:{scale:.95},onClick:()=>R(H.id),className:"relative bg-white/90 border border-gray-200 p-3 shadow-sm transition-all rounded-2xl",children:[Q&&s.jsx("div",{className:"absolute top-1.5 right-1.5 w-4 h-4 bg-[#491B6D] rounded-full flex items-center justify-center",children:s.jsx(Hl,{className:"w-2.5 h-2.5 text-white",strokeWidth:3})}),s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center ${Q?"bg-[#491B6D]":"bg-[#491B6D]/10"}`,children:s.jsx(Z,{className:`w-5 h-5 ${Q?"text-white":"text-[#491B6D]"}`})})}),s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"text-[#091A7A]",style:{fontSize:"13px",fontWeight:600},children:H.label})})]},H.id)})}),s.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/95 backdrop-blur-xl border border-white/50 p-6 shadow-xl rounded-3xl passage-extractor-no-print",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 passage-extractor-no-print",children:[s.jsx("h2",{className:"text-[#091A7A] no-print",style:{fontSize:"16px",fontWeight:700},children:" "}),s.jsx(O.button,{whileTap:{scale:.95},onClick:B,disabled:y,className:"w-10 h-10 bg-[#491B6D]/10 flex items-center justify-center rounded-[12px]",children:y?s.jsx(Am,{className:"w-5 h-5 text-[#491B6D] animate-spin"}):s.jsx(rR,{className:"w-5 h-5 text-[#491B6D]"})})]}),s.jsx("textarea",{value:i,onChange:H=>N(H.target.value),placeholder:"   ...",className:"w-full h-64 p-4 bg-[#F9FAFB] border border-gray-200 focus:border-[#491B6D] focus:outline-none resize-none text-[#374151] transition-colors rounded-md",style:{fontSize:"14px",fontWeight:400,lineHeight:"1.6"}}),n.includes("explanation")&&s.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-[#091A7A] mb-2",children:" ()"}),s.jsx("input",{type:"text",value:c,onChange:H=>d(H.target.value),placeholder:":   resilient",className:"w-full p-3 bg-[#F9FAFB] border border-gray-200 focus:border-[#491B6D] focus:outline-none text-[#374151] transition-colors rounded-md",style:{fontSize:"14px"}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-[#091A7A] mb-2",children:" "}),s.jsxs("select",{value:u,onChange:H=>f(H.target.value),className:"w-full p-3 bg-[#F9FAFB] border border-gray-200 focus:border-[#491B6D] focus:outline-none text-[#374151] transition-colors rounded-md",style:{fontSize:"14px"},children:[s.jsx("option",{value:"blank",children:" & "}),s.jsx("option",{value:"main_idea",children:" (///)"}),s.jsx("option",{value:"matching",children:" (/)"}),s.jsx("option",{value:"order",children:" "}),s.jsx("option",{value:"insertion",children:" "}),s.jsx("option",{value:"irrelevant",children:"  "}),s.jsx("option",{value:"other",children:""})]})]})]})]}),s.jsx(O.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},whileTap:{scale:.98},onClick:W,disabled:!i.trim()||n.length===0||p,className:`w-full p-5 shadow-lg transition-all mt-4 rounded-2xl passage-extractor-no-print ${i.trim()&&n.length>0&&!p?"bg-gradient-to-r from-[#491B6D] to-[#5E2278] opacity-100":"bg-gray-300 opacity-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p?s.jsx(Am,{className:"w-5 h-5 text-white animate-spin"}):s.jsx(ur,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-white",style:{fontSize:"16px",fontWeight:600},children:p?"AI  ...":"  "})]})}),w&&s.jsxs(O.div,{id:"passage-extractor-print-content",initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-4",children:[w.vocabulary&&w.vocabulary.length>0&&s.jsx(i9,{vocabulary:w.vocabulary,onToggleWord:H=>{const Z=U(H.id);if(!Z&&C>=Qa){pe.error(`  ${Qa}   .`);return}_(H),pe[Z?"info":"success"](Z?" .":" .",{duration:1500})},onSelectAll:H=>{if(C>=Qa){pe.error(`  ${Qa}   .`);return}const Z=H.filter(he=>!U(he.id));if(Z.length===0){pe.info("   .");return}const Q=Qa-C,te=Z.slice(0,Q);T(te),pe.success(`${te.length}   .`)},onDeselectAll:H=>{I(H),pe.info("   .")},isWordSelected:U,onAddToVocabulary:H=>{T(H),se(!0)}}),w.analysis&&s.jsx(l9,{analysis:w.analysis}),w.explanation&&s.jsx(c9,{explanation:w.explanation}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 passage-extractor-no-print",children:[s.jsx(O.button,{whileTap:{scale:.98},onClick:()=>window.print(),className:"p-4 bg-white border border-gray-200 rounded-2xl shadow-sm hover:shadow-md transition-all",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(cS,{className:"w-5 h-5 text-[#491B6D]"}),s.jsx("span",{className:"text-[#491B6D] font-semibold text-sm",children:""})]})}),s.jsx(O.button,{whileTap:{scale:.98},onClick:()=>L(!0),className:"p-4 bg-gradient-to-r from-[#491B6D] to-[#5E2278] rounded-2xl shadow-sm hover:shadow-md transition-all",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(c6,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-white font-semibold text-sm",children:" "})]})})]})]})]})}),s.jsx(d9,{count:C,onReview:()=>se(!0),onClear:()=>{C>0&&(F(),pe.info("  ."))}}),s.jsx(D0,{open:G,onClose:()=>se(!1),words:E,onRemoveWord:M,onClear:F,onActionComplete:async()=>{se(!1);const{invalidateVocabularyListCache:H}=await Fr(async()=>{const{invalidateVocabularyListCache:Z}=await Promise.resolve().then(()=>P0);return{invalidateVocabularyListCache:Z}},[]);H()}}),s.jsx(ut,{children:ee&&s.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:()=>L(!1),children:s.jsxs(O.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:H=>H.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl w-full max-w-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-bold text-[#491B6D]",children:" "}),s.jsx("button",{onClick:()=>L(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",children:s.jsx(yn,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"     AI  ."}),s.jsx("textarea",{ref:S,value:$,onChange:H=>D(H.target.value),placeholder:": 3       ",className:"w-full p-4 border border-gray-200 rounded-2xl focus:border-[#491B6D] focus:outline-none resize-none min-h-[120px] text-sm",onKeyDown:H=>{H.key==="Enter"&&(H.metaKey||H.ctrlKey)&&X()}}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>L(!1),className:"flex-1 p-3 border border-gray-200 rounded-2xl text-gray-700 font-semibold hover:bg-gray-50 transition-colors",children:""}),s.jsx("button",{onClick:X,disabled:!$.trim(),className:"flex-1 p-3 bg-gradient-to-r from-[#491B6D] to-[#5E2278] rounded-2xl text-white font-semibold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"AI  "})]})]})})})]})]})}function b9({words:e,onWordCleared:t,onClose:n,onGameComplete:r}){const[a,c]=g.useState([]),[d,u]=g.useState(0),[f,p]=g.useState([]),[m,y]=g.useState(0),[v,w]=g.useState(!1),[j,S]=g.useState(!1),[N,E]=g.useState(!1);g.useEffect(()=>{if(e.length>0&&a.length===0){const ee=[];e.forEach($=>{ee.push({id:`${$.id}-word`,wordId:$.id,content:$.word,type:"word",isFlipped:!1,isMatched:!1}),ee.push({id:`${$.id}-meaning`,wordId:$.id,content:$.meaning,type:"meaning",isFlipped:!1,isMatched:!1})});const L=ee.sort(()=>Math.random()-.5);c(L)}},[e,a.length]);const C=Math.ceil(e.length/8),_=d*8*2,T=_+16,I=a.slice(_,T),M=ee=>{if(v)return;const L=I.find($=>$.id===ee);if(!(!L||L.isFlipped||L.isMatched)&&!(f.length>=2)&&(c($=>$.map(D=>D.id===ee?{...D,isFlipped:!0}:D)),p($=>[...$,ee]),f.length===1)){w(!0),y(P=>P+1);const $=f[0],D=I.find(P=>P.id===$);D&&D.wordId===L.wordId&&D.type!==L.type?setTimeout(()=>{if(c(R=>R.map(q=>q.wordId===L.wordId?{...q,isMatched:!0,isFlipped:!1}:q)),t(L.wordId),p([]),w(!1),I.filter(R=>!R.isMatched&&R.wordId!==L.wordId).length===0){const R=d<C-1;setTimeout(R?()=>{E(!0)}:()=>{S(!0),r&&r()},500)}},600):setTimeout(()=>{c(P=>P.map(R=>R.id===$||R.id===ee?{...R,isFlipped:!1}:R)),p([]),w(!1)},1e3)}},F=()=>{u(ee=>ee+1),E(!1),y(0)},U=()=>{c(ee=>ee.map(L=>({...L,isFlipped:!1,isMatched:!1}))),p([]),y(0),S(!1),E(!1),u(0),w(!1)},G=I.filter(ee=>ee.isMatched).length/2,se=e.length,ae=d+1,oe=Math.min(8,e.length-d*8);return s.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-gradient-to-br from-red-50 to-red-100 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/80 backdrop-blur-sm border-b border-red-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-red-900",children:"  "}),s.jsx("p",{className:"text-xs text-red-600",children:"  !"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O.button,{whileTap:{scale:.95},onClick:U,className:"p-2 bg-red-100 rounded-lg",children:s.jsx(ql,{className:"w-5 h-5 text-red-600"})}),s.jsx(O.button,{whileTap:{scale:.95},onClick:n,className:"p-2 bg-red-100 rounded-lg",children:s.jsx(yn,{className:"w-5 h-5 text-red-600"})})]})]}),s.jsxs("div",{className:"flex justify-center gap-6 p-3 bg-white/60",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-red-500 font-medium",children:""}),s.jsxs("p",{className:"text-lg font-bold text-red-700",children:[ae,"/",C]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-red-500 font-medium",children:" "}),s.jsxs("p",{className:"text-lg font-bold text-red-700",children:[G,"/",oe]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-red-500 font-medium",children:" "}),s.jsx("p",{className:"text-lg font-bold text-red-700",children:m})]})]}),s.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:s.jsx("div",{className:"grid gap-3 max-w-4xl mx-auto",style:{gridTemplateColumns:"repeat(4, 1fr)",gridAutoRows:"minmax(80px, auto)"},children:I.map(ee=>s.jsx(O.div,{initial:{scale:0,rotateY:180},animate:{scale:1,rotateY:0},transition:{type:"spring",stiffness:300,damping:25},onClick:()=>!ee.isMatched&&M(ee.id),className:ee.isMatched?"pointer-events-none":"cursor-pointer",style:{perspective:"1000px"},children:s.jsxs(O.div,{animate:{rotateY:ee.isFlipped||ee.isMatched?180:0},transition:{duration:.4},className:"relative w-full h-full min-h-[80px]",style:{transformStyle:"preserve-3d"},children:[s.jsx("div",{className:`absolute inset-0 rounded-xl flex items-center justify-center ${ee.type==="word"?"bg-gradient-to-br from-rose-400 to-red-500 shadow-md":"bg-gradient-to-br from-rose-200 to-red-300 shadow-sm"}`,style:{backfaceVisibility:"hidden"},children:s.jsx("span",{className:"text-xl",children:""})}),s.jsx("div",{className:`absolute inset-0 rounded-xl flex items-center justify-center p-2 border ${ee.isMatched?"bg-gradient-to-br from-green-50 to-emerald-100 border-green-300 shadow-md":ee.type==="word"?"bg-gradient-to-br from-white to-rose-50 border-rose-200 shadow-md":"bg-gradient-to-br from-rose-50 to-pink-50 border-rose-100 shadow-sm"}`,style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:s.jsx("p",{className:`text-center font-medium ${ee.isMatched?"text-green-700 font-bold":ee.type==="word"?"text-red-700 font-semibold":"text-rose-600"}`,style:{fontSize:ee.content.length>15?"10px":ee.content.length>12?"11px":"13px",wordBreak:"break-word",lineHeight:1.2},children:ee.content})})]})},ee.id))})}),s.jsx(ut,{children:N&&s.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 flex items-center justify-center z-60",children:s.jsxs(O.div,{initial:{scale:.5,y:50},animate:{scale:1,y:0},exit:{scale:.5,y:50},className:"bg-white rounded-2xl p-8 mx-4 text-center shadow-2xl",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:[" ",ae," !"]}),s.jsxs("p",{className:"text-gray-600 mb-1",children:[oe,"  "]}),s.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["   (",ae,"/",C,")"]}),s.jsx(O.button,{whileTap:{scale:.95},onClick:F,className:"w-full px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl font-semibold",children:"   "})]})})}),s.jsx(ut,{children:j&&s.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 flex items-center justify-center z-60",children:s.jsxs(O.div,{initial:{scale:.5,y:50},animate:{scale:1,y:0},exit:{scale:.5,y:50},className:"bg-white rounded-2xl p-8 mx-4 text-center shadow-2xl",children:[s.jsx(us,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"! "}),s.jsx("p",{className:"text-gray-600 mb-1",children:"  !"}),s.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:[se,"  / ",m," "]}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx(O.button,{whileTap:{scale:.95},onClick:U,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-semibold",children:" "}),s.jsx(O.button,{whileTap:{scale:.95},onClick:n,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold",children:""})]})]})})})]})}const Ci={maxLives:3,zombieCount:4,zombieSpeed:.3,totalQuestions:10},ko={MIN_Y:10,MAX_Y:70,MIN_X:10,MAX_X:90},x1={CORRECT_ANSWER:100,WRONG_ANSWER:-50},Xd={BACKGROUND:"#0a1628",HEART_FULL:"#ef4444",HEART_EMPTY:"#4b5563"};function j9(e){const[t,n]=g.useState({currentWord:null,zombies:[],score:0,lives:Ci.maxLives,isGameOver:!1,isPaused:!1,questionNumber:0,totalQuestions:Ci.totalQuestions}),r=g.useRef(new Set),i=g.useRef(),a=g.useRef(()=>{}),c=()=>({x:ko.MIN_X+Math.random()*(ko.MAX_X-ko.MIN_X),y:ko.MIN_Y+Math.random()*(ko.MAX_Y-ko.MIN_Y)}),d=g.useCallback(()=>{e.length!==0&&n(m=>{const y=e.filter(N=>!r.current.has(N.id));if(y.length===0||m.questionNumber>=m.totalQuestions)return{...m,isGameOver:!0};const v=y[Math.floor(Math.random()*y.length)];r.current.add(v.id);const w=e.filter(N=>N.id!==v.id).sort(()=>Math.random()-.5).slice(0,Ci.zombieCount-1),S=[v,...w].sort(()=>Math.random()-.5).map((N,E)=>{const C=c();return{id:`zombie-${Date.now()}-${E}`,wordId:N.id,meaning:N.meaning,x:C.x,y:C.y,speed:Ci.zombieSpeed+Math.random()*.2,direction:Math.random()>.5?"down":"up",isCorrect:N.id===v.id}});return{...m,currentWord:v,zombies:S,questionNumber:m.questionNumber+1}})},[e]);g.useEffect(()=>{a.current=d},[d]);const u=g.useCallback(m=>{n(y=>{const v=y.zombies.find(w=>w.id===m);if(!v)return y;if(v.isCorrect)return setTimeout(()=>a.current(),500),{...y,score:y.score+x1.CORRECT_ANSWER};{const w=y.lives-1;return{...y,lives:w,score:Math.max(0,y.score+x1.WRONG_ANSWER),isGameOver:w<=0}}})},[]);g.useEffect(()=>()=>{i.current&&cancelAnimationFrame(i.current)},[t.isPaused,t.isGameOver]);const f=g.useCallback(()=>{r.current.clear(),n({currentWord:null,zombies:[],score:0,lives:Ci.maxLives,isGameOver:!1,isPaused:!1,questionNumber:0,totalQuestions:Math.min(Ci.totalQuestions,e.length)}),setTimeout(()=>{a.current()},100)},[e.length]),p=g.useCallback(()=>{n(m=>({...m,isPaused:!m.isPaused}))},[]);return{gameState:t,startGame:f,handleZombieClick:u,togglePause:p,generateNextQuestion:d}}const S9="/assets/KakaoTalk_Photo_2025-11-17-19-39-42-BXhh9LMP.png",N9="/assets/KakaoTalk_Photo_2025-11-17-19-39-46-CQctTSuR.png",k9="/assets/KakaoTalk_Photo_2025-11-17-19-39-49-BTLZm4LH.png",C9="/assets/KakaoTalk_Photo_2025-11-17-19-39-52-BzIwN0jb.png",y1=[S9,N9,k9,C9];function E9({zombie:e,onClick:t}){const n=Math.abs(e.id.split("").reduce((m,y)=>m+y.charCodeAt(0),0))%y1.length,r=y1[n],i=e.id.split("").reduce((m,y)=>m+y.charCodeAt(0),0),a=3+i%3,c=10+i%8,d=50+i%50,u=50+i%60,p=i*31%4;return s.jsxs(O.div,{"data-zombie-id":e.id,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{scale:{duration:.3}},onClick:()=>t(e.id),className:"absolute cursor-pointer select-none z-30",style:{left:`${e.x}%`,top:`${e.y}%`,transform:"translate(-50%, -50%)"},whileTap:{scale:.9},children:[s.jsxs("div",{className:"relative flex flex-col items-center",style:{animation:`ghostFloat-${e.id} ${a}s ease-in-out infinite, ghostDrift-${e.id} ${c}s ease-in-out infinite`,animationDelay:`${i%10*.1}s`},children:[s.jsx("div",{className:"relative",children:s.jsx("img",{src:r,alt:"ghost",className:"w-20 h-20 object-contain",style:{filter:"drop-shadow(0 0 10px rgba(100, 100, 100, 0.5))",animation:`ghostWobble-${e.id} ${2+i%2}s ease-in-out infinite`}})}),s.jsx("div",{className:"mt-1 px-3 py-1.5 bg-white/95 rounded-lg shadow-lg border border-gray-200",style:{maxWidth:"120px"},children:s.jsx("span",{className:"text-gray-800 font-semibold leading-tight block text-center",style:{fontSize:e.meaning.length>10?"10px":e.meaning.length>6?"11px":"12px"},children:e.meaning})})]}),s.jsx("style",{children:`
        @keyframes ghostFloat-${e.id} {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-15px); }
        }
        @keyframes ghostDrift-${e.id} {
          ${p===0?`
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(${d}px, -${u}px); }
            50% { transform: translate(-${d*.5}px, ${u}px); }
            75% { transform: translate(${d*.7}px, ${u*.5}px); }
          `:p===1?`
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(-${d}px, ${u}px); }
            50% { transform: translate(${d*.8}px, -${u*.6}px); }
            75% { transform: translate(-${d*.3}px, -${u*.8}px); }
          `:p===2?`
            0%, 100% { transform: translate(0, 0); }
            33% { transform: translate(${d*.9}px, ${u*.7}px); }
            66% { transform: translate(-${d*.6}px, -${u}px); }
          `:`
            0%, 100% { transform: translate(0, 0); }
            20% { transform: translate(-${d*.8}px, -${u*.5}px); }
            40% { transform: translate(${d*.4}px, ${u}px); }
            60% { transform: translate(${d}px, -${u*.3}px); }
            80% { transform: translate(-${d*.5}px, ${u*.6}px); }
          `}
        }
        @keyframes ghostWobble-${e.id} {
          0%, 100% { transform: rotate(-3deg); }
          50% { transform: rotate(3deg); }
        }
      `})]})}function _9({word:e}){return s.jsx(O.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:"text-center",children:s.jsx("div",{className:"inline-block px-8 py-4 rounded-lg",style:{background:"linear-gradient(135deg, #1e3a5f 0%, #0f172a 100%)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.5), 0 0 40px rgba(59, 130, 246, 0.2)",border:"2px solid rgba(59, 130, 246, 0.3)"},children:s.jsx("h1",{className:"text-white font-black tracking-wider",style:{fontSize:"36px",textShadow:"0 0 20px rgba(59, 130, 246, 0.5), 0 4px 8px rgba(0, 0, 0, 0.8)",fontFamily:"system-ui, -apple-system, sans-serif"},children:e})})})}function A9({lives:e,maxLives:t}){return s.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:t}).map((n,r)=>s.jsx(O.div,{initial:{scale:0},animate:{scale:1},transition:{delay:r*.1},children:s.jsx(_m,{className:"w-8 h-8",fill:r<e?Xd.HEART_FULL:"transparent",color:r<e?Xd.HEART_FULL:Xd.HEART_EMPTY,strokeWidth:2})},r))})}function T9({score:e,questionNumber:t,totalQuestions:n}){return s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-white",children:[s.jsx("span",{className:"text-sm opacity-70",children:"SCORE"}),s.jsx("div",{className:"text-2xl font-bold",children:e})]}),s.jsxs("div",{className:"text-white",children:[s.jsx("span",{className:"text-sm opacity-70",children:"QUESTION"}),s.jsxs("div",{className:"text-2xl font-bold",children:[t,"/",n]})]})]})}function P9(){return s.jsx(O.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:"relative",children:s.jsxs("div",{className:"w-10 h-16 relative",style:{background:"linear-gradient(180deg, #374151 0%, #1f2937 100%)",borderRadius:"4px 4px 2px 2px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.5)"},children:[s.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 w-2 h-4",style:{background:"linear-gradient(180deg, #4b5563 0%, #374151 100%)",borderRadius:"2px 2px 0 0"}}),s.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-6 h-8",style:{background:"linear-gradient(180deg, #1f2937 0%, #111827 100%)",borderRadius:"0 0 4px 4px"}})]})})}function oC({vocabularyWords:e,onBack:t,onBackToHome:n}){const{gameState:r,startGame:i,handleZombieClick:a,togglePause:c}=j9(e),[d,u]=g.useState([]),[f,p]=g.useState([]),m=g.useRef(null),y=g.useRef(null),v=g.useCallback((w,j)=>{const S=m.current?.getBoundingClientRect(),N=r.zombies.find(E=>E.id===w);if(S&&y.current&&N){const E=y.current.getBoundingClientRect(),C=`bullet-${Date.now()}`,_=`explosion-${Date.now()}`,T=E.left+E.width/2-S.left,I=E.top-S.top,M=j.clientX-S.left,F=j.clientY-S.top;u(U=>[...U,{id:C,startX:T,startY:I,endX:M,endY:F}]),setTimeout(()=>{p(U=>[...U,{id:_,x:M,y:F,isCorrect:N.isCorrect}]),setTimeout(()=>{p(U=>U.filter(G=>G.id!==_))},600)},250),setTimeout(()=>{u(U=>U.filter(G=>G.id!==C))},300)}a(w)},[a,r.zombies]);return g.useEffect(()=>{e.length>0&&i()},[]),g.useEffect(()=>{const w=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",()=>{document.body.style.overflow=w,document.documentElement.style.overflow=""}},[]),s.jsxs("div",{className:"h-screen w-full flex flex-col relative overflow-hidden",style:{background:Xd.BACKGROUND},children:[s.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none z-0",style:{background:"radial-gradient(ellipse at center, rgba(59, 130, 246, 0.1) 0%, transparent 70%)"}}),s.jsxs("div",{className:"relative z-20 flex items-center justify-between p-4",children:[s.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-sm",children:s.jsx(gs,{className:"w-5 h-5 text-white"})}),s.jsx(T9,{score:r.score,questionNumber:r.questionNumber,totalQuestions:r.totalQuestions}),s.jsx("button",{onClick:c,className:"w-10 h-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-sm",children:r.isPaused?s.jsx(Li,{className:"w-5 h-5 text-white"}):s.jsx(lu,{className:"w-5 h-5 text-white"})})]}),s.jsx("div",{className:"relative z-20 flex justify-center py-2",children:s.jsx(A9,{lives:r.lives,maxLives:Ci.maxLives})}),s.jsx("div",{className:"relative z-20 flex justify-center py-4",children:r.currentWord&&s.jsx(_9,{word:r.currentWord.word})}),s.jsxs("div",{ref:m,className:"flex-1 relative z-30 overflow-hidden",children:[s.jsx(ut,{children:r.zombies.map(w=>s.jsx(E9,{zombie:w,onClick:j=>{const S=document.querySelector(`[data-zombie-id="${j}"]`);if(S){const N=S.getBoundingClientRect(),E={clientX:N.left+N.width/2,clientY:N.top+N.height/2};v(j,E)}else a(j)}},w.id))}),s.jsx(ut,{children:d.map(w=>s.jsx(O.div,{initial:{x:w.startX,y:w.startY,scale:1,opacity:1},animate:{x:w.endX,y:w.endY,scale:.5,opacity:.8},exit:{opacity:0},transition:{duration:.25,ease:"linear"},className:"absolute pointer-events-none z-50",style:{width:"12px",height:"12px",borderRadius:"50%",background:"radial-gradient(circle, #ff4444 0%, #cc0000 70%, #990000 100%)",boxShadow:"0 0 20px #ff4444, 0 0 40px #ff0000"}},w.id))}),s.jsx(ut,{children:f.map(w=>s.jsxs(O.div,{initial:{scale:0,opacity:1},animate:{scale:3,opacity:0},exit:{opacity:0},transition:{duration:.6,ease:"easeOut"},className:"absolute pointer-events-none z-50",style:{left:w.x,top:w.y,transform:"translate(-50%, -50%)"},children:[s.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"radial-gradient(circle, rgba(255, 68, 68, 0.9) 0%, rgba(204, 0, 0, 0.5) 40%, transparent 70%)",boxShadow:"0 0 40px rgba(255, 68, 68, 0.8), 0 0 80px rgba(255, 0, 0, 0.4)"}}),[...Array(8)].map((j,S)=>s.jsx(O.div,{initial:{x:0,y:0,opacity:1},animate:{x:Math.cos(S*Math.PI*2/8)*50,y:Math.sin(S*Math.PI*2/8)*50,opacity:0},transition:{duration:.5,ease:"easeOut"},className:"absolute",style:{left:"50%",top:"50%",width:"8px",height:"8px",borderRadius:"50%",background:"#ff4444",boxShadow:"0 0 10px #ff0000",transform:"translate(-50%, -50%)"}},S))]},w.id))})]}),s.jsx("div",{ref:y,className:"relative z-20 flex justify-center pb-8",children:s.jsx(P9,{})}),s.jsx(ut,{children:r.isPaused&&!r.isGameOver&&s.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/70",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-8",children:"PAUSED"}),s.jsx("button",{onClick:c,className:"px-8 py-4 bg-blue-600 text-white rounded-xl text-xl font-bold",children:"RESUME"})]})})}),s.jsx(ut,{children:r.isGameOver&&s.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:r.lives>0?"COMPLETE!":"GAME OVER"}),s.jsxs("p",{className:"text-2xl text-white mb-2",children:["Score: ",r.score]}),s.jsxs("p",{className:"text-lg text-gray-400 mb-8",children:[r.questionNumber,"/",r.totalQuestions," Questions"]}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsxs("button",{onClick:i,className:"px-6 py-3 bg-green-600 text-white rounded-xl text-lg font-bold flex items-center gap-2",children:[s.jsx(ql,{className:"w-5 h-5"}),"RETRY"]}),s.jsx("button",{onClick:n||t,className:"px-6 py-3 bg-gray-600 text-white rounded-xl text-lg font-bold",children:"EXIT"})]})]})})})]})}const R9={DEV:!1},v1=typeof import.meta<"u"?R9:void 0,D9=!!v1?.DEV&&v1?.VITE_DEBUG_WORD_LIST==="true",Od=(...e)=>{D9&&console.log("[WordListScreen]",...e)},w1=60,O9={derivative:"",synonym:"",antonym:""};function I9({onBack:e,onBackToHome:t,vocabularyTitle:n,unitName:r,vocabularyWords:i,onAddToStarred:a,onMoveToGraveyard:c,onDeletePermanently:d,onStartFlashcards:u,filterType:f,starredWordIds:p=[],graveyardWordIds:m=[],wrongAnswersWordIds:y=[],hideHeader:v=!1,hideActionButtons:w=!1,unitNumber:j,vocabularyId:S,onRefreshVocabulary:N}){const[E,C]=g.useState(!1),[_,T]=g.useState(!1),{selectedWords:I,count:M,toggleWord:F,clear:U,isSelected:G,removeWord:se}=R0(),[ae,oe]=g.useState(!1);Od(" Received props:",{vocabularyWords:i?.length||0,hideActionButtons:w,hideHeader:v,filterType:f}),g.useEffect(()=>{const K=window.getComputedStyle(document.body).overflow,Ce=window.getComputedStyle(document.body).overflowY;return document.body.style.overflow="hidden",document.body.style.overflowY="hidden",document.documentElement.style.overflow="hidden",document.documentElement.style.overflowY="hidden",()=>{document.body.style.overflow=K,document.body.style.overflowY=Ce,document.documentElement.style.overflow="",document.documentElement.style.overflowY=""}},[]);const ee=g.useMemo(()=>!i||i.length===0?[]:(Od(" Converting words:",i.length),i.map((K,Ce)=>({id:K.id||`word-${Ce}`,word:K.word||"",pronunciation:K.pronunciation||"",partOfSpeech:K.partOfSpeech||"",meaning:K.meaning||"",example:K.example_sentence||K.englishExample||K.example||"",translation:K.translation||"",story:K.etymology||K.story||"",derivatives:Array.isArray(K.derivatives)?K.derivatives.map(we=>({word:we.word||we,meaning:we.meaning||""})):typeof K.derivatives=="string"&&K.derivatives?K.derivatives.split(",").map(we=>{const $e=we.trim(),et=$e.match(/^(.+?)\s*\((.+?)\)\s*$/);return et?{word:et[1].trim(),meaning:et[2].trim()}:{word:$e,meaning:""}}):[],synonyms:Array.isArray(K.synonyms)?K.synonyms.map(we=>({word:we.word||we,meaning:we.meaning||""})):typeof K.synonyms=="string"&&K.synonyms?K.synonyms.split(",").map(we=>({word:we.trim(),meaning:""})):[],antonyms:Array.isArray(K.antonyms)?K.antonyms.map(we=>({word:we.word||we,meaning:we.meaning||""})):typeof K.antonyms=="string"&&K.antonyms?K.antonyms.split(",").map(we=>({word:we.trim(),meaning:""})):[],isStarred:!1,isMeaningRevealed:!0,isExpanded:!1,exampleLanguage:"en",swipeX:0,originalIndex:Ce+1,graveyardAt:K.updated_at||K.updatedAt||void 0}))),[i]),L=g.useCallback(()=>{let K=ee;return f==="starred"?ee.length===0&&p.length>0?K=[]:K=ee:f==="graveyard"?ee.length===0&&m.length>0?K=[]:K=ee:f==="wrong-answers"?ee.length===0&&y.length>0?K=[]:K=ee:K=ee.filter(Ce=>!m.includes(Ce.id)),K.map((Ce,we)=>({...Ce,isStarred:p.includes(Ce.id),isMeaningRevealed:!1,originalIndex:f==="starred"||f==="graveyard"?we+1:Ce.originalIndex}))},[ee,f,m,p,y]),[$,D]=g.useState(()=>L()),[P,R]=g.useState(!0),[q,B]=g.useState("en"),[W,z]=g.useState(!1),[X,H]=g.useState(null);g.useEffect(()=>{Od(" vocabularyWords changed, updating words...");const K=L();Od(" New words count:",K.length),D(Ce=>K.map(we=>{const $e=Ce.find(et=>et.id===we.id);return $e?{...we,isMeaningRevealed:$e.isMeaningRevealed,isExpanded:$e.isExpanded,exampleLanguage:$e.exampleLanguage,swipeX:0}:we}))},[L]);const Z=$.length;$.filter(K=>K.isStarred).length;const Q=(K,Ce)=>{if(!K||!Ce)return K;const we=new RegExp(`\\b(${Ce})\\b`,"gi");return K.split(we).map((et,dt)=>et.toLowerCase()===Ce.toLowerCase()?s.jsx("span",{style:{color:"#491B6D",fontWeight:700},children:et},dt):et)},te=K=>{D($.map(Ce=>{if(Ce.id===K){const we=!Ce.isStarred;return a&&a(K),{...Ce,isStarred:we}}return Ce}))},he=K=>{te(K)},le=K=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();for(let we=0;we<2;we++){const $e=new SpeechSynthesisUtterance(K);$e.lang="en-US",$e.rate=.8,window.speechSynthesis.speak($e)}const Ce=$.find(we=>we.word===K);if(Ce){const we=new SpeechSynthesisUtterance(Ce.meaning);we.lang="ko-KR",we.rate=.9,window.speechSynthesis.speak(we)}}},Ne=K=>{c&&c(K),D($.filter(Ce=>Ce.id!==K))},ke=K=>{d&&d(K),D($.filter(Ce=>Ce.id!==K))},tt=K=>{D($.map(Ce=>Ce.id===K?{...Ce,isExpanded:!Ce.isExpanded}:Ce))},nt=K=>{D($.map(Ce=>Ce.id===K?{...Ce,isMeaningRevealed:!Ce.isMeaningRevealed}:Ce))},We=()=>{const K=!P;R(K),D($.map(Ce=>({...Ce,isMeaningRevealed:!K})))},wt=K=>{if(H(K),K===null)D(L());else{const Ce=new Date,we=new Date(Ce);we.setDate(we.getDate()-K),we.setHours(0,0,0,0);const $e=new Date(we);$e.setDate($e.getDate()+1);const et=L().filter(dt=>{const un=dt.graveyardAt||dt.graveyard_at||dt.updated_at||dt.created_at;if(!un)return!1;const qt=new Date(un);return qt>=we&&qt<$e});D(et)}},fe=()=>{D($.map(K=>({...K,isExpanded:!0})))},ye=()=>{D($.map(K=>({...K,isExpanded:!1})))},Ae=K=>{D($.map(Ce=>Ce.id===K?{...Ce,exampleLanguage:Ce.exampleLanguage==="en"?"kr":"en"}:Ce))},xe=()=>{const K=q==="en"?"kr":"en";B(K),D($.map(Ce=>({...Ce,exampleLanguage:K})))},Qe=(K,Ce,we,$e)=>({id:`${K.id}-${Ce}-${$e}`,word:String(we.word||"").trim(),meaning:we.meaning||"",source:`${O9[Ce]}  ${K.word}`,metadata:{relationType:Ce,baseWordId:K.id,baseWord:K.word,baseMeaning:K.meaning,translation:K.translation,partOfSpeech:K.partOfSpeech}}),at=K=>{if(!K.word){pe.error("   .");return}const Ce=G(K.id);if(!Ce&&M>=w1){pe.error(`  ${w1}   .`);return}F(K),pe[Ce?"info":"success"](Ce?" .":" .",{duration:1500})},Tt=(K,Ce,we,$e)=>{const et=Qe(K,Ce,we,$e),dt=G(et.id);return s.jsxs("button",{onClick:un=>{un.stopPropagation(),at(et)},"aria-pressed":dt,className:`rounded-lg border px-2 py-1 transition-all text-left ${dt?"bg-[#F8F5FF] border-[#DCCEF8] text-[#5B21B6] shadow-sm":"bg-white/80 border-gray-200/80 text-gray-700 hover:border-[#D8B4FE]"}`,children:[s.jsxs("div",{className:"min-w-0 flex items-center gap-1",children:[s.jsx("p",{className:"text-[11px] font-semibold leading-tight",children:we.word}),we.meaning&&s.jsx("p",{className:"text-[10px] text-gray-500 leading-tight truncate",children:we.meaning})]}),s.jsx("div",{className:`hidden ${dt?"bg-[#5B21B6] border-[#5B21B6] text-white":"border-gray-300 text-gray-400"}`,children:s.jsx(hl,{className:"w-3.5 h-3.5"})})]},`${et.id}`)},Ze=()=>{if(M===0){pe.info("    .");return}oe(!0)},lt=(()=>{switch(f){case"starred":return{bgGradient:"from-[#FFFEF5] via-[#FFFEF8] to-[#FFFFF9]",headerBg:"from-[#FFFBEB]/80 to-[#FEF3C7]/70",cardBg:"linear-gradient(135deg, rgba(255, 251, 235, 0.7) 0%, rgba(254, 249, 230, 0.65) 100%)",cardBorder:"border-amber-100/30",numberBadgeBg:"from-[#FCD34D] to-[#F59E0B]",accentColor:"#F59E0B",textColor:"#78350F",buttonBg:"#F59E0B",buttonText:"text-white",headerTextColor:"#78350F",secondaryTextColor:"#D97706",cardTextColor:"#78350F",iconColor:"#F59E0B",badgeColor:"#F59E0B",name:" Starred Words"};case"graveyard":return{bgGradient:"from-[#FCFCFC] via-[#FAFAFA] to-[#F9F9F9]",headerBg:"from-[#F9FAFB]/80 to-[#F3F4F6]/70",cardBg:"linear-gradient(135deg, rgba(249, 250, 251, 0.7) 0%, rgba(243, 244, 246, 0.65) 100%)",cardBorder:"border-gray-200/30",numberBadgeBg:"from-[#6B7280] to-[#4B5563]",accentColor:"#6B7280",textColor:"#374151",buttonBg:"#6B7280",buttonText:"text-white",headerTextColor:"#374151",secondaryTextColor:"#6B7280",cardTextColor:"#374151",iconColor:"#6B7280",badgeColor:"#6B7280",name:" Graveyard"};case"wrong-answers":return{bgGradient:"from-[#FFFAFA] via-[#FFFCFC] to-[#FFF9F9]",headerBg:"from-[#FEF2F2]/80 to-[#FEE2E2]/70",cardBg:"linear-gradient(135deg, rgba(254, 242, 242, 0.7) 0%, rgba(254, 226, 226, 0.65) 100%)",cardBorder:"border-red-100/30",numberBadgeBg:"from-[#EF4444] to-[#DC2626]",accentColor:"#DC2626",textColor:"#7F1D1D",buttonBg:"#DC2626",buttonText:"text-white",headerTextColor:"#7F1D1D",secondaryTextColor:"#DC2626",cardTextColor:"#7F1D1D",iconColor:"#DC2626",badgeColor:"#DC2626",name:" Wrong Answers"};default:return{bgGradient:"from-[#F5F3FF] via-[#EDE9FE] to-[#E9E5FF]",headerBg:"from-[#F5F3FF]/80 to-[#EDE9FE]/70",cardBg:"rgba(255, 255, 255, 0.7)",cardBorder:"border-purple-100/30",numberBadgeBg:"from-[#C4B5FD] to-[#A78BFA]",accentColor:"#8B5CF6",textColor:"#491B6D",buttonBg:"#491B6D",buttonText:"text-white",name:n}}})();return s.jsxs("div",{className:"h-screen flex flex-col bg-transparent",children:[!v&&s.jsxs("div",{className:"sticky top-0 z-40 backdrop-blur-lg border-b border-white/20",style:{background:"transparent"},children:[s.jsxs("div",{className:"flex items-center justify-between p-6",children:[s.jsx(Or,{onClick:e}),s.jsxs("div",{className:"flex-1 mx-4 text-center",children:[s.jsx("h1",{style:{fontSize:"18px",fontWeight:700,color:lt.headerTextColor||"#5B21B6"},children:lt.name}),s.jsxs("p",{style:{fontSize:"12px",fontWeight:500,color:lt.secondaryTextColor||"#A78BFA"},children:[r,"  ",Z," "]})]}),t&&s.jsx(O.button,{whileTap:{scale:.95},onClick:t,className:"w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-md",children:s.jsx(Hi,{className:"w-5 h-5",style:{color:lt.headerTextColor||"#5B21B6"}})}),!t&&s.jsx("div",{className:"w-10"})]}),s.jsxs("div",{className:"px-4 pb-3 bg-transparent",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 overflow-x-auto scrollbar-hide m-[0px] p-[3px]",children:[s.jsxs(O.button,{whileTap:{scale:.95},onClick:We,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[P?s.jsx(Bo,{className:"w-3.5 h-3.5",style:{color:lt.iconColor||"#8B5CF6"}}):s.jsx(Cl,{className:"w-3.5 h-3.5",style:{color:lt.iconColor||"#8B5CF6"}}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:lt.cardTextColor||"#091A7A"},children:P?" ":" "})]}),f!=="graveyard"&&f!=="wrong-answers"&&s.jsxs(s.Fragment,{children:[s.jsxs(O.button,{whileTap:{scale:.95},onClick:$.every(K=>K.isExpanded)?ye:fe,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[s.jsx(pr,{className:`w-3.5 h-3.5 transition-transform ${$.every(K=>K.isExpanded)?"rotate-180":""}`,style:{color:lt.iconColor||"#8B5CF6"}}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:lt.cardTextColor||"#091A7A"},children:$.every(K=>K.isExpanded)?" ":" "})]}),s.jsxs(O.button,{whileTap:{scale:.95},onClick:xe,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1 whitespace-nowrap",children:[s.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:q==="en"?"#491B6D":"#9CA3AF"},children:"EN"}),s.jsx("span",{style:{fontSize:"11px",fontWeight:600,color:"#9CA3AF"},children:"|"}),s.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:q==="kr"?"#491B6D":"#9CA3AF"},children:"KR"})]}),s.jsxs(O.button,{whileTap:{scale:.95},onClick:Ze,className:`px-3 py-2 backdrop-blur-lg rounded-xl border shadow-sm flex items-center gap-1.5 whitespace-nowrap ${M>0?"bg-[#5B21B6] text-white border-[#5B21B6]":"bg-white/90 text-[#5B21B6] border-white/40"}`,children:[s.jsx(hl,{className:"w-3.5 h-3.5"}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600},children:""}),M>0&&s.jsx("span",{style:{fontSize:"10px",fontWeight:700},className:"bg-white/20 px-1.5 py-0.5 rounded-full",children:M})]})]}),f==="graveyard"&&$.length>0&&s.jsxs(O.button,{whileTap:{scale:.95},onClick:()=>T(!0),className:"px-3 py-2 bg-gradient-to-r from-gray-700 to-gray-800 backdrop-blur-lg rounded-xl border border-gray-600 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[s.jsx("span",{style:{fontSize:"14px"},children:""}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#E5E7EB"},children:" "})]}),f==="wrong-answers"&&$.length>0&&s.jsxs(O.button,{whileTap:{scale:.95},onClick:()=>C(!0),className:"px-3 py-2 bg-gradient-to-r from-red-600 to-red-700 backdrop-blur-lg rounded-xl border border-red-500 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[s.jsx("span",{style:{fontSize:"14px"},children:""}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#FEE2E2"},children:" "})]}),f==="graveyard"&&s.jsxs(O.button,{whileTap:{scale:.95},onClick:()=>z(!W),className:`px-3 py-2 backdrop-blur-lg rounded-xl border shadow-sm flex items-center gap-1.5 whitespace-nowrap ${W?"bg-gray-700/90 border-gray-600":"bg-white/90 border-white/40"}`,children:[s.jsx("span",{style:{fontSize:"12px"},children:""}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:W?"#E5E7EB":lt.cardTextColor||"#091A7A"},children:" "})]})]}),f==="graveyard"&&W&&s.jsxs(O.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"flex items-center justify-center gap-1 mt-2 flex-wrap",children:[s.jsx("button",{onClick:()=>wt(null),className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors ${X===null?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:""}),[1,2,3,7,14,30].map(K=>s.jsxs("button",{onClick:()=>wt(K),className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors ${X===K?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:[K,""]},K))]})]})]}),s.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[v&&s.jsxs("div",{className:"sticky top-0 z-40 border-b border-white/20 bg-transparent px-[10px] py-[6px]",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 overflow-x-auto scrollbar-hide m-[0px] p-[3px]",children:[s.jsxs(O.button,{whileTap:{scale:.95},onClick:We,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[P?s.jsx(Bo,{className:"w-3.5 h-3.5",style:{color:lt.iconColor||"#8B5CF6"}}):s.jsx(Cl,{className:"w-3.5 h-3.5",style:{color:lt.iconColor||"#8B5CF6"}}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:lt.cardTextColor||"#091A7A"},children:P?" ":" "})]}),f!=="graveyard"&&f!=="wrong-answers"&&s.jsxs(s.Fragment,{children:[s.jsxs(O.button,{whileTap:{scale:.95},onClick:$.every(K=>K.isExpanded)?ye:fe,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[s.jsx(pr,{className:`w-3.5 h-3.5 transition-transform ${$.every(K=>K.isExpanded)?"rotate-180":""}`,style:{color:lt.iconColor||"#8B5CF6"}}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:lt.cardTextColor||"#091A7A"},children:$.every(K=>K.isExpanded)?" ":" "})]}),s.jsxs(O.button,{whileTap:{scale:.95},onClick:xe,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1 whitespace-nowrap",children:[s.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:q==="en"?"#491B6D":"#9CA3AF"},children:"EN"}),s.jsx("span",{style:{fontSize:"11px",fontWeight:600,color:"#9CA3AF"},children:"|"}),s.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:q==="kr"?"#491B6D":"#9CA3AF"},children:"KR"})]}),s.jsxs(O.button,{whileTap:{scale:.95},onClick:Ze,className:`px-3 py-2 backdrop-blur-lg rounded-xl border shadow-sm flex items-center gap-1.5 whitespace-nowrap ${M>0?"bg-[#5B21B6] text-white border-[#5B21B6]":"bg-white/90 text-[#5B21B6] border-white/40"}`,children:[s.jsx(hl,{className:"w-3.5 h-3.5"}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600},children:""}),M>0&&s.jsx("span",{style:{fontSize:"10px",fontWeight:700},className:"bg-white/20 px-1.5 py-0.5 rounded-full",children:M})]})]}),f==="graveyard"&&$.length>0&&s.jsxs(O.button,{whileTap:{scale:.95},onClick:()=>T(!0),className:"px-3 py-2 bg-gradient-to-r from-gray-700 to-gray-800 backdrop-blur-lg rounded-xl border border-gray-600 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[s.jsx("span",{style:{fontSize:"14px"},children:""}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#E5E7EB"},children:" "})]}),f==="wrong-answers"&&$.length>0&&s.jsxs(O.button,{whileTap:{scale:.95},onClick:()=>C(!0),className:"px-3 py-2 bg-gradient-to-r from-red-600 to-red-700 backdrop-blur-lg rounded-xl border border-red-500 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[s.jsx("span",{style:{fontSize:"14px"},children:""}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#FEE2E2"},children:" "})]}),f==="graveyard"&&s.jsxs(O.button,{whileTap:{scale:.95},onClick:()=>z(!W),className:`px-3 py-2 backdrop-blur-lg rounded-xl border shadow-sm flex items-center gap-1.5 whitespace-nowrap ${W?"bg-gray-700/90 border-gray-600":"bg-white/90 border-white/40"}`,children:[s.jsx("span",{style:{fontSize:"12px"},children:""}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:W?"#E5E7EB":lt.cardTextColor||"#091A7A"},children:" "})]})]}),f==="graveyard"&&W&&s.jsxs(O.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"flex items-center justify-center gap-1 mt-2 flex-wrap",children:[s.jsx("button",{onClick:()=>wt(null),className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors ${X===null?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:""}),[1,2,3,7,14,30].map(K=>s.jsxs("button",{onClick:()=>wt(K),className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors ${X===K?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:[K,""]},K))]})]}),s.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto px-4 pb-64",style:{overflowY:"auto",WebkitOverflowScrolling:"touch"},children:s.jsx("div",{className:"space-y-3 pt-4",children:s.jsx(ut,{mode:"popLayout",children:$.map((K,Ce)=>s.jsxs(O.div,{className:"relative",layout:!0,exit:{opacity:0,x:-200,transition:{duration:.2,ease:"easeOut"}},children:[f!=="graveyard"&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#6B7280] to-[#4B5563] rounded-2xl flex items-center justify-end px-6",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tm,{className:"w-4 h-4 text-white/80"}),s.jsx("div",{className:"text-white",style:{fontSize:"12px",fontWeight:600},children:" "})]})}),s.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0,x:K.swipeX},transition:{delay:Math.min(Ce*.02,.3),duration:.2},drag:f!=="graveyard"?"x":!1,dragConstraints:{left:-150,right:0},dragElastic:0,dragDirectionLock:!0,onDirectionLock:we=>{},onDragEnd:(we,$e)=>{f!=="graveyard"&&$e.offset.x<-100?Ne(K.id):D($.map(et=>et.id===K.id?{...et,swipeX:0}:et))},onDrag:(we,$e)=>{f!=="graveyard"&&D($.map(et=>et.id===K.id?{...et,swipeX:Math.min(0,$e.offset.x)}:et))},className:`backdrop-blur-xl rounded-2xl overflow-hidden border ${lt.cardBorder} relative z-10`,style:{background:f==="graveyard"?"linear-gradient(135deg, rgba(55, 65, 81, 0.95) 0%, rgba(75, 85, 99, 0.9) 100%)":f==="starred"?"linear-gradient(135deg, rgba(254, 249, 195, 0.95) 0%, rgba(254, 243, 199, 0.9) 100%)":f==="wrong-answers"?"linear-gradient(135deg, rgba(254, 226, 226, 0.95) 0%, rgba(254, 202, 202, 0.9) 100%)":"rgba(255, 255, 255, 0.95)",boxShadow:"0 2px 8px 0 rgba(0, 0, 0, 0.08)"},children:f==="graveyard"||f==="wrong-answers"?s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[s.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:f==="graveyard"?"#D1D5DB":"#7F1D1D"},children:K.word}),s.jsx("span",{style:{fontSize:"13px",fontWeight:500,color:f==="graveyard"?"#9CA3AF":"#DC2626"},children:K.pronunciation})]}),s.jsx("p",{onClick:()=>nt(K.id),style:{fontSize:"14px",fontWeight:500,color:f==="graveyard"?"#A1A1AA":"#991B1B",lineHeight:1.4,filter:K.isMeaningRevealed?"none":"blur(8px)",cursor:"pointer",transition:"filter 0.3s ease"},children:K.meaning})]}),s.jsxs("div",{className:"flex flex-col items-end gap-1.5",children:[f==="graveyard"&&K.graveyardAt&&s.jsx("span",{style:{fontSize:"10px",fontWeight:500,color:"#9CA3AF",whiteSpace:"nowrap"},children:new Date(K.graveyardAt).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})}),s.jsx(O.button,{whileTap:{scale:.9},onClick:()=>ke(K.id),className:`flex-shrink-0 w-10 h-10 rounded-lg border flex items-center justify-center shadow-lg ${f==="graveyard"?"bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600":"bg-gradient-to-br from-red-600 to-red-700 border-red-500"}`,children:s.jsx("span",{className:"text-xl",children:f==="graveyard"?"":""})})]})]})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"cursor-pointer px-[12px] py-[16px] p-[12px]",onClick:()=>tt(K.id),children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#491B6D"},children:s.jsx("span",{className:"text-white",style:{fontSize:"11px",fontWeight:700},children:K.originalIndex})}),s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx("h3",{className:"text-gray-900",style:{fontSize:"16px",fontWeight:600},children:K.word}),s.jsx("span",{className:"text-gray-500",style:{fontSize:"12px",fontWeight:500},children:K.pronunciation}),K.partOfSpeech&&s.jsx("span",{className:"px-1.5 py-0.5 rounded",style:{fontSize:"10px",fontWeight:600,color:"#491B6D",backgroundColor:"rgba(73, 27, 109, 0.08)",border:"1px solid rgba(73, 27, 109, 0.15)"},children:K.partOfSpeech}),s.jsx(O.button,{whileTap:{scale:.9},onClick:we=>{we.stopPropagation(),le(K.word)},className:"flex-shrink-0",children:s.jsx(r0,{className:"w-4 h-4",style:{color:"#491B6D",opacity:.6}})})]}),s.jsx(O.button,{whileTap:{scale:.9},onClick:we=>{we.stopPropagation(),he(K.id)},className:"flex-shrink-0 p-1",children:s.jsx(xs,{className:"w-4 h-4",style:{color:K.isStarred?"#F59E0B":"#491B6D",fill:K.isStarred?"#F59E0B":"transparent",opacity:K.isStarred?1:.3}})})]}),s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"w-6 flex-shrink-0"})," ",s.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 cursor-pointer",onClick:we=>{we.stopPropagation(),nt(K.id)},children:[s.jsx(Bo,{className:"w-3.5 h-3.5 flex-shrink-0",style:{color:"#9CA3AF"}}),s.jsx("p",{className:"text-gray-600 transition-all duration-200",style:{fontSize:"13px",fontWeight:500,color:"#6B7280",lineHeight:1.4,filter:K.isMeaningRevealed?"blur(0px)":"blur(4px)",userSelect:K.isMeaningRevealed?"auto":"none"},children:K.meaning})]}),s.jsx(O.div,{animate:{rotate:K.isExpanded?180:0},transition:{duration:.2},className:"flex-shrink-0 p-1",children:s.jsx(pr,{className:"w-4 h-4",style:{color:"#491B6D",opacity:.3}})})]}),(K.example||K.translation)&&s.jsxs("div",{className:"flex gap-2.5",children:[s.jsx(O.button,{whileTap:{scale:.9},onClick:we=>{we.stopPropagation(),Ae(K.id)},className:"w-6 h-6 flex-shrink-0 rounded-md bg-white/90 border border-[#E5E7EB]/60 flex items-center justify-center shadow-sm",children:s.jsx("span",{style:{fontSize:"8px",fontWeight:700,color:K.exampleLanguage==="en"?"#491B6D":"#9CA3AF"},children:K.exampleLanguage==="en"?"EN":"KR"})}),s.jsx("div",{className:"flex-1 bg-[#F3F4F6]/60 border border-[#E5E7EB]/40 rounded-lg px-3 py-2",children:s.jsx("p",{className:"text-[#4B5563]",style:{fontSize:"13px",fontWeight:500,lineHeight:1.5},children:K.exampleLanguage==="en"?Q(K.example,K.word):Q(K.translation,K.word)})})]})]})}),s.jsx(ut,{children:K.isExpanded&&s.jsx(O.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:s.jsxs("div",{className:"px-4 pb-4 space-y-2 pt-1",children:[K.story&&s.jsxs("div",{className:"bg-[#F3F4F6]/80 border border-[#E5E7EB]/60 rounded-[16px] p-[10px]",children:[s.jsxs("div",{className:"flex items-start gap-2 mb-1.5",children:[s.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6] mt-2"}),s.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:" "})]}),s.jsx("p",{className:"text-[#4B5563] pl-3",style:{fontSize:"12px",fontWeight:500,lineHeight:1.6},children:K.story})]}),s.jsxs("div",{className:"space-y-2",children:[K.derivatives.length>0&&s.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2 border border-[#E5E7EB]/50",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[s.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6]"}),s.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:""})]}),s.jsx("div",{className:"flex flex-wrap gap-1.5 pl-2",children:K.derivatives.map((we,$e)=>Tt(K,"derivative",we,$e))})]}),(K.synonyms.length>0||K.antonyms.length>0)&&s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[K.synonyms.length>0&&s.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2 border border-[#E5E7EB]/50",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[s.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6]"}),s.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:""})]}),s.jsx("div",{className:"flex flex-wrap gap-1.5 pl-2",children:K.synonyms.map((we,$e)=>Tt(K,"synonym",we,$e))})]}),K.antonyms.length>0&&s.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2 border border-[#E5E7EB]/50",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[s.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6]"}),s.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:""})]}),s.jsx("div",{className:"flex flex-wrap gap-1.5 pl-2",children:K.antonyms.map((we,$e)=>Tt(K,"antonym",we,$e))})]})]})]})]})})})]})})]},K.id))})})})]}),s.jsx(D0,{open:ae,onClose:()=>oe(!1),words:I,onRemoveWord:se,onClear:U,onActionComplete:async()=>{console.log("[WordListScreen] onActionComplete started"),oe(!1);const{invalidateVocabularyListCache:K}=await Fr(async()=>{const{invalidateVocabularyListCache:Ce}=await Promise.resolve().then(()=>P0);return{invalidateVocabularyListCache:Ce}},void 0);K(),console.log("[WordListScreen] Vocabulary list cache invalidated"),N?(console.log("[WordListScreen] Calling onRefreshVocabulary..."),await N(),console.log("[WordListScreen] onRefreshVocabulary completed")):console.log("[WordListScreen] No onRefreshVocabulary provided")},currentVocabularyId:S,currentVocabularyTitle:n}),s.jsx(ut,{children:E&&f==="wrong-answers"&&s.jsx(b9,{words:$.map(K=>({id:K.id,word:K.word,meaning:K.meaning})),onWordCleared:K=>{d&&d(K)},onClose:()=>C(!1),onGameComplete:()=>{}})}),s.jsx(ut,{children:_&&f==="graveyard"&&s.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50",children:s.jsx(oC,{vocabularyWords:$.map(K=>({id:K.id,word:K.word,meaning:K.meaning,pronunciation:K.pronunciation})),onBack:()=>T(!1),onBackToHome:t})})})]})}const F9=(e,t)=>e.vocabularyTitle===t.vocabularyTitle&&e.unitName===t.unitName&&e.filterType===t.filterType&&e.hideHeader===t.hideHeader&&e.hideActionButtons===t.hideActionButtons&&e.vocabularyWords===t.vocabularyWords&&e.starredWordIds===t.starredWordIds&&e.graveyardWordIds===t.graveyardWordIds&&e.wrongAnswersWordIds===t.wrongAnswersWordIds&&e.onBack===t.onBack&&e.onBackToHome===t.onBackToHome&&e.onAddToStarred===t.onAddToStarred&&e.onMoveToGraveyard===t.onMoveToGraveyard&&e.onDeletePermanently===t.onDeletePermanently&&e.onStartFlashcards===t.onStartFlashcards,Nu=g.memo(I9,F9);Nu.displayName="WordListScreen";function M9({onClick:e}){return s.jsx(O.button,{whileTap:{scale:.95},onClick:e,className:"w-11 h-11 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/40",style:{minWidth:"44px",minHeight:"44px"},children:s.jsx(Hi,{className:"w-5 h-5 text-[#491B6D]"})})}const L9=[{id:"1",word:"Ephemeral",pronunciation:"/fem.r.l/",meaning:", ",example:"The beauty of cherry blossoms is ephemeral, lasting only a few weeks.",etymology:"Greek ephemeros (lasting only a day)",synonyms:[{word:"temporary",meaning:""},{word:"fleeting",meaning:""},{word:"transient",meaning:""}],antonyms:[{word:"permanent",meaning:""},{word:"eternal",meaning:""},{word:"lasting",meaning:""}]},{id:"2",word:"Serendipity",pronunciation:"/ser.ndp..ti/",meaning:" ,  ",example:"It was pure serendipity that we met at the cafe.",etymology:"Coined by Horace Walpole from Persian fairy tale",synonyms:[{word:"chance",meaning:""},{word:"fortune",meaning:""},{word:"luck",meaning:""}],antonyms:[{word:"misfortune",meaning:""},{word:"bad luck",meaning:""}]},{id:"3",word:"Ubiquitous",pronunciation:"/jubk.w.ts/",meaning:" , ",example:"Smartphones have become ubiquitous in modern society.",etymology:"Latin ubique (everywhere)",synonyms:[{word:"omnipresent",meaning:""},{word:"pervasive",meaning:""},{word:"universal",meaning:""}],antonyms:[{word:"rare",meaning:""},{word:"scarce",meaning:""},{word:"uncommon",meaning:""}]}];function aC({onBack:e,onBackToHome:t,vocabularyWords:n,onAddToStarred:r,onMoveToGraveyard:i,starredWordIds:a=[],graveyardWordIds:c=[],hideHeader:d=!1,vocabularyId:u,vocabularyTitle:f,onRefreshVocabulary:p}){const[m,y]=g.useState(0),[v,w]=g.useState(!1),[j,S]=g.useState(0),[N,E]=g.useState(!1),[C,_]=g.useState(!1),[T,I]=g.useState(!1),[M,F]=g.useState("en"),[U,G]=g.useState(!1),{toggleWord:se,isSelected:ae,selectedWords:oe,clear:ee,removeWord:L}=R0(),$=n&&n.length>0?n.map(fe=>({id:fe.id||"",word:fe.word||"",pronunciation:fe.pronunciation||"",meaning:fe.meaning||"",example:fe.example_sentence||fe.example||"",translation:fe.translation||"",etymology:fe.etymology||"",derivatives:Array.isArray(fe.derivatives)?fe.derivatives.map(ye=>({word:ye.word||ye,meaning:ye.meaning||""})):typeof fe.derivatives=="string"&&fe.derivatives?fe.derivatives.split(",").map(ye=>{const Ae=ye.trim(),xe=Ae.match(/^(.+?)\s*\((.+?)\)\s*$/);return xe?{word:xe[1].trim(),meaning:xe[2].trim()}:{word:Ae,meaning:""}}):[],synonyms:Array.isArray(fe.synonyms)?fe.synonyms.map(ye=>({word:ye.word||ye,meaning:ye.meaning||""})):typeof fe.synonyms=="string"&&fe.synonyms?fe.synonyms.split(",").map(ye=>({word:ye.trim(),meaning:""})):[],antonyms:Array.isArray(fe.antonyms)?fe.antonyms.map(ye=>({word:ye.word||ye,meaning:ye.meaning||""})):typeof fe.antonyms=="string"&&fe.antonyms?fe.antonyms.split(",").map(ye=>({word:ye.trim(),meaning:""})):[]})):L9,[D,P]=g.useState($);g.useEffect(()=>{if(n&&n.length>0){const fe=n.map(ye=>({id:ye.id||"",word:ye.word||"",pronunciation:ye.pronunciation||"",meaning:ye.meaning||"",example:ye.example_sentence||ye.example||"",translation:ye.translation||"",etymology:ye.etymology||"",derivatives:Array.isArray(ye.derivatives)?ye.derivatives.map(Ae=>({word:Ae.word||Ae,meaning:Ae.meaning||""})):typeof ye.derivatives=="string"&&ye.derivatives?ye.derivatives.split(",").map(Ae=>{const xe=Ae.trim(),Qe=xe.match(/^(.+?)\s*\((.+?)\)\s*$/);return Qe?{word:Qe[1].trim(),meaning:Qe[2].trim()}:{word:xe,meaning:""}}):[],synonyms:Array.isArray(ye.synonyms)?ye.synonyms.map(Ae=>({word:Ae.word||Ae,meaning:Ae.meaning||""})):typeof ye.synonyms=="string"&&ye.synonyms?ye.synonyms.split(",").map(Ae=>({word:Ae.trim(),meaning:""})):[],antonyms:Array.isArray(ye.antonyms)?ye.antonyms.map(Ae=>({word:Ae.word||Ae,meaning:Ae.meaning||""})):typeof ye.antonyms=="string"&&ye.antonyms?ye.antonyms.split(",").map(Ae=>({word:Ae.trim(),meaning:""})):[]}));P(fe),y(0),w(!1)}},[n]);const R=D[m],q=a.includes(R?.id||"");ae(R?.id||"");const B=g.useRef(null),W=g.useRef(!1),z=()=>{if(oe.length===0){pe.info(" ");return}G(!0)},X=(fe,ye,Ae,xe)=>{fe.stopPropagation();const Qe=`${R?.id}_${xe}_${ye}`,at=ae(Qe);se({id:Qe,word:ye,meaning:Ae,source:` (${xe==="derivative"?"":xe==="synonym"?"":""})`,metadata:{}}),pe.success(at?" ":" ")},H=(fe,ye)=>{if(!fe||!ye)return fe;const Ae=new RegExp(`\\b(${ye})\\b`,"gi");return fe.split(Ae).map((Qe,at)=>Qe.toLowerCase()===ye.toLowerCase()?s.jsx("span",{style:{color:"#491B6D",fontWeight:700},children:Qe},at):Qe)},Z=()=>{F(fe=>fe==="en"?"kr":"en")};g.useEffect(()=>{const fe=window.getComputedStyle(document.body).overflow,ye=window.getComputedStyle(document.body).overflowY;return document.body.style.overflow="hidden",document.body.style.overflowY="hidden",document.documentElement.style.overflow="hidden",document.documentElement.style.overflowY="hidden",()=>{document.body.style.overflow=fe,document.body.style.overflowY=ye,document.documentElement.style.overflow="",document.documentElement.style.overflowY=""}},[]);const Q=(fe,ye)=>{const xe=ye.velocity.x,Qe=ye.offset.x,at=Math.abs(xe)>300,Tt=Qe>50||at&&xe>0,Ze=Qe<-50||at&&xe<0;Tt?m>0&&(S(-1),y(m-1),w(!1)):Ze&&m<D.length-1&&(S(1),y(m+1),w(!1))},te=()=>{w(!v)},he=(fe,ye="en-US")=>new Promise(Ae=>{if(!("speechSynthesis"in window)){console.warn("Speech synthesis not supported"),Ae();return}window.speechSynthesis.cancel();const xe=new SpeechSynthesisUtterance(fe);xe.lang=ye,xe.rate=ye==="ko-KR"?.9:.8,xe.pitch=1,xe.volume=1,xe.onend=()=>{W.current=!1,Ae()},xe.onerror=Qe=>{console.error("Speech synthesis error:",Qe),W.current=!1,Ae()},W.current=!0,window.speechSynthesis.speak(xe)});g.useEffect(()=>{if(!N){"speechSynthesis"in window&&window.speechSynthesis.cancel(),B.current&&clearTimeout(B.current);return}B.current&&clearTimeout(B.current);const fe=D[m];if(!fe)return;const ye=async()=>{N&&(await he(fe.word,"en-US"),await new Promise(Ae=>setTimeout(Ae,300)),N&&(await he(fe.word,"en-US"),await new Promise(Ae=>setTimeout(Ae,500)),N&&(w(!0),await new Promise(Ae=>setTimeout(Ae,600)),N&&(await he(fe.meaning,"ko-KR"),await new Promise(Ae=>setTimeout(Ae,800)),N&&(m<D.length-1?(S(1),y(m+1),w(!1)):E(!1))))))};return B.current=setTimeout(()=>{ye()},500),()=>{B.current&&clearTimeout(B.current)}},[N,m,D]),g.useEffect(()=>()=>{"speechSynthesis"in window&&window.speechSynthesis.cancel(),B.current&&clearTimeout(B.current)},[]);const le=()=>{he(R.word,"en-US")},Ne=()=>{E(!0)},ke=()=>{E(!1),"speechSynthesis"in window&&window.speechSynthesis.cancel()},tt=()=>{E(!1),"speechSynthesis"in window&&window.speechSynthesis.cancel(),y(0),w(!1)},nt=fe=>{fe.stopPropagation(),r&&r(R.id)},We=fe=>{fe.stopPropagation(),_(!0),i&&i(R.id),setTimeout(()=>{m<D.length-1?(S(1),y(m+1)):m>0&&(S(-1),y(m-1)),_(!1),w(!1)},300)},wt=()=>{const fe=[...D].sort(()=>Math.random()-.5);P(fe),y(0),w(!1)};return s.jsxs("div",{className:`flex flex-col ${d?"h-full":"min-h-screen h-screen fixed inset-0"}`,style:d?{overflow:"visible",height:"100%",touchAction:"pan-x",position:"relative"}:{overflow:"hidden",overflowY:"hidden",maxWidth:"100vw",width:"100vw",height:"100dvh",touchAction:"pan-x",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3},children:[!d&&s.jsx("div",{className:"sticky top-0 z-40 backdrop-blur-lg",style:{background:"transparent"},children:s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsx(Or,{onClick:e}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("h1",{className:"text-[#091A7A]",style:{fontSize:"18px",fontWeight:600},children:""}),s.jsxs("p",{className:"text-[#6B7280]",style:{fontSize:"12px",fontWeight:500},children:[m+1," / ",D.length]})]}),t?s.jsx(M9,{onClick:t}):s.jsx("div",{className:"w-12 h-12"})]})}),d&&s.jsx("div",{className:"text-center py-3",children:s.jsxs("p",{className:"text-[#6B7280]",style:{fontSize:"14px",fontWeight:500},children:[m+1," / ",D.length]})}),s.jsx("div",{className:`flex-1 flex justify-center ${d?"items-center":"items-start pt-2"}`,style:{overflow:"visible",maxWidth:"100vw",touchAction:"auto"},children:s.jsxs("div",{className:`w-full max-w-[380px] ${d?"h-[50vh]":"h-full max-h-[50vh]"} relative flex items-center justify-center`,style:{overflow:"visible",touchAction:"auto"},children:[m>0&&s.jsx(O.div,{className:"absolute left-0 pointer-events-none z-0",initial:{opacity:0,x:-20},animate:{opacity:.4,x:0},transition:{duration:.3},style:{width:"70%",height:"85%",transform:"translateX(-75%) scale(0.7)",transformOrigin:"right center"},children:s.jsx("div",{className:"w-full h-full bg-white/90 backdrop-blur-lg shadow-2xl rounded-[20px] border-2 border-white/30",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)"}})}),m<D.length-1&&s.jsx(O.div,{className:"absolute right-0 pointer-events-none z-0",initial:{opacity:0,x:20},animate:{opacity:.4,x:0},transition:{duration:.3},style:{width:"70%",height:"85%",transform:"translateX(75%) scale(0.7)",transformOrigin:"left center"},children:s.jsx("div",{className:"w-full h-full bg-white/90 backdrop-blur-lg shadow-2xl rounded-[20px] border-2 border-white/30",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)"}})}),s.jsx("div",{className:"w-[92%] h-full relative z-10 mx-auto",style:{overflow:"visible",touchAction:"pan-x"},children:s.jsx(ut,{mode:"popLayout",initial:!1,children:s.jsx(O.div,{initial:{scale:.9,opacity:0},animate:{scale:C?.8:1,opacity:C?0:1},exit:{scale:.9,opacity:0},transition:{duration:C?.3:.2},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.3,dragMomentum:!1,dragPropagation:!1,whileDrag:{cursor:"grabbing"},onDragStart:()=>{I(!0)},onDragEnd:(fe,ye)=>{I(!1),Q(fe,ye)},className:"absolute inset-0 cursor-grab active:cursor-grabbing",style:{perspective:"1000px",zIndex:10},children:s.jsxs(O.div,{className:"w-full h-full relative",style:{transformStyle:"preserve-3d",pointerEvents:T?"none":"auto"},animate:{rotateY:v?180:0},transition:{duration:.6,type:"spring"},onClick:fe=>{T||te()},children:[s.jsxs("div",{className:"absolute inset-0 bg-white/95 backdrop-blur-lg px-6 py-4 flex flex-col items-center justify-center rounded-[20px] border border-white/20 shadow-2xl",style:{backfaceVisibility:"hidden"},children:[s.jsx(O.button,{whileTap:{scale:.9},onClick:nt,className:"absolute top-5 right-5",children:s.jsx(O.div,{animate:q?{scale:[1,1.3,1],rotate:[0,-15,15,0]}:{},transition:{duration:.5,ease:"easeOut"},children:s.jsx(xs,{className:`w-7 h-7 ${q?"fill-[#FCD34D] text-[#FCD34D] drop-shadow-[0_0_8px_rgba(252,211,77,0.6)]":"text-[#D1D5DB]"}`})})}),s.jsx(O.button,{whileTap:{scale:.9},onClick:We,className:"absolute bottom-5 right-5",children:s.jsx(Tm,{className:"w-7 h-7 text-[#6B7280]"})}),s.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[s.jsx("div",{className:"w-16 h-1 bg-[#491B6D]/20",style:{borderRadius:"var(--radius-pill)"}}),s.jsx("h2",{className:"text-[#091A7A] text-center px-4",style:{fontSize:"40px",fontWeight:700,lineHeight:1.1},children:R.word}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("p",{className:"text-[#6B7280]",style:{fontSize:"14px",fontWeight:500},children:R.pronunciation}),s.jsx(O.button,{whileTap:{scale:.9},onClick:fe=>{fe.stopPropagation(),le()},className:"w-10 h-10 bg-[#491B6D]/10 rounded-full flex items-center justify-center",children:s.jsx(r0,{className:"w-5 h-5 text-[#491B6D]"})})]}),s.jsx("div",{className:"w-16 h-1 bg-[#491B6D]/20 mt-2",style:{borderRadius:"var(--radius-pill)"}})]}),s.jsx("div",{className:"absolute bottom-8 text-[#9CA3AF]",style:{fontSize:"13px",fontWeight:500},children:" "})]}),s.jsxs("div",{className:"absolute inset-0 bg-white/95 backdrop-blur-lg p-5 overflow-y-auto scrollbar-hide rounded-[20px] border border-white/20 shadow-2xl",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[s.jsx(O.button,{whileTap:{scale:.9},onClick:nt,className:"absolute top-4 right-4 z-10",style:{transform:"scaleX(-1)"},children:s.jsx(O.div,{animate:q?{scale:[1,1.3,1],rotate:[0,-15,15,0]}:{},transition:{duration:.5,ease:"easeOut"},children:s.jsx(xs,{className:`w-6 h-6 ${q?"fill-[#FCD34D] text-[#FCD34D] drop-shadow-[0_0_8px_rgba(252,211,77,0.6)]":"text-[#D1D5DB]"}`})})}),s.jsx(O.button,{whileTap:{scale:.9},onClick:We,className:"absolute bottom-4 right-4 z-10",style:{transform:"scaleX(-1)"},children:s.jsx(Tm,{className:"w-6 h-6 text-[#6B7280]"})}),s.jsxs("div",{className:"flex flex-col gap-3 scrollable-content",style:{touchAction:"pan-y",overflowY:"auto",WebkitOverflowScrolling:"touch"},children:[s.jsx("div",{className:"text-center pb-3 border-b border-gray-200",children:s.jsx("h3",{className:"text-[#491B6D]",style:{fontSize:"24px",fontWeight:700},children:R.word})}),s.jsx("div",{className:"text-center py-2",children:s.jsx("p",{className:"text-[#374151]",style:{fontSize:"18px",fontWeight:700,lineHeight:1.3},children:R.meaning})}),(R.example||R.translation)&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:fe=>{fe.stopPropagation(),Z()},className:"w-8 h-8 flex-shrink-0 rounded-md bg-white/90 border border-[#E5E7EB]/60 flex items-center justify-center shadow-sm",style:{transform:"scaleX(-1)"},children:s.jsx("span",{style:{fontSize:"9px",fontWeight:700,color:M==="en"?"#491B6D":"#9CA3AF",transform:"scaleX(-1)"},children:M==="en"?"EN":"KR"})}),s.jsx("div",{className:"flex-1 bg-[#F3F4F6]/60 border border-[#E5E7EB]/40 rounded-lg px-3 py-2",children:s.jsx("p",{className:"text-[#4B5563]",style:{fontSize:"12px",fontWeight:500,lineHeight:1.5},children:H(M==="en"?R.example:R.translation||R.example,R.word)})})]}),R.etymology&&s.jsx("div",{className:"bg-[#F3F4F6]/80 border border-[#E5E7EB]/60 rounded-[16px] p-[10px]",children:s.jsx("p",{className:"text-[#4B5563]",style:{fontSize:"11.5px",fontWeight:500,lineHeight:1.6},children:R.etymology})}),s.jsxs("div",{className:"space-y-2",children:[R.derivatives&&R.derivatives.length>0&&s.jsx("div",{className:"bg-white/60 rounded-[16px] p-2 border border-[#E5E7EB]/50",children:s.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-1",children:R.derivatives.map((fe,ye)=>{const Ae=`${R.id}_derivative_${fe.word}`,xe=ae(Ae);return s.jsxs(O.button,{whileTap:{scale:.95},onClick:Qe=>X(Qe,fe.word,fe.meaning||"","derivative"),className:`inline-flex items-baseline gap-1 px-2 py-1 rounded-lg transition-colors ${xe?"bg-[#7C3AED]/10 border border-[#7C3AED]":"hover:bg-gray-100 border border-transparent"}`,children:[s.jsx("span",{className:`text-[11px] font-semibold ${xe?"text-[#7C3AED]":"text-gray-700"}`,children:fe.word}),fe.meaning&&s.jsxs("span",{className:"text-[10px] text-gray-500",children:["(",fe.meaning,")"]})]},ye)})})}),(R.synonyms&&R.synonyms.length>0||R.antonyms&&R.antonyms.length>0)&&s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[R.synonyms&&R.synonyms.length>0&&s.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2 border border-[#E5E7EB]/50",children:[s.jsx("p",{className:"text-[#6B7280] mb-1",style:{fontSize:"10px",fontWeight:600,letterSpacing:"0.02em"},children:""}),s.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-1",children:R.synonyms.map((fe,ye)=>{const Ae=`${R.id}_synonym_${fe.word}`,xe=ae(Ae);return s.jsxs(O.button,{whileTap:{scale:.95},onClick:Qe=>X(Qe,fe.word,fe.meaning||"","synonym"),className:`inline-flex items-baseline gap-1 px-2 py-1 rounded-lg transition-colors ${xe?"bg-[#7C3AED]/10 border border-[#7C3AED]":"hover:bg-gray-100 border border-transparent"}`,children:[s.jsx("span",{className:`text-[11px] font-semibold ${xe?"text-[#7C3AED]":"text-gray-700"}`,children:fe.word}),fe.meaning&&s.jsxs("span",{className:"text-[10px] text-gray-500",children:["(",fe.meaning,")"]})]},ye)})})]}),R.antonyms&&R.antonyms.length>0&&s.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2 border border-[#E5E7EB]/50",children:[s.jsx("p",{className:"text-[#6B7280] mb-1",style:{fontSize:"10px",fontWeight:600,letterSpacing:"0.02em"},children:""}),s.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-1",children:R.antonyms.map((fe,ye)=>{const Ae=`${R.id}_antonym_${fe.word}`,xe=ae(Ae);return s.jsxs(O.button,{whileTap:{scale:.95},onClick:Qe=>X(Qe,fe.word,fe.meaning||"","antonym"),className:`inline-flex items-baseline gap-1 px-2 py-1 rounded-lg transition-colors ${xe?"bg-[#7C3AED]/10 border border-[#7C3AED]":"hover:bg-gray-100 border border-transparent"}`,children:[s.jsx("span",{className:`text-[11px] font-semibold ${xe?"text-[#7C3AED]":"text-gray-700"}`,children:fe.word}),fe.meaning&&s.jsxs("span",{className:"text-[10px] text-gray-500",children:["(",fe.meaning,")"]})]},ye)})})]})]})]})]})]})]})},m)})})]})}),s.jsxs("div",{className:`${d?"relative py-4":"absolute bottom-8"} left-0 right-0 z-[9999] flex items-center justify-center gap-3 px-4`,style:{pointerEvents:"auto"},children:[s.jsx(O.button,{whileTap:{scale:.9},onClick:wt,className:"w-14 h-14 bg-white/95 backdrop-blur-lg rounded-full flex items-center justify-center shadow-xl",children:s.jsx(hS,{className:"w-5 h-5 text-[#8B5CF6]"})}),s.jsx(O.button,{whileTap:{scale:.9},onClick:Ne,disabled:N,className:`w-16 h-16 backdrop-blur-lg rounded-full flex items-center justify-center shadow-xl ${N?"bg-white/50 opacity-50":"bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED]"}`,children:s.jsx(Li,{className:"w-7 h-7 text-white fill-white"})}),s.jsx(O.button,{whileTap:{scale:.9},onClick:ke,disabled:!N,className:`w-14 h-14 backdrop-blur-lg rounded-full flex items-center justify-center shadow-xl ${N?"bg-white/95":"bg-white/50 opacity-50"}`,children:s.jsx(lu,{className:"w-6 h-6 text-[#491B6D]"})}),s.jsx(O.button,{whileTap:{scale:.9},onClick:tt,className:"w-14 h-14 bg-white/95 backdrop-blur-lg rounded-full flex items-center justify-center shadow-xl",children:s.jsx(cu,{className:"w-5 h-5 text-[#EF4444] fill-[#EF4444]"})}),s.jsxs(O.button,{whileTap:{scale:.9},onClick:z,className:"w-14 h-14 bg-white/95 backdrop-blur-lg rounded-full flex items-center justify-center shadow-xl relative",children:[s.jsx(hl,{className:"w-6 h-6 text-[#6B7280]"}),oe.length>0&&s.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-[#7C3AED] rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:oe.length})})]})]}),s.jsx(D0,{open:U,onClose:()=>G(!1),words:oe,onRemoveWord:L,onClear:ee,onActionComplete:async()=>{G(!1);const{invalidateVocabularyListCache:fe}=await Fr(async()=>{const{invalidateVocabularyListCache:ye}=await Promise.resolve().then(()=>P0);return{invalidateVocabularyListCache:ye}},void 0);fe(),p&&await p()},currentVocabularyId:u,currentVocabularyTitle:f})]})}function B9({onBack:e,onSelectVocabulary:t}){const[n,r]=g.useState([]),[i,a]=g.useState(!0),[c,d]=g.useState(""),[u,f]=g.useState("All"),[p,m]=g.useState(["All"]),[y,v]=g.useState(new Set);g.useEffect(()=>{w(),j()},[]),g.useEffect(()=>{const C=[document.documentElement,document.body];return C.forEach(_=>_?.classList.add("gift-fullscreen")),()=>{C.forEach(_=>_?.classList.remove("gift-fullscreen"))}},[]);const w=async()=>{try{const C=await fetch(`https://${Je}.supabase.co/functions/v1/server/admin/categories`,{headers:{Authorization:`Bearer ${En}`}});if(!C.ok){console.error("Failed to fetch categories:",await C.text());return}const T=((await C.json()).categories||[]).filter(I=>I.enabled).map(I=>I.name);m(["All",...T])}catch(C){console.error("Error fetching categories:",C)}},j=async()=>{try{let C=await fetch(`https://${Je}.supabase.co/functions/v1/server/admin/shared-vocabularies`,{headers:{Authorization:`Bearer ${En}`}});if(C.ok||(C=await fetch(`https://${Je}.supabase.co/functions/v1/server/shared-vocabularies`,{headers:{Authorization:`Bearer ${En}`}})),!C.ok){console.error("Failed to fetch vocabularies:",await C.text());return}const _=await C.json();r(_.vocabularies||[])}catch(C){console.error("Error fetching shared vocabularies:",C)}finally{a(!1)}},S=n.filter(C=>(C.title?.toLowerCase()||"").includes(c.toLowerCase())&&(u==="All"||C.category===u)).sort((C,_)=>C.title.localeCompare(_.title,"ko-KR")),N=C=>{v(_=>{const T=new Set(_);return T.has(C)?T.delete(C):T.add(C),T})},E=()=>{n.filter(_=>y.has(_.id)).forEach(_=>{t(_)}),v(new Set)};return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(8px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out forwards;
          opacity: 0;
        }
      `}),s.jsxs("div",{className:"min-h-screen h-full flex flex-col bg-transparent overflow-hidden",children:[s.jsx(Gl,{onBack:e,title:"Presets",subtitle:"  "}),s.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:s.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:[s.jsxs("div",{className:"sticky top-0 z-20 bg-transparent backdrop-blur-xl border-b border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(t0,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#8B5CF6]/50"}),s.jsx("input",{type:"text",value:c,onChange:C=>d(C.target.value),placeholder:"Search preset vocabulary...",className:"w-full pl-12 pr-4 py-3 rounded-full bg-white/90 shadow-md text-[#491B6D] placeholder:text-[#8B5CF6]/40 focus:outline-none focus:ring-2 focus:ring-[#8B5CF6]/30"})]})}),y.size>0&&s.jsxs(O.button,{whileTap:{scale:.95},onClick:E,className:"bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] text-white rounded-full px-5 py-3 flex items-center gap-2 shadow-lg whitespace-nowrap",style:{fontSize:"14px",fontWeight:600},children:[s.jsx(Yo,{className:"w-4 h-4"})," (",y.size,")"]})]}),s.jsx("div",{className:"flex gap-3 px-4 pb-3 overflow-x-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:p.map(C=>s.jsx("button",{onClick:_=>{_.preventDefault(),_.stopPropagation(),f(C)},className:`px-6 py-2.5 rounded-full whitespace-nowrap transition-all flex-shrink-0 active:scale-95 ${u===C?"bg-[#091A7A] text-white shadow-lg":"bg-transparent text-[#091A7A]"}`,style:{fontSize:"15px",fontWeight:600,touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},children:C},C))})]}),s.jsx("div",{className:"px-4 pb-32",children:i?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"w-8 h-8 border-4 border-[#8B5CF6]/20 border-t-[#8B5CF6] rounded-full animate-spin"})}):S.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ou,{className:"w-16 h-16 text-[#491B6D]/40 mx-auto mb-4"}),s.jsx("p",{className:"text-[#491B6D]/70",children:"  "})]}):s.jsx("div",{className:"space-y-3 pt-4",children:S.map((C,_)=>s.jsx("div",{onClick:()=>N(C.id),className:"bg-white/95 backdrop-blur-lg rounded-2xl overflow-hidden shadow-md p-4 cursor-pointer active:scale-[0.98] transition-all duration-200 hover:shadow-lg animate-fade-in",style:{animationDelay:`${Math.min(_*30,300)}ms`},children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center justify-center flex-shrink-0",children:s.jsx("div",{className:`w-5 h-5 rounded-lg border-2 flex items-center justify-center transition-all ${y.has(C.id)?"bg-[#8B5CF6] border-[#8B5CF6]":"bg-white border-[#8B5CF6]/30"}`,children:y.has(C.id)&&s.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{d:"M5 13l4 4L19 7"})})})}),s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED] rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(ou,{className:"w-5 h-5 text-white"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[s.jsx("h3",{className:"text-[#491B6D] font-semibold text-sm truncate",children:C.title}),s.jsxs("span",{className:"text-[#8B5CF6] text-xs font-medium whitespace-nowrap",children:[C.total_words.toLocaleString(),""]})]})})]})},C.id))})})]})})]})]})}var $9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],z9=$9.reduce((e,t)=>{const n=RS(`Primitive.${t}`),r=g.forwardRef((i,a)=>{const{asChild:c,...d}=i,u=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...d,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),W9="Label",lC=g.forwardRef((e,t)=>s.jsx(z9.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));lC.displayName=W9;var V9=lC;function Vp({className:e,...t}){return s.jsx(V9,{"data-slot":"label",className:bn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function U9({onSave:e,initialData:t=[],data:n,fullscreen:r=!1,headerInfo:i,onHeaderChange:a,onChange:c,getAuthToken:d,hideHeaderFields:u=!1}){const[f,p]=g.useState(!1);g.useRef(null);const[m,y]=g.useState(!1),[v,w]=g.useState(""),j=P=>P.map(R=>({word:R.word,meaning:R.meaning,synonyms:R.synonyms.join(", "),antonyms:R.antonyms.join(", "),example:R.example,translation:R.translation})),[S,N]=g.useState(()=>n&&n.length>0?j(n):Array(10).fill(null).map(()=>({word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""}))),[E,C]=g.useState(null),_=g.useRef({});g.useEffect(()=>{n&&n.length>0&&N(j(n))},[n]);const T=r?["word","meaning","synonyms","antonyms","example","translation"]:["word","meaning"],I={word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""},M=()=>{N([...S,{word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""}])},F=P=>{S.length>1&&N(S.filter((R,q)=>q!==P))},U=(P,R,q)=>{const B=[...S];if(B[P][R]=q,N(B),c&&n&&n[P]){const W={...n[P],[R]:R==="synonyms"||R==="antonyms"?q.split(",").map(X=>X.trim()).filter(X=>X!==""):q},z=[...n];z[P]=W,c(z)}else c&&c(B.map((W,z)=>({id:z+1,word:W.word,pronunciation:n?.[z]?.pronunciation||"",partOfSpeech:n?.[z]?.partOfSpeech||"",meaning:W.meaning,definition:n?.[z]?.definition||void 0,synonyms:W.synonyms.split(",").map(X=>X.trim()).filter(X=>X!==""),antonyms:W.antonyms.split(",").map(X=>X.trim()).filter(X=>X!==""),derivatives:n?.[z]?.derivatives||[],example:W.example,translation:W.translation,translationHighlight:n?.[z]?.translationHighlight||void 0,etymology:n?.[z]?.etymology||""})))},G=(P,R,q)=>{if(P.key==="Enter"){P.preventDefault();const B=R+1;B>=S.length&&M(),setTimeout(()=>{const W=`${B}-${q}`;_.current[W]?.focus()},0)}else if(P.key==="Tab"){P.preventDefault();const B=q+1;if(B<T.length){const W=`${R}-${B}`;_.current[W]?.focus()}else{const W=R+1;W>=S.length&&M(),setTimeout(()=>{const z=`${W}-0`;_.current[z]?.focus()},0)}}},se=(P,R,q)=>{P.preventDefault();const W=P.clipboardData.getData("text").split(`
`).filter(X=>X.trim()!==""),z=[...S];W.forEach((X,H)=>{const Z=X.split("	"),Q=R+H;for(;z.length<=Q;)z.push({word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""});Z.forEach((te,he)=>{const le=q+he;le<T.length&&(z[Q][T[le]]=te.trim())})}),N(z)},ae=10,oe=3,ee=async(P,R=3)=>{try{const q=P.filter(te=>te.word&&te.word.trim()!=="");if(q.length===0)return console.error("  "),{items:[],inputTokens:0,outputTokens:0};const B=d?.();if(!B)throw new Error(" .  .");const W=await fetch(`https://${Je}.supabase.co/functions/v1/server/generate-vocabulary-batch`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B}`},body:JSON.stringify({words:q.map(te=>({word:te.word.trim(),meaning:te.meaning?te.meaning.trim():""}))})});if(!W.ok){const te=await W.text();throw console.error(" API :",te),new Error("Failed to generate word info")}const z=await W.json();if(!z.success)throw new Error(z.error||"Generation failed");const X=z.results||z.data||[],H=z.inputTokens||0,Z=z.outputTokens||0;return{items:q.map((te,he)=>{const le=X[he]||{};return{id:0,word:te.word,pronunciation:le.pronunciation||"",partOfSpeech:le.partOfSpeech||"",meaning:le.meaning||te.meaning,definition:le.definition||void 0,synonyms:te.synonyms?te.synonyms.split(",").map(Ne=>Ne.trim()).filter(Ne=>Ne!==""):le.synonyms||[],antonyms:te.antonyms?te.antonyms.split(",").map(Ne=>Ne.trim()).filter(Ne=>Ne!==""):le.antonyms||[],derivatives:le.derivatives||[],example:te.example||le.example||"",translation:te.translation||le.translation||"",translationHighlight:le.translationHighlight||void 0,etymology:le.etymology||""}}),inputTokens:H,outputTokens:Z}}catch(q){return console.error("API :",q),R>0?(console.log(` ... ( : ${R})`),await new Promise(B=>setTimeout(B,2e3)),ee(P,R-1)):{items:P.map(B=>({id:0,word:B.word,pronunciation:"",partOfSpeech:"",meaning:B.meaning,definition:void 0,synonyms:B.synonyms.split(",").map(W=>W.trim()).filter(W=>W!==""),antonyms:B.antonyms.split(",").map(W=>W.trim()).filter(W=>W!==""),derivatives:[],example:B.example,translation:B.translation,translationHighlight:void 0,etymology:""})),inputTokens:0,outputTokens:0}}},L=async P=>{const R=[];for(let te=0;te<P.length;te+=ae)R.push(P.slice(te,te+ae));const q=[];let B=0,W=0,z=0;const X=async(te,he)=>{const le=await ee(te);return{index:he,items:le.items,inputTokens:le.inputTokens,outputTokens:le.outputTokens}},H=async te=>{const he=Math.min(te+oe,R.length),le=[];for(let ke=te;ke<he;ke++)le.push(X(R[ke],ke));const Ne=await Promise.all(le);for(const ke of Ne)q.push({index:ke.index,items:ke.items}),B+=ke.inputTokens,W+=ke.outputTokens,z++,R.length>1&&pe.loading(`AI   ... (${z}/${R.length} , ${Math.min(z*ae,P.length)}/${P.length})`,{id:"generating",duration:1/0});return he};let Z=0;for(;Z<R.length;)Z=await H(Z),Z<R.length&&await new Promise(te=>setTimeout(te,300));return q.sort((te,he)=>te.index-he.index),{items:q.flatMap(te=>te.items),inputTokens:B,outputTokens:W}},$=async P=>{const R=P||S,q=R.filter(B=>B.word&&B.word.trim()!=="");if(console.log("=== handleSave  ==="),console.log("  :",R.length),console.log("   :",q.length),console.log(" 3 :",q.slice(0,3)),q.length===0){pe.error(" .",{duration:1e3});return}p(!0),pe.loading(`AI ${q.length}   ...`,{id:"generating",duration:1/0});try{console.log(`     (BATCH_SIZE=${ae}, CONCURRENCY=${oe})`);const{items:B,inputTokens:W,outputTokens:z}=await L(q);pe.dismiss("generating"),console.log(" ! ",B.length,""),console.log(`    - : ${W}, : ${z}`);const X=B.map((H,Z)=>({...H,id:Z+1}));N(j(X)),setTimeout(()=>{pe.success(`${X.length}   !`,{duration:1e3})},300),e(X,{inputTokens:W,outputTokens:z})}catch(B){console.error(" :",B),pe.dismiss("generating"),pe.error("AI    .",{duration:1e3})}finally{p(!1)}},D=()=>{if(!v.trim())return null;const P=v.split(/[\n,]+/).map(q=>q.trim()).filter(q=>q!=="");if(P.length===0)return null;const R=P.map(q=>({word:q,meaning:"",synonyms:"",antonyms:"",example:"",translation:""}));return N(R),w(""),R};return s.jsxs("div",{className:"flex flex-col h-full",children:[i&&a&&!u&&s.jsxs("div",{className:"mb-4 flex-shrink-0 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vp,{htmlFor:"headerTitle",className:`whitespace-nowrap text-xs ${m?"text-red-600":"text-slate-700"}`,children:" ()"}),s.jsx(uu,{id:"headerTitle",value:i.headerTitle,onChange:P=>{a({...i,headerTitle:P.target.value}),m&&y(!1)},placeholder:":     ",className:`bg-white flex-1 transition-all text-sm ${m?"border-red-500 border-2 ring-4 ring-red-100 animate-shake":"border-gray-300"}`,style:{fontFamily:"SUIT",fontWeight:"600"},required:!0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vp,{htmlFor:"headerDescription",className:"text-slate-600 whitespace-nowrap text-xs",children:" ()"}),s.jsx(uu,{id:"headerDescription",value:i.headerDescription,onChange:P=>a({...i,headerDescription:P.target.value}),placeholder:": 1 2 ",className:"bg-white border-gray-300 flex-1 text-gray-700 placeholder:text-gray-400 text-sm",style:{fontFamily:"SUIT"}})]})]}),s.jsxs("div",{className:"mb-4 flex-shrink-0",children:[s.jsx(Vp,{className:"text-xs text-slate-700 mb-2 block",children:"  (   )"}),s.jsx("textarea",{value:v,onChange:P=>w(P.target.value),placeholder:" . : apple, banana, cat",className:"w-full h-24 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(Un,{onClick:async()=>{if(i&&(i.headerTitle.trim()==="JEJEVOCA"||i.headerTitle.trim()==="")){y(!0),pe.error("  !",{duration:1e3}),setTimeout(()=>{const R=document.getElementById("headerTitle");R&&(i.headerTitle.trim()==="JEJEVOCA"&&a&&a({...i,headerTitle:""}),R.focus(),R.select())},100),setTimeout(()=>{y(!1)},3e3);return}const P=D();P&&$(P)},disabled:f||!v.trim(),size:"sm",children:f?"AI  ...":" "}),s.jsx(Un,{onClick:M,variant:"outline",size:"sm",children:"+ "}),s.jsx(Un,{onClick:()=>{N(Array(10).fill(null).map(()=>({word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""}))),w(""),pe.success("  ",{duration:1e3})},variant:"outline",size:"sm",children:" "})]})]}),s.jsx("div",{className:"h-[350px] overflow-auto border border-gray-300 rounded flex-shrink-0",children:s.jsx("div",{className:"overflow-x-scroll overflow-y-auto h-full",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"border border-gray-300 px-2 py-2 text-xs w-12",children:"#"}),T.map(P=>s.jsx("th",{className:"border border-gray-300 px-3 py-2 text-xs min-w-[96px]",children:I[P]},P)),s.jsx("th",{className:"border border-gray-300 px-2 py-2 text-xs w-12",children:""})]})}),s.jsx("tbody",{children:S.map((P,R)=>s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-300 px-2 py-1 text-xs text-center bg-gray-50",children:R+1}),T.map((q,B)=>s.jsx("td",{className:"border border-gray-300 p-0",children:s.jsx("input",{ref:W=>{_.current[`${R}-${B}`]=W},type:"text",value:P[q],onChange:W=>U(R,q,W.target.value),onKeyDown:W=>G(W,R,B),onPaste:W=>se(W,R,B),onFocus:()=>C({row:R,col:B}),className:"w-full min-w-[96px] px-2 py-1.5 text-xs border-0 focus:outline-none focus:ring-2 focus:ring-blue-500 text-black"})},q)),s.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:s.jsx("button",{onClick:()=>F(R),className:"text-red-600 hover:text-red-800 text-xs",disabled:S.length===1,children:""})})]},R))})]})})})]})}const H9={DEV:!1},Jd=Yn(),q9={isAuthenticated:!1,currentUser:null,token:null,isInitializing:!0};let ol={...q9};const sg=new Set;let Id=null,Up=null,Ei=!1;const b1=typeof import.meta<"u"?H9:void 0,cC=!!b1?.DEV&&b1?.VITE_DEBUG_AUTH==="true",Ur=(e,t)=>{cC&&console.log(e)},ml=(e,t)=>{if(!cC||!e){e||(Up=null);return}Up!==e&&(Up=e,console.log(`${t} ${e.substring(0,20)}...`))},Ri=e=>{typeof window>"u"||(e?localStorage.setItem("supabase_access_token",e):localStorage.removeItem("supabase_access_token"))},cs=e=>{let t=!1;for(const n of Object.keys(e))if(ol[n]!==e[n]){t=!0;break}t&&(ol={...ol,...e},sg.forEach(n=>n(ol)))},G9=async()=>Id||(Id=(async()=>{try{const{data:{session:e}}=await Jd.auth.getSession();e?.access_token?(Ur(" Found existing session"),Ri(e.access_token),ml(e.access_token," Auth token initialized"),cs({isAuthenticated:!0,currentUser:e.user,token:e.access_token}),Ei=!1):(Ur(" No existing session"),Ri(null),ml(null,""),cs({isAuthenticated:!1,currentUser:null,token:null}))}catch(e){console.error(" Error initializing auth:",e),cs({isAuthenticated:!1,currentUser:null,token:null})}finally{cs({isInitializing:!1})}})(),Id);function Ql(){const[e,t]=g.useState(ol);g.useEffect(()=>{const a=d=>t(d);sg.add(a),G9();const{data:{subscription:c}}=Jd.auth.onAuthStateChange(async(d,u)=>{Ur(` Auth state changed: ${d}`),d==="SIGNED_IN"&&u?(Ur(" User signed in via auth listener"),Ri(u.access_token),cs({isAuthenticated:!0,currentUser:u.user,token:u.access_token,isInitializing:!1})):d==="SIGNED_OUT"?(Ur(" User signed out via auth listener"),Ri(null),cs({isAuthenticated:!1,currentUser:null,token:null,isInitializing:!1})):d==="TOKEN_REFRESHED"&&u&&(Ur(" Token refreshed via auth listener"),Ri(u.access_token),cs({token:u.access_token}))});return()=>{sg.delete(a),c.unsubscribe()}},[]);const n=g.useCallback((a,c)=>{Ur(" Login: Setting user and token"),Ri(c),ml(c," Auth token updated"),Ei=!1,cs({isAuthenticated:!0,currentUser:a,token:c,isInitializing:!1})},[]),r=g.useCallback(()=>{Ur(" Logging out..."),Jd.auth.signOut(),Ri(null),ml(null,""),cs({isAuthenticated:!1,currentUser:null,token:null,isInitializing:!1})},[]),i=g.useCallback(()=>{if(e.token)return e.token;if(typeof window>"u")return null;const a=localStorage.getItem("supabase_access_token");return a?e.isAuthenticated?(ml(a," Auth token restored"),Ei=!1,a):(Ei||(Ur(" Token in localStorage but not authenticated"),Ei=!0),null):(Ei||(Ur(" No auth token available"),Ei=!0),null)},[e.token,e.isAuthenticated]);return{isAuthenticated:e.isAuthenticated,currentUser:e.currentUser,isInitializing:e.isInitializing,login:n,logout:r,getAuthToken:i,supabase:Jd}}function K9(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const th=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ua(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function O0(e){return"nodeType"in e}function _n(e){var t,n;return e?ua(e)?e:O0(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function I0(e){const{Document:t}=_n(e);return e instanceof t}function Zl(e){return ua(e)?!1:e instanceof _n(e).HTMLElement}function dC(e){return e instanceof _n(e).SVGElement}function ha(e){return e?ua(e)?e.document:O0(e)?I0(e)?e:Zl(e)||dC(e)?e.ownerDocument:document:document:document}const Rr=th?g.useLayoutEffect:g.useEffect;function nh(e){const t=g.useRef(e);return Rr(()=>{t.current=e}),g.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function Y9(){const e=g.useRef(null),t=g.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=g.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ol(e,t){t===void 0&&(t=[e]);const n=g.useRef(e);return Rr(()=>{n.current!==e&&(n.current=e)},t),n}function ec(e,t){const n=g.useRef();return g.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function ku(e){const t=nh(e),n=g.useRef(null),r=g.useCallback(i=>{i!==n.current&&t?.(i,n.current),n.current=i},[]);return[n,r]}function Cu(e){const t=g.useRef();return g.useEffect(()=>{t.current=e},[e]),t.current}let Hp={};function tc(e,t){return g.useMemo(()=>{if(t)return t;const n=Hp[e]==null?0:Hp[e]+1;return Hp[e]=n,e+"-"+n},[e,t])}function uC(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,c)=>{const d=Object.entries(c);for(const[u,f]of d){const p=a[u];p!=null&&(a[u]=p+e*f)}return a},{...t})}}const Uo=uC(1),Eu=uC(-1);function X9(e){return"clientX"in e&&"clientY"in e}function rh(e){if(!e)return!1;const{KeyboardEvent:t}=_n(e.target);return t&&e instanceof t}function J9(e){if(!e)return!1;const{TouchEvent:t}=_n(e.target);return t&&e instanceof t}function _u(e){if(J9(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return X9(e)?{x:e.clientX,y:e.clientY}:null}const Qs=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Qs.Translate.toString(e),Qs.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),j1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Q9(e){return e.matches(j1)?e:e.querySelector(j1)}const Z9={display:"none"};function e7(e){let{id:t,value:n}=e;return de.createElement("div",{id:t,style:Z9},n)}function t7(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return de.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function n7(){const[e,t]=g.useState("");return{announce:g.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const hC=g.createContext(null);function r7(e){const t=g.useContext(hC);g.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function s7(){const[e]=g.useState(()=>new Set),t=g.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[g.useCallback(r=>{let{type:i,event:a}=r;e.forEach(c=>{var d;return(d=c[i])==null?void 0:d.call(c,a)})},[e]),t]}const i7={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},o7={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function a7(e){let{announcements:t=o7,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=i7}=e;const{announce:a,announcement:c}=n7(),d=tc("DndLiveRegion"),[u,f]=g.useState(!1);if(g.useEffect(()=>{f(!0)},[]),r7(g.useMemo(()=>({onDragStart(m){let{active:y}=m;a(t.onDragStart({active:y}))},onDragMove(m){let{active:y,over:v}=m;t.onDragMove&&a(t.onDragMove({active:y,over:v}))},onDragOver(m){let{active:y,over:v}=m;a(t.onDragOver({active:y,over:v}))},onDragEnd(m){let{active:y,over:v}=m;a(t.onDragEnd({active:y,over:v}))},onDragCancel(m){let{active:y,over:v}=m;a(t.onDragCancel({active:y,over:v}))}}),[a,t])),!u)return null;const p=de.createElement(de.Fragment,null,de.createElement(e7,{id:r,value:i.draggable}),de.createElement(t7,{id:d,announcement:c}));return n?_r.createPortal(p,n):p}var tn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(tn||(tn={}));function Au(){}function l7(e,t){return g.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function c7(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Dr=Object.freeze({x:0,y:0});function d7(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function u7(e,t){const n=_u(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function h7(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function f7(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function p7(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function S1(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const m7=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=S1(t,t.left,t.top),a=[];for(const c of r){const{id:d}=c,u=n.get(d);if(u){const f=d7(S1(u),i);a.push({id:d,data:{droppableContainer:c,value:f}})}}return a.sort(h7)};function g7(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),c=i-r,d=a-n;if(r<i&&n<a){const u=t.width*t.height,f=e.width*e.height,p=c*d,m=p/(u+f-p);return Number(m.toFixed(4))}return 0}const x7=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const a of r){const{id:c}=a,d=n.get(c);if(d){const u=g7(d,t);u>0&&i.push({id:c,data:{droppableContainer:a,value:u}})}}return i.sort(f7)};function y7(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function fC(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Dr}function v7(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((c,d)=>({...c,top:c.top+e*d.y,bottom:c.bottom+e*d.y,left:c.left+e*d.x,right:c.right+e*d.x}),{...n})}}const w7=v7(1);function pC(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function b7(e,t,n){const r=pC(t);if(!r)return e;const{scaleX:i,scaleY:a,x:c,y:d}=r,u=e.left-c-(1-i)*parseFloat(n),f=e.top-d-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),p=i?e.width/i:e.width,m=a?e.height/a:e.height;return{width:p,height:m,top:f,right:u+p,bottom:f+m,left:u}}const j7={ignoreTransform:!1};function fa(e,t){t===void 0&&(t=j7);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:p}=_n(e).getComputedStyle(e);f&&(n=b7(n,f,p))}const{top:r,left:i,width:a,height:c,bottom:d,right:u}=n;return{top:r,left:i,width:a,height:c,bottom:d,right:u}}function N1(e){return fa(e,{ignoreTransform:!0})}function S7(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function N7(e,t){return t===void 0&&(t=_n(e).getComputedStyle(e)),t.position==="fixed"}function k7(e,t){t===void 0&&(t=_n(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?n.test(a):!1})}function F0(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(I0(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Zl(i)||dC(i)||n.includes(i))return n;const a=_n(e).getComputedStyle(i);return i!==e&&k7(i,a)&&n.push(i),N7(i,a)?n:r(i.parentNode)}return e?r(e):n}function mC(e){const[t]=F0(e,1);return t??null}function qp(e){return!th||!e?null:ua(e)?e:O0(e)?I0(e)||e===ha(e).scrollingElement?window:Zl(e)?e:null:null}function gC(e){return ua(e)?e.scrollX:e.scrollLeft}function xC(e){return ua(e)?e.scrollY:e.scrollTop}function ig(e){return{x:gC(e),y:xC(e)}}var on;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(on||(on={}));function yC(e){return!th||!e?!1:e===document.scrollingElement}function vC(e){const t={x:0,y:0},n=yC(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,c=e.scrollTop>=r.y,d=e.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:c,isRight:d,maxScroll:r,minScroll:t}}const C7={x:.2,y:.2};function E7(e,t,n,r,i){let{top:a,left:c,right:d,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=C7);const{isTop:f,isBottom:p,isLeft:m,isRight:y}=vC(e),v={x:0,y:0},w={x:0,y:0},j={height:t.height*i.y,width:t.width*i.x};return!f&&a<=t.top+j.height?(v.y=on.Backward,w.y=r*Math.abs((t.top+j.height-a)/j.height)):!p&&u>=t.bottom-j.height&&(v.y=on.Forward,w.y=r*Math.abs((t.bottom-j.height-u)/j.height)),!y&&d>=t.right-j.width?(v.x=on.Forward,w.x=r*Math.abs((t.right-j.width-d)/j.width)):!m&&c<=t.left+j.width&&(v.x=on.Backward,w.x=r*Math.abs((t.left+j.width-c)/j.width)),{direction:v,speed:w}}function _7(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:c}=window;return{top:0,left:0,right:a,bottom:c,width:a,height:c}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function wC(e){return e.reduce((t,n)=>Uo(t,ig(n)),Dr)}function A7(e){return e.reduce((t,n)=>t+gC(n),0)}function T7(e){return e.reduce((t,n)=>t+xC(n),0)}function bC(e,t){if(t===void 0&&(t=fa),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);mC(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const P7=[["x",["left","right"],A7],["y",["top","bottom"],T7]];class M0{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=F0(n),i=wC(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,c,d]of P7)for(const u of c)Object.defineProperty(this,u,{get:()=>{const f=d(r),p=i[a]-f;return this.rect[u]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class gl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function R7(e){const{EventTarget:t}=_n(e);return e instanceof t?e:ha(e)}function Gp(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var lr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(lr||(lr={}));function k1(e){e.preventDefault()}function D7(e){e.stopPropagation()}var xt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(xt||(xt={}));const jC={start:[xt.Space,xt.Enter],cancel:[xt.Esc],end:[xt.Space,xt.Enter,xt.Tab]},O7=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case xt.Right:return{...n,x:n.x+25};case xt.Left:return{...n,x:n.x-25};case xt.Down:return{...n,y:n.y+25};case xt.Up:return{...n,y:n.y-25}}};class SC{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new gl(ha(n)),this.windowListeners=new gl(_n(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(lr.Resize,this.handleCancel),this.windowListeners.add(lr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(lr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&bC(r),n(Dr)}handleKeyDown(t){if(rh(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=jC,coordinateGetter:c=O7,scrollBehavior:d="smooth"}=i,{code:u}=t;if(a.end.includes(u)){this.handleEnd(t);return}if(a.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:f}=r.current,p=f?{x:f.left,y:f.top}:Dr;this.referenceCoordinates||(this.referenceCoordinates=p);const m=c(t,{active:n,context:r.current,currentCoordinates:p});if(m){const y=Eu(m,p),v={x:0,y:0},{scrollableAncestors:w}=r.current;for(const j of w){const S=t.code,{isTop:N,isRight:E,isLeft:C,isBottom:_,maxScroll:T,minScroll:I}=vC(j),M=_7(j),F={x:Math.min(S===xt.Right?M.right-M.width/2:M.right,Math.max(S===xt.Right?M.left:M.left+M.width/2,m.x)),y:Math.min(S===xt.Down?M.bottom-M.height/2:M.bottom,Math.max(S===xt.Down?M.top:M.top+M.height/2,m.y))},U=S===xt.Right&&!E||S===xt.Left&&!C,G=S===xt.Down&&!_||S===xt.Up&&!N;if(U&&F.x!==m.x){const se=j.scrollLeft+y.x,ae=S===xt.Right&&se<=T.x||S===xt.Left&&se>=I.x;if(ae&&!y.y){j.scrollTo({left:se,behavior:d});return}ae?v.x=j.scrollLeft-se:v.x=S===xt.Right?j.scrollLeft-T.x:j.scrollLeft-I.x,v.x&&j.scrollBy({left:-v.x,behavior:d});break}else if(G&&F.y!==m.y){const se=j.scrollTop+y.y,ae=S===xt.Down&&se<=T.y||S===xt.Up&&se>=I.y;if(ae&&!y.x){j.scrollTo({top:se,behavior:d});return}ae?v.y=j.scrollTop-se:v.y=S===xt.Down?j.scrollTop-T.y:j.scrollTop-I.y,v.y&&j.scrollBy({top:-v.y,behavior:d});break}}this.handleMove(t,Uo(Eu(m,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}SC.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=jC,onActivation:i}=t,{active:a}=n;const{code:c}=e.nativeEvent;if(r.start.includes(c)){const d=a.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function C1(e){return!!(e&&"distance"in e)}function E1(e){return!!(e&&"delay"in e)}class L0{constructor(t,n,r){var i;r===void 0&&(r=R7(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:c}=a;this.props=t,this.events=n,this.document=ha(c),this.documentListeners=new gl(this.document),this.listeners=new gl(r),this.windowListeners=new gl(_n(c)),this.initialCoordinates=(i=_u(a))!=null?i:Dr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(lr.Resize,this.handleCancel),this.windowListeners.add(lr.DragStart,k1),this.windowListeners.add(lr.VisibilityChange,this.handleCancel),this.windowListeners.add(lr.ContextMenu,k1),this.documentListeners.add(lr.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(E1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(C1(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(lr.Click,D7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(lr.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:c,options:{activationConstraint:d}}=a;if(!i)return;const u=(n=_u(t))!=null?n:Dr,f=Eu(i,u);if(!r&&d){if(C1(d)){if(d.tolerance!=null&&Gp(f,d.tolerance))return this.handleCancel();if(Gp(f,d.distance))return this.handleStart()}if(E1(d)&&Gp(f,d.tolerance))return this.handleCancel();this.handlePending(d,f);return}t.cancelable&&t.preventDefault(),c(u)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===xt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const I7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class B0 extends L0{constructor(t){const{event:n}=t,r=ha(n.target);super(t,I7,r)}}B0.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const F7={move:{name:"mousemove"},end:{name:"mouseup"}};var og;(function(e){e[e.RightClick=2]="RightClick"})(og||(og={}));class M7 extends L0{constructor(t){super(t,F7,ha(t.event.target))}}M7.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===og.RightClick?!1:(r?.({event:n}),!0)}}];const Kp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class L7 extends L0{constructor(t){super(t,Kp)}static setup(){return window.addEventListener(Kp.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Kp.move.name,t)};function t(){}}}L7.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var xl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(xl||(xl={}));var Tu;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Tu||(Tu={}));function B7(e){let{acceleration:t,activator:n=xl.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:c=5,order:d=Tu.TreeOrder,pointerCoordinates:u,scrollableAncestors:f,scrollableAncestorRects:p,delta:m,threshold:y}=e;const v=z7({delta:m,disabled:!a}),[w,j]=Y9(),S=g.useRef({x:0,y:0}),N=g.useRef({x:0,y:0}),E=g.useMemo(()=>{switch(n){case xl.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case xl.DraggableRect:return i}},[n,i,u]),C=g.useRef(null),_=g.useCallback(()=>{const I=C.current;if(!I)return;const M=S.current.x*N.current.x,F=S.current.y*N.current.y;I.scrollBy(M,F)},[]),T=g.useMemo(()=>d===Tu.TreeOrder?[...f].reverse():f,[d,f]);g.useEffect(()=>{if(!a||!f.length||!E){j();return}for(const I of T){if(r?.(I)===!1)continue;const M=f.indexOf(I),F=p[M];if(!F)continue;const{direction:U,speed:G}=E7(I,F,E,t,y);for(const se of["x","y"])v[se][U[se]]||(G[se]=0,U[se]=0);if(G.x>0||G.y>0){j(),C.current=I,w(_,c),S.current=G,N.current=U;return}}S.current={x:0,y:0},N.current={x:0,y:0},j()},[t,_,r,j,a,c,JSON.stringify(E),JSON.stringify(v),w,f,T,p,JSON.stringify(y)])}const $7={x:{[on.Backward]:!1,[on.Forward]:!1},y:{[on.Backward]:!1,[on.Forward]:!1}};function z7(e){let{delta:t,disabled:n}=e;const r=Cu(t);return ec(i=>{if(n||!r||!i)return $7;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[on.Backward]:i.x[on.Backward]||a.x===-1,[on.Forward]:i.x[on.Forward]||a.x===1},y:{[on.Backward]:i.y[on.Backward]||a.y===-1,[on.Forward]:i.y[on.Forward]||a.y===1}}},[n,t,r])}function W7(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return ec(i=>{var a;return t==null?null:(a=r??i)!=null?a:null},[r,t])}function V7(e,t){return g.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,r)}));return[...n,...a]},[]),[e,t])}var Il;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Il||(Il={}));var ag;(function(e){e.Optimized="optimized"})(ag||(ag={}));const _1=new Map;function U7(e,t){let{dragging:n,dependencies:r,config:i}=t;const[a,c]=g.useState(null),{frequency:d,measure:u,strategy:f}=i,p=g.useRef(e),m=S(),y=Ol(m),v=g.useCallback(function(N){N===void 0&&(N=[]),!y.current&&c(E=>E===null?N:E.concat(N.filter(C=>!E.includes(C))))},[y]),w=g.useRef(null),j=ec(N=>{if(m&&!n)return _1;if(!N||N===_1||p.current!==e||a!=null){const E=new Map;for(let C of e){if(!C)continue;if(a&&a.length>0&&!a.includes(C.id)&&C.rect.current){E.set(C.id,C.rect.current);continue}const _=C.node.current,T=_?new M0(u(_),_):null;C.rect.current=T,T&&E.set(C.id,T)}return E}return N},[e,a,n,m,u]);return g.useEffect(()=>{p.current=e},[e]),g.useEffect(()=>{m||v()},[n,m]),g.useEffect(()=>{a&&a.length>0&&c(null)},[JSON.stringify(a)]),g.useEffect(()=>{m||typeof d!="number"||w.current!==null||(w.current=setTimeout(()=>{v(),w.current=null},d))},[d,m,v,...r]),{droppableRects:j,measureDroppableContainers:v,measuringScheduled:a!=null};function S(){switch(f){case Il.Always:return!1;case Il.BeforeDragging:return n;default:return!n}}}function $0(e,t){return ec(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function H7(e,t){return $0(e,t)}function q7(e){let{callback:t,disabled:n}=e;const r=nh(t),i=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return g.useEffect(()=>()=>i?.disconnect(),[i]),i}function sh(e){let{callback:t,disabled:n}=e;const r=nh(t),i=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return g.useEffect(()=>()=>i?.disconnect(),[i]),i}function G7(e){return new M0(fa(e),e)}function A1(e,t,n){t===void 0&&(t=G7);const[r,i]=g.useState(null);function a(){i(u=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=u??n)!=null?f:null}const p=t(e);return JSON.stringify(u)===JSON.stringify(p)?u:p})}const c=q7({callback(u){if(e)for(const f of u){const{type:p,target:m}=f;if(p==="childList"&&m instanceof HTMLElement&&m.contains(e)){a();break}}}}),d=sh({callback:a});return Rr(()=>{a(),e?(d?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),c?.disconnect())},[e]),r}function K7(e){const t=$0(e);return fC(e,t)}const T1=[];function Y7(e){const t=g.useRef(e),n=ec(r=>e?r&&r!==T1&&e&&t.current&&e.parentNode===t.current.parentNode?r:F0(e):T1,[e]);return g.useEffect(()=>{t.current=e},[e]),n}function X7(e){const[t,n]=g.useState(null),r=g.useRef(e),i=g.useCallback(a=>{const c=qp(a.target);c&&n(d=>d?(d.set(c,ig(c)),new Map(d)):null)},[]);return g.useEffect(()=>{const a=r.current;if(e!==a){c(a);const d=e.map(u=>{const f=qp(u);return f?(f.addEventListener("scroll",i,{passive:!0}),[f,ig(f)]):null}).filter(u=>u!=null);n(d.length?new Map(d):null),r.current=e}return()=>{c(e),c(a)};function c(d){d.forEach(u=>{const f=qp(u);f?.removeEventListener("scroll",i)})}},[i,e]),g.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,c)=>Uo(a,c),Dr):wC(e):Dr,[e,t])}function P1(e,t){t===void 0&&(t=[]);const n=g.useRef(null);return g.useEffect(()=>{n.current=null},t),g.useEffect(()=>{const r=e!==Dr;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Eu(e,n.current):Dr}function J7(e){g.useEffect(()=>{if(!th)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function Q7(e,t){return g.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:a}=r;return n[i]=c=>{a(c,t)},n},{}),[e,t])}function NC(e){return g.useMemo(()=>e?S7(e):null,[e])}const R1=[];function Z7(e,t){t===void 0&&(t=fa);const[n]=e,r=NC(n?_n(n):null),[i,a]=g.useState(R1);function c(){a(()=>e.length?e.map(u=>yC(u)?r:new M0(t(u),u)):R1)}const d=sh({callback:c});return Rr(()=>{d?.disconnect(),c(),e.forEach(u=>d?.observe(u))},[e]),i}function kC(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Zl(t)?t:e}function ez(e){let{measure:t}=e;const[n,r]=g.useState(null),i=g.useCallback(f=>{for(const{target:p}of f)if(Zl(p)){r(m=>{const y=t(p);return m?{...m,width:y.width,height:y.height}:y});break}},[t]),a=sh({callback:i}),c=g.useCallback(f=>{const p=kC(f);a?.disconnect(),p&&a?.observe(p),r(p?t(p):null)},[t,a]),[d,u]=ku(c);return g.useMemo(()=>({nodeRef:d,rect:n,setRef:u}),[n,d,u])}const tz=[{sensor:B0,options:{}},{sensor:SC,options:{}}],nz={current:{}},Qd={draggable:{measure:N1},droppable:{measure:N1,strategy:Il.WhileDragging,frequency:ag.Optimized},dragOverlay:{measure:fa}};class yl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const rz={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new yl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Au},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Qd,measureDroppableContainers:Au,windowRect:null,measuringScheduled:!1},CC={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Au,draggableNodes:new Map,over:null,measureDroppableContainers:Au},nc=g.createContext(CC),EC=g.createContext(rz);function sz(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new yl}}}function iz(e,t){switch(t.type){case tn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case tn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case tn.DragEnd:case tn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case tn.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new yl(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case tn.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const c=new yl(e.droppable.containers);return c.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:c}}}case tn.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new yl(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function oz(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=g.useContext(nc),a=Cu(r),c=Cu(n?.id);return g.useEffect(()=>{if(!t&&!r&&a&&c!=null){if(!rh(a)||document.activeElement===a.target)return;const d=i.get(c);if(!d)return;const{activatorNode:u,node:f}=d;if(!u.current&&!f.current)return;requestAnimationFrame(()=>{for(const p of[u.current,f.current]){if(!p)continue;const m=Q9(p);if(m){m.focus();break}}})}},[r,t,i,c,a]),null}function _C(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...r}),n):n}function az(e){return g.useMemo(()=>({draggable:{...Qd.draggable,...e?.draggable},droppable:{...Qd.droppable,...e?.droppable},dragOverlay:{...Qd.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function lz(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const a=g.useRef(!1),{x:c,y:d}=typeof i=="boolean"?{x:i,y:i}:i;Rr(()=>{if(!c&&!d||!t){a.current=!1;return}if(a.current||!r)return;const f=t?.node.current;if(!f||f.isConnected===!1)return;const p=n(f),m=fC(p,r);if(c||(m.x=0),d||(m.y=0),a.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const y=mC(f);y&&y.scrollBy({top:m.y,left:m.x})}},[t,c,d,r,n])}const ih=g.createContext({...Dr,scaleX:1,scaleY:1});var Hs;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Hs||(Hs={}));const cz=g.memo(function(t){var n,r,i,a;let{id:c,accessibility:d,autoScroll:u=!0,children:f,sensors:p=tz,collisionDetection:m=x7,measuring:y,modifiers:v,...w}=t;const j=g.useReducer(iz,void 0,sz),[S,N]=j,[E,C]=s7(),[_,T]=g.useState(Hs.Uninitialized),I=_===Hs.Initialized,{draggable:{active:M,nodes:F,translate:U},droppable:{containers:G}}=S,se=M!=null?F.get(M):null,ae=g.useRef({initial:null,translated:null}),oe=g.useMemo(()=>{var mt;return M!=null?{id:M,data:(mt=se?.data)!=null?mt:nz,rect:ae}:null},[M,se]),ee=g.useRef(null),[L,$]=g.useState(null),[D,P]=g.useState(null),R=Ol(w,Object.values(w)),q=tc("DndDescribedBy",c),B=g.useMemo(()=>G.getEnabled(),[G]),W=az(y),{droppableRects:z,measureDroppableContainers:X,measuringScheduled:H}=U7(B,{dragging:I,dependencies:[U.x,U.y],config:W.droppable}),Z=W7(F,M),Q=g.useMemo(()=>D?_u(D):null,[D]),te=Xt(),he=H7(Z,W.draggable.measure);lz({activeNode:M!=null?F.get(M):null,config:te.layoutShiftCompensation,initialRect:he,measure:W.draggable.measure});const le=A1(Z,W.draggable.measure,he),Ne=A1(Z?Z.parentElement:null),ke=g.useRef({activatorEvent:null,active:null,activeNode:Z,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:F,draggingNode:null,draggingNodeRect:null,droppableContainers:G,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),tt=G.getNodeFor((n=ke.current.over)==null?void 0:n.id),nt=ez({measure:W.dragOverlay.measure}),We=(r=nt.nodeRef.current)!=null?r:Z,wt=I?(i=nt.rect)!=null?i:le:null,fe=!!(nt.nodeRef.current&&nt.rect),ye=K7(fe?null:le),Ae=NC(We?_n(We):null),xe=Y7(I?tt??Z:null),Qe=Z7(xe),at=_C(v,{transform:{x:U.x-ye.x,y:U.y-ye.y,scaleX:1,scaleY:1},activatorEvent:D,active:oe,activeNodeRect:le,containerNodeRect:Ne,draggingNodeRect:wt,over:ke.current.over,overlayNodeRect:nt.rect,scrollableAncestors:xe,scrollableAncestorRects:Qe,windowRect:Ae}),Tt=Q?Uo(Q,U):null,Ze=X7(xe),pt=P1(Ze),lt=P1(Ze,[le]),K=Uo(at,pt),Ce=wt?w7(wt,at):null,we=oe&&Ce?m({active:oe,collisionRect:Ce,droppableRects:z,droppableContainers:B,pointerCoordinates:Tt}):null,$e=p7(we,"id"),[et,dt]=g.useState(null),un=fe?at:Uo(at,lt),qt=y7(un,(a=et?.rect)!=null?a:null,le),Xn=g.useRef(null),ct=g.useCallback((mt,bt)=>{let{sensor:Re,options:ce}=bt;if(ee.current==null)return;const Se=F.get(ee.current);if(!Se)return;const Pe=mt.nativeEvent,rt=new Re({active:ee.current,activeNode:Se,event:Pe,options:ce,context:ke,onAbort(He){if(!F.get(He))return;const{onDragAbort:it}=R.current,yt={id:He};it?.(yt),E({type:"onDragAbort",event:yt})},onPending(He,ht,it,yt){if(!F.get(He))return;const{onDragPending:_e}=R.current,Ee={id:He,constraint:ht,initialCoordinates:it,offset:yt};_e?.(Ee),E({type:"onDragPending",event:Ee})},onStart(He){const ht=ee.current;if(ht==null)return;const it=F.get(ht);if(!it)return;const{onDragStart:yt}=R.current,ue={activatorEvent:Pe,active:{id:ht,data:it.data,rect:ae}};_r.unstable_batchedUpdates(()=>{yt?.(ue),T(Hs.Initializing),N({type:tn.DragStart,initialCoordinates:He,active:ht}),E({type:"onDragStart",event:ue}),$(Xn.current),P(Pe)})},onMove(He){N({type:tn.DragMove,coordinates:He})},onEnd:Ge(tn.DragEnd),onCancel:Ge(tn.DragCancel)});Xn.current=rt;function Ge(He){return async function(){const{active:it,collisions:yt,over:ue,scrollAdjustedTranslate:_e}=ke.current;let Ee=null;if(it&&_e){const{cancelDrop:qe}=R.current;Ee={activatorEvent:Pe,active:it,collisions:yt,delta:_e,over:ue},He===tn.DragEnd&&typeof qe=="function"&&await Promise.resolve(qe(Ee))&&(He=tn.DragCancel)}ee.current=null,_r.unstable_batchedUpdates(()=>{N({type:He}),T(Hs.Uninitialized),dt(null),$(null),P(null),Xn.current=null;const qe=He===tn.DragEnd?"onDragEnd":"onDragCancel";if(Ee){const Pt=R.current[qe];Pt?.(Ee),E({type:qe,event:Ee})}})}}},[F]),Sn=g.useCallback((mt,bt)=>(Re,ce)=>{const Se=Re.nativeEvent,Pe=F.get(ce);if(ee.current!==null||!Pe||Se.dndKit||Se.defaultPrevented)return;const rt={active:Pe};mt(Re,bt.options,rt)===!0&&(Se.dndKit={capturedBy:bt.sensor},ee.current=ce,ct(Re,bt))},[F,ct]),Ln=V7(p,Sn);J7(p),Rr(()=>{le&&_===Hs.Initializing&&T(Hs.Initialized)},[le,_]),g.useEffect(()=>{const{onDragMove:mt}=R.current,{active:bt,activatorEvent:Re,collisions:ce,over:Se}=ke.current;if(!bt||!Re)return;const Pe={active:bt,activatorEvent:Re,collisions:ce,delta:{x:K.x,y:K.y},over:Se};_r.unstable_batchedUpdates(()=>{mt?.(Pe),E({type:"onDragMove",event:Pe})})},[K.x,K.y]),g.useEffect(()=>{const{active:mt,activatorEvent:bt,collisions:Re,droppableContainers:ce,scrollAdjustedTranslate:Se}=ke.current;if(!mt||ee.current==null||!bt||!Se)return;const{onDragOver:Pe}=R.current,rt=ce.get($e),Ge=rt&&rt.rect.current?{id:rt.id,rect:rt.rect.current,data:rt.data,disabled:rt.disabled}:null,He={active:mt,activatorEvent:bt,collisions:Re,delta:{x:Se.x,y:Se.y},over:Ge};_r.unstable_batchedUpdates(()=>{dt(Ge),Pe?.(He),E({type:"onDragOver",event:He})})},[$e]),Rr(()=>{ke.current={activatorEvent:D,active:oe,activeNode:Z,collisionRect:Ce,collisions:we,droppableRects:z,draggableNodes:F,draggingNode:We,draggingNodeRect:wt,droppableContainers:G,over:et,scrollableAncestors:xe,scrollAdjustedTranslate:K},ae.current={initial:wt,translated:Ce}},[oe,Z,we,Ce,F,We,wt,z,G,et,xe,K]),B7({...te,delta:U,draggingRect:Ce,pointerCoordinates:Tt,scrollableAncestors:xe,scrollableAncestorRects:Qe});const kt=g.useMemo(()=>({active:oe,activeNode:Z,activeNodeRect:le,activatorEvent:D,collisions:we,containerNodeRect:Ne,dragOverlay:nt,draggableNodes:F,droppableContainers:G,droppableRects:z,over:et,measureDroppableContainers:X,scrollableAncestors:xe,scrollableAncestorRects:Qe,measuringConfiguration:W,measuringScheduled:H,windowRect:Ae}),[oe,Z,le,D,we,Ne,nt,F,G,z,et,X,xe,Qe,W,H,Ae]),mr=g.useMemo(()=>({activatorEvent:D,activators:Ln,active:oe,activeNodeRect:le,ariaDescribedById:{draggable:q},dispatch:N,draggableNodes:F,over:et,measureDroppableContainers:X}),[D,Ln,oe,le,N,q,F,et,X]);return de.createElement(hC.Provider,{value:C},de.createElement(nc.Provider,{value:mr},de.createElement(EC.Provider,{value:kt},de.createElement(ih.Provider,{value:qt},f)),de.createElement(oz,{disabled:d?.restoreFocus===!1})),de.createElement(a7,{...d,hiddenTextDescribedById:q}));function Xt(){const mt=L?.autoScrollEnabled===!1,bt=typeof u=="object"?u.enabled===!1:u===!1,Re=I&&!mt&&!bt;return typeof u=="object"?{...u,enabled:Re}:{enabled:Re}}}),dz=g.createContext(null),D1="button",uz="Draggable";function hz(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const a=tc(uz),{activators:c,activatorEvent:d,active:u,activeNodeRect:f,ariaDescribedById:p,draggableNodes:m,over:y}=g.useContext(nc),{role:v=D1,roleDescription:w="draggable",tabIndex:j=0}=i??{},S=u?.id===t,N=g.useContext(S?ih:dz),[E,C]=ku(),[_,T]=ku(),I=Q7(c,t),M=Ol(n);Rr(()=>(m.set(t,{id:t,key:a,node:E,activatorNode:_,data:M}),()=>{const U=m.get(t);U&&U.key===a&&m.delete(t)}),[m,t]);const F=g.useMemo(()=>({role:v,tabIndex:j,"aria-disabled":r,"aria-pressed":S&&v===D1?!0:void 0,"aria-roledescription":w,"aria-describedby":p.draggable}),[r,v,j,S,w,p.draggable]);return{active:u,activatorEvent:d,activeNodeRect:f,attributes:F,isDragging:S,listeners:r?void 0:I,node:E,over:y,setNodeRef:C,setActivatorNodeRef:T,transform:N}}function AC(){return g.useContext(EC)}const fz="Droppable",pz={timeout:25};function TC(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const a=tc(fz),{active:c,dispatch:d,over:u,measureDroppableContainers:f}=g.useContext(nc),p=g.useRef({disabled:n}),m=g.useRef(!1),y=g.useRef(null),v=g.useRef(null),{disabled:w,updateMeasurementsFor:j,timeout:S}={...pz,...i},N=Ol(j??r),E=g.useCallback(()=>{if(!m.current){m.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{f(Array.isArray(N.current)?N.current:[N.current]),v.current=null},S)},[S]),C=sh({callback:E,disabled:w||!c}),_=g.useCallback((F,U)=>{C&&(U&&(C.unobserve(U),m.current=!1),F&&C.observe(F))},[C]),[T,I]=ku(_),M=Ol(t);return g.useEffect(()=>{!C||!T.current||(C.disconnect(),m.current=!1,C.observe(T.current))},[T,C]),g.useEffect(()=>(d({type:tn.RegisterDroppable,element:{id:r,key:a,disabled:n,node:T,rect:y,data:M}}),()=>d({type:tn.UnregisterDroppable,key:a,id:r})),[r]),g.useEffect(()=>{n!==p.current.disabled&&(d({type:tn.SetDroppableDisabled,id:r,key:a,disabled:n}),p.current.disabled=n)},[r,a,n,d]),{active:c,rect:y,isOver:u?.id===r,node:T,over:u,setNodeRef:I}}function mz(e){let{animation:t,children:n}=e;const[r,i]=g.useState(null),[a,c]=g.useState(null),d=Cu(n);return!n&&!r&&d&&i(d),Rr(()=>{if(!a)return;const u=r?.key,f=r?.props.id;if(u==null||f==null){i(null);return}Promise.resolve(t(f,a)).then(()=>{i(null)})},[t,r,a]),de.createElement(de.Fragment,null,n,r?g.cloneElement(r,{ref:c}):null)}const gz={x:0,y:0,scaleX:1,scaleY:1};function xz(e){let{children:t}=e;return de.createElement(nc.Provider,{value:CC},de.createElement(ih.Provider,{value:gz},t))}const yz={position:"fixed",touchAction:"none"},vz=e=>rh(e)?"transform 250ms ease":void 0,wz=g.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:a,className:c,rect:d,style:u,transform:f,transition:p=vz}=e;if(!d)return null;const m=i?f:{...f,scaleX:1,scaleY:1},y={...yz,width:d.width,height:d.height,top:d.top,left:d.left,transform:Qs.Transform.toString(m),transformOrigin:i&&r?u7(r,d):void 0,transition:typeof p=="function"?p(r):p,...u};return de.createElement(n,{className:c,style:y,ref:t},a)}),bz=e=>t=>{let{active:n,dragOverlay:r}=t;const i={},{styles:a,className:c}=e;if(a!=null&&a.active)for(const[d,u]of Object.entries(a.active))u!==void 0&&(i[d]=n.node.style.getPropertyValue(d),n.node.style.setProperty(d,u));if(a!=null&&a.dragOverlay)for(const[d,u]of Object.entries(a.dragOverlay))u!==void 0&&r.node.style.setProperty(d,u);return c!=null&&c.active&&n.node.classList.add(c.active),c!=null&&c.dragOverlay&&r.node.classList.add(c.dragOverlay),function(){for(const[u,f]of Object.entries(i))n.node.style.setProperty(u,f);c!=null&&c.active&&n.node.classList.remove(c.active)}},jz=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Qs.Transform.toString(t)},{transform:Qs.Transform.toString(n)}]},Sz={duration:250,easing:"ease",keyframes:jz,sideEffects:bz({styles:{active:{opacity:"0"}}})};function Nz(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return nh((a,c)=>{if(t===null)return;const d=n.get(a);if(!d)return;const u=d.node.current;if(!u)return;const f=kC(c);if(!f)return;const{transform:p}=_n(c).getComputedStyle(c),m=pC(p);if(!m)return;const y=typeof t=="function"?t:kz(t);return bC(u,i.draggable.measure),y({active:{id:a,data:d.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:c,rect:i.dragOverlay.measure(f)},droppableContainers:r,measuringConfiguration:i,transform:m})})}function kz(e){const{duration:t,easing:n,sideEffects:r,keyframes:i}={...Sz,...e};return a=>{let{active:c,dragOverlay:d,transform:u,...f}=a;if(!t)return;const p={x:d.rect.left-c.rect.left,y:d.rect.top-c.rect.top},m={scaleX:u.scaleX!==1?c.rect.width*u.scaleX/d.rect.width:1,scaleY:u.scaleY!==1?c.rect.height*u.scaleY/d.rect.height:1},y={x:u.x-p.x,y:u.y-p.y,...m},v=i({...f,active:c,dragOverlay:d,transform:{initial:u,final:y}}),[w]=v,j=v[v.length-1];if(JSON.stringify(w)===JSON.stringify(j))return;const S=r?.({active:c,dragOverlay:d,...f}),N=d.node.animate(v,{duration:t,easing:n,fill:"forwards"});return new Promise(E=>{N.onfinish=()=>{S?.(),E()}})}}let O1=0;function Cz(e){return g.useMemo(()=>{if(e!=null)return O1++,O1},[e])}const Ez=de.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:a,modifiers:c,wrapperElement:d="div",className:u,zIndex:f=999}=e;const{activatorEvent:p,active:m,activeNodeRect:y,containerNodeRect:v,draggableNodes:w,droppableContainers:j,dragOverlay:S,over:N,measuringConfiguration:E,scrollableAncestors:C,scrollableAncestorRects:_,windowRect:T}=AC(),I=g.useContext(ih),M=Cz(m?.id),F=_C(c,{activatorEvent:p,active:m,activeNodeRect:y,containerNodeRect:v,draggingNodeRect:S.rect,over:N,overlayNodeRect:S.rect,scrollableAncestors:C,scrollableAncestorRects:_,transform:I,windowRect:T}),U=$0(y),G=Nz({config:r,draggableNodes:w,droppableContainers:j,measuringConfiguration:E}),se=U?S.setRef:void 0;return de.createElement(xz,null,de.createElement(mz,{animation:G},m&&M?de.createElement(wz,{key:M,id:m.id,ref:se,as:d,activatorEvent:p,adjustScale:t,className:u,transition:a,rect:U,style:{zIndex:f,...i},transform:F},n):null))});function PC(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function _z(e,t){return e.reduce((n,r,i)=>{const a=t.get(r);return a&&(n[i]=a),n},Array(e.length))}function Fd(e){return e!==null&&e>=0}function Az(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Tz(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const RC=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=PC(t,r,n),c=t[i],d=a[i];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},Md={scaleX:1,scaleY:1},Pz=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:c}=e;const d=(t=a[n])!=null?t:r;if(!d)return null;if(i===n){const f=a[c];return f?{x:0,y:n<c?f.top+f.height-(d.top+d.height):f.top-d.top,...Md}:null}const u=Rz(a,i,n);return i>n&&i<=c?{x:0,y:-d.height-u,...Md}:i<n&&i>=c?{x:0,y:d.height+u,...Md}:{x:0,y:0,...Md}};function Rz(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const DC="Sortable",OC=de.createContext({activeIndex:-1,containerId:DC,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:RC,disabled:{draggable:!1,droppable:!1}});function Dz(e){let{children:t,id:n,items:r,strategy:i=RC,disabled:a=!1}=e;const{active:c,dragOverlay:d,droppableRects:u,over:f,measureDroppableContainers:p}=AC(),m=tc(DC,n),y=d.rect!==null,v=g.useMemo(()=>r.map(I=>typeof I=="object"&&"id"in I?I.id:I),[r]),w=c!=null,j=c?v.indexOf(c.id):-1,S=f?v.indexOf(f.id):-1,N=g.useRef(v),E=!Az(v,N.current),C=S!==-1&&j===-1||E,_=Tz(a);Rr(()=>{E&&w&&p(v)},[E,v,w,p]),g.useEffect(()=>{N.current=v},[v]);const T=g.useMemo(()=>({activeIndex:j,containerId:m,disabled:_,disableTransforms:C,items:v,overIndex:S,useDragOverlay:y,sortedRects:_z(v,u),strategy:i}),[j,m,_.draggable,_.droppable,C,v,S,u,y,i]);return de.createElement(OC.Provider,{value:T},t)}const Oz=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return PC(n,r,i).indexOf(t)},Iz=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:c,previousItems:d,previousContainerId:u,transition:f}=e;return!f||!r||d!==a&&i===c?!1:n?!0:c!==i&&t===u},Fz={duration:200,easing:"ease"},IC="transform",Mz=Qs.Transition.toString({property:IC,duration:0,easing:"linear"}),Lz={roleDescription:"sortable"};function Bz(e){let{disabled:t,index:n,node:r,rect:i}=e;const[a,c]=g.useState(null),d=g.useRef(n);return Rr(()=>{if(!t&&n!==d.current&&r.current){const u=i.current;if(u){const f=fa(r.current,{ignoreTransform:!0}),p={x:u.left-f.left,y:u.top-f.top,scaleX:u.width/f.width,scaleY:u.height/f.height};(p.x||p.y)&&c(p)}}n!==d.current&&(d.current=n)},[t,n,r,i]),g.useEffect(()=>{a&&c(null)},[a]),a}function $z(e){let{animateLayoutChanges:t=Iz,attributes:n,disabled:r,data:i,getNewIndex:a=Oz,id:c,strategy:d,resizeObserverConfig:u,transition:f=Fz}=e;const{items:p,containerId:m,activeIndex:y,disabled:v,disableTransforms:w,sortedRects:j,overIndex:S,useDragOverlay:N,strategy:E}=g.useContext(OC),C=zz(r,v),_=p.indexOf(c),T=g.useMemo(()=>({sortable:{containerId:m,index:_,items:p},...i}),[m,i,_,p]),I=g.useMemo(()=>p.slice(p.indexOf(c)),[p,c]),{rect:M,node:F,isOver:U,setNodeRef:G}=TC({id:c,data:T,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...u}}),{active:se,activatorEvent:ae,activeNodeRect:oe,attributes:ee,setNodeRef:L,listeners:$,isDragging:D,over:P,setActivatorNodeRef:R,transform:q}=hz({id:c,data:T,attributes:{...Lz,...n},disabled:C.draggable}),B=K9(G,L),W=!!se,z=W&&!w&&Fd(y)&&Fd(S),X=!N&&D,H=X&&z?q:null,Q=z?H??(d??E)({rects:j,activeNodeRect:oe,activeIndex:y,overIndex:S,index:_}):null,te=Fd(y)&&Fd(S)?a({id:c,items:p,activeIndex:y,overIndex:S}):_,he=se?.id,le=g.useRef({activeId:he,items:p,newIndex:te,containerId:m}),Ne=p!==le.current.items,ke=t({active:se,containerId:m,isDragging:D,isSorting:W,id:c,index:_,items:p,newIndex:le.current.newIndex,previousItems:le.current.items,previousContainerId:le.current.containerId,transition:f,wasDragging:le.current.activeId!=null}),tt=Bz({disabled:!ke,index:_,node:F,rect:M});return g.useEffect(()=>{W&&le.current.newIndex!==te&&(le.current.newIndex=te),m!==le.current.containerId&&(le.current.containerId=m),p!==le.current.items&&(le.current.items=p)},[W,te,m,p]),g.useEffect(()=>{if(he===le.current.activeId)return;if(he!=null&&le.current.activeId==null){le.current.activeId=he;return}const We=setTimeout(()=>{le.current.activeId=he},50);return()=>clearTimeout(We)},[he]),{active:se,activeIndex:y,attributes:ee,data:T,rect:M,index:_,newIndex:te,items:p,isOver:U,isSorting:W,isDragging:D,listeners:$,node:F,overIndex:S,over:P,setNodeRef:B,setActivatorNodeRef:R,setDroppableNodeRef:G,setDraggableNodeRef:L,transform:tt??Q,transition:nt()};function nt(){if(tt||Ne&&le.current.newIndex===_)return Mz;if(!(X&&!rh(ae)||!f)&&(W||ke))return Qs.Transition.toString({...f,property:IC})}}function zz(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}xt.Down,xt.Right,xt.Up,xt.Left;const Za=`https://${Je}.supabase.co/functions/v1/server/admin`,el={async getCategories(e){return(await(await fetch(`${Za}/categories`,{headers:{Authorization:`Bearer ${e}`}})).json()).categories||[]},async getVocabularies(e,t){const r=await(await fetch(`${Za}/shared-vocabularies`,{headers:{Authorization:`Bearer ${e}`}})).json();return r.vocabularies?t?r.vocabularies.filter(i=>i.category===t):r.vocabularies:[]},async updateVocabulary(e,t,n){if(!(await fetch(`${Za}/shared-vocabularies/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(n)})).ok)throw new Error("Failed to update vocabulary")},async deleteVocabulary(e,t){if(!(await fetch(`${Za}/shared-vocabularies/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).ok)throw new Error("Failed to delete vocabulary")},async mergeVocabularies(e,t,n,r){const i=await fetch(`${Za}/shared-vocabularies/merge`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({targetVocabId:t,sourceVocabIds:n,newTitle:r})});if(!i.ok){const a=await i.json().catch(()=>({})),c=a.error||`Failed to merge vocabularies (${i.status})`;throw console.error("Merge error details:",a),new Error(c)}}};function Wz({vocabulary:e,isSelected:t,onToggleSelect:n,onEdit:r,onDelete:i}){const{attributes:a,listeners:c,setNodeRef:d,transform:u,transition:f,isDragging:p}=$z({id:e.id}),m={transform:Qs.Transform.toString(u),transition:f,opacity:p?.5:1};return s.jsx("div",{ref:d,style:m,className:`bg-white rounded-lg p-4 shadow-sm border-2 transition-all ${t?"border-[#8B5CF6] bg-purple-50":"border-gray-200 hover:border-gray-300"} ${p?"cursor-grabbing":"cursor-grab"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:t,onChange:()=>n(e.id),className:"w-5 h-5 rounded border-gray-300 text-[#8B5CF6] focus:ring-[#8B5CF6] cursor-pointer",onClick:y=>y.stopPropagation()}),s.jsx("div",{...a,...c,className:"flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded cursor-grab active:cursor-grabbing",children:s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-[#491B6D]",children:e.title}),s.jsxs("div",{className:"text-sm text-gray-500",children:[e.total_words||e.words?.length||0," ",e.description&&`  ${e.description}`]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O.button,{whileTap:{scale:.95},onClick:y=>{y.stopPropagation(),r(e)},className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",children:s.jsx(fS,{className:"w-4 h-4 text-blue-600"})}),s.jsx(O.button,{whileTap:{scale:.95},onClick:y=>{y.stopPropagation(),i(e.id)},className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(El,{className:"w-4 h-4 text-red-500"})})]})]})})}function Vz({selectedVocabularies:e,onMerge:t,onClose:n}){const[r,i]=g.useState(e[0]?.id||""),[a,c]=g.useState(""),d=()=>{if(!r){alert("   .");return}t(r,a||e.find(f=>f.id===r)?.title||" ")},u=e.reduce((f,p)=>f+(p.total_words||p.words?.length||0),0);return s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/50",children:s.jsxs(O.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-4 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#491B6D] to-[#5E2278] p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(rS,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-xl font-bold",children:" "})]}),s.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(yn,{className:"w-5 h-5"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:["  (",e.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:e.map(f=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("input",{type:"radio",name:"target",value:f.id,checked:r===f.id,onChange:p=>i(p.target.value),className:"w-4 h-4 text-[#8B5CF6] focus:ring-[#8B5CF6]"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900",children:f.title}),s.jsxs("div",{className:"text-xs text-gray-500",children:[f.total_words||f.words?.length||0," "]})]})]},f.id))}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"*        "})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"   ()"}),s.jsx("input",{type:"text",value:a,onChange:f=>c(f.target.value),placeholder:e.find(f=>f.id===r)?.title||" ",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B5CF6]/30"})]}),s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-purple-900 mb-2",children:"  "}),s.jsxs("div",{className:"text-sm text-purple-700 space-y-1",children:[s.jsxs("p",{children:["  : ",u,""]}),s.jsxs("p",{children:[" : ",e.length-1,"    ,  ."]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(O.button,{whileTap:{scale:.98},onClick:d,className:"flex-1 bg-gradient-to-r from-[#491B6D] to-[#5E2278] text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-shadow",children:""}),s.jsx(O.button,{whileTap:{scale:.98},onClick:n,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition-colors",children:""})]})]})]})})}function Uz({category:e,isExpanded:t,onToggle:n}){const{setNodeRef:r,isOver:i}=TC({id:`category-${e.id}`,data:{type:"category",category:e.name}});return s.jsx("div",{ref:r,className:`p-6 flex items-center justify-between cursor-pointer transition-all ${i?"bg-purple-100 border-l-4 border-[#8B5CF6]":"hover:bg-gray-50"}`,onClick:n,children:s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:"text-3xl",children:e.icon}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:600,color:"#491B6D"},children:e.name}),s.jsx("div",{className:"text-sm text-gray-500",children:i?"  ":`ID: ${e.id}`})]}),s.jsx(pr,{className:`w-5 h-5 text-gray-400 transition-transform ${t?"rotate-180":""}`})]})})}function Hz({getAuthToken:e,onUpdate:t}){const[n,r]=g.useState([]),[i,a]=g.useState([]),[c,d]=g.useState(!0),[u,f]=g.useState(null),[p,m]=g.useState(new Set),[y,v]=g.useState(!1),[w,j]=g.useState(null),[S,N]=g.useState(null),[E,C]=g.useState(""),[_,T]=g.useState(""),[I,M]=g.useState({name:"",icon:""}),F=c7(l7(B0,{activationConstraint:{distance:8}}));g.useEffect(()=>{U()},[]);const U=async()=>{try{const W=e();if(!W)return;d(!0);const z=await el.getCategories(W);r(z)}catch(W){console.error("Error loading categories:",W),pe.error("  ")}finally{d(!1)}},G=async W=>{const z=e();if(z)try{const X=await el.getVocabularies(z,W);a(X)}catch(X){console.error("Error loading vocabularies:",X),pe.error("  ")}},se=async(W,z)=>{u===W?(f(null),a([]),m(new Set)):(f(W),await G(z))},ae=W=>{m(z=>{const X=new Set(z);return X.has(W)?X.delete(W):X.add(W),X})},oe=()=>{p.size===i.length?m(new Set):m(new Set(i.map(W=>W.id)))},ee=async(W,z)=>{const X=e();if(!X)return;const H=Array.from(p).filter(Z=>Z!==W);try{await el.mergeVocabularies(X,W,H,z),pe.success(" !"),v(!1),m(new Set);const Z=n.find(Q=>Q.id===u);Z&&await G(Z.name),t?.()}catch(Z){console.error("Error merging vocabularies:",Z),pe.error(" ")}},L=async W=>{if(!confirm("   ?"))return;const z=e();if(z)try{await el.deleteVocabulary(z,W),pe.success(" .");const X=n.find(H=>H.id===u);X&&await G(X.name),t?.()}catch(X){console.error("Error deleting vocabulary:",X),pe.error(" ")}},$=W=>{pe.info("  Vocabularies  .")},D=W=>{j(W.active.id)},P=async W=>{const{active:z,over:X}=W;if(j(null),!X)return;const H=i.find(Q=>Q.id===z.id);if(!H)return;const Z=String(X.id);if(Z.startsWith("category-")){const Q=Z.replace("category-",""),te=n.find(he=>he.id===Q);te&&H.category!==te.name&&await R(H.id,te.name)}},R=async(W,z)=>{const X=e();if(X)try{await el.updateVocabulary(X,W,{category:z}),pe.success(` "${z}"  !`);const H=n.find(Z=>Z.id===u);H&&await G(H.name),t?.()}catch(H){console.error("Error moving vocabulary:",H),pe.error(" ")}},q=i.filter(W=>p.has(W.id)),B=w?i.find(W=>W.id===w):null;return s.jsxs(cz,{sensors:F,collisionDetection:m7,onDragStart:D,onDragEnd:P,children:[s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-2xl mb-2",style:{fontWeight:700,color:"#491B6D"},children:"  "}),s.jsx("p",{className:"text-gray-600",children:"         "})]}),p.size>0&&s.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 bg-purple-50 border border-purple-200 rounded-2xl p-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("span",{className:"text-purple-900 font-semibold",children:[p.size," "]})}),s.jsxs("div",{className:"flex gap-2",children:[p.size>=2&&s.jsxs(O.button,{whileTap:{scale:.95},onClick:()=>v(!0),className:"px-4 py-2 bg-[#491B6D] text-white rounded-lg flex items-center gap-2 font-semibold hover:shadow-lg transition-shadow",children:[s.jsx(rS,{className:"w-4 h-4"}),""]}),s.jsx(O.button,{whileTap:{scale:.95},onClick:()=>m(new Set),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold",children:" "})]})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:c?s.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):s.jsx("div",{className:"divide-y divide-gray-200",children:n.map(W=>s.jsxs("div",{children:[s.jsx(Uz,{category:W,isExpanded:u===W.id,onToggle:()=>se(W.id,W.name)}),u===W.id&&s.jsx("div",{className:"bg-gray-50 border-t border-gray-200 p-4",children:i.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"   ."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsxs("button",{onClick:oe,className:"flex items-center gap-2 text-sm text-gray-700 hover:text-[#491B6D] font-semibold",children:[p.size===i.length?s.jsx(Pm,{className:"w-5 h-5 text-[#8B5CF6]"}):s.jsx(cu,{className:"w-5 h-5"}),"  / "]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[" ",i.length," "]})]}),s.jsx(Dz,{items:i.map(z=>z.id),strategy:Pz,children:s.jsx("div",{className:"space-y-3",children:i.map(z=>s.jsx(Wz,{vocabulary:z,isSelected:p.has(z.id),onToggleSelect:ae,onEdit:$,onDelete:L},z.id))})})]})})]},W.id))})}),s.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-2xl p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:" "}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"    "}),s.jsx("li",{children:"      "}),s.jsx("li",{children:"      "}),s.jsx("li",{children:"    "})]})]})]})}),s.jsx(Ez,{children:B&&s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-2xl border-2 border-[#8B5CF6] opacity-80",children:s.jsx("div",{className:"font-semibold text-[#491B6D]",children:B.title})})}),y&&s.jsx(Vz,{selectedVocabularies:q,onMerge:ee,onClose:()=>v(!1)})]})}function qz({getAuthToken:e}){const[t,n]=g.useState([]),[r,i]=g.useState([]),[a,c]=g.useState(!0),[d,u]=g.useState("all"),[f,p]=g.useState(null),[m,y]=g.useState(""),[v,w]=g.useState(new Set),[j,S]=g.useState("none"),[N,E]=g.useState(new Set);g.useEffect(()=>{C(),_()},[]);const C=async()=>{try{const L=e();if(!L)return;const D=await(await fetch(`https://${Je}.supabase.co/functions/v1/server/admin/categories`,{headers:{Authorization:`Bearer ${L}`}})).json();i(D.categories||[])}catch(L){console.error("Error loading categories:",L)}},_=async()=>{const L=e();if(L)try{c(!0);const D=await(await fetch(`https://${Je}.supabase.co/functions/v1/server/admin/shared-vocabularies`,{headers:{Authorization:`Bearer ${L}`}})).json();D.vocabularies&&n(D.vocabularies)}catch($){console.error("Error loading vocabularies:",$)}finally{c(!1)}},T=async L=>{if(!confirm("   ?"))return;const $=e();if($)try{await fetch(`https://${Je}.supabase.co/functions/v1/server/admin/shared-vocabularies/${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${$}`}}),pe.success(" ."),await _()}catch(D){console.error("Error deleting vocabulary:",D),pe.error(" .")}},I=async(L,$)=>{if(!confirm(`"${$}"    AI ?

     , AI  .`))return;const D=e();if(!D){pe.error(" .");return}const P=pe.loading("  AI  ...");try{const R=await fetch(`https://${Je}.supabase.co/functions/v1/admin-tools/regenerate-examples`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify({vocabularyId:L})}),q=await R.json();if(!R.ok)throw new Error(q.error||"AI  ");pe.success(`AI  !
: ${q.processedCount}, : ${q.errorCount}`,{id:P,duration:5e3}),E(B=>new Set(B).add(L)),await _()}catch(R){console.error("Error regenerating examples:",R),pe.error(`AI  : ${R.message}`,{id:P})}},M=(L,$)=>{p(L),y($)},F=()=>{p(null),y("")},U=async L=>{const $=e();if($)try{if(!(await fetch(`https://${Je}.supabase.co/functions/v1/server/admin/shared-vocabularies/${L}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify({category:m})})).ok)throw new Error("  ");pe.success(" ."),p(null),y(""),await _()}catch(D){console.error("Error updating category:",D),pe.error("  ")}},G=L=>{w($=>{const D=new Set($);return D.has(L)?D.delete(L):D.add(L),D})},se=()=>{v.size===oe.length?w(new Set):w(new Set(oe.map(L=>L.id)))},ae=async()=>{if(v.size===0){pe.error("  .");return}if(!confirm(` ${v.size}  ?`))return;const L=e();if(!L)return;const $=pe.loading("  ...");try{const D=Array.from(v).map(P=>fetch(`https://${Je}.supabase.co/functions/v1/server/admin/shared-vocabularies/${P}`,{method:"DELETE",headers:{Authorization:`Bearer ${L}`}}));await Promise.all(D),pe.success(`${v.size}  .`,{id:$}),w(new Set),await _()}catch(D){console.error("Error deleting vocabularies:",D),pe.error("   .",{id:$})}},oe=d==="all"?t:t.filter(L=>L.category===d),ee=[...oe].sort((L,$)=>{if(j==="none")return 0;const D=L.title.localeCompare($.title,"ko-KR");return j==="asc"?D:-D});return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl mb-2",style:{fontWeight:700,color:"#491B6D"},children:"Vocabulary Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage all shared vocabulary lists"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[v.size>0&&s.jsxs(O.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},whileTap:{scale:.95},onClick:ae,className:"flex items-center gap-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",style:{fontWeight:600},children:[s.jsx(El,{className:"w-4 h-4"}),"  (",v.size,")"]}),s.jsx("label",{className:"text-sm text-gray-600",style:{fontWeight:600},children:":"}),s.jsxs("select",{value:j,onChange:L=>S(L.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"none",children:" "}),s.jsx("option",{value:"asc",children:" ()"}),s.jsx("option",{value:"desc",children:"  ()"})]}),s.jsx("label",{className:"text-sm text-gray-600",style:{fontWeight:600},children:":"}),s.jsxs("select",{value:d,onChange:L=>u(L.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"all",children:" "}),r.map(L=>s.jsxs("option",{value:L.name,children:[L.icon," ",L.name]},L.id))]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:a?s.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):ee.length===0?s.jsx("div",{className:"p-12 text-center text-gray-500",children:d==="all"?' . "Create Vocabulary"    .':"   ."}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:s.jsxs("button",{onClick:se,className:"flex items-center gap-2 hover:text-purple-600 transition-colors",children:[v.size===ee.length&&ee.length>0?s.jsx(Pm,{className:"w-5 h-5"}):s.jsx(cu,{className:"w-5 h-5"}),s.jsx("span",{children:"Select All"})]})}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Title"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Category"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Level"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Words"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Downloads"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:ee.map(L=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("button",{onClick:()=>G(L.id),className:"flex items-center justify-center hover:text-purple-600 transition-colors",children:v.has(L.id)?s.jsx(Pm,{className:"w-5 h-5 text-purple-600"}):s.jsx(cu,{className:"w-5 h-5"})})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900",style:{fontWeight:600},children:L.title})}),s.jsx("td",{className:"px-6 py-4",children:f===L.id?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("select",{value:m,onChange:$=>y($.target.value),className:"px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-purple-500",children:r.map($=>s.jsxs("option",{value:$.name,children:[$.icon," ",$.name]},$.id))}),s.jsx("button",{onClick:()=>U(L.id),className:"p-1 hover:bg-green-50 rounded transition-colors",children:s.jsx(Hl,{className:"w-4 h-4 text-green-600"})}),s.jsx("button",{onClick:F,className:"p-1 hover:bg-red-50 rounded transition-colors",children:s.jsx(yn,{className:"w-4 h-4 text-red-600"})})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-3 py-1 rounded-full text-xs bg-[#8B5CF6]/10 text-[#8B5CF6]",style:{fontWeight:600},children:L.category}),s.jsx("button",{onClick:()=>M(L.id,L.category),className:"p-1 opacity-0 group-hover:opacity-100 hover:bg-gray-100 rounded transition-all",children:s.jsx(fS,{className:"w-3 h-3 text-gray-500"})})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:L.level})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:L.total_words?.toLocaleString()||0})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:L.downloads?.toLocaleString()||0})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsxs(O.button,{whileTap:{scale:.95},onClick:()=>I(L.id,L.title),className:`p-2 rounded-lg transition-colors relative ${N.has(L.id)?"bg-green-50 hover:bg-green-100":"hover:bg-purple-50"}`,title:N.has(L.id)?"AI   ( )":"AI  ( + )",children:[s.jsx(v6,{className:`w-4 h-4 ${N.has(L.id)?"text-green-600":"text-purple-500"}`}),N.has(L.id)&&s.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]}),s.jsx(O.button,{whileTap:{scale:.95},onClick:()=>T(L.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(El,{className:"w-4 h-4 text-red-500"})})]})})]},L.id))})]})})]})}function Gz({onClose:e}){const{getAuthToken:t}=Ql(),[n,r]=g.useState("overview");return s.jsx("div",{className:"fixed inset-0 z-[100] bg-gray-50",children:s.jsxs("div",{className:"h-full flex",children:[s.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg",style:{fontWeight:700,color:"#491B6D"},children:"Admin Panel"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JEJEVOCA Dashboard"})]}),s.jsx(O.button,{whileTap:{scale:.95},onClick:e,className:"w-8 h-8 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",children:s.jsx(yn,{className:"w-4 h-4 text-gray-600"})})]})}),s.jsxs("nav",{className:"flex-1 p-4 space-y-1",children:[s.jsx(Co,{icon:s.jsx(zR,{className:"w-5 h-5"}),label:"Overview",active:n==="overview",onClick:()=>r("overview")}),s.jsx(Co,{icon:s.jsx(ds,{className:"w-5 h-5"}),label:"Vocabularies",active:n==="vocabularies",onClick:()=>r("vocabularies")}),s.jsx(Co,{icon:s.jsx(Z6,{className:"w-5 h-5"}),label:"Create Vocabulary",active:n==="upload",onClick:()=>r("upload")}),s.jsx(Co,{icon:s.jsx(n0,{className:"w-5 h-5"}),label:"User Management",active:n==="users",onClick:()=>r("users")}),s.jsx(Co,{icon:s.jsx(uS,{className:"w-5 h-5"}),label:"Categories",active:n==="categories",onClick:()=>r("categories")}),s.jsx(Co,{icon:s.jsx(Ul,{className:"w-5 h-5"}),label:" ",active:!1,onClick:()=>{window.location.href="/admin/admission"}})]}),s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsx("div",{className:"text-xs text-gray-500 text-center",children:" JEJETRANSFER 2025"})})]}),s.jsxs("div",{className:"flex-1 overflow-auto",children:[n==="overview"&&s.jsx(Kz,{}),n==="vocabularies"&&s.jsx(qz,{getAuthToken:t}),n==="upload"&&s.jsx(Yz,{}),n==="users"&&s.jsx(Xz,{}),n==="categories"&&s.jsx(Hz,{getAuthToken:t})]})]})})}function Co({icon:e,label:t,active:n,onClick:r}){return s.jsxs(O.button,{whileTap:{scale:.98},onClick:r,className:`w-full px-4 py-3 rounded-lg flex items-center gap-3 transition-colors ${n?"bg-[#491B6D] text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e,s.jsx("span",{style:{fontSize:"14px",fontWeight:600},children:t})]})}function Kz(){const{getAuthToken:e}=Ql(),[t,n]=g.useState({totalVocabularies:0,totalDownloads:0,activeUsers:0,avgRating:"0.0"});g.useEffect(()=>{r()},[]);const r=async()=>{try{const i=e();if(!i)return;const c=await(await fetch(`https://${Je}.supabase.co/functions/v1/server/admin/stats`,{headers:{Authorization:`Bearer ${i}`}})).json();c.stats&&n(c.stats)}catch(i){console.error("Error loading stats:",i)}};return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-2xl mb-2",style:{fontWeight:700,color:"#491B6D"},children:"Dashboard Overview"}),s.jsx("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening today."})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[s.jsx(Ld,{icon:s.jsx(ds,{className:"w-6 h-6"}),label:"Total Vocabularies",value:t.totalVocabularies.toString(),change:"+12%",positive:!0,color:"#8B5CF6"}),s.jsx(Ld,{icon:s.jsx(bR,{className:"w-6 h-6"}),label:"Total Downloads",value:t.totalDownloads.toString(),change:"+0.3%",positive:!0,color:"#7C3AED"}),s.jsx(Ld,{icon:s.jsx(n0,{className:"w-6 h-6"}),label:"Active Users",value:t.activeUsers.toString(),change:"+6.08%",positive:!0,color:"#6D28D9"}),s.jsx(Ld,{icon:s.jsx(xs,{className:"w-6 h-6"}),label:"Avg Rating",value:t.avgRating,change:"+0.2",positive:!0,color:"#5B21B6"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"col-span-2 bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:"#491B6D"},children:"Downloads Trend"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Last 6 months"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8B5CF6]"}),s.jsx("span",{className:"text-xs text-gray-600",children:"This year"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300"}),s.jsx("span",{className:"text-xs text-gray-600",children:"Last year"})]})]})]}),s.jsx("div",{className:"h-64 flex items-end justify-between gap-3",children:[30,45,60,80,55,70].map((i,a)=>s.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[s.jsx("div",{className:"w-full rounded-t-lg bg-gradient-to-t from-[#8B5CF6] to-[#A78BFA] transition-all",style:{height:`${i}%`}}),s.jsx("div",{className:"w-full rounded-t-lg bg-gray-200",style:{height:`${i*.7}%`}})]},a))})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"mb-6",style:{fontSize:"16px",fontWeight:600,color:"#491B6D"},children:"Top Categories"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(tl,{label:"TOEIC",percentage:52.1,color:"#8B5CF6"}),s.jsx(tl,{label:"SAT",percentage:22.8,color:"#A78BFA"}),s.jsx(tl,{label:"GRE",percentage:13.9,color:"#C4B5FD"}),s.jsx(tl,{label:"School",percentage:8.2,color:"#DDD6FE"}),s.jsx(tl,{label:"General",percentage:3,color:"#EDE9FE"})]})]})]})]})}function Yz(){const{getAuthToken:e}=Ql(),[t,n]=g.useState(""),[r,i]=g.useState(""),[a,c]=g.useState(""),[d,u]=g.useState([]),[f,p]=g.useState([]),[m,y]=g.useState({headerTitle:"",headerDescription:""}),[v,w]=g.useState(null),[j,S]=g.useState(!1);g.useEffect(()=>{(async()=>{try{const C=e();if(console.log(" Token:",C?"exists":"null"),!C){pe.error(" .  .");return}const T=await(await fetch(`https://${Je}.supabase.co/functions/v1/server/admin/categories`,{headers:{Authorization:`Bearer ${C}`}})).json();if(console.log(" Categories response:",T),T.categories){const I=T.categories.filter(M=>M.enabled);console.log(" Enabled categories:",I),u(I),I.length>0&&i(I[0].name)}}catch(C){console.error("Error loading categories:",C)}})()},[e]);const N=async()=>{if(!t.trim()){pe.error("Title .");return}if(!r){pe.error("Category .");return}if(f.length===0){pe.error("   .");return}const E=e();if(!E){pe.error(" .  .");return}S(!0);try{const C=await fetch(`https://${Je}.supabase.co/functions/v1/server/admin/shared-vocabularies`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({title:t,category:r,description:a,words:f})});if(!C.ok){const _=await C.json();throw new Error(_.error||"  .")}pe.success("  !"),n(""),c(""),p([]),y({headerTitle:"",headerDescription:""})}catch(C){console.error("Failed to save shared vocabulary:",C),pe.error(C?.message||"    .")}finally{S(!1)}};return s.jsxs("div",{className:"p-8 space-y-6 overflow-auto",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-[#491B6D]",children:"  "}),s.jsx("p",{className:"text-sm text-gray-500",children:"    ."})]}),s.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Title *"}),s.jsx("input",{type:"text",value:t,onChange:E=>{n(E.target.value),y(C=>({...C,headerTitle:E.target.value}))},placeholder:": JEJE   100",className:"w-full px-3 py-2 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Category *"}),r==="__new__"?s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",placeholder:" (: )",value:d.find(E=>E.name==="__temp__")?.icon||"",onChange:E=>{const C=E.target.value.slice(0,2);u(_=>_.find(I=>I.name==="__temp__")?_.map(I=>I.name==="__temp__"?{...I,icon:C}:I):[..._,{id:"__temp__",name:"__temp__",icon:C,enabled:!0}])},className:"w-20 px-3 py-2 border rounded-lg text-center",maxLength:2}),s.jsx("input",{type:"text",placeholder:"  (: )",value:d.find(E=>E.name==="__temp__")?.tempName||"",onChange:E=>{const C=E.target.value;u(_=>_.find(I=>I.name==="__temp__")?_.map(I=>I.name==="__temp__"?{...I,tempName:C}:I):[..._,{id:"__temp__",name:"__temp__",icon:"",tempName:C,enabled:!0}])},className:"flex-1 px-3 py-2 border rounded-lg"}),s.jsx("button",{onClick:async()=>{const E=d.find(_=>_.name==="__temp__");if(!E?.tempName||!E?.icon){pe.error("    .");return}const C=e();if(!C){pe.error(" .");return}try{const _=await fetch(`https://${Je}.supabase.co/functions/v1/server/admin/categories`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({name:E.tempName,icon:E.icon})}),T=await _.json();if(!_.ok)throw console.error(" Category creation error response:",T),new Error(T.error||"  ");console.log(" Category created:",T.category),pe.success("  !");const I={id:T.category.id,name:T.category.name,icon:T.category.icon,enabled:T.category.enabled,sort_order:T.category.order};u(M=>{const F=M.filter(G=>G.name!=="__temp__");return F.find(G=>G.name===I.name)?F:[...F,I]}),i(T.category.name),console.log(" Category added to list and selected:",T.category.name)}catch(_){console.error("Error creating category:",_),pe.error("  .")}},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:""}),s.jsx("button",{onClick:()=>{u(E=>E.filter(C=>C.name!=="__temp__")),i(d.length>0?d[0].name:"")},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""})]})}):s.jsxs("select",{value:r,onChange:E=>i(E.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"",children:" "}),d.filter(E=>E.name!=="__temp__").map(E=>s.jsxs("option",{value:E.name,children:[E.icon," ",E.name]},E.id)),s.jsx("option",{value:"__new__",children:"   ..."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Description"}),s.jsx("textarea",{value:a,onChange:E=>c(E.target.value),placeholder:"  ",className:"w-full px-3 py-2 border rounded-lg h-24"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-[#491B6D]",children:"  & AI "}),s.jsx("p",{className:"text-sm text-gray-500",children:"CSV ,  , AI    ."})]})}),s.jsx(U9,{fullscreen:!0,data:f,headerInfo:m,onHeaderChange:y,onChange:p,getAuthToken:e,hideHeaderFields:!0,onSave:(E,C)=>{p(E),C&&w(C),pe.success(`${E.length}  .`)}})]}),v&&s.jsxs("div",{className:"bg-[#F4EEFF] border border-[#E0D4FF] rounded-2xl p-4 text-sm text-gray-600",children:["  AI      ",v.inputTokens.toLocaleString()," /  ",v.outputTokens.toLocaleString()]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:N,disabled:j,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-[#491B6D] to-[#5E2278] text-white font-semibold shadow-lg disabled:opacity-50",children:j?" ...":"  "})})]})}function Xz(){const{getAuthToken:e}=Ql(),[t,n]=g.useState([]),[r,i]=g.useState(!0);g.useEffect(()=>{a()},[]);const a=async()=>{try{const d=e();if(!d)return;i(!0);const f=await(await fetch(`https://${Je}.supabase.co/functions/v1/server/admin/users`,{headers:{Authorization:`Bearer ${d}`}})).json();f.users&&n(f.users)}catch(d){console.error("Error loading users:",d)}finally{i(!1)}},c=async(d,u,f)=>{const p=e();if(p)try{await fetch(`https://${Je}.supabase.co/functions/v1/server/admin/users/${d}/permissions`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({role:u,permissions:f})}),await a()}catch(m){console.error("Error updating permissions:",m),alert("  ")}};return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-2xl mb-2",style:{fontWeight:700,color:"#491B6D"},children:"User Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage users and their permissions"})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:r?s.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"User"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Role"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Stats"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Last Active"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(d=>s.jsx(Jz,{user:d,onUpdatePermissions:c},d.id))})]})})]})}function Ld({icon:e,label:t,value:n,change:r,positive:i,color:a}){return s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:`${a}20`,color:a},children:e}),s.jsx("span",{className:`text-sm ${i?"text-green-600":"text-red-600"}`,style:{fontWeight:600},children:r})]}),s.jsx("div",{className:"text-2xl mb-1",style:{fontWeight:700,color:"#491B6D"},children:n}),s.jsx("div",{className:"text-sm text-gray-600",children:t})]})}function tl({label:e,percentage:t,color:n}){return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-700",style:{fontWeight:600},children:e}),s.jsxs("span",{className:"text-sm text-gray-600",children:[t,"%"]})]}),s.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${t}%`,backgroundColor:n}})})]})}function Jz({user:e,onUpdatePermissions:t}){const[n,r]=g.useState(!1),[i,a]=g.useState(e.role),c=e.stats||{},d=e.lastActive||e.lastSignInAt||e.createdAt,u=d?new Date(d):null,f=u&&!Number.isNaN(u.getTime())?u.toLocaleDateString():"Never",p=()=>{t(e.id,i,e.permissions),r(!1)};return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm",style:{fontWeight:600,color:"#491B6D"},children:e.name}),s.jsx("div",{className:"text-xs text-gray-500",children:e.email})]})}),s.jsx("td",{className:"px-6 py-4",children:n?s.jsxs("select",{value:i,onChange:m=>a(m.target.value),className:"px-3 py-1 rounded-lg border border-gray-300 text-sm",children:[s.jsx("option",{value:"user",children:"User"}),s.jsx("option",{value:"admin",children:"Admin"})]}):s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${e.role==="admin"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,style:{fontWeight:600},children:e.role})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsxs("div",{children:[": ",c.vocabulariesCreated??0]}),s.jsxs("div",{children:[": ",c.quizzesCompleted??0]}),s.jsxs("div",{children:["XP: ",c.xp??0]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:f})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"flex items-center justify-end gap-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx(O.button,{whileTap:{scale:.95},onClick:p,className:"p-2 hover:bg-green-50 rounded-lg transition-colors",children:s.jsx(Mn,{className:"w-4 h-4 text-green-600"})}),s.jsx(O.button,{whileTap:{scale:.95},onClick:()=>{r(!1),a(e.role)},className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(e0,{className:"w-4 h-4 text-red-500"})})]}):s.jsx(O.button,{whileTap:{scale:.95},onClick:()=>r(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(A6,{className:"w-4 h-4 text-gray-600"})})})})]})}function Qz({onBack:e,onHomeClick:t}){const[n,r]=g.useState(new Date),[i,a]=g.useState(null);g.useEffect(()=>{window.scrollTo(0,0)},[]);const c=[{id:1,name:"",department:"",deadline:"2025.09.15",color:"#491B6D"},{id:2,name:"",department:"",deadline:"2025.09.20",color:"#5B21B6"},{id:3,name:"",department:"",deadline:"2025.09.25",color:"#7C3AED"}],[d,u]=g.useState(!1),[f,p]=g.useState(!1),[m,y]=g.useState(!1),[v,w]=g.useState(!1),[j,S]=g.useState(null),N=new Date,E=["","","","","","",""],C=n.getFullYear(),_=n.getMonth(),T=new Date(C,_,1).getDay(),I=new Date(C,_+1,0).getDate(),M=["1","2","3","4","5","6","7","8","9","10","11","12"],F=Array.from({length:T},(D,P)=>P),U=Array.from({length:I},(D,P)=>P+1),G=[{date:15,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:17,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:18,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:18,month:8,year:2025,title:"",subtitle:"",color:"#F59E0B"},{date:19,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:19,month:8,year:2025,title:"",subtitle:"",color:"#F59E0B"},{date:20,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:20,month:8,year:2025,title:"",subtitle:"",color:"#F59E0B"},{date:21,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:22,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:22,month:8,year:2025,title:"",subtitle:"",color:"#8B5CF6"},{date:23,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:23,month:8,year:2025,title:"",subtitle:"",color:"#8B5CF6"},{date:24,month:8,year:2025,title:"",subtitle:"",color:"#8B5CF6"},{date:25,month:8,year:2025,title:"",subtitle:"1",color:"#6366F1"},{date:25,month:8,year:2025,title:"",subtitle:"",color:"#8B5CF6"},{date:26,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:27,month:8,year:2025,title:"",subtitle:"1",color:"#6366F1"},{date:27,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:28,month:8,year:2025,title:"",subtitle:"1",color:"#6366F1"}],se=D=>G.filter(P=>P.date===D&&P.month===_&&P.year===C),ae=D=>{a({date:D,month:_,year:C})},oe=()=>{r(new Date(C,_-1,1)),a(null)},ee=()=>{r(new Date(C,_+1,1)),a(null)},L=()=>i?G.filter(D=>D.date===i.date&&D.month===i.month&&D.year===i.year):[],$=()=>{if(!j)return null;const D=new Date;D.setHours(0,0,0,0);const P=new Date(j.date);return P.setHours(0,0,0,0),Math.ceil((P.getTime()-D.getTime())/(1e3*60*60*24))};return s.jsxs("div",{className:"min-h-screen pb-24",style:{background:"transparent"},children:[s.jsx("div",{className:"relative p-6",style:{background:"transparent"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(O.button,{whileTap:{scale:.95},onClick:e,className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"white",boxShadow:"0 4px 12px rgba(73, 27, 109, 0.15)"},children:s.jsx(Yw,{className:"w-5 h-5",style:{color:"#491B6D"}})}),s.jsx("h1",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"20px",color:"#491B6D"},children:"  Calendar"}),t&&s.jsx(O.button,{whileTap:{scale:.95},onClick:t,className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"white",boxShadow:"0 4px 12px rgba(73, 27, 109, 0.15)"},children:s.jsx(Hi,{className:"w-5 h-5",style:{color:"#491B6D"}})})]})}),s.jsxs("div",{className:"px-6 space-y-6",children:[s.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-6 backdrop-blur-lg rounded-3xl border",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)",borderColor:"rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px -8px rgba(73, 27, 109, 0.2)"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:[C," ",M[_]]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O.button,{whileTap:{scale:.95},onClick:oe,className:"w-9 h-9 flex items-center justify-center rounded-xl",style:{background:"rgba(73, 27, 109, 0.1)"},children:s.jsx(Yw,{className:"w-5 h-5",style:{color:"#491B6D"}})}),s.jsx(O.button,{whileTap:{scale:.95},onClick:ee,className:"w-9 h-9 flex items-center justify-center rounded-xl",style:{background:"rgba(73, 27, 109, 0.1)"},children:s.jsx(Go,{className:"w-5 h-5",style:{color:"#491B6D"}})})]})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-3",children:E.map((D,P)=>s.jsx("div",{className:"text-center py-2",style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"11px",color:P===0?"#EF4444":P===6?"#3B82F6":"#6B7280"},children:D},P))}),s.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[F.map((D,P)=>s.jsx("div",{className:"aspect-square"},`empty-${P}`)),U.map(D=>{const P=se(D),R=D===N.getDate()&&_===N.getMonth()&&C===N.getFullYear(),q=i?.date===D&&i?.month===_&&i?.year===C;return s.jsxs(O.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:D*.005,type:"spring",stiffness:400},whileTap:{scale:.9},onClick:()=>ae(D),className:"aspect-square rounded-lg flex flex-col items-center justify-center relative p-1",style:{background:R?"linear-gradient(135deg, #A78BFA 0%, #8B5CF6 100%)":q?"rgba(73, 27, 109, 0.15)":P.length>0?"rgba(73, 27, 109, 0.05)":"transparent",border:q?"2px solid #491B6D":"none"},children:[s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:R?700:500,fontSize:"13px",color:R?"#FFFFFF":"#491B6D"},children:D}),P.length>0&&s.jsx("div",{className:"flex gap-0.5 mt-0.5 flex-wrap justify-center",children:P.slice(0,2).map((B,W)=>s.jsx("div",{className:"w-1 h-1 rounded-full",style:{background:B.color}},W))})]},D)})]})]}),s.jsx(ut,{children:i&&L().length>0&&s.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"p-6 backdrop-blur-lg rounded-3xl border overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)",borderColor:"rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px -8px rgba(73, 27, 109, 0.2)"},children:[s.jsxs("div",{className:"mb-4 pb-3 border-b flex items-center justify-between",style:{borderColor:"rgba(73, 27, 109, 0.1)"},children:[s.jsxs("div",{children:[s.jsxs("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:[C," ",M[_]," ",i.date,""]}),s.jsxs("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#8B5CF6"},children:[L().length," "]})]}),s.jsx(O.button,{whileTap:{scale:.95},onClick:()=>a(null),className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"rgba(73, 27, 109, 0.1)"},children:s.jsx(yn,{className:"w-4 h-4",style:{color:"#491B6D"}})})]}),s.jsx("div",{className:"space-y-3",children:L().map((D,P)=>s.jsxs(O.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:P*.05},className:"p-4 rounded-2xl border flex items-start gap-3",style:{background:"rgba(255, 255, 255, 0.8)",borderColor:D.color,borderWidth:"2px"},children:[s.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${D.color}15`},children:s.jsx(Ko,{className:"w-5 h-5",style:{color:D.color}})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:D.title}),s.jsx("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:D.subtitle})]})]},P))})]})}),s.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"p-6 backdrop-blur-lg rounded-3xl border",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)",borderColor:"rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px -8px rgba(73, 27, 109, 0.2)"},children:[s.jsx("h3",{className:"mb-4",style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:"   "}),s.jsx("div",{className:"space-y-3 mb-4",children:c.map((D,P)=>s.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+P*.1},className:"p-4 rounded-2xl border",style:{background:"rgba(255, 255, 255, 0.6)",borderColor:"rgba(73, 27, 109, 0.1)"},children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:D.color}}),s.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:D.name})]}),s.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:400,fontSize:"13px",color:"#6B7280"},children:D.department}),s.jsxs("p",{className:"mt-2",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"12px",color:"#F59E0B"},children:[": ",D.deadline]})]}),s.jsx(O.button,{whileTap:{scale:.95},onClick:()=>{setUniversities(c.filter(R=>R.id!==D.id))},className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"rgba(239, 68, 68, 0.1)"},children:s.jsx(yn,{className:"w-4 h-4",style:{color:"#EF4444"}})})]})},D.id))}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs(O.button,{whileTap:{scale:.95},onClick:()=>u(!0),className:"py-3 px-3 rounded-xl flex items-center justify-center gap-1.5",style:{background:"linear-gradient(135deg, #A78BFA 0%, #8B5CF6 100%)",boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)"},children:[s.jsx(Yo,{className:"w-4 h-4",style:{color:"#FFFFFF"}}),s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#FFFFFF"},children:""})]}),s.jsxs(O.button,{whileTap:{scale:.95},onClick:()=>p(!0),className:"py-3 px-3 rounded-xl flex items-center justify-center gap-1.5",style:{background:"linear-gradient(135deg, #FCD34D 0%, #F59E0B 100%)",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)"},children:[s.jsx(t0,{className:"w-4 h-4",style:{color:"#FFFFFF"}}),s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#FFFFFF"},children:""})]}),s.jsxs(O.button,{whileTap:{scale:.95},onClick:()=>y(!0),className:"py-3 px-3 rounded-xl flex items-center justify-center gap-1.5",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[s.jsx(Em,{className:"w-4 h-4",style:{color:"#FFFFFF"}}),s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#FFFFFF"},children:""})]})]})]}),s.jsx(O.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15,duration:.5},whileTap:{scale:.98},onClick:()=>w(!0),className:"w-full p-6 backdrop-blur-lg rounded-3xl border cursor-pointer",style:{background:j?`linear-gradient(135deg, ${j.color}15 0%, ${j.color}05 100%)`:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)",borderColor:j?.color||"rgba(255, 255, 255, 0.3)",boxShadow:`0 8px 32px -8px ${j?.color||"rgba(73, 27, 109, 0.2)"}40`},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center",style:{background:j?`${j.color}20`:"rgba(73, 27, 109, 0.1)"},children:s.jsx(hr,{className:"w-8 h-8",style:{color:j?.color||"#491B6D"}})}),s.jsx("div",{className:"flex-1 text-left",children:j?s.jsxs(s.Fragment,{children:[s.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:j.name}),s.jsxs("h3",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:800,fontSize:"32px",color:j.color,lineHeight:"1"},children:["D-",$()]})]}):s.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:"D-Day "})})]}),s.jsx(Go,{className:"w-6 h-6",style:{color:"#6B7280"}})]})})]}),d&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)"},children:s.jsxs(O.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md p-6 rounded-3xl",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:" "}),s.jsx(O.button,{whileTap:{scale:.95},onClick:()=>u(!1),children:s.jsx(yn,{className:"w-6 h-6",style:{color:"#491B6D"}})})]}),s.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:400,fontSize:"14px",color:"#6B7280"},children:"    ! "})]})}),f&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)"},children:s.jsxs(O.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md p-6 rounded-3xl",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:"  "}),s.jsx(O.button,{whileTap:{scale:.95},onClick:()=>p(!1),children:s.jsx(yn,{className:"w-6 h-6",style:{color:"#491B6D"}})})]}),s.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:400,fontSize:"14px",color:"#6B7280"},children:"    ! "})]})}),m&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)"},children:s.jsxs(O.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md rounded-3xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxHeight:"80vh"},children:[s.jsx("div",{className:"p-6 border-b",style:{borderColor:"rgba(73, 27, 109, 0.1)"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:" "}),s.jsx(O.button,{whileTap:{scale:.95},onClick:()=>y(!1),children:s.jsx(yn,{className:"w-6 h-6",style:{color:"#491B6D"}})})]})}),s.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(80vh - 100px)"},children:s.jsx("div",{className:"space-y-4",children:c.map(D=>s.jsx(O.div,{whileTap:{scale:.98},className:"p-5 rounded-2xl border cursor-pointer",style:{background:"rgba(255, 255, 255, 0.8)",borderColor:D.color,borderWidth:"2px"},children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${D.color}20`},children:s.jsx(Em,{className:"w-6 h-6",style:{color:D.color}})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"16px",color:"#491B6D"},children:D.name}),s.jsx("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:D.department}),s.jsxs("div",{className:"mt-3 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"11px",color:"#8B5CF6"},children:""}),s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"11px",color:"#6B7280"},children:D.deadline})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"11px",color:"#8B5CF6"},children:""}),s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"11px",color:"#6B7280"},children:", , "})]})]}),s.jsx(O.button,{whileTap:{scale:.95},className:"mt-4 w-full py-2 px-4 rounded-lg",style:{background:D.color,boxShadow:`0 4px 12px ${D.color}40`},children:s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#FFFFFF"},children:" PDF "})})]})]})},D.id))})})]})}),v&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)"},children:s.jsxs(O.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md rounded-3xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxHeight:"80vh"},children:[s.jsx("div",{className:"p-6 border-b",style:{borderColor:"rgba(73, 27, 109, 0.1)"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:"D-Day "}),s.jsx("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:400,fontSize:"13px",color:"#6B7280"},children:"  "})]}),s.jsx(O.button,{whileTap:{scale:.95},onClick:()=>w(!1),children:s.jsx(yn,{className:"w-6 h-6",style:{color:"#491B6D"}})})]})}),s.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(80vh - 100px)"},children:s.jsxs("div",{className:"space-y-3",children:[c.map(D=>{const P=new Date(D.deadline),R=j?.name===`${D.name} `;return s.jsx(O.button,{whileTap:{scale:.98},onClick:()=>{S({name:`${D.name} `,date:P,color:D.color}),w(!1)},className:"w-full p-5 rounded-2xl border text-left",style:{background:R?`${D.color}15`:"rgba(255, 255, 255, 0.8)",borderColor:R?D.color:"rgba(73, 27, 109, 0.1)",borderWidth:R?"2px":"1px"},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${D.color}20`},children:s.jsx(Ul,{className:"w-6 h-6",style:{color:D.color}})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:D.name}),s.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:" "}),s.jsx("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"12px",color:D.color},children:D.deadline})]}),R&&s.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{background:D.color},children:s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:3,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})]})},D.id)}),s.jsxs("div",{className:"flex items-center gap-3 py-2",children:[s.jsx("div",{className:"flex-1 h-px",style:{background:"rgba(73, 27, 109, 0.1)"}}),s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"12px",color:"#6B7280"},children:""}),s.jsx("div",{className:"flex-1 h-px",style:{background:"rgba(73, 27, 109, 0.1)"}})]}),s.jsx(O.button,{whileTap:{scale:.98},className:"w-full p-5 rounded-2xl border",style:{background:"rgba(139, 92, 246, 0.05)",borderColor:"rgba(139, 92, 246, 0.2)",borderStyle:"dashed",borderWidth:"2px"},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:"rgba(139, 92, 246, 0.15)"},children:s.jsx(Yo,{className:"w-6 h-6",style:{color:"#8B5CF6"}})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:"  "}),s.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:"  "})]})]})})]})})]})})]})}const Zz={},I1=e=>{let t;const n=new Set,r=(p,m)=>{const y=typeof p=="function"?p(t):p;if(!Object.is(y,t)){const v=t;t=m??(typeof y!="object"||y===null)?y:Object.assign({},t,y),n.forEach(w=>w(t,v))}},i=()=>t,u={setState:r,getState:i,getInitialState:()=>f,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(Zz?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,i,u);return u},eW=e=>e?I1(e):I1;var Yp={exports:{}},Xp={},Jp={exports:{}},Qp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1;function tW(){if(F1)return Qp;F1=1;var e=Fl();function t(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,c=e.useDebugValue;function d(m,y){var v=y(),w=r({inst:{value:v,getSnapshot:y}}),j=w[0].inst,S=w[1];return a(function(){j.value=v,j.getSnapshot=y,u(j)&&S({inst:j})},[m,v,y]),i(function(){return u(j)&&S({inst:j}),m(function(){u(j)&&S({inst:j})})},[m]),c(v),v}function u(m){var y=m.getSnapshot;m=m.value;try{var v=y();return!n(m,v)}catch{return!0}}function f(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return Qp.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Qp}var M1;function nW(){return M1||(M1=1,Jp.exports=tW()),Jp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1;function rW(){if(L1)return Xp;L1=1;var e=Fl(),t=nW();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,c=e.useEffect,d=e.useMemo,u=e.useDebugValue;return Xp.useSyncExternalStoreWithSelector=function(f,p,m,y,v){var w=a(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=d(function(){function N(I){if(!E){if(E=!0,C=I,I=y(I),v!==void 0&&j.hasValue){var M=j.value;if(v(M,I))return _=M}return _=I}if(M=_,r(C,I))return M;var F=y(I);return v!==void 0&&v(M,F)?(C=I,M):(C=I,_=F)}var E=!1,C,_,T=m===void 0?null:m;return[function(){return N(p())},T===null?void 0:function(){return N(T())}]},[p,m,y,v]);var S=i(f,w[0],w[1]);return c(function(){j.hasValue=!0,j.value=S},[S]),u(S),S},Xp}var B1;function sW(){return B1||(B1=1,Yp.exports=rW()),Yp.exports}var iW=sW();const oW=Pu(iW),FC={},{useDebugValue:aW}=de,{useSyncExternalStoreWithSelector:lW}=oW;let $1=!1;const cW=e=>e;function dW(e,t=cW,n){(FC?"production":void 0)!=="production"&&n&&!$1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),$1=!0);const r=lW(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return aW(r),r}const z1=e=>{(FC?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?eW(e):e,n=(r,i)=>dW(t,r,i);return Object.assign(n,t),n},uW=e=>e?z1(e):z1,W1={starredWords:[],graveyardWords:[],wrongAnswersWords:[],myVocabularies:[],isLoading:!1,hasLoaded:!1},as=async(e,t,n={})=>{const r=e?.();if(!r)throw new Error("  .  .");const i=await fetch(`https://${Je}.supabase.co/functions/v1/server${t}`,{...n,headers:{Authorization:`Bearer ${r}`,...n.headers}});let a=null;const c=await i.text();if(c)try{a=JSON.parse(c)}catch(d){console.error(" Failed to parse response JSON:",d,c),a={error:c}}if(!i.ok){const d=a?.message||a?.error||" ";throw new Error(d)}return a},hW=uW((e,t)=>({...W1,loadWordLists:async n=>{if(!n?.()){console.log(" Skipping word lists load - no auth token");return}if(!(t().isLoading||t().hasLoaded)){e({isLoading:!0});try{const[i,a,c,d]=await Promise.all([as(n,"/starred"),as(n,"/graveyard"),as(n,"/wrong-answers"),as(n,"/my-vocabularies")]);e({starredWords:i?.words?.map(u=>u.id)||[],graveyardWords:a?.words?.map(u=>u.id)||[],wrongAnswersWords:c?.words?.map(u=>u.id)||[],myVocabularies:d?.vocabularies||[],hasLoaded:!0})}catch(i){console.error(" Failed to load word lists:",i)}finally{e({isLoading:!1})}}},toggleStarred:async(n,r)=>{if(!n?.()){console.warn(" Cannot toggle starred without auth token");return}const a=t().starredWords.includes(r);e(c=>({starredWords:a?c.starredWords.filter(d=>d!==r):[...c.starredWords,r]}));try{await as(n,`/starred/${r}`,{method:a?"DELETE":"POST",headers:{"Content-Type":"application/json"}})}catch(c){console.error(" Error toggling starred:",c),e(d=>({starredWords:a?[...d.starredWords,r]:d.starredWords.filter(u=>u!==r)}))}},moveToGraveyard:async(n,r)=>{if(!n?.()){console.warn(" Cannot move to graveyard without auth token");return}const a={graveyardWords:t().graveyardWords,starredWords:t().starredWords,wrongAnswersWords:t().wrongAnswersWords};e(c=>({graveyardWords:c.graveyardWords.includes(r)?c.graveyardWords:[...c.graveyardWords,r],starredWords:c.starredWords.filter(d=>d!==r),wrongAnswersWords:c.wrongAnswersWords.filter(d=>d!==r)}));try{await as(n,`/graveyard/${r}`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(c){console.error(" Error moving to graveyard:",c),e({graveyardWords:a.graveyardWords,starredWords:a.starredWords,wrongAnswersWords:a.wrongAnswersWords})}},deletePermanently:async(n,r)=>{if(!n?.()){console.warn(" Cannot delete from graveyard without auth token");return}const a={graveyardWords:t().graveyardWords,starredWords:t().starredWords,wrongAnswersWords:t().wrongAnswersWords};e(c=>({graveyardWords:c.graveyardWords.filter(d=>d!==r),starredWords:c.starredWords.filter(d=>d!==r),wrongAnswersWords:c.wrongAnswersWords.filter(d=>d!==r)}));try{await as(n,`/graveyard/${r}`,{method:"DELETE"})}catch(c){console.error(" Error deleting word permanently:",c),e({graveyardWords:a.graveyardWords,starredWords:a.starredWords,wrongAnswersWords:a.wrongAnswersWords})}},addWrongAnswer:async(n,r)=>{if(!n?.()){console.warn(" Cannot track wrong answer without auth token");return}if(!t().wrongAnswersWords.includes(r)){e(a=>({wrongAnswersWords:[...a.wrongAnswersWords,r]}));try{await as(n,`/wrong-answers/${r}`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(a){console.error(" Error adding wrong answer:",a),e(c=>({wrongAnswersWords:c.wrongAnswersWords.filter(d=>d!==r)}))}}},refreshMyVocabularies:async n=>{if(!n?.()){console.warn(" Cannot refresh vocabularies without auth token");return}try{const i=await as(n,"/my-vocabularies");e({myVocabularies:i?.vocabularies||[]})}catch(i){console.error(" Error refreshing vocabularies:",i)}},reset:()=>{e(W1)}}));function fW(e){const{starredWords:t,graveyardWords:n,wrongAnswersWords:r,myVocabularies:i,isLoading:a,loadWordLists:c,toggleStarred:d,moveToGraveyard:u,deletePermanently:f,addWrongAnswer:p,refreshMyVocabularies:m,reset:y}=hW(),v=g.useCallback(()=>c(e),[c,e]),w=g.useCallback(C=>d(e,C),[d,e]),j=g.useCallback(C=>u(e,C),[u,e]),S=g.useCallback(C=>f(e,C),[f,e]),N=g.useCallback(C=>p(e,C),[p,e]),E=g.useCallback(()=>m(e),[m,e]);return{starredWords:t,graveyardWords:n,wrongAnswersWords:r,myVocabularies:i,isLoading:a,loadWordLists:v,toggleStarred:w,moveToGraveyard:j,deletePermanently:S,addWrongAnswer:N,refreshMyVocabularies:E,resetStore:y}}function pW(e){const[t,n]=g.useState(0),r=g.useRef(null),i=()=>{r.current&&clearTimeout(r.current);const c=t+1;n(c),c>=5?(n(0),e.onAdminAccess&&e.onAdminAccess()):r.current=setTimeout(()=>{n(0)},2e3)},a=()=>{if(!e.ddayInfo)return null;const c=new Date;c.setHours(0,0,0,0);const d=new Date(e.ddayInfo.date);d.setHours(0,0,0,0);const u=Math.ceil((d.getTime()-c.getTime())/(1e3*60*60*24));return Math.abs(u)};return s.jsxs("div",{className:"relative px-7 pt-6 pb-5 overflow-hidden",style:{background:"transparent"},children:[s.jsx("div",{className:"absolute top-0 left-0 w-40 h-40 rounded-full opacity-20 blur-3xl",style:{background:"radial-gradient(circle, rgba(139, 92, 246, 0.3) 0%, transparent 70%)",transform:"translate(-20%, -20%)"}}),s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 rounded-full opacity-15 blur-3xl",style:{background:"radial-gradient(circle, rgba(167, 139, 250, 0.3) 0%, transparent 70%)",transform:"translate(20%, -20%)"}}),s.jsxs("div",{className:"relative flex items-center justify-between",children:[s.jsxs(O.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{duration:.6,ease:[.16,1,.3,1]},className:"flex flex-col gap-0",children:[s.jsxs("div",{style:{fontFamily:"Inter, -apple-system, sans-serif",fontSize:"36px",letterSpacing:"-1.6px",filter:"drop-shadow(0 2px 4px rgba(9, 26, 122, 0.15))"},onClick:i,children:[s.jsx("span",{style:{fontWeight:800,color:"#091A7A"},children:"JEJE"}),s.jsx("span",{style:{fontWeight:500,color:"#091A7A"},children:"VOCA"})]}),s.jsx(O.span,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},transition:{delay:.15,duration:.5},style:{fontFamily:"Inter, -apple-system, sans-serif",fontSize:"9px",fontWeight:600,color:"#4B5563",letterSpacing:"0.5px"},children:"BETA 3.0"})]}),s.jsxs(O.div,{initial:{opacity:0,x:15},animate:{opacity:1,x:0},transition:{duration:.6,ease:[.16,1,.3,1]},className:"flex items-center gap-3",children:[s.jsxs(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1,duration:.5},className:"flex flex-col items-end gap-1",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsxs("span",{style:{fontFamily:"Lexend, sans-serif",fontSize:"12px",fontWeight:600,color:"#491B6D"},children:[e.userName||"",""]}),s.jsx(O.span,{animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},style:{fontSize:"13px"},children:""})]}),e.ddayInfo&&s.jsx(O.button,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},whileTap:{scale:.95},onClick:e.onDdayClick,className:"relative group",children:s.jsxs("div",{className:"px-4 py-1.5 rounded-full relative overflow-hidden",style:{background:"linear-gradient(135deg, #491B6D 0%, #7C3AED 100%)",boxShadow:"0 6px 20px rgba(73, 27, 109, 0.4), 0 2px 8px rgba(124, 58, 237, 0.3)"},children:[s.jsx(O.div,{className:"absolute inset-0",animate:{x:["-100%","100%"]},transition:{duration:3,repeat:1/0,repeatDelay:2,ease:"easeInOut"},style:{background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent)"}}),s.jsxs("span",{className:"relative",style:{fontFamily:"Lexend, sans-serif",fontSize:"17px",fontWeight:900,color:"white",letterSpacing:"0.5px",textShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"},children:["D-",a()]})]})})]}),s.jsx(O.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},whileTap:{scale:.9},className:"w-12 h-12 rounded-full flex items-center justify-center border-none",style:{background:"white",boxShadow:"0 10px 25px -5px rgba(9, 26, 122, 0.3), 0 8px 10px -6px rgba(9, 26, 122, 0.2)",cursor:"pointer"},onClick:e.onLogout,children:s.jsx(n6,{className:"w-5 h-5",style:{color:"#091A7A"}})})]})]})]})}const mW="/assets/d591fc627aa5b7799a1427ce1ddf2818333b2abf-DlciBEN6.png",gW="/assets/58e118d790296ac36e08d84dc8b8f99cdbd1d5bf-BOVzN0Jf.png";function xW(){return s.jsx(O.img,{src:gW,alt:"Star",width:64,height:64,className:"w-16 h-16 object-contain",whileTap:{scale:.95}})}const yW="/assets/2826bb0f82e8ee44cdcabe4b9b093d546b513206-CY4s6HfL.png";function vW(){return s.jsx(O.img,{src:yW,alt:"Skull",width:64,height:64,className:"w-16 h-16 object-contain",whileTap:{scale:.95}})}function wW({onSubjectClick:e,starredCount:t=0,graveyardCount:n=0,wrongAnswersCount:r=0}){const i=[{id:"starred",name:" ",description:"",progress:0,icon:s.jsx(xW,{}),color:"from-[#091A7A] to-[#FCD34D]",count:t},{id:"graveyard",name:" ",description:"",progress:0,icon:s.jsx(vW,{}),color:"from-[#091A7A] to-[#6B7280]",count:n},{id:"wrong-answers",name:" ",description:"",progress:0,icon:s.jsx(rC,{src:mW,alt:"Wrong Answers Icon",className:"w-10 h-10"}),color:"from-[#091A7A] to-[#EF4444]",count:r}];return s.jsxs("div",{className:"relative mx-6 mb-6",children:[s.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden -inset-8",children:[s.jsx(O.div,{className:"absolute top-16 left-4 w-1.5 h-1.5 bg-gradient-to-br from-[#ADC8FF]/40 to-[#091A7A]/20 rounded-full blur-sm",animate:{y:[0,-25,0],x:[0,15,0],scale:[.4,1.2,.4],opacity:[.2,.7,.2]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:.5}}),s.jsx(O.div,{className:"absolute top-32 right-8 w-1 h-1 bg-gradient-to-br from-[#091A7A]/30 to-[#ADC8FF]/40 rounded-full blur-sm",animate:{y:[0,-18,0],x:[0,-12,0],scale:[.3,.9,.3],opacity:[.3,.6,.3]},transition:{duration:9,repeat:1/0,ease:"easeInOut",delay:2}}),s.jsx(O.div,{className:"absolute bottom-20 left-16 w-0.5 h-0.5 bg-gradient-to-br from-[#ADC8FF]/50 to-[#091A7A]/10 rounded-full blur-sm",animate:{y:[0,-30,0],x:[0,20,0],scale:[.5,1.5,.5],opacity:[.4,.8,.4]},transition:{duration:15,repeat:1/0,ease:"easeInOut",delay:4}}),s.jsx(O.div,{className:"absolute top-24 right-2 w-2 h-2 bg-gradient-to-br from-yellow-300/30 to-orange-300/20 rounded-full blur-sm",animate:{y:[0,-22,0],x:[0,-8,0],scale:[.2,1,.2],opacity:[.2,.5,.2],rotate:[0,180,360]},transition:{duration:11,repeat:1/0,ease:"easeInOut",delay:6}})]}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:i.map((a,c)=>s.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7+c*.1,duration:.5},whileTap:{scale:.95},onClick:()=>e(a),className:"relative flex-1 cursor-pointer",children:s.jsxs("div",{className:"relative p-2.5 backdrop-blur-lg border rounded-full overflow-visible group",style:{width:"95px",height:"95px",background:a.id==="starred"?"linear-gradient(135deg, rgba(254, 252, 232, 0.95) 0%, rgba(254, 249, 195, 0.9) 100%)":a.id==="graveyard"?"linear-gradient(135deg, rgba(249, 250, 251, 0.95) 0%, rgba(243, 244, 246, 0.9) 100%)":a.id==="wrong-answers"?"linear-gradient(135deg, rgba(254, 242, 242, 0.95) 0%, rgba(254, 226, 226, 0.9) 100%)":"linear-gradient(135deg, rgba(173, 200, 255, 0.9) 0%, rgba(173, 200, 255, 0.7) 100%)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",borderColor:"rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px -8px rgba(9, 26, 122, 0.2)"},children:[s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center gap-2",children:[s.jsx(O.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.9+c*.1,duration:.4,type:"spring",stiffness:200},className:"absolute min-w-[24px] h-[24px] px-2 flex items-center justify-center rounded-full",style:{top:"2px",right:"-6px",background:a.id==="starred"?"linear-gradient(135deg, #FCD34D 0%, #F59E0B 100%)":a.id==="graveyard"?"linear-gradient(135deg, #9CA3AF 0%, #6B7280 100%)":"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},children:s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"11px",lineHeight:"14px",color:"#FFFFFF"},children:a.count})}),a.icon&&s.jsx(O.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:.9,y:[0,-4,0]},transition:{scale:{delay:.8+c*.15,duration:.5,type:"spring"},opacity:{delay:.8+c*.15,duration:.5},y:{duration:4+c*.5,repeat:1/0,ease:"easeInOut",delay:1+c*.3}},className:"w-10 h-10 flex items-center justify-center",style:{filter:"drop-shadow(0 4px 12px rgba(9, 26, 122, 0.12))"},children:a.icon}),s.jsx("div",{children:s.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"10px",lineHeight:"14px",color:"#091A7A"},children:a.name})})]}),s.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-full",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 50%, transparent 100%)"}})]})},a.id))})]})}const bW="/assets/a89a6ef3f88fd2857fdad1d76f0f4ad72a96dff2-DsW-fqgf.png";function jW(){return s.jsx("div",{className:"relative size-full","data-name":"Icons",children:s.jsx("div",{className:"absolute bg-center bg-cover bg-no-repeat inset-0","data-name":"ChatGPT Image Sep 6, 2025, 06_15_01 PM 1",style:{backgroundImage:`url('${bW}')`}})})}function SW({illustrationImage:e,onStartQuiz:t,currentProgress:n=40,totalQuizzesCompleted:r=0}){const[i,a]=g.useState(n),[c,d]=g.useState(n);g.useEffect(()=>{if(n!==i){const m=i,v=(n-m)/30;let w=0;const j=setInterval(()=>{w++;const S=m+v*w;d(Math.round(S)),w>=30&&(clearInterval(j),d(n),a(n))},1500/30);return()=>clearInterval(j)}},[n]);const u=()=>c>=80?"  !       !":c>=60?" !     .":c>=40?"       !":`  !   ${c}%  .`;return s.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"relative",children:[s.jsxs(O.div,{initial:{opacity:0,scale:.8,y:20,rotate:-10},animate:{opacity:.95,scale:1,rotate:0,y:[0,-12,0],x:[0,4,0],rotateY:[0,5,0]},transition:{opacity:{delay:.6,duration:.8},scale:{delay:.6,duration:.8,type:"spring",stiffness:200},rotate:{delay:.6,duration:.8},y:{duration:7,repeat:1/0,ease:"easeInOut",delay:1.2},x:{duration:9,repeat:1/0,ease:"easeInOut",delay:.8},rotateY:{duration:12,repeat:1/0,ease:"easeInOut",delay:2}},className:"absolute -top-6 right-2 opacity-95 z-50 pointer-events-none",style:{width:"85px",height:"85px",filter:"drop-shadow(0 8px 20px rgba(9, 26, 122, 0.25))",transformStyle:"preserve-3d"},children:[s.jsx(jW,{}),s.jsx(O.div,{className:"absolute -top-3 -left-3 w-2 h-2 bg-yellow-400/60 rounded-full",animate:{scale:[0,1.2,0],opacity:[0,.8,0],rotate:[0,180,360],x:[0,6,0],y:[0,-4,0]},transition:{duration:4,repeat:1/0,delay:2.5,ease:"easeInOut"}}),s.jsx(O.div,{className:"absolute -bottom-2 -right-3 w-1.5 h-1.5 bg-cyan-400/70 rounded-full",animate:{scale:[0,1,0],opacity:[0,.9,0],x:[0,-5,0],y:[0,3,0]},transition:{duration:3.5,repeat:1/0,delay:3.8,ease:"easeInOut"}}),s.jsx(O.div,{className:"absolute top-2 right-2 w-1 h-1 bg-purple-400/50 rounded-full",animate:{scale:[0,.8,0],opacity:[0,.6,0],x:[0,-3,0],y:[0,6,0]},transition:{duration:5,repeat:1/0,delay:5.2,ease:"easeInOut"}}),s.jsx(O.div,{className:"absolute top-4 left-1 w-0.5 h-0.5 bg-pink-400/60 rounded-full",animate:{scale:[0,1.5,0],opacity:[0,.7,0],x:[0,4,0],y:[0,-8,0]},transition:{duration:6,repeat:1/0,delay:1.8,ease:"easeInOut"}})]}),s.jsxs(O.div,{whileTap:{scale:.98},onClick:t,className:"relative p-6 bg-card-glass backdrop-blur-lg rounded-[20px] border border-white/20 shadow-card overflow-hidden cursor-pointer",style:{background:"rgba(249, 250, 251, 0.8)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",boxShadow:"0 2px 8px 0 rgba(0, 0, 0, 0.08)",position:"relative",minHeight:"160px"},children:[s.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-center",children:[s.jsx(O.h3,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.4},style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#091A7A",lineHeight:"1.3",marginBottom:"12px"},children:"  "}),s.jsx(O.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.5},style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"14px",color:"#6B7280",lineHeight:"1.5",maxWidth:"calc(100% - 64px)"},children:u()})]}),s.jsx(O.button,{whileTap:{scale:.9},onClick:f=>{f.stopPropagation(),t()},className:"absolute bottom-4 right-4 w-12 h-12 bg-white rounded-full shadow-interactive border-none cursor-pointer flex items-center justify-center z-15",style:{boxShadow:"0 10px 25px -5px rgba(9, 26, 122, 0.3), 0 8px 10px -6px rgba(9, 26, 122, 0.2)"},children:s.jsx(Qj,{className:"w-6 h-6",style:{color:"#091A7A"}})}),s.jsx(O.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-4 right-4 w-12 h-12 pointer-events-none rounded-full z-14",style:{background:"rgba(173, 200, 255, 0.3)"}}),s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 50%, transparent 100%)",borderRadius:"20px"}})]})]})}function NW({onClick:e}){const n=[{id:"mon",label:"M"},{id:"tue",label:"T"},{id:"wed",label:"W"},{id:"thu",label:"T"},{id:"fri",label:"F"},{id:"sat",label:"S"},{id:"sun",label:"S"}],r=[{id:"date-1",date:1},{id:"date-2",date:2},{id:"date-3",date:3},{id:"date-4",date:4},{id:"date-5",date:5},{id:"date-6",date:6},{id:"date-7",date:7}];return s.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},onClick:e,whileTap:{scale:.98},className:"p-6 bg-white/95 backdrop-blur-xl rounded-[24px] shadow-lg border border-gray-100 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-5",children:[s.jsx("h3",{className:"text-[18px] font-bold text-[#091A7A]",children:"  "}),s.jsx("span",{className:"text-[12px] text-gray-500 font-medium",children:"September 2025"})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-3",children:[n.map(i=>s.jsx("div",{className:"text-center text-[11px] text-gray-400 font-semibold uppercase tracking-wide py-1",children:i.label},i.id)),r.map((i,a)=>s.jsx(O.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.6+a*.05,type:"spring",stiffness:400,damping:15},whileHover:{scale:1.1},whileTap:{scale:.95},className:`aspect-square flex items-center justify-center rounded-full text-[12px] font-medium transition-all duration-200 ${i.date===3?"bg-[#ADC8FF] text-[#091A7A] shadow-md":"text-gray-500 hover:bg-gray-50"}`,children:i.date},i.id))]})]})}const kW="data:image/svg+xml,%3Csvg%20preserveAspectRatio%3D%22none%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20overflow%3D%22visible%22%20style%3D%22display%3A%20block%3B%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20id%3D%22home-01%22%3E%0A%3Cpath%20id%3D%22Vector%22%20d%3D%22M3%2011.9896V14.5C3%2017.7998%203%2019.4497%204.02513%2020.4749C5.05025%2021.5%206.70017%2021.5%2010%2021.5H14C17.2998%2021.5%2018.9497%2021.5%2019.9749%2020.4749C21%2019.4497%2021%2017.7998%2021%2014.5V11.9896C21%2010.3083%2021%209.46773%2020.6441%208.74005C20.2882%208.01237%2019.6247%207.49628%2018.2976%206.46411L16.2976%204.90855C14.2331%203.30285%2013.2009%202.5%2012%202.5C10.7991%202.5%209.76689%203.30285%207.70242%204.90855L5.70241%206.46411C4.37533%207.49628%203.71179%208.01237%203.3559%208.74005C3%209.46773%203%2010.3083%203%2011.9896Z%22%20stroke%3D%22var(--stroke-0%2C%20white)%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%3Cpath%20id%3D%22Vector_2%22%20d%3D%22M15.0002%2017C14.2007%2017.6224%2013.1504%2018%2012.0002%2018C10.8499%2018%209.79971%2017.6224%209.00018%2017%22%20stroke%3D%22var(--stroke-0%2C%20white)%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A";function CW({src:e,active:t,IconComponent:n,isEmoji:r,emojiText:i}){return r&&i?s.jsx("div",{className:"relative w-6 h-6 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:i})}):n?s.jsx("div",{className:"relative w-6 h-6 flex items-center justify-center",children:s.jsx(n,{className:`w-5 h-5 transition-all duration-300 ${t?"text-[#8B5CF6]":"text-white"}`,strokeWidth:2})}):s.jsx("div",{className:"relative w-6 h-6 flex items-center justify-center",children:s.jsx("img",{className:`w-full h-full object-contain transition-all duration-300 ${t?"brightness-0 saturate-100":"brightness-0 invert"}`,style:t?{filter:"invert(40%) sepia(89%) saturate(2476%) hue-rotate(242deg) brightness(96%) contrast(92%)"}:{},src:e,alt:""})})}function EW({currentScreen:e,onScreenChange:t}){const n=[{icon:kW,screen:"home",active:e==="home"},{IconComponent:ou,screen:"gift",active:e==="gift"},{IconComponent:ur,screen:"vocabulary-creator",active:e==="vocabulary-creator"},{IconComponent:Cm,screen:"ai",active:e==="ai"},{IconComponent:lS,screen:"text-extractor",active:e==="text-extractor"}],r=[10,70,130,190,250],i=[10,70,130,190,250],a=()=>{switch(e){case"home":return 0;case"gift":return 1;case"vocabulary-creator":return 2;case"ai":case"ai-tutor":return 3;case"text-extractor":return 4;default:return 0}};return s.jsx(O.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:1,duration:.6,ease:"easeOut"},className:"fixed bottom-6 left-4 right-4 z-50",children:s.jsxs("div",{className:"bg-[#091A7A]/95 backdrop-blur-lg relative rounded-[50px] mx-auto shadow-elevated border border-white/20",style:{width:"320px",height:"80px"},children:[s.jsx(O.div,{className:"absolute bg-white rounded-full shadow-interactive",style:{width:"60px",height:"60px",top:"10px"},animate:{left:`${i[a()]}px`},transition:{duration:.3,ease:"easeInOut"}}),s.jsx("div",{className:"absolute inset-0",children:n.map((c,d)=>s.jsx(O.button,{whileTap:{scale:.95},onClick:()=>t(c.screen),className:"absolute z-10 flex items-center justify-center rounded-full transition-all duration-200",style:{left:`${r[d]}px`,width:"60px",height:"60px",top:"10px"},children:s.jsx(CW,{src:c.icon,IconComponent:c.IconComponent,active:c.active,isEmoji:c.isEmoji,emojiText:c.emojiText})},d))})]})})}const Eo=[{id:1,question:"What is 15  8?",options:["110","120","130","140"],correctAnswer:1},{id:2,question:"Which planet is known as the Red Planet?",options:["Venus","Mars","Jupiter","Saturn"],correctAnswer:1},{id:3,question:"What is the capital of Australia?",options:["Sydney","Melbourne","Canberra","Perth"],correctAnswer:2}];function _W({onBack:e,onXPGain:t,onStreakIncrease:n}){const[r,i]=g.useState(0),[a,c]=g.useState(null),[d,u]=g.useState(!1),[f,p]=g.useState(0),[m,y]=g.useState(30),[v,w]=g.useState(!1),j=Eo[r];g.useEffect(()=>{if(d||v)return;const C=setInterval(()=>{y(_=>_<=1?(u(!0),0):_-1)},1e3);return()=>clearInterval(C)},[r,d,v]),g.useEffect(()=>{if(d&&m===0){const C=setTimeout(()=>{N()},2e3);return()=>clearTimeout(C)}},[d,m]);const S=C=>{d||c(C)},N=()=>{if(a===j.correctAnswer&&p(C=>C+1),u(!1),c(null),r<Eo.length-1)i(C=>C+1),y(30);else{w(!0);const C=f*50+(a===j.correctAnswer?50:0);t(C),f>=2&&n()}},E=()=>{a!==null&&u(!0)};return v?s.jsxs("div",{className:"p-6 h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"w-12 h-12 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/50",children:s.jsx(gs,{className:"w-5 h-5 text-[#091A7A]"})}),s.jsx("h1",{className:"text-2xl font-bold text-[#091A7A]",children:"Quiz Complete!"})]}),s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-8",children:[s.jsx(O.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-32 h-32 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full flex items-center justify-center shadow-xl",children:s.jsx(xs,{className:"w-16 h-16 text-white",fill:"currentColor"})}),s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("h2",{className:"text-3xl font-bold text-[#091A7A]",children:[f,"/3"]}),s.jsx("p",{className:"text-lg text-[#091A7A]/70",children:"Great job!"}),s.jsx("div",{className:"px-6 py-3 bg-gradient-to-r from-green-100 to-green-50 rounded-2xl border border-green-200",children:s.jsxs("p",{className:"text-green-700 font-semibold",children:["+",f*50," XP Earned!"]})})]}),s.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"w-full py-4 bg-gradient-to-r from-[#091A7A] to-[#1a2b8a] text-white font-semibold rounded-2xl shadow-lg",children:"Continue Learning"})]})]}):s.jsxs("div",{className:"p-6 h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"w-12 h-12 bg-card-glass backdrop-blur-lg rounded-full flex items-center justify-center shadow-card border border-white/20 animate-button",children:s.jsx(gs,{className:"w-5 h-5 text-[#091A7A]"})}),s.jsxs(O.div,{animate:{scale:m<=5?[1,1.1,1]:1,backgroundColor:m<=5?["rgba(255,255,255,0.9)","rgba(239,68,68,0.2)","rgba(255,255,255,0.9)"]:"rgba(255,255,255,0.9)"},transition:{duration:m<=5?.5:0,repeat:m<=5?1/0:0},className:"flex items-center gap-2 px-4 py-2 bg-card-glass backdrop-blur-lg rounded-[50px] border border-white/20",children:[s.jsx(Ko,{className:`w-4 h-4 ${m<=5?"text-[#EF4444]":"text-[#091A7A]"}`}),s.jsxs("span",{className:`text-small font-medium ${m<=5?"text-[#EF4444]":"text-[#091A7A]"}`,children:[m,"s"]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between text-small text-[#6B7280] mb-3",children:[s.jsxs("span",{children:["Question ",r+1," of ",Eo.length]}),s.jsxs("span",{className:"font-medium text-[#091A7A]",children:[Math.round(r/Eo.length*100),"%"]})]}),s.jsx("div",{className:"h-3 bg-white/40 rounded-[50px] overflow-hidden border border-white/20",children:s.jsx(O.div,{initial:{width:0},animate:{width:`${(r+1)/Eo.length*100}%`},className:"h-full bg-gradient-to-r from-[#091A7A] to-[#3B82F6] rounded-[50px]"})})]}),s.jsxs("div",{className:"flex-1 space-y-6",children:[s.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"p-6 bg-white/80 backdrop-blur-sm rounded-3xl border border-white/60 shadow-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-[#091A7A] mb-6",children:j.question}),s.jsx("div",{className:"space-y-3",children:j.options.map((C,_)=>s.jsx(O.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>S(_),className:`w-full p-4 text-left rounded-2xl border-2 transition-all ${a===_?d?_===j.correctAnswer?"bg-green-100 border-green-300 text-green-800":"bg-red-100 border-red-300 text-red-800":"bg-[#ADC8FF]/30 border-[#091A7A] text-[#091A7A]":d&&_===j.correctAnswer?"bg-green-100 border-green-300 text-green-800":"bg-white/60 border-white/40 text-[#091A7A] hover:bg-[#ADC8FF]/20"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:C}),d&&s.jsxs(s.Fragment,{children:[_===j.correctAnswer&&s.jsx(Mn,{className:"w-5 h-5 text-green-600"}),a===_&&_!==j.correctAnswer&&s.jsx(e0,{className:"w-5 h-5 text-red-600"})]})]})},_))})]},r),s.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d?N:E,disabled:a===null&&!d,className:`w-full py-4 font-semibold rounded-full shadow-lg transition-all text-center ${a===null&&!d?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-[#091A7A] to-[#1a2b8a] text-white"}`,children:d?r<Eo.length-1?"Next Question":"Finish Quiz":"Submit Answer"})]})]})}const AW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>gV),void 0).then(e=>({default:e.VocabularyCard}))),TW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>wV),void 0).then(e=>({default:e.VocabularyTable}))),PW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>bV),void 0).then(e=>({default:e.VocabularyTableSimple}))),RW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>jV),void 0).then(e=>({default:e.VocabularyTestSimple}))),DW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>SV),void 0).then(e=>({default:e.VocabularyTestSynonym}))),OW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>NV),void 0).then(e=>({default:e.VocabularyTestSynonymAnswer}))),IW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>yV),void 0).then(e=>({default:e.A4PageLayout}))),FW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>xV),void 0).then(e=>({default:e.HeaderFooter}))),V1=[{id:"card",title:"",description:", ,   ",icon:sS},{id:"table",title:" ",description:"     ",icon:pS},{id:"simple",title:" ",description:"   ",icon:dS},{id:"quiz-simple",title:" ",description:"   ",icon:ur},{id:"quiz-synonym",title:" ",description:"  ",icon:oS},{id:"quiz-synonym-answer",title:" ",description:"   ",icon:tS}],lg=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>typeof t=="string"?t:typeof t=="object"&&t!==null?t.word:"").map(t=>(t||"").trim()).filter(Boolean);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return lg(t)}catch{}return e.split(/[\n,]+/).map(t=>t.trim()).filter(Boolean)}return[]},cg=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>{if(typeof t=="string"){const[n,r]=t.split(":").map(i=>i.trim());return{word:n,meaning:r||""}}return typeof t=="object"&&t!==null?{word:String(t.word||"").trim(),meaning:String(t.meaning||"").trim()}:{word:"",meaning:""}}).filter(t=>t.word);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return cg(t)}catch{}return e.split(/[,;]/).map(t=>{const[n,r]=t.split(":").map(i=>i.trim());return{word:n,meaning:r||""}}).filter(t=>t.word)}return typeof e=="object"?cg([e]):[]},MW=e=>(e||[]).map((t,n)=>{const r=t||{},i=String(r.word||r.term||"").trim();return i?{id:n+1,word:i,pronunciation:r.pronunciation||"",partOfSpeech:r.partOfSpeech||r.part_of_speech||"",meaning:r.meaning||r.translation||"",definition:r.definition||"",synonyms:lg(r.synonyms),antonyms:lg(r.antonyms),derivatives:cg(r.derivatives),example:r.example||r.example_sentence||"",translation:r.translation||"",translationHighlight:r.translationHighlight||r.translation_highlight||"",etymology:r.etymology||""}:null}).filter(Boolean),LW=`
@media screen {
  #pdf-print-layout {
    display: none;
  }
}

@media print {
  body {
    margin: 0 !important;
    background: #fff !important;
  }
  .pdf-print-overlay {
    display: none !important;
  }
  #pdf-print-layout {
    display: block !important;
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
  }
}
`;function BW({onBack:e,vocabularyId:t,vocabularyTitle:n,words:r,hideHeader:i=!1}){const[a,c]=g.useState("card"),d=g.useMemo(()=>MW(r||[]),[r]),u=g.useMemo(()=>({headerTitle:n||"AI Vocabulary",headerDescription:d.length?`${d.length.toLocaleString()} `:"",footerLeft:new Date().toLocaleDateString("ko-KR")}),[n,d.length]),f=()=>d.length?s.jsxs(g.Suspense,{fallback:s.jsx("div",{className:"py-16 text-center text-gray-400 text-sm",children:"  ..."}),children:[a==="card"&&s.jsx(IW,{headerContent:s.jsx(FW,{headerInfo:u,showFooter:!0}),showHeaderOnFirstPageOnly:!0,children:d.map(m=>s.jsx(AW,{...m},m.id))}),a==="table"&&s.jsx(TW,{data:d,headerInfo:u}),a==="simple"&&s.jsx(PW,{data:d,headerInfo:u}),a==="quiz-simple"&&s.jsx(RW,{data:d,headerInfo:u}),a==="quiz-synonym"&&s.jsx(DW,{data:d,headerInfo:u}),a==="quiz-synonym-answer"&&s.jsx(OW,{data:d,headerInfo:u})]}):null,p=()=>{if(!d.length){alert("  .");return}window.print()};return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:LW}}),s.jsxs("div",{className:"h-full flex flex-col pdf-print-overlay pdf-print-root",children:[!i&&s.jsx(Gl,{onBack:e,title:"PDF ",subtitle:"  "}),s.jsxs("main",{className:`flex-1 overflow-y-auto scrollbar-hide px-4 ${i?"pt-2 pb-6":"pt-4 pb-28"} space-y-6`,children:[!i&&s.jsxs("section",{className:"max-w-4xl mx-auto bg-white/90 backdrop-blur-lg rounded-2xl border border-white/50 shadow-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-500",children:" "}),s.jsx("p",{className:"text-xl font-bold text-[#091A7A]",children:n||"  "}),s.jsx("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-400 mt-2",children:s.jsxs("span",{children:[d.length.toLocaleString()," "]})})]}),s.jsx("section",{className:"max-w-4xl mx-auto",children:s.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:V1.map(m=>{const y=m.icon,v=a===m.id;return s.jsx(O.button,{whileTap:{scale:.98},onClick:()=>c(m.id),className:`w-full p-4 bg-white/90 backdrop-blur-lg rounded-2xl border-2 shadow-lg transition-all text-left ${v?"border-[#491B6D] shadow-xl":"border-white/40"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center ${v?"bg-[#491B6D] text-white":"bg-[#F3E8FF] text-[#7C3AED]"}`,children:s.jsx(y,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:`mb-1 ${v?"text-[#491B6D]":"text-[#091A7A]"}`,style:{fontSize:"16px",fontWeight:600},children:m.title}),s.jsx("p",{className:"text-[#6B7280]",style:{fontSize:"13px",fontWeight:400},children:m.description})]})]})},m.id)})})}),s.jsx("section",{className:"max-w-4xl mx-auto",children:s.jsxs(O.button,{whileTap:{scale:.98},onClick:p,disabled:!d.length,className:`w-full py-4 rounded-2xl shadow-xl flex items-center justify-center gap-2 ${d.length===0?"bg-gray-300 opacity-50 cursor-not-allowed text-white":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] text-white"}`,children:[s.jsx(cS,{className:"w-5 h-5"}),s.jsx("span",{className:"text-white",style:{fontSize:"16px",fontWeight:600},children:d.length===0?"  ":`${V1.find(m=>m.id===a)?.title} `})]})})]})]}),s.jsx("div",{id:"pdf-print-layout",className:"pdf-print-root",children:d.length?f():null})]})}const Zp=5;function $W({words:e,mode:t,onComplete:n,onWrongAnswer:r}){const[i,a]=g.useState([]),[c,d]=g.useState(0),[u,f]=g.useState([]),[p,m]=g.useState([]),[y,v]=g.useState(null),[w,j]=g.useState(null),[S,N]=g.useState(new Set),[E,C]=g.useState(null),[_,T]=g.useState(0),[I,M]=g.useState(0),[F,U]=g.useState(0),G=Math.ceil(e.length/Zp);g.useEffect(()=>{const L=[...e].sort(()=>Math.random()-.5);a(L),d(0),U(0)},[e,t]),g.useEffect(()=>{if(i.length===0)return;const L=c*Zp,$=Math.min(L+Zp,i.length),D=i.slice(L,$);se(D)},[i,c,t]);const se=L=>{const $=D=>{const P=[...D];for(let R=P.length-1;R>0;R--){const q=Math.floor(Math.random()*(R+1));[P[R],P[q]]=[P[q],P[R]]}return P};if(t==="word-to-meaning"){const D=L.map((R,q)=>({id:`left-${c}-${q}`,content:R.word,type:"left",matched:!1,wordId:R.id,isWord:!0})),P=$(L.map((R,q)=>({id:`right-${c}-${q}`,content:R.meaning,type:"right",matched:!1,wordId:R.id,isWord:!1})));f(D),m(P)}else{const D=L.map((R,q)=>({id:`left-${c}-${q}`,content:R.meaning,type:"left",matched:!1,wordId:R.id,isWord:!1})),P=$(L.map((R,q)=>({id:`right-${c}-${q}`,content:R.word,type:"right",matched:!1,wordId:R.id,isWord:!0})));f(D),m(P)}N(new Set),v(null),j(null),T(0),M(0)},ae=L=>{L.matched||(L.type==="left"?v(y===L.id?null:L.id):j(w===L.id?null:L.id))};g.useEffect(()=>{y&&w&&oe()},[y,w]);const oe=()=>{const L=u.find(D=>D.id===y),$=p.find(D=>D.id===w);if(!(!L||!$))if(M(D=>D+1),L.wordId===$.wordId){const D=new Set(S);D.add(L.id),D.add($.id),N(D),f(P=>P.map(R=>R.id===L.id?{...R,matched:!0}:R)),m(P=>P.map(R=>R.id===$.id?{...R,matched:!0}:R)),T(P=>P+1),U(P=>P+1),v(null),j(null),D.size===u.length*2&&setTimeout(()=>{c<G-1?d(P=>P+1):n(F+1,F+1)},800)}else C({left:L.id,right:$.id}),r&&r(L.wordId),setTimeout(()=>{C(null),v(null),j(null)},800)},ee=(L,$)=>L.matched?"bg-emerald-50 border-emerald-200 text-emerald-700":E&&(E.left===L.id||E.right===L.id)?"bg-red-50 border-red-200 text-red-700 animate-shake":$?"bg-white border-[#7C3AED] text-[#4C1D95] shadow-card":"bg-white/95 border-white/60 text-[#2E1065]";return s.jsx("div",{className:"h-full bg-transparent overflow-y-auto",children:s.jsxs("div",{className:"max-w-4xl mx-auto w-full px-4 py-6 space-y-5",children:[s.jsx("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl p-4 shadow-card border border-white/60",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] rounded-2xl flex items-center justify-center",children:s.jsx(hr,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-[#5B21B6]",children:t==="word-to-meaning"?"  ":"  "}),s.jsxs("p",{className:"text-xs font-medium text-[#8B5CF6]",children:[" ",c+1,"/",G]})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-2xl font-extrabold text-[#5B21B6]",children:[F,"/",e.length]})})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("div",{className:"space-y-2",children:u.map(L=>s.jsx(O.button,{whileTap:{scale:L.matched?1:.97},onClick:()=>ae(L),disabled:L.matched,className:`w-full min-h-[70px] py-3 px-3 rounded-2xl border transition-all duration-200 text-center shadow-sm ${ee(L,y===L.id)}`,style:{touchAction:"manipulation"},children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[s.jsx("span",{className:`${L.isWord?"text-sm":"text-xs"} font-semibold text-[#2E1065]`,children:L.content}),L.matched&&s.jsx(Mn,{className:"w-4 h-4 text-emerald-600"})]})},L.id))}),s.jsx("div",{className:"space-y-2",children:p.map(L=>s.jsx(O.button,{whileTap:{scale:L.matched?1:.97},onClick:()=>ae(L),disabled:L.matched,className:`w-full min-h-[70px] py-3 px-3 rounded-2xl border transition-all duration-200 text-center shadow-sm ${ee(L,w===L.id)}`,style:{touchAction:"manipulation"},children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[s.jsx("span",{className:`${L.isWord?"text-sm":"text-xs"} font-semibold text-[#2E1065]`,children:L.content}),L.matched&&s.jsx(Mn,{className:"w-4 h-4 text-emerald-600"})]})},L.id))})]})]})})}function zW({words:e,mode:t,onComplete:n,onWrongAnswer:r}){const[i,a]=g.useState([]),[c,d]=g.useState(0),[u,f]=g.useState(null),[p,m]=g.useState(!1),[y,v]=g.useState(0),[w,j]=g.useState(0);g.useEffect(()=>{S()},[e,t]);const S=()=>{const T=e.slice(0,Math.min(10,e.length)).map(I=>{const M=e.filter(oe=>oe.id!==I.id).sort(()=>Math.random()-.5).slice(0,3);let F,U,G;t==="word-to-meaning"?(F=I.word,U=I.meaning,G=M.map(oe=>oe.meaning)):(F=I.meaning,U=I.word,G=M.map(oe=>oe.word));const se=[U,...G].sort(()=>Math.random()-.5),ae=se.indexOf(U);return{id:`q-${I.id}`,prompt:F,wordId:I.id,options:se,correctAnswer:ae}});a(T),d(0),f(null),m(!1),v(0),j(0)},N=_=>{if(p)return;const T=i[c];f(_),m(!0),_===T.correctAnswer?(v(I=>I+1),j(I=>I+1)):r&&r(T.wordId),setTimeout(()=>{c+1>=i.length?n(y+(_===T.correctAnswer?1:0),w+(_===T.correctAnswer?1:0)):(d(I=>I+1),f(null),m(!1))},1500)};if(i.length===0)return s.jsx("div",{className:"h-full flex items-center justify-center bg-gradient-to-br from-purple-50 via-white to-pink-50",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{style:{color:"#8B5CF6"},children:"Loading questions..."})})});const E=i[c],C=(c+1)/i.length*100;return s.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-purple-50 via-white to-pink-50 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-700 rounded-2xl flex items-center justify-center",children:s.jsx(hr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg",style:{fontWeight:700,color:"#491B6D"},children:t==="word-to-meaning"?"  ":"  "}),s.jsx("p",{className:"text-xs",style:{color:"#8B5CF6"},children:" "})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl",style:{fontWeight:800,color:"#491B6D"},children:[c+1,"/",i.length]}),s.jsxs("div",{className:"text-xs",style:{color:"#8B5CF6"},children:[": ",y]})]})]}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx(O.div,{initial:{width:0},animate:{width:`${C}%`},className:"h-full bg-gradient-to-r from-purple-500 to-purple-700",transition:{duration:.3}})})}),s.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 text-center",children:s.jsx("div",{className:"inline-block bg-gradient-to-br from-purple-500 to-purple-700 text-white px-8 py-6 rounded-3xl shadow-2xl border-2 border-white/40",children:s.jsx("h3",{className:"text-xl",style:{fontWeight:800},children:E.prompt})})},c),s.jsx("div",{className:"flex-1 space-y-3",children:E.options.map((_,T)=>{const I=u===T,M=T===E.correctAnswer,F=p;let U="bg-white border-purple-200";return F&&M?U="bg-gradient-to-br from-emerald-400 to-emerald-600 border-emerald-300":F&&I&&!M?U="bg-gradient-to-br from-red-400 to-red-600 border-red-300":I&&(U="bg-purple-100 border-purple-400"),s.jsx(O.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.1},whileTap:{scale:p?1:.95},onClick:()=>!p&&N(T),disabled:p,className:`w-full p-5 rounded-2xl border-2 transition-all duration-200 ${U}`,style:{touchAction:"manipulation"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-sm flex-1 text-left ${F&&(M||I&&!M)?"text-white":"text-[#491B6D]"}`,style:{fontWeight:600},children:_}),F&&M&&s.jsx(Mn,{className:"w-6 h-6 text-white ml-2 flex-shrink-0"}),F&&I&&!M&&s.jsx(yn,{className:"w-6 h-6 text-white ml-2 flex-shrink-0"})]})},T)})}),s.jsx(ut,{children:p&&s.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-4 text-center",children:u===E.correctAnswer?s.jsxs("div",{className:"flex items-center justify-center gap-2 text-emerald-600",children:[s.jsx(ur,{className:"w-5 h-5"}),s.jsx("span",{style:{fontWeight:700},children:"! "})]}):s.jsx("div",{className:"text-red-600",children:s.jsx("span",{style:{fontWeight:700},children:".  !"})})})})]})}function WW({words:e,matchGameType:t,onBack:n,onBackToHome:r,onComplete:i,onWrongAnswer:a,stage:c,journeyName:d,wordCount:u,isStarredVocabulary:f}){const p=t.startsWith("card-match"),m=t==="card-match-word"||t==="quiz-word"?"word-to-meaning":"meaning-to-word",y=f?"#78350F":"#091A7A",v=f?"#D97706":"#7C3AED";return s.jsxs("div",{className:"h-full bg-transparent overflow-y-auto",children:[s.jsx("div",{className:"max-w-4xl mx-auto w-full px-4 py-4 space-y-4",children:s.jsx("div",{className:`rounded-3xl p-4 shadow-card border border-white/40 ${f?"bg-gradient-to-b from-[#FFFBEB]/90 via-[#FEF3C7]/80 to-white/90":"bg-gradient-to-b from-[#E9D5FF]/90 via-[#E0E7FF]/80 to-white/90"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Or,{onClick:n}),s.jsxs("div",{className:"flex-1 text-center space-y-0.5",children:[s.jsx("h1",{className:"text-lg font-bold",style:{color:y},children:d}),s.jsxs("p",{className:"text-xs font-medium",style:{color:v},children:[u," "]})]}),r?s.jsx("button",{onClick:r,className:"w-10 h-10 bg-white/95 backdrop-blur-xl rounded-full flex items-center justify-center shadow-card border border-white/60",children:s.jsx(Hi,{className:"w-5 h-5",style:{color:y}})}):s.jsx("div",{className:"w-10 h-10"})]})})}),s.jsx("div",{className:"max-w-4xl mx-auto w-full px-4 pb-6",children:p?s.jsx($W,{words:e,mode:m,onComplete:i,onWrongAnswer:a}):s.jsx(zW,{words:e,mode:m,onComplete:i,onWrongAnswer:a})})]})}function VW({words:e,onComplete:t,onWrongAnswer:n}){const[r,i]=g.useState(!1),[a,c]=g.useState([]),[d,u]=g.useState(0),[f,p]=g.useState(0),[m,y]=g.useState(0),[v,w]=g.useState(null),[j,S]=g.useState(!1),[N]=g.useState(10),[E,C]=g.useState(10),_=g.useRef();g.useEffect(()=>(r&&d<a.length&&T(),()=>{_.current&&clearInterval(_.current)}),[d,r]);const T=()=>{C(N),_.current&&clearInterval(_.current),_.current=setInterval(()=>{C(oe=>oe<=1?(_.current&&clearInterval(_.current),I(),0):oe-1)},1e3)},I=()=>{const oe=a[d];n&&oe&&n(oe.wordId),setTimeout(()=>{d+1>=a.length?G():(u(ee=>ee+1),w(null),S(!1))},500)},M=()=>{const ee=e.slice(0,Math.min(10,e.length)).map(L=>{const $=e.filter(R=>R.id!==L.id).sort(()=>Math.random()-.5).slice(0,3).map(R=>R.meaning),D=[L.meaning,...$].sort(()=>Math.random()-.5),P=D.indexOf(L.meaning);return{id:`q-${L.id}`,word:L.word,wordId:L.id,options:D,correctAnswer:P}});c(ee)},F=()=>{M(),i(!0),u(0),p(0),y(0),w(null),S(!1)},U=oe=>{if(j)return;const ee=a[d];if(w(oe),S(!0),_.current&&clearInterval(_.current),oe===ee.correctAnswer){const L=Math.floor(E*2);p($=>$+10+L),y($=>$+1)}else n&&n(ee.wordId);setTimeout(()=>{d+1>=a.length?G():(u(L=>L+1),w(null),S(!1))},1200)},G=()=>{_.current&&clearInterval(_.current),setTimeout(()=>{t(f,m)},500)};if(!r)return s.jsx("div",{className:"h-full flex flex-col items-center justify-center bg-gradient-to-br from-orange-50 via-white to-yellow-50 p-6",children:s.jsxs(O.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-orange-500 to-yellow-500 rounded-3xl flex items-center justify-center shadow-2xl",children:s.jsx(Gs,{className:"w-12 h-12 text-white"})}),s.jsx("h1",{className:"text-2xl mb-3",style:{fontWeight:800,color:"#491B6D"},children:" "}),s.jsxs("p",{className:"text-sm mb-8",style:{color:"#8B5CF6"},children:["    !",s.jsx("br",{}),"   !"]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 mb-8 space-y-3 text-left max-w-xs mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(Ko,{className:"w-4 h-4 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:" 10"}),s.jsx("div",{className:"text-xs",style:{color:"#8B5CF6"},children:"   !"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(us,{className:"w-4 h-4 text-yellow-500"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:[" ",Math.min(10,e.length),""]}),s.jsx("div",{className:"text-xs",style:{color:"#8B5CF6"},children:" +10 + "})]})]})]}),s.jsx(O.button,{whileTap:{scale:.95},onClick:F,className:"px-12 py-4 bg-gradient-to-r from-orange-500 to-yellow-500 text-white rounded-2xl shadow-xl",children:s.jsx("span",{style:{fontWeight:700},children:" !"})})]})});const se=a[d];if(!se)return null;const ae=(d+1)/a.length*100;return s.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-orange-50 via-white to-yellow-50 p-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:[" ",d+1,"/",a.length]}),s.jsxs("span",{className:"text-xs",style:{fontWeight:700,color:"#EA580C"},children:[": ",f]})]}),s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx(O.div,{initial:{width:0},animate:{width:`${ae}%`},className:"h-full bg-gradient-to-r from-orange-500 to-yellow-500"})})]}),s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"relative w-20 h-20",children:[s.jsxs("svg",{className:"w-20 h-20 transform -rotate-90",children:[s.jsx("circle",{cx:"40",cy:"40",r:"35",stroke:"#FED7AA",strokeWidth:"6",fill:"none"}),s.jsx(O.circle,{cx:"40",cy:"40",r:"35",stroke:"#EA580C",strokeWidth:"6",fill:"none",strokeDasharray:`${2*Math.PI*35}`,initial:{strokeDashoffset:0},animate:{strokeDashoffset:`${2*Math.PI*35*(1-E/N)}`},transition:{duration:.3}})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("span",{className:"text-xl",style:{fontWeight:800,color:"#EA580C"},children:E})})]})}),s.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 text-center",children:s.jsx("div",{className:"inline-block bg-gradient-to-br from-orange-500 to-yellow-500 text-white px-8 py-4 rounded-3xl shadow-2xl",children:s.jsx("h2",{className:"text-2xl",style:{fontWeight:800},children:se.word})})},d),s.jsx("div",{className:"flex-1 space-y-3",children:se.options.map((oe,ee)=>{const L=v===ee,$=ee===se.correctAnswer,D=j;let P="bg-white border-orange-200";return D&&$?P="bg-gradient-to-br from-emerald-400 to-emerald-600 border-emerald-300":D&&L&&!$?P="bg-gradient-to-br from-red-400 to-red-600 border-red-300":L&&(P="bg-orange-100 border-orange-400"),s.jsx(O.button,{whileTap:{scale:j?1:.95},onClick:()=>!j&&U(ee),disabled:j,className:`w-full p-4 rounded-2xl border-2 transition-all duration-200 ${P}`,style:{touchAction:"manipulation"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-sm flex-1 text-left ${D&&($||L&&!$)?"text-white":"text-[#491B6D]"}`,style:{fontWeight:600},children:oe}),D&&$&&s.jsx(Mn,{className:"w-5 h-5 text-white ml-2 flex-shrink-0"}),D&&L&&!$&&s.jsx(yn,{className:"w-5 h-5 text-white ml-2 flex-shrink-0"})]})},ee)})})]})}function UW({words:e,onComplete:t,onWrongAnswer:n}){const[r,i]=g.useState(!1),[a,c]=g.useState([]),[d,u]=g.useState(null),[f,p]=g.useState(3),[m,y]=g.useState(0),[v,w]=g.useState(60),[j,S]=g.useState(0),N=g.useRef(),E=g.useRef();g.useEffect(()=>(r&&(_(),C()),()=>{N.current&&cancelAnimationFrame(N.current),E.current&&clearInterval(E.current)}),[r]),g.useEffect(()=>{(f===0||v===0)&&M()},[f,v]);const C=()=>{E.current=setInterval(()=>{w(U=>U<=1?(E.current&&clearInterval(E.current),0):U-1)},1e3)},_=()=>{T();const U=()=>{u(G=>{if(!G)return G;const se=G.yPosition+G.speed;return se>100?(p(ae=>ae-1),n&&n(G.wordId),setTimeout(()=>T(),500),null):{...G,yPosition:se}}),N.current=requestAnimationFrame(U)};N.current=requestAnimationFrame(U)},T=()=>{if(e.length===0)return;const U=e[Math.floor(Math.random()*e.length)],G=e.filter(ee=>ee.id!==U.id).sort(()=>Math.random()-.5).slice(0,3).map(ee=>ee.meaning),se=[U.meaning,...G].sort(()=>Math.random()-.5),ae=se.indexOf(U.meaning),oe={id:`word-${Date.now()}`,word:U.word,wordId:U.id,options:se,correctAnswer:ae,yPosition:0,speed:.3+m*.02};u(oe)},I=U=>{d&&(U===d.correctAnswer?(y(G=>G+10),S(G=>G+1),u(null),setTimeout(()=>T(),300)):(p(G=>G-1),n&&n(d.wordId),u(null),setTimeout(()=>T(),500)))},M=()=>{N.current&&cancelAnimationFrame(N.current),E.current&&clearInterval(E.current),setTimeout(()=>{t(m,j)},1e3)},F=()=>{i(!0),p(3),y(0),S(0),w(60)};return r?s.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-indigo-50 via-white to-purple-50 relative overflow-hidden",children:[s.jsx("div",{className:"p-4 bg-white/80 backdrop-blur-lg shadow-lg z-20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:[...Array(3)].map((U,G)=>s.jsx(_m,{className:`w-6 h-6 ${G<f?"fill-red-500 text-red-500":"fill-gray-200 text-gray-200"}`},G))}),s.jsxs("div",{className:"flex items-center gap-2 bg-blue-100 px-3 py-1 rounded-full",children:[s.jsx(Jw,{className:"w-4 h-4 text-blue-600"}),s.jsxs("span",{className:"text-sm",style:{fontWeight:700,color:"#1E40AF"},children:[v,"s"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-purple-100 px-4 py-1 rounded-full",children:[s.jsx(us,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-sm",style:{fontWeight:700,color:"#6B21A8"},children:m})]})]})}),s.jsx("div",{className:"flex-1 relative",children:s.jsx(ut,{children:d&&s.jsx(O.div,{initial:{y:-100},style:{top:`${d.yPosition}%`},className:"absolute left-1/2 -translate-x-1/2 z-10",children:s.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-700 text-white px-6 py-3 rounded-2xl shadow-2xl border-2 border-white/40",children:s.jsx("div",{className:"text-xl text-center",style:{fontWeight:800},children:d.word})})},d.id)})}),d&&s.jsx("div",{className:"p-4 space-y-3 bg-white/90 backdrop-blur-lg z-20",children:d.options.map((U,G)=>s.jsx(O.button,{whileTap:{scale:.95},onClick:()=>I(G),className:"w-full p-4 bg-white border-2 border-purple-200 rounded-2xl text-left shadow-lg",style:{touchAction:"manipulation"},children:s.jsx("span",{className:"text-sm",style:{fontWeight:600,color:"#491B6D"},children:U})},G))})]}):s.jsx("div",{className:"h-full flex flex-col items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6",children:s.jsxs(O.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-3xl flex items-center justify-center shadow-2xl",children:s.jsx(Gs,{className:"w-12 h-12 text-white"})}),s.jsx("h1",{className:"text-2xl mb-3",style:{fontWeight:800,color:"#491B6D"},children:"  "}),s.jsxs("p",{className:"text-sm mb-8",style:{color:"#8B5CF6"},children:["   !",s.jsx("br",{}),"60    !"]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 mb-8 space-y-3 text-left max-w-xs mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(_m,{className:"w-4 h-4 text-red-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:": 3"}),s.jsx("div",{className:"text-xs",style:{color:"#8B5CF6"},children:"  -1"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Jw,{className:"w-4 h-4 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:": 60"}),s.jsx("div",{className:"text-xs",style:{color:"#8B5CF6"},children:"   !"})]})]})]}),s.jsx(O.button,{whileTap:{scale:.95},onClick:F,className:"px-12 py-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-2xl shadow-xl",children:s.jsx("span",{style:{fontWeight:700},children:" !"})})]})})}function HW({words:e,gameType:t,onBack:n,onComplete:r,onWrongAnswer:i}){return s.jsxs("div",{className:"h-full bg-gradient-to-br from-indigo-50 via-white to-purple-50 relative",children:[s.jsx("div",{className:"absolute top-6 left-6 z-30",children:s.jsx(Or,{onClick:n})}),s.jsx("div",{className:"h-full pt-20",children:t==="fall"?s.jsx(UW,{words:e,onComplete:r,onWrongAnswer:i}):s.jsx(VW,{words:e,onComplete:r,onWrongAnswer:i})})]})}function qW({stage:e,currentStageId:t,currentQuestionIndex:n,totalQuestions:r,question:i,selectedAnswers:a,showFeedback:c,lastAnswerCorrect:d,isMultiSelect:u,isSentenceQuestion:f,sentenceTranslationVisible:p,showConfetti:m,ConfettiComponent:y,onBack:v,onBackToHome:w,onAnswerSelect:j,onToggleSentenceTranslation:S,onSubmitAnswer:N,journeyName:E,wordCount:C,isStarredVocabulary:_}){const T=_?"#78350F":"#091A7A",I=_?"#D97706":"#7C3AED";return s.jsxs("div",{className:"h-full bg-transparent overflow-y-auto",children:[m&&s.jsx(y,{}),s.jsxs("div",{className:"max-w-md mx-auto w-full px-4 py-4 space-y-4",children:[s.jsx("div",{className:`rounded-3xl p-4 shadow-card border border-white/40 ${_?"bg-gradient-to-b from-[#FFFBEB]/90 via-[#FEF3C7]/80 to-white/90":"bg-gradient-to-b from-[#E9D5FF]/90 via-[#E0E7FF]/80 to-white/90"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Or,{onClick:v}),s.jsxs("div",{className:"flex-1 text-center space-y-0.5",children:[s.jsx("h1",{className:"text-lg font-bold",style:{color:T},children:E}),s.jsxs("p",{className:"text-xs font-medium",style:{color:I},children:[C," "]})]}),w?s.jsx(O.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:w,className:"w-10 h-10 bg-white/95 backdrop-blur-xl rounded-full flex items-center justify-center shadow-card border border-white/60",children:s.jsx(Hi,{className:"w-5 h-5",style:{color:T}})}):s.jsx("div",{className:"w-10 h-10"})]})}),s.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-5 shadow-card border border-white/60",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#091A7A] to-[#4F8EFF] rounded-2xl flex items-center justify-center shadow-md",children:s.jsx("div",{className:"w-6 h-6 text-white flex items-center justify-center",children:e?.icon})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-[#091A7A]",children:e?.title}),s.jsxs("p",{className:"text-xs text-[#4F8EFF] mt-0.5",children:["Stage ",t,"  Question ",n+1," / ",r]})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"w-full h-2.5 bg-gray-100 rounded-full overflow-hidden",children:s.jsx(O.div,{initial:{width:0},animate:{width:`${(n+1)/r*100}%`},className:"h-full bg-gradient-to-r from-[#091A7A] to-[#4F8EFF] rounded-full",transition:{duration:.6,ease:"easeOut"}})})})]}),s.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-5 shadow-card border border-white/60",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-xs font-semibold text-[#7C3AED] text-center",children:["Question ",n+1]}),s.jsx("h2",{className:"text-base font-semibold text-[#091A7A] text-center leading-relaxed",children:i.question}),f&&i.sentenceData&&s.jsxs("div",{className:"space-y-2 text-center",children:[s.jsx("p",{className:"text-sm font-semibold text-[#1E1B4B] leading-relaxed",children:p&&i.sentenceData.translation?i.sentenceData.translation:i.sentenceData.english}),i.sentenceData.translation&&s.jsx("button",{onClick:S,className:"mx-auto px-3 py-1.5 rounded-full bg-[#F4F4FF] text-[#5B21B6] text-xs font-semibold shadow-inner",children:p?" ":" "})]})]})},n),s.jsx("div",{className:u?"grid grid-cols-2 gap-3":"space-y-3",children:i.options.map((M,F)=>{const U=a.includes(F),G=i.correctAnswers?.includes(F)||typeof i.correctAnswer=="number"&&i.correctAnswer===F;let se="bg-white/95 border-white/60",ae="text-[#091A7A]",oe="bg-gray-100 text-gray-500";return c?G?(se="bg-emerald-50/95 border-emerald-200/60",ae="text-emerald-700",oe="bg-emerald-100 text-emerald-600"):U&&(se="bg-red-50/90 border-red-200/60",ae="text-red-700",oe="bg-red-100 text-red-600"):U&&(se="bg-[#091A7A]/10 border-[#091A7A]/20",ae="text-[#091A7A]",oe="bg-[#091A7A] text-white"),s.jsx(O.button,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{delay:.3+F*.05},whileHover:{scale:c?1:1.01},whileTap:{scale:c?1:.98},onClick:()=>j(F),disabled:c,className:`w-full p-3 rounded-2xl backdrop-blur-xl border transition-all duration-300 text-left shadow-sm ${se}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-2xl flex items-center justify-center font-semibold text-sm ${oe}`,children:String.fromCharCode(65+F)}),s.jsx("span",{className:`font-medium flex-1 text-sm ${ae}`,children:M}),c&&G&&s.jsx(Mn,{className:"w-4 h-4 text-emerald-600"})]})},F)})}),s.jsx(ut,{children:c&&s.jsx(O.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{delay:.2},className:`p-5 rounded-2xl backdrop-blur-xl border shadow-card ${d?"bg-emerald-50/95 border-emerald-200/60":"bg-red-50/95 border-red-200/60"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center ${d?"bg-emerald-100":"bg-red-100"}`,children:d?s.jsx(Mn,{className:"w-4 h-4 text-emerald-600"}):s.jsx(pR,{className:"w-4 h-4 text-red-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`font-semibold text-sm mb-1 ${d?"text-emerald-700":"text-red-700"}`,children:d?"!":"  "}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:i.explanation})]})]})})}),!c&&u&&s.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},className:"pt-1",children:s.jsx("button",{onClick:()=>N(),disabled:!a.length,className:`w-full py-3 rounded-2xl font-semibold shadow-card border transition-all duration-300 ${a.length?"bg-gradient-to-r from-[#7C3AED] to-[#A78BFA] text-white border-transparent":"bg-white/70 text-gray-400 border-gray-200 cursor-not-allowed"}`,children:a.length?" ":" "})})]})]})}const U1=e=>e?Array.isArray(e)?e.map(t=>typeof t=="string"?t:t?.word||"").map(t=>t.trim()).filter(Boolean):typeof e=="string"?e.split(/[,;/]/).map(t=>t.trim()).filter(Boolean):[]:[],GW=e=>e?Array.isArray(e)?e.map(t=>{if(typeof t=="string"){const[n,r]=t.split(":").map(i=>i.trim());return{word:n,meaning:r||""}}return{word:t?.word?.trim()||"",meaning:t?.meaning?.trim()||""}}).filter(t=>t.word):typeof e=="string"?e.split(/[,;]/).map(t=>{const[n,r]=t.split(":").map(i=>i.trim());return{word:n,meaning:r||""}}).filter(t=>t.word):[]:[],KW=e=>{const t=e?.word||e?.term;if(!t)return null;const n=e?.id||t;return n?{id:String(n),word:t,meaning:e?.meaning||e?.translation||"",translation:e?.translation||"",example:e?.example||e?.example_sentence||"",derivatives:GW(e?.derivatives),synonyms:U1(e?.synonyms),antonyms:U1(e?.antonyms)}:null},em=e=>e&&e.replace(/\([^)]*\)/g,"_____"),H1={math:{1:[{id:1,question:"What is 15 + 27?",options:["32","42","52","62"],correctAnswer:1,explanation:"15 + 27 = 42. When adding, line up the digits and add column by column."},{id:2,question:"What is 8  7?",options:["54","56","58","64"],correctAnswer:1,explanation:"8  7 = 56. This is a basic multiplication fact to memorize."},{id:3,question:"What is 144  12?",options:["10","11","12","13"],correctAnswer:2,explanation:"144  12 = 12. You can think of this as 'how many 12s make 144?'"},{id:4,question:"What is 25% of 80?",options:["15","20","25","30"],correctAnswer:1,explanation:"25% of 80 = 0.25  80 = 20. 25% is the same as 1/4."},{id:5,question:"What is the area of a rectangle with length 6 and width 4?",options:["20","22","24","26"],correctAnswer:2,explanation:"Area = length  width = 6  4 = 24 square units."}],2:[{id:1,question:"What is the square root of 64?",options:["6","7","8","9"],correctAnswer:2,explanation:"64 = 8, because 8  8 = 64."},{id:2,question:"What is 2?",options:["6","8","9","12"],correctAnswer:1,explanation:"2 = 2  2  2 = 8."},{id:3,question:"What is the value of x in: 3x + 5 = 14?",options:["2","3","4","5"],correctAnswer:1,explanation:"3x + 5 = 14, so 3x = 9, therefore x = 3."},{id:4,question:"What is 45% of 200?",options:["80","85","90","95"],correctAnswer:2,explanation:"45% of 200 = 0.45  200 = 90."},{id:5,question:"What is the circumference of a circle with radius 5? (Use   3.14)",options:["31.4","31.8","32.2","32.6"],correctAnswer:0,explanation:"Circumference = 2r = 2  3.14  5 = 31.4."}],3:[{id:1,question:"What is the derivative of x?",options:["x","2x","x","2x"],correctAnswer:1,explanation:"The derivative of x is 2x using the power rule."},{id:2,question:"What is sin(30)?",options:["0.5","0.707","0.866","1"],correctAnswer:0,explanation:"sin(30) = 1/2 = 0.5."},{id:3,question:"What is log(100)?",options:["1","2","10","100"],correctAnswer:1,explanation:"log(100) = 2, because 10 = 100."},{id:4,question:"What is the slope of the line y = 3x + 2?",options:["2","3","5","6"],correctAnswer:1,explanation:"In the form y = mx + b, the slope is m = 3."},{id:5,question:"What is 2x dx?",options:["x","x + C","2x","2x + C"],correctAnswer:1,explanation:"2x dx = x + C, where C is the constant of integration."}],4:[{id:1,question:"What is the limit of (x - 1)/(x - 1) as x approaches 1?",options:["0","1","2","undefined"],correctAnswer:2,explanation:"Factor: (x-1)(x+1)/(x-1) = x+1. As x1, limit = 2."},{id:2,question:"What is the second derivative of x?",options:["3x","6x","6","3x"],correctAnswer:1,explanation:"First derivative: 3x, second derivative: 6x."},{id:3,question:"What is cos(/2)?",options:["0","1","-1","0.5"],correctAnswer:0,explanation:"cos(/2) = cos(90) = 0."},{id:4,question:"What is the area under y = x from 0 to 2?",options:["1","2","3","4"],correctAnswer:1,explanation:" x dx = [x/2] = 4/2 - 0 = 2."},{id:5,question:"What is e^(ln(5))?",options:["1","e","5","ln(5)"],correctAnswer:2,explanation:"e^(ln(x)) = x, so e^(ln(5)) = 5."}],5:[{id:1,question:"What is the divergence of vector field F = (x, y, z)?",options:["1","2","3","0"],correctAnswer:2,explanation:"F = x/x + y/y + z/z = 1 + 1 + 1 = 3."},{id:2,question:"What is the eigenvalue of matrix [[2,0],[0,3]] for eigenvector [1,0]?",options:["0","1","2","3"],correctAnswer:2,explanation:"For eigenvector [1,0], A[1,0] = [2,0] = 2[1,0], so  = 2."},{id:3,question:"What is  xy dA over region R: 0x1, 0y1?",options:["1/2","1/3","1/4","1"],correctAnswer:2,explanation:" xy dy dx =  x[y/2] dx =  x/2 dx = 1/4."},{id:4,question:"What is the Fourier series coefficient a for f(x) = 1 on [-,]?",options:["0","1","2",""],correctAnswer:1,explanation:"a = (1/)^ 1 dx = (1/)[x]^ = 2/ = 2, but a/2 = 1."},{id:5,question:"What is the solution to the differential equation dy/dx = y?",options:["y = x","y = x","y = e","y = Ce^x"],correctAnswer:3,explanation:"The general solution to dy/dx = y is y = Ce^x."}]},english:{1:[{id:1,question:"Which sentence is grammatically correct?",options:["Me and John went to the store","John and I went to the store","John and me went to the store","I and John went to the store"],correctAnswer:1,explanation:"'John and I' is correct because 'I' is the subject pronoun used when you and another person are doing something."},{id:2,question:"What is the past tense of 'run'?",options:["runned","ran","running","runs"],correctAnswer:1,explanation:"The past tense of 'run' is 'ran'. 'Run' is an irregular verb."},{id:3,question:"Which word is a synonym for 'happy'?",options:["sad","joyful","angry","tired"],correctAnswer:1,explanation:"'Joyful' means the same as happy - both express a feeling of joy or contentment."},{id:4,question:"What type of word is 'quickly' in the sentence 'She ran quickly'?",options:["noun","verb","adjective","adverb"],correctAnswer:3,explanation:"'Quickly' is an adverb because it describes how the action (ran) was performed."},{id:5,question:"Which sentence uses correct capitalization?",options:["i love reading Books","I love reading books","I Love Reading Books","i Love reading books"],correctAnswer:1,explanation:"The pronoun 'I' should always be capitalized, but common nouns like 'books' should not be capitalized unless they start a sentence."}],2:[{id:1,question:"What is the main idea of a paragraph?",options:["The first sentence","The most important point","The longest sentence","The last sentence"],correctAnswer:1,explanation:"The main idea is the most important point or central message that the paragraph is trying to convey."},{id:2,question:"Which punctuation mark is used to show possession?",options:["comma","period","apostrophe","semicolon"],correctAnswer:2,explanation:"An apostrophe (') is used to show possession, like in 'Sarah's book' or 'the dog's tail'."},{id:3,question:"What is a metaphor?",options:["A comparison using 'like' or 'as'","A direct comparison without 'like' or 'as'","A question that doesn't need an answer","A repeated sound"],correctAnswer:1,explanation:"A metaphor is a direct comparison between two things without using 'like' or 'as', such as 'Life is a journey'."},{id:4,question:"Which is an example of alliteration?",options:["The cat sat on the mat","Peter Piper picked peppers","She is as brave as a lion","What time is it?"],correctAnswer:1,explanation:"Alliteration is the repetition of the same sound at the beginning of words, like 'Peter Piper picked peppers'."},{id:5,question:"What is the subject in the sentence 'The red car drove quickly'?",options:["red","car","drove","quickly"],correctAnswer:1,explanation:"The subject is 'car' - it's what the sentence is about. 'The red car' is the complete subject, but 'car' is the simple subject."}],3:[{id:1,question:"What is the difference between 'there', 'their', and 'they're'?",options:["They all mean the same thing","'There' is a place, 'their' shows ownership, 'they're' means 'they are'","Only 'there' is correct","'Their' is always wrong"],correctAnswer:1,explanation:"'There' refers to a place, 'their' shows possession (belonging to them), and 'they're' is a contraction of 'they are'."},{id:2,question:"What is a thesis statement?",options:["The first sentence of an essay","The main argument or point of an essay","The conclusion","A question"],correctAnswer:1,explanation:"A thesis statement is the main argument or central point that an essay will prove or discuss."},{id:3,question:"Which sentence uses parallel structure?",options:["I like reading, writing, and to swim","I like reading, writing, and swimming","I like to read, writing, and swim","I like read, write, and swimming"],correctAnswer:1,explanation:"Parallel structure uses the same grammatical form for items in a series. 'Reading, writing, and swimming' are all gerunds (-ing forms)."},{id:4,question:"What is the purpose of a topic sentence?",options:["To end a paragraph","To introduce the main idea of a paragraph","To provide evidence","To ask a question"],correctAnswer:1,explanation:"A topic sentence introduces the main idea of a paragraph and usually appears at the beginning."},{id:5,question:"Which is an example of personification?",options:["The wind whispered through the trees","He is as tall as a tree","The tree is green","Trees grow in forests"],correctAnswer:0,explanation:"Personification gives human qualities to non-human things. 'The wind whispered' gives the wind the human ability to whisper."}],4:[{id:1,question:"What is the difference between active and passive voice?",options:["There is no difference","Active voice emphasizes the doer, passive voice emphasizes the action","Passive voice is always wrong","Active voice uses more words"],correctAnswer:1,explanation:"Active voice emphasizes who does the action ('John wrote the letter'), while passive voice emphasizes what was done ('The letter was written by John')."},{id:2,question:"What is a complex sentence?",options:["A long sentence","A sentence with one independent clause and at least one dependent clause","A sentence with two independent clauses","A confusing sentence"],correctAnswer:1,explanation:"A complex sentence contains one independent clause (complete thought) and at least one dependent clause (incomplete thought that depends on the main clause)."},{id:3,question:"Which transition word shows contrast?",options:["furthermore","however","therefore","similarly"],correctAnswer:1,explanation:"'However' is a transition word that shows contrast or opposition between ideas."},{id:4,question:"What is the mood of a text?",options:["The author's attitude","The emotional atmosphere","The main character's feelings","The time of day"],correctAnswer:1,explanation:"Mood is the emotional atmosphere or feeling that the reader gets from a text."},{id:5,question:"Which is an example of dramatic irony?",options:["A character says the opposite of what they mean","The audience knows something a character doesn't","A coincidence happens","The ending is surprising"],correctAnswer:1,explanation:"Dramatic irony occurs when the audience knows something that a character in the story does not know."}],5:[{id:1,question:"What is the difference between denotation and connotation?",options:["They are the same","Denotation is literal meaning, connotation is implied meaning","Connotation is always negative","Denotation is outdated"],correctAnswer:1,explanation:"Denotation is the literal, dictionary definition of a word, while connotation is the emotional or cultural associations we have with that word."},{id:2,question:"What is stream of consciousness in literature?",options:["A type of poem","A narrative technique showing continuous thoughts","A writing error","A type of essay"],correctAnswer:1,explanation:"Stream of consciousness is a narrative technique that presents the continuous flow of a character's thoughts and feelings."},{id:3,question:"What is the function of a semicolon?",options:["To end a sentence","To join two related independent clauses","To show possession","To indicate a pause"],correctAnswer:1,explanation:"A semicolon joins two closely related independent clauses that could stand alone as separate sentences."},{id:4,question:"What is epistolary writing?",options:["Religious writing","Writing in the form of letters or documents","Poetry writing","Scientific writing"],correctAnswer:1,explanation:"Epistolary writing is composed of documents such as letters, diary entries, or other forms of correspondence."},{id:5,question:"What is zeugma in rhetoric?",options:["A type of rhyme","Using one word to modify two others in different senses","A writing mistake","A type of metaphor"],correctAnswer:1,explanation:"Zeugma is a rhetorical device where one word is used to modify two others in different senses, like 'He broke his vow and his mother's heart'."}]},science:{1:[{id:1,question:"What is the basic unit of life?",options:["Atom","Molecule","Cell","Organ"],correctAnswer:2,explanation:"The cell is the basic unit of life. All living things are made up of one or more cells."},{id:2,question:"What gas do plants absorb from the atmosphere during photosynthesis?",options:["Oxygen","Carbon dioxide","Nitrogen","Hydrogen"],correctAnswer:1,explanation:"Plants absorb carbon dioxide from the atmosphere and use it along with water and sunlight to produce glucose and oxygen."},{id:3,question:"How many bones are in an adult human body?",options:["206","186","226","196"],correctAnswer:0,explanation:"An adult human body has 206 bones. Babies are born with about 270 bones, but many fuse together as they grow."},{id:4,question:"What is the chemical symbol for water?",options:["H2O","CO2","O2","NaCl"],correctAnswer:0,explanation:"H2O is the chemical symbol for water, indicating it contains 2 hydrogen atoms and 1 oxygen atom."},{id:5,question:"Which planet is closest to the Sun?",options:["Venus","Earth","Mercury","Mars"],correctAnswer:2,explanation:"Mercury is the closest planet to the Sun in our solar system."}],2:[{id:1,question:"What is the process by which water changes from liquid to gas?",options:["Condensation","Evaporation","Precipitation","Freezing"],correctAnswer:1,explanation:"Evaporation is the process where water changes from liquid to gas when heated."},{id:2,question:"What type of energy is stored in food?",options:["Kinetic energy","Potential energy","Chemical energy","Thermal energy"],correctAnswer:2,explanation:"Chemical energy is stored in the bonds of molecules in food and is released during digestion."},{id:3,question:"What is the hardest natural substance on Earth?",options:["Gold","Iron","Diamond","Quartz"],correctAnswer:2,explanation:"Diamond is the hardest natural substance on Earth, scoring 10 on the Mohs hardness scale."},{id:4,question:"What organ in the human body produces insulin?",options:["Liver","Pancreas","Kidney","Heart"],correctAnswer:1,explanation:"The pancreas produces insulin, which helps regulate blood sugar levels."},{id:5,question:"What is the speed of light in a vacuum?",options:["300,000 km/s","150,000 km/s","450,000 km/s","600,000 km/s"],correctAnswer:0,explanation:"The speed of light in a vacuum is approximately 300,000 kilometers per second (299,792,458 m/s to be exact)."}],3:[{id:1,question:"What is the powerhouse of the cell?",options:["Nucleus","Ribosome","Mitochondria","Chloroplast"],correctAnswer:2,explanation:"Mitochondria are called the powerhouse of the cell because they produce ATP, the cell's main energy currency."},{id:2,question:"What is the pH of pure water?",options:["6","7","8","9"],correctAnswer:1,explanation:"Pure water has a pH of 7, which is neutral (neither acidic nor basic)."},{id:3,question:"What law states that energy cannot be created or destroyed?",options:["Newton's First Law","Law of Conservation of Energy","Einstein's Theory","Boyle's Law"],correctAnswer:1,explanation:"The Law of Conservation of Energy states that energy cannot be created or destroyed, only transformed from one form to another."},{id:4,question:"What is the most abundant gas in Earth's atmosphere?",options:["Oxygen","Carbon dioxide","Nitrogen","Argon"],correctAnswer:2,explanation:"Nitrogen makes up about 78% of Earth's atmosphere, making it the most abundant gas."},{id:5,question:"What is the process of cell division that produces gametes?",options:["Mitosis","Meiosis","Binary fission","Budding"],correctAnswer:1,explanation:"Meiosis is the process of cell division that produces gametes (sex cells) with half the number of chromosomes."}],4:[{id:1,question:"What is the name of the theory that explains the origin of the universe?",options:["Big Bang Theory","Evolution Theory","Relativity Theory","Quantum Theory"],correctAnswer:0,explanation:"The Big Bang Theory explains that the universe began from a very hot, dense point and has been expanding ever since."},{id:2,question:"What is the study of heredity called?",options:["Ecology","Genetics","Anatomy","Physiology"],correctAnswer:1,explanation:"Genetics is the branch of biology that studies heredity and the variation of inherited characteristics."},{id:3,question:"What is the smallest particle of an element that retains its properties?",options:["Molecule","Atom","Proton","Electron"],correctAnswer:1,explanation:"An atom is the smallest particle of an element that still retains the chemical properties of that element."},{id:4,question:"What is the force that keeps planets in orbit around the Sun?",options:["Magnetic force","Electric force","Gravitational force","Nuclear force"],correctAnswer:2,explanation:"Gravitational force is the attractive force between masses that keeps planets in orbit around the Sun."},{id:5,question:"What is the process by which rocks are broken down into smaller pieces?",options:["Erosion","Weathering","Deposition","Sedimentation"],correctAnswer:1,explanation:"Weathering is the process that breaks down rocks into smaller pieces through physical, chemical, or biological means."}],5:[{id:1,question:"What is the principle behind MRI imaging?",options:["X-ray radiation","Nuclear magnetic resonance","Ultrasound waves","Gamma radiation"],correctAnswer:1,explanation:"MRI (Magnetic Resonance Imaging) uses nuclear magnetic resonance to create detailed images of the body's internal structures."},{id:2,question:"What is the half-life of Carbon-14?",options:["5,730 years","1,000 years","10,000 years","100,000 years"],correctAnswer:0,explanation:"Carbon-14 has a half-life of approximately 5,730 years, making it useful for dating organic materials."},{id:3,question:"What is the term for the point where an enzyme binds to its substrate?",options:["Allosteric site","Active site","Binding site","Catalytic center"],correctAnswer:1,explanation:"The active site is the specific region of an enzyme where the substrate binds and the catalytic reaction occurs."},{id:4,question:"What is the uncertainty principle in quantum mechanics?",options:["Energy is quantized","You cannot know both position and momentum precisely","Light behaves as both wave and particle","Time is relative"],correctAnswer:1,explanation:"Heisenberg's uncertainty principle states that you cannot simultaneously know both the exact position and momentum of a particle."},{id:5,question:"What is the process called when a star collapses and becomes incredibly dense?",options:["Supernova","Black hole formation","Neutron star formation","All of the above"],correctAnswer:3,explanation:"When a massive star collapses, it can become a supernova, and depending on its mass, form either a neutron star or a black hole."}]},social:{1:[{id:1,question:"What are the three branches of the U.S. government?",options:["Federal, State, Local","Executive, Legislative, Judicial","President, Congress, Courts","House, Senate, Cabinet"],correctAnswer:1,explanation:"The three branches are Executive (President), Legislative (Congress), and Judicial (Courts), designed to provide checks and balances."},{id:2,question:"Which continent is the largest by land area?",options:["Africa","North America","Asia","Europe"],correctAnswer:2,explanation:"Asia is the largest continent by both land area and population."},{id:3,question:"In what year did World War II end?",options:["1944","1945","1946","1947"],correctAnswer:1,explanation:"World War II ended in 1945, with Germany surrendering in May and Japan surrendering in September."},{id:4,question:"What is the capital of Canada?",options:["Toronto","Vancouver","Ottawa","Montreal"],correctAnswer:2,explanation:"Ottawa is the capital city of Canada, located in the province of Ontario."},{id:5,question:"Which ancient civilization built the pyramids at Giza?",options:["Romans","Greeks","Egyptians","Mesopotamians"],correctAnswer:2,explanation:"The ancient Egyptians built the pyramids at Giza around 4,500 years ago as tombs for their pharaohs."}],2:[{id:1,question:"What document begins with 'We the People'?",options:["Declaration of Independence","Bill of Rights","U.S. Constitution","Articles of Confederation"],correctAnswer:2,explanation:"The U.S. Constitution begins with 'We the People of the United States' in its preamble."},{id:2,question:"Which river is the longest in the world?",options:["Amazon","Nile","Mississippi","Yangtze"],correctAnswer:1,explanation:"The Nile River in Africa is generally considered the longest river in the world at about 4,135 miles."},{id:3,question:"What was the main cause of the American Civil War?",options:["Taxation","Slavery","Trade disputes","Territory expansion"],correctAnswer:1,explanation:"The primary cause of the American Civil War was disagreement over slavery and states' rights related to slavery."},{id:4,question:"Which mountain range runs along the western coast of South America?",options:["Rockies","Himalayas","Andes","Alps"],correctAnswer:2,explanation:"The Andes Mountains run along the western coast of South America and are the world's longest mountain range."},{id:5,question:"Who was the first President of the United States?",options:["Thomas Jefferson","John Adams","George Washington","Benjamin Franklin"],correctAnswer:2,explanation:"George Washington was the first President of the United States, serving from 1789 to 1797."}],3:[{id:1,question:"What is the Bill of Rights?",options:["The first 10 amendments to the Constitution","A list of presidential powers","The Declaration of Independence","A civil rights law"],correctAnswer:0,explanation:"The Bill of Rights consists of the first 10 amendments to the U.S. Constitution, protecting individual freedoms."},{id:2,question:"Which event sparked World War I?",options:["Sinking of Lusitania","Assassination of Archduke Franz Ferdinand","German invasion of Belgium","Russian Revolution"],correctAnswer:1,explanation:"The assassination of Archduke Franz Ferdinand of Austria-Hungary in 1914 was the immediate trigger for World War I."},{id:3,question:"What is latitude?",options:["Distance east or west","Distance north or south","Height above sea level","Time zone measurement"],correctAnswer:1,explanation:"Latitude measures distance north or south of the equator, while longitude measures distance east or west."},{id:4,question:"Which empire was ruled by Julius Caesar?",options:["Greek Empire","Roman Empire","Byzantine Empire","Persian Empire"],correctAnswer:1,explanation:"Julius Caesar was a leader of the Roman Empire, though he lived during the late Roman Republic period."},{id:5,question:"What is democracy?",options:["Rule by the wealthy","Rule by the people","Rule by the military","Rule by religious leaders"],correctAnswer:1,explanation:"Democracy is a form of government where power is held by the people, either directly or through elected representatives."}],4:[{id:1,question:"What was the Industrial Revolution?",options:["A political movement","A period of rapid technological and economic change","A war between countries","A religious reformation"],correctAnswer:1,explanation:"The Industrial Revolution was a period of rapid technological and economic change that began in the late 18th century."},{id:2,question:"What is the difference between weather and climate?",options:["There is no difference","Weather is short-term, climate is long-term patterns","Climate is short-term, weather is long-term","Weather is only about rain"],correctAnswer:1,explanation:"Weather refers to short-term atmospheric conditions, while climate refers to long-term weather patterns in a region."},{id:3,question:"What was the Cold War?",options:["A war fought in winter","A period of tension between US and USSR","A civil war","A trade dispute"],correctAnswer:1,explanation:"The Cold War was a period of political tension and rivalry between the United States and Soviet Union from 1945-1991."},{id:4,question:"What is cultural diffusion?",options:["The spread of cultural traits from one society to another","The loss of culture","The creation of new cultures","The study of ancient cultures"],correctAnswer:0,explanation:"Cultural diffusion is the process by which cultural traits, ideas, and practices spread from one society to another."},{id:5,question:"What is gross domestic product (GDP)?",options:["A country's population","The total value of goods and services produced in a country","A country's debt","The number of exports"],correctAnswer:1,explanation:"GDP measures the total monetary value of all goods and services produced within a country during a specific period."}],5:[{id:1,question:"What is the difference between capitalism and socialism?",options:["No difference","Capitalism emphasizes private ownership, socialism emphasizes public ownership","They are both the same economic system","Capitalism is only about money"],correctAnswer:1,explanation:"Capitalism emphasizes private ownership and free markets, while socialism emphasizes public or collective ownership of resources."},{id:2,question:"What is gerrymandering?",options:["A type of election","Manipulating electoral district boundaries for political advantage","A voting method","A campaign strategy"],correctAnswer:1,explanation:"Gerrymandering is the practice of manipulating electoral district boundaries to give one political party an advantage."},{id:3,question:"What is the significance of the Magna Carta?",options:["It ended slavery","It limited the power of the king","It started democracy","It created Parliament"],correctAnswer:1,explanation:"The Magna Carta (1215) was significant because it limited the power of the English king and established that everyone, including rulers, is subject to the law."},{id:4,question:"What is sustainable development?",options:["Building more factories","Development that meets present needs without compromising future generations","Economic growth only","Population control"],correctAnswer:1,explanation:"Sustainable development meets the needs of the present without compromising the ability of future generations to meet their own needs."},{id:5,question:"What is the European Union?",options:["A military alliance","A political and economic union of European countries","A trade agreement","A currency system"],correctAnswer:1,explanation:"The European Union is a political and economic union of European countries that promotes cooperation and integration among member states."}]}},q1={math:[{id:1,title:"Meaning Quiz",icon:s.jsx(hr,{className:"w-6 h-6"}),status:"current",xpReward:50},{id:2,title:"Derivatives",icon:s.jsx(ds,{className:"w-6 h-6"}),status:"locked",xpReward:75},{id:3,title:"Synonyms & Antonyms",icon:s.jsx(rl,{className:"w-6 h-6"}),status:"locked",xpReward:100},{id:4,title:"Sentence Completion",icon:s.jsx(md,{className:"w-6 h-6"}),status:"locked",xpReward:125},{id:5,title:"All in One",icon:s.jsx(us,{className:"w-6 h-6"}),status:"locked",xpReward:150}],english:[{id:1,title:"Grammar Basics",icon:s.jsx(hr,{className:"w-6 h-6"}),status:"current",xpReward:50},{id:2,title:"Reading & Writing",icon:s.jsx(ds,{className:"w-6 h-6"}),status:"locked",xpReward:75},{id:3,title:"Literary Analysis",icon:s.jsx(rl,{className:"w-6 h-6"}),status:"locked",xpReward:100},{id:4,title:"Advanced Composition",icon:s.jsx(md,{className:"w-6 h-6"}),status:"locked",xpReward:125},{id:5,title:"Literary Mastery",icon:s.jsx(us,{className:"w-6 h-6"}),status:"locked",xpReward:150}],science:[{id:1,title:"Basic Science",icon:s.jsx(hr,{className:"w-6 h-6"}),status:"current",xpReward:50},{id:2,title:"Physical Science",icon:s.jsx(ds,{className:"w-6 h-6"}),status:"locked",xpReward:75},{id:3,title:"Biology & Chemistry",icon:s.jsx(rl,{className:"w-6 h-6"}),status:"locked",xpReward:100},{id:4,title:"Physics & Earth",icon:s.jsx(md,{className:"w-6 h-6"}),status:"locked",xpReward:125},{id:5,title:"Advanced Science",icon:s.jsx(us,{className:"w-6 h-6"}),status:"locked",xpReward:150}],social:[{id:1,title:"Civics & Geography",icon:s.jsx(hr,{className:"w-6 h-6"}),status:"current",xpReward:50},{id:2,title:"American History",icon:s.jsx(ds,{className:"w-6 h-6"}),status:"locked",xpReward:75},{id:3,title:"World Cultures",icon:s.jsx(rl,{className:"w-6 h-6"}),status:"locked",xpReward:100},{id:4,title:"Government & Economics",icon:s.jsx(md,{className:"w-6 h-6"}),status:"locked",xpReward:125},{id:5,title:"Global Studies",icon:s.jsx(us,{className:"w-6 h-6"}),status:"locked",xpReward:150}]},YW={math:"Voca Master Journey",english:"English Journey",science:"Science Journey",social:"Social Studies Journey"},_o=5,G1={1:["normal","match"],2:["normal","match"],3:["normal"],4:["normal"],5:["normal"]},vn=e=>[...e].sort(()=>Math.random()-.5),XW=(e,t=20)=>{const n=e.filter(c=>c?.id&&c?.word&&c?.meaning);if(!n.length)return[];const r=n.map(c=>c.meaning);let i=1;const a=[];return vn(n).forEach(c=>{if(a.length>=t)return;const d=vn(r.filter(f=>f&&f!==c.meaning)).slice(0,3);if(d.length<3)return;const u=vn([c.meaning,...d]);a.push({id:i++,type:"multiple-choice",wordId:c.id,word:c.word,question:`${c.word}    ?`,options:u,correctAnswer:u.indexOf(c.meaning),explanation:`${c.word}: ${c.meaning}`})}),a},JW=(e,t=12)=>{const n=e.flatMap(c=>(c?.derivatives||[]).map(d=>({wordId:c.id,root:c.word,derivative:d?.word,meaning:d?.meaning}))).filter(c=>c.wordId&&c.derivative&&c.meaning);if(!n.length)return[];const r=n.map(c=>c.meaning);let i=1;const a=[];return vn(n).forEach(c=>{if(a.length>=t)return;const d=vn(r.filter(f=>f&&f!==c.meaning)).slice(0,3);if(d.length<3)return;const u=vn([c.meaning,...d]);a.push({id:i++,type:"multiple-choice",wordId:c.wordId,question:`'${c.root}'  '${c.derivative}' ?`,options:u,correctAnswer:u.indexOf(c.meaning),explanation:`${c.derivative} (${c.root}): ${c.meaning}`})}),a},QW=(e,t=12)=>{const n=[],r=e.filter(a=>a?.id&&((a?.synonyms?.length||0)>=2||(a?.antonyms?.length||0)>=2)),i=e.map(a=>a.word).filter(Boolean);return vn(r).forEach(a=>{if(n.length>=t)return;const c=(a.synonyms?.length||0)>=2&&((a.antonyms?.length||0)<2||Math.random()>.5),d=c?a.synonyms||[]:a.antonyms||[];if(d.length<2)return;const u=Math.min(d.length,3),f=Math.max(2,u),p=vn(d).slice(0,f),m=vn([...i,...e.flatMap(S=>c?S.synonyms||[]:S.antonyms||[])].filter(S=>S&&!p.includes(S))),y=[...p];if(m.forEach(S=>{y.length>=8||y.includes(S)||y.push(S)}),y.length<8)return;const v=y.filter(S=>!p.includes(S)),w=vn([...p,...vn(v).slice(0,8-p.length)]),j=w.reduce((S,N,E)=>(p.includes(N)&&S.push(E),S),[]);n.push({id:n.length+1,type:"multi-select",wordId:a.id,question:`'${a.word}' ${c?"":""}   (${p.length})`,options:w,correctAnswers:j,explanation:`${c?"":""}: ${p.join(", ")}`})}),n},K1=(e,t)=>{if(!e||!t)return e;const n=new RegExp(t,"gi");return e.replace(n,"_____")},ZW=(e,t=12)=>{const n=e.filter(c=>c?.id&&c?.word&&c?.example);if(!n.length)return[];const r=e.map(c=>c.word).filter(Boolean);let i=1;const a=[];return vn(n).forEach(c=>{if(a.length>=t||!c.word||!c.example)return;const d=vn(r.filter(f=>f&&f!==c.word)).slice(0,3);if(d.length<3)return;const u=vn([c.word,...d]);a.push({id:i++,type:"sentence",wordId:c.id,question:"    .",options:u,correctAnswer:u.indexOf(c.word),explanation:`${c.word}: ${c.meaning||""}`,word:c.word,sentenceData:{english:em(K1(c.example,c.word)),translation:c.translation?em(K1(c.translation,c.word)):em(c.translation||c.meaning||"")}})}),a},Y1=(e,t)=>({...e,id:t,options:[...e.options],correctAnswers:e.correctAnswers?[...e.correctAnswers]:void 0,wordId:e.wordId,sentenceData:e.sentenceData?{...e.sentenceData}:void 0}),eV=(e,t=30)=>{const n=[...e.meaningQuestions,...e.derivativeQuestions,...e.synAntQuestions,...e.sentenceQuestions];if(!n.length)return[];const r=[],i=vn(n);let a=1;for(const c of i){if(r.length>=t)break;r.push(Y1(c,a++))}for(;r.length<t&&e.meaningQuestions.length;){const c=e.meaningQuestions[r.length%e.meaningQuestions.length];r.push(Y1(c,r.length+1))}return r},tV=e=>{if(!e||!e.length)return null;const t=e.map(KW).filter(d=>!!d);if(!t.length)return null;const n=XW(t,20);if(!n.length)return null;const r=JW(t,12),i=QW(t,12),a=ZW(t,12),c=eV({meaningQuestions:n,derivativeQuestions:r,synAntQuestions:i,sentenceQuestions:a},30);return{1:n,2:r.length?r:n,3:i.length?i:n,4:a.length?a:n,5:c.length?c:n}};function X1({onBack:e,onBackToHome:t,onXPGain:n,userXP:r,selectedSubject:i,vocabularyTitle:a,vocabularyWords:c,onQuizCompletion:d,onWrongAnswer:u,onAddToStarred:f,onMoveToGraveyard:p,onDeletePermanently:m,starredWordIds:y=[],graveyardWordIds:v=[],wrongAnswersWordIds:w=[],getAuthToken:j,onRefreshVocabulary:S,vocabularyId:N,isLoading:E}){const C=i?.id||"math",_=a||YW[C]||"Math Journey",[T,I]=g.useState(q1[C]||q1.math),[M,F]=g.useState(null),[U,G]=g.useState(0),[se,ae]=g.useState([]),[oe,ee]=g.useState(!1),[L,$]=g.useState(null),[D,P]=g.useState(0),[R,q]=g.useState(!1),[B,W]=g.useState(!1),[z,X]=g.useState(null),[H,Z]=g.useState(0),[Q,te]=g.useState(!1),[he,le]=g.useState("normal"),[Ne,ke]=g.useState(null),[tt,nt]=g.useState(null),[We,wt]=g.useState(null),fe=!!i,[ye,Ae]=g.useState("word-list"),xe=i?.id==="starred",[Qe,at]=g.useState({}),Tt=g.useRef({}),Ze=g.useRef(null),pt=g.useRef({}),lt=g.useRef({}),K=g.useRef({}),[Ce,we]=g.useState(0),$e=g.useRef({starred:"",graveyard:"",wrongAnswers:""}),et=g.useCallback((ue,_e)=>{const Ee=_e[ue]||[];if(!Ee.length)return;const qe=vn(Ee);at(Pt=>({...Pt,[ue]:qe}))},[]),dt=g.useCallback(ue=>{ue&&(delete Tt.current[ue],delete lt.current[ue],Object.keys(K.current).forEach(_e=>{_e.startsWith(`${ue}:`)&&delete K.current[_e]}),pt.current[ue]=(pt.current[ue]||0)+1,we(_e=>_e+1))},[]);g.useEffect(()=>{const ue=(y||[]).join("|");ue!==$e.current.starred&&($e.current.starred=ue,dt("starred"))},[y,dt]),g.useEffect(()=>{const ue=(v||[]).join("|");ue!==$e.current.graveyard&&($e.current.graveyard=ue,dt("graveyard"))},[v,dt]),g.useEffect(()=>{const ue=(w||[]).join("|");ue!==$e.current.wrongAnswers&&($e.current.wrongAnswers=ue,dt("wrong-answers"))},[w,dt]);const un=g.useCallback(async()=>{if(console.log("[GameMapQuizScreen] refreshVocabulary called"),S){console.log("[GameMapQuizScreen] Using parent onRefreshVocabulary"),await S();return}console.log("[GameMapQuizScreen] Using local invalidateVocabulary for:",N),N&&dt(N)},[S,N,dt]),[qt,Xn]=g.useState({1:new Set,2:new Set,3:new Set,4:new Set,5:new Set}),[ct,Sn]=g.useState([]),[Ln,kt]=g.useState(!0),[mr,Xt]=g.useState(!1),mt=g.useMemo(()=>tV(ct),[ct]),bt=g.useMemo(()=>H1[C]||H1.math,[C]),Re=g.useMemo(()=>mt||(ct.length>0?{}:bt),[mt,bt,ct.length]),ce=g.useMemo(()=>{const ue=ct.flatMap(_e=>(_e?.derivatives||[]).map((Ee,qe)=>({id:`${_e.id}-derivative-${qe}`,word:Ee?.word||Ee?.term||"",meaning:Ee?.meaning||""}))).filter(_e=>_e.word&&_e.meaning);return{1:ct,2:ue.length?ue:ct,3:ct,4:ct,5:ct}},[ct]),Se=g.useCallback(ue=>{const _e=ce[ue];return _e&&_e.length?_e:ct},[ce,ct]);g.useEffect(()=>{if(c&&c.length>0){console.log(`[GameMapQuizScreen]  Using ${c.length} words from props (unit-filtered)`),Sn(c),kt(!1);return}const ue=i?.id;if(!ue){console.log("[GameMapQuizScreen]  No selectedSubject.id, using sample words"),Sn([]),kt(!1);return}const _e=pt.current[ue]||0,Ee=`${ue}:${_e}`,qe=Tt.current[ue];if(qe&&lt.current[ue]===_e){Sn(qe),kt(!1);return}const Pt=K.current[Ee];if(Pt){kt(!0);let Rt=!1;return Pt.then(Jn=>{Rt||(Sn(Jn),kt(!1))}).catch(Jn=>{Rt||(console.error("[GameMapQuizScreen]  Error loading vocabulary words:",Jn),kt(!1))}),()=>{Rt=!0}}if(Ze.current===Ee)return;let jt=!1;const Bn=(async()=>{const Rt=["starred","graveyard","wrong-answers"].includes(ue);let Jn="";Rt?Jn=`https://${Je}.supabase.co/functions/v1/server/${ue}`:Jn=`https://${Je}.supabase.co/functions/v1/server/user-vocabularies/${ue}`;const rc=j?j():En,pa=await fetch(Jn,{headers:{Authorization:`Bearer ${rc}`}});if(!pa.ok){const bs=await pa.text();throw new Error(bs||"Failed to load vocabulary words")}const Qn=await pa.json();console.log("[GameMapQuizScreen]  API response:",Qn);const Mr=[];return Rt?Qn.words&&Array.isArray(Qn.words)?Mr.push(...Qn.words):Array.isArray(Qn)&&Mr.push(...Qn):Qn.units&&Array.isArray(Qn.units)&&Qn.units.forEach(bs=>{bs.words&&Array.isArray(bs.words)&&Mr.push(...bs.words)}),console.log(`[GameMapQuizScreen]  Loaded ${Mr.length} words from vocabulary ${ue}`),console.log("[GameMapQuizScreen]  First word:",Mr[0]),Tt.current[ue]=Mr,lt.current[ue]=_e,Mr})();return K.current[Ee]=Bn,Ze.current=Ee,kt(!0),console.log("[GameMapQuizScreen]  Loading words for vocabulary ID:",ue),Bn.then(Rt=>{jt||Sn(Rt)}).catch(Rt=>{jt||console.error("[GameMapQuizScreen]  Error loading vocabulary words:",Rt)}).finally(()=>{jt||kt(!1),Ze.current===Ee&&(Ze.current=null),delete K.current[Ee]}),()=>{jt=!0}},[c,i?.id,j,Ce]),g.useEffect(()=>{Xt(!1)},[U,M]);const Pe=ue=>{if(!T.find(qe=>qe.id===ue))return;const Ee=G1[ue]||["normal"];if(Ee.length===1){const qe=Ee[0];if(qe==="match"&&Se(ue).length<_o){alert(`    ${_o}   .`);return}le(qe),rt(ue,qe);return}wt(ue),te(!0)},rt=(ue,_e)=>{if(_e==="match"&&Se(ue).length<_o){alert(`    ${_o}   .`);return}if(_e!=="match"&&!(Re[ue]||[]).length){if(ct.length>0){const qe=T.find(Pt=>Pt.id===ue)?.title||" ";alert(`${qe}   .        .`)}return}F(ue),G(0),P(0),ae([]),ee(!1),$(null),X(new Date),Z(0),le(_e),te(!1),wt(null),Xt(!1),et(ue,Re),_e==="match"?ke("card-match-word"):_e==="game"&&nt(Math.random()>.5?"fall":"speed")},Ge=g.useCallback((ue,_e)=>{P(ue),Z(ue),q(!0),M&&ue>=3&&I(Ee=>Ee.map(qe=>qe.id===M?{...qe,status:"completed"}:qe.id===M+1&&qe.status==="locked"?{...qe,status:"current"}:qe))},[M]),He=ue=>{if(oe)return;const _e=M?Qe[M]||Re[M]:null,Ee=_e?_e[U]:null;if(Ee)if(Ee.type==="multi-select")ae(qe=>qe.includes(ue)?qe.filter(Pt=>Pt!==ue):[...qe,ue]);else{const qe=[ue];ae(qe),setTimeout(()=>{ht(qe)},120)}},ht=ue=>{if(!M)return;const _e=Qe[M]||Re[M]||[],Ee=_e[U],qe=ue??se;if(!Ee||qe.length===0)return;let Pt=!1;if(Ee.type==="multi-select"&&Ee.correctAnswers){const jt=[...qe].sort(),Bn=[...Ee.correctAnswers].sort();Pt=jt.length===Bn.length&&jt.every((Rt,Jn)=>Rt===Bn[Jn])}else typeof Ee.correctAnswer=="number"&&(Pt=qe[0]===Ee.correctAnswer);if(ee(!0),$(Pt),Pt)P(jt=>jt+1),Z(jt=>jt+1);else{const jt=Ee.wordId||Ee.word;u&&jt&&u(jt)}setTimeout(()=>{U<_e.length-1?(G(jt=>jt+1),ae([]),ee(!1),$(null),Xt(!1)):(ae([]),ee(!1),$(null),Xt(!1),it())},2500)},it=()=>{if(!(!M||!T.find(_e=>_e.id===M)))if(Xn(_e=>{const Ee={..._e};return Ee[M]||(Ee[M]=new Set),Ee[M].add(he),Ee}),I(_e=>_e.map(Ee=>Ee.id===M?{...Ee,status:"completed"}:Ee.id===M+1?{...Ee,status:"current"}:Ee)),M===5){const Ee=z?new Date().getTime()-z.getTime():0,qe=Math.floor(Ee/6e4),Pt=Math.floor(Ee%6e4/1e3),jt=`${qe}:${Pt.toString().padStart(2,"0")}`,Bn=Object.values(Re).flat().length,Rt=Math.round(H/Bn*100);d({xpGained:0,completionTime:jt,accuracy:Rt,totalQuestions:Bn,correctAnswers:H,stageName:_})}else setTimeout(()=>{const _e=T.find(Ee=>Ee.id===M+1);_e&&_e.status!=="locked"?Pe(M+1):yt()},800)},yt=()=>{F(null),q(!1),G(0),ae([]),ee(!1),$(null),Xt(!1),P(0)};if(M){const ue=T.find(jt=>jt.id===M);if(he==="match"){const jt=M?Se(M):ct;return jt.length?s.jsx(WW,{words:jt,matchGameType:Ne||"card-match-word",onBack:yt,onBackToHome:t,onComplete:(Bn,Rt)=>Ge(Rt,ue),onWrongAnswer:u,stage:ue,journeyName:_,wordCount:jt.length,isStarredVocabulary:xe}):s.jsx("div",{className:"min-h-screen flex items-center justify-center text-[#091A7A]",children:s.jsx("p",{children:"    ."})})}if(he==="game"&&ct.length>0)return s.jsx(HW,{words:ct,gameType:tt||"fall",onBack:yt,onComplete:(jt,Bn)=>Ge(Bn,ue),onWrongAnswer:u});const _e=M?Qe[M]||Re[M]||[]:[],Ee=_e[U];if(!Ee)return s.jsx("div",{className:"min-h-screen flex items-center justify-center text-[#091A7A]",children:s.jsx("p",{children:"  .    ."})});const qe=Ee.type==="multi-select",Pt=Ee.type==="sentence"&&Ee.sentenceData;return s.jsx(qW,{stage:ue,currentStageId:M,currentQuestionIndex:U,totalQuestions:_e.length,question:Ee,selectedAnswers:se,showFeedback:oe,lastAnswerCorrect:L,isMultiSelect:qe,isSentenceQuestion:!!Pt,sentenceTranslationVisible:mr,onBack:yt,onBackToHome:t,onAnswerSelect:He,onToggleSentenceTranslation:()=>Xt(jt=>!jt),onSubmitAnswer:ht,journeyName:_,wordCount:ct.length,isStarredVocabulary:xe})}return s.jsxs("div",{className:"h-full bg-transparent relative flex flex-col",children:[s.jsxs("div",{className:`flex-shrink-0 z-50 pdf-print-overlay bg-gradient-to-b ${xe?"from-[#FFFBEB]/80 to-[#FEF3C7]/70":"from-[#D4C5FF] to-transparent"}`,children:[s.jsx("div",{className:"p-6 pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Or,{onClick:e}),s.jsxs("div",{className:"flex-1 mx-4 text-center",children:[s.jsx("h1",{style:{fontSize:"18px",fontWeight:700,color:xe?"#78350F":"#5B21B6"},children:xe?" Starred Words":_}),s.jsxs("p",{style:{fontSize:"12px",fontWeight:500,color:xe?"#D97706":"#A78BFA"},children:[ct.length," "]})]}),t?s.jsx(O.button,{whileTap:{scale:.95},onClick:t,className:"w-10 h-10 bg-white/90 backdrop-blur-md rounded-full flex items-center justify-center shadow-card",children:s.jsx(Hi,{className:"w-5 h-5",style:{color:xe?"#78350F":"#5B21B6"}})}):s.jsx("div",{className:"w-10 h-10"})]})}),s.jsx("div",{className:"px-4 pb-2",children:s.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl border border-white/40 shadow-lg p-1.5",children:s.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[s.jsxs(O.button,{whileTap:{scale:.97},onClick:()=>Ae("word-list"),className:`py-2.5 px-2 rounded-xl flex flex-col items-center gap-1 transition-all duration-200 ${ye==="word-list"?xe?"bg-gradient-to-br from-[#F59E0B] to-[#FCD34D] shadow-md":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] shadow-md":"hover:bg-white/50"}`,children:[s.jsx(XR,{className:`w-4 h-4 ${ye==="word-list"?"text-white":xe?"text-[#D97706]":"text-[#7C3AED]"}`}),s.jsx("span",{className:`text-[10px] font-semibold ${ye==="word-list"?"text-white":xe?"text-[#78350F]":"text-[#5B21B6]"}`,children:"Word List"})]}),s.jsxs(O.button,{whileTap:{scale:.97},onClick:()=>Ae("quiz-map"),className:`py-2.5 px-2 rounded-xl flex flex-col items-center gap-1 transition-all duration-200 ${ye==="quiz-map"?xe?"bg-gradient-to-br from-[#F59E0B] to-[#FCD34D] shadow-md":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] shadow-md":"hover:bg-white/50"}`,children:[s.jsx(RR,{className:`w-4 h-4 ${ye==="quiz-map"?"text-white":xe?"text-[#D97706]":"text-[#7C3AED]"}`}),s.jsx("span",{className:`text-[10px] font-semibold ${ye==="quiz-map"?"text-white":xe?"text-[#78350F]":"text-[#5B21B6]"}`,children:"Quiz Map"})]}),s.jsxs(O.button,{whileTap:{scale:.97},onClick:()=>Ae("flashcards"),className:`py-2.5 px-2 rounded-xl flex flex-col items-center gap-1 transition-all duration-200 ${ye==="flashcards"?xe?"bg-gradient-to-br from-[#F59E0B] to-[#FCD34D] shadow-md":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] shadow-md":"hover:bg-white/50"}`,children:[s.jsx(BR,{className:`w-4 h-4 ${ye==="flashcards"?"text-white":xe?"text-[#D97706]":"text-[#7C3AED]"}`}),s.jsx("span",{className:`text-[10px] font-semibold ${ye==="flashcards"?"text-white":xe?"text-[#78350F]":"text-[#5B21B6]"}`,children:"Flash Cards"})]}),s.jsxs(O.button,{whileTap:{scale:fe?.97:1},onClick:()=>fe&&Ae("pdf-print"),className:`py-2.5 px-2 rounded-xl flex flex-col items-center gap-1 transition-all duration-200 ${ye==="pdf-print"?xe?"bg-gradient-to-br from-[#F59E0B] to-[#FCD34D] shadow-md":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] shadow-md":fe?"hover:bg-white/50":"opacity-40 cursor-not-allowed"}`,children:[s.jsx(Em,{className:`w-4 h-4 ${ye==="pdf-print"?"text-white":xe?"text-[#D97706]":"text-[#7C3AED]"}`}),s.jsx("span",{className:`text-[10px] font-semibold ${ye==="pdf-print"?"text-white":xe?"text-[#78350F]":"text-[#5B21B6]"}`,children:"PDF Print"})]})]})})})]}),s.jsx("div",{className:"flex-1 relative z-10 overflow-hidden",children:s.jsxs(ut,{mode:"wait",children:[ye==="word-list"&&s.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full",children:s.jsx(Nu,{onBack:e,onBackToHome:t,vocabularyTitle:i?.name||" ",unitName:"Unit 1",vocabularyWords:ct,starredWordIds:y,graveyardWordIds:v,wrongAnswersWordIds:w,isLoading:E,vocabularyId:N,onAddToStarred:f,onMoveToGraveyard:p,onDeletePermanently:m,onStartFlashcards:()=>{console.log("[GameMapQuizScreen]  Flashcard button clicked in WordList! Setting activeTab to flashcards"),Ae("flashcards")},onRefreshVocabulary:un,hideHeader:!0})},"word-list"),ye==="quiz-map"&&s.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full overflow-y-auto scrollbar-hide",children:s.jsxs("div",{className:"max-w-sm mx-auto relative pt-2 pb-4",children:[s.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-0",viewBox:"0 0 300 500",preserveAspectRatio:"xMidYMin meet",children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"pathGradientTab",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:xe?"#FEF3C7":"#DDD6FE",stopOpacity:"0.8"}),s.jsx("stop",{offset:"30%",stopColor:xe?"#FCD34D":"#C4B5FD",stopOpacity:"0.5"}),s.jsx("stop",{offset:"70%",stopColor:xe?"#F59E0B":"#A78BFA",stopOpacity:"0.5"}),s.jsx("stop",{offset:"100%",stopColor:xe?"#FEF3C7":"#DDD6FE",stopOpacity:"0.8"})]}),s.jsxs("filter",{id:"pathGlowTab",children:[s.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),s.jsxs("feMerge",{children:[s.jsx("feMergeNode",{in:"coloredBlur"}),s.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),s.jsx(O.path,{d:`M 150 30
                       C 150 45, 120 70, 90 110
                       C 60 150, 140 170, 210 200
                       C 280 230, 180 250, 90 290
                       C 0 330, 120 350, 150 390`,stroke:"url(#pathGradientTab)",strokeWidth:"4",fill:"none",strokeLinecap:"round",filter:"url(#pathGlowTab)",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:2,ease:"easeInOut"}})]}),s.jsx("div",{className:"relative z-10",children:T.map((ue,_e)=>{const qe=[{x:"50%",y:"30px",transform:"translateX(-50%)"},{x:"25%",y:"110px",transform:"translateX(-50%)"},{x:"65%",y:"200px",transform:"translateX(-50%)"},{x:"25%",y:"290px",transform:"translateX(-50%)"},{x:"50%",y:"380px",transform:"translateX(-50%)"}][_e];return s.jsxs(O.div,{initial:{opacity:0,scale:.8,y:30},animate:{opacity:1,scale:1,y:0},transition:{delay:_e*.15,duration:.7,ease:[.34,1.56,.64,1]},className:"absolute",style:{left:qe.x,top:qe.y,transform:qe.transform},children:[s.jsxs(O.button,{whileTap:{scale:.92},onClick:()=>Pe(ue.id),className:`relative w-[72px] h-[72px] rounded-3xl flex items-center justify-center transition-all duration-300 backdrop-blur-lg border-2 ${ue.status==="completed"?"bg-gradient-to-br from-emerald-400 via-emerald-500 to-emerald-600 border-white/30 text-white shadow-xl shadow-emerald-500/40":ue.status==="current"?xe?"bg-gradient-to-br from-[#F59E0B] via-[#FBBF24] to-[#FCD34D] border-white/30 text-white shadow-xl shadow-amber-500/40":"bg-gradient-to-br from-[#7C3AED] via-[#8B5CF6] to-[#A78BFA] border-white/30 text-white shadow-xl shadow-purple-500/40":"bg-white/70 border-white/50 text-gray-400 shadow-md"}`,children:[ue.status==="completed"?s.jsx(O.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.4,type:"spring",stiffness:300,damping:15},children:s.jsx(Mn,{className:"w-8 h-8 drop-shadow-lg"})}):s.jsx("div",{className:"relative",children:s.jsx("div",{className:`w-6 h-6 ${ue.status==="locked"?"opacity-40":""}`,children:ue.icon})}),s.jsx("div",{className:`absolute -top-1.5 -right-1.5 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold shadow-lg ${ue.status==="completed"?"bg-white text-emerald-600":ue.status==="current"?xe?"bg-white text-amber-600":"bg-white text-purple-600":"bg-gray-200 text-gray-500"}`,children:ue.id}),ue.status==="current"&&s.jsxs(s.Fragment,{children:[s.jsx(O.div,{animate:{scale:[1,1.3,1],opacity:[.6,0,.6]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},className:`absolute inset-0 ${xe?"bg-amber-400":"bg-purple-400"} rounded-3xl blur-lg -z-10`}),s.jsx(O.div,{animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-3xl -z-10",style:{background:xe?"conic-gradient(from 0deg, transparent 0deg, rgba(251, 191, 36, 0.3) 90deg, transparent 180deg)":"conic-gradient(from 0deg, transparent 0deg, rgba(167, 139, 250, 0.3) 90deg, transparent 180deg)"}})]}),ue.status==="completed"&&s.jsx(O.div,{animate:{scale:[1,1.15,1],opacity:[.5,.8,.5]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-emerald-400 rounded-3xl blur-xl -z-10"})]}),s.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:_e*.15+.5},className:"absolute top-[78px] text-center z-20 max-w-[130px]",style:{left:_e===3?"-15px":_e===1?"0px":_e===0||_e===2?"26px":"36px",transform:_e===1?"translateX(-100%)":_e===3?"translateX(-120%)":"translateX(-50%)"},children:s.jsx("div",{className:`px-2.5 py-1.5 rounded-xl backdrop-blur-lg shadow-md border ${ue.status==="completed"?"bg-emerald-50/95 border-emerald-200/60 text-emerald-700":ue.status==="current"?xe?"bg-white/95 border-amber-200/60 text-amber-700":"bg-white/95 border-purple-200/60 text-purple-700":"bg-white/80 border-white/40 text-gray-500"}`,children:s.jsx("div",{className:`text-[11px] ${ue.status==="completed"?"font-semibold":"font-medium"}`,children:ue.title})})})]},ue.id)})}),s.jsx(O.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.8},className:"mt-[500px] mx-4 p-5 bg-white/95 backdrop-blur-xl rounded-3xl border-2 border-white/60 shadow-2xl",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[s.jsx(ur,{className:`w-4 h-4 ${xe?"text-amber-500":"text-purple-500"}`}),s.jsx("h3",{className:`text-sm ${xe?"text-amber-700":"text-purple-700"}`,style:{fontWeight:700},children:"Your Progress"}),s.jsx(ur,{className:`w-4 h-4 ${xe?"text-amber-500":"text-purple-500"}`})]}),s.jsx("p",{className:`text-xs ${xe?"text-amber-400":"text-purple-400"}`,children:_})]}),s.jsxs("div",{className:"flex items-center justify-center gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(O.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1.5,type:"spring",stiffness:200},className:`text-2xl bg-gradient-to-br ${xe?"from-amber-600 to-amber-400":"from-purple-600 to-purple-400"} bg-clip-text text-transparent mb-1`,style:{fontWeight:700},children:T.filter(ue=>ue.status==="completed").length}),s.jsx("div",{className:`text-xs ${xe?"text-amber-500":"text-purple-500"}`,style:{fontWeight:600},children:"Completed"})]}),s.jsx("div",{className:`w-px h-10 bg-gradient-to-b from-transparent ${xe?"via-amber-200":"via-purple-200"} to-transparent`}),s.jsxs("div",{className:"text-center",children:[s.jsx(O.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1.6,type:"spring",stiffness:200},className:"text-2xl text-gray-300 mb-1",style:{fontWeight:700},children:T.filter(ue=>ue.status==="locked").length}),s.jsx("div",{className:"text-xs text-gray-400",style:{fontWeight:600},children:"Remaining"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("div",{className:`w-full h-2.5 ${xe?"bg-amber-100/60":"bg-purple-100/60"} rounded-full overflow-hidden shadow-inner`,children:s.jsx(O.div,{initial:{width:0},animate:{width:`${T.filter(ue=>ue.status==="completed").length/T.length*100}%`},transition:{delay:2,duration:1.5,ease:[.34,1.56,.64,1]},className:`h-full bg-gradient-to-r ${xe?"from-amber-500 via-amber-400 to-amber-500":"from-purple-500 via-purple-400 to-purple-500"} rounded-full shadow-lg relative`,children:s.jsx(O.div,{animate:{x:[-20,100],opacity:[0,1,0]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent"})})}),s.jsxs("div",{className:`text-[10px] ${xe?"text-amber-400":"text-purple-400"}`,style:{fontWeight:600},children:[Math.round(T.filter(ue=>ue.status==="completed").length/T.length*100),"% Complete"]})]})]})})]})},"quiz-map"),ye==="flashcards"&&s.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full",children:s.jsx(aC,{onBack:()=>Ae("word-list"),onBackToHome:t,vocabularyWords:ct,starredWordIds:y,graveyardWordIds:v,vocabularyId:N,vocabularyTitle:i?.name,onAddToStarred:f,onMoveToGraveyard:p,onRefreshVocabulary:un,hideHeader:!0})},"flashcards"),ye==="pdf-print"&&fe&&s.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full",children:s.jsx(BW,{onBack:()=>Ae("word-list"),vocabularyId:i?.id||"",vocabularyTitle:i?.name||"",words:ct,hideHeader:!0})},"pdf-print")]})}),s.jsx(ut,{children:Q&&s.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex items-center justify-center p-6",onClick:()=>{te(!1),wt(null)},children:s.jsxs(O.div,{initial:{scale:.8,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:20},transition:{type:"spring",damping:20},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-6 shadow-2xl border-2 border-white/60 max-w-sm w-full",onClick:ue=>ue.stopPropagation(),children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-lg mb-1",style:{fontWeight:700,color:"#491B6D"},children:"  "}),s.jsx("p",{className:"text-xs",style:{color:"#8B5CF6"},children:"   "})]}),(()=>{const ue=We?G1[We]||["normal"]:[];return s.jsxs("div",{className:"space-y-3",children:[ue.includes("normal")&&s.jsxs(O.button,{whileTap:{scale:.95},onClick:()=>We&&rt(We,"normal"),className:`w-full p-4 rounded-2xl shadow-lg flex items-center justify-between relative ${We&&qt[We]?.has("normal")?"bg-gradient-to-br from-emerald-400 to-emerald-600 text-white":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] text-white"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:s.jsx(hr,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-sm",style:{fontWeight:700},children:"Normal"}),s.jsx("div",{className:"text-xs opacity-80",children:"  "})]})]}),We&&qt[We]?.has("normal")?s.jsx(Mn,{className:"w-5 h-5"}):s.jsx(Go,{className:"w-5 h-5"})]}),ue.includes("match")&&(()=>{const _e=We?Se(We).length:0,Ee=_e<_o;return s.jsxs(O.button,{whileTap:{scale:Ee?1:.95},onClick:()=>{Ee||!We||rt(We,"match")},className:`w-full p-4 rounded-2xl shadow-md flex items-center justify-between ${Ee?"bg-gray-100 border-2 border-dashed border-gray-300 text-gray-400 cursor-not-allowed":We&&qt[We]?.has("match")?"bg-gradient-to-br from-emerald-400 to-emerald-600 text-white border-2 border-emerald-300":"bg-white border-2 border-[#A78BFA]"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${Ee?"bg-gray-200":We&&qt[We]?.has("match")?"bg-white/20":"bg-[#EDE9FE]"}`,children:s.jsx(rl,{className:`w-5 h-5 ${Ee?"text-gray-400":We&&qt[We]?.has("match")?"text-white":"text-[#7C3AED]"}`})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-sm",style:{fontWeight:700,color:Ee?"#9CA3AF":We&&qt[We]?.has("match")?"#fff":"#491B6D"},children:"Match"}),s.jsx("div",{className:"text-xs",style:{color:Ee?"#9CA3AF":We&&qt[We]?.has("match")?"rgba(255,255,255,0.8)":"#8B5CF6"},children:Ee?`  (${_e}/${_o})`:"-  "})]})]}),We&&qt[We]?.has("match")?s.jsx(Mn,{className:"w-5 h-5 text-white"}):Ee?s.jsx("span",{className:"text-xs text-gray-400",children:""}):s.jsx(Go,{className:"w-5 h-5 text-[#7C3AED]"})]})})()]})})(),s.jsx(O.button,{whileTap:{scale:.95},onClick:()=>{te(!1),wt(null)},className:"mt-4 w-full p-3 bg-gray-100 rounded-xl",children:s.jsx("span",{className:"text-sm",style:{fontWeight:600,color:"#6B7280"},children:""})})]})})})]})}function nV({onBack:e,onRetakeQuiz:t,onNextChallenge:n,userXP:r,xpGained:i,completionTime:a,accuracy:c,totalQuestions:d,correctAnswers:u,stageName:f}){const[p,m]=g.useState(!0),[y,v]=g.useState(0),w=[{icon:s.jsx(hr,{className:"w-6 h-6"}),label:"Accuracy",value:`${c}%`,color:"emerald"},{icon:s.jsx(Ko,{className:"w-6 h-6"}),label:"Time",value:a,color:"blue"},{icon:s.jsx(eS,{className:"w-6 h-6"}),label:"Correct",value:`${u}/${d}`,color:"green"},{icon:s.jsx(mS,{className:"w-6 h-6"}),label:"XP Gained",value:`+${i}`,color:"purple"}];g.useEffect(()=>{const E=setTimeout(()=>m(!1),4e3);return()=>clearTimeout(E)},[]),g.useEffect(()=>{const E=setInterval(()=>{v(C=>(C+1)%w.length)},2e3);return()=>clearInterval(E)},[]);const S=c>=90?{level:"Excellent",color:"emerald",emoji:""}:c>=80?{level:"Great",color:"blue",emoji:""}:c>=70?{level:"Good",color:"orange",emoji:""}:{level:"Keep Practicing",color:"gray",emoji:""},N=()=>s.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:[...Array(50)].map((E,C)=>s.jsx(O.div,{initial:{y:-100,x:Math.random()*window.innerWidth,rotate:0,opacity:1},animate:{y:window.innerHeight+100,rotate:360,opacity:0},transition:{duration:Math.random()*3+2,delay:Math.random()*2,ease:"easeOut"},className:`absolute w-3 h-3 ${C%4===0?"bg-yellow-400":C%4===1?"bg-blue-400":C%4===2?"bg-emerald-400":"bg-purple-400"} rounded-full`},C))});return s.jsxs("div",{className:"h-full relative overflow-hidden",children:[p&&s.jsx(N,{}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx(O.div,{animate:{scale:[1,1.2,1],rotate:[0,10,0],opacity:[.1,.2,.1]},transition:{duration:8,repeat:1/0},className:"absolute -top-20 -right-20 w-60 h-60 bg-gradient-to-br from-[#091A7A]/10 to-[#4F8EFF]/10 rounded-full blur-3xl"}),s.jsx(O.div,{animate:{scale:[1,1.1,1],rotate:[0,-15,0],opacity:[.1,.15,.1]},transition:{duration:10,repeat:1/0,delay:2},className:"absolute -bottom-20 -left-20 w-80 h-80 bg-gradient-to-br from-[#ADC8FF]/10 to-[#4F8EFF]/10 rounded-full blur-3xl"})]}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[s.jsxs("div",{className:"pt-12 px-6 text-center",children:[s.jsx(O.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.3},className:"mb-6",children:s.jsxs("div",{className:"relative inline-flex",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center shadow-2xl shadow-yellow-500/25",children:s.jsx(us,{className:"w-12 h-12 text-white"})}),s.jsxs(O.div,{animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear"},className:"absolute inset-0",children:[s.jsx(ur,{className:"absolute -top-2 left-2 w-4 h-4 text-yellow-400"}),s.jsx(ur,{className:"absolute top-2 -right-2 w-5 h-5 text-orange-400"}),s.jsx(ur,{className:"absolute -bottom-2 right-2 w-3 h-3 text-yellow-500"}),s.jsx(ur,{className:"absolute bottom-2 -left-2 w-4 h-4 text-orange-300"})]})]})}),s.jsxs(O.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-8",children:[s.jsxs("h1",{className:"text-2xl font-bold text-[#091A7A] mb-2",children:[f," Complete! "]}),s.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium ${S.color==="emerald"?"bg-emerald-100 text-emerald-700":S.color==="blue"?"bg-blue-100 text-blue-700":S.color==="orange"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`,children:[s.jsx("span",{children:S.emoji}),s.jsx("span",{children:S.level})]})]})]}),s.jsx("div",{className:"px-6 mb-8",children:s.jsxs(O.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-6 shadow-lg border border-white/40",children:[s.jsx("h2",{className:"text-lg font-semibold text-[#091A7A] text-center mb-6",children:"Your Performance"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:w.map((E,C)=>s.jsxs(O.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1+C*.1},className:`p-4 rounded-2xl border transition-all duration-300 ${y===C?"bg-[#091A7A]/5 border-[#091A7A]/20 shadow-lg":"bg-gray-50/50 border-gray-100"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-xl mb-3 flex items-center justify-center ${E.color==="emerald"?"bg-emerald-100 text-emerald-600":E.color==="blue"?"bg-blue-100 text-blue-600":E.color==="green"?"bg-green-100 text-green-600":E.color==="purple"?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600"}`,children:E.icon}),s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:E.label}),s.jsx("p",{className:"text-lg font-bold text-[#091A7A]",children:E.value})]},E.label))})]})}),s.jsx("div",{className:"px-6 mb-8",children:s.jsxs(O.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:1.2},className:"bg-gradient-to-r from-[#091A7A]/5 to-[#4F8EFF]/5 backdrop-blur-xl rounded-3xl p-6 border border-[#ADC8FF]/30",children:[s.jsx("h3",{className:"font-semibold text-[#091A7A] mb-4 text-center",children:"Rewards Earned"}),s.jsxs("div",{className:"flex items-center justify-center gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-2xl flex items-center justify-center mb-2 mx-auto",children:s.jsx(xs,{className:"w-6 h-6 text-yellow-600"})}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"XP Gained"}),s.jsxs("p",{className:"font-bold text-[#091A7A]",children:["+",i]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-2xl flex items-center justify-center mb-2 mx-auto",children:s.jsx(a6,{className:"w-6 h-6 text-purple-600"})}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Badge"}),s.jsx("p",{className:"font-bold text-[#091A7A] text-xs",children:"Quiz Master"})]})]})]})}),s.jsxs("div",{className:"flex-1 flex flex-col justify-end px-6 pb-8 space-y-4",children:[s.jsxs(O.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.4},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:n,className:"w-full bg-gradient-to-r from-[#091A7A] to-[#4F8EFF] text-white py-4 rounded-2xl font-semibold shadow-lg flex items-center justify-center gap-2",children:[s.jsx("span",{children:"Continue Learning"}),s.jsx(Qj,{className:"w-5 h-5"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(O.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.5},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"flex-1 bg-white/90 backdrop-blur-xl border border-white/40 text-[#091A7A] py-3 rounded-2xl font-medium shadow-sm flex items-center justify-center gap-2",children:[s.jsx(ql,{className:"w-4 h-4"}),s.jsx("span",{children:"Retake"})]}),s.jsxs(O.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.6},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{},className:"flex-1 bg-white/90 backdrop-blur-xl border border-white/40 text-[#091A7A] py-3 rounded-2xl font-medium shadow-sm flex items-center justify-center gap-2",children:[s.jsx(E6,{className:"w-4 h-4"}),s.jsx("span",{children:"Share"})]}),s.jsx(O.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.7},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-4 bg-white/90 backdrop-blur-xl border border-white/40 text-[#091A7A] py-3 rounded-2xl font-medium shadow-sm",children:"Home"})]})]})]})]})}const rV=[{icon:hS,text:"  ?",category:"",prompt:"      ,    :"},{icon:GR,text:"   ?",category:"",prompt:"         :"},{icon:iS,text:"   .",category:"",prompt:"        ,  :"},{icon:O6,text:"  ? ?",category:"",prompt:"    .  , ,      :"}],tm=3,sV=1500,iV=e=>new Promise(t=>setTimeout(t,e)),oV=e=>{if(!e)return"";const t=e.replace(/\r/g,"").replace(/\t/g," ").replace(/--([^-\n]+)--/g,"$1").replace(/#{1,3}\s*/g,"").replace(/---+/g,"").replace(/[*]/g,"-").trim();if(!t)return"";const n=new Set,r=[];let i=!1;const a=t.replace(/[ ]{2,}/g," ");for(const d of a.split(`
`)){const u=d.trim();if(!u){!i&&r.length>0&&(i=!0);continue}i&&(r.push(""),i=!1);const f=u.toLowerCase();n.has(f)||(n.add(f),r.push(u))}return r.join(`
`).replace(/\n{3,}/g,`

`).replace(/\n{2,}/g,`

`).trim()};function aV({onBack:e}){const[t,n]=g.useState(()=>{const _=localStorage.getItem("aiTutorMessages");return _?JSON.parse(_).map(I=>({...I,timestamp:new Date(I.timestamp)})):[{id:"1",text:"!   JEJEVOCA AI .         .     ,  !",isUser:!1,timestamp:new Date}]}),[r,i]=g.useState(""),[a,c]=g.useState(!1),d=g.useRef(null),[u,f]=g.useState(!1),[p,m]=g.useState(null);g.useEffect(()=>{localStorage.setItem("aiTutorMessages",JSON.stringify(t))},[t]),g.useEffect(()=>{const _=sessionStorage.getItem("tutorContext"),T=sessionStorage.getItem("tutorInitialQuestion");_&&T&&(sessionStorage.removeItem("tutorContext"),sessionStorage.removeItem("tutorInitialQuestion"),setTimeout(()=>{i(T),N(_)},500))},[]);const y=()=>{d.current?.scrollIntoView({behavior:"smooth"})};g.useEffect(()=>{y()},[t,a]);const v=async _=>{const I=[...t.filter(U=>!U.isLoading).map(U=>({role:U.isUser?"user":"model",parts:[{text:U.text}]})),{role:"user",parts:[{text:_}]}],M=`https://${Je}.supabase.co/functions/v1/server/ai-chat`;let F=null;for(let U=1;U<=tm;U++)try{const G=await fetch(M,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${En}`},body:JSON.stringify({conversationHistory:I})}),se=await G.text();let ae={};try{ae=se?JSON.parse(se):{}}catch(L){console.warn("API response is not JSON, falling back to text:",se,L),ae={message:se}}if(!G.ok)throw console.error("API Error Response:",ae),new Error(ae.error||ae.message||G.statusText||"API request failed");const oe=ae.message||ae.response||se||"",ee=oV(oe);return console.log("API Success Response:",ae),ee||oe||".     ."}catch(G){if(F=G instanceof Error?G:new Error(String(G)),console.warn(`Gemini request failed (attempt ${U}/${tm}):`,F),U<tm){await iV(sV);continue}return console.error("Gemini API Error:",F),".     .  . : "+F.message}return".     .  ."},w=_=>{if(m(_),_.category===""){const T={id:Date.now().toString(),text:_.text,isUser:!0,timestamp:new Date};n(I=>[...I,T]),E(_.prompt)}else f(!0),i("")},j=()=>{if(!r.trim()||!p)return;const _={id:Date.now().toString(),text:`${p.text}
: "${r}"`,isUser:!0,timestamp:new Date};n(I=>[...I,_]);const T=`${p.prompt} "${r}"`;E(T),i(""),f(!1),m(null)},S=()=>{const _={id:"1",text:"!   JEJEVOCA AI .         .     ,  !",isUser:!1,timestamp:new Date};n([_]),localStorage.setItem("aiTutorMessages",JSON.stringify([_])),pe.info("  .")},N=async _=>{const T=_||r;if(!T.trim())return;const I={id:Date.now().toString(),text:_?r:T,isUser:!0,timestamp:new Date};n(F=>[...F,I]);const M=_||r;_||i(""),E(M)},E=async _=>{c(!0);const T={id:"loading-"+Date.now(),text:" ...",isUser:!1,timestamp:new Date,isLoading:!0};n(F=>[...F,T]);const I=await v(_);n(F=>F.filter(U=>!U.isLoading));const M={id:Date.now().toString(),text:I,isUser:!1,timestamp:new Date};n(F=>[...F,M]),c(!1)},C=()=>s.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex justify-start",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#C4B5FD] to-[#A78BFA] flex items-center justify-center",children:s.jsx(Cm,{className:"w-4 h-4 text-[#491B6D]"})}),s.jsx("div",{className:"bg-white/80 border border-white/60 rounded-2xl rounded-tl-md p-4",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(O.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:0},className:"w-2 h-2 bg-[#491B6D]/60 rounded-full"}),s.jsx(O.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:.2},className:"w-2 h-2 bg-[#491B6D]/60 rounded-full"}),s.jsx(O.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:.4},className:"w-2 h-2 bg-[#491B6D]/60 rounded-full"})]})})]})});return s.jsxs("div",{className:"h-full flex flex-col bg-transparent",children:[s.jsx("div",{className:"relative overflow-hidden",style:{background:"transparent"},children:s.jsxs("div",{className:"flex items-center justify-between p-6 backdrop-blur-xl border-b border-white/20",children:[s.jsx(Or,{onClick:e}),s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-lg",style:{fontWeight:700,color:"#091A7A"},children:"JEJEVOCA AI "}),s.jsx("p",{className:"text-xs",style:{color:"#6B7280"},children:"    "})]}),s.jsx(O.button,{whileTap:{scale:.95},onClick:S,className:"w-11 h-11 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/40",style:{minWidth:"44px",minHeight:"44px"},children:s.jsx(ql,{className:"w-5 h-5 text-[#491B6D]"})})]})}),s.jsx(ut,{children:t.length===1&&!u&&s.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-6 space-y-4",children:[s.jsx("div",{className:"text-center space-y-2",children:s.jsx("p",{className:"text-sm",style:{fontWeight:600,color:"#491B6D"},children:"  ?"})}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:rV.map((_,T)=>s.jsxs(O.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:T*.1},whileTap:{scale:.95},onClick:()=>w(_),className:"p-4 bg-white/80 backdrop-blur-sm rounded-2xl border border-[#A78BFA]/30 shadow-md active:shadow-lg transition-all duration-300 flex flex-col items-center justify-center text-center",children:[s.jsx(_.icon,{className:"w-6 h-6 mb-2",style:{color:"#8B5CF6"}}),s.jsx("p",{className:"text-xs mb-2",style:{fontWeight:600,color:"#491B6D"},children:_.text}),s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"rgba(139, 92, 246, 0.15)",color:"#8B5CF6"},children:_.category})]},T))})]})}),s.jsx(ut,{children:u&&p&&s.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"rgba(0, 0, 0, 0.7)"},onClick:()=>{f(!1),m(null),i("")},children:s.jsxs(O.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.15},onClick:_=>_.stopPropagation(),className:"bg-white rounded-2xl p-6 border border-[#A78BFA]/30 shadow-2xl w-full max-w-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(p.icon,{className:"w-6 h-6",style:{color:"#8B5CF6"}}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm",style:{fontWeight:700,color:"#491B6D"},children:p.category}),s.jsx("p",{className:"text-xs",style:{color:"#8B5CF6"},children:p.text})]})]}),s.jsx("input",{type:"text",value:r,onChange:_=>i(_.target.value),onKeyPress:_=>_.key==="Enter"&&j(),placeholder:"  (: ambiguous)",className:"w-full p-3 mb-3 bg-white border-2 rounded-xl focus:outline-none focus:ring-2",style:{borderColor:"#C4B5FD",color:"#491B6D"},autoFocus:!0}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(O.button,{whileTap:{scale:.95},onClick:()=>{f(!1),m(null),i("")},className:"px-5 py-2 rounded-lg",style:{backgroundColor:"#F3F4F6",color:"#6B7280",fontWeight:600,fontSize:"14px"},children:""}),s.jsx(O.button,{whileTap:{scale:.95},onClick:j,disabled:!r.trim(),className:"px-5 py-2 rounded-lg text-white",style:{backgroundColor:r.trim()?"#8B5CF6":"#D1D5DB",fontWeight:600,fontSize:"14px"},children:""})]})]})})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 scrollbar-hide",children:[t.map((_,T)=>s.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:T*.05},className:`flex ${_.isUser?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[85%] ${_.isUser?"order-1":"order-2"}`,children:s.jsxs("div",{className:`flex items-start gap-3 ${_.isUser?"flex-row-reverse":"flex-row"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${_.isUser?"bg-[#491B6D]":"bg-gradient-to-br from-[#C4B5FD] to-[#A78BFA]"}`,children:_.isUser?s.jsx(gS,{className:"w-4 h-4 text-white"}):s.jsx(Cm,{className:"w-4 h-4 text-[#491B6D]"})}),s.jsxs("div",{className:`p-4 rounded-2xl shadow-sm ${_.isUser?"bg-[#491B6D] text-white rounded-tr-md":"bg-white/90 rounded-tl-md border border-white/60"}`,style:_.isUser?{}:{color:"#491B6D"},children:[s.jsx("div",{className:"space-y-2",children:_.isUser?s.jsx("div",{className:"text-[12px] whitespace-pre-wrap leading-relaxed",children:_.text}):Vo(_.text)}),s.jsx("div",{className:`text-xs mt-2 ${_.isUser?"text-white/70":"opacity-50"}`,children:_.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})})},_.id)),s.jsx(ut,{children:a&&s.jsx(C,{})}),s.jsx("div",{ref:d})]}),s.jsxs("div",{className:"bg-white/90 backdrop-blur-sm border-t border-white/30 px-[20px] py-[16px]",children:[s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsx("div",{className:"flex-1 relative",children:s.jsx("input",{type:"text",value:r,onChange:_=>i(_.target.value),onKeyPress:_=>_.key==="Enter"&&!_.shiftKey&&N(),placeholder:" ...",className:"w-full p-4 pr-12 bg-white border-2 rounded-2xl focus:outline-none focus:ring-2 transition-all duration-200 text-sm",style:{borderColor:"#C4B5FD",color:"#491B6D"},disabled:a||u})}),s.jsx(O.button,{whileTap:{scale:.95},onClick:N,disabled:!r.trim()||a||u,className:`w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg transition-all duration-200 ${r.trim()&&!a&&!u?"bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED] text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:s.jsx(N6,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs mt-2 text-center",style:{color:"#8B5CF6",opacity:.6},children:"AI   .   ."})]})]})}const lV={application_end:"#f43f5e",exam_date:"#2563eb",result_date:"#22c55e"};function MC({onBack:e}){const t=g.useMemo(()=>Yn(),[]),[n,r]=g.useState(null),[i,a]=g.useState(""),[c,d]=g.useState([]),[u,f]=g.useState([]),[p,m]=g.useState(new Date),[y,v]=g.useState(new Date),[w,j]=g.useState([]),[S,N]=g.useState(!0),[E,C]=g.useState(""),[_,T]=g.useState([]);g.useEffect(()=>{t.auth.getUser().then(({data:R})=>{r(R.user?.id||null)})},[]);const I=async()=>{if(!n)return;N(!0);const{data:R}=await t.from("student_applications").select("id,status,universities(name,application_start,application_end,exam_date,result_date),departments(name)").eq("student_id",n),q=R?.map(B=>({id:B.id,status:B.status,university_name:B.universities?.name,department_name:B.departments?.name,...B.universities}))||[];f(q),N(!1)};g.useEffect(()=>{I()},[n]),g.useEffect(()=>{const R=[];u.forEach(q=>{["application_end","exam_date","result_date"].forEach(B=>{const W=q?.[B];W&&R.push({id:`${q.id}-${B}`,title:q.university_name||"",subtitle:{application_end:" ",exam_date:"",result_date:""}[B],date:W,color:lV[B],status:q.status})})}),j(R)},[u]);const M=async()=>{const{data:R}=await t.functions.invoke("admission-manager",{body:{action:"search-departments",payload:{keyword:i}}});d(R||[])},F=async R=>{if(!n){alert(" .");return}await t.from("student_applications").upsert({student_id:n,university_id:R.university_id,department_id:R.department_id,status:""}),I(),alert(`${R.university_name} ${R.department_name}   !`)},U=async()=>{const{data:R}=await t.functions.invoke("admission-manager",{body:{action:"search-departments",payload:{keyword:E}}});T(R||[])},G=p.getFullYear(),se=p.getMonth(),ae=new Date(G,se,1).getDay(),oe=new Date(G,se+1,0).getDate(),ee=Array.from({length:ae},(R,q)=>q),L=Array.from({length:oe},(R,q)=>q+1),$=w.reduce((R,q)=>{const B=q.date;return R[B]||(R[B]=[]),R[B].push(q),R},{}),D=y.toISOString().slice(0,10),P=$[D]||[];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#FDF2F8] via-[#F5F3FF] to-[#E0F2FE] py-10",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 space-y-8",children:[s.jsx("div",{className:"flex items-center justify-between",children:e?s.jsxs("button",{onClick:e,className:"flex items-center gap-2 rounded-full bg-white/90 border border-white/70 shadow-lg px-4 py-2 text-sm font-semibold text-[#7c3aed]",style:{boxShadow:"0 12px 32px rgba(124,58,237,0.15)"},children:[s.jsx(gs,{className:"w-4 h-4"}),""]}):s.jsx("div",{})}),s.jsxs("header",{className:"text-center space-y-3",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-[#7c3aed]",children:"Student Planner"}),s.jsx("h1",{className:"text-3xl font-black text-[#1e1b4b]",children:"   "}),s.jsx("p",{className:"text-gray-600 text-sm",children:"      ."})]}),s.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("input",{className:"flex-1 rounded-3xl border border-gray-100 bg-gray-50 px-5 py-3 shadow-inner text-sm focus:outline-none focus:ring-2 focus:ring-[#7c3aed]",placeholder:"   ",value:i,onChange:R=>a(R.target.value)}),s.jsx("button",{className:"rounded-3xl px-6 py-3 bg-[#7c3aed] text-white font-semibold shadow-lg shadow-purple-200",onClick:M,children:""})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.map(R=>s.jsxs("div",{className:"border rounded-3xl p-4 bg-white/95 shadow",children:[s.jsx("p",{className:"text-xs text-[#7c3aed] uppercase tracking-[0.2em]",children:R.university_name}),s.jsx("h3",{className:"text-xl font-bold text-[#1e1b4b]",children:R.department_name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[" ",R.quota||"-"," /  ",R.competition_rate||"-"]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-2 space-y-1",children:[s.jsxs("p",{children:[": ",R.application_start||"-"," ~ ",R.application_end||"-"]}),s.jsxs("p",{children:[": ",R.exam_date||"-"]}),s.jsxs("p",{children:[": ",R.result_date||"-"]})]}),s.jsx("button",{className:"admission-button-primary mt-3 rounded-2xl bg-[#7c3aed] px-4 py-2 text-white",onClick:()=>F(R),children:" "})]},R.department_id)),!c.length&&s.jsx("p",{className:"text-center text-gray-500 col-span-full",children:"  ."})]})]}),s.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"admission-section-title",children:"  Calendar"}),s.jsx("p",{className:"text-sm text-gray-500",children:"        ."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"w-10 h-10 rounded-full bg-[#f3e8ff] text-[#7c3aed] flex items-center justify-center shadow-inner",onClick:()=>m(new Date(p.getFullYear(),p.getMonth()-1,1)),children:""}),s.jsx("button",{className:"w-10 h-10 rounded-full bg-[#f3e8ff] text-[#7c3aed] flex items-center justify-center shadow-inner",onClick:()=>m(new Date(p.getFullYear(),p.getMonth()+1,1)),children:""})]})]}),s.jsxs("div",{className:"text-center font-semibold text-lg text-[#4c1d95]",children:[p.getFullYear()," ",p.getMonth()+1,""]}),s.jsx("div",{className:"grid grid-cols-7 text-center text-sm text-gray-400",children:["","","","","","",""].map(R=>s.jsx("div",{className:R===""?"text-rose-400":R===""?"text-blue-500":"",children:R},R))}),s.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:[ee.map(R=>s.jsx("div",{},`blank-${R}`)),L.map(R=>{const q=new Date(G,se,R),B=q.toISOString().slice(0,10),W=D===B,z=$[B]?.length;return s.jsxs("button",{onClick:()=>v(q),className:`relative mx-auto flex h-11 w-11 items-center justify-center rounded-full font-semibold transition-all ${W?"bg-white text-[#7c3aed] border-2 border-[#7c3aed] shadow-lg":"text-[#1e1b4b]"}`,children:[R,z&&!W&&s.jsx("span",{className:"absolute bottom-0 h-1.5 w-1.5 rounded-full",style:{background:$[B][0].color}})]},R)})]}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("p",{className:"text-sm font-semibold text-[#4c1d95] flex items-center gap-2",children:[s.jsx(Ul,{className:"w-4 h-4"}),"   "]}),P.length?P.map(R=>s.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-[#ede9fe] bg-[#f9f5ff] px-4 py-3 shadow-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#7c3aed] font-semibold",children:R.title}),s.jsx("p",{className:"text-xs text-gray-500",children:R.subtitle})]}),s.jsx("span",{className:"text-xs font-semibold",style:{color:R.color},children:R.subtitle})]},R.id)):s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"   ."})]})]}),s.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"admission-section-title",children:"   "}),s.jsx("p",{className:"text-sm text-gray-500",children:"     /  /   ."})]})}),s.jsxs("div",{className:"space-y-3",children:[u.map(R=>s.jsxs("div",{className:"rounded-3xl border border-[#f1e7ff] bg-white px-4 py-3 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-[#4c1d95]",children:R.university_name}),s.jsx("p",{className:"text-sm text-gray-500",children:R.department_name||" "}),s.jsxs("p",{className:"text-xs text-gray-400",children:[": ",R.application_end||"-","  : ",R.exam_date||"-","  : ",R.result_date||"-"]})]}),s.jsx("span",{className:"text-xs font-semibold px-3 py-1 rounded-full bg-[#f5f0ff] text-[#7c3aed]",children:R.status})]},R.id)),!u.length&&s.jsx("p",{className:"text-sm text-center text-gray-500",children:"   ."})]})]}),s.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"admission-section-title",children:" "}),s.jsx("p",{className:"text-sm text-gray-500",children:"         ."})]}),s.jsxs("div",{className:"flex gap-2 flex-1",children:[s.jsx("input",{className:"flex-1 rounded-3xl border border-gray-100 bg-gray-50 px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-[#7c3aed]",value:E,onChange:R=>C(R.target.value)}),s.jsx("button",{className:"rounded-3xl px-6 py-3 bg-[#7c3aed] text-white font-semibold shadow-lg shadow-purple-200",onClick:U,children:""})]})]}),s.jsxs("div",{className:"overflow-auto",children:[s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-xs uppercase tracking-widest text-gray-500",children:[s.jsx("th",{className:"py-2",children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:_.map(R=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-2 font-semibold",children:R.university_name}),s.jsx("td",{children:R.department_name}),s.jsx("td",{children:R.quota||"-"}),s.jsx("td",{children:R.competition_rate||"-"}),s.jsxs("td",{className:"text-xs",children:[R.application_start||"-"," ~ ",R.application_end||"-"]}),s.jsx("td",{children:R.exam_date||"-"}),s.jsx("td",{children:R.result_date||"-"})]},R.department_id))})]}),!_.length&&s.jsx("p",{className:"text-center text-gray-500 py-6",children:"  ."})]})]})]})})}var cV=(e,t,n,r,i,a,c,d)=>{let u=document.documentElement,f=["light","dark"];function p(v){(Array.isArray(e)?e:[e]).forEach(w=>{let j=w==="class",S=j&&a?i.map(N=>a[N]||N):i;j?(u.classList.remove(...S),u.classList.add(a&&a[v]?a[v]:v)):u.setAttribute(w,v)}),m(v)}function m(v){d&&f.includes(v)&&(u.style.colorScheme=v)}function y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)p(r);else try{let v=localStorage.getItem(t)||n,w=c&&v==="system"?y():v;p(w)}catch{}},dV=g.createContext(void 0),uV={setTheme:e=>{},themes:[]},hV=()=>{var e;return(e=g.useContext(dV))!=null?e:uV};g.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:c,themes:d,nonce:u,scriptProps:f})=>{let p=JSON.stringify([n,t,a,e,d,c,r,i]).slice(1,-1);return g.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${cV.toString()})(${p})`}})});const fV=({...e})=>{const{theme:t="system"}=hV();return s.jsx(bM,{theme:"light",className:"toaster group",toastOptions:{style:{background:"white",color:"#491B6D",border:"1px solid #E5E7EB",borderRadius:"16px",padding:"16px",fontSize:"14px",fontWeight:500,boxShadow:"0 10px 40px rgba(73, 27, 109, 0.1)"},className:"toast-custom",classNames:{success:"success-toast",error:"error-toast",warning:"warning-toast",info:"info-toast"}},style:{"--normal-bg":"white","--normal-text":"#491B6D","--normal-border":"#E5E7EB","--success-bg":"white","--success-text":"#166534","--success-border":"#E5E7EB","--error-bg":"white","--error-text":"#991B1B","--error-border":"#E5E7EB","--info-bg":"white","--info-text":"#1E40AF","--info-border":"#E5E7EB","--warning-bg":"white","--warning-text":"#92400E","--warning-border":"#E5E7EB"},...e})},LC={login:"/login",signup:"/signup",home:"/",quiz:"/quiz","game-map-quiz":"/game-map-quiz","quiz-completion":"/quiz-completion",ai:"/ai","ai-tutor":"/ai-tutor",profile:"/profile","subject-detail":"/subject-detail",videos:"/videos","vocabulary-list":"/vocabulary-list","lesson-player":"/lesson-player","text-extractor":"/text-extractor","word-list":"/word-list",flashcard:"/flashcard",gift:"/gift","word-selection":"/word-selection","vocabulary-creator":"/vocabulary-creator","full-calendar":"/full-calendar",calendar:"/calendar","zombie-game":"/zombie-game"},z0=Object.entries(LC).reduce((e,[t,n])=>(e[n]=t,e),{});z0["/home"]="home";z0[""]="home";function pV(){const e=Ql(),t=fW(e.getAuthToken),{saveStatus:n,showIndicator:r,triggerSave:i}=e9(),a=c2(),c=Zs(),d=g.useMemo(()=>{let ce=c.pathname;return ce.length>1&&ce.endsWith("/")&&(ce=ce.replace(/\/+$/,"")),z0[ce]??"home"},[c.pathname]),[u,f]=g.useState(null),[p,m]=g.useState(null),[y,v]=g.useState(null),[w,j]=g.useState(!1),[S,N]=g.useState([]),[E,C]=g.useState(null),[_,T]=g.useState(""),[I,M]=g.useState(null),[F,U]=g.useState(5500),[G,se]=g.useState({xpGained:0,completionTime:"0:00",accuracy:0,totalQuestions:0,correctAnswers:0,stageName:""}),[ae,oe]=g.useState(40),[ee,L]=g.useState(2),[$,D]=g.useState(!1),[P,R]=g.useState(0),[q,B]=g.useState(!1),[W,z]=g.useState({type:"xp-gain",title:"",subtitle:"",xpGain:0}),[X,H]=g.useState(!1),[Z,Q]=g.useState(Pi.calculateLevel(5500)),[te,he]=g.useState([]),[le,Ne]=g.useState([]),[ke,tt]=g.useState(!1),[nt,We]=g.useState({name:" ",date:new Date(2025,8,15),color:"#8B5CF6"}),[wt,fe]=g.useState(!1),[ye,Ae]=g.useState(!1),xe=g.useRef({}),Qe=g.useRef({}),at=async(ce,Se)=>{const Pe=e.getAuthToken();if(!Pe)throw new Error("  .");const rt=ce==="starred"||ce==="graveyard"||ce==="wrong-answers";let Ge=rt?`https://${Je}.supabase.co/functions/v1/server/${ce}`:`https://${Je}.supabase.co/functions/v1/server/user-vocabularies/${ce}`;Se&&!rt&&(Ge+=`?unit=${Se}`);const He=await fetch(Ge,{headers:{Authorization:`Bearer ${Pe}`}});if(!He.ok)throw new Error(`Failed to load ${ce} words`);return(await He.json()).words||[]},Tt="https://images.unsplash.com/photo-1743247299142-8f1c919776c4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHwzZCUyMGNoYXJhY3RlciUyMGxlYXJuaW5nJTIwaWxsdXN0cmF0aW9ufGVufDF8fHx8MTc1NzQzMTU5MHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",Ze=g.useCallback((ce,Se)=>{const Pe=LC[ce];Pe&&(console.log("[Navigate] Going to screen:",ce,Pe),a(Pe,{replace:Se?.replace}))},[a]),pt=g.useCallback(()=>{typeof window<"u"&&window.history.length>1?a(-1):Ze("home",{replace:!0})},[a,Ze]),lt=(ce,Se,Pe)=>{const rt=Pe?`${ce}-unit-${Pe}`:ce,Ge=xe.current[rt];Ge?(N(Ge),j(!1)):j(!0),v({id:ce,title:Se,unitNumber:Pe})},K=g.useCallback(async()=>{if(console.log("[App] refreshCurrentVocabulary called, selectedVocabulary:",y),!y?.id){console.log("[App] No selectedVocabulary.id, skipping refresh");return}const ce=y.unitNumber?`${y.id}-unit-${y.unitNumber}`:y.id;console.log("[App] Invalidating cache for key:",ce),delete xe.current[ce];try{j(!0),console.log("[App] Fetching fresh vocabulary data...");const Se=await at(y.id,y.unitNumber);console.log(`[App] Fetched ${Se.length} words`),xe.current[ce]=Se,N(Se),console.log("[App] vocabularyWords state updated")}catch(Se){console.error("[App] Error refreshing vocabulary:",Se)}finally{j(!1)}},[y?.id,y?.unitNumber]),Ce=ce=>{f(ce),ce.id==="starred"||ce.id==="graveyard"||ce.id==="wrong-answers"?(lt(ce.id,ce.name),Ze("word-list")):Ze("subject-detail")},we=()=>{f(null),m(null),Ze("home",{replace:!0})};g.useEffect(()=>{d==="home"&&(f(null),m(null))},[d]);const $e=ce=>{const Se=F,Pe=Se+ce;R(ce),D(!0),U(Pe);const rt=Pi.calculateLevel(Pe);Q(rt),Pi.checkForLevelUp(Se,Pe)?(z({type:"level-up",title:`Level ${rt.currentLevel}!`,subtitle:"You leveled up! Keep going!",xpGain:ce}),B(!0)):(H(!0),setTimeout(()=>H(!1),2e3),ce>=25&&(z({type:"xp-gain",title:"Excellent Work!",subtitle:"You earned bonus XP!",xpGain:ce}),B(!0))),ct()},et=ce=>{m(ce),Ze("lesson-player")},dt=ce=>{se(ce),L(ht=>ht+1);const Se=Math.min(100,ae+(ce.accuracy>=50?20:10));oe(Se);const Pe=F,rt=Pe+ce.xpGained;R(ce.xpGained),D(!0),U(rt);const Ge=Pi.calculateLevel(rt);Q(Ge);const He=Pi.checkForLevelUp(Pe,rt);setTimeout(()=>{z(He?{type:"level-up",title:`Level ${Ge.currentLevel}!`,subtitle:"Quiz completed with a level up!",xpGain:ce.xpGained}:{type:"quiz-complete",title:"Quiz Completed!",subtitle:`${ce.correctAnswers}/${ce.totalQuestions} correct  ${ce.accuracy}% accuracy`,xpGain:ce.xpGained}),B(!0)},1e3),ct(),Ze("quiz-completion")},un=()=>{D(!1),R(0)},qt=()=>{B(!1)},Xn=ce=>{U(ce.userXP),oe(ce.currentProgress),L(ce.totalQuizzesCompleted),Q(ce.levelProgress),he(ce.completedStages),Ne(ce.achievements),console.log(" Progress loaded:",ce)},ct=()=>{i()},Sn=()=>{Ze("game-map-quiz")},Ln=()=>{we()},kt=(ce,Se)=>{console.log(" Signup complete! User:",ce.id),e.login(ce,Se),Ze("home"),setTimeout(()=>{console.log(" Loading word lists after login..."),t.loadWordLists()},100)},mr=()=>{tt(!0)},Xt=()=>{tt(!1)},mt=()=>{confirm("  ?")&&(e.logout(),t.resetStore&&t.resetStore(),U(0),he([]),Ze("login",{replace:!0}),console.log(" Logged out successfully"))};g.useEffect(()=>{(async()=>{if(!y||!y.id){N([]),j(!1);return}const Se=y.unitNumber?`${y.id}-unit-${y.unitNumber}`:y.id,Pe=xe.current[Se];Pe?(N(Pe),j(!1)):j(!0);try{const rt=y.unitNumber?` Loading words for vocabulary: ${y.id} (Unit ${y.unitNumber})`:` Loading words for vocabulary: ${y.id}`;console.log(rt);const Ge=await at(y.id,y.unitNumber);console.log(` Loaded ${Ge.length} words for vocabulary`),xe.current[Se]=Ge,N(Ge)}catch(rt){console.error(" Error loading vocabulary words:",rt),N([])}finally{j(!1)}})()},[y?.id,y?.unitNumber]);const bt=g.useCallback(ce=>{e.isInitializing||!e.isAuthenticated||(delete xe.current[ce],!Qe.current[ce]&&(typeof navigator<"u"&&navigator&&"onLine"in navigator&&!navigator.onLine||(Qe.current[ce]=new Promise(Se=>{setTimeout(async()=>{try{const Pe=await at(ce);xe.current[ce]=Pe,y?.id===ce&&(N(Pe),j(!1))}catch(Pe){console.warn(`[Prefetch] Failed to refresh ${ce}:`,Pe)}finally{Qe.current[ce]=null,Se()}},200)}))))},[y?.id,e.isAuthenticated,e.isInitializing]);g.useEffect(()=>{e.isAuthenticated&&bt("starred")},[t.starredWords,bt,e.isAuthenticated]),g.useEffect(()=>{e.isAuthenticated&&bt("graveyard")},[t.graveyardWords,bt,e.isAuthenticated]),g.useEffect(()=>{e.isAuthenticated&&bt("wrong-answers")},[t.wrongAnswersWords,bt,e.isAuthenticated]),g.useEffect(()=>{e.isInitializing||(e.isAuthenticated?(d==="login"||d==="signup")&&Ze("home",{replace:!0}):d!=="login"&&d!=="signup"&&Ze("login",{replace:!0}))},[e.isAuthenticated,e.isInitializing,d,Ze]),g.useEffect(()=>{e.isAuthenticated&&!e.isInitializing&&(console.log(" App mounted with authenticated user, loading word lists..."),setTimeout(()=>{t.loadWordLists()},200))},[e.isAuthenticated,e.isInitializing]);const Re=()=>{if(e.isInitializing)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});switch(d){case"login":return s.jsx(t9,{onLoginComplete:kt,onGoToSignup:()=>Ze("signup")});case"signup":return s.jsx(n9,{onBack:()=>Ze("login"),onSignupComplete:kt});case"home":return s.jsxs("div",{className:"space-y-6",children:[s.jsx(pW,{profileImage:rg,userXP:F,recentXPGain:P,showXPAnimation:$,onXPAnimationComplete:un,levelProgress:Z,onAdminAccess:mr,ddayInfo:nt,onDdayClick:()=>fe(!0),onLogout:mt,userName:e.currentUser?.user_metadata?.name||e.currentUser?.email?.split("@")[0]}),s.jsx(wW,{onSubjectClick:Ce,starredCount:t.starredWords.length,graveyardCount:t.graveyardWords.length,wrongAnswersCount:t.wrongAnswersWords.length}),s.jsx("div",{className:"px-6",children:s.jsx(SW,{illustrationImage:Tt,onStartQuiz:()=>Ze("vocabulary-list"),currentProgress:ae,totalQuizzesCompleted:ee})}),s.jsx("div",{className:"px-6",children:s.jsx(NW,{onClick:()=>Ze("calendar")})}),s.jsx("div",{className:"px-6 pb-4 pt-3",children:s.jsx("div",{className:"text-center text-gray-600",style:{fontSize:"11px"},children:" JEJETRANSFER. All rights reserved.  Made by "})})]});case"quiz":return s.jsx(_W,{onBack:pt,onXPGain:$e});case"game-map-quiz":return s.jsx(X1,{onBack:pt,onBackToHome:we,onXPGain:$e,userXP:F,selectedSubject:u,vocabularyTitle:y?.title,vocabularyWords:S,onQuizCompletion:dt,onWrongAnswer:t.addWrongAnswer,starredWordIds:t.starredWords,graveyardWordIds:t.graveyardWords,wrongAnswersWordIds:t.wrongAnswersWords,onAddToStarred:t.toggleStarred,onMoveToGraveyard:t.moveToGraveyard,onDeletePermanently:t.deletePermanently,getAuthToken:e.getAuthToken,onRefreshVocabulary:K,vocabularyId:y?.id,isLoading:w});case"quiz-completion":return s.jsx(nV,{onBack:pt,onRetakeQuiz:Sn,onNextChallenge:Ln,userXP:F,xpGained:G.xpGained,completionTime:G.completionTime,accuracy:G.accuracy,totalQuestions:G.totalQuestions,correctAnswers:G.correctAnswers,stageName:G.stageName});case"ai":case"ai-tutor":return s.jsx(aV,{onBack:pt});case"profile":return s.jsx(W$,{onBack:pt,userXP:F,profileImage:rg,levelProgress:Z});case"videos":return s.jsx(K$,{onBack:pt,getAuthToken:e.getAuthToken});case"vocabulary-list":return s.jsx(nC,{onBack:pt,onBackToHome:we,onSelectVocabulary:(ce,Se,Pe)=>{lt(ce,Se,Pe),f({id:ce,name:Se,description:"",progress:0,icon:null,color:"#491B6D"}),Ze("game-map-quiz")},onStartFlashcards:(ce,Se,Pe)=>{lt(ce,Se,Pe),f({id:ce,name:Se,description:"",progress:0,icon:null,color:"#491B6D"}),Ze("flashcard")},getAuthToken:e.getAuthToken},Date.now());case"subject-detail":return u?s.jsx(q$,{subject:u,onBack:pt,onStartQuiz:()=>Ze("game-map-quiz"),onLessonClick:et}):null;case"lesson-player":return s.jsx(Y$,{onBack:pt,onTakeQuiz:()=>Ze("game-map-quiz"),lessonTitle:p||"Introduction to Algebra"});case"text-extractor":return s.jsx(w9,{onBack:pt,onNavigateToTutor:(ce,Se)=>{sessionStorage.setItem("tutorContext",Se),sessionStorage.setItem("tutorInitialQuestion",ce),Ze("ai-tutor")}});case"word-list":return u?t.isLoading&&(u.id==="starred"||u.id==="graveyard"||u.id==="wrong-answers")?s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin"}),s.jsx("p",{className:"text-sm font-medium text-purple-600",children:"  ..."})]})}):u.id==="starred"?s.jsx(X1,{onBack:pt,onBackToHome:we,onXPGain:$e,userXP:F,selectedSubject:u,vocabularyTitle:u.name,onQuizCompletion:dt,onWrongAnswer:t.addWrongAnswer,starredWordIds:t.starredWords,graveyardWordIds:t.graveyardWords,wrongAnswersWordIds:t.wrongAnswersWords,onAddToStarred:t.toggleStarred,onMoveToGraveyard:t.moveToGraveyard,onDeletePermanently:t.deletePermanently,getAuthToken:e.getAuthToken,onRefreshVocabulary:K,vocabularyId:y?.id,isLoading:w}):u.id==="graveyard"||u.id==="wrong-answers"?s.jsx(Nu,{onBack:pt,onBackToHome:we,vocabularyTitle:u.name,unitName:u.id==="graveyard"?"Graveyard Collection":"Wrong Answers Collection",vocabularyWords:S,filterType:u.id==="graveyard"?"graveyard":"wrong-answers",starredWordIds:t.starredWords,graveyardWordIds:t.graveyardWords,wrongAnswersWordIds:t.wrongAnswersWords,isLoading:w,vocabularyId:y?.id,onAddToStarred:t.toggleStarred,onMoveToGraveyard:t.moveToGraveyard,onDeletePermanently:t.deletePermanently,onStartFlashcards:()=>Ze("flashcard"),onRefreshVocabulary:K}):s.jsx(Nu,{onBack:pt,onBackToHome:we,vocabularyTitle:u.name,unitName:y?.unitNumber?`Unit ${y.unitNumber}`:"Unit 1",vocabularyWords:S,filterType:"all",starredWordIds:t.starredWords,graveyardWordIds:t.graveyardWords,wrongAnswersWordIds:t.wrongAnswersWords,isLoading:w,vocabularyId:y?.id,onAddToStarred:t.toggleStarred,onMoveToGraveyard:t.moveToGraveyard,onDeletePermanently:t.deletePermanently,onStartFlashcards:()=>{console.log("[App] onStartFlashcards called, navigating to flashcard"),Ze("flashcard")},onRefreshVocabulary:K}):null;case"flashcard":return s.jsx(aC,{onBack:pt,onBackToHome:we,vocabularyWords:S,starredWordIds:t.starredWords,graveyardWordIds:t.graveyardWords,onAddToStarred:t.toggleStarred,onMoveToGraveyard:t.moveToGraveyard,vocabularyId:y?.id,vocabularyTitle:y?.title,onRefreshVocabulary:K});case"zombie-game":return s.jsx(oC,{vocabularyWords:S,onBack:pt,onBackToHome:we});case"gift":return s.jsx(B9,{onBack:pt,onSelectVocabulary:async ce=>{console.log(" Adding shared vocabulary:",ce.title);try{const Ge=((await(await fetch(`https://${Je}.supabase.co/functions/v1/server/shared-vocabulary/${ce.id}/words`,{headers:{Authorization:`Bearer ${En}`}})).json()).words||[]).map(it=>it.id);console.log(` Adding ${Ge.length} words...`);const He=await fetch(`https://${Je}.supabase.co/functions/v1/server/user-vocabularies/add-shared`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.getAuthToken()}`},body:JSON.stringify({sharedVocabularyId:ce.id,selectedWordIds:Ge})}),ht=await He.json();if(!He.ok)throw console.error(" Server error:",He.status,ht),new Error(ht.error||`Server error: ${He.status}`);if(ht.vocabulary)console.log(" Successfully added vocabulary to user collection"),Dl(),await t.refreshMyVocabularies(),alert(`"${ce.title}"  ! (${Ge.length} )`);else throw new Error(ht.error||"Failed to add vocabulary")}catch(Se){console.error(" Error adding vocabulary:",Se),alert(`  : ${Se instanceof Error?Se.message:"   "}`)}}});case"word-selection":return E?s.jsx(sC,{vocabularyId:E.id,vocabularyName:E.title,totalWords:E.total_words||0,onBack:pt,onComplete:async(ce,Se)=>{try{console.log(" Adding shared vocabulary to user collection..."),console.log("Selected words:",ce.length),console.log("Words per unit:",Se);const He=((await(await fetch(`https://${Je}.supabase.co/functions/v1/server/shared-vocabulary/${E.id}/words`,{headers:{Authorization:`Bearer ${En}`}})).json()).words||[]).filter(yt=>ce.includes(yt.id)),ht=await fetch(`https://${Je}.supabase.co/functions/v1/server/user-vocabularies/add-shared`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.getAuthToken()}`},body:JSON.stringify({sharedVocabularyId:E.id,title:E.title,description:E.description||"",wordsPerUnit:Se,selectedWordIds:ce})}),it=await ht.json();if(console.log(" Add shared vocabulary response:",it),!ht.ok)throw console.error(" Server error:",ht.status,it),new Error(it.error||`Server error: ${ht.status}`);if(it.vocabulary)console.log(" Successfully added vocabulary to user collection"),Dl(),await t.refreshMyVocabularies(),alert(`"${E.title}"  ! (${He.length} , ${Math.ceil(He.length/Se)} )`);else throw new Error(it.error||"Failed to add vocabulary")}catch(Pe){console.error(" Error adding vocabulary:",Pe),alert(`  : ${Pe instanceof Error?Pe.message:"   "}`)}finally{C(null),we()}}}):null;case"vocabulary-creator":return s.jsx(L$,{onBack:pt,getAuthToken:e.getAuthToken,onNavigateToGift:()=>Ze("gift"),onSaveComplete:(ce,Se)=>{console.log(` Vocabulary created: ${ce}, navigating to WordList`),t.refreshMyVocabularies(),lt(ce,Se),f({id:ce,name:Se,description:"",progress:0,icon:null,color:"#491B6D"}),Ze("word-list")}});case"full-calendar":return s.jsx(Qz,{onBack:pt,onHomeClick:we});case"calendar":return s.jsx(MC,{onBack:pt});default:return null}};return s.jsxs("div",{className:"min-h-screen overflow-hidden flex flex-col",style:{background:d==="word-list"&&u?u.id==="starred"?"linear-gradient(to bottom, #FFFEF5, #FFFEF8, #FFFFF9)":u.id==="graveyard"?"linear-gradient(to bottom, #FCFCFC, #FAFAFA, #F9F9F9)":u.id==="wrong-answers"?"linear-gradient(to bottom, #FFFAFA, #FFFCFC, #FFF9F9)":"linear-gradient(to bottom, #D4C5FF, rgba(229, 217, 255, 0.95), white)":"linear-gradient(to bottom, #D4C5FF, rgba(229, 217, 255, 0.95), white)"},children:[ke&&s.jsx(Gz,{onClose:Xt}),s.jsx(Q$,{userXP:F,currentProgress:ae,totalQuizzesCompleted:ee,onProgressLoaded:Xn}),s.jsxs("div",{className:`flex-1 ${d==="word-list"?"overflow-hidden":"overflow-y-auto scrollbar-hide"} relative`,children:[d==="opening"?Re():s.jsxs(O.div,{className:d==="word-list"?"h-full":"",initial:{opacity:0,scale:d==="welcome"?.95:d==="home"?1:.98,y:d==="welcome"?20:d==="home"?0:15,filter:"blur(8px)"},animate:{opacity:1,scale:1,y:0,filter:"blur(0px)"},exit:{opacity:0,scale:.95,y:-15,filter:"blur(4px)"},transition:{duration:d==="welcome"?.8:.5,ease:d==="welcome"?[.23,1,.32,1]:"easeInOut",type:d==="welcome"?"spring":"tween",bounce:d==="welcome"?.25:0},children:[d==="welcome"&&s.jsxs(s.Fragment,{children:[s.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.2,ease:"easeOut"},className:"absolute inset-0 pointer-events-none",children:[...Array(12)].map((ce,Se)=>s.jsx(O.div,{initial:{x:Math.random()*400,y:Math.random()*800,opacity:0,scale:0},animate:{opacity:[0,.4,0],scale:[0,1,0],x:[Math.random()*400,Math.random()*400,Math.random()*400],y:[Math.random()*800,Math.random()*800+50,Math.random()*800+100]},transition:{duration:6,delay:Math.random()*2,repeat:1/0,ease:"easeInOut"},className:"absolute w-2 h-2 rounded-full",style:{background:"linear-gradient(45deg, #C8B6FF, #7C3AED)",filter:"blur(1px)"}},Se))}),s.jsx(O.div,{initial:{opacity:0},animate:{opacity:[0,.3,0],background:["radial-gradient(circle at 30% 20%, #C8B6FF 0%, transparent 50%)","radial-gradient(circle at 70% 60%, #7C3AED 0%, transparent 40%)","radial-gradient(circle at 20% 80%, #C8B6FF 0%, transparent 60%)"]},transition:{opacity:{duration:2,ease:"easeInOut"},background:{duration:8,repeat:1/0,ease:"easeInOut"}},className:"absolute inset-0 pointer-events-none"})]}),Re()]},d),s.jsx(X$,{show:q,type:W.type,title:W.title,subtitle:W.subtitle,xpGain:W.xpGain,onComplete:qt}),s.jsx(J$,{show:X,xpGain:P}),s.jsx(Z$,{show:r,status:n}),s.jsx("div",{className:d==="subject-detail"||d==="lesson-player"||d==="game-map-quiz"||d==="vocabulary-list"||d==="word-list"?"h-8":"h-28"})]}),d!=="login"&&d!=="signup"&&d!=="opening"&&d!=="welcome"&&d!=="subject-detail"&&d!=="lesson-player"&&d!=="game-map-quiz"&&d!=="vocabulary-list"&&d!=="word-list"&&d!=="quiz-completion"&&d!=="full-calendar"&&!E&&s.jsx(EW,{currentScreen:d,onScreenChange:ce=>{window.scrollTo({top:0,behavior:"instant"}),ce==="home"?we():Ze(ce)}}),s.jsx(fV,{position:"top-center",richColors:!0})]})}function xn({value:e,onChange:t,className:n="",style:r={},multiline:i=!1,isEditable:a=!1,children:c,inputWidth:d}){const[u,f]=g.useState(!1),[p,m]=g.useState(e),y=g.useRef(null);g.useEffect(()=>{m(e)},[e]),g.useEffect(()=>{u&&y.current&&(y.current.focus(),y.current.select())},[u]);const v=()=>{t(p),f(!1)},w=j=>{j.key==="Enter"&&!i?(j.preventDefault(),v()):j.key==="Escape"&&(m(e),f(!1))};if(!a)return s.jsx("span",{className:n,style:r,children:e});if(u){const j={ref:y,value:p,onChange:S=>m(S.target.value),onBlur:v,onKeyDown:w,className:`${n} border border-blue-400 bg-blue-50 outline-none`,style:{...r,width:d||"100%",minWidth:d?"auto":"200px",padding:"2px 4px"}};return i?s.jsx("textarea",{...j,rows:3}):s.jsx("input",{...j,type:"text"})}return s.jsx("span",{onClick:()=>f(!0),className:`${n} cursor-pointer hover:bg-blue-50 print:hover:bg-transparent print:cursor-default font-bold`,style:{...r,fontFamily:"SUIT, sans-serif"},title:" ",children:c||e})}const BC=({id:e,word:t,pronunciation:n,partOfSpeech:r,meaning:i,definition:a,synonyms:c,antonyms:d,derivatives:u,example:f,translation:p,translationHighlight:m,etymology:y,isEditable:v=!1,onUpdate:w})=>{const j=(N,E)=>{const C=N.toLowerCase(),_=E.toLowerCase(),T=C.indexOf(_);return T===-1?N:s.jsxs(s.Fragment,{children:[N.substring(0,T),s.jsx("span",{style:{fontWeight:"bold"},children:N.substring(T,T+E.length)}),N.substring(T+E.length)]})},S=(N,E)=>{if(!E)return N;const C=N.indexOf(E);return C===-1?N:s.jsxs(s.Fragment,{children:[N.substring(0,C),s.jsx("span",{style:{fontWeight:"bold"},children:E}),N.substring(C+E.length)]})};return s.jsx("div",{className:"vocabulary-card border border-gray-200/60 rounded-lg bg-white py-3 pl-4 pr-8 mb-3",style:{overflow:"visible",marginBottom:"12px",pageBreakInside:"avoid",breakInside:"avoid",WebkitColumnBreakInside:"avoid",display:"block"},children:s.jsxs("div",{style:{overflow:"visible"},children:[s.jsxs("div",{className:"grid gap-4 mb-3",style:{gridTemplateColumns:"28% 72%"},children:[s.jsxs("div",{children:[s.jsx("div",{className:"inline-block px-1.5 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-2",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(e).padStart(3,"0")})}),s.jsx("h2",{className:"text-black mb-0.5 tracking-tight",style:{fontSize:"22px",fontWeight:"bold"},children:v?s.jsx(xn,{value:t,onChange:N=>w?.(e,"word",N),isEditable:!0,className:"text-black tracking-tight",style:{fontSize:"22px",fontWeight:"bold"}}):t})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"mb-2",children:[s.jsxs("p",{className:"text-black leading-snug",style:{fontSize:"13px"},children:[s.jsx("span",{className:"text-gray-400 print:text-black",style:{fontSize:"10px",fontWeight:"bold"},children:v?s.jsx(xn,{value:r,onChange:N=>w?.(e,"partOfSpeech",N),isEditable:!0,className:"text-gray-400",style:{fontSize:"10px",fontWeight:"bold"}}):r})," ",v?s.jsx(xn,{value:i,onChange:N=>w?.(e,"meaning",N),isEditable:!0,className:"text-black leading-snug",style:{fontSize:"13px"}}):i]}),a&&s.jsx("p",{className:"text-gray-500 leading-snug mt-0.5 italic",style:{fontSize:"10.5px"},children:v?s.jsx(xn,{value:a,onChange:N=>w?.(e,"definition",N),isEditable:!0,className:"text-gray-500 leading-snug italic",style:{fontSize:"10.5px"}}):a})]}),s.jsxs("div",{className:"pl-2.5 border-l border-gray-300",children:[s.jsx("p",{className:"text-xs text-black leading-snug mb-0.5",children:v?s.jsx(xn,{value:f,onChange:N=>w?.(e,"example",N),isEditable:v,className:"text-xs text-black leading-snug",children:j(f,t)}):j(f,t)}),s.jsx("p",{className:"text-gray-600 leading-snug mb-0",style:{fontSize:"10px"},children:v?s.jsx(xn,{value:p,onChange:N=>w?.(e,"translation",N),isEditable:v,className:"text-gray-600 leading-snug",style:{fontSize:"10px"},children:S(p,m)}):S(p,m)})]})]}),s.jsxs("div",{className:"flex gap-1.5 items-start",children:[s.jsx("div",{className:"w-2 h-2 border-gray-300",style:{border:"1px solid #d1d5db"}}),s.jsx("div",{className:"w-2 h-2 border-gray-300",style:{border:"1px solid #d1d5db"}}),s.jsx("div",{className:"w-2 h-2 border-gray-300",style:{border:"1px solid #d1d5db"}})]})]})]}),s.jsxs("div",{className:"grid gap-4 text-xs bg-[rgba(0,0,0,0)]",style:{gridTemplateColumns:"28% 72%"},children:[s.jsx("div",{children:s.jsx("div",{className:"space-y-1",children:u.map((N,E)=>s.jsxs("div",{className:"leading-tight",children:[s.jsx("div",{className:"text-gray-800 print:text-black",children:N.word}),s.jsx("div",{className:"text-gray-500",style:{fontSize:"10px"},children:N.meaning})]},E))})}),s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"inline-block px-1 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:""})}),s.jsx("div",{className:"space-y-0.5",children:v?s.jsx(xn,{value:c.join(", "),onChange:N=>{const E=N.split(",").map(C=>C.trim()).filter(C=>C);w?.(e,"synonyms",E)},isEditable:!0,className:"text-gray-600 print:text-black",style:{fontSize:"10px"},multiline:!0,inputWidth:"100%"}):c.map((N,E)=>s.jsx("div",{className:"text-gray-600 print:text-black",style:{fontSize:"10px"},children:N},E))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"inline-block px-1 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:""})}),s.jsx("div",{className:"space-y-0.5",children:v?s.jsx(xn,{value:d.join(", "),onChange:N=>{const E=N.split(",").map(C=>C.trim()).filter(C=>C);w?.(e,"antonyms",E)},isEditable:!0,className:"text-gray-600 print:text-black",style:{fontSize:"10px"},multiline:!0,inputWidth:"100%"}):d.map((N,E)=>s.jsx("div",{className:"text-gray-600 print:text-black",style:{fontSize:"10px"},children:N},E))})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("div",{className:"inline-block px-1.5 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:"Tip"})}),s.jsx("div",{className:"text-gray-600 print:text-black leading-snug",style:{fontSize:"10px"},children:v?s.jsx(xn,{value:y,onChange:N=>w?.(e,"etymology",N),isEditable:!0,className:"text-gray-600 leading-snug",style:{fontSize:"10px"},multiline:!0}):y})]})]})]})]})})},mV=g.memo(BC),W0=g.memo(BC),gV=Object.freeze(Object.defineProperty({__proto__:null,VocabularyCard:W0,default:mV},Symbol.toStringTag,{value:"Module"}));function oi({headerInfo:e,showHeader:t=!0,showFooter:n=!0,isEditable:r=!1,onFooterChange:i,onHeaderChange:a}){if(!e)return null;const c=e.headerTitle||e.headerDescription;return s.jsxs(s.Fragment,{children:[t&&c&&s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"inline-block px-4 py-1.5 bg-slate-100 backdrop-blur-md border border-slate-300 rounded-xl rounded-bl-none",children:r?s.jsx("input",{type:"text",value:e.headerTitle||"",onChange:d=>a?.({...e,headerTitle:d.target.value}),placeholder:" ",className:"text-xs uppercase tracking-[0.2em] text-slate-800 placeholder-slate-400 font-medium bg-transparent border-none outline-none text-center min-w-[200px]"}):s.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-800 font-medium",children:e.headerTitle||"Vocabulary Builder"})})}),e.headerDescription&&s.jsx("div",{className:"flex justify-center",children:r?s.jsx("input",{type:"text",value:e.headerDescription||"",onChange:d=>a?.({...e,headerDescription:d.target.value}),placeholder:" ",style:{fontSize:"11px",fontFamily:"SUIT"},className:"text-gray-600 print:text-black text-center border-b border-gray-300 focus:border-gray-600 outline-none bg-transparent max-w-md"}):s.jsx("p",{style:{fontSize:"11px",fontFamily:"SUIT"},className:"text-gray-600 print:text-black text-center",children:e.headerDescription})})]}),n&&s.jsx("div",{className:"mt-4 pt-2",children:r?s.jsx("input",{type:"text",value:e.footerLeft||"",onChange:d=>i?.(d.target.value),placeholder:"  ",style:{fontSize:"11px",fontFamily:"SUIT"},className:"text-gray-600 print:text-black border-b border-gray-300 focus:border-gray-600 outline-none bg-transparent w-64"}):s.jsx("p",{style:{fontSize:"11px",fontFamily:"SUIT"},className:"text-gray-600 print:text-black",children:e.footerLeft||""})})]})}const xV=Object.freeze(Object.defineProperty({__proto__:null,HeaderFooter:oi},Symbol.toStringTag,{value:"Module"}));function ai({children:e,headerContent:t,showHeaderOnFirstPageOnly:n=!1}){return s.jsx("div",{className:"page-container",children:s.jsxs("div",{className:"a4-page",children:[n&&t&&s.jsx("div",{className:"page-header",style:{marginBottom:"16px"},children:t}),s.jsx("div",{className:"page-content",children:e})]})})}const yV=Object.freeze(Object.defineProperty({__proto__:null,A4PageLayout:ai},Symbol.toStringTag,{value:"Module"})),vV=({data:e,headerInfo:t,isEditable:n=!1,onUpdate:r,onHeaderChange:i})=>{const a=(d,u)=>{const f=d.toLowerCase(),p=u.toLowerCase(),m=f.indexOf(p);return m===-1?d:s.jsxs(s.Fragment,{children:[d.substring(0,m),s.jsx("strong",{children:d.substring(m,m+u.length)}),d.substring(m+u.length)]})},c=e.map(d=>s.jsx("table",{className:"w-full border-collapse",children:s.jsx("tbody",{children:s.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[s.jsx("td",{className:"pt-1 pb-2 px-1 align-top",style:{width:"3%"},children:s.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(d.id).padStart(3,"0")})})}),s.jsx("td",{className:"pt-1 pb-2 px-3 align-top",style:{width:"18%"},children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:n?s.jsx(xn,{value:d.word,onChange:u=>r?.(d.id,"word",u),isEditable:!0,className:"text-black",style:{fontSize:"14px",fontWeight:"bold"}}):d.word}),s.jsx("div",{className:"space-y-1 pb-1",children:d.derivatives.map((u,f)=>s.jsxs("div",{style:{lineHeight:"1.3"},children:[s.jsx("div",{className:"text-gray-800 print:text-black",style:{fontSize:"11px"},children:u.word}),s.jsx("div",{className:"text-gray-500",style:{fontSize:"8px"},children:u.meaning})]},f))})]})}),s.jsx("td",{className:"pt-1 pb-2 px-3 align-top",style:{width:"42%"},children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-[14px]",children:s.jsx("span",{className:"text-black",style:{fontSize:"12px",lineHeight:"0.9"},children:n?s.jsx(xn,{value:d.meaning,onChange:u=>r?.(d.id,"meaning",u),isEditable:!0,className:"text-black",style:{fontSize:"12px",lineHeight:"0.9"}}):d.meaning})}),d.definition&&s.jsx("div",{className:"text-gray-500 italic",style:{fontSize:"9px",lineHeight:"1.3"},children:n?s.jsx(xn,{value:d.definition,onChange:u=>r?.(d.id,"definition",u),isEditable:!0,className:"text-gray-500 italic",style:{fontSize:"9px",lineHeight:"1.3"},multiline:!0}):d.definition}),s.jsx("div",{className:"text-black",style:{fontSize:"10px",lineHeight:"1.3"},children:n?s.jsx(xn,{value:d.example,onChange:u=>r?.(d.id,"example",u),isEditable:!0,className:"text-black",style:{fontSize:"10px",lineHeight:"1.3"},multiline:!0}):a(d.example,d.word)}),s.jsx("div",{className:"text-gray-600",style:{fontSize:"9px",lineHeight:"1.3"},children:n?s.jsx(xn,{value:d.translation,onChange:u=>r?.(d.id,"translation",u),isEditable:!0,className:"text-gray-600",style:{fontSize:"9px",lineHeight:"1.3"},multiline:!0}):d.translation})]})}),s.jsxs("td",{className:"pt-1 pb-2 px-3 align-top",style:{width:"14%"},children:[s.jsx("div",{className:"inline-block px-1 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:""})}),s.jsx("div",{className:"text-gray-600 print:text-black",style:{fontSize:"10px",lineHeight:"1.4"},children:n?s.jsx(xn,{value:d.synonyms.join(", "),onChange:u=>{const f=u.split(",").map(p=>p.trim()).filter(p=>p);r?.(d.id,"synonyms",f)},isEditable:!0,className:"text-gray-600 print:text-black",style:{fontSize:"10px",lineHeight:"1.4"},multiline:!0,inputWidth:"100%"}):d.synonyms.join(", ")})]}),s.jsxs("td",{className:"pt-1 pb-2 px-3 align-top text-[16px]",style:{width:"14%"},children:[s.jsx("div",{className:"inline-block px-1 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:""})}),s.jsx("div",{className:"text-gray-600 print:text-black",style:{fontSize:"10px",lineHeight:"1.4"},children:n?s.jsx(xn,{value:d.antonyms.join(", "),onChange:u=>{const f=u.split(",").map(p=>p.trim()).filter(p=>p);r?.(d.id,"antonyms",f)},isEditable:!0,className:"text-gray-600 print:text-black",style:{fontSize:"10px",lineHeight:"1.4"},multiline:!0,inputWidth:"100%"}):d.antonyms.join(", ")})]})]})})},d.id));return s.jsx(ai,{headerContent:s.jsx(oi,{headerInfo:t,showFooter:!1,isEditable:n,onHeaderChange:i}),showHeaderOnFirstPageOnly:!0,children:c})},V0=g.memo(vV),wV=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTable:V0},Symbol.toStringTag,{value:"Module"}));function U0({data:e,headerInfo:t}){const n=[];for(let i=0;i<e.length;i+=2)n.push({left:e[i],right:e[i+1]||null});const r=n.map((i,a)=>s.jsx("table",{className:"w-full border-collapse",children:s.jsx("tbody",{children:s.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[s.jsx("td",{className:"py-2 px-1 align-top",style:{width:"4%"},children:s.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(i.left.id).padStart(3,"0")})})}),s.jsx("td",{className:"py-2 px-3 align-top",style:{width:"18%"},children:s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:i.left.word})}),s.jsx("td",{className:"py-2 px-3 align-top",style:{width:"28%"},children:s.jsx("div",{className:"text-black",style:{fontSize:"10px"},children:i.left.meaning})}),s.jsx("td",{className:"py-2 px-1 align-top",style:{width:"4%"},children:i.right&&s.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(i.right.id).padStart(3,"0")})})}),s.jsx("td",{className:"py-2 px-3 align-top",style:{width:"18%"},children:i.right&&s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:i.right.word})}),s.jsx("td",{className:"py-2 px-3 align-top",style:{width:"28%"},children:i.right&&s.jsx("div",{className:"text-black",style:{fontSize:"10px"},children:i.right.meaning})})]})})},a));return s.jsx(ai,{headerContent:s.jsx(oi,{headerInfo:t,showFooter:!1}),showHeaderOnFirstPageOnly:!0,children:r})}const bV=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTableSimple:U0},Symbol.toStringTag,{value:"Module"}));function H0({data:e,headerInfo:t}){const n=[];for(let i=0;i<e.length;i+=2)n.push({left:e[i],right:e[i+1]||null});const r=n.map((i,a)=>s.jsx("table",{className:"w-full border-collapse",children:s.jsx("tbody",{children:s.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[s.jsx("td",{className:"py-2 px-1 align-top",style:{width:"4%"},children:s.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(i.left.id).padStart(3,"0")})})}),s.jsx("td",{className:"py-2 px-3 align-top",style:{width:"46%"},children:s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:i.left.word})}),s.jsx("td",{className:"py-2 px-1 align-top",style:{width:"4%"},children:i.right&&s.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(i.right.id).padStart(3,"0")})})}),s.jsx("td",{className:"py-2 px-3 align-top",style:{width:"46%"},children:i.right&&s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:i.right.word})})]})})},a));return s.jsx(ai,{headerContent:s.jsx(oi,{headerInfo:t,showFooter:!1}),showHeaderOnFirstPageOnly:!0,children:r})}const jV=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTestSimple:H0},Symbol.toStringTag,{value:"Module"}));function q0({data:e,headerInfo:t}){const n=g.useMemo(()=>e.map(a=>{const c=a.synonyms.slice(0,Math.min(3,a.synonyms.length)),d=[],u=e.filter(v=>v.id!==a.id);for(const v of u)d.push({word:v.word,meaning:v.meaning}),v.synonyms.forEach(w=>{d.push({word:w,meaning:`(${v.word} )`})});const p=d.sort(()=>Math.random()-.5).slice(0,4),y=[...c.map(v=>({word:v,isCorrect:!0})),...p.map(v=>({word:v.word,isCorrect:!1,meaning:v.meaning}))].sort(()=>Math.random()-.5);return{id:a.id,word:a.word,correctSynonyms:c,allChoices:y}}),[e]),r=[];for(let a=0;a<n.length;a+=2)r.push({left:n[a],right:n[a+1]||null});const i=r.map((a,c)=>s.jsx("table",{className:"w-full border-collapse",children:s.jsx("tbody",{children:s.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[s.jsxs("td",{className:"py-3 px-4 align-top pb-6",style:{width:"50%",verticalAlign:"top"},children:[s.jsx("div",{className:"mb-3",children:s.jsxs("div",{className:"flex items-start gap-2 my-[4px] mx-[0px] px-[0px] py-[4px]",children:[s.jsx("div",{className:"inline-block px-1.5 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",style:{flexShrink:0},children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(a.left.id).padStart(3,"0")})}),s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",flexShrink:0},className:"text-black",children:a.left.word}),s.jsx("div",{className:"text-gray-500 print:text-black",style:{fontSize:"9px",flexShrink:0,paddingTop:"4px"},children:":"}),s.jsx("div",{className:"flex-1",style:{borderBottom:"1px solid #d1d5db",minHeight:"20px"}})]})}),s.jsx("div",{className:"flex flex-wrap gap-x-3 gap-y-1.5 my-[16px] mx-[0px]",children:a.left.allChoices.map((d,u)=>s.jsxs("div",{className:"inline-flex items-center gap-1.5",style:{fontSize:"11px"},children:[s.jsx("span",{className:"text-gray-400 print:text-black",children:""}),s.jsx("span",{className:"text-gray-700 print:text-black text-[12px]",children:d.word})]},u))})]}),s.jsx("td",{className:"py-3 px-4 align-top border-l border-gray-200 pb-6",style:{width:"50%",verticalAlign:"top"},children:a.right&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-3",children:s.jsxs("div",{className:"flex items-start gap-2 my-[4px] mx-[0px] px-[0px] py-[4px]",children:[s.jsx("div",{className:"inline-block px-1.5 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",style:{flexShrink:0},children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(a.right.id).padStart(3,"0")})}),s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",flexShrink:0},className:"text-black",children:a.right.word}),s.jsx("div",{className:"text-gray-500 print:text-black",style:{fontSize:"9px",flexShrink:0,paddingTop:"4px"},children:":"}),s.jsx("div",{className:"flex-1",style:{borderBottom:"1px solid #d1d5db",minHeight:"20px"}})]})}),s.jsx("div",{className:"flex flex-wrap gap-x-3 gap-y-1.5 my-[16px] mx-[0px]",children:a.right.allChoices.map((d,u)=>s.jsxs("div",{className:"inline-flex items-center gap-1.5",style:{fontSize:"11px"},children:[s.jsx("span",{className:"text-gray-400 print:text-black",children:""}),s.jsx("span",{className:"text-gray-700 print:text-black text-[12px]",children:d.word})]},u))})]})})]})})},c));return s.jsx(ai,{headerContent:s.jsx(oi,{headerInfo:t,showFooter:!1}),showHeaderOnFirstPageOnly:!0,children:i})}const SV=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTestSynonym:q0},Symbol.toStringTag,{value:"Module"}));function G0({data:e,headerInfo:t}){const n=()=>e.map(c=>{const d=c.synonyms.slice(0,Math.min(3,c.synonyms.length)),u=[],f=e.filter(w=>w.id!==c.id);for(const w of f)u.push({word:w.word,meaning:w.meaning}),w.synonyms.forEach(j=>{u.push({word:j,meaning:`(${w.word} )`})});const m=u.sort(()=>Math.random()-.5).slice(0,4),v=[...d.map(w=>({word:w,isCorrect:!0})),...m.map(w=>({word:w.word,isCorrect:!1,meaning:w.meaning}))].sort(()=>Math.random()-.5);return{id:c.id,word:c.word,meaning:c.meaning,correctSynonyms:d,allChoices:v}}),r=g.useMemo(()=>n(),[e]),i=[];for(let c=0;c<r.length;c+=2)i.push({left:r[c],right:r[c+1]||null});const a=i.map((c,d)=>s.jsx("table",{className:"w-full border-collapse",children:s.jsx("tbody",{children:s.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[s.jsxs("td",{className:"py-3 px-4 align-top",style:{width:"50%",verticalAlign:"top"},children:[s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(c.left.id).padStart(3,"0")})}),s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:c.left.word})]}),s.jsxs("div",{className:"text-black mb-2",style:{fontSize:"12px"},children:[": ",c.left.meaning]})]}),s.jsxs("div",{style:{fontSize:"11px"},children:[s.jsxs("div",{className:"mb-1 text-[12px]",children:[s.jsx("span",{className:"text-gray-600 print:text-black",children:": "}),s.jsx("span",{className:"text-gray-800 print:text-black",style:{fontWeight:"bold"},children:c.left.allChoices.filter(u=>u.isCorrect).map(u=>u.word).join(", ")})]}),s.jsx("div",{className:"space-y-0.5",children:c.left.allChoices.filter(u=>!u.isCorrect).map((u,f)=>s.jsxs("div",{className:"text-gray-600 print:text-black text-[11px]",children:[s.jsx("span",{className:"text-red-600 print:text-black",children:""})," ",u.word,": ",u.meaning]},f))})]})]}),s.jsx("td",{className:"py-3 px-4 align-top border-l border-gray-200",style:{width:"50%",verticalAlign:"top"},children:c.right&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(c.right.id).padStart(3,"0")})}),s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:c.right.word})]}),s.jsxs("div",{className:"text-black mb-2",style:{fontSize:"12px"},children:[": ",c.right.meaning]})]}),s.jsxs("div",{style:{fontSize:"11px"},children:[s.jsxs("div",{className:"mb-1 text-[12px]",children:[s.jsx("span",{className:"text-gray-600 print:text-black",children:": "}),s.jsx("span",{className:"text-gray-800 print:text-black",style:{fontWeight:"bold"},children:c.right.allChoices.filter(u=>u.isCorrect).map(u=>u.word).join(", ")})]}),s.jsx("div",{className:"space-y-0.5",children:c.right.allChoices.filter(u=>!u.isCorrect).map((u,f)=>s.jsxs("div",{className:"text-gray-600 print:text-black text-[11px]",children:[s.jsx("span",{className:"text-red-600 print:text-black",children:""})," ",u.word,": ",u.meaning]},f))})]})]})})]})})},d));return s.jsx(ai,{headerContent:s.jsx(oi,{headerInfo:t,showFooter:!1}),showHeaderOnFirstPageOnly:!0,children:a})}const NV=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTestSynonymAnswer:G0},Symbol.toStringTag,{value:"Module"})),kV=[{id:"card",title:"",description:"   ",icon:sS},{id:"table",title:" ",description:"     ",icon:pS},{id:"simple",title:" ",description:"   ",icon:dS},{id:"quiz-simple",title:" ",description:"    ",icon:ur},{id:"quiz-synonym",title:" ",description:"  ",icon:oS},{id:"quiz-synonym-answer",title:" ",description:"    ",icon:tS}],dg=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>typeof t=="string"?t:typeof t=="object"&&t!==null?t.word:"").map(t=>(t||"").trim()).filter(Boolean);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return dg(t)}catch{}return e.split(/[\n,]+/).map(t=>t.trim()).filter(Boolean)}return[]},ug=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>{if(typeof t=="string"){const[n,r]=t.split(":").map(i=>i.trim());return{word:n,meaning:r||""}}return typeof t=="object"&&t!==null?{word:String(t.word||"").trim(),meaning:String(t.meaning||"").trim()}:{word:"",meaning:""}}).filter(t=>t.word);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return ug(t)}catch{}return e.split(/[,;]/).map(t=>{const[n,r]=t.split(":").map(i=>i.trim());return{word:n,meaning:r||""}}).filter(t=>t.word)}return typeof e=="object"?ug([e]):[]},CV=e=>e.map((t,n)=>{const r=t||{},i=String(r.word||r.term||"").trim();return i?{id:n+1,word:i,pronunciation:r.pronunciation||"",partOfSpeech:r.partOfSpeech||r.part_of_speech||"",meaning:r.meaning||r.translation||"",definition:r.definition||"",synonyms:dg(r.synonyms),antonyms:dg(r.antonyms),derivatives:ug(r.derivatives),example:r.example||r.example_sentence||"",translation:r.translation||"",translationHighlight:r.translationHighlight||r.translation_highlight||"",etymology:r.etymology||""}:null}).filter(Boolean);function EV(){const e=g.useMemo(()=>new URLSearchParams(window.location.search),[]),t=e.get("vocabularyId")||e.get("vocabId")||"",[n,r]=g.useState("card"),[i,a]=g.useState(t||null),[c,d]=g.useState([]),[u,f]=g.useState(""),[p,m]=g.useState(!1),[y,v]=g.useState(null),w=()=>{window.location.pathname="/"},j=g.useCallback(async _=>{const T=_.trim();if(!T){v(" ID   .");return}const I=localStorage.getItem("supabase_access_token");if(!I){v(" .     .");return}try{m(!0),v(null);const M=await fetch(`https://${Je}.supabase.co/functions/v1/server/user-vocabularies/${T}`,{headers:{Authorization:`Bearer ${I}`}});if(!M.ok){const G=await M.json().catch(()=>({}));throw new Error(G.error||G.message||"  .")}const F=await M.json(),U=CV(F.words||[]);if(U.length===0)throw new Error("   .     .");d(U),f(F.vocabulary?.title||"AI Vocabulary"),a(T)}catch(M){console.error(M),d([]),a(null),v(M instanceof Error?M.message:"  .")}finally{m(!1)}},[]);g.useEffect(()=>{t?j(t):v(" ID    .")},[t,j]);const S=g.useMemo(()=>({headerTitle:u||"AI Vocabulary",headerDescription:c.length?`${c.length.toLocaleString()} `:"",footerLeft:new Date().toLocaleDateString("ko-KR")}),[c.length,u]),N=()=>{if(!c.length)return s.jsx("p",{className:"text-center text-gray-500",children:"  ."});switch(n){case"card":return s.jsx(ai,{headerContent:s.jsx(oi,{headerInfo:S,showFooter:!0}),showHeaderOnFirstPageOnly:!0,children:c.map(_=>s.jsx(W0,{..._},_.id))});case"table":return s.jsx(V0,{data:c,headerInfo:S});case"simple":return s.jsx(U0,{data:c,headerInfo:S});case"quiz-simple":return s.jsx(H0,{data:c,headerInfo:S});case"quiz-synonym":return s.jsx(q0,{data:c,headerInfo:S});case"quiz-synonym-answer":return s.jsx(G0,{data:c,headerInfo:S});default:return null}},E=()=>{if(p){alert("  .  .");return}if(!c.length){alert(y||"  .");return}window.print()},C=c.length>0?N():null;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#FDF2F8] via-[#F5F3FF] to-[#E0F2FE] pb-16 print:bg-white print:min-h-0 print:pb-0",children:[s.jsx("header",{className:"sticky top-0 z-40 bg-transparent px-4 pt-6 print:hidden",children:s.jsxs("div",{className:"flex items-center justify-between max-w-6xl mx-auto",children:[s.jsxs(O.button,{onClick:w,whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-3 rounded-2xl bg-white/80 border border-white/60 shadow-lg text-[#491B6D]",children:[s.jsx(gs,{className:"w-4 h-4"}),""]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-[#6B21A8] font-semibold tracking-wide uppercase",children:"AI Vocabulary Export"}),s.jsx("p",{className:"text-lg font-bold text-[#1E1B4B]",children:"  PDF "})]}),s.jsx("div",{className:"w-[140px]"})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-4 mt-8 space-y-8 print:hidden",children:[s.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-[#1E1B4B]",children:u||"  "}),s.jsx("p",{className:"text-sm text-gray-500",children:c.length?`${c.length.toLocaleString()} `:"  "})]}),s.jsxs("div",{className:"text-sm text-gray-400 font-mono bg-gray-50 border border-gray-200 rounded-xl px-3 py-2",children:["ID: ",i||""]})]}),p&&s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-[#C4B5FD] border-t-transparent"}),"  ..."]}),y&&s.jsx("div",{className:"rounded-2xl border border-rose-100 bg-rose-50/70 px-4 py-3 text-sm text-rose-700",children:y})]}),s.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-[#6B21A8] mb-2",children:"1.  "}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:kV.map(_=>{const T=_.icon,I=n===_.id;return s.jsx(O.button,{whileTap:{scale:.97},onClick:()=>r(_.id),className:`p-4 rounded-3xl text-left border shadow-sm transition-all ${I?"bg-gradient-to-br from-[#C084FC] to-[#A855F7] text-white border-transparent shadow-lg shadow-purple-200":"bg-white/90 border-white/60 text-[#1E1B4B] hover:-translate-y-0.5"}`,children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:`p-2 rounded-2xl ${I?"bg-white/20 text-white":"bg-[#F5F3FF] text-[#7C3AED]"}`,children:s.jsx(T,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-semibold",children:_.title}),s.jsx("p",{className:`text-sm ${I?"text-white/80":"text-gray-500"}`,children:_.description})]})]})},_.id)})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-semibold text-[#6B21A8]",children:"2. "}),s.jsx(O.button,{whileTap:{scale:.98},onClick:E,disabled:p||!c.length,className:`w-full rounded-2xl px-6 py-4 text-white font-bold shadow-lg ${p||!c.length?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-br from-[#7C3AED] to-[#A855F7]"}`,children:p?" ...":"  "}),s.jsx("p",{className:"text-xs text-gray-500",children:"      PDF    PDF    ."})]})]})]}),s.jsx("div",{id:"pdf-print-area",className:"pdf-print-root",children:C})]})}const _V=["card","table","simple","quiz-simple","quiz-synonym","quiz-synonym-answer"],hg=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>typeof t=="string"?t:typeof t=="object"&&t!==null?t.word:"").map(t=>(t||"").trim()).filter(Boolean);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return hg(t)}catch{}return e.split(/[\n,]+/).map(t=>t.trim()).filter(Boolean)}return[]},fg=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>{if(typeof t=="string"){const[n,r]=t.split(":").map(i=>i.trim());return{word:n,meaning:r||""}}return typeof t=="object"&&t!==null?{word:String(t.word||"").trim(),meaning:String(t.meaning||"").trim()}:{word:"",meaning:""}}).filter(t=>t.word);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return fg(t)}catch{}return e.split(/[,;]/).map(t=>{const[n,r]=t.split(":").map(i=>i.trim());return{word:n,meaning:r||""}}).filter(t=>t.word)}return typeof e=="object"?fg([e]):[]},AV=e=>(e||[]).map((t,n)=>{const r=t||{},i=String(r.word||r.term||"").trim();return i?{id:n+1,word:i,pronunciation:r.pronunciation||"",partOfSpeech:r.partOfSpeech||r.part_of_speech||"",meaning:r.meaning||r.translation||"",definition:r.definition||"",synonyms:hg(r.synonyms),antonyms:hg(r.antonyms),derivatives:fg(r.derivatives),example:r.example||r.example_sentence||"",translation:r.translation||"",translationHighlight:r.translationHighlight||r.translation_highlight||"",etymology:r.etymology||""}:null}).filter(Boolean),TV=e=>e?_V.includes(e):!1;function PV(){const e=g.useMemo(()=>new URLSearchParams(window.location.search),[]),t=e.get("vocabularyId")||e.get("vocabId")||"",n=TV(e.get("layout"))?e.get("layout"):"card",[r,i]=g.useState([]),[a,c]=g.useState(""),[d,u]=g.useState(!1),[f,p]=g.useState(null);g.useEffect(()=>{const w="pdf-print-page";return document.body.classList.add(w),document.documentElement.classList.add(w),()=>{document.body.classList.remove(w),document.documentElement.classList.remove(w)}},[]);const m=g.useCallback(async()=>{if(!t.trim()){p(" ID   .");return}const w=localStorage.getItem("supabase_access_token");if(!w){p(" .     .");return}try{u(!0),p(null);const j=await fetch(`https://${Je}.supabase.co/functions/v1/server/user-vocabularies/${t.trim()}`,{headers:{Authorization:`Bearer ${w}`}});if(!j.ok){const E=await j.json().catch(()=>({}));throw new Error(E.error||E.message||"  .")}const S=await j.json(),N=AV(S.words||[]);if(!N.length)throw new Error("   .     .");i(N),c(S.vocabulary?.title||"AI Vocabulary")}catch(j){console.error(j),i([]),p(j instanceof Error?j.message:"  .")}finally{u(!1)}},[t]);g.useEffect(()=>{m()},[m]),g.useEffect(()=>{if(!d&&!f&&r.length){const w=setTimeout(()=>{window.print()},200);return()=>clearTimeout(w)}},[d,f,r.length]);const y=g.useMemo(()=>({headerTitle:a||"AI Vocabulary",headerDescription:r.length?`${r.length.toLocaleString()} `:"",footerLeft:new Date().toLocaleDateString("ko-KR")}),[r.length,a]),v=()=>{if(!r.length)return null;switch(n){case"card":return s.jsx(ai,{headerContent:s.jsx(oi,{headerInfo:y,showFooter:!0}),showHeaderOnFirstPageOnly:!0,children:r.map(w=>s.jsx(W0,{...w},w.id))});case"table":return s.jsx(V0,{data:r,headerInfo:y});case"simple":return s.jsx(U0,{data:r,headerInfo:y});case"quiz-simple":return s.jsx(H0,{data:r,headerInfo:y});case"quiz-synonym":return s.jsx(q0,{data:r,headerInfo:y});case"quiz-synonym-answer":return s.jsx(G0,{data:r,headerInfo:y});default:return null}};return s.jsxs("div",{className:"min-h-screen bg-white pdf-print-root",children:[d&&s.jsx("div",{className:"py-12 text-center text-gray-500",children:"  ..."}),f&&s.jsx("div",{className:"py-12 text-center text-rose-600",children:f}),!d&&!f&&r.length>0&&s.jsx("div",{id:"pdf-print-area",children:v()})]})}const nm={name:"",logo_url:"",application_start:"",application_end:"",exam_date:"",result_date:""};function RV({universities:e,departments:t,onRefresh:n}){const r=g.useMemo(()=>Yn(),[]),[i,a]=g.useState(nm),[c,d]=g.useState(null),[u,f]=g.useState(!1),p=async w=>{w.preventDefault(),i.name?.trim()&&(c?await r.from("universities").update(i).eq("id",c):await r.from("universities").insert(i),a(nm),d(null),n())},m=w=>{d(w.id),a({name:w.name,logo_url:w.logo_url||"",application_start:w.application_start||"",application_end:w.application_end||"",exam_date:w.exam_date||"",result_date:w.result_date||""})},y=async w=>{window.confirm("  ?    .")&&(await r.from("universities").delete().eq("id",w),n())},v=async w=>{const j=w.target.files?.[0];if(j){f(!0);try{const N=(await j.text()).split(/\r?\n/).filter(Boolean),[E,...C]=N,_=E.split(",").map(I=>I.trim()),T=C.map(I=>{const M=I.split(","),F={};return _.forEach((U,G)=>{F[U]=M[G]?.trim()}),F});T.length&&(await r.from("universities").upsert(T,{onConflict:"name"}),n())}finally{f(!1)}}};return s.jsxs("section",{className:"admission-card space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"admission-section-title",children:"  "}),s.jsx("p",{className:"text-sm text-gray-500",children:", ,    CSV    ."})]}),s.jsxs("label",{className:"admission-button-primary cursor-pointer",children:[u?" ...":"CSV ",s.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:v,disabled:u})]})]}),s.jsxs("form",{onSubmit:p,className:"admission-grid two",children:[s.jsxs("label",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:""}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:i.name,onChange:w=>a(j=>({...j,name:w.target.value})),placeholder:": "})]}),s.jsxs("label",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:" URL"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:i.logo_url||"",onChange:w=>a(j=>({...j,logo_url:w.target.value})),placeholder:"https://"})]}),["application_start","application_end","exam_date","result_date"].map(w=>s.jsxs("label",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:{application_start:" ",application_end:" ",exam_date:"",result_date:" "}[w]}),s.jsx("input",{type:"date",className:"w-full border rounded-xl px-3 py-2",value:i[w]||"",onChange:j=>a(S=>({...S,[w]:j.target.value}))})]},w)),s.jsxs("div",{className:"col-span-full flex gap-3",children:[s.jsx("button",{className:"admission-button-primary",type:"submit",children:c?"  ":" "}),c&&s.jsx("button",{type:"button",className:"admission-button-primary bg-gray-300 text-gray-800",onClick:()=>{d(null),a(nm)},children:""})]})]}),s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-xs uppercase tracking-widest text-gray-500",children:[s.jsx("th",{className:"py-2",children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:" "}),s.jsx("th",{})]})}),s.jsx("tbody",{children:e.map(w=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-2 font-semibold",children:w.name}),s.jsxs("td",{className:"text-xs text-gray-500",children:[w.application_start||"-"," ~ ",w.application_end||"-"]}),s.jsx("td",{children:w.exam_date||"-"}),s.jsx("td",{children:w.result_date||"-"}),s.jsx("td",{children:t.filter(j=>j.university_id===w.id).length}),s.jsxs("td",{className:"flex gap-2 justify-end py-2",children:[s.jsx("button",{className:"text-[#7c3aed]",onClick:()=>m(w),children:""}),s.jsx("button",{className:"text-rose-500",onClick:()=>y(w.id),children:""})]})]},w.id))})]})})]})}const Bd=["","","","1",""],DV={:"",:"",:"","1":"",:""};function OV({universities:e,matrix:t,onChangeStatus:n}){const r=i=>{if(!i)return Bd[0];const a=Bd.indexOf(i);return Bd[(a+1)%Bd.length]};return s.jsxs("section",{className:"admission-card space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"admission-section-title",children:"   "}),s.jsx("p",{className:"text-sm text-gray-500",children:"       ."})]})}),s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"admission-matrix-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left",children:""}),e.map(i=>s.jsx("th",{children:i.name},i.id))]})}),s.jsx("tbody",{children:t.map(i=>s.jsxs("tr",{children:[s.jsx("td",{className:"text-left font-semibold",children:i.studentName}),e.map(a=>{const c=i.statuses[a.id];return s.jsx("td",{className:"admission-matrix-status",onClick:()=>n(i.studentId,a.id,r(c)),title:c||"",children:c?DV[c]:""},a.id)})]},i.studentId))})]})})]})}function IV({universities:e,applicants:t,selectedUniversity:n,onSelectUniversity:r}){return s.jsxs("section",{className:"admission-card space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"admission-section-title",children:"  "}),s.jsx("p",{className:"text-sm text-gray-500",children:"       ."})]}),s.jsxs("select",{value:n,onChange:i=>r(i.target.value),className:"border rounded-xl px-3 py-2 min-w-[200px]",children:[s.jsx("option",{value:"",children:" "}),e.map(i=>s.jsx("option",{value:i.id,children:i.name},i.id))]})]}),n?s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-xs uppercase tracking-widest text-gray-500",children:[s.jsx("th",{className:"py-2",children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:t.map(i=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-2 font-semibold",children:i.student_name}),s.jsx("td",{children:i.department_name||"-"}),s.jsx("td",{children:i.status}),s.jsx("td",{className:"text-gray-500",children:i.admin_notes||"-"})]},i.id))})]})}):s.jsx("div",{className:"text-center text-gray-500 py-10",children:"   ."})]})}const J1={:"#f43f5e",:"#3b82f6",:"#10b981"};function FV({loading:e,items:t}){return s.jsxs("section",{className:"admission-card space-y-5",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"admission-section-title",children:"D-day "}),s.jsx("p",{className:"text-sm text-gray-500",children:"     ."})]})}),e&&s.jsx("p",{className:"text-center text-gray-500 py-6",children:"  ..."}),!e&&s.jsxs("div",{className:"admission-grid two",children:[t.map(n=>s.jsxs("article",{className:"border rounded-2xl p-4 bg-white/80",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-gray-500",children:n.deadlineType}),s.jsx("h3",{className:"text-xl font-bold",children:n.universityName}),s.jsx("p",{className:"text-sm text-gray-500",children:n.date})]}),s.jsxs("span",{className:"admission-chip",style:{background:`${J1[n.deadlineType]}22`,color:J1[n.deadlineType]},children:["D-",n.countdown]})]}),s.jsx("div",{className:"mt-3 text-sm text-gray-600",children:n.students.length?s.jsx("ul",{className:"list-disc pl-5 space-y-1",children:n.students.map(r=>s.jsx("li",{children:r.name},r.id))}):s.jsx("p",{children:"   ."})})]},`${n.universityId}-${n.deadlineType}`)),!t.length&&s.jsx("p",{className:"text-center text-gray-500 col-span-full",children:"  ."})]})]})}const MV={:"",:"",:"","1":"",:""};function LV(){const e=g.useMemo(()=>Yn(),[]),[t,n]=g.useState("universities"),[r,i]=g.useState([]),[a,c]=g.useState([]),[d,u]=g.useState([]),[f,p]=g.useState([]),[m,y]=g.useState(""),[v,w]=g.useState([]),[j,S]=g.useState(!1),N=async()=>{const{data:F}=await e.from("universities").select("*").order("name");i(F||[])},E=async()=>{const{data:F}=await e.from("departments").select("*");c(F||[])},C=async()=>{const{data:F}=await e.functions.invoke("admission-manager",{body:{action:"get-student-matrix"}});u(F||[])},_=async F=>{if(!F)return;const{data:U}=await e.from("student_applications").select("id,student_id,university_id,department_id,status,admin_notes,profiles:student_id(full_name),universities(name),departments(name)").eq("university_id",F),G=U?.map(se=>({id:se.id,student_id:se.student_id,student_name:se.profiles?.full_name||"",university_id:se.university_id,university_name:se.universities?.name,department_id:se.department_id,department_name:se.departments?.name,status:se.status,admin_notes:se.admin_notes}))||[];p(G)},T=async()=>{S(!0);try{const{data:F}=await e.functions.invoke("admission-manager",{body:{action:"get-dday-board"}});w(F||[])}finally{S(!1)}};g.useEffect(()=>{N(),E(),C(),T()},[]),g.useEffect(()=>{m&&_(m)},[m]);const I=async(F,U,G)=>{await e.functions.invoke("admission-manager",{body:{action:"update-status",payload:{studentId:F,universityId:U,status:G}}}),C(),m&&_(m)},M=()=>{const F=["",...r.map(ee=>ee.name)],U=d.map(ee=>[ee.studentName,...r.map(L=>ee.statuses[L.id]?MV[ee.statuses[L.id]]:"-")]),G=[F,...U].map(ee=>ee.join(",")).join(`
`),se=new Blob([G],{type:"text/csv;charset=utf-8;"}),ae=window.URL.createObjectURL(se),oe=document.createElement("a");oe.href=ae,oe.download=`admission-status-${Date.now()}.csv`,oe.click(),window.URL.revokeObjectURL(ae)};return s.jsxs("div",{className:"admission-admin-root",children:[s.jsxs("header",{className:"max-w-6xl mx-auto px-6 py-12",children:[s.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 text-[#7c3aed] hover:text-[#4c1d95] transition-colors mb-4",children:[s.jsx(gs,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:""})]}),s.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-[#7c3aed] font-semibold",children:"Admission Manager"}),s.jsx("h1",{className:"text-3xl font-black text-[#1e1b4b] mt-2",children:"  "}),s.jsx("p",{className:"text-[#4c1d95]",children:"       ."}),s.jsxs("div",{className:"flex gap-3 mt-6 flex-wrap",children:[s.jsx("button",{className:`admission-button-primary ${t==="universities"?"!bg-[#4c1d95]":""}`,onClick:()=>n("universities"),children:" "}),s.jsx("button",{className:`admission-button-primary ${t==="matrix"?"!bg-[#4c1d95]":""}`,onClick:()=>n("matrix"),children:" "}),s.jsx("button",{className:`admission-button-primary ${t==="applicants"?"!bg-[#4c1d95]":""}`,onClick:()=>n("applicants"),children:" "}),s.jsx("button",{className:`admission-button-primary ${t==="dday"?"!bg-[#4c1d95]":""}`,onClick:()=>n("dday"),children:"D-day "}),s.jsx("button",{className:"admission-button-primary ml-auto",onClick:M,children:"   "})]})]}),s.jsxs("main",{className:"max-w-6xl mx-auto px-6 admission-grid",children:[t==="universities"&&s.jsx(RV,{universities:r,departments:a,onRefresh:()=>{N(),E()}}),t==="matrix"&&s.jsx(OV,{universities:r,matrix:d,onChangeStatus:I}),t==="applicants"&&s.jsx(IV,{universities:r,applicants:f,selectedUniversity:m,onSelectUniversity:y}),t==="dday"&&s.jsx(FV,{loading:j,items:v})]})]})}const $C=document.getElementById("root");if(!$C)throw new Error("Root element not found");L5.createRoot($C).render(s.jsx(Q_,{children:s.jsxs(A_,{children:[s.jsx(Ao,{path:"/admin/admission/*",element:s.jsx(LV,{})}),s.jsx(Ao,{path:"/student/calendar",element:s.jsx(MC,{})}),s.jsx(Ao,{path:"/export/print",element:s.jsx(PV,{})}),s.jsx(Ao,{path:"/export",element:s.jsx(EV,{})}),s.jsx(Ao,{path:"/*",element:s.jsx(pV,{})})]})}));
