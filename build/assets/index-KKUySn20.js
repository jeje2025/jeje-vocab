function Z1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ru(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function R5(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Wf={exports:{}},Ja={},Vf={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function D5(){if(vv)return lt;vv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,j={};function S(B,K,U){this.props=B,this.context=K,this.refs=j,this.updater=U||v}S.prototype.isReactComponent={},S.prototype.setState=function(B,K){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,K,"setState")},S.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=S.prototype;function _(B,K,U){this.props=B,this.context=K,this.refs=j,this.updater=U||v}var C=_.prototype=new N;C.constructor=_,b(C,S.prototype),C.isPureReactComponent=!0;var E=Array.isArray,A=Object.prototype.hasOwnProperty,F={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function O(B,K,U){var Z,H={},ne=null,q=null;if(K!=null)for(Z in K.ref!==void 0&&(q=K.ref),K.key!==void 0&&(ne=""+K.key),K)A.call(K,Z)&&!D.hasOwnProperty(Z)&&(H[Z]=K[Z]);var le=arguments.length-2;if(le===1)H.children=U;else if(1<le){for(var fe=Array(le),ue=0;ue<le;ue++)fe[ue]=arguments[ue+2];H.children=fe}if(B&&B.defaultProps)for(Z in le=B.defaultProps,le)H[Z]===void 0&&(H[Z]=le[Z]);return{$$typeof:e,type:B,key:ne,ref:q,props:H,_owner:F.current}}function V(B,K){return{$$typeof:e,type:B.type,key:K,ref:B.ref,props:B.props,_owner:B._owner}}function G(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function ee(B){var K={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(U){return K[U]})}var se=/\/+/g;function ie(B,K){return typeof B=="object"&&B!==null&&B.key!=null?ee(""+B.key):K.toString(36)}function J(B,K,U,Z,H){var ne=typeof B;(ne==="undefined"||ne==="boolean")&&(B=null);var q=!1;if(B===null)q=!0;else switch(ne){case"string":case"number":q=!0;break;case"object":switch(B.$$typeof){case e:case t:q=!0}}if(q)return q=B,H=H(q),B=Z===""?"."+ie(q,0):Z,E(H)?(U="",B!=null&&(U=B.replace(se,"$&/")+"/"),J(H,K,U,"",function(ue){return ue})):H!=null&&(G(H)&&(H=V(H,U+(!H.key||q&&q.key===H.key?"":(""+H.key).replace(se,"$&/")+"/")+B)),K.push(H)),1;if(q=0,Z=Z===""?".":Z+":",E(B))for(var le=0;le<B.length;le++){ne=B[le];var fe=Z+ie(ne,le);q+=J(ne,K,U,fe,H)}else if(fe=y(B),typeof fe=="function")for(B=fe.call(B),le=0;!(ne=B.next()).done;)ne=ne.value,fe=Z+ie(ne,le++),q+=J(ne,K,U,fe,H);else if(ne==="object")throw K=String(B),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return q}function $(B,K,U){if(B==null)return B;var Z=[],H=0;return J(B,Z,"","",function(ne){return K.call(U,ne,H++)}),Z}function L(B){if(B._status===-1){var K=B._result;K=K(),K.then(function(U){(B._status===0||B._status===-1)&&(B._status=1,B._result=U)},function(U){(B._status===0||B._status===-1)&&(B._status=2,B._result=U)}),B._status===-1&&(B._status=0,B._result=K)}if(B._status===1)return B._result.default;throw B._result}var T={current:null},R={transition:null},I={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:R,ReactCurrentOwner:F};function W(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:$,forEach:function(B,K,U){$(B,function(){K.apply(this,arguments)},U)},count:function(B){var K=0;return $(B,function(){K++}),K},toArray:function(B){return $(B,function(K){return K})||[]},only:function(B){if(!G(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},lt.Component=S,lt.Fragment=n,lt.Profiler=i,lt.PureComponent=_,lt.StrictMode=r,lt.Suspense=u,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,lt.act=W,lt.cloneElement=function(B,K,U){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Z=b({},B.props),H=B.key,ne=B.ref,q=B._owner;if(K!=null){if(K.ref!==void 0&&(ne=K.ref,q=F.current),K.key!==void 0&&(H=""+K.key),B.type&&B.type.defaultProps)var le=B.type.defaultProps;for(fe in K)A.call(K,fe)&&!D.hasOwnProperty(fe)&&(Z[fe]=K[fe]===void 0&&le!==void 0?le[fe]:K[fe])}var fe=arguments.length-2;if(fe===1)Z.children=U;else if(1<fe){le=Array(fe);for(var ue=0;ue<fe;ue++)le[ue]=arguments[ue+2];Z.children=le}return{$$typeof:e,type:B.type,key:H,ref:ne,props:Z,_owner:q}},lt.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},lt.createElement=O,lt.createFactory=function(B){var K=O.bind(null,B);return K.type=B,K},lt.createRef=function(){return{current:null}},lt.forwardRef=function(B){return{$$typeof:d,render:B}},lt.isValidElement=G,lt.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:L}},lt.memo=function(B,K){return{$$typeof:f,type:B,compare:K===void 0?null:K}},lt.startTransition=function(B){var K=R.transition;R.transition={};try{B()}finally{R.transition=K}},lt.unstable_act=W,lt.useCallback=function(B,K){return T.current.useCallback(B,K)},lt.useContext=function(B){return T.current.useContext(B)},lt.useDebugValue=function(){},lt.useDeferredValue=function(B){return T.current.useDeferredValue(B)},lt.useEffect=function(B,K){return T.current.useEffect(B,K)},lt.useId=function(){return T.current.useId()},lt.useImperativeHandle=function(B,K,U){return T.current.useImperativeHandle(B,K,U)},lt.useInsertionEffect=function(B,K){return T.current.useInsertionEffect(B,K)},lt.useLayoutEffect=function(B,K){return T.current.useLayoutEffect(B,K)},lt.useMemo=function(B,K){return T.current.useMemo(B,K)},lt.useReducer=function(B,K,U){return T.current.useReducer(B,K,U)},lt.useRef=function(B){return T.current.useRef(B)},lt.useState=function(B){return T.current.useState(B)},lt.useSyncExternalStore=function(B,K,U){return T.current.useSyncExternalStore(B,K,U)},lt.useTransition=function(){return T.current.useTransition()},lt.version="18.3.1",lt}var bv;function Ml(){return bv||(bv=1,Vf.exports=D5()),Vf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function O5(){if(wv)return Ja;wv=1;var e=Ml(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,u,f){var p,m={},y=null,v=null;f!==void 0&&(y=""+f),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(v=u.ref);for(p in u)r.call(u,p)&&!a.hasOwnProperty(p)&&(m[p]=u[p]);if(d&&d.defaultProps)for(p in u=d.defaultProps,u)m[p]===void 0&&(m[p]=u[p]);return{$$typeof:t,type:d,key:y,ref:v,props:m,_owner:i.current}}return Ja.Fragment=n,Ja.jsx=c,Ja.jsxs=c,Ja}var jv;function I5(){return jv||(jv=1,Wf.exports=O5()),Wf.exports}var s=I5(),cd={},Uf={exports:{}},On={},Hf={exports:{}},Gf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function F5(){return Sv||(Sv=1,(function(e){function t(R,I){var W=R.length;R.push(I);e:for(;0<W;){var B=W-1>>>1,K=R[B];if(0<i(K,I))R[B]=I,R[W]=K,W=B;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var I=R[0],W=R.pop();if(W!==I){R[0]=W;e:for(var B=0,K=R.length,U=K>>>1;B<U;){var Z=2*(B+1)-1,H=R[Z],ne=Z+1,q=R[ne];if(0>i(H,W))ne<K&&0>i(q,H)?(R[B]=q,R[ne]=W,B=ne):(R[B]=H,R[Z]=W,B=Z);else if(ne<K&&0>i(q,W))R[B]=q,R[ne]=W,B=ne;else break e}}return I}function i(R,I){var W=R.sortIndex-I.sortIndex;return W!==0?W:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var u=[],f=[],p=1,m=null,y=3,v=!1,b=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(R){for(var I=n(f);I!==null;){if(I.callback===null)r(f);else if(I.startTime<=R)r(f),I.sortIndex=I.expirationTime,t(u,I);else break;I=n(f)}}function E(R){if(j=!1,C(R),!b)if(n(u)!==null)b=!0,L(A);else{var I=n(f);I!==null&&T(E,I.startTime-R)}}function A(R,I){b=!1,j&&(j=!1,N(O),O=-1),v=!0;var W=y;try{for(C(I),m=n(u);m!==null&&(!(m.expirationTime>I)||R&&!ee());){var B=m.callback;if(typeof B=="function"){m.callback=null,y=m.priorityLevel;var K=B(m.expirationTime<=I);I=e.unstable_now(),typeof K=="function"?m.callback=K:m===n(u)&&r(u),C(I)}else r(u);m=n(u)}if(m!==null)var U=!0;else{var Z=n(f);Z!==null&&T(E,Z.startTime-I),U=!1}return U}finally{m=null,y=W,v=!1}}var F=!1,D=null,O=-1,V=5,G=-1;function ee(){return!(e.unstable_now()-G<V)}function se(){if(D!==null){var R=e.unstable_now();G=R;var I=!0;try{I=D(!0,R)}finally{I?ie():(F=!1,D=null)}}else F=!1}var ie;if(typeof _=="function")ie=function(){_(se)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,$=J.port2;J.port1.onmessage=se,ie=function(){$.postMessage(null)}}else ie=function(){S(se,0)};function L(R){D=R,F||(F=!0,ie())}function T(R,I){O=S(function(){R(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,L(A))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(R){switch(y){case 1:case 2:case 3:var I=3;break;default:I=y}var W=y;y=I;try{return R()}finally{y=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var W=y;y=R;try{return I()}finally{y=W}},e.unstable_scheduleCallback=function(R,I,W){var B=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?B+W:B):W=B,R){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=W+K,R={id:p++,callback:I,priorityLevel:R,startTime:W,expirationTime:K,sortIndex:-1},W>B?(R.sortIndex=W,t(f,R),n(u)===null&&R===n(f)&&(j?(N(O),O=-1):j=!0,T(E,W-B))):(R.sortIndex=K,t(u,R),b||v||(b=!0,L(A))),R},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(R){var I=y;return function(){var W=y;y=I;try{return R.apply(this,arguments)}finally{y=W}}}})(Gf)),Gf}var Nv;function M5(){return Nv||(Nv=1,Hf.exports=F5()),Hf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function $5(){if(kv)return On;kv=1;var e=Ml(),t=M5();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(o,l){c(o,l),c(o+"Capture",l)}function c(o,l){for(i[o]=l,o=0;o<l.length;o++)r.add(l[o])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(o){return u.call(m,o)?!0:u.call(p,o)?!1:f.test(o)?m[o]=!0:(p[o]=!0,!1)}function v(o,l,h,x){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return x?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function b(o,l,h,x){if(l===null||typeof l>"u"||v(o,l,h,x))return!0;if(x)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function j(o,l,h,x,w,k,P){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=x,this.attributeNamespace=w,this.mustUseProperty=h,this.propertyName=o,this.type=l,this.sanitizeURL=k,this.removeEmptyString=P}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new j(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];S[l]=new j(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new j(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new j(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new j(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new j(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new j(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new j(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new j(o,5,!1,o.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function _(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(N,_);S[l]=new j(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(N,_);S[l]=new j(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(N,_);S[l]=new j(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new j(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new j(o,1,!1,o.toLowerCase(),null,!0,!0)});function C(o,l,h,x){var w=S.hasOwnProperty(l)?S[l]:null;(w!==null?w.type!==0:x||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(b(l,h,w,x)&&(h=null),x||w===null?y(l)&&(h===null?o.removeAttribute(l):o.setAttribute(l,""+h)):w.mustUseProperty?o[w.propertyName]=h===null?w.type===3?!1:"":h:(l=w.attributeName,x=w.attributeNamespace,h===null?o.removeAttribute(l):(w=w.type,h=w===3||w===4&&h===!0?"":""+h,x?o.setAttributeNS(x,l,h):o.setAttribute(l,h))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),F=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),ee=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),R=Symbol.iterator;function I(o){return o===null||typeof o!="object"?null:(o=R&&o[R]||o["@@iterator"],typeof o=="function"?o:null)}var W=Object.assign,B;function K(o){if(B===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);B=l&&l[1]||""}return`
`+B+o}var U=!1;function Z(o,l){if(!o||U)return"";U=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(oe){var x=oe}Reflect.construct(o,[],l)}else{try{l.call()}catch(oe){x=oe}o.call(l.prototype)}else{try{throw Error()}catch(oe){x=oe}o()}}catch(oe){if(oe&&x&&typeof oe.stack=="string"){for(var w=oe.stack.split(`
`),k=x.stack.split(`
`),P=w.length-1,z=k.length-1;1<=P&&0<=z&&w[P]!==k[z];)z--;for(;1<=P&&0<=z;P--,z--)if(w[P]!==k[z]){if(P!==1||z!==1)do if(P--,z--,0>z||w[P]!==k[z]){var X=`
`+w[P].replace(" at new "," at ");return o.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",o.displayName)),X}while(1<=P&&0<=z);break}}}finally{U=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?K(o):""}function H(o){switch(o.tag){case 5:return K(o.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return o=Z(o.type,!1),o;case 11:return o=Z(o.type.render,!1),o;case 1:return o=Z(o.type,!0),o;default:return""}}function ne(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case D:return"Fragment";case F:return"Portal";case V:return"Profiler";case O:return"StrictMode";case ie:return"Suspense";case J:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case ee:return(o.displayName||"Context")+".Consumer";case G:return(o._context.displayName||"Context")+".Provider";case se:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case $:return l=o.displayName||null,l!==null?l:ne(o.type)||"Memo";case L:l=o._payload,o=o._init;try{return ne(o(l))}catch{}}return null}function q(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(l);case 8:return l===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function le(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function fe(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ue(o){var l=fe(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),x=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,k=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return w.call(this)},set:function(P){x=""+P,k.call(this,P)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return x},setValue:function(P){x=""+P},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Ne(o){o._valueTracker||(o._valueTracker=ue(o))}function Te(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),x="";return o&&(x=fe(o)?o.checked?"true":"false":o.value),o=x,o!==h?(l.setValue(o),!0):!1}function Ze(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function rt(o,l){var h=l.checked;return W({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function he(o,l){var h=l.defaultValue==null?"":l.defaultValue,x=l.checked!=null?l.checked:l.defaultChecked;h=le(l.value!=null?l.value:h),o._wrapperState={initialChecked:x,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Pe(o,l){l=l.checked,l!=null&&C(o,"checked",l,!1)}function ae(o,l){Pe(o,l);var h=le(l.value),x=l.type;if(h!=null)x==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?ke(o,l.type,h):l.hasOwnProperty("defaultValue")&&ke(o,l.type,le(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function pe(o,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var x=l.type;if(!(x!=="submit"&&x!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,h||l===o.value||(o.value=l),o.defaultValue=l}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function ke(o,l,h){(l!=="number"||Ze(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var xe=Array.isArray;function Ye(o,l,h,x){if(o=o.options,l){l={};for(var w=0;w<h.length;w++)l["$"+h[w]]=!0;for(h=0;h<o.length;h++)w=l.hasOwnProperty("$"+o[h].value),o[h].selected!==w&&(o[h].selected=w),w&&x&&(o[h].defaultSelected=!0)}else{for(h=""+le(h),l=null,w=0;w<o.length;w++){if(o[w].value===h){o[w].selected=!0,x&&(o[w].defaultSelected=!0);return}l!==null||o[w].disabled||(l=o[w])}l!==null&&(l.selected=!0)}}function it(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return W({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Tt(o,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(n(92));if(xe(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),h=l}o._wrapperState={initialValue:le(h)}}function tt(o,l){var h=le(l.value),x=le(l.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),l.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),x!=null&&(o.defaultValue=""+x)}function mt(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function ct(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Y(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?ct(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Ee,we=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,x,w){MSApp.execUnsafeLocalFunction(function(){return o(l,h,x,w)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Ee=Ee||document.createElement("div"),Ee.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ee.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function We(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ut=["Webkit","ms","Moz","O"];Object.keys(nt).forEach(function(o){ut.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),nt[l]=nt[o]})});function un(o,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||nt.hasOwnProperty(o)&&nt[o]?(""+l).trim():l+"px"}function Gt(o,l){o=o.style;for(var h in l)if(l.hasOwnProperty(h)){var x=h.indexOf("--")===0,w=un(h,l[h],x);h==="float"&&(h="cssFloat"),x?o.setProperty(h,w):o[h]=w}}var Xn=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dt(o,l){if(l){if(Xn[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Sn(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $n=null;function kt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var mr=null,Xt=null,gt=null;function wt(o){if(o=Ma(o)){if(typeof mr!="function")throw Error(n(280));var l=o.stateNode;l&&(l=Nc(l),mr(o.stateNode,o.type,l))}}function Oe(o){Xt?gt?gt.push(o):gt=[o]:Xt=o}function de(){if(Xt){var o=Xt,l=gt;if(gt=Xt=null,wt(o),l)for(o=0;o<l.length;o++)wt(l[o])}}function Ce(o,l){return o(l)}function De(){}var st=!1;function Xe(o,l,h){if(st)return o(l,h);st=!0;try{return Ce(o,l,h)}finally{st=!1,(Xt!==null||gt!==null)&&(De(),de())}}function qe(o,l){var h=o.stateNode;if(h===null)return null;var x=Nc(h);if(x===null)return null;h=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var ht=!1;if(d)try{var at={};Object.defineProperty(at,"passive",{get:function(){ht=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{ht=!1}function vt(o,l,h,x,w,k,P,z,X){var oe=Array.prototype.slice.call(arguments,3);try{l.apply(h,oe)}catch(ve){this.onError(ve)}}var ge=!1,Ae=null,_e=!1,Ke=null,Pt={onError:function(o){ge=!0,Ae=o}};function jt(o,l,h,x,w,k,P,z,X){ge=!1,Ae=null,vt.apply(Pt,arguments)}function Ln(o,l,h,x,w,k,P,z,X){if(jt.apply(this,arguments),ge){if(ge){var oe=Ae;ge=!1,Ae=null}else throw Error(n(198));_e||(_e=!0,Ke=oe)}}function Rt(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function Qn(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function rc(o){if(Rt(o)!==o)throw Error(n(188))}function ya(o){var l=o.alternate;if(!l){if(l=Rt(o),l===null)throw Error(n(188));return l!==o?null:o}for(var h=o,x=l;;){var w=h.return;if(w===null)break;var k=w.alternate;if(k===null){if(x=w.return,x!==null){h=x;continue}break}if(w.child===k.child){for(k=w.child;k;){if(k===h)return rc(w),o;if(k===x)return rc(w),l;k=k.sibling}throw Error(n(188))}if(h.return!==x.return)h=w,x=k;else{for(var P=!1,z=w.child;z;){if(z===h){P=!0,h=w,x=k;break}if(z===x){P=!0,x=w,h=k;break}z=z.sibling}if(!P){for(z=k.child;z;){if(z===h){P=!0,h=k,x=w;break}if(z===x){P=!0,x=k,h=w;break}z=z.sibling}if(!P)throw Error(n(189))}}if(h.alternate!==x)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:l}function Jn(o){return o=ya(o),o!==null?Mr(o):null}function Mr(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Mr(o);if(l!==null)return l;o=o.sibling}return null}var js=t.unstable_scheduleCallback,q0=t.unstable_cancelCallback,VC=t.unstable_shouldYield,UC=t.unstable_requestPaint,Vt=t.unstable_now,HC=t.unstable_getCurrentPriorityLevel,ah=t.unstable_ImmediatePriority,K0=t.unstable_UserBlockingPriority,sc=t.unstable_NormalPriority,GC=t.unstable_LowPriority,Y0=t.unstable_IdlePriority,ic=null,$r=null;function qC(o){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(ic,o,void 0,(o.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:XC,KC=Math.log,YC=Math.LN2;function XC(o){return o>>>=0,o===0?32:31-(KC(o)/YC|0)|0}var oc=64,ac=4194304;function va(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function lc(o,l){var h=o.pendingLanes;if(h===0)return 0;var x=0,w=o.suspendedLanes,k=o.pingedLanes,P=h&268435455;if(P!==0){var z=P&~w;z!==0?x=va(z):(k&=P,k!==0&&(x=va(k)))}else P=h&~w,P!==0?x=va(P):k!==0&&(x=va(k));if(x===0)return 0;if(l!==0&&l!==x&&(l&w)===0&&(w=x&-x,k=l&-l,w>=k||w===16&&(k&4194240)!==0))return l;if((x&4)!==0&&(x|=h&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=x;0<l;)h=31-gr(l),w=1<<h,x|=o[h],l&=~w;return x}function QC(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JC(o,l){for(var h=o.suspendedLanes,x=o.pingedLanes,w=o.expirationTimes,k=o.pendingLanes;0<k;){var P=31-gr(k),z=1<<P,X=w[P];X===-1?((z&h)===0||(z&x)!==0)&&(w[P]=QC(z,l)):X<=l&&(o.expiredLanes|=z),k&=~z}}function lh(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function X0(){var o=oc;return oc<<=1,(oc&4194240)===0&&(oc=64),o}function ch(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function ba(o,l,h){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-gr(l),o[l]=h}function ZC(o,l){var h=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<h;){var w=31-gr(h),k=1<<w;l[w]=0,x[w]=-1,o[w]=-1,h&=~k}}function dh(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var x=31-gr(h),w=1<<x;w&l|o[x]&l&&(o[x]|=l),h&=~w}}var St=0;function Q0(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var J0,uh,Z0,ex,tx,hh=!1,cc=[],Ss=null,Ns=null,ks=null,wa=new Map,ja=new Map,Cs=[],eE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nx(o,l){switch(o){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":wa.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ja.delete(l.pointerId)}}function Sa(o,l,h,x,w,k){return o===null||o.nativeEvent!==k?(o={blockedOn:l,domEventName:h,eventSystemFlags:x,nativeEvent:k,targetContainers:[w]},l!==null&&(l=Ma(l),l!==null&&uh(l)),o):(o.eventSystemFlags|=x,l=o.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),o)}function tE(o,l,h,x,w){switch(l){case"focusin":return Ss=Sa(Ss,o,l,h,x,w),!0;case"dragenter":return Ns=Sa(Ns,o,l,h,x,w),!0;case"mouseover":return ks=Sa(ks,o,l,h,x,w),!0;case"pointerover":var k=w.pointerId;return wa.set(k,Sa(wa.get(k)||null,o,l,h,x,w)),!0;case"gotpointercapture":return k=w.pointerId,ja.set(k,Sa(ja.get(k)||null,o,l,h,x,w)),!0}return!1}function rx(o){var l=ci(o.target);if(l!==null){var h=Rt(l);if(h!==null){if(l=h.tag,l===13){if(l=Qn(h),l!==null){o.blockedOn=l,tx(o.priority,function(){Z0(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function dc(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=ph(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var x=new h.constructor(h.type,h);$n=x,h.target.dispatchEvent(x),$n=null}else return l=Ma(h),l!==null&&uh(l),o.blockedOn=h,!1;l.shift()}return!0}function sx(o,l,h){dc(o)&&h.delete(l)}function nE(){hh=!1,Ss!==null&&dc(Ss)&&(Ss=null),Ns!==null&&dc(Ns)&&(Ns=null),ks!==null&&dc(ks)&&(ks=null),wa.forEach(sx),ja.forEach(sx)}function Na(o,l){o.blockedOn===l&&(o.blockedOn=null,hh||(hh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,nE)))}function ka(o){function l(w){return Na(w,o)}if(0<cc.length){Na(cc[0],o);for(var h=1;h<cc.length;h++){var x=cc[h];x.blockedOn===o&&(x.blockedOn=null)}}for(Ss!==null&&Na(Ss,o),Ns!==null&&Na(Ns,o),ks!==null&&Na(ks,o),wa.forEach(l),ja.forEach(l),h=0;h<Cs.length;h++)x=Cs[h],x.blockedOn===o&&(x.blockedOn=null);for(;0<Cs.length&&(h=Cs[0],h.blockedOn===null);)rx(h),h.blockedOn===null&&Cs.shift()}var Xi=E.ReactCurrentBatchConfig,uc=!0;function rE(o,l,h,x){var w=St,k=Xi.transition;Xi.transition=null;try{St=1,fh(o,l,h,x)}finally{St=w,Xi.transition=k}}function sE(o,l,h,x){var w=St,k=Xi.transition;Xi.transition=null;try{St=4,fh(o,l,h,x)}finally{St=w,Xi.transition=k}}function fh(o,l,h,x){if(uc){var w=ph(o,l,h,x);if(w===null)Ph(o,l,x,hc,h),nx(o,x);else if(tE(w,o,l,h,x))x.stopPropagation();else if(nx(o,x),l&4&&-1<eE.indexOf(o)){for(;w!==null;){var k=Ma(w);if(k!==null&&J0(k),k=ph(o,l,h,x),k===null&&Ph(o,l,x,hc,h),k===w)break;w=k}w!==null&&x.stopPropagation()}else Ph(o,l,x,null,h)}}var hc=null;function ph(o,l,h,x){if(hc=null,o=kt(x),o=ci(o),o!==null)if(l=Rt(o),l===null)o=null;else if(h=l.tag,h===13){if(o=Qn(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return hc=o,null}function ix(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HC()){case ah:return 1;case K0:return 4;case sc:case GC:return 16;case Y0:return 536870912;default:return 16}default:return 16}}var Es=null,mh=null,fc=null;function ox(){if(fc)return fc;var o,l=mh,h=l.length,x,w="value"in Es?Es.value:Es.textContent,k=w.length;for(o=0;o<h&&l[o]===w[o];o++);var P=h-o;for(x=1;x<=P&&l[h-x]===w[k-x];x++);return fc=w.slice(o,1<x?1-x:void 0)}function pc(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function mc(){return!0}function ax(){return!1}function Bn(o){function l(h,x,w,k,P){this._reactName=h,this._targetInst=w,this.type=x,this.nativeEvent=k,this.target=P,this.currentTarget=null;for(var z in o)o.hasOwnProperty(z)&&(h=o[z],this[z]=h?h(k):k[z]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?mc:ax,this.isPropagationStopped=ax,this}return W(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=mc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=mc)},persist:function(){},isPersistent:mc}),l}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gh=Bn(Qi),Ca=W({},Qi,{view:0,detail:0}),iE=Bn(Ca),xh,yh,Ea,gc=W({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ea&&(Ea&&o.type==="mousemove"?(xh=o.screenX-Ea.screenX,yh=o.screenY-Ea.screenY):yh=xh=0,Ea=o),xh)},movementY:function(o){return"movementY"in o?o.movementY:yh}}),lx=Bn(gc),oE=W({},gc,{dataTransfer:0}),aE=Bn(oE),lE=W({},Ca,{relatedTarget:0}),vh=Bn(lE),cE=W({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),dE=Bn(cE),uE=W({},Qi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),hE=Bn(uE),fE=W({},Qi,{data:0}),cx=Bn(fE),pE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xE(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=gE[o])?!!l[o]:!1}function bh(){return xE}var yE=W({},Ca,{key:function(o){if(o.key){var l=pE[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=pc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?mE[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bh,charCode:function(o){return o.type==="keypress"?pc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?pc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),vE=Bn(yE),bE=W({},gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dx=Bn(bE),wE=W({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bh}),jE=Bn(wE),SE=W({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),NE=Bn(SE),kE=W({},gc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),CE=Bn(kE),EE=[9,13,27,32],wh=d&&"CompositionEvent"in window,_a=null;d&&"documentMode"in document&&(_a=document.documentMode);var _E=d&&"TextEvent"in window&&!_a,ux=d&&(!wh||_a&&8<_a&&11>=_a),hx=" ",fx=!1;function px(o,l){switch(o){case"keyup":return EE.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mx(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ji=!1;function AE(o,l){switch(o){case"compositionend":return mx(l);case"keypress":return l.which!==32?null:(fx=!0,hx);case"textInput":return o=l.data,o===hx&&fx?null:o;default:return null}}function TE(o,l){if(Ji)return o==="compositionend"||!wh&&px(o,l)?(o=ox(),fc=mh=Es=null,Ji=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ux&&l.locale!=="ko"?null:l.data;default:return null}}var PE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gx(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!PE[o.type]:l==="textarea"}function xx(o,l,h,x){Oe(x),l=wc(l,"onChange"),0<l.length&&(h=new gh("onChange","change",null,h,x),o.push({event:h,listeners:l}))}var Aa=null,Ta=null;function RE(o){Ix(o,0)}function xc(o){var l=ro(o);if(Te(l))return o}function DE(o,l){if(o==="change")return l}var yx=!1;if(d){var jh;if(d){var Sh="oninput"in document;if(!Sh){var vx=document.createElement("div");vx.setAttribute("oninput","return;"),Sh=typeof vx.oninput=="function"}jh=Sh}else jh=!1;yx=jh&&(!document.documentMode||9<document.documentMode)}function bx(){Aa&&(Aa.detachEvent("onpropertychange",wx),Ta=Aa=null)}function wx(o){if(o.propertyName==="value"&&xc(Ta)){var l=[];xx(l,Ta,o,kt(o)),Xe(RE,l)}}function OE(o,l,h){o==="focusin"?(bx(),Aa=l,Ta=h,Aa.attachEvent("onpropertychange",wx)):o==="focusout"&&bx()}function IE(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return xc(Ta)}function FE(o,l){if(o==="click")return xc(l)}function ME(o,l){if(o==="input"||o==="change")return xc(l)}function $E(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var xr=typeof Object.is=="function"?Object.is:$E;function Pa(o,l){if(xr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),x=Object.keys(l);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var w=h[x];if(!u.call(l,w)||!xr(o[w],l[w]))return!1}return!0}function jx(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Sx(o,l){var h=jx(o);o=0;for(var x;h;){if(h.nodeType===3){if(x=o+h.textContent.length,o<=l&&x>=l)return{node:h,offset:l-o};o=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=jx(h)}}function Nx(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Nx(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function kx(){for(var o=window,l=Ze();l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=Ze(o.document)}return l}function Nh(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function LE(o){var l=kx(),h=o.focusedElem,x=o.selectionRange;if(l!==h&&h&&h.ownerDocument&&Nx(h.ownerDocument.documentElement,h)){if(x!==null&&Nh(h)){if(l=x.start,o=x.end,o===void 0&&(o=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(o,h.value.length);else if(o=(l=h.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var w=h.textContent.length,k=Math.min(x.start,w);x=x.end===void 0?k:Math.min(x.end,w),!o.extend&&k>x&&(w=x,x=k,k=w),w=Sx(h,k);var P=Sx(h,x);w&&P&&(o.rangeCount!==1||o.anchorNode!==w.node||o.anchorOffset!==w.offset||o.focusNode!==P.node||o.focusOffset!==P.offset)&&(l=l.createRange(),l.setStart(w.node,w.offset),o.removeAllRanges(),k>x?(o.addRange(l),o.extend(P.node,P.offset)):(l.setEnd(P.node,P.offset),o.addRange(l)))}}for(l=[],o=h;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)o=l[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var BE=d&&"documentMode"in document&&11>=document.documentMode,Zi=null,kh=null,Ra=null,Ch=!1;function Cx(o,l,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ch||Zi==null||Zi!==Ze(x)||(x=Zi,"selectionStart"in x&&Nh(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ra&&Pa(Ra,x)||(Ra=x,x=wc(kh,"onSelect"),0<x.length&&(l=new gh("onSelect","select",null,l,h),o.push({event:l,listeners:x}),l.target=Zi)))}function yc(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var eo={animationend:yc("Animation","AnimationEnd"),animationiteration:yc("Animation","AnimationIteration"),animationstart:yc("Animation","AnimationStart"),transitionend:yc("Transition","TransitionEnd")},Eh={},Ex={};d&&(Ex=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function vc(o){if(Eh[o])return Eh[o];if(!eo[o])return o;var l=eo[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in Ex)return Eh[o]=l[h];return o}var _x=vc("animationend"),Ax=vc("animationiteration"),Tx=vc("animationstart"),Px=vc("transitionend"),Rx=new Map,Dx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(o,l){Rx.set(o,l),a(l,[o])}for(var _h=0;_h<Dx.length;_h++){var Ah=Dx[_h],zE=Ah.toLowerCase(),WE=Ah[0].toUpperCase()+Ah.slice(1);_s(zE,"on"+WE)}_s(_x,"onAnimationEnd"),_s(Ax,"onAnimationIteration"),_s(Tx,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(Px,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Da));function Ox(o,l,h){var x=o.type||"unknown-event";o.currentTarget=h,Ln(x,l,void 0,o),o.currentTarget=null}function Ix(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var x=o[h],w=x.event;x=x.listeners;e:{var k=void 0;if(l)for(var P=x.length-1;0<=P;P--){var z=x[P],X=z.instance,oe=z.currentTarget;if(z=z.listener,X!==k&&w.isPropagationStopped())break e;Ox(w,z,oe),k=X}else for(P=0;P<x.length;P++){if(z=x[P],X=z.instance,oe=z.currentTarget,z=z.listener,X!==k&&w.isPropagationStopped())break e;Ox(w,z,oe),k=X}}}if(_e)throw o=Ke,_e=!1,Ke=null,o}function _t(o,l){var h=l[Mh];h===void 0&&(h=l[Mh]=new Set);var x=o+"__bubble";h.has(x)||(Fx(l,o,2,!1),h.add(x))}function Th(o,l,h){var x=0;l&&(x|=4),Fx(h,o,x,l)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Oa(o){if(!o[bc]){o[bc]=!0,r.forEach(function(h){h!=="selectionchange"&&(VE.has(h)||Th(h,!1,o),Th(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[bc]||(l[bc]=!0,Th("selectionchange",!1,l))}}function Fx(o,l,h,x){switch(ix(l)){case 1:var w=rE;break;case 4:w=sE;break;default:w=fh}h=w.bind(null,l,h,o),w=void 0,!ht||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),x?w!==void 0?o.addEventListener(l,h,{capture:!0,passive:w}):o.addEventListener(l,h,!0):w!==void 0?o.addEventListener(l,h,{passive:w}):o.addEventListener(l,h,!1)}function Ph(o,l,h,x,w){var k=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var P=x.tag;if(P===3||P===4){var z=x.stateNode.containerInfo;if(z===w||z.nodeType===8&&z.parentNode===w)break;if(P===4)for(P=x.return;P!==null;){var X=P.tag;if((X===3||X===4)&&(X=P.stateNode.containerInfo,X===w||X.nodeType===8&&X.parentNode===w))return;P=P.return}for(;z!==null;){if(P=ci(z),P===null)return;if(X=P.tag,X===5||X===6){x=k=P;continue e}z=z.parentNode}}x=x.return}Xe(function(){var oe=k,ve=kt(h),be=[];e:{var ye=Rx.get(o);if(ye!==void 0){var Re=gh,Fe=o;switch(o){case"keypress":if(pc(h)===0)break e;case"keydown":case"keyup":Re=vE;break;case"focusin":Fe="focus",Re=vh;break;case"focusout":Fe="blur",Re=vh;break;case"beforeblur":case"afterblur":Re=vh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=lx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=aE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=jE;break;case _x:case Ax:case Tx:Re=dE;break;case Px:Re=NE;break;case"scroll":Re=iE;break;case"wheel":Re=CE;break;case"copy":case"cut":case"paste":Re=hE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=dx}var Le=(l&4)!==0,Ut=!Le&&o==="scroll",te=Le?ye!==null?ye+"Capture":null:ye;Le=[];for(var Q=oe,re;Q!==null;){re=Q;var Se=re.stateNode;if(re.tag===5&&Se!==null&&(re=Se,te!==null&&(Se=qe(Q,te),Se!=null&&Le.push(Ia(Q,Se,re)))),Ut)break;Q=Q.return}0<Le.length&&(ye=new Re(ye,Fe,null,h,ve),be.push({event:ye,listeners:Le}))}}if((l&7)===0){e:{if(ye=o==="mouseover"||o==="pointerover",Re=o==="mouseout"||o==="pointerout",ye&&h!==$n&&(Fe=h.relatedTarget||h.fromElement)&&(ci(Fe)||Fe[Jr]))break e;if((Re||ye)&&(ye=ve.window===ve?ve:(ye=ve.ownerDocument)?ye.defaultView||ye.parentWindow:window,Re?(Fe=h.relatedTarget||h.toElement,Re=oe,Fe=Fe?ci(Fe):null,Fe!==null&&(Ut=Rt(Fe),Fe!==Ut||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):(Re=null,Fe=oe),Re!==Fe)){if(Le=lx,Se="onMouseLeave",te="onMouseEnter",Q="mouse",(o==="pointerout"||o==="pointerover")&&(Le=dx,Se="onPointerLeave",te="onPointerEnter",Q="pointer"),Ut=Re==null?ye:ro(Re),re=Fe==null?ye:ro(Fe),ye=new Le(Se,Q+"leave",Re,h,ve),ye.target=Ut,ye.relatedTarget=re,Se=null,ci(ve)===oe&&(Le=new Le(te,Q+"enter",Fe,h,ve),Le.target=re,Le.relatedTarget=Ut,Se=Le),Ut=Se,Re&&Fe)t:{for(Le=Re,te=Fe,Q=0,re=Le;re;re=to(re))Q++;for(re=0,Se=te;Se;Se=to(Se))re++;for(;0<Q-re;)Le=to(Le),Q--;for(;0<re-Q;)te=to(te),re--;for(;Q--;){if(Le===te||te!==null&&Le===te.alternate)break t;Le=to(Le),te=to(te)}Le=null}else Le=null;Re!==null&&Mx(be,ye,Re,Le,!1),Fe!==null&&Ut!==null&&Mx(be,Ut,Fe,Le,!0)}}e:{if(ye=oe?ro(oe):window,Re=ye.nodeName&&ye.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ye.type==="file")var Be=DE;else if(gx(ye))if(yx)Be=ME;else{Be=IE;var Ue=OE}else(Re=ye.nodeName)&&Re.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(Be=FE);if(Be&&(Be=Be(o,oe))){xx(be,Be,h,ve);break e}Ue&&Ue(o,ye,oe),o==="focusout"&&(Ue=ye._wrapperState)&&Ue.controlled&&ye.type==="number"&&ke(ye,"number",ye.value)}switch(Ue=oe?ro(oe):window,o){case"focusin":(gx(Ue)||Ue.contentEditable==="true")&&(Zi=Ue,kh=oe,Ra=null);break;case"focusout":Ra=kh=Zi=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,Cx(be,h,ve);break;case"selectionchange":if(BE)break;case"keydown":case"keyup":Cx(be,h,ve)}var He;if(wh)e:{switch(o){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Ji?px(o,h)&&(et="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(et="onCompositionStart");et&&(ux&&h.locale!=="ko"&&(Ji||et!=="onCompositionStart"?et==="onCompositionEnd"&&Ji&&(He=ox()):(Es=ve,mh="value"in Es?Es.value:Es.textContent,Ji=!0)),Ue=wc(oe,et),0<Ue.length&&(et=new cx(et,o,null,h,ve),be.push({event:et,listeners:Ue}),He?et.data=He:(He=mx(h),He!==null&&(et.data=He)))),(He=_E?AE(o,h):TE(o,h))&&(oe=wc(oe,"onBeforeInput"),0<oe.length&&(ve=new cx("onBeforeInput","beforeinput",null,h,ve),be.push({event:ve,listeners:oe}),ve.data=He))}Ix(be,l)})}function Ia(o,l,h){return{instance:o,listener:l,currentTarget:h}}function wc(o,l){for(var h=l+"Capture",x=[];o!==null;){var w=o,k=w.stateNode;w.tag===5&&k!==null&&(w=k,k=qe(o,h),k!=null&&x.unshift(Ia(o,k,w)),k=qe(o,l),k!=null&&x.push(Ia(o,k,w))),o=o.return}return x}function to(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Mx(o,l,h,x,w){for(var k=l._reactName,P=[];h!==null&&h!==x;){var z=h,X=z.alternate,oe=z.stateNode;if(X!==null&&X===x)break;z.tag===5&&oe!==null&&(z=oe,w?(X=qe(h,k),X!=null&&P.unshift(Ia(h,X,z))):w||(X=qe(h,k),X!=null&&P.push(Ia(h,X,z)))),h=h.return}P.length!==0&&o.push({event:l,listeners:P})}var UE=/\r\n?/g,HE=/\u0000|\uFFFD/g;function $x(o){return(typeof o=="string"?o:""+o).replace(UE,`
`).replace(HE,"")}function jc(o,l,h){if(l=$x(l),$x(o)!==l&&h)throw Error(n(425))}function Sc(){}var Rh=null,Dh=null;function Oh(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ih=typeof setTimeout=="function"?setTimeout:void 0,GE=typeof clearTimeout=="function"?clearTimeout:void 0,Lx=typeof Promise=="function"?Promise:void 0,qE=typeof queueMicrotask=="function"?queueMicrotask:typeof Lx<"u"?function(o){return Lx.resolve(null).then(o).catch(KE)}:Ih;function KE(o){setTimeout(function(){throw o})}function Fh(o,l){var h=l,x=0;do{var w=h.nextSibling;if(o.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"){if(x===0){o.removeChild(w),ka(l);return}x--}else h!=="$"&&h!=="$?"&&h!=="$!"||x++;h=w}while(h);ka(l)}function As(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function Bx(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}var no=Math.random().toString(36).slice(2),Lr="__reactFiber$"+no,Fa="__reactProps$"+no,Jr="__reactContainer$"+no,Mh="__reactEvents$"+no,YE="__reactListeners$"+no,XE="__reactHandles$"+no;function ci(o){var l=o[Lr];if(l)return l;for(var h=o.parentNode;h;){if(l=h[Jr]||h[Lr]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=Bx(o);o!==null;){if(h=o[Lr])return h;o=Bx(o)}return l}o=h,h=o.parentNode}return null}function Ma(o){return o=o[Lr]||o[Jr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ro(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Nc(o){return o[Fa]||null}var $h=[],so=-1;function Ts(o){return{current:o}}function At(o){0>so||(o.current=$h[so],$h[so]=null,so--)}function Ct(o,l){so++,$h[so]=o.current,o.current=l}var Ps={},hn=Ts(Ps),An=Ts(!1),di=Ps;function io(o,l){var h=o.type.contextTypes;if(!h)return Ps;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===l)return x.__reactInternalMemoizedMaskedChildContext;var w={},k;for(k in h)w[k]=l[k];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=w),w}function Tn(o){return o=o.childContextTypes,o!=null}function kc(){At(An),At(hn)}function zx(o,l,h){if(hn.current!==Ps)throw Error(n(168));Ct(hn,l),Ct(An,h)}function Wx(o,l,h){var x=o.stateNode;if(l=l.childContextTypes,typeof x.getChildContext!="function")return h;x=x.getChildContext();for(var w in x)if(!(w in l))throw Error(n(108,q(o)||"Unknown",w));return W({},h,x)}function Cc(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ps,di=hn.current,Ct(hn,o),Ct(An,An.current),!0}function Vx(o,l,h){var x=o.stateNode;if(!x)throw Error(n(169));h?(o=Wx(o,l,di),x.__reactInternalMemoizedMergedChildContext=o,At(An),At(hn),Ct(hn,o)):At(An),Ct(An,h)}var Zr=null,Ec=!1,Lh=!1;function Ux(o){Zr===null?Zr=[o]:Zr.push(o)}function QE(o){Ec=!0,Ux(o)}function Rs(){if(!Lh&&Zr!==null){Lh=!0;var o=0,l=St;try{var h=Zr;for(St=1;o<h.length;o++){var x=h[o];do x=x(!0);while(x!==null)}Zr=null,Ec=!1}catch(w){throw Zr!==null&&(Zr=Zr.slice(o+1)),js(ah,Rs),w}finally{St=l,Lh=!1}}return null}var oo=[],ao=0,_c=null,Ac=0,Zn=[],er=0,ui=null,es=1,ts="";function hi(o,l){oo[ao++]=Ac,oo[ao++]=_c,_c=o,Ac=l}function Hx(o,l,h){Zn[er++]=es,Zn[er++]=ts,Zn[er++]=ui,ui=o;var x=es;o=ts;var w=32-gr(x)-1;x&=~(1<<w),h+=1;var k=32-gr(l)+w;if(30<k){var P=w-w%5;k=(x&(1<<P)-1).toString(32),x>>=P,w-=P,es=1<<32-gr(l)+w|h<<w|x,ts=k+o}else es=1<<k|h<<w|x,ts=o}function Bh(o){o.return!==null&&(hi(o,1),Hx(o,1,0))}function zh(o){for(;o===_c;)_c=oo[--ao],oo[ao]=null,Ac=oo[--ao],oo[ao]=null;for(;o===ui;)ui=Zn[--er],Zn[er]=null,ts=Zn[--er],Zn[er]=null,es=Zn[--er],Zn[er]=null}var zn=null,Wn=null,Dt=!1,yr=null;function Gx(o,l){var h=sr(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=o,l=o.deletions,l===null?(o.deletions=[h],o.flags|=16):l.push(h)}function qx(o,l){switch(o.tag){case 5:var h=o.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,zn=o,Wn=As(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,zn=o,Wn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=ui!==null?{id:es,overflow:ts}:null,o.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=sr(18,null,null,0),h.stateNode=l,h.return=o,o.child=h,zn=o,Wn=null,!0):!1;default:return!1}}function Wh(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Vh(o){if(Dt){var l=Wn;if(l){var h=l;if(!qx(o,l)){if(Wh(o))throw Error(n(418));l=As(h.nextSibling);var x=zn;l&&qx(o,l)?Gx(x,h):(o.flags=o.flags&-4097|2,Dt=!1,zn=o)}}else{if(Wh(o))throw Error(n(418));o.flags=o.flags&-4097|2,Dt=!1,zn=o}}}function Kx(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;zn=o}function Tc(o){if(o!==zn)return!1;if(!Dt)return Kx(o),Dt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Oh(o.type,o.memoizedProps)),l&&(l=Wn)){if(Wh(o))throw Yx(),Error(n(418));for(;l;)Gx(o,l),l=As(l.nextSibling)}if(Kx(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(l===0){Wn=As(o.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}o=o.nextSibling}Wn=null}}else Wn=zn?As(o.stateNode.nextSibling):null;return!0}function Yx(){for(var o=Wn;o;)o=As(o.nextSibling)}function lo(){Wn=zn=null,Dt=!1}function Uh(o){yr===null?yr=[o]:yr.push(o)}var JE=E.ReactCurrentBatchConfig;function $a(o,l,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var x=h.stateNode}if(!x)throw Error(n(147,o));var w=x,k=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function(P){var z=w.refs;P===null?delete z[k]:z[k]=P},l._stringRef=k,l)}if(typeof o!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,o))}return o}function Pc(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function Xx(o){var l=o._init;return l(o._payload)}function Qx(o){function l(te,Q){if(o){var re=te.deletions;re===null?(te.deletions=[Q],te.flags|=16):re.push(Q)}}function h(te,Q){if(!o)return null;for(;Q!==null;)l(te,Q),Q=Q.sibling;return null}function x(te,Q){for(te=new Map;Q!==null;)Q.key!==null?te.set(Q.key,Q):te.set(Q.index,Q),Q=Q.sibling;return te}function w(te,Q){return te=Bs(te,Q),te.index=0,te.sibling=null,te}function k(te,Q,re){return te.index=re,o?(re=te.alternate,re!==null?(re=re.index,re<Q?(te.flags|=2,Q):re):(te.flags|=2,Q)):(te.flags|=1048576,Q)}function P(te){return o&&te.alternate===null&&(te.flags|=2),te}function z(te,Q,re,Se){return Q===null||Q.tag!==6?(Q=Ff(re,te.mode,Se),Q.return=te,Q):(Q=w(Q,re),Q.return=te,Q)}function X(te,Q,re,Se){var Be=re.type;return Be===D?ve(te,Q,re.props.children,Se,re.key):Q!==null&&(Q.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===L&&Xx(Be)===Q.type)?(Se=w(Q,re.props),Se.ref=$a(te,Q,re),Se.return=te,Se):(Se=td(re.type,re.key,re.props,null,te.mode,Se),Se.ref=$a(te,Q,re),Se.return=te,Se)}function oe(te,Q,re,Se){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==re.containerInfo||Q.stateNode.implementation!==re.implementation?(Q=Mf(re,te.mode,Se),Q.return=te,Q):(Q=w(Q,re.children||[]),Q.return=te,Q)}function ve(te,Q,re,Se,Be){return Q===null||Q.tag!==7?(Q=bi(re,te.mode,Se,Be),Q.return=te,Q):(Q=w(Q,re),Q.return=te,Q)}function be(te,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=Ff(""+Q,te.mode,re),Q.return=te,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:return re=td(Q.type,Q.key,Q.props,null,te.mode,re),re.ref=$a(te,null,Q),re.return=te,re;case F:return Q=Mf(Q,te.mode,re),Q.return=te,Q;case L:var Se=Q._init;return be(te,Se(Q._payload),re)}if(xe(Q)||I(Q))return Q=bi(Q,te.mode,re,null),Q.return=te,Q;Pc(te,Q)}return null}function ye(te,Q,re,Se){var Be=Q!==null?Q.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Be!==null?null:z(te,Q,""+re,Se);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case A:return re.key===Be?X(te,Q,re,Se):null;case F:return re.key===Be?oe(te,Q,re,Se):null;case L:return Be=re._init,ye(te,Q,Be(re._payload),Se)}if(xe(re)||I(re))return Be!==null?null:ve(te,Q,re,Se,null);Pc(te,re)}return null}function Re(te,Q,re,Se,Be){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return te=te.get(re)||null,z(Q,te,""+Se,Be);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case A:return te=te.get(Se.key===null?re:Se.key)||null,X(Q,te,Se,Be);case F:return te=te.get(Se.key===null?re:Se.key)||null,oe(Q,te,Se,Be);case L:var Ue=Se._init;return Re(te,Q,re,Ue(Se._payload),Be)}if(xe(Se)||I(Se))return te=te.get(re)||null,ve(Q,te,Se,Be,null);Pc(Q,Se)}return null}function Fe(te,Q,re,Se){for(var Be=null,Ue=null,He=Q,et=Q=0,sn=null;He!==null&&et<re.length;et++){He.index>et?(sn=He,He=null):sn=He.sibling;var xt=ye(te,He,re[et],Se);if(xt===null){He===null&&(He=sn);break}o&&He&&xt.alternate===null&&l(te,He),Q=k(xt,Q,et),Ue===null?Be=xt:Ue.sibling=xt,Ue=xt,He=sn}if(et===re.length)return h(te,He),Dt&&hi(te,et),Be;if(He===null){for(;et<re.length;et++)He=be(te,re[et],Se),He!==null&&(Q=k(He,Q,et),Ue===null?Be=He:Ue.sibling=He,Ue=He);return Dt&&hi(te,et),Be}for(He=x(te,He);et<re.length;et++)sn=Re(He,te,et,re[et],Se),sn!==null&&(o&&sn.alternate!==null&&He.delete(sn.key===null?et:sn.key),Q=k(sn,Q,et),Ue===null?Be=sn:Ue.sibling=sn,Ue=sn);return o&&He.forEach(function(zs){return l(te,zs)}),Dt&&hi(te,et),Be}function Le(te,Q,re,Se){var Be=I(re);if(typeof Be!="function")throw Error(n(150));if(re=Be.call(re),re==null)throw Error(n(151));for(var Ue=Be=null,He=Q,et=Q=0,sn=null,xt=re.next();He!==null&&!xt.done;et++,xt=re.next()){He.index>et?(sn=He,He=null):sn=He.sibling;var zs=ye(te,He,xt.value,Se);if(zs===null){He===null&&(He=sn);break}o&&He&&zs.alternate===null&&l(te,He),Q=k(zs,Q,et),Ue===null?Be=zs:Ue.sibling=zs,Ue=zs,He=sn}if(xt.done)return h(te,He),Dt&&hi(te,et),Be;if(He===null){for(;!xt.done;et++,xt=re.next())xt=be(te,xt.value,Se),xt!==null&&(Q=k(xt,Q,et),Ue===null?Be=xt:Ue.sibling=xt,Ue=xt);return Dt&&hi(te,et),Be}for(He=x(te,He);!xt.done;et++,xt=re.next())xt=Re(He,te,et,xt.value,Se),xt!==null&&(o&&xt.alternate!==null&&He.delete(xt.key===null?et:xt.key),Q=k(xt,Q,et),Ue===null?Be=xt:Ue.sibling=xt,Ue=xt);return o&&He.forEach(function(P5){return l(te,P5)}),Dt&&hi(te,et),Be}function Ut(te,Q,re,Se){if(typeof re=="object"&&re!==null&&re.type===D&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case A:e:{for(var Be=re.key,Ue=Q;Ue!==null;){if(Ue.key===Be){if(Be=re.type,Be===D){if(Ue.tag===7){h(te,Ue.sibling),Q=w(Ue,re.props.children),Q.return=te,te=Q;break e}}else if(Ue.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===L&&Xx(Be)===Ue.type){h(te,Ue.sibling),Q=w(Ue,re.props),Q.ref=$a(te,Ue,re),Q.return=te,te=Q;break e}h(te,Ue);break}else l(te,Ue);Ue=Ue.sibling}re.type===D?(Q=bi(re.props.children,te.mode,Se,re.key),Q.return=te,te=Q):(Se=td(re.type,re.key,re.props,null,te.mode,Se),Se.ref=$a(te,Q,re),Se.return=te,te=Se)}return P(te);case F:e:{for(Ue=re.key;Q!==null;){if(Q.key===Ue)if(Q.tag===4&&Q.stateNode.containerInfo===re.containerInfo&&Q.stateNode.implementation===re.implementation){h(te,Q.sibling),Q=w(Q,re.children||[]),Q.return=te,te=Q;break e}else{h(te,Q);break}else l(te,Q);Q=Q.sibling}Q=Mf(re,te.mode,Se),Q.return=te,te=Q}return P(te);case L:return Ue=re._init,Ut(te,Q,Ue(re._payload),Se)}if(xe(re))return Fe(te,Q,re,Se);if(I(re))return Le(te,Q,re,Se);Pc(te,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Q!==null&&Q.tag===6?(h(te,Q.sibling),Q=w(Q,re),Q.return=te,te=Q):(h(te,Q),Q=Ff(re,te.mode,Se),Q.return=te,te=Q),P(te)):h(te,Q)}return Ut}var co=Qx(!0),Jx=Qx(!1),Rc=Ts(null),Dc=null,uo=null,Hh=null;function Gh(){Hh=uo=Dc=null}function qh(o){var l=Rc.current;At(Rc),o._currentValue=l}function Kh(o,l,h){for(;o!==null;){var x=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),o===h)break;o=o.return}}function ho(o,l){Dc=o,Hh=uo=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(Pn=!0),o.firstContext=null)}function tr(o){var l=o._currentValue;if(Hh!==o)if(o={context:o,memoizedValue:l,next:null},uo===null){if(Dc===null)throw Error(n(308));uo=o,Dc.dependencies={lanes:0,firstContext:o}}else uo=uo.next=o;return l}var fi=null;function Yh(o){fi===null?fi=[o]:fi.push(o)}function Zx(o,l,h,x){var w=l.interleaved;return w===null?(h.next=h,Yh(l)):(h.next=w.next,w.next=h),l.interleaved=h,ns(o,x)}function ns(o,l){o.lanes|=l;var h=o.alternate;for(h!==null&&(h.lanes|=l),h=o,o=o.return;o!==null;)o.childLanes|=l,h=o.alternate,h!==null&&(h.childLanes|=l),h=o,o=o.return;return h.tag===3?h.stateNode:null}var Ds=!1;function Xh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ey(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function rs(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Os(o,l,h){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(ft&2)!==0){var w=x.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),x.pending=l,ns(o,h)}return w=x.interleaved,w===null?(l.next=l,Yh(x)):(l.next=w.next,w.next=l),x.interleaved=l,ns(o,h)}function Oc(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var x=l.lanes;x&=o.pendingLanes,h|=x,l.lanes=h,dh(o,h)}}function ty(o,l){var h=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var w=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var P={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};k===null?w=k=P:k=k.next=P,h=h.next}while(h!==null);k===null?w=k=l:k=k.next=l}else w=k=l;h={baseState:x.baseState,firstBaseUpdate:w,lastBaseUpdate:k,shared:x.shared,effects:x.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}function Ic(o,l,h,x){var w=o.updateQueue;Ds=!1;var k=w.firstBaseUpdate,P=w.lastBaseUpdate,z=w.shared.pending;if(z!==null){w.shared.pending=null;var X=z,oe=X.next;X.next=null,P===null?k=oe:P.next=oe,P=X;var ve=o.alternate;ve!==null&&(ve=ve.updateQueue,z=ve.lastBaseUpdate,z!==P&&(z===null?ve.firstBaseUpdate=oe:z.next=oe,ve.lastBaseUpdate=X))}if(k!==null){var be=w.baseState;P=0,ve=oe=X=null,z=k;do{var ye=z.lane,Re=z.eventTime;if((x&ye)===ye){ve!==null&&(ve=ve.next={eventTime:Re,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Fe=o,Le=z;switch(ye=l,Re=h,Le.tag){case 1:if(Fe=Le.payload,typeof Fe=="function"){be=Fe.call(Re,be,ye);break e}be=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Le.payload,ye=typeof Fe=="function"?Fe.call(Re,be,ye):Fe,ye==null)break e;be=W({},be,ye);break e;case 2:Ds=!0}}z.callback!==null&&z.lane!==0&&(o.flags|=64,ye=w.effects,ye===null?w.effects=[z]:ye.push(z))}else Re={eventTime:Re,lane:ye,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ve===null?(oe=ve=Re,X=be):ve=ve.next=Re,P|=ye;if(z=z.next,z===null){if(z=w.shared.pending,z===null)break;ye=z,z=ye.next,ye.next=null,w.lastBaseUpdate=ye,w.shared.pending=null}}while(!0);if(ve===null&&(X=be),w.baseState=X,w.firstBaseUpdate=oe,w.lastBaseUpdate=ve,l=w.shared.interleaved,l!==null){w=l;do P|=w.lane,w=w.next;while(w!==l)}else k===null&&(w.shared.lanes=0);gi|=P,o.lanes=P,o.memoizedState=be}}function ny(o,l,h){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var x=o[l],w=x.callback;if(w!==null){if(x.callback=null,x=h,typeof w!="function")throw Error(n(191,w));w.call(x)}}}var La={},Br=Ts(La),Ba=Ts(La),za=Ts(La);function pi(o){if(o===La)throw Error(n(174));return o}function Qh(o,l){switch(Ct(za,l),Ct(Ba,o),Ct(Br,La),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Y(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Y(l,o)}At(Br),Ct(Br,l)}function fo(){At(Br),At(Ba),At(za)}function ry(o){pi(za.current);var l=pi(Br.current),h=Y(l,o.type);l!==h&&(Ct(Ba,o),Ct(Br,h))}function Jh(o){Ba.current===o&&(At(Br),At(Ba))}var It=Ts(0);function Fc(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Zh=[];function ef(){for(var o=0;o<Zh.length;o++)Zh[o]._workInProgressVersionPrimary=null;Zh.length=0}var Mc=E.ReactCurrentDispatcher,tf=E.ReactCurrentBatchConfig,mi=0,Ft=null,Qt=null,nn=null,$c=!1,Wa=!1,Va=0,ZE=0;function fn(){throw Error(n(321))}function nf(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!xr(o[h],l[h]))return!1;return!0}function rf(o,l,h,x,w,k){if(mi=k,Ft=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Mc.current=o===null||o.memoizedState===null?r5:s5,o=h(x,w),Wa){k=0;do{if(Wa=!1,Va=0,25<=k)throw Error(n(301));k+=1,nn=Qt=null,l.updateQueue=null,Mc.current=i5,o=h(x,w)}while(Wa)}if(Mc.current=zc,l=Qt!==null&&Qt.next!==null,mi=0,nn=Qt=Ft=null,$c=!1,l)throw Error(n(300));return o}function sf(){var o=Va!==0;return Va=0,o}function zr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Ft.memoizedState=nn=o:nn=nn.next=o,nn}function nr(){if(Qt===null){var o=Ft.alternate;o=o!==null?o.memoizedState:null}else o=Qt.next;var l=nn===null?Ft.memoizedState:nn.next;if(l!==null)nn=l,Qt=o;else{if(o===null)throw Error(n(310));Qt=o,o={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},nn===null?Ft.memoizedState=nn=o:nn=nn.next=o}return nn}function Ua(o,l){return typeof l=="function"?l(o):l}function of(o){var l=nr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=Qt,w=x.baseQueue,k=h.pending;if(k!==null){if(w!==null){var P=w.next;w.next=k.next,k.next=P}x.baseQueue=w=k,h.pending=null}if(w!==null){k=w.next,x=x.baseState;var z=P=null,X=null,oe=k;do{var ve=oe.lane;if((mi&ve)===ve)X!==null&&(X=X.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),x=oe.hasEagerState?oe.eagerState:o(x,oe.action);else{var be={lane:ve,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};X===null?(z=X=be,P=x):X=X.next=be,Ft.lanes|=ve,gi|=ve}oe=oe.next}while(oe!==null&&oe!==k);X===null?P=x:X.next=z,xr(x,l.memoizedState)||(Pn=!0),l.memoizedState=x,l.baseState=P,l.baseQueue=X,h.lastRenderedState=x}if(o=h.interleaved,o!==null){w=o;do k=w.lane,Ft.lanes|=k,gi|=k,w=w.next;while(w!==o)}else w===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function af(o){var l=nr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=h.dispatch,w=h.pending,k=l.memoizedState;if(w!==null){h.pending=null;var P=w=w.next;do k=o(k,P.action),P=P.next;while(P!==w);xr(k,l.memoizedState)||(Pn=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),h.lastRenderedState=k}return[k,x]}function sy(){}function iy(o,l){var h=Ft,x=nr(),w=l(),k=!xr(x.memoizedState,w);if(k&&(x.memoizedState=w,Pn=!0),x=x.queue,lf(ly.bind(null,h,x,o),[o]),x.getSnapshot!==l||k||nn!==null&&nn.memoizedState.tag&1){if(h.flags|=2048,Ha(9,ay.bind(null,h,x,w,l),void 0,null),rn===null)throw Error(n(349));(mi&30)!==0||oy(h,l,w)}return w}function oy(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=Ft.updateQueue,l===null?(l={lastEffect:null,stores:null},Ft.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function ay(o,l,h,x){l.value=h,l.getSnapshot=x,cy(l)&&dy(o)}function ly(o,l,h){return h(function(){cy(l)&&dy(o)})}function cy(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!xr(o,h)}catch{return!0}}function dy(o){var l=ns(o,1);l!==null&&jr(l,o,1,-1)}function uy(o){var l=zr();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:o},l.queue=o,o=o.dispatch=n5.bind(null,Ft,o),[l.memoizedState,o]}function Ha(o,l,h,x){return o={tag:o,create:l,destroy:h,deps:x,next:null},l=Ft.updateQueue,l===null?(l={lastEffect:null,stores:null},Ft.updateQueue=l,l.lastEffect=o.next=o):(h=l.lastEffect,h===null?l.lastEffect=o.next=o:(x=h.next,h.next=o,o.next=x,l.lastEffect=o)),o}function hy(){return nr().memoizedState}function Lc(o,l,h,x){var w=zr();Ft.flags|=o,w.memoizedState=Ha(1|l,h,void 0,x===void 0?null:x)}function Bc(o,l,h,x){var w=nr();x=x===void 0?null:x;var k=void 0;if(Qt!==null){var P=Qt.memoizedState;if(k=P.destroy,x!==null&&nf(x,P.deps)){w.memoizedState=Ha(l,h,k,x);return}}Ft.flags|=o,w.memoizedState=Ha(1|l,h,k,x)}function fy(o,l){return Lc(8390656,8,o,l)}function lf(o,l){return Bc(2048,8,o,l)}function py(o,l){return Bc(4,2,o,l)}function my(o,l){return Bc(4,4,o,l)}function gy(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function xy(o,l,h){return h=h!=null?h.concat([o]):null,Bc(4,4,gy.bind(null,l,o),h)}function cf(){}function yy(o,l){var h=nr();l=l===void 0?null:l;var x=h.memoizedState;return x!==null&&l!==null&&nf(l,x[1])?x[0]:(h.memoizedState=[o,l],o)}function vy(o,l){var h=nr();l=l===void 0?null:l;var x=h.memoizedState;return x!==null&&l!==null&&nf(l,x[1])?x[0]:(o=o(),h.memoizedState=[o,l],o)}function by(o,l,h){return(mi&21)===0?(o.baseState&&(o.baseState=!1,Pn=!0),o.memoizedState=h):(xr(h,l)||(h=X0(),Ft.lanes|=h,gi|=h,o.baseState=!0),l)}function e5(o,l){var h=St;St=h!==0&&4>h?h:4,o(!0);var x=tf.transition;tf.transition={};try{o(!1),l()}finally{St=h,tf.transition=x}}function wy(){return nr().memoizedState}function t5(o,l,h){var x=$s(o);if(h={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null},jy(o))Sy(l,h);else if(h=Zx(o,l,h,x),h!==null){var w=kn();jr(h,o,x,w),Ny(h,l,x)}}function n5(o,l,h){var x=$s(o),w={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null};if(jy(o))Sy(l,w);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var P=l.lastRenderedState,z=k(P,h);if(w.hasEagerState=!0,w.eagerState=z,xr(z,P)){var X=l.interleaved;X===null?(w.next=w,Yh(l)):(w.next=X.next,X.next=w),l.interleaved=w;return}}catch{}finally{}h=Zx(o,l,w,x),h!==null&&(w=kn(),jr(h,o,x,w),Ny(h,l,x))}}function jy(o){var l=o.alternate;return o===Ft||l!==null&&l===Ft}function Sy(o,l){Wa=$c=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function Ny(o,l,h){if((h&4194240)!==0){var x=l.lanes;x&=o.pendingLanes,h|=x,l.lanes=h,dh(o,h)}}var zc={readContext:tr,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},r5={readContext:tr,useCallback:function(o,l){return zr().memoizedState=[o,l===void 0?null:l],o},useContext:tr,useEffect:fy,useImperativeHandle:function(o,l,h){return h=h!=null?h.concat([o]):null,Lc(4194308,4,gy.bind(null,l,o),h)},useLayoutEffect:function(o,l){return Lc(4194308,4,o,l)},useInsertionEffect:function(o,l){return Lc(4,2,o,l)},useMemo:function(o,l){var h=zr();return l=l===void 0?null:l,o=o(),h.memoizedState=[o,l],o},useReducer:function(o,l,h){var x=zr();return l=h!==void 0?h(l):l,x.memoizedState=x.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},x.queue=o,o=o.dispatch=t5.bind(null,Ft,o),[x.memoizedState,o]},useRef:function(o){var l=zr();return o={current:o},l.memoizedState=o},useState:uy,useDebugValue:cf,useDeferredValue:function(o){return zr().memoizedState=o},useTransition:function(){var o=uy(!1),l=o[0];return o=e5.bind(null,o[1]),zr().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,h){var x=Ft,w=zr();if(Dt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),rn===null)throw Error(n(349));(mi&30)!==0||oy(x,l,h)}w.memoizedState=h;var k={value:h,getSnapshot:l};return w.queue=k,fy(ly.bind(null,x,k,o),[o]),x.flags|=2048,Ha(9,ay.bind(null,x,k,h,l),void 0,null),h},useId:function(){var o=zr(),l=rn.identifierPrefix;if(Dt){var h=ts,x=es;h=(x&~(1<<32-gr(x)-1)).toString(32)+h,l=":"+l+"R"+h,h=Va++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=ZE++,l=":"+l+"r"+h.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},s5={readContext:tr,useCallback:yy,useContext:tr,useEffect:lf,useImperativeHandle:xy,useInsertionEffect:py,useLayoutEffect:my,useMemo:vy,useReducer:of,useRef:hy,useState:function(){return of(Ua)},useDebugValue:cf,useDeferredValue:function(o){var l=nr();return by(l,Qt.memoizedState,o)},useTransition:function(){var o=of(Ua)[0],l=nr().memoizedState;return[o,l]},useMutableSource:sy,useSyncExternalStore:iy,useId:wy,unstable_isNewReconciler:!1},i5={readContext:tr,useCallback:yy,useContext:tr,useEffect:lf,useImperativeHandle:xy,useInsertionEffect:py,useLayoutEffect:my,useMemo:vy,useReducer:af,useRef:hy,useState:function(){return af(Ua)},useDebugValue:cf,useDeferredValue:function(o){var l=nr();return Qt===null?l.memoizedState=o:by(l,Qt.memoizedState,o)},useTransition:function(){var o=af(Ua)[0],l=nr().memoizedState;return[o,l]},useMutableSource:sy,useSyncExternalStore:iy,useId:wy,unstable_isNewReconciler:!1};function vr(o,l){if(o&&o.defaultProps){l=W({},l),o=o.defaultProps;for(var h in o)l[h]===void 0&&(l[h]=o[h]);return l}return l}function df(o,l,h,x){l=o.memoizedState,h=h(x,l),h=h==null?l:W({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Wc={isMounted:function(o){return(o=o._reactInternals)?Rt(o)===o:!1},enqueueSetState:function(o,l,h){o=o._reactInternals;var x=kn(),w=$s(o),k=rs(x,w);k.payload=l,h!=null&&(k.callback=h),l=Os(o,k,w),l!==null&&(jr(l,o,w,x),Oc(l,o,w))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var x=kn(),w=$s(o),k=rs(x,w);k.tag=1,k.payload=l,h!=null&&(k.callback=h),l=Os(o,k,w),l!==null&&(jr(l,o,w,x),Oc(l,o,w))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=kn(),x=$s(o),w=rs(h,x);w.tag=2,l!=null&&(w.callback=l),l=Os(o,w,x),l!==null&&(jr(l,o,x,h),Oc(l,o,x))}};function ky(o,l,h,x,w,k,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,k,P):l.prototype&&l.prototype.isPureReactComponent?!Pa(h,x)||!Pa(w,k):!0}function Cy(o,l,h){var x=!1,w=Ps,k=l.contextType;return typeof k=="object"&&k!==null?k=tr(k):(w=Tn(l)?di:hn.current,x=l.contextTypes,k=(x=x!=null)?io(o,w):Ps),l=new l(h,k),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Wc,o.stateNode=l,l._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=w,o.__reactInternalMemoizedMaskedChildContext=k),l}function Ey(o,l,h,x){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,x),l.state!==o&&Wc.enqueueReplaceState(l,l.state,null)}function uf(o,l,h,x){var w=o.stateNode;w.props=h,w.state=o.memoizedState,w.refs={},Xh(o);var k=l.contextType;typeof k=="object"&&k!==null?w.context=tr(k):(k=Tn(l)?di:hn.current,w.context=io(o,k)),w.state=o.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(df(o,l,k,h),w.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(l=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),l!==w.state&&Wc.enqueueReplaceState(w,w.state,null),Ic(o,h,w,x),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308)}function po(o,l){try{var h="",x=l;do h+=H(x),x=x.return;while(x);var w=h}catch(k){w=`
Error generating stack: `+k.message+`
`+k.stack}return{value:o,source:l,stack:w,digest:null}}function hf(o,l,h){return{value:o,source:null,stack:h??null,digest:l??null}}function ff(o,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var o5=typeof WeakMap=="function"?WeakMap:Map;function _y(o,l,h){h=rs(-1,h),h.tag=3,h.payload={element:null};var x=l.value;return h.callback=function(){Yc||(Yc=!0,_f=x),ff(o,l)},h}function Ay(o,l,h){h=rs(-1,h),h.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var w=l.value;h.payload=function(){return x(w)},h.callback=function(){ff(o,l)}}var k=o.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(h.callback=function(){ff(o,l),typeof x!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})}),h}function Ty(o,l,h){var x=o.pingCache;if(x===null){x=o.pingCache=new o5;var w=new Set;x.set(l,w)}else w=x.get(l),w===void 0&&(w=new Set,x.set(l,w));w.has(h)||(w.add(h),o=b5.bind(null,o,l,h),l.then(o,o))}function Py(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function Ry(o,l,h,x,w){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=rs(-1,1),l.tag=2,Os(h,l,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=w,o)}var a5=E.ReactCurrentOwner,Pn=!1;function Nn(o,l,h,x){l.child=o===null?Jx(l,null,h,x):co(l,o.child,h,x)}function Dy(o,l,h,x,w){h=h.render;var k=l.ref;return ho(l,w),x=rf(o,l,h,x,k,w),h=sf(),o!==null&&!Pn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~w,ss(o,l,w)):(Dt&&h&&Bh(l),l.flags|=1,Nn(o,l,x,w),l.child)}function Oy(o,l,h,x,w){if(o===null){var k=h.type;return typeof k=="function"&&!If(k)&&k.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=k,Iy(o,l,k,x,w)):(o=td(h.type,null,x,l,l.mode,w),o.ref=l.ref,o.return=l,l.child=o)}if(k=o.child,(o.lanes&w)===0){var P=k.memoizedProps;if(h=h.compare,h=h!==null?h:Pa,h(P,x)&&o.ref===l.ref)return ss(o,l,w)}return l.flags|=1,o=Bs(k,x),o.ref=l.ref,o.return=l,l.child=o}function Iy(o,l,h,x,w){if(o!==null){var k=o.memoizedProps;if(Pa(k,x)&&o.ref===l.ref)if(Pn=!1,l.pendingProps=x=k,(o.lanes&w)!==0)(o.flags&131072)!==0&&(Pn=!0);else return l.lanes=o.lanes,ss(o,l,w)}return pf(o,l,h,x,w)}function Fy(o,l,h){var x=l.pendingProps,w=x.children,k=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(go,Vn),Vn|=h;else{if((h&1073741824)===0)return o=k!==null?k.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Ct(go,Vn),Vn|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=k!==null?k.baseLanes:h,Ct(go,Vn),Vn|=x}else k!==null?(x=k.baseLanes|h,l.memoizedState=null):x=h,Ct(go,Vn),Vn|=x;return Nn(o,l,w,h),l.child}function My(o,l){var h=l.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function pf(o,l,h,x,w){var k=Tn(h)?di:hn.current;return k=io(l,k),ho(l,w),h=rf(o,l,h,x,k,w),x=sf(),o!==null&&!Pn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~w,ss(o,l,w)):(Dt&&x&&Bh(l),l.flags|=1,Nn(o,l,h,w),l.child)}function $y(o,l,h,x,w){if(Tn(h)){var k=!0;Cc(l)}else k=!1;if(ho(l,w),l.stateNode===null)Uc(o,l),Cy(l,h,x),uf(l,h,x,w),x=!0;else if(o===null){var P=l.stateNode,z=l.memoizedProps;P.props=z;var X=P.context,oe=h.contextType;typeof oe=="object"&&oe!==null?oe=tr(oe):(oe=Tn(h)?di:hn.current,oe=io(l,oe));var ve=h.getDerivedStateFromProps,be=typeof ve=="function"||typeof P.getSnapshotBeforeUpdate=="function";be||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(z!==x||X!==oe)&&Ey(l,P,x,oe),Ds=!1;var ye=l.memoizedState;P.state=ye,Ic(l,x,P,w),X=l.memoizedState,z!==x||ye!==X||An.current||Ds?(typeof ve=="function"&&(df(l,h,ve,x),X=l.memoizedState),(z=Ds||ky(l,h,z,x,ye,X,oe))?(be||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(l.flags|=4194308)):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=X),P.props=x,P.state=X,P.context=oe,x=z):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{P=l.stateNode,ey(o,l),z=l.memoizedProps,oe=l.type===l.elementType?z:vr(l.type,z),P.props=oe,be=l.pendingProps,ye=P.context,X=h.contextType,typeof X=="object"&&X!==null?X=tr(X):(X=Tn(h)?di:hn.current,X=io(l,X));var Re=h.getDerivedStateFromProps;(ve=typeof Re=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(z!==be||ye!==X)&&Ey(l,P,x,X),Ds=!1,ye=l.memoizedState,P.state=ye,Ic(l,x,P,w);var Fe=l.memoizedState;z!==be||ye!==Fe||An.current||Ds?(typeof Re=="function"&&(df(l,h,Re,x),Fe=l.memoizedState),(oe=Ds||ky(l,h,oe,x,ye,Fe,X)||!1)?(ve||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(x,Fe,X),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(x,Fe,X)),typeof P.componentDidUpdate=="function"&&(l.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof P.componentDidUpdate!="function"||z===o.memoizedProps&&ye===o.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&ye===o.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=Fe),P.props=x,P.state=Fe,P.context=X,x=oe):(typeof P.componentDidUpdate!="function"||z===o.memoizedProps&&ye===o.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&ye===o.memoizedState||(l.flags|=1024),x=!1)}return mf(o,l,h,x,k,w)}function mf(o,l,h,x,w,k){My(o,l);var P=(l.flags&128)!==0;if(!x&&!P)return w&&Vx(l,h,!1),ss(o,l,k);x=l.stateNode,a5.current=l;var z=P&&typeof h.getDerivedStateFromError!="function"?null:x.render();return l.flags|=1,o!==null&&P?(l.child=co(l,o.child,null,k),l.child=co(l,null,z,k)):Nn(o,l,z,k),l.memoizedState=x.state,w&&Vx(l,h,!0),l.child}function Ly(o){var l=o.stateNode;l.pendingContext?zx(o,l.pendingContext,l.pendingContext!==l.context):l.context&&zx(o,l.context,!1),Qh(o,l.containerInfo)}function By(o,l,h,x,w){return lo(),Uh(w),l.flags|=256,Nn(o,l,h,x),l.child}var gf={dehydrated:null,treeContext:null,retryLane:0};function xf(o){return{baseLanes:o,cachePool:null,transitions:null}}function zy(o,l,h){var x=l.pendingProps,w=It.current,k=!1,P=(l.flags&128)!==0,z;if((z=P)||(z=o!==null&&o.memoizedState===null?!1:(w&2)!==0),z?(k=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(w|=1),Ct(It,w&1),o===null)return Vh(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(P=x.children,o=x.fallback,k?(x=l.mode,k=l.child,P={mode:"hidden",children:P},(x&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=P):k=nd(P,x,0,null),o=bi(o,x,h,null),k.return=l,o.return=l,k.sibling=o,l.child=k,l.child.memoizedState=xf(h),l.memoizedState=gf,o):yf(l,P));if(w=o.memoizedState,w!==null&&(z=w.dehydrated,z!==null))return l5(o,l,P,x,z,w,h);if(k){k=x.fallback,P=l.mode,w=o.child,z=w.sibling;var X={mode:"hidden",children:x.children};return(P&1)===0&&l.child!==w?(x=l.child,x.childLanes=0,x.pendingProps=X,l.deletions=null):(x=Bs(w,X),x.subtreeFlags=w.subtreeFlags&14680064),z!==null?k=Bs(z,k):(k=bi(k,P,h,null),k.flags|=2),k.return=l,x.return=l,x.sibling=k,l.child=x,x=k,k=l.child,P=o.child.memoizedState,P=P===null?xf(h):{baseLanes:P.baseLanes|h,cachePool:null,transitions:P.transitions},k.memoizedState=P,k.childLanes=o.childLanes&~h,l.memoizedState=gf,x}return k=o.child,o=k.sibling,x=Bs(k,{mode:"visible",children:x.children}),(l.mode&1)===0&&(x.lanes=h),x.return=l,x.sibling=null,o!==null&&(h=l.deletions,h===null?(l.deletions=[o],l.flags|=16):h.push(o)),l.child=x,l.memoizedState=null,x}function yf(o,l){return l=nd({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Vc(o,l,h,x){return x!==null&&Uh(x),co(l,o.child,null,h),o=yf(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function l5(o,l,h,x,w,k,P){if(h)return l.flags&256?(l.flags&=-257,x=hf(Error(n(422))),Vc(o,l,P,x)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(k=x.fallback,w=l.mode,x=nd({mode:"visible",children:x.children},w,0,null),k=bi(k,w,P,null),k.flags|=2,x.return=l,k.return=l,x.sibling=k,l.child=x,(l.mode&1)!==0&&co(l,o.child,null,P),l.child.memoizedState=xf(P),l.memoizedState=gf,k);if((l.mode&1)===0)return Vc(o,l,P,null);if(w.data==="$!"){if(x=w.nextSibling&&w.nextSibling.dataset,x)var z=x.dgst;return x=z,k=Error(n(419)),x=hf(k,x,void 0),Vc(o,l,P,x)}if(z=(P&o.childLanes)!==0,Pn||z){if(x=rn,x!==null){switch(P&-P){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(x.suspendedLanes|P))!==0?0:w,w!==0&&w!==k.retryLane&&(k.retryLane=w,ns(o,w),jr(x,o,w,-1))}return Of(),x=hf(Error(n(421))),Vc(o,l,P,x)}return w.data==="$?"?(l.flags|=128,l.child=o.child,l=w5.bind(null,o),w._reactRetry=l,null):(o=k.treeContext,Wn=As(w.nextSibling),zn=l,Dt=!0,yr=null,o!==null&&(Zn[er++]=es,Zn[er++]=ts,Zn[er++]=ui,es=o.id,ts=o.overflow,ui=l),l=yf(l,x.children),l.flags|=4096,l)}function Wy(o,l,h){o.lanes|=l;var x=o.alternate;x!==null&&(x.lanes|=l),Kh(o.return,l,h)}function vf(o,l,h,x,w){var k=o.memoizedState;k===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:w}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=x,k.tail=h,k.tailMode=w)}function Vy(o,l,h){var x=l.pendingProps,w=x.revealOrder,k=x.tail;if(Nn(o,l,x.children,h),x=It.current,(x&2)!==0)x=x&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Wy(o,h,l);else if(o.tag===19)Wy(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(Ct(It,x),(l.mode&1)===0)l.memoizedState=null;else switch(w){case"forwards":for(h=l.child,w=null;h!==null;)o=h.alternate,o!==null&&Fc(o)===null&&(w=h),h=h.sibling;h=w,h===null?(w=l.child,l.child=null):(w=h.sibling,h.sibling=null),vf(l,!1,w,h,k);break;case"backwards":for(h=null,w=l.child,l.child=null;w!==null;){if(o=w.alternate,o!==null&&Fc(o)===null){l.child=w;break}o=w.sibling,w.sibling=h,h=w,w=o}vf(l,!0,h,null,k);break;case"together":vf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Uc(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function ss(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),gi|=l.lanes,(h&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,h=Bs(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=Bs(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function c5(o,l,h){switch(l.tag){case 3:Ly(l),lo();break;case 5:ry(l);break;case 1:Tn(l.type)&&Cc(l);break;case 4:Qh(l,l.stateNode.containerInfo);break;case 10:var x=l.type._context,w=l.memoizedProps.value;Ct(Rc,x._currentValue),x._currentValue=w;break;case 13:if(x=l.memoizedState,x!==null)return x.dehydrated!==null?(Ct(It,It.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?zy(o,l,h):(Ct(It,It.current&1),o=ss(o,l,h),o!==null?o.sibling:null);Ct(It,It.current&1);break;case 19:if(x=(h&l.childLanes)!==0,(o.flags&128)!==0){if(x)return Vy(o,l,h);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Ct(It,It.current),x)break;return null;case 22:case 23:return l.lanes=0,Fy(o,l,h)}return ss(o,l,h)}var Uy,bf,Hy,Gy;Uy=function(o,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},bf=function(){},Hy=function(o,l,h,x){var w=o.memoizedProps;if(w!==x){o=l.stateNode,pi(Br.current);var k=null;switch(h){case"input":w=rt(o,w),x=rt(o,x),k=[];break;case"select":w=W({},w,{value:void 0}),x=W({},x,{value:void 0}),k=[];break;case"textarea":w=it(o,w),x=it(o,x),k=[];break;default:typeof w.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=Sc)}dt(h,x);var P;h=null;for(oe in w)if(!x.hasOwnProperty(oe)&&w.hasOwnProperty(oe)&&w[oe]!=null)if(oe==="style"){var z=w[oe];for(P in z)z.hasOwnProperty(P)&&(h||(h={}),h[P]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?k||(k=[]):(k=k||[]).push(oe,null));for(oe in x){var X=x[oe];if(z=w?.[oe],x.hasOwnProperty(oe)&&X!==z&&(X!=null||z!=null))if(oe==="style")if(z){for(P in z)!z.hasOwnProperty(P)||X&&X.hasOwnProperty(P)||(h||(h={}),h[P]="");for(P in X)X.hasOwnProperty(P)&&z[P]!==X[P]&&(h||(h={}),h[P]=X[P])}else h||(k||(k=[]),k.push(oe,h)),h=X;else oe==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,z=z?z.__html:void 0,X!=null&&z!==X&&(k=k||[]).push(oe,X)):oe==="children"?typeof X!="string"&&typeof X!="number"||(k=k||[]).push(oe,""+X):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(X!=null&&oe==="onScroll"&&_t("scroll",o),k||z===X||(k=[])):(k=k||[]).push(oe,X))}h&&(k=k||[]).push("style",h);var oe=k;(l.updateQueue=oe)&&(l.flags|=4)}},Gy=function(o,l,h,x){h!==x&&(l.flags|=4)};function Ga(o,l){if(!Dt)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function pn(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,x=0;if(l)for(var w=o.child;w!==null;)h|=w.lanes|w.childLanes,x|=w.subtreeFlags&14680064,x|=w.flags&14680064,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)h|=w.lanes|w.childLanes,x|=w.subtreeFlags,x|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=x,o.childLanes=h,l}function d5(o,l,h){var x=l.pendingProps;switch(zh(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(l),null;case 1:return Tn(l.type)&&kc(),pn(l),null;case 3:return x=l.stateNode,fo(),At(An),At(hn),ef(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(Tc(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,yr!==null&&(Pf(yr),yr=null))),bf(o,l),pn(l),null;case 5:Jh(l);var w=pi(za.current);if(h=l.type,o!==null&&l.stateNode!=null)Hy(o,l,h,x,w),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!x){if(l.stateNode===null)throw Error(n(166));return pn(l),null}if(o=pi(Br.current),Tc(l)){x=l.stateNode,h=l.type;var k=l.memoizedProps;switch(x[Lr]=l,x[Fa]=k,o=(l.mode&1)!==0,h){case"dialog":_t("cancel",x),_t("close",x);break;case"iframe":case"object":case"embed":_t("load",x);break;case"video":case"audio":for(w=0;w<Da.length;w++)_t(Da[w],x);break;case"source":_t("error",x);break;case"img":case"image":case"link":_t("error",x),_t("load",x);break;case"details":_t("toggle",x);break;case"input":he(x,k),_t("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!k.multiple},_t("invalid",x);break;case"textarea":Tt(x,k),_t("invalid",x)}dt(h,k),w=null;for(var P in k)if(k.hasOwnProperty(P)){var z=k[P];P==="children"?typeof z=="string"?x.textContent!==z&&(k.suppressHydrationWarning!==!0&&jc(x.textContent,z,o),w=["children",z]):typeof z=="number"&&x.textContent!==""+z&&(k.suppressHydrationWarning!==!0&&jc(x.textContent,z,o),w=["children",""+z]):i.hasOwnProperty(P)&&z!=null&&P==="onScroll"&&_t("scroll",x)}switch(h){case"input":Ne(x),pe(x,k,!0);break;case"textarea":Ne(x),mt(x);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(x.onclick=Sc)}x=w,l.updateQueue=x,x!==null&&(l.flags|=4)}else{P=w.nodeType===9?w:w.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ct(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=P.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=P.createElement(h,{is:x.is}):(o=P.createElement(h),h==="select"&&(P=o,x.multiple?P.multiple=!0:x.size&&(P.size=x.size))):o=P.createElementNS(o,h),o[Lr]=l,o[Fa]=x,Uy(o,l,!1,!1),l.stateNode=o;e:{switch(P=Sn(h,x),h){case"dialog":_t("cancel",o),_t("close",o),w=x;break;case"iframe":case"object":case"embed":_t("load",o),w=x;break;case"video":case"audio":for(w=0;w<Da.length;w++)_t(Da[w],o);w=x;break;case"source":_t("error",o),w=x;break;case"img":case"image":case"link":_t("error",o),_t("load",o),w=x;break;case"details":_t("toggle",o),w=x;break;case"input":he(o,x),w=rt(o,x),_t("invalid",o);break;case"option":w=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},w=W({},x,{value:void 0}),_t("invalid",o);break;case"textarea":Tt(o,x),w=it(o,x),_t("invalid",o);break;default:w=x}dt(h,w),z=w;for(k in z)if(z.hasOwnProperty(k)){var X=z[k];k==="style"?Gt(o,X):k==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&we(o,X)):k==="children"?typeof X=="string"?(h!=="textarea"||X!=="")&&We(o,X):typeof X=="number"&&We(o,""+X):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?X!=null&&k==="onScroll"&&_t("scroll",o):X!=null&&C(o,k,X,P))}switch(h){case"input":Ne(o),pe(o,x,!1);break;case"textarea":Ne(o),mt(o);break;case"option":x.value!=null&&o.setAttribute("value",""+le(x.value));break;case"select":o.multiple=!!x.multiple,k=x.value,k!=null?Ye(o,!!x.multiple,k,!1):x.defaultValue!=null&&Ye(o,!!x.multiple,x.defaultValue,!0);break;default:typeof w.onClick=="function"&&(o.onclick=Sc)}switch(h){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return pn(l),null;case 6:if(o&&l.stateNode!=null)Gy(o,l,o.memoizedProps,x);else{if(typeof x!="string"&&l.stateNode===null)throw Error(n(166));if(h=pi(za.current),pi(Br.current),Tc(l)){if(x=l.stateNode,h=l.memoizedProps,x[Lr]=l,(k=x.nodeValue!==h)&&(o=zn,o!==null))switch(o.tag){case 3:jc(x.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&jc(x.nodeValue,h,(o.mode&1)!==0)}k&&(l.flags|=4)}else x=(h.nodeType===9?h:h.ownerDocument).createTextNode(x),x[Lr]=l,l.stateNode=x}return pn(l),null;case 13:if(At(It),x=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Dt&&Wn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Yx(),lo(),l.flags|=98560,k=!1;else if(k=Tc(l),x!==null&&x.dehydrated!==null){if(o===null){if(!k)throw Error(n(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[Lr]=l}else lo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;pn(l),k=!1}else yr!==null&&(Pf(yr),yr=null),k=!0;if(!k)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(It.current&1)!==0?Jt===0&&(Jt=3):Of())),l.updateQueue!==null&&(l.flags|=4),pn(l),null);case 4:return fo(),bf(o,l),o===null&&Oa(l.stateNode.containerInfo),pn(l),null;case 10:return qh(l.type._context),pn(l),null;case 17:return Tn(l.type)&&kc(),pn(l),null;case 19:if(At(It),k=l.memoizedState,k===null)return pn(l),null;if(x=(l.flags&128)!==0,P=k.rendering,P===null)if(x)Ga(k,!1);else{if(Jt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(P=Fc(o),P!==null){for(l.flags|=128,Ga(k,!1),x=P.updateQueue,x!==null&&(l.updateQueue=x,l.flags|=4),l.subtreeFlags=0,x=h,h=l.child;h!==null;)k=h,o=x,k.flags&=14680066,P=k.alternate,P===null?(k.childLanes=0,k.lanes=o,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=P.childLanes,k.lanes=P.lanes,k.child=P.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=P.memoizedProps,k.memoizedState=P.memoizedState,k.updateQueue=P.updateQueue,k.type=P.type,o=P.dependencies,k.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return Ct(It,It.current&1|2),l.child}o=o.sibling}k.tail!==null&&Vt()>xo&&(l.flags|=128,x=!0,Ga(k,!1),l.lanes=4194304)}else{if(!x)if(o=Fc(P),o!==null){if(l.flags|=128,x=!0,h=o.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Ga(k,!0),k.tail===null&&k.tailMode==="hidden"&&!P.alternate&&!Dt)return pn(l),null}else 2*Vt()-k.renderingStartTime>xo&&h!==1073741824&&(l.flags|=128,x=!0,Ga(k,!1),l.lanes=4194304);k.isBackwards?(P.sibling=l.child,l.child=P):(h=k.last,h!==null?h.sibling=P:l.child=P,k.last=P)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=Vt(),l.sibling=null,h=It.current,Ct(It,x?h&1|2:h&1),l):(pn(l),null);case 22:case 23:return Df(),x=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(l.flags|=8192),x&&(l.mode&1)!==0?(Vn&1073741824)!==0&&(pn(l),l.subtreeFlags&6&&(l.flags|=8192)):pn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function u5(o,l){switch(zh(l),l.tag){case 1:return Tn(l.type)&&kc(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return fo(),At(An),At(hn),ef(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Jh(l),null;case 13:if(At(It),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));lo()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return At(It),null;case 4:return fo(),null;case 10:return qh(l.type._context),null;case 22:case 23:return Df(),null;case 24:return null;default:return null}}var Hc=!1,mn=!1,h5=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function mo(o,l){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(x){zt(o,l,x)}else h.current=null}function wf(o,l,h){try{h()}catch(x){zt(o,l,x)}}var qy=!1;function f5(o,l){if(Rh=uc,o=kx(),Nh(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var w=x.anchorOffset,k=x.focusNode;x=x.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var P=0,z=-1,X=-1,oe=0,ve=0,be=o,ye=null;t:for(;;){for(var Re;be!==h||w!==0&&be.nodeType!==3||(z=P+w),be!==k||x!==0&&be.nodeType!==3||(X=P+x),be.nodeType===3&&(P+=be.nodeValue.length),(Re=be.firstChild)!==null;)ye=be,be=Re;for(;;){if(be===o)break t;if(ye===h&&++oe===w&&(z=P),ye===k&&++ve===x&&(X=P),(Re=be.nextSibling)!==null)break;be=ye,ye=be.parentNode}be=Re}h=z===-1||X===-1?null:{start:z,end:X}}else h=null}h=h||{start:0,end:0}}else h=null;for(Dh={focusedElem:o,selectionRange:h},uc=!1,Ie=l;Ie!==null;)if(l=Ie,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Ie=o;else for(;Ie!==null;){l=Ie;try{var Fe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var Le=Fe.memoizedProps,Ut=Fe.memoizedState,te=l.stateNode,Q=te.getSnapshotBeforeUpdate(l.elementType===l.type?Le:vr(l.type,Le),Ut);te.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var re=l.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Se){zt(l,l.return,Se)}if(o=l.sibling,o!==null){o.return=l.return,Ie=o;break}Ie=l.return}return Fe=qy,qy=!1,Fe}function qa(o,l,h){var x=l.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var w=x=x.next;do{if((w.tag&o)===o){var k=w.destroy;w.destroy=void 0,k!==void 0&&wf(l,h,k)}w=w.next}while(w!==x)}}function Gc(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&o)===o){var x=h.create;h.destroy=x()}h=h.next}while(h!==l)}}function jf(o){var l=o.ref;if(l!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof l=="function"?l(o):l.current=o}}function Ky(o){var l=o.alternate;l!==null&&(o.alternate=null,Ky(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Lr],delete l[Fa],delete l[Mh],delete l[YE],delete l[XE])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Yy(o){return o.tag===5||o.tag===3||o.tag===4}function Xy(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Yy(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Sf(o,l,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(o,l):h.insertBefore(o,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(o,h)):(l=h,l.appendChild(o)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Sc));else if(x!==4&&(o=o.child,o!==null))for(Sf(o,l,h),o=o.sibling;o!==null;)Sf(o,l,h),o=o.sibling}function Nf(o,l,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(Nf(o,l,h),o=o.sibling;o!==null;)Nf(o,l,h),o=o.sibling}var an=null,br=!1;function Is(o,l,h){for(h=h.child;h!==null;)Qy(o,l,h),h=h.sibling}function Qy(o,l,h){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(ic,h)}catch{}switch(h.tag){case 5:mn||mo(h,l);case 6:var x=an,w=br;an=null,Is(o,l,h),an=x,br=w,an!==null&&(br?(o=an,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):an.removeChild(h.stateNode));break;case 18:an!==null&&(br?(o=an,h=h.stateNode,o.nodeType===8?Fh(o.parentNode,h):o.nodeType===1&&Fh(o,h),ka(o)):Fh(an,h.stateNode));break;case 4:x=an,w=br,an=h.stateNode.containerInfo,br=!0,Is(o,l,h),an=x,br=w;break;case 0:case 11:case 14:case 15:if(!mn&&(x=h.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){w=x=x.next;do{var k=w,P=k.destroy;k=k.tag,P!==void 0&&((k&2)!==0||(k&4)!==0)&&wf(h,l,P),w=w.next}while(w!==x)}Is(o,l,h);break;case 1:if(!mn&&(mo(h,l),x=h.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=h.memoizedProps,x.state=h.memoizedState,x.componentWillUnmount()}catch(z){zt(h,l,z)}Is(o,l,h);break;case 21:Is(o,l,h);break;case 22:h.mode&1?(mn=(x=mn)||h.memoizedState!==null,Is(o,l,h),mn=x):Is(o,l,h);break;default:Is(o,l,h)}}function Jy(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new h5),l.forEach(function(x){var w=j5.bind(null,o,x);h.has(x)||(h.add(x),x.then(w,w))})}}function wr(o,l){var h=l.deletions;if(h!==null)for(var x=0;x<h.length;x++){var w=h[x];try{var k=o,P=l,z=P;e:for(;z!==null;){switch(z.tag){case 5:an=z.stateNode,br=!1;break e;case 3:an=z.stateNode.containerInfo,br=!0;break e;case 4:an=z.stateNode.containerInfo,br=!0;break e}z=z.return}if(an===null)throw Error(n(160));Qy(k,P,w),an=null,br=!1;var X=w.alternate;X!==null&&(X.return=null),w.return=null}catch(oe){zt(w,l,oe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Zy(l,o),l=l.sibling}function Zy(o,l){var h=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(wr(l,o),Wr(o),x&4){try{qa(3,o,o.return),Gc(3,o)}catch(Le){zt(o,o.return,Le)}try{qa(5,o,o.return)}catch(Le){zt(o,o.return,Le)}}break;case 1:wr(l,o),Wr(o),x&512&&h!==null&&mo(h,h.return);break;case 5:if(wr(l,o),Wr(o),x&512&&h!==null&&mo(h,h.return),o.flags&32){var w=o.stateNode;try{We(w,"")}catch(Le){zt(o,o.return,Le)}}if(x&4&&(w=o.stateNode,w!=null)){var k=o.memoizedProps,P=h!==null?h.memoizedProps:k,z=o.type,X=o.updateQueue;if(o.updateQueue=null,X!==null)try{z==="input"&&k.type==="radio"&&k.name!=null&&Pe(w,k),Sn(z,P);var oe=Sn(z,k);for(P=0;P<X.length;P+=2){var ve=X[P],be=X[P+1];ve==="style"?Gt(w,be):ve==="dangerouslySetInnerHTML"?we(w,be):ve==="children"?We(w,be):C(w,ve,be,oe)}switch(z){case"input":ae(w,k);break;case"textarea":tt(w,k);break;case"select":var ye=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!k.multiple;var Re=k.value;Re!=null?Ye(w,!!k.multiple,Re,!1):ye!==!!k.multiple&&(k.defaultValue!=null?Ye(w,!!k.multiple,k.defaultValue,!0):Ye(w,!!k.multiple,k.multiple?[]:"",!1))}w[Fa]=k}catch(Le){zt(o,o.return,Le)}}break;case 6:if(wr(l,o),Wr(o),x&4){if(o.stateNode===null)throw Error(n(162));w=o.stateNode,k=o.memoizedProps;try{w.nodeValue=k}catch(Le){zt(o,o.return,Le)}}break;case 3:if(wr(l,o),Wr(o),x&4&&h!==null&&h.memoizedState.isDehydrated)try{ka(l.containerInfo)}catch(Le){zt(o,o.return,Le)}break;case 4:wr(l,o),Wr(o);break;case 13:wr(l,o),Wr(o),w=o.child,w.flags&8192&&(k=w.memoizedState!==null,w.stateNode.isHidden=k,!k||w.alternate!==null&&w.alternate.memoizedState!==null||(Ef=Vt())),x&4&&Jy(o);break;case 22:if(ve=h!==null&&h.memoizedState!==null,o.mode&1?(mn=(oe=mn)||ve,wr(l,o),mn=oe):wr(l,o),Wr(o),x&8192){if(oe=o.memoizedState!==null,(o.stateNode.isHidden=oe)&&!ve&&(o.mode&1)!==0)for(Ie=o,ve=o.child;ve!==null;){for(be=Ie=ve;Ie!==null;){switch(ye=Ie,Re=ye.child,ye.tag){case 0:case 11:case 14:case 15:qa(4,ye,ye.return);break;case 1:mo(ye,ye.return);var Fe=ye.stateNode;if(typeof Fe.componentWillUnmount=="function"){x=ye,h=ye.return;try{l=x,Fe.props=l.memoizedProps,Fe.state=l.memoizedState,Fe.componentWillUnmount()}catch(Le){zt(x,h,Le)}}break;case 5:mo(ye,ye.return);break;case 22:if(ye.memoizedState!==null){nv(be);continue}}Re!==null?(Re.return=ye,Ie=Re):nv(be)}ve=ve.sibling}e:for(ve=null,be=o;;){if(be.tag===5){if(ve===null){ve=be;try{w=be.stateNode,oe?(k=w.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(z=be.stateNode,X=be.memoizedProps.style,P=X!=null&&X.hasOwnProperty("display")?X.display:null,z.style.display=un("display",P))}catch(Le){zt(o,o.return,Le)}}}else if(be.tag===6){if(ve===null)try{be.stateNode.nodeValue=oe?"":be.memoizedProps}catch(Le){zt(o,o.return,Le)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===o)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===o)break e;for(;be.sibling===null;){if(be.return===null||be.return===o)break e;ve===be&&(ve=null),be=be.return}ve===be&&(ve=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:wr(l,o),Wr(o),x&4&&Jy(o);break;case 21:break;default:wr(l,o),Wr(o)}}function Wr(o){var l=o.flags;if(l&2){try{e:{for(var h=o.return;h!==null;){if(Yy(h)){var x=h;break e}h=h.return}throw Error(n(160))}switch(x.tag){case 5:var w=x.stateNode;x.flags&32&&(We(w,""),x.flags&=-33);var k=Xy(o);Nf(o,k,w);break;case 3:case 4:var P=x.stateNode.containerInfo,z=Xy(o);Sf(o,z,P);break;default:throw Error(n(161))}}catch(X){zt(o,o.return,X)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function p5(o,l,h){Ie=o,ev(o)}function ev(o,l,h){for(var x=(o.mode&1)!==0;Ie!==null;){var w=Ie,k=w.child;if(w.tag===22&&x){var P=w.memoizedState!==null||Hc;if(!P){var z=w.alternate,X=z!==null&&z.memoizedState!==null||mn;z=Hc;var oe=mn;if(Hc=P,(mn=X)&&!oe)for(Ie=w;Ie!==null;)P=Ie,X=P.child,P.tag===22&&P.memoizedState!==null?rv(w):X!==null?(X.return=P,Ie=X):rv(w);for(;k!==null;)Ie=k,ev(k),k=k.sibling;Ie=w,Hc=z,mn=oe}tv(o)}else(w.subtreeFlags&8772)!==0&&k!==null?(k.return=w,Ie=k):tv(o)}}function tv(o){for(;Ie!==null;){var l=Ie;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:mn||Gc(5,l);break;case 1:var x=l.stateNode;if(l.flags&4&&!mn)if(h===null)x.componentDidMount();else{var w=l.elementType===l.type?h.memoizedProps:vr(l.type,h.memoizedProps);x.componentDidUpdate(w,h.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&ny(l,k,x);break;case 3:var P=l.updateQueue;if(P!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}ny(l,P,h)}break;case 5:var z=l.stateNode;if(h===null&&l.flags&4){h=z;var X=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&h.focus();break;case"img":X.src&&(h.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var oe=l.alternate;if(oe!==null){var ve=oe.memoizedState;if(ve!==null){var be=ve.dehydrated;be!==null&&ka(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}mn||l.flags&512&&jf(l)}catch(ye){zt(l,l.return,ye)}}if(l===o){Ie=null;break}if(h=l.sibling,h!==null){h.return=l.return,Ie=h;break}Ie=l.return}}function nv(o){for(;Ie!==null;){var l=Ie;if(l===o){Ie=null;break}var h=l.sibling;if(h!==null){h.return=l.return,Ie=h;break}Ie=l.return}}function rv(o){for(;Ie!==null;){var l=Ie;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{Gc(4,l)}catch(X){zt(l,h,X)}break;case 1:var x=l.stateNode;if(typeof x.componentDidMount=="function"){var w=l.return;try{x.componentDidMount()}catch(X){zt(l,w,X)}}var k=l.return;try{jf(l)}catch(X){zt(l,k,X)}break;case 5:var P=l.return;try{jf(l)}catch(X){zt(l,P,X)}}}catch(X){zt(l,l.return,X)}if(l===o){Ie=null;break}var z=l.sibling;if(z!==null){z.return=l.return,Ie=z;break}Ie=l.return}}var m5=Math.ceil,qc=E.ReactCurrentDispatcher,kf=E.ReactCurrentOwner,rr=E.ReactCurrentBatchConfig,ft=0,rn=null,qt=null,ln=0,Vn=0,go=Ts(0),Jt=0,Ka=null,gi=0,Kc=0,Cf=0,Ya=null,Rn=null,Ef=0,xo=1/0,is=null,Yc=!1,_f=null,Fs=null,Xc=!1,Ms=null,Qc=0,Xa=0,Af=null,Jc=-1,Zc=0;function kn(){return(ft&6)!==0?Vt():Jc!==-1?Jc:Jc=Vt()}function $s(o){return(o.mode&1)===0?1:(ft&2)!==0&&ln!==0?ln&-ln:JE.transition!==null?(Zc===0&&(Zc=X0()),Zc):(o=St,o!==0||(o=window.event,o=o===void 0?16:ix(o.type)),o)}function jr(o,l,h,x){if(50<Xa)throw Xa=0,Af=null,Error(n(185));ba(o,h,x),((ft&2)===0||o!==rn)&&(o===rn&&((ft&2)===0&&(Kc|=h),Jt===4&&Ls(o,ln)),Dn(o,x),h===1&&ft===0&&(l.mode&1)===0&&(xo=Vt()+500,Ec&&Rs()))}function Dn(o,l){var h=o.callbackNode;JC(o,l);var x=lc(o,o===rn?ln:0);if(x===0)h!==null&&q0(h),o.callbackNode=null,o.callbackPriority=0;else if(l=x&-x,o.callbackPriority!==l){if(h!=null&&q0(h),l===1)o.tag===0?QE(iv.bind(null,o)):Ux(iv.bind(null,o)),qE(function(){(ft&6)===0&&Rs()}),h=null;else{switch(Q0(x)){case 1:h=ah;break;case 4:h=K0;break;case 16:h=sc;break;case 536870912:h=Y0;break;default:h=sc}h=fv(h,sv.bind(null,o))}o.callbackPriority=l,o.callbackNode=h}}function sv(o,l){if(Jc=-1,Zc=0,(ft&6)!==0)throw Error(n(327));var h=o.callbackNode;if(yo()&&o.callbackNode!==h)return null;var x=lc(o,o===rn?ln:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||l)l=ed(o,x);else{l=x;var w=ft;ft|=2;var k=av();(rn!==o||ln!==l)&&(is=null,xo=Vt()+500,yi(o,l));do try{y5();break}catch(z){ov(o,z)}while(!0);Gh(),qc.current=k,ft=w,qt!==null?l=0:(rn=null,ln=0,l=Jt)}if(l!==0){if(l===2&&(w=lh(o),w!==0&&(x=w,l=Tf(o,w))),l===1)throw h=Ka,yi(o,0),Ls(o,x),Dn(o,Vt()),h;if(l===6)Ls(o,x);else{if(w=o.current.alternate,(x&30)===0&&!g5(w)&&(l=ed(o,x),l===2&&(k=lh(o),k!==0&&(x=k,l=Tf(o,k))),l===1))throw h=Ka,yi(o,0),Ls(o,x),Dn(o,Vt()),h;switch(o.finishedWork=w,o.finishedLanes=x,l){case 0:case 1:throw Error(n(345));case 2:vi(o,Rn,is);break;case 3:if(Ls(o,x),(x&130023424)===x&&(l=Ef+500-Vt(),10<l)){if(lc(o,0)!==0)break;if(w=o.suspendedLanes,(w&x)!==x){kn(),o.pingedLanes|=o.suspendedLanes&w;break}o.timeoutHandle=Ih(vi.bind(null,o,Rn,is),l);break}vi(o,Rn,is);break;case 4:if(Ls(o,x),(x&4194240)===x)break;for(l=o.eventTimes,w=-1;0<x;){var P=31-gr(x);k=1<<P,P=l[P],P>w&&(w=P),x&=~k}if(x=w,x=Vt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*m5(x/1960))-x,10<x){o.timeoutHandle=Ih(vi.bind(null,o,Rn,is),x);break}vi(o,Rn,is);break;case 5:vi(o,Rn,is);break;default:throw Error(n(329))}}}return Dn(o,Vt()),o.callbackNode===h?sv.bind(null,o):null}function Tf(o,l){var h=Ya;return o.current.memoizedState.isDehydrated&&(yi(o,l).flags|=256),o=ed(o,l),o!==2&&(l=Rn,Rn=h,l!==null&&Pf(l)),o}function Pf(o){Rn===null?Rn=o:Rn.push.apply(Rn,o)}function g5(o){for(var l=o;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var x=0;x<h.length;x++){var w=h[x],k=w.getSnapshot;w=w.value;try{if(!xr(k(),w))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ls(o,l){for(l&=~Cf,l&=~Kc,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var h=31-gr(l),x=1<<h;o[h]=-1,l&=~x}}function iv(o){if((ft&6)!==0)throw Error(n(327));yo();var l=lc(o,0);if((l&1)===0)return Dn(o,Vt()),null;var h=ed(o,l);if(o.tag!==0&&h===2){var x=lh(o);x!==0&&(l=x,h=Tf(o,x))}if(h===1)throw h=Ka,yi(o,0),Ls(o,l),Dn(o,Vt()),h;if(h===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,vi(o,Rn,is),Dn(o,Vt()),null}function Rf(o,l){var h=ft;ft|=1;try{return o(l)}finally{ft=h,ft===0&&(xo=Vt()+500,Ec&&Rs())}}function xi(o){Ms!==null&&Ms.tag===0&&(ft&6)===0&&yo();var l=ft;ft|=1;var h=rr.transition,x=St;try{if(rr.transition=null,St=1,o)return o()}finally{St=x,rr.transition=h,ft=l,(ft&6)===0&&Rs()}}function Df(){Vn=go.current,At(go)}function yi(o,l){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,GE(h)),qt!==null)for(h=qt.return;h!==null;){var x=h;switch(zh(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&kc();break;case 3:fo(),At(An),At(hn),ef();break;case 5:Jh(x);break;case 4:fo();break;case 13:At(It);break;case 19:At(It);break;case 10:qh(x.type._context);break;case 22:case 23:Df()}h=h.return}if(rn=o,qt=o=Bs(o.current,null),ln=Vn=l,Jt=0,Ka=null,Cf=Kc=gi=0,Rn=Ya=null,fi!==null){for(l=0;l<fi.length;l++)if(h=fi[l],x=h.interleaved,x!==null){h.interleaved=null;var w=x.next,k=h.pending;if(k!==null){var P=k.next;k.next=w,x.next=P}h.pending=x}fi=null}return o}function ov(o,l){do{var h=qt;try{if(Gh(),Mc.current=zc,$c){for(var x=Ft.memoizedState;x!==null;){var w=x.queue;w!==null&&(w.pending=null),x=x.next}$c=!1}if(mi=0,nn=Qt=Ft=null,Wa=!1,Va=0,kf.current=null,h===null||h.return===null){Jt=1,Ka=l,qt=null;break}e:{var k=o,P=h.return,z=h,X=l;if(l=ln,z.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var oe=X,ve=z,be=ve.tag;if((ve.mode&1)===0&&(be===0||be===11||be===15)){var ye=ve.alternate;ye?(ve.updateQueue=ye.updateQueue,ve.memoizedState=ye.memoizedState,ve.lanes=ye.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Re=Py(P);if(Re!==null){Re.flags&=-257,Ry(Re,P,z,k,l),Re.mode&1&&Ty(k,oe,l),l=Re,X=oe;var Fe=l.updateQueue;if(Fe===null){var Le=new Set;Le.add(X),l.updateQueue=Le}else Fe.add(X);break e}else{if((l&1)===0){Ty(k,oe,l),Of();break e}X=Error(n(426))}}else if(Dt&&z.mode&1){var Ut=Py(P);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),Ry(Ut,P,z,k,l),Uh(po(X,z));break e}}k=X=po(X,z),Jt!==4&&(Jt=2),Ya===null?Ya=[k]:Ya.push(k),k=P;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var te=_y(k,X,l);ty(k,te);break e;case 1:z=X;var Q=k.type,re=k.stateNode;if((k.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(Fs===null||!Fs.has(re)))){k.flags|=65536,l&=-l,k.lanes|=l;var Se=Ay(k,z,l);ty(k,Se);break e}}k=k.return}while(k!==null)}cv(h)}catch(Be){l=Be,qt===h&&h!==null&&(qt=h=h.return);continue}break}while(!0)}function av(){var o=qc.current;return qc.current=zc,o===null?zc:o}function Of(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),rn===null||(gi&268435455)===0&&(Kc&268435455)===0||Ls(rn,ln)}function ed(o,l){var h=ft;ft|=2;var x=av();(rn!==o||ln!==l)&&(is=null,yi(o,l));do try{x5();break}catch(w){ov(o,w)}while(!0);if(Gh(),ft=h,qc.current=x,qt!==null)throw Error(n(261));return rn=null,ln=0,Jt}function x5(){for(;qt!==null;)lv(qt)}function y5(){for(;qt!==null&&!VC();)lv(qt)}function lv(o){var l=hv(o.alternate,o,Vn);o.memoizedProps=o.pendingProps,l===null?cv(o):qt=l,kf.current=null}function cv(o){var l=o;do{var h=l.alternate;if(o=l.return,(l.flags&32768)===0){if(h=d5(h,l,Vn),h!==null){qt=h;return}}else{if(h=u5(h,l),h!==null){h.flags&=32767,qt=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Jt=6,qt=null;return}}if(l=l.sibling,l!==null){qt=l;return}qt=l=o}while(l!==null);Jt===0&&(Jt=5)}function vi(o,l,h){var x=St,w=rr.transition;try{rr.transition=null,St=1,v5(o,l,h,x)}finally{rr.transition=w,St=x}return null}function v5(o,l,h,x){do yo();while(Ms!==null);if((ft&6)!==0)throw Error(n(327));h=o.finishedWork;var w=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var k=h.lanes|h.childLanes;if(ZC(o,k),o===rn&&(qt=rn=null,ln=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Xc||(Xc=!0,fv(sc,function(){return yo(),null})),k=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||k){k=rr.transition,rr.transition=null;var P=St;St=1;var z=ft;ft|=4,kf.current=null,f5(o,h),Zy(h,o),LE(Dh),uc=!!Rh,Dh=Rh=null,o.current=h,p5(h),UC(),ft=z,St=P,rr.transition=k}else o.current=h;if(Xc&&(Xc=!1,Ms=o,Qc=w),k=o.pendingLanes,k===0&&(Fs=null),qC(h.stateNode),Dn(o,Vt()),l!==null)for(x=o.onRecoverableError,h=0;h<l.length;h++)w=l[h],x(w.value,{componentStack:w.stack,digest:w.digest});if(Yc)throw Yc=!1,o=_f,_f=null,o;return(Qc&1)!==0&&o.tag!==0&&yo(),k=o.pendingLanes,(k&1)!==0?o===Af?Xa++:(Xa=0,Af=o):Xa=0,Rs(),null}function yo(){if(Ms!==null){var o=Q0(Qc),l=rr.transition,h=St;try{if(rr.transition=null,St=16>o?16:o,Ms===null)var x=!1;else{if(o=Ms,Ms=null,Qc=0,(ft&6)!==0)throw Error(n(331));var w=ft;for(ft|=4,Ie=o.current;Ie!==null;){var k=Ie,P=k.child;if((Ie.flags&16)!==0){var z=k.deletions;if(z!==null){for(var X=0;X<z.length;X++){var oe=z[X];for(Ie=oe;Ie!==null;){var ve=Ie;switch(ve.tag){case 0:case 11:case 15:qa(8,ve,k)}var be=ve.child;if(be!==null)be.return=ve,Ie=be;else for(;Ie!==null;){ve=Ie;var ye=ve.sibling,Re=ve.return;if(Ky(ve),ve===oe){Ie=null;break}if(ye!==null){ye.return=Re,Ie=ye;break}Ie=Re}}}var Fe=k.alternate;if(Fe!==null){var Le=Fe.child;if(Le!==null){Fe.child=null;do{var Ut=Le.sibling;Le.sibling=null,Le=Ut}while(Le!==null)}}Ie=k}}if((k.subtreeFlags&2064)!==0&&P!==null)P.return=k,Ie=P;else e:for(;Ie!==null;){if(k=Ie,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:qa(9,k,k.return)}var te=k.sibling;if(te!==null){te.return=k.return,Ie=te;break e}Ie=k.return}}var Q=o.current;for(Ie=Q;Ie!==null;){P=Ie;var re=P.child;if((P.subtreeFlags&2064)!==0&&re!==null)re.return=P,Ie=re;else e:for(P=Q;Ie!==null;){if(z=Ie,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Gc(9,z)}}catch(Be){zt(z,z.return,Be)}if(z===P){Ie=null;break e}var Se=z.sibling;if(Se!==null){Se.return=z.return,Ie=Se;break e}Ie=z.return}}if(ft=w,Rs(),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(ic,o)}catch{}x=!0}return x}finally{St=h,rr.transition=l}}return!1}function dv(o,l,h){l=po(h,l),l=_y(o,l,1),o=Os(o,l,1),l=kn(),o!==null&&(ba(o,1,l),Dn(o,l))}function zt(o,l,h){if(o.tag===3)dv(o,o,h);else for(;l!==null;){if(l.tag===3){dv(l,o,h);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Fs===null||!Fs.has(x))){o=po(h,o),o=Ay(l,o,1),l=Os(l,o,1),o=kn(),l!==null&&(ba(l,1,o),Dn(l,o));break}}l=l.return}}function b5(o,l,h){var x=o.pingCache;x!==null&&x.delete(l),l=kn(),o.pingedLanes|=o.suspendedLanes&h,rn===o&&(ln&h)===h&&(Jt===4||Jt===3&&(ln&130023424)===ln&&500>Vt()-Ef?yi(o,0):Cf|=h),Dn(o,l)}function uv(o,l){l===0&&((o.mode&1)===0?l=1:(l=ac,ac<<=1,(ac&130023424)===0&&(ac=4194304)));var h=kn();o=ns(o,l),o!==null&&(ba(o,l,h),Dn(o,h))}function w5(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),uv(o,h)}function j5(o,l){var h=0;switch(o.tag){case 13:var x=o.stateNode,w=o.memoizedState;w!==null&&(h=w.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(l),uv(o,h)}var hv;hv=function(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps||An.current)Pn=!0;else{if((o.lanes&h)===0&&(l.flags&128)===0)return Pn=!1,c5(o,l,h);Pn=(o.flags&131072)!==0}else Pn=!1,Dt&&(l.flags&1048576)!==0&&Hx(l,Ac,l.index);switch(l.lanes=0,l.tag){case 2:var x=l.type;Uc(o,l),o=l.pendingProps;var w=io(l,hn.current);ho(l,h),w=rf(null,l,x,o,w,h);var k=sf();return l.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Tn(x)?(k=!0,Cc(l)):k=!1,l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Xh(l),w.updater=Wc,l.stateNode=w,w._reactInternals=l,uf(l,x,o,h),l=mf(null,l,x,!0,k,h)):(l.tag=0,Dt&&k&&Bh(l),Nn(null,l,w,h),l=l.child),l;case 16:x=l.elementType;e:{switch(Uc(o,l),o=l.pendingProps,w=x._init,x=w(x._payload),l.type=x,w=l.tag=N5(x),o=vr(x,o),w){case 0:l=pf(null,l,x,o,h);break e;case 1:l=$y(null,l,x,o,h);break e;case 11:l=Dy(null,l,x,o,h);break e;case 14:l=Oy(null,l,x,vr(x.type,o),h);break e}throw Error(n(306,x,""))}return l;case 0:return x=l.type,w=l.pendingProps,w=l.elementType===x?w:vr(x,w),pf(o,l,x,w,h);case 1:return x=l.type,w=l.pendingProps,w=l.elementType===x?w:vr(x,w),$y(o,l,x,w,h);case 3:e:{if(Ly(l),o===null)throw Error(n(387));x=l.pendingProps,k=l.memoizedState,w=k.element,ey(o,l),Ic(l,x,null,h);var P=l.memoizedState;if(x=P.element,k.isDehydrated)if(k={element:x,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){w=po(Error(n(423)),l),l=By(o,l,x,h,w);break e}else if(x!==w){w=po(Error(n(424)),l),l=By(o,l,x,h,w);break e}else for(Wn=As(l.stateNode.containerInfo.firstChild),zn=l,Dt=!0,yr=null,h=Jx(l,null,x,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(lo(),x===w){l=ss(o,l,h);break e}Nn(o,l,x,h)}l=l.child}return l;case 5:return ry(l),o===null&&Vh(l),x=l.type,w=l.pendingProps,k=o!==null?o.memoizedProps:null,P=w.children,Oh(x,w)?P=null:k!==null&&Oh(x,k)&&(l.flags|=32),My(o,l),Nn(o,l,P,h),l.child;case 6:return o===null&&Vh(l),null;case 13:return zy(o,l,h);case 4:return Qh(l,l.stateNode.containerInfo),x=l.pendingProps,o===null?l.child=co(l,null,x,h):Nn(o,l,x,h),l.child;case 11:return x=l.type,w=l.pendingProps,w=l.elementType===x?w:vr(x,w),Dy(o,l,x,w,h);case 7:return Nn(o,l,l.pendingProps,h),l.child;case 8:return Nn(o,l,l.pendingProps.children,h),l.child;case 12:return Nn(o,l,l.pendingProps.children,h),l.child;case 10:e:{if(x=l.type._context,w=l.pendingProps,k=l.memoizedProps,P=w.value,Ct(Rc,x._currentValue),x._currentValue=P,k!==null)if(xr(k.value,P)){if(k.children===w.children&&!An.current){l=ss(o,l,h);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var z=k.dependencies;if(z!==null){P=k.child;for(var X=z.firstContext;X!==null;){if(X.context===x){if(k.tag===1){X=rs(-1,h&-h),X.tag=2;var oe=k.updateQueue;if(oe!==null){oe=oe.shared;var ve=oe.pending;ve===null?X.next=X:(X.next=ve.next,ve.next=X),oe.pending=X}}k.lanes|=h,X=k.alternate,X!==null&&(X.lanes|=h),Kh(k.return,h,l),z.lanes|=h;break}X=X.next}}else if(k.tag===10)P=k.type===l.type?null:k.child;else if(k.tag===18){if(P=k.return,P===null)throw Error(n(341));P.lanes|=h,z=P.alternate,z!==null&&(z.lanes|=h),Kh(P,h,l),P=k.sibling}else P=k.child;if(P!==null)P.return=k;else for(P=k;P!==null;){if(P===l){P=null;break}if(k=P.sibling,k!==null){k.return=P.return,P=k;break}P=P.return}k=P}Nn(o,l,w.children,h),l=l.child}return l;case 9:return w=l.type,x=l.pendingProps.children,ho(l,h),w=tr(w),x=x(w),l.flags|=1,Nn(o,l,x,h),l.child;case 14:return x=l.type,w=vr(x,l.pendingProps),w=vr(x.type,w),Oy(o,l,x,w,h);case 15:return Iy(o,l,l.type,l.pendingProps,h);case 17:return x=l.type,w=l.pendingProps,w=l.elementType===x?w:vr(x,w),Uc(o,l),l.tag=1,Tn(x)?(o=!0,Cc(l)):o=!1,ho(l,h),Cy(l,x,w),uf(l,x,w,h),mf(null,l,x,!0,o,h);case 19:return Vy(o,l,h);case 22:return Fy(o,l,h)}throw Error(n(156,l.tag))};function fv(o,l){return js(o,l)}function S5(o,l,h,x){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(o,l,h,x){return new S5(o,l,h,x)}function If(o){return o=o.prototype,!(!o||!o.isReactComponent)}function N5(o){if(typeof o=="function")return If(o)?1:0;if(o!=null){if(o=o.$$typeof,o===se)return 11;if(o===$)return 14}return 2}function Bs(o,l){var h=o.alternate;return h===null?(h=sr(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function td(o,l,h,x,w,k){var P=2;if(x=o,typeof o=="function")If(o)&&(P=1);else if(typeof o=="string")P=5;else e:switch(o){case D:return bi(h.children,w,k,l);case O:P=8,w|=8;break;case V:return o=sr(12,h,l,w|2),o.elementType=V,o.lanes=k,o;case ie:return o=sr(13,h,l,w),o.elementType=ie,o.lanes=k,o;case J:return o=sr(19,h,l,w),o.elementType=J,o.lanes=k,o;case T:return nd(h,w,k,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case G:P=10;break e;case ee:P=9;break e;case se:P=11;break e;case $:P=14;break e;case L:P=16,x=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=sr(P,h,l,w),l.elementType=o,l.type=x,l.lanes=k,l}function bi(o,l,h,x){return o=sr(7,o,x,l),o.lanes=h,o}function nd(o,l,h,x){return o=sr(22,o,x,l),o.elementType=T,o.lanes=h,o.stateNode={isHidden:!1},o}function Ff(o,l,h){return o=sr(6,o,null,l),o.lanes=h,o}function Mf(o,l,h){return l=sr(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function k5(o,l,h,x,w){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ch(0),this.expirationTimes=ch(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ch(0),this.identifierPrefix=x,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function $f(o,l,h,x,w,k,P,z,X){return o=new k5(o,l,h,z,X),l===1?(l=1,k===!0&&(l|=8)):l=0,k=sr(3,null,null,l),o.current=k,k.stateNode=o,k.memoizedState={element:x,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xh(k),o}function C5(o,l,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:x==null?null:""+x,children:o,containerInfo:l,implementation:h}}function pv(o){if(!o)return Ps;o=o._reactInternals;e:{if(Rt(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Tn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var h=o.type;if(Tn(h))return Wx(o,h,l)}return l}function mv(o,l,h,x,w,k,P,z,X){return o=$f(h,x,!0,o,w,k,P,z,X),o.context=pv(null),h=o.current,x=kn(),w=$s(h),k=rs(x,w),k.callback=l??null,Os(h,k,w),o.current.lanes=w,ba(o,w,x),Dn(o,x),o}function rd(o,l,h,x){var w=l.current,k=kn(),P=$s(w);return h=pv(h),l.context===null?l.context=h:l.pendingContext=h,l=rs(k,P),l.payload={element:o},x=x===void 0?null:x,x!==null&&(l.callback=x),o=Os(w,l,P),o!==null&&(jr(o,w,P,k),Oc(o,w,P)),P}function sd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function gv(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function Lf(o,l){gv(o,l),(o=o.alternate)&&gv(o,l)}function E5(){return null}var xv=typeof reportError=="function"?reportError:function(o){console.error(o)};function Bf(o){this._internalRoot=o}id.prototype.render=Bf.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));rd(o,l,null,null)},id.prototype.unmount=Bf.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;xi(function(){rd(null,o,null,null)}),l[Jr]=null}};function id(o){this._internalRoot=o}id.prototype.unstable_scheduleHydration=function(o){if(o){var l=ex();o={blockedOn:null,target:o,priority:l};for(var h=0;h<Cs.length&&l!==0&&l<Cs[h].priority;h++);Cs.splice(h,0,o),h===0&&rx(o)}};function zf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function od(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function yv(){}function _5(o,l,h,x,w){if(w){if(typeof x=="function"){var k=x;x=function(){var oe=sd(P);k.call(oe)}}var P=mv(l,x,o,0,null,!1,!1,"",yv);return o._reactRootContainer=P,o[Jr]=P.current,Oa(o.nodeType===8?o.parentNode:o),xi(),P}for(;w=o.lastChild;)o.removeChild(w);if(typeof x=="function"){var z=x;x=function(){var oe=sd(X);z.call(oe)}}var X=$f(o,0,!1,null,null,!1,!1,"",yv);return o._reactRootContainer=X,o[Jr]=X.current,Oa(o.nodeType===8?o.parentNode:o),xi(function(){rd(l,X,h,x)}),X}function ad(o,l,h,x,w){var k=h._reactRootContainer;if(k){var P=k;if(typeof w=="function"){var z=w;w=function(){var X=sd(P);z.call(X)}}rd(l,P,o,w)}else P=_5(h,l,o,w,x);return sd(P)}J0=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var h=va(l.pendingLanes);h!==0&&(dh(l,h|1),Dn(l,Vt()),(ft&6)===0&&(xo=Vt()+500,Rs()))}break;case 13:xi(function(){var x=ns(o,1);if(x!==null){var w=kn();jr(x,o,1,w)}}),Lf(o,1)}},uh=function(o){if(o.tag===13){var l=ns(o,134217728);if(l!==null){var h=kn();jr(l,o,134217728,h)}Lf(o,134217728)}},Z0=function(o){if(o.tag===13){var l=$s(o),h=ns(o,l);if(h!==null){var x=kn();jr(h,o,l,x)}Lf(o,l)}},ex=function(){return St},tx=function(o,l){var h=St;try{return St=o,l()}finally{St=h}},mr=function(o,l,h){switch(l){case"input":if(ae(o,h),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var x=h[l];if(x!==o&&x.form===o.form){var w=Nc(x);if(!w)throw Error(n(90));Te(x),ae(x,w)}}}break;case"textarea":tt(o,h);break;case"select":l=h.value,l!=null&&Ye(o,!!h.multiple,l,!1)}},Ce=Rf,De=xi;var A5={usingClientEntryPoint:!1,Events:[Ma,ro,Nc,Oe,de,Rf]},Qa={findFiberByHostInstance:ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},T5={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Jn(o),o===null?null:o.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||E5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{ic=ld.inject(T5),$r=ld}catch{}}return On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A5,On.createPortal=function(o,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zf(l))throw Error(n(200));return C5(o,l,null,h)},On.createRoot=function(o,l){if(!zf(o))throw Error(n(299));var h=!1,x="",w=xv;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),l=$f(o,1,!1,null,null,h,!1,x,w),o[Jr]=l.current,Oa(o.nodeType===8?o.parentNode:o),new Bf(l)},On.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Jn(l),o=o===null?null:o.stateNode,o},On.flushSync=function(o){return xi(o)},On.hydrate=function(o,l,h){if(!od(l))throw Error(n(200));return ad(null,o,l,!0,h)},On.hydrateRoot=function(o,l,h){if(!zf(o))throw Error(n(405));var x=h!=null&&h.hydratedSources||null,w=!1,k="",P=xv;if(h!=null&&(h.unstable_strictMode===!0&&(w=!0),h.identifierPrefix!==void 0&&(k=h.identifierPrefix),h.onRecoverableError!==void 0&&(P=h.onRecoverableError)),l=mv(l,null,o,1,h??null,w,!1,k,P),o[Jr]=l.current,Oa(o),x)for(o=0;o<x.length;o++)h=x[o],w=h._getVersion,w=w(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,w]:l.mutableSourceEagerHydrationData.push(h,w);return new id(l)},On.render=function(o,l,h){if(!od(l))throw Error(n(200));return ad(null,o,l,!1,h)},On.unmountComponentAtNode=function(o){if(!od(o))throw Error(n(40));return o._reactRootContainer?(xi(function(){ad(null,null,o,!1,function(){o._reactRootContainer=null,o[Jr]=null})}),!0):!1},On.unstable_batchedUpdates=Rf,On.unstable_renderSubtreeIntoContainer=function(o,l,h,x){if(!od(h))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return ad(o,l,h,!1,x)},On.version="18.3.1-next-f1338f8080-20240426",On}var Cv;function ej(){if(Cv)return Uf.exports;Cv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Uf.exports=$5(),Uf.exports}var Ev;function L5(){if(Ev)return cd;Ev=1;var e=ej();return cd.createRoot=e.createRoot,cd.hydrateRoot=e.hydrateRoot,cd}var B5=L5(),g=Ml();const me=Ru(g),fg=Z1({__proto__:null,default:me},[g]);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _v="popstate";function z5(e={}){function t(r,i){let{pathname:a,search:c,hash:d}=r.location;return rm("",{pathname:a,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bl(i)}return V5(t,n,null,e)}function Lt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ar(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W5(){return Math.random().toString(36).substring(2,10)}function Av(e,t){return{usr:e.state,key:e.key,idx:t}}function rm(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?na(t):t,state:n,key:t&&t.key||r||W5()}}function bl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function na(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function V5(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,c=i.history,d="POP",u=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function m(){d="POP";let S=p(),N=S==null?null:S-f;f=S,u&&u({action:d,location:j.location,delta:N})}function y(S,N){d="PUSH";let _=rm(j.location,S,N);f=p()+1;let C=Av(_,f),E=j.createHref(_);try{c.pushState(C,"",E)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(E)}a&&u&&u({action:d,location:j.location,delta:1})}function v(S,N){d="REPLACE";let _=rm(j.location,S,N);f=p();let C=Av(_,f),E=j.createHref(_);c.replaceState(C,"",E),a&&u&&u({action:d,location:j.location,delta:0})}function b(S){return U5(S)}let j={get action(){return d},get location(){return e(i,c)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(_v,m),u=S,()=>{i.removeEventListener(_v,m),u=null}},createHref(S){return t(i,S)},createURL:b,encodeLocation(S){let N=b(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:v,go(S){return c.go(S)}};return j}function U5(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:bl(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function tj(e,t,n="/"){return H5(e,t,n,!1)}function H5(e,t,n,r){let i=typeof t=="string"?na(t):t,a=ps(i.pathname||"/",n);if(a==null)return null;let c=nj(e);G5(c);let d=null;for(let u=0;d==null&&u<c.length;++u){let f=r_(a);d=t_(c[u],f,r)}return d}function nj(e,t=[],n=[],r="",i=!1){let a=(c,d,u=i,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;Lt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=fs([r,p.relativePath]),y=n.concat(p);c.children&&c.children.length>0&&(Lt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),nj(c.children,t,y,m,u)),!(c.path==null&&!c.index)&&t.push({path:m,score:Z5(m,c.index),routesMeta:y})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))a(c,d);else for(let u of rj(c.path))a(c,d,!0,u)}),t}function rj(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let c=rj(r.join("/")),d=[];return d.push(...c.map(u=>u===""?a:[a,u].join("/"))),i&&d.push(...c),d.map(u=>e.startsWith("/")&&u===""?"/":u)}function G5(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:e_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var q5=/^:[\w-]+$/,K5=3,Y5=2,X5=1,Q5=10,J5=-2,Tv=e=>e==="*";function Z5(e,t){let n=e.split("/"),r=n.length;return n.some(Tv)&&(r+=J5),t&&(r+=Y5),n.filter(i=>!Tv(i)).reduce((i,a)=>i+(q5.test(a)?K5:a===""?X5:Q5),r)}function e_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function t_(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",c=[];for(let d=0;d<r.length;++d){let u=r[d],f=d===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",m=eu({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),y=u.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=eu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),c.push({params:i,pathname:fs([a,m.pathname]),pathnameBase:l_(fs([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=fs([a,m.pathnameBase]))}return c}function eu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=n_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},y)=>{if(p==="*"){let b=d[y]||"";c=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const v=d[y];return m&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:c,pattern:e}}function n_(e,t=!1,n=!0){Ar(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,u)=>(r.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function r_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ar(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ps(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var s_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i_=e=>s_.test(e);function o_(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?na(e):e,a;if(n)if(i_(n))a=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Ar(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?a=Pv(n.substring(1),"/"):a=Pv(n,t)}else a=t;return{pathname:a,search:c_(r),hash:d_(i)}}function Pv(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qf(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function a_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sj(e){let t=a_(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ij(e,t,n,r=!1){let i;typeof e=="string"?i=na(e):(i={...e},Lt(!i.pathname||!i.pathname.includes("?"),qf("?","pathname","search",i)),Lt(!i.pathname||!i.pathname.includes("#"),qf("#","pathname","hash",i)),Lt(!i.search||!i.search.includes("#"),qf("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,d;if(c==null)d=n;else{let m=t.length-1;if(!r&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}d=m>=0?t[m]:"/"}let u=o_(i,d),f=c&&c!=="/"&&c.endsWith("/"),p=(a||c===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}var fs=e=>e.join("/").replace(/\/\/+/g,"/"),l_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),c_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,d_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function u_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oj=["POST","PUT","PATCH","DELETE"];new Set(oj);var h_=["GET",...oj];new Set(h_);var ra=g.createContext(null);ra.displayName="DataRouter";var Du=g.createContext(null);Du.displayName="DataRouterState";g.createContext(!1);var aj=g.createContext({isTransitioning:!1});aj.displayName="ViewTransition";var f_=g.createContext(new Map);f_.displayName="Fetchers";var p_=g.createContext(null);p_.displayName="Await";var Xr=g.createContext(null);Xr.displayName="Navigation";var $l=g.createContext(null);$l.displayName="Location";var ws=g.createContext({outlet:null,matches:[],isDataRoute:!1});ws.displayName="Route";var pg=g.createContext(null);pg.displayName="RouteError";function m_(e,{relative:t}={}){Lt(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=g.useContext(Xr),{hash:i,pathname:a,search:c}=Bl(e,{relative:t}),d=a;return n!=="/"&&(d=a==="/"?n:fs([n,a])),r.createHref({pathname:d,search:c,hash:i})}function Ll(){return g.useContext($l)!=null}function ei(){return Lt(Ll(),"useLocation() may be used only in the context of a <Router> component."),g.useContext($l).location}var lj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cj(e){g.useContext(Xr).static||g.useLayoutEffect(e)}function dj(){let{isDataRoute:e}=g.useContext(ws);return e?__():g_()}function g_(){Lt(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(ra),{basename:t,navigator:n}=g.useContext(Xr),{matches:r}=g.useContext(ws),{pathname:i}=ei(),a=JSON.stringify(sj(r)),c=g.useRef(!1);return cj(()=>{c.current=!0}),g.useCallback((u,f={})=>{if(Ar(c.current,lj),!c.current)return;if(typeof u=="number"){n.go(u);return}let p=ij(u,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:fs([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,a,i,e])}g.createContext(null);function Bl(e,{relative:t}={}){let{matches:n}=g.useContext(ws),{pathname:r}=ei(),i=JSON.stringify(sj(n));return g.useMemo(()=>ij(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function x_(e,t){return uj(e,t)}function uj(e,t,n,r,i){Lt(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=g.useContext(Xr),{matches:c}=g.useContext(ws),d=c[c.length-1],u=d?d.params:{},f=d?d.pathname:"/",p=d?d.pathnameBase:"/",m=d&&d.route;{let _=m&&m.path||"";hj(f,!m||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let y=ei(),v;if(t){let _=typeof t=="string"?na(t):t;Lt(p==="/"||_.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${_.pathname}" was given in the \`location\` prop.`),v=_}else v=y;let b=v.pathname||"/",j=b;if(p!=="/"){let _=p.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=tj(e,{pathname:j});Ar(m||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ar(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=j_(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:fs([p,a.encodeLocation?a.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?p:fs([p,a.encodeLocation?a.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),c,n,r,i);return t&&N?g.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},N):N}function y_(){let e=E_(),t=u_(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:a},"ErrorBoundary")," or"," ",g.createElement("code",{style:a},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:i},n):null,c)}var v_=g.createElement(y_,null),b_=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?g.createElement(ws.Provider,{value:this.props.routeContext},g.createElement(pg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function w_({routeContext:e,match:t,children:n}){let r=g.useContext(ra);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(ws.Provider,{value:e},n)}function j_(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,c=n?.errors;if(c!=null){let p=a.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);Lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let d=!1,u=-1;if(n)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=p),m.route.id){let{loaderData:y,errors:v}=n,b=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){d=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let f=n&&r?(p,m)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:m})}:void 0;return a.reduceRight((p,m,y)=>{let v,b=!1,j=null,S=null;n&&(v=c&&m.route.id?c[m.route.id]:void 0,j=m.route.errorElement||v_,d&&(u<0&&y===0?(hj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):u===y&&(b=!0,S=m.route.hydrateFallbackElement||null)));let N=t.concat(a.slice(0,y+1)),_=()=>{let C;return v?C=j:b?C=S:m.route.Component?C=g.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=p,g.createElement(w_,{match:m,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?g.createElement(b_,{location:n.location,revalidation:n.revalidation,component:j,error:v,children:_(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:f}):_()},null)}function mg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S_(e){let t=g.useContext(ra);return Lt(t,mg(e)),t}function N_(e){let t=g.useContext(Du);return Lt(t,mg(e)),t}function k_(e){let t=g.useContext(ws);return Lt(t,mg(e)),t}function gg(e){let t=k_(e),n=t.matches[t.matches.length-1];return Lt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function C_(){return gg("useRouteId")}function E_(){let e=g.useContext(pg),t=N_("useRouteError"),n=gg("useRouteError");return e!==void 0?e:t.errors?.[n]}function __(){let{router:e}=S_("useNavigate"),t=gg("useNavigate"),n=g.useRef(!1);return cj(()=>{n.current=!0}),g.useCallback(async(i,a={})=>{Ar(n.current,lj),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var Rv={};function hj(e,t,n){!t&&!Rv[e]&&(Rv[e]=!0,Ar(!1,n))}g.memo(A_);function A_({routes:e,future:t,state:n,unstable_onError:r}){return uj(e,void 0,n,r,t)}function Ro(e){Lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T_({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Lt(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:i,static:a,future:{}}),[c,i,a]);typeof n=="string"&&(n=na(n));let{pathname:u="/",search:f="",hash:p="",state:m=null,key:y="default"}=n,v=g.useMemo(()=>{let b=ps(u,c);return b==null?null:{location:{pathname:b,search:f,hash:p,state:m,key:y},navigationType:r}},[c,u,f,p,m,y,r]);return Ar(v!=null,`<Router basename="${c}"> is not able to match the URL "${u}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:g.createElement(Xr.Provider,{value:d},g.createElement($l.Provider,{children:t,value:v}))}function P_({children:e,location:t}){return x_(sm(e),t)}function sm(e,t=[]){let n=[];return g.Children.forEach(e,(r,i)=>{if(!g.isValidElement(r))return;let a=[...t,i];if(r.type===g.Fragment){n.push.apply(n,sm(r.props.children,a));return}Lt(r.type===Ro,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=sm(r.props.children,a)),n.push(c)}),n}var Bd="get",zd="application/x-www-form-urlencoded";function Ou(e){return e!=null&&typeof e.tagName=="string"}function R_(e){return Ou(e)&&e.tagName.toLowerCase()==="button"}function D_(e){return Ou(e)&&e.tagName.toLowerCase()==="form"}function O_(e){return Ou(e)&&e.tagName.toLowerCase()==="input"}function I_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function F_(e,t){return e.button===0&&(!t||t==="_self")&&!I_(e)}var dd=null;function M_(){if(dd===null)try{new FormData(document.createElement("form"),0),dd=!1}catch{dd=!0}return dd}var $_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kf(e){return e!=null&&!$_.has(e)?(Ar(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zd}"`),null):e}function L_(e,t){let n,r,i,a,c;if(D_(e)){let d=e.getAttribute("action");r=d?ps(d,t):null,n=e.getAttribute("method")||Bd,i=Kf(e.getAttribute("enctype"))||zd,a=new FormData(e)}else if(R_(e)||O_(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||d.getAttribute("action");if(r=u?ps(u,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Bd,i=Kf(e.getAttribute("formenctype"))||Kf(d.getAttribute("enctype"))||zd,a=new FormData(d,e),!M_()){let{name:f,type:p,value:m}=e;if(p==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,m)}}else{if(Ou(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bd,r=null,i=zd,c=e}return a&&i==="text/plain"&&(c=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function B_(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&ps(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function z_(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function W_(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function V_(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let c=await z_(a,n);return c.links?c.links():[]}return[]}));return q_(r.flat(1).filter(W_).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Dv(e,t,n,r,i,a){let c=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,d=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,f)=>c(u,f)||d(u,f)):a==="data"?t.filter((u,f)=>{let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(c(u,f)||d(u,f))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function U_(e,t,{includeHydrateFallback:n}={}){return H_(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function H_(e){return[...new Set(e)]}function G_(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function q_(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(G_(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function fj(){let e=g.useContext(ra);return xg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function K_(){let e=g.useContext(Du);return xg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var yg=g.createContext(void 0);yg.displayName="FrameworkContext";function pj(){let e=g.useContext(yg);return xg(e,"You must render this element inside a <HydratedRouter> element"),e}function Y_(e,t){let n=g.useContext(yg),[r,i]=g.useState(!1),[a,c]=g.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=t,y=g.useRef(null);g.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=N=>{N.forEach(_=>{c(_.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),g.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let v=()=>{i(!0)},b=()=>{i(!1),c(!1)};return n?e!=="intent"?[a,y,{}]:[a,y,{onFocus:Za(d,v),onBlur:Za(u,b),onMouseEnter:Za(f,v),onMouseLeave:Za(p,b),onTouchStart:Za(m,v)}]:[!1,y,{}]}function Za(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function X_({page:e,...t}){let{router:n}=fj(),r=g.useMemo(()=>tj(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?g.createElement(J_,{page:e,matches:r,...t}):null}function Q_(e){let{manifest:t,routeModules:n}=pj(),[r,i]=g.useState([]);return g.useEffect(()=>{let a=!1;return V_(e,t,n).then(c=>{a||i(c)}),()=>{a=!0}},[e,t,n]),r}function J_({page:e,matches:t,...n}){let r=ei(),{manifest:i,routeModules:a}=pj(),{basename:c}=fj(),{loaderData:d,matches:u}=K_(),f=g.useMemo(()=>Dv(e,t,u,i,r,"data"),[e,t,u,i,r]),p=g.useMemo(()=>Dv(e,t,u,i,r,"assets"),[e,t,u,i,r]),m=g.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,j=!1;if(t.forEach(N=>{let _=i.routes[N.route.id];!_||!_.hasLoader||(!f.some(C=>C.route.id===N.route.id)&&N.route.id in d&&a[N.route.id]?.shouldRevalidate||_.hasClientLoader?j=!0:b.add(N.route.id))}),b.size===0)return[];let S=B_(e,c,"data");return j&&b.size>0&&S.searchParams.set("_routes",t.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[S.pathname+S.search]},[c,d,r,i,f,t,e,a]),y=g.useMemo(()=>U_(p,i),[p,i]),v=Q_(p);return g.createElement(g.Fragment,null,m.map(b=>g.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),y.map(b=>g.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),v.map(({key:b,link:j})=>g.createElement("link",{key:b,nonce:n.nonce,...j})))}function Z_(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var mj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mj&&(window.__reactRouterVersion="7.9.6")}catch{}function eA({basename:e,children:t,window:n}){let r=g.useRef();r.current==null&&(r.current=z5({window:n,v5Compat:!0}));let i=r.current,[a,c]=g.useState({action:i.action,location:i.location}),d=g.useCallback(u=>{g.startTransition(()=>c(u))},[c]);return g.useLayoutEffect(()=>i.listen(d),[i,d]),g.createElement(T_,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var gj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xj=g.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:c,state:d,target:u,to:f,preventScrollReset:p,viewTransition:m,...y},v){let{basename:b}=g.useContext(Xr),j=typeof f=="string"&&gj.test(f),S,N=!1;if(typeof f=="string"&&j&&(S=f,mj))try{let V=new URL(window.location.href),G=f.startsWith("//")?new URL(V.protocol+f):new URL(f),ee=ps(G.pathname,b);G.origin===V.origin&&ee!=null?f=ee+G.search+G.hash:N=!0}catch{Ar(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=m_(f,{relative:i}),[C,E,A]=Y_(r,y),F=sA(f,{replace:c,state:d,target:u,preventScrollReset:p,relative:i,viewTransition:m});function D(V){t&&t(V),V.defaultPrevented||F(V)}let O=g.createElement("a",{...y,...A,href:S||_,onClick:N||a?t:D,ref:Z_(v,E),target:u,"data-discover":!j&&n==="render"?"true":void 0});return C&&!j?g.createElement(g.Fragment,null,O,g.createElement(X_,{page:_})):O});xj.displayName="Link";var tA=g.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:c,viewTransition:d,children:u,...f},p){let m=Bl(c,{relative:f.relative}),y=ei(),v=g.useContext(Du),{navigator:b,basename:j}=g.useContext(Xr),S=v!=null&&cA(m)&&d===!0,N=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,_=y.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(_=_.toLowerCase(),C=C?C.toLowerCase():null,N=N.toLowerCase()),C&&j&&(C=ps(C,j)||C);const E=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let A=_===N||!i&&_.startsWith(N)&&_.charAt(E)==="/",F=C!=null&&(C===N||!i&&C.startsWith(N)&&C.charAt(N.length)==="/"),D={isActive:A,isPending:F,isTransitioning:S},O=A?t:void 0,V;typeof r=="function"?V=r(D):V=[r,A?"active":null,F?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let G=typeof a=="function"?a(D):a;return g.createElement(xj,{...f,"aria-current":O,className:V,ref:p,style:G,to:c,viewTransition:d},typeof u=="function"?u(D):u)});tA.displayName="NavLink";var nA=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:c=Bd,action:d,onSubmit:u,relative:f,preventScrollReset:p,viewTransition:m,...y},v)=>{let b=aA(),j=lA(d,{relative:f}),S=c.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&gj.test(d),_=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let E=C.nativeEvent.submitter,A=E?.getAttribute("formmethod")||c;b(E||C.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:i,state:a,relative:f,preventScrollReset:p,viewTransition:m})};return g.createElement("form",{ref:v,method:S,action:j,onSubmit:r?u:_,...y,"data-discover":!N&&e==="render"?"true":void 0})});nA.displayName="Form";function rA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yj(e){let t=g.useContext(ra);return Lt(t,rA(e)),t}function sA(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:c}={}){let d=dj(),u=ei(),f=Bl(e,{relative:a});return g.useCallback(p=>{if(F_(p,t)){p.preventDefault();let m=n!==void 0?n:bl(u)===bl(f);d(e,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:c})}},[u,d,f,n,r,t,e,i,a,c])}var iA=0,oA=()=>`__${String(++iA)}__`;function aA(){let{router:e}=yj("useSubmit"),{basename:t}=g.useContext(Xr),n=C_();return g.useCallback(async(r,i={})=>{let{action:a,method:c,encType:d,formData:u,body:f}=L_(r,t);if(i.navigate===!1){let p=i.fetcherKey||oA();await e.fetch(p,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function lA(e,{relative:t}={}){let{basename:n}=g.useContext(Xr),r=g.useContext(ws);Lt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Bl(e||".",{relative:t})},c=ei();if(e==null){a.search=c.search;let d=new URLSearchParams(a.search),u=d.getAll("index");if(u.some(p=>p==="")){d.delete("index"),u.filter(m=>m).forEach(m=>d.append("index",m));let p=d.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:fs([n,a.pathname])),bl(a)}function cA(e,{relative:t}={}){let n=g.useContext(aj);Lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yj("useViewTransitionState"),i=Bl(e,{relative:t});if(!n.isTransitioning)return!1;let a=ps(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ps(n.nextLocation.pathname,r)||n.nextLocation.pathname;return eu(i.pathname,c)!=null||eu(i.pathname,a)!=null}var _r=ej();const vj=Ru(_r),vg=g.createContext({});function bg(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const wg=typeof window<"u",bj=wg?g.useLayoutEffect:g.useEffect,Iu=g.createContext(null);function jg(e,t){e.indexOf(t)===-1&&e.push(t)}function Sg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ms=(e,t,n)=>n>t?t:n<e?e:n;let Ng=()=>{};const gs={},wj=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function jj(e){return typeof e=="object"&&e!==null}const Sj=e=>/^0[^.\s]+$/u.test(e);function kg(e){let t;return()=>(t===void 0&&(t=e()),t)}const fr=e=>e,dA=(e,t)=>n=>t(e(n)),zl=(...e)=>e.reduce(dA),wl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Cg{constructor(){this.subscriptions=[]}add(t){return jg(this.subscriptions,t),()=>Sg(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const c=this.subscriptions[a];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gr=e=>e*1e3,dr=e=>e/1e3;function Nj(e,t){return t?e*(1e3/t):0}const kj=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,uA=1e-7,hA=12;function fA(e,t,n,r,i){let a,c,d=0;do c=t+(n-t)/2,a=kj(c,r,i)-e,a>0?n=c:t=c;while(Math.abs(a)>uA&&++d<hA);return c}function Wl(e,t,n,r){if(e===t&&n===r)return fr;const i=a=>fA(a,0,1,e,n);return a=>a===0||a===1?a:kj(i(a),t,r)}const Cj=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ej=e=>t=>1-e(1-t),_j=Wl(.33,1.53,.69,.99),Eg=Ej(_j),Aj=Cj(Eg),Tj=e=>(e*=2)<1?.5*Eg(e):.5*(2-Math.pow(2,-10*(e-1))),_g=e=>1-Math.sin(Math.acos(e)),Pj=Ej(_g),Rj=Cj(_g),pA=Wl(.42,0,1,1),mA=Wl(0,0,.58,1),Dj=Wl(.42,0,.58,1),gA=e=>Array.isArray(e)&&typeof e[0]!="number",Oj=e=>Array.isArray(e)&&typeof e[0]=="number",xA={linear:fr,easeIn:pA,easeInOut:Dj,easeOut:mA,circIn:_g,circInOut:Rj,circOut:Pj,backIn:Eg,backInOut:Aj,backOut:_j,anticipate:Tj},yA=e=>typeof e=="string",Ov=e=>{if(Oj(e)){Ng(e.length===4);const[t,n,r,i]=e;return Wl(t,n,r,i)}else if(yA(e))return xA[e];return e},ud=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vA(e,t){let n=new Set,r=new Set,i=!1,a=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function u(p){c.has(p)&&(f.schedule(p),e()),p(d)}const f={schedule:(p,m=!1,y=!1)=>{const b=y&&i?n:r;return m&&c.add(p),b.has(p)||b.add(p),p},cancel:p=>{r.delete(p),c.delete(p)},process:p=>{if(d=p,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,a&&(a=!1,f.process(p))}};return f}const bA=40;function Ij(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,c=ud.reduce((C,E)=>(C[E]=vA(a),C),{}),{setup:d,read:u,resolveKeyframes:f,preUpdate:p,update:m,preRender:y,render:v,postRender:b}=c,j=()=>{const C=gs.useManualTiming?i.timestamp:performance.now();n=!1,gs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(C-i.timestamp,bA),1)),i.timestamp=C,i.isProcessing=!0,d.process(i),u.process(i),f.process(i),p.process(i),m.process(i),y.process(i),v.process(i),b.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(j))},S=()=>{n=!0,r=!0,i.isProcessing||e(j)};return{schedule:ud.reduce((C,E)=>{const A=c[E];return C[E]=(F,D=!1,O=!1)=>(n||S(),A.schedule(F,D,O)),C},{}),cancel:C=>{for(let E=0;E<ud.length;E++)c[ud[E]].cancel(C)},state:i,steps:c}}const{schedule:Ot,cancel:Ys,state:dn,steps:Yf}=Ij(typeof requestAnimationFrame<"u"?requestAnimationFrame:fr,!0);let Wd;function wA(){Wd=void 0}const Fn={now:()=>(Wd===void 0&&Fn.set(dn.isProcessing||gs.useManualTiming?dn.timestamp:performance.now()),Wd),set:e=>{Wd=e,queueMicrotask(wA)}},Fj=e=>t=>typeof t=="string"&&t.startsWith(e),Ag=Fj("--"),jA=Fj("var(--"),Tg=e=>jA(e)?SA.test(e.split("/*")[0].trim()):!1,SA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sa={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},jl={...sa,transform:e=>ms(0,1,e)},hd={...sa,default:1},cl=e=>Math.round(e*1e5)/1e5,Pg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function NA(e){return e==null}const kA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Rg=(e,t)=>n=>!!(typeof n=="string"&&kA.test(n)&&n.startsWith(e)||t&&!NA(n)&&Object.prototype.hasOwnProperty.call(n,t)),Mj=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,c,d]=r.match(Pg);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},CA=e=>ms(0,255,e),Xf={...sa,transform:e=>Math.round(CA(e))},Ii={test:Rg("rgb","red"),parse:Mj("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Xf.transform(e)+", "+Xf.transform(t)+", "+Xf.transform(n)+", "+cl(jl.transform(r))+")"};function EA(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const im={test:Rg("#"),parse:EA,transform:Ii.transform},Vl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Us=Vl("deg"),qr=Vl("%"),Je=Vl("px"),_A=Vl("vh"),AA=Vl("vw"),Iv={...qr,parse:e=>qr.parse(e)/100,transform:e=>qr.transform(e*100)},Fo={test:Rg("hsl","hue"),parse:Mj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+qr.transform(cl(t))+", "+qr.transform(cl(n))+", "+cl(jl.transform(r))+")"},Yt={test:e=>Ii.test(e)||im.test(e)||Fo.test(e),parse:e=>Ii.test(e)?Ii.parse(e):Fo.test(e)?Fo.parse(e):im.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ii.transform(e):Fo.transform(e),getAnimatableNone:e=>{const t=Yt.parse(e);return t.alpha=0,Yt.transform(t)}},TA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function PA(e){return isNaN(e)&&typeof e=="string"&&(e.match(Pg)?.length||0)+(e.match(TA)?.length||0)>0}const $j="number",Lj="color",RA="var",DA="var(",Fv="${}",OA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sl(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const d=t.replace(OA,u=>(Yt.test(u)?(r.color.push(a),i.push(Lj),n.push(Yt.parse(u))):u.startsWith(DA)?(r.var.push(a),i.push(RA),n.push(u)):(r.number.push(a),i.push($j),n.push(parseFloat(u))),++a,Fv)).split(Fv);return{values:n,split:d,indexes:r,types:i}}function Bj(e){return Sl(e).values}function zj(e){const{split:t,types:n}=Sl(e),r=t.length;return i=>{let a="";for(let c=0;c<r;c++)if(a+=t[c],i[c]!==void 0){const d=n[c];d===$j?a+=cl(i[c]):d===Lj?a+=Yt.transform(i[c]):a+=i[c]}return a}}const IA=e=>typeof e=="number"?0:Yt.test(e)?Yt.getAnimatableNone(e):e;function FA(e){const t=Bj(e);return zj(e)(t.map(IA))}const Xs={test:PA,parse:Bj,createTransformer:zj,getAnimatableNone:FA};function Qf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function MA({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,c=0;if(!t)i=a=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,u=2*n-d;i=Qf(u,d,e+1/3),a=Qf(u,d,e),c=Qf(u,d,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:r}}function tu(e,t){return n=>n>0?t:e}const $t=(e,t,n)=>e+(t-e)*n,Jf=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},$A=[im,Ii,Fo],LA=e=>$A.find(t=>t.test(e));function Mv(e){const t=LA(e);if(!t)return!1;let n=t.parse(e);return t===Fo&&(n=MA(n)),n}const $v=(e,t)=>{const n=Mv(e),r=Mv(t);if(!n||!r)return tu(e,t);const i={...n};return a=>(i.red=Jf(n.red,r.red,a),i.green=Jf(n.green,r.green,a),i.blue=Jf(n.blue,r.blue,a),i.alpha=$t(n.alpha,r.alpha,a),Ii.transform(i))},om=new Set(["none","hidden"]);function BA(e,t){return om.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function zA(e,t){return n=>$t(e,t,n)}function Dg(e){return typeof e=="number"?zA:typeof e=="string"?Tg(e)?tu:Yt.test(e)?$v:UA:Array.isArray(e)?Wj:typeof e=="object"?Yt.test(e)?$v:WA:tu}function Wj(e,t){const n=[...e],r=n.length,i=e.map((a,c)=>Dg(a)(a,t[c]));return a=>{for(let c=0;c<r;c++)n[c]=i[c](a);return n}}function WA(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Dg(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function VA(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],c=e.indexes[a][r[a]],d=e.values[c]??0;n[i]=d,r[a]++}return n}const UA=(e,t)=>{const n=Xs.createTransformer(t),r=Sl(e),i=Sl(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?om.has(e)&&!i.values.length||om.has(t)&&!r.values.length?BA(e,t):zl(Wj(VA(r,i),i.values),n):tu(e,t)};function Vj(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?$t(e,t,n):Dg(e)(e,t)}const HA=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ot.update(t,n),stop:()=>Ys(t),now:()=>dn.isProcessing?dn.timestamp:Fn.now()}},Uj=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},nu=2e4;function Og(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<nu;)t+=n,r=e.next(t);return t>=nu?1/0:t}function GA(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(Og(r),nu);return{type:"keyframes",ease:a=>r.next(i*a).value/t,duration:dr(i)}}const qA=5;function Hj(e,t,n){const r=Math.max(t-qA,0);return Nj(n-e(r),t-r)}const Wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zf=.001;function KA({duration:e=Wt.duration,bounce:t=Wt.bounce,velocity:n=Wt.velocity,mass:r=Wt.mass}){let i,a,c=1-t;c=ms(Wt.minDamping,Wt.maxDamping,c),e=ms(Wt.minDuration,Wt.maxDuration,dr(e)),c<1?(i=f=>{const p=f*c,m=p*e,y=p-n,v=am(f,c),b=Math.exp(-m);return Zf-y/v*b},a=f=>{const m=f*c*e,y=m*n+n,v=Math.pow(c,2)*Math.pow(f,2)*e,b=Math.exp(-m),j=am(Math.pow(f,2),c);return(-i(f)+Zf>0?-1:1)*((y-v)*b)/j}):(i=f=>{const p=Math.exp(-f*e),m=(f-n)*e+1;return-Zf+p*m},a=f=>{const p=Math.exp(-f*e),m=(n-f)*(e*e);return p*m});const d=5/e,u=XA(i,a,d);if(e=Gr(e),isNaN(u))return{stiffness:Wt.stiffness,damping:Wt.damping,duration:e};{const f=Math.pow(u,2)*r;return{stiffness:f,damping:c*2*Math.sqrt(r*f),duration:e}}}const YA=12;function XA(e,t,n){let r=n;for(let i=1;i<YA;i++)r=r-e(r)/t(r);return r}function am(e,t){return e*Math.sqrt(1-t*t)}const QA=["duration","bounce"],JA=["stiffness","damping","mass"];function Lv(e,t){return t.some(n=>e[n]!==void 0)}function ZA(e){let t={velocity:Wt.velocity,stiffness:Wt.stiffness,damping:Wt.damping,mass:Wt.mass,isResolvedFromDuration:!1,...e};if(!Lv(e,JA)&&Lv(e,QA))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*ms(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Wt.mass,stiffness:i,damping:a}}else{const n=KA(e);t={...t,...n,mass:Wt.mass},t.isResolvedFromDuration=!0}return t}function ru(e=Wt.visualDuration,t=Wt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:u,damping:f,mass:p,duration:m,velocity:y,isResolvedFromDuration:v}=ZA({...n,velocity:-dr(n.velocity||0)}),b=y||0,j=f/(2*Math.sqrt(u*p)),S=c-a,N=dr(Math.sqrt(u/p)),_=Math.abs(S)<5;r||(r=_?Wt.restSpeed.granular:Wt.restSpeed.default),i||(i=_?Wt.restDelta.granular:Wt.restDelta.default);let C;if(j<1){const A=am(N,j);C=F=>{const D=Math.exp(-j*N*F);return c-D*((b+j*N*S)/A*Math.sin(A*F)+S*Math.cos(A*F))}}else if(j===1)C=A=>c-Math.exp(-N*A)*(S+(b+N*S)*A);else{const A=N*Math.sqrt(j*j-1);C=F=>{const D=Math.exp(-j*N*F),O=Math.min(A*F,300);return c-D*((b+j*N*S)*Math.sinh(O)+A*S*Math.cosh(O))/A}}const E={calculatedDuration:v&&m||null,next:A=>{const F=C(A);if(v)d.done=A>=m;else{let D=A===0?b:0;j<1&&(D=A===0?Gr(b):Hj(C,A,F));const O=Math.abs(D)<=r,V=Math.abs(c-F)<=i;d.done=O&&V}return d.value=d.done?c:F,d},toString:()=>{const A=Math.min(Og(E),nu),F=Uj(D=>E.next(A*D).value,A,30);return A+"ms "+F},toTransition:()=>{}};return E}ru.applyToOptions=e=>{const t=GA(e,100,ru);return e.ease=t.ease,e.duration=Gr(t.duration),e.type="keyframes",e};function lm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:c,min:d,max:u,restDelta:f=.5,restSpeed:p}){const m=e[0],y={done:!1,value:m},v=O=>d!==void 0&&O<d||u!==void 0&&O>u,b=O=>d===void 0?u:u===void 0||Math.abs(d-O)<Math.abs(u-O)?d:u;let j=n*t;const S=m+j,N=c===void 0?S:c(S);N!==S&&(j=N-m);const _=O=>-j*Math.exp(-O/r),C=O=>N+_(O),E=O=>{const V=_(O),G=C(O);y.done=Math.abs(V)<=f,y.value=y.done?N:G};let A,F;const D=O=>{v(y.value)&&(A=O,F=ru({keyframes:[y.value,b(y.value)],velocity:Hj(C,O,y.value),damping:i,stiffness:a,restDelta:f,restSpeed:p}))};return D(0),{calculatedDuration:null,next:O=>{let V=!1;return!F&&A===void 0&&(V=!0,E(O),D(O)),A!==void 0&&O>=A?F.next(O-A):(!V&&E(O),y)}}}function eT(e,t,n){const r=[],i=n||gs.mix||Vj,a=e.length-1;for(let c=0;c<a;c++){let d=i(e[c],e[c+1]);if(t){const u=Array.isArray(t)?t[c]||fr:t;d=zl(u,d)}r.push(d)}return r}function tT(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(Ng(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=eT(t,r,i),u=d.length,f=p=>{if(c&&p<e[0])return t[0];let m=0;if(u>1)for(;m<e.length-2&&!(p<e[m+1]);m++);const y=wl(e[m],e[m+1],p);return d[m](y)};return n?p=>f(ms(e[0],e[a-1],p)):f}function nT(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=wl(0,t,r);e.push($t(n,1,i))}}function rT(e){const t=[0];return nT(t,e.length-1),t}function sT(e,t){return e.map(n=>n*t)}function iT(e,t){return e.map(()=>t||Dj).splice(0,e.length-1)}function dl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=gA(r)?r.map(Ov):Ov(r),a={done:!1,value:t[0]},c=sT(n&&n.length===t.length?n:rT(t),e),d=tT(c,t,{ease:Array.isArray(i)?i:iT(t,i)});return{calculatedDuration:e,next:u=>(a.value=d(u),a.done=u>=e,a)}}const oT=e=>e!==null;function Ig(e,{repeat:t,repeatType:n="loop"},r,i=1){const a=e.filter(oT),d=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!d||r===void 0?a[d]:r}const aT={decay:lm,inertia:lm,tween:dl,keyframes:dl,spring:ru};function Gj(e){typeof e.type=="string"&&(e.type=aT[e.type])}class Fg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const lT=e=>e/100;class Mg extends Fg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Fn.now()&&this.tick(Fn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Gj(t);const{type:n=dl,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:c=0}=t;let{keyframes:d}=t;const u=n||dl;u!==dl&&typeof d[0]!="number"&&(this.mixKeyframes=zl(lT,Vj(d[0],d[1])),d=[0,100]);const f=u({...t,keyframes:d});a==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...d].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=Og(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:p,repeat:m,repeatType:y,repeatDelay:v,type:b,onUpdate:j,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const N=this.currentTime-f*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?N<0:N>i;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let C=this.currentTime,E=r;if(m){const O=Math.min(this.currentTime,i)/d;let V=Math.floor(O),G=O%1;!G&&O>=1&&(G=1),G===1&&V--,V=Math.min(V,m+1),!!(V%2)&&(y==="reverse"?(G=1-G,v&&(G-=v/d)):y==="mirror"&&(E=c)),C=ms(0,1,G)*d}const A=_?{done:!1,value:p[0]}:E.next(C);a&&(A.value=a(A.value));let{done:F}=A;!_&&u!==null&&(F=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return D&&b!==lm&&(A.value=Ig(p,this.options,S,this.speed)),j&&j(A.value),D&&this.finish(),A}then(t,n){return this.finished.then(t,n)}get duration(){return dr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dr(t)}get time(){return dr(this.currentTime)}set time(t){t=Gr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Fn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=dr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=HA,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function cT(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Fi=e=>e*180/Math.PI,cm=e=>{const t=Fi(Math.atan2(e[1],e[0]));return dm(t)},dT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:cm,rotateZ:cm,skewX:e=>Fi(Math.atan(e[1])),skewY:e=>Fi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},dm=e=>(e=e%360,e<0&&(e+=360),e),Bv=cm,zv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Wv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),uT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zv,scaleY:Wv,scale:e=>(zv(e)+Wv(e))/2,rotateX:e=>dm(Fi(Math.atan2(e[6],e[5]))),rotateY:e=>dm(Fi(Math.atan2(-e[2],e[0]))),rotateZ:Bv,rotate:Bv,skewX:e=>Fi(Math.atan(e[4])),skewY:e=>Fi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function um(e){return e.includes("scale")?1:0}function hm(e,t){if(!e||e==="none")return um(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=uT,i=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=dT,i=d}if(!i)return um(t);const a=r[t],c=i[1].split(",").map(fT);return typeof a=="function"?a(c):c[a]}const hT=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return hm(n,t)};function fT(e){return parseFloat(e.trim())}const ia=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oa=new Set(ia),Vv=e=>e===sa||e===Je,pT=new Set(["x","y","z"]),mT=ia.filter(e=>!pT.has(e));function gT(e){const t=[];return mT.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const $i={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>hm(t,"x"),y:(e,{transform:t})=>hm(t,"y")};$i.translateX=$i.x;$i.translateY=$i.y;const Li=new Set;let fm=!1,pm=!1,mm=!1;function qj(){if(pm){const e=Array.from(Li).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=gT(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,c])=>{r.getValue(a)?.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pm=!1,fm=!1,Li.forEach(e=>e.complete(mm)),Li.clear()}function Kj(){Li.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(pm=!0)})}function xT(){mm=!0,Kj(),qj(),mm=!1}class $g{constructor(t,n,r,i,a,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Li.add(this),fm||(fm=!0,Ot.read(Kj),Ot.resolveKeyframes(qj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const a=i?.get(),c=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const d=r.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),i&&a===void 0&&i.set(t[0])}cT(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Li.delete(this)}cancel(){this.state==="scheduled"&&(Li.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yT=e=>e.startsWith("--");function vT(e,t,n){yT(t)?e.style.setProperty(t,n):e.style[t]=n}const bT=kg(()=>window.ScrollTimeline!==void 0),wT={};function jT(e,t){const n=kg(e);return()=>wT[t]??n()}const Yj=jT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Uv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sl([0,.65,.55,1]),circOut:sl([.55,0,1,.45]),backIn:sl([.31,.01,.66,-.59]),backOut:sl([.33,1.53,.69,.99])};function Xj(e,t){if(e)return typeof e=="function"?Yj()?Uj(e,t):"ease-out":Oj(e)?sl(e):Array.isArray(e)?e.map(n=>Xj(n,t)||Uv.easeOut):Uv[e]}function ST(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:c="loop",ease:d="easeOut",times:u}={},f=void 0){const p={[t]:n};u&&(p.offset=u);const m=Xj(d,i);Array.isArray(m)&&(p.easing=m);const y={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"};return f&&(y.pseudoElement=f),e.animate(p,y)}function Qj(e){return typeof e=="function"&&"applyToOptions"in e}function NT({type:e,...t}){return Qj(e)&&Yj()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class kT extends Fg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:c=!1,finalKeyframe:d,onComplete:u}=t;this.isPseudoElement=!!a,this.allowFlatten=c,this.options=t,Ng(typeof t.type!="string");const f=NT(t);this.animation=ST(n,r,i,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=Ig(i,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):vT(n,r,p),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return dr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dr(t)}get time(){return dr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Gr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&bT()?(this.animation.timeline=t,fr):n(this)}}const Jj={anticipate:Tj,backInOut:Aj,circInOut:Rj};function CT(e){return e in Jj}function ET(e){typeof e.ease=="string"&&CT(e.ease)&&(e.ease=Jj[e.ease])}const Hv=10;class _T extends kT{constructor(t){ET(t),Gj(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Mg({...c,autoplay:!1}),u=Gr(this.finishedTime??this.time);n.setWithVelocity(d.sample(u-Hv).value,d.sample(u).value,Hv),d.stop()}}const Gv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Xs.test(e)||e==="0")&&!e.startsWith("url("));function AT(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function TT(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],c=Gv(i,t),d=Gv(a,t);return!c||!d?!1:AT(e)||(n==="spring"||Qj(n))&&r}function gm(e){e.duration=0,e.type="keyframes"}const PT=new Set(["opacity","clipPath","filter","transform"]),RT=kg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function DT(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=t.owner.getProps();return RT()&&n&&PT.has(n)&&(n!=="transform"||!f)&&!u&&!r&&i!=="mirror"&&a!==0&&c!=="inertia"}const OT=40;class IT extends Fg{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:c="loop",keyframes:d,name:u,motionValue:f,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Fn.now();const y={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:c,name:u,motionValue:f,element:p,...m},v=p?.KeyframeResolver||$g;this.keyframeResolver=new v(d,(b,j,S)=>this.onKeyframesResolved(b,j,y,!S),u,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:a,type:c,velocity:d,delay:u,isHandoff:f,onUpdate:p}=r;this.resolvedAt=Fn.now(),TT(t,a,c,d)||((gs.instantAnimations||!u)&&p?.(Ig(t,r,n)),t[0]=t[t.length-1],gm(r),r.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>OT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},v=!f&&DT(y)?new _T({...y,element:y.motionValue.owner.current}):new Mg(y);v.finished.then(()=>this.notifyFinished()).catch(fr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),xT()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const FT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MT(e){const t=FT.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Zj(e,t,n=1){const[r,i]=MT(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const c=a.trim();return wj(c)?parseFloat(c):c}return Tg(i)?Zj(i,t,n+1):i}function Lg(e,t){return e?.[t]??e?.default??e}const e2=new Set(["width","height","top","left","right","bottom",...ia]),$T={test:e=>e==="auto",parse:e=>e},t2=e=>t=>t.test(e),n2=[sa,Je,qr,Us,AA,_A,$T],qv=e=>n2.find(t2(e));function LT(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Sj(e):!0}const BT=new Set(["brightness","contrast","saturate","opacity"]);function zT(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Pg)||[];if(!r)return e;const i=n.replace(r,"");let a=BT.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const WT=/\b([a-z-]*)\(.*?\)/gu,xm={...Xs,getAnimatableNone:e=>{const t=e.match(WT);return t?t.map(zT).join(" "):e}},Kv={...sa,transform:Math.round},VT={rotate:Us,rotateX:Us,rotateY:Us,rotateZ:Us,scale:hd,scaleX:hd,scaleY:hd,scaleZ:hd,skew:Us,skewX:Us,skewY:Us,distance:Je,translateX:Je,translateY:Je,translateZ:Je,x:Je,y:Je,z:Je,perspective:Je,transformPerspective:Je,opacity:jl,originX:Iv,originY:Iv,originZ:Je},Bg={borderWidth:Je,borderTopWidth:Je,borderRightWidth:Je,borderBottomWidth:Je,borderLeftWidth:Je,borderRadius:Je,radius:Je,borderTopLeftRadius:Je,borderTopRightRadius:Je,borderBottomRightRadius:Je,borderBottomLeftRadius:Je,width:Je,maxWidth:Je,height:Je,maxHeight:Je,top:Je,right:Je,bottom:Je,left:Je,padding:Je,paddingTop:Je,paddingRight:Je,paddingBottom:Je,paddingLeft:Je,margin:Je,marginTop:Je,marginRight:Je,marginBottom:Je,marginLeft:Je,backgroundPositionX:Je,backgroundPositionY:Je,...VT,zIndex:Kv,fillOpacity:jl,strokeOpacity:jl,numOctaves:Kv},UT={...Bg,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:xm,WebkitFilter:xm},r2=e=>UT[e];function s2(e,t){let n=r2(e);return n!==xm&&(n=Xs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const HT=new Set(["auto","none","0"]);function GT(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!HT.has(a)&&Sl(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=s2(n,i)}class qT extends $g{constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let f=t[u];if(typeof f=="string"&&(f=f.trim(),Tg(f))){const p=Zj(f,n.current);p!==void 0&&(t[u]=p),u===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!e2.has(r)||t.length!==2)return;const[i,a]=t,c=qv(i),d=qv(a);if(c!==d)if(Vv(c)&&Vv(d))for(let u=0;u<t.length;u++){const f=t[u];typeof f=="string"&&(t[u]=parseFloat(f))}else $i[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||LT(t[i]))&&r.push(i);r.length&&GT(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$i[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,c=r[a];r[a]=$i[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,u])=>{t.getValue(d).set(u)}),this.resolveNoneKeyframes()}}function KT(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const i2=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function o2(e){return jj(e)&&"offsetHeight"in e}const Yv=30,YT=e=>!isNaN(parseFloat(e));class XT{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Fn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Fn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=YT(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Cg);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Yv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Yv);return Nj(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ko(e,t){return new XT(e,t)}const{schedule:zg}=Ij(queueMicrotask,!1),kr={x:!1,y:!1};function a2(){return kr.x||kr.y}function QT(e){return e==="x"||e==="y"?kr[e]?null:(kr[e]=!0,()=>{kr[e]=!1}):kr.x||kr.y?null:(kr.x=kr.y=!0,()=>{kr.x=kr.y=!1})}function l2(e,t){const n=KT(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Xv(e){return!(e.pointerType==="touch"||a2())}function JT(e,t,n={}){const[r,i,a]=l2(e,n),c=d=>{if(!Xv(d))return;const{target:u}=d,f=t(u,d);if(typeof f!="function"||!u)return;const p=m=>{Xv(m)&&(f(m),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,i)};return r.forEach(d=>{d.addEventListener("pointerenter",c,i)}),a}const c2=(e,t)=>t?e===t?!0:c2(e,t.parentElement):!1,Wg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ZT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function e4(e){return ZT.has(e.tagName)||e.tabIndex!==-1}const Vd=new WeakSet;function Qv(e){return t=>{t.key==="Enter"&&e(t)}}function ep(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const t4=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Qv(()=>{if(Vd.has(n))return;ep(n,"down");const i=Qv(()=>{ep(n,"up")}),a=()=>ep(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Jv(e){return Wg(e)&&!a2()}function n4(e,t,n={}){const[r,i,a]=l2(e,n),c=d=>{const u=d.currentTarget;if(!Jv(d))return;Vd.add(u);const f=t(u,d),p=(v,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),Vd.has(u)&&Vd.delete(u),Jv(v)&&typeof f=="function"&&f(v,{success:b})},m=v=>{p(v,u===window||u===document||n.useGlobalTarget||c2(u,v.target))},y=v=>{p(v,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",y,i)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),o2(d)&&(d.addEventListener("focus",f=>t4(f,i)),!e4(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function d2(e){return jj(e)&&"ownerSVGElement"in e}function r4(e){return d2(e)&&e.tagName==="svg"}const bn=e=>!!(e&&e.getVelocity),s4=[...n2,Yt,Xs],i4=e=>s4.find(t2(e)),Vg=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Zv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function o4(...e){return t=>{let n=!1;const r=e.map(i=>{const a=Zv(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():Zv(e[i],null)}}}}function a4(...e){return g.useCallback(o4(...e),e)}class l4 extends g.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=o2(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function c4({children:e,isPresent:t,anchorX:n,root:r}){const i=g.useId(),a=g.useRef(null),c=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=g.useContext(Vg),u=a4(a,e?.ref);return g.useInsertionEffect(()=>{const{width:f,height:p,top:m,left:y,right:v}=c.current;if(t||!a.current||!f||!p)return;const b=n==="left"?`left: ${y}`:`right: ${v}`;a.current.dataset.motionPopId=i;const j=document.createElement("style");d&&(j.nonce=d);const S=r??document.head;return S.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{S.contains(j)&&S.removeChild(j)}},[t]),s.jsx(l4,{isPresent:t,childRef:a,sizeRef:c,children:g.cloneElement(e,{ref:u})})}const d4=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:c,anchorX:d,root:u})=>{const f=bg(u4),p=g.useId();let m=!0,y=g.useMemo(()=>(m=!1,{id:p,initial:t,isPresent:n,custom:i,onExitComplete:v=>{f.set(v,!0);for(const b of f.values())if(!b)return;r&&r()},register:v=>(f.set(v,!1),()=>f.delete(v))}),[n,f,r]);return a&&m&&(y={...y}),g.useMemo(()=>{f.forEach((v,b)=>f.set(b,!1))},[n]),g.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),c==="popLayout"&&(e=s.jsx(c4,{isPresent:n,anchorX:d,root:u,children:e})),s.jsx(Iu.Provider,{value:y,children:e})};function u4(){return new Map}function u2(e=!0){const t=g.useContext(Iu);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=g.useId();g.useEffect(()=>{if(e)return i(a)},[e]);const c=g.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,c]:[!0]}const fd=e=>e.key||"";function eb(e){const t=[];return g.Children.forEach(e,n=>{g.isValidElement(n)&&t.push(n)}),t}const pt=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:c=!1,anchorX:d="left",root:u})=>{const[f,p]=u2(c),m=g.useMemo(()=>eb(e),[e]),y=c&&!f?[]:m.map(fd),v=g.useRef(!0),b=g.useRef(m),j=bg(()=>new Map),[S,N]=g.useState(m),[_,C]=g.useState(m);bj(()=>{v.current=!1,b.current=m;for(let F=0;F<_.length;F++){const D=fd(_[F]);y.includes(D)?j.delete(D):j.get(D)!==!0&&j.set(D,!1)}},[_,y.length,y.join("-")]);const E=[];if(m!==S){let F=[...m];for(let D=0;D<_.length;D++){const O=_[D],V=fd(O);y.includes(V)||(F.splice(D,0,O),E.push(O))}return a==="wait"&&E.length&&(F=E),C(eb(F)),N(m),null}const{forceRender:A}=g.useContext(vg);return s.jsx(s.Fragment,{children:_.map(F=>{const D=fd(F),O=c&&!f?!1:m===_||y.includes(D),V=()=>{if(j.has(D))j.set(D,!0);else return;let G=!0;j.forEach(ee=>{ee||(G=!1)}),G&&(A?.(),C(b.current),c&&p?.(),r&&r())};return s.jsx(d4,{isPresent:O,initial:!v.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:u,onExitComplete:O?void 0:V,anchorX:d,children:F},D)})})},h2=g.createContext({strict:!1}),tb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yo={};for(const e in tb)Yo[e]={isEnabled:t=>tb[e].some(n=>!!t[n])};function h4(e){for(const t in e)Yo[t]={...Yo[t],...e[t]}}const f4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function su(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||f4.has(e)}let f2=e=>!su(e);function p4(e){typeof e=="function"&&(f2=t=>t.startsWith("on")?!su(t):e(t))}try{p4(require("@emotion/is-prop-valid").default)}catch{}function m4(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(f2(i)||n===!0&&su(i)||!t&&!su(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const Fu=g.createContext({});function Mu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Nl(e){return typeof e=="string"||Array.isArray(e)}const Ug=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hg=["initial",...Ug];function $u(e){return Mu(e.animate)||Hg.some(t=>Nl(e[t]))}function p2(e){return!!($u(e)||e.variants)}function g4(e,t){if($u(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Nl(n)?n:void 0,animate:Nl(r)?r:void 0}}return e.inherit!==!1?t:{}}function x4(e){const{initial:t,animate:n}=g4(e,g.useContext(Fu));return g.useMemo(()=>({initial:t,animate:n}),[nb(t),nb(n)])}function nb(e){return Array.isArray(e)?e.join(" "):e}const kl={};function y4(e){for(const t in e)kl[t]=e[t],Ag(t)&&(kl[t].isCSSVariable=!0)}function m2(e,{layout:t,layoutId:n}){return oa.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!kl[e]||e==="opacity")}const v4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},b4=ia.length;function w4(e,t,n){let r="",i=!0;for(let a=0;a<b4;a++){const c=ia[a],d=e[c];if(d===void 0)continue;let u=!0;if(typeof d=="number"?u=d===(c.startsWith("scale")?1:0):u=parseFloat(d)===0,!u||n){const f=i2(d,Bg[c]);if(!u){i=!1;const p=v4[c]||c;r+=`${p}(${f}) `}n&&(t[c]=f)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Gg(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let c=!1,d=!1;for(const u in t){const f=t[u];if(oa.has(u)){c=!0;continue}else if(Ag(u)){i[u]=f;continue}else{const p=i2(f,Bg[u]);u.startsWith("origin")?(d=!0,a[u]=p):r[u]=p}}if(t.transform||(c||n?r.transform=w4(t,e.transform,n):r.transform&&(r.transform="none")),d){const{originX:u="50%",originY:f="50%",originZ:p=0}=a;r.transformOrigin=`${u} ${f} ${p}`}}const qg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function g2(e,t,n){for(const r in t)!bn(t[r])&&!m2(r,n)&&(e[r]=t[r])}function j4({transformTemplate:e},t){return g.useMemo(()=>{const n=qg();return Gg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function S4(e,t){const n=e.style||{},r={};return g2(r,n,e),Object.assign(r,j4(e,t)),r}function N4(e,t){const n={},r=S4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const k4={offset:"stroke-dashoffset",array:"stroke-dasharray"},C4={offset:"strokeDashoffset",array:"strokeDasharray"};function E4(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?k4:C4;e[a.offset]=Je.transform(-r);const c=Je.transform(t),d=Je.transform(n);e[a.array]=`${c} ${d}`}function x2(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:c=0,...d},u,f,p){if(Gg(e,d,f),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:y}=e;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&E4(m,i,a,c,!1)}const y2=()=>({...qg(),attrs:{}}),v2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _4(e,t,n,r){const i=g.useMemo(()=>{const a=y2();return x2(a,t,v2(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};g2(a,e.style,e),i.style={...a,...i.style}}return i}const A4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kg(e){return typeof e!="string"||e.includes("-")?!1:!!(A4.indexOf(e)>-1||/[A-Z]/u.test(e))}function T4(e,t,n,{latestValues:r},i,a=!1){const d=(Kg(e)?_4:N4)(t,r,i,e),u=m4(t,typeof e=="string",a),f=e!==g.Fragment?{...u,...d,ref:n}:{},{children:p}=t,m=g.useMemo(()=>bn(p)?p.get():p,[p]);return g.createElement(e,{...f,children:m})}function rb(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Yg(e,t,n,r){if(typeof t=="function"){const[i,a]=rb(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=rb(r);t=t(n!==void 0?n:e.custom,i,a)}return t}function Ud(e){return bn(e)?e.get():e}function P4({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:R4(n,r,i,e),renderState:t()}}function R4(e,t,n,r){const i={},a=r(e,{});for(const y in a)i[y]=Ud(a[y]);let{initial:c,animate:d}=e;const u=$u(e),f=p2(e);t&&f&&!u&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const m=p?d:c;if(m&&typeof m!="boolean"&&!Mu(m)){const y=Array.isArray(m)?m:[m];for(let v=0;v<y.length;v++){const b=Yg(e,y[v]);if(b){const{transitionEnd:j,transition:S,...N}=b;for(const _ in N){let C=N[_];if(Array.isArray(C)){const E=p?C.length-1:0;C=C[E]}C!==null&&(i[_]=C)}for(const _ in j)i[_]=j[_]}}}return i}const b2=e=>(t,n)=>{const r=g.useContext(Fu),i=g.useContext(Iu),a=()=>P4(e,t,r,i);return n?a():bg(a)};function Xg(e,t,n){const{style:r}=e,i={};for(const a in r)(bn(r[a])||t.style&&bn(t.style[a])||m2(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const D4=b2({scrapeMotionValuesFromProps:Xg,createRenderState:qg});function w2(e,t,n){const r=Xg(e,t,n);for(const i in e)if(bn(e[i])||bn(t[i])){const a=ia.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}const O4=b2({scrapeMotionValuesFromProps:w2,createRenderState:y2}),I4=Symbol.for("motionComponentSymbol");function Mo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function F4(e,t,n){return g.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Mo(n)&&(n.current=r))},[t])}const Qg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),M4="framerAppearId",j2="data-"+Qg(M4),S2=g.createContext({});function $4(e,t,n,r,i){const{visualElement:a}=g.useContext(Fu),c=g.useContext(h2),d=g.useContext(Iu),u=g.useContext(Vg).reducedMotion,f=g.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const p=f.current,m=g.useContext(S2);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&L4(f.current,n,i,m);const y=g.useRef(!1);g.useInsertionEffect(()=>{p&&y.current&&p.update(n,d)});const v=n[j2],b=g.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return bj(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),b.current&&p.animationState&&p.animationState.animateChanges())}),g.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),b.current=!1),p.enteringChildren=void 0)}),p}function L4(e,t,n,r){const{layoutId:i,layout:a,drag:c,dragConstraints:d,layoutScroll:u,layoutRoot:f,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:N2(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!c||d&&Mo(d),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:u,layoutRoot:f})}function N2(e){if(e)return e.options.allowProjection!==!1?e.projection:N2(e.parent)}function tp(e,{forwardMotionProps:t=!1}={},n,r){n&&h4(n);const i=Kg(e)?O4:D4;function a(d,u){let f;const p={...g.useContext(Vg),...d,layoutId:B4(d)},{isStatic:m}=p,y=x4(d),v=i(d,m);if(!m&&wg){z4();const b=W4(p);f=b.MeasureLayout,y.visualElement=$4(e,v,p,r,b.ProjectionNode)}return s.jsxs(Fu.Provider,{value:y,children:[f&&y.visualElement?s.jsx(f,{visualElement:y.visualElement,...p}):null,T4(e,d,F4(v,y.visualElement,u),v,m,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=g.forwardRef(a);return c[I4]=e,c}function B4({layoutId:e}){const t=g.useContext(vg).id;return t&&e!==void 0?t+"-"+e:e}function z4(e,t){g.useContext(h2).strict}function W4(e){const{drag:t,layout:n}=Yo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function V4(e,t){if(typeof Proxy>"u")return tp;const n=new Map,r=(a,c)=>tp(a,c,e,t),i=(a,c)=>r(a,c);return new Proxy(i,{get:(a,c)=>c==="create"?r:(n.has(c)||n.set(c,tp(c,void 0,e,t)),n.get(c))})}function k2({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function U4({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function H4(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function np(e){return e===void 0||e===1}function ym({scale:e,scaleX:t,scaleY:n}){return!np(e)||!np(t)||!np(n)}function Ci(e){return ym(e)||C2(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function C2(e){return sb(e.x)||sb(e.y)}function sb(e){return e&&e!=="0%"}function iu(e,t,n){const r=e-n,i=t*r;return n+i}function ib(e,t,n,r,i){return i!==void 0&&(e=iu(e,i,r)),iu(e,n,r)+t}function vm(e,t=0,n=1,r,i){e.min=ib(e.min,t,n,r,i),e.max=ib(e.max,t,n,r,i)}function E2(e,{x:t,y:n}){vm(e.x,t.translate,t.scale,t.originPoint),vm(e.y,n.translate,n.scale,n.originPoint)}const ob=.999999999999,ab=1.0000000000001;function G4(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,c;for(let d=0;d<i;d++){a=n[d],c=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Lo(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,E2(e,c)),r&&Ci(a.latestValues)&&Lo(e,a.latestValues))}t.x<ab&&t.x>ob&&(t.x=1),t.y<ab&&t.y>ob&&(t.y=1)}function $o(e,t){e.min=e.min+t,e.max=e.max+t}function lb(e,t,n,r,i=.5){const a=$t(e.min,e.max,i);vm(e,t,n,a,r)}function Lo(e,t){lb(e.x,t.x,t.scaleX,t.scale,t.originX),lb(e.y,t.y,t.scaleY,t.scale,t.originY)}function _2(e,t){return k2(H4(e.getBoundingClientRect(),t))}function q4(e,t,n){const r=_2(e,n),{scroll:i}=t;return i&&($o(r.x,i.offset.x),$o(r.y,i.offset.y)),r}const cb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bo=()=>({x:cb(),y:cb()}),db=()=>({min:0,max:0}),Ht=()=>({x:db(),y:db()}),bm={current:null},A2={current:!1};function K4(){if(A2.current=!0,!!wg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bm.current=e.matches;e.addEventListener("change",t),t()}else bm.current=!1}const Y4=new WeakMap;function X4(e,t,n){for(const r in t){const i=t[r],a=n[r];if(bn(i))e.addValue(r,i);else if(bn(a))e.addValue(r,Ko(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=e.getStaticValue(r);e.addValue(r,Ko(c!==void 0?c:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const ub=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Q4{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$g,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Fn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Ot.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=c;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=$u(n),this.isVariantNode=p2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const v=m[y];u[y]!==void 0&&bn(v)&&v.set(u[y])}}mount(t){this.current=t,Y4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),A2.current||K4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ys(this.notifyUpdate),Ys(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=oa.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ot.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Yo){const n=Yo[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ht()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ub.length;r++){const i=ub[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,c=t[a];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=X4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ko(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(wj(r)||Sj(r))?r=parseFloat(r):!i4(r)&&Xs.test(n)&&(r=s2(t,n)),this.setBaseTarget(t,bn(r)?r.get():r)),bn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Yg(this.props,n,this.presenceContext?.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!bn(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Cg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){zg.render(this.render)}}class T2 extends Q4{constructor(){super(...arguments),this.KeyframeResolver=qT}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;bn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function P2(e,{style:t,vars:n},r,i){const a=e.style;let c;for(c in t)a[c]=t[c];i?.applyProjectionStyles(a,r);for(c in n)a.setProperty(c,n[c])}function J4(e){return window.getComputedStyle(e)}class Z4 extends T2{constructor(){super(...arguments),this.type="html",this.renderInstance=P2}readValueFromInstance(t,n){if(oa.has(n))return this.projection?.isProjecting?um(n):hT(t,n);{const r=J4(t),i=(Ag(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return _2(t,n)}build(t,n,r){Gg(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Xg(t,n,r)}}const R2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function e3(e,t,n,r){P2(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(R2.has(i)?i:Qg(i),t.attrs[i])}class t3 extends T2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ht}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(oa.has(n)){const r=r2(n);return r&&r.default||0}return n=R2.has(n)?n:Qg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return w2(t,n,r)}build(t,n,r){x2(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){e3(t,n,r,i)}mount(t){this.isSVGTag=v2(t.tagName),super.mount(t)}}const n3=(e,t)=>Kg(e)?new t3(t):new Z4(t,{allowProjection:e!==g.Fragment});function zo(e,t,n){const r=e.getProps();return Yg(r,t,n!==void 0?n:r.custom,e)}const wm=e=>Array.isArray(e);function r3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ko(n))}function s3(e){return wm(e)?e[e.length-1]||0:e}function i3(e,t){const n=zo(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const c in a){const d=s3(a[c]);r3(e,c,d)}}function o3(e){return!!(bn(e)&&e.add)}function jm(e,t){const n=e.getValue("willChange");if(o3(n))return n.add(t);if(!n&&gs.WillChange){const r=new gs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function D2(e){return e.props[j2]}const a3=e=>e!==null;function l3(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(a3),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}const c3={type:"spring",stiffness:500,damping:25,restSpeed:10},d3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),u3={type:"keyframes",duration:.8},h3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f3=(e,{keyframes:t})=>t.length>2?u3:oa.has(e)?e.startsWith("scale")?d3(t[1]):c3:h3;function p3({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:c,repeatDelay:d,from:u,elapsed:f,...p}){return!!Object.keys(p).length}const Jg=(e,t,n,r={},i,a)=>c=>{const d=Lg(r,e)||{},u=d.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Gr(u);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-f,onUpdate:y=>{t.set(y),d.onUpdate&&d.onUpdate(y)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:a?void 0:i};p3(d)||Object.assign(p,f3(e,p)),p.duration&&(p.duration=Gr(p.duration)),p.repeatDelay&&(p.repeatDelay=Gr(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(gm(p),p.delay===0&&(m=!0)),(gs.instantAnimations||gs.skipAnimations)&&(m=!0,gm(p),p.delay=0),p.allowFlatten=!d.type&&!d.ease,m&&!a&&t.get()!==void 0){const y=l3(p.keyframes,d);if(y!==void 0){Ot.update(()=>{p.onUpdate(y),p.onComplete()});return}}return d.isSync?new Mg(p):new IT(p)};function m3({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function O2(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(a=r);const u=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const p in d){const m=e.getValue(p,e.latestValues[p]??null),y=d[p];if(y===void 0||f&&m3(f,p))continue;const v={delay:n,...Lg(a||{},p)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===b&&!v.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const N=D2(e);if(N){const _=window.MotionHandoffAnimation(N,p,Ot);_!==null&&(v.startTime=_,j=!0)}}jm(e,p),m.start(Jg(p,m,y,e.shouldReduceMotion&&e2.has(p)?{type:!1}:v,e,j));const S=m.animation;S&&u.push(S)}return c&&Promise.all(u).then(()=>{Ot.update(()=>{c&&i3(e,c)})}),u}function I2(e,t,n,r=0,i=1){const a=Array.from(e).sort((f,p)=>f.sortNodePosition(p)).indexOf(t),c=e.size,d=(c-1)*r;return typeof n=="function"?n(a,c):i===1?a*r:d-a*r}function Sm(e,t,n={}){const r=zo(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(O2(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=i;return g3(e,t,u,f,p,m,n)}:()=>Promise.resolve(),{when:d}=i;if(d){const[u,f]=d==="beforeChildren"?[a,c]:[c,a];return u().then(()=>f())}else return Promise.all([a(),c(n.delay)])}function g3(e,t,n=0,r=0,i=0,a=1,c){const d=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),d.push(Sm(u,t,{...c,delay:n+(typeof r=="function"?0:r)+I2(e.variantChildren,u,r,i,a)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(d)}function x3(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>Sm(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=Sm(e,t,n);else{const i=typeof t=="function"?zo(e,t,n.custom):t;r=Promise.all(O2(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function F2(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const y3=Hg.length;function M2(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?M2(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<y3;n++){const r=Hg[n],i=e.props[r];(Nl(i)||i===!1)&&(t[r]=i)}return t}const v3=[...Ug].reverse(),b3=Ug.length;function w3(e){return t=>Promise.all(t.map(({animation:n,options:r})=>x3(e,n,r)))}function j3(e){let t=w3(e),n=hb(),r=!0;const i=u=>(f,p)=>{const m=zo(e,p,u==="exit"?e.presenceContext?.custom:void 0);if(m){const{transition:y,transitionEnd:v,...b}=m;f={...f,...b,...v}}return f};function a(u){t=u(e)}function c(u){const{props:f}=e,p=M2(e.parent)||{},m=[],y=new Set;let v={},b=1/0;for(let S=0;S<b3;S++){const N=v3[S],_=n[N],C=f[N]!==void 0?f[N]:p[N],E=Nl(C),A=N===u?_.isActive:null;A===!1&&(b=S);let F=C===p[N]&&C!==f[N]&&E;if(F&&r&&e.manuallyAnimateOnMount&&(F=!1),_.protectedKeys={...v},!_.isActive&&A===null||!C&&!_.prevProp||Mu(C)||typeof C=="boolean")continue;const D=S3(_.prevProp,C);let O=D||N===u&&_.isActive&&!F&&E||S>b&&E,V=!1;const G=Array.isArray(C)?C:[C];let ee=G.reduce(i(N),{});A===!1&&(ee={});const{prevResolvedValues:se={}}=_,ie={...se,...ee},J=T=>{O=!0,y.has(T)&&(V=!0,y.delete(T)),_.needsAnimating[T]=!0;const R=e.getValue(T);R&&(R.liveStyle=!1)};for(const T in ie){const R=ee[T],I=se[T];if(v.hasOwnProperty(T))continue;let W=!1;wm(R)&&wm(I)?W=!F2(R,I):W=R!==I,W?R!=null?J(T):y.add(T):R!==void 0&&y.has(T)?J(T):_.protectedKeys[T]=!0}_.prevProp=C,_.prevResolvedValues=ee,_.isActive&&(v={...v,...ee}),r&&e.blockInitialAnimation&&(O=!1);const $=F&&D;O&&(!$||V)&&m.push(...G.map(T=>{const R={type:N};if(typeof T=="string"&&r&&!$&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,W=zo(I,T);if(I.enteringChildren&&W){const{delayChildren:B}=W.transition||{};R.delay=I2(I.enteringChildren,e,B)}}return{animation:T,options:R}}))}if(y.size){const S={};if(typeof f.initial!="boolean"){const N=zo(e,Array.isArray(f.initial)?f.initial[0]:f.initial);N&&N.transition&&(S.transition=N.transition)}y.forEach(N=>{const _=e.getBaseTarget(N),C=e.getValue(N);C&&(C.liveStyle=!0),S[N]=_??null}),m.push({animation:S})}let j=!!m.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(m):Promise.resolve()}function d(u,f){if(n[u].isActive===f)return Promise.resolve();e.variantChildren?.forEach(m=>m.animationState?.setActive(u,f)),n[u].isActive=f;const p=c(u);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:c,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=hb()}}}function S3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!F2(t,e):!1}function wi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hb(){return{animate:wi(!0),whileInView:wi(),whileHover:wi(),whileTap:wi(),whileDrag:wi(),whileFocus:wi(),exit:wi()}}class ti{constructor(t){this.isMounted=!1,this.node=t}update(){}}class N3 extends ti{constructor(t){super(t),t.animationState||(t.animationState=j3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Mu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let k3=0;class C3 extends ti{constructor(){super(...arguments),this.id=k3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const E3={animation:{Feature:N3},exit:{Feature:C3}};function Cl(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ul(e){return{point:{x:e.pageX,y:e.pageY}}}const _3=e=>t=>Wg(t)&&e(t,Ul(t));function ul(e,t,n,r){return Cl(e,t,_3(n),r)}const $2=1e-4,A3=1-$2,T3=1+$2,L2=.01,P3=0-L2,R3=0+L2;function Cn(e){return e.max-e.min}function D3(e,t,n){return Math.abs(e-t)<=n}function fb(e,t,n,r=.5){e.origin=r,e.originPoint=$t(t.min,t.max,e.origin),e.scale=Cn(n)/Cn(t),e.translate=$t(n.min,n.max,e.origin)-e.originPoint,(e.scale>=A3&&e.scale<=T3||isNaN(e.scale))&&(e.scale=1),(e.translate>=P3&&e.translate<=R3||isNaN(e.translate))&&(e.translate=0)}function hl(e,t,n,r){fb(e.x,t.x,n.x,r?r.originX:void 0),fb(e.y,t.y,n.y,r?r.originY:void 0)}function pb(e,t,n){e.min=n.min+t.min,e.max=e.min+Cn(t)}function O3(e,t,n){pb(e.x,t.x,n.x),pb(e.y,t.y,n.y)}function mb(e,t,n){e.min=t.min-n.min,e.max=e.min+Cn(t)}function fl(e,t,n){mb(e.x,t.x,n.x),mb(e.y,t.y,n.y)}function or(e){return[e("x"),e("y")]}const B2=({current:e})=>e?e.ownerDocument.defaultView:null,gb=(e,t)=>Math.abs(e-t);function I3(e,t){const n=gb(e.x,t.x),r=gb(e.y,t.y);return Math.sqrt(n**2+r**2)}class z2{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=sp(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=I3(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!b)return;const{point:j}=y,{timestamp:S}=dn;this.history.push({...j,timestamp:S});const{onStart:N,onMove:_}=this.handlers;v||(N&&N(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=rp(v,this.transformPagePoint),Ot.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:b,onSessionEnd:j,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=sp(y.type==="pointercancel"?this.lastMoveEventInfo:rp(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,N),j&&j(y,N)},!Wg(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=i||window;const d=Ul(t),u=rp(d,this.transformPagePoint),{point:f}=u,{timestamp:p}=dn;this.history=[{...f,timestamp:p}];const{onSessionStart:m}=n;m&&m(t,sp(u,this.history)),this.removeListeners=zl(ul(this.contextWindow,"pointermove",this.handlePointerMove),ul(this.contextWindow,"pointerup",this.handlePointerUp),ul(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ys(this.updatePoint)}}function rp(e,t){return t?{point:t(e.point)}:e}function xb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function sp({point:e},t){return{point:e,delta:xb(e,W2(t)),offset:xb(e,F3(t)),velocity:M3(t,.1)}}function F3(e){return e[0]}function W2(e){return e[e.length-1]}function M3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=W2(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Gr(t)));)n--;if(!r)return{x:0,y:0};const a=dr(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const c={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function $3(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?$t(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?$t(n,e,r.max):Math.min(e,n)),e}function yb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function L3(e,{top:t,left:n,bottom:r,right:i}){return{x:yb(e.x,n,i),y:yb(e.y,t,r)}}function vb(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function B3(e,t){return{x:vb(e.x,t.x),y:vb(e.y,t.y)}}function z3(e,t){let n=.5;const r=Cn(e),i=Cn(t);return i>r?n=wl(t.min,t.max-r,e.min):r>i&&(n=wl(e.min,e.max-i,t.min)),ms(0,1,n)}function W3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Nm=.35;function V3(e=Nm){return e===!1?e=0:e===!0&&(e=Nm),{x:bb(e,"left","right"),y:bb(e,"top","bottom")}}function bb(e,t,n){return{min:wb(e,t),max:wb(e,n)}}function wb(e,t){return typeof e=="number"?e:e[t]||0}const U3=new WeakMap;class H3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ul(m).point)},c=(m,y)=>{const{drag:v,dragPropagation:b,onDragStart:j}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QT(v),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),or(N=>{let _=this.getAxisMotionValue(N).get()||0;if(qr.test(_)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[N];E&&(_=Cn(E)*(parseFloat(_)/100))}}this.originPoint[N]=_}),j&&Ot.postRender(()=>j(m,y)),jm(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},d=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y;const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:j,onDrag:S}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:N}=y;if(b&&this.currentDirection===null){this.currentDirection=G3(N),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",y.point,N),this.updateAxis("y",y.point,N),this.visualElement.render(),S&&S(m,y)},u=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y,this.stop(m,y),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>or(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new z2(t,{onSessionStart:a,onStart:c,onMove:d,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:B2(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:c}=i;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Ot.postRender(()=>d(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!pd(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=$3(c,this.constraints[t],this.elastic[t])),a.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&Mo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=L3(r.layoutBox,t):this.constraints=!1,this.elastic=V3(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&or(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=W3(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Mo(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=q4(r,i.root,this.visualElement.getTransformPagePoint());let c=B3(i.layout.layoutBox,a);if(n){const d=n(U4(c));this.hasMutatedConstraints=!!d,d&&(c=k2(d))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),u=this.constraints||{},f=or(p=>{if(!pd(p,n,this.currentDirection))return;let m=u&&u[p]||{};c&&(m={min:0,max:0});const y=i?200:1e6,v=i?40:1e7,b={type:"inertia",velocity:r?t[p]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(p,b)});return Promise.all(f).then(d)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return jm(this.visualElement,t),r.start(Jg(t,r,0,n,this.visualElement,!1))}stopAnimation(){or(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){or(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){or(n=>{const{drag:r}=this.getProps();if(!pd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[n];a.set(t[n]-$t(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Mo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};or(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const u=d.get();i[c]=z3({min:u,max:u},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),or(c=>{if(!pd(c,t,null))return;const d=this.getAxisMotionValue(c),{min:u,max:f}=this.constraints[c];d.set($t(u,f,i[c]))})}addListeners(){if(!this.visualElement.current)return;U3.set(this.visualElement,this);const t=this.visualElement.current,n=ul(t,"pointerdown",u=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Mo(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ot.read(r);const c=Cl(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(or(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=u[p].translate,m.set(m.get()+u[p].translate))}),this.visualElement.render())}));return()=>{c(),n(),a(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:c=Nm,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:c,dragMomentum:d}}}function pd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function G3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class q3 extends ti{constructor(t){super(t),this.removeGroupControls=fr,this.removeListeners=fr,this.controls=new H3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fr}unmount(){this.removeGroupControls(),this.removeListeners()}}const jb=e=>(t,n)=>{e&&Ot.postRender(()=>e(t,n))};class K3 extends ti{constructor(){super(...arguments),this.removePointerDownListener=fr}onPointerDown(t){this.session=new z2(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:B2(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:jb(t),onStart:jb(n),onMove:r,onEnd:(a,c)=>{delete this.session,i&&Ot.postRender(()=>i(a,c))}}}mount(){this.removePointerDownListener=ul(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const el={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Je.test(e))e=parseFloat(e);else return e;const n=Sb(e,t.target.x),r=Sb(e,t.target.y);return`${n}% ${r}%`}},Y3={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Xs.parse(e);if(i.length>5)return r;const a=Xs.createTransformer(e),c=typeof i[0]!="number"?1:0,d=n.x.scale*t.x,u=n.y.scale*t.y;i[0+c]/=d,i[1+c]/=u;const f=$t(d,u,.5);return typeof i[2+c]=="number"&&(i[2+c]/=f),typeof i[3+c]=="number"&&(i[3+c]/=f),a(i)}};let ip=!1;class X3 extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;y4(Q3),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),ip&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Hd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:c}=r;return c&&(c.isPresent=a,ip=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?c.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?c.promote():c.relegate()||Ot.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),zg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;ip=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function V2(e){const[t,n]=u2(),r=g.useContext(vg);return s.jsx(X3,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(S2),isPresent:t,safeToRemove:n})}const Q3={borderRadius:{...el,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:el,borderTopRightRadius:el,borderBottomLeftRadius:el,borderBottomRightRadius:el,boxShadow:Y3};function J3(e,t,n){const r=bn(e)?e:Ko(e);return r.start(Jg("",r,t,n)),r.animation}const Z3=(e,t)=>e.depth-t.depth;class eP{constructor(){this.children=[],this.isDirty=!1}add(t){jg(this.children,t),this.isDirty=!0}remove(t){Sg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Z3),this.isDirty=!1,this.children.forEach(t)}}function tP(e,t){const n=Fn.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(Ys(r),e(a-t))};return Ot.setup(r,!0),()=>Ys(r)}const U2=["TopLeft","TopRight","BottomLeft","BottomRight"],nP=U2.length,Nb=e=>typeof e=="string"?parseFloat(e):e,kb=e=>typeof e=="number"||Je.test(e);function rP(e,t,n,r,i,a){i?(e.opacity=$t(0,n.opacity??1,sP(r)),e.opacityExit=$t(t.opacity??1,0,iP(r))):a&&(e.opacity=$t(t.opacity??1,n.opacity??1,r));for(let c=0;c<nP;c++){const d=`border${U2[c]}Radius`;let u=Cb(t,d),f=Cb(n,d);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||kb(u)===kb(f)?(e[d]=Math.max($t(Nb(u),Nb(f),r),0),(qr.test(f)||qr.test(u))&&(e[d]+="%")):e[d]=f}(t.rotate||n.rotate)&&(e.rotate=$t(t.rotate||0,n.rotate||0,r))}function Cb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const sP=H2(0,.5,Pj),iP=H2(.5,.95,fr);function H2(e,t,n){return r=>r<e?0:r>t?1:n(wl(e,t,r))}function Eb(e,t){e.min=t.min,e.max=t.max}function ir(e,t){Eb(e.x,t.x),Eb(e.y,t.y)}function _b(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ab(e,t,n,r,i){return e-=t,e=iu(e,1/n,r),i!==void 0&&(e=iu(e,1/i,r)),e}function oP(e,t=0,n=1,r=.5,i,a=e,c=e){if(qr.test(t)&&(t=parseFloat(t),t=$t(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=$t(a.min,a.max,r);e===a&&(d-=t),e.min=Ab(e.min,t,n,d,i),e.max=Ab(e.max,t,n,d,i)}function Tb(e,t,[n,r,i],a,c){oP(e,t[n],t[r],t[i],t.scale,a,c)}const aP=["x","scaleX","originX"],lP=["y","scaleY","originY"];function Pb(e,t,n,r){Tb(e.x,t,aP,n?n.x:void 0,r?r.x:void 0),Tb(e.y,t,lP,n?n.y:void 0,r?r.y:void 0)}function Rb(e){return e.translate===0&&e.scale===1}function G2(e){return Rb(e.x)&&Rb(e.y)}function Db(e,t){return e.min===t.min&&e.max===t.max}function cP(e,t){return Db(e.x,t.x)&&Db(e.y,t.y)}function Ob(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function q2(e,t){return Ob(e.x,t.x)&&Ob(e.y,t.y)}function Ib(e){return Cn(e.x)/Cn(e.y)}function Fb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class dP{constructor(){this.members=[]}add(t){jg(this.members,t),t.scheduleRender()}remove(t){if(Sg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uP(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,c=n?.z||0;if((i||a||c)&&(r=`translate3d(${i}px, ${a}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:m,rotateY:y,skewX:v,skewY:b}=n;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),m&&(r+=`rotateX(${m}deg) `),y&&(r+=`rotateY(${y}deg) `),v&&(r+=`skewX(${v}deg) `),b&&(r+=`skewY(${b}deg) `)}const d=e.x.scale*t.x,u=e.y.scale*t.y;return(d!==1||u!==1)&&(r+=`scale(${d}, ${u})`),r||"none"}const op=["","X","Y","Z"],hP=1e3;let fP=0;function ap(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function K2(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=D2(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ot,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&K2(r)}function Y2({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},d=t?.()){this.id=fP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gP),this.nodes.forEach(bP),this.nodes.forEach(wP),this.nodes.forEach(xP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new eP)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Cg),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const u=this.eventHandlers.get(c);u&&u.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=d2(c)&&!r4(c),this.instance=c;const{layoutId:d,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||d)&&(this.isLayoutDirty=!0),e){let p,m=0;const y=()=>this.root.updateBlockedByResize=!1;Ot.read(()=>{m=window.innerWidth}),e(c,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,p&&p(),p=tP(y,250),Hd.hasAnimatedSinceResize&&(Hd.hasAnimatedSinceResize=!1,this.nodes.forEach(Lb)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&f&&(d||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||CP,{onLayoutAnimationStart:j,onLayoutAnimationComplete:S}=f.getProps(),N=!this.targetLayout||!q2(this.targetLayout,v),_=!m&&y;if(this.options.layoutRoot||this.resumeFrom||_||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...Lg(b,"layout"),onPlay:j,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(p,_)}else m||Lb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jP),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&K2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:d,layout:u}=this.options;if(d===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($b);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vP),this.nodes.forEach(pP),this.nodes.forEach(mP)):this.nodes.forEach($b),this.clearAllSnapshots();const d=Fn.now();dn.delta=ms(0,1e3/60,d-dn.timestamp),dn.timestamp=d,dn.isProcessing=!0,Yf.update.process(dn),Yf.preRender.process(dn),Yf.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yP),this.sharedNodes.forEach(SP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cn(this.snapshot.measuredBox.x)&&!Cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!G2(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;c&&this.instance&&(d||Ci(this.latestValues)||p)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let u=this.removeElementScroll(d);return c&&(u=this.removeTransform(u)),EP(u),{animationId:this.root.animationId,measuredBox:d,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ht();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(_P))){const{scroll:f}=this.root;f&&($o(d.x,f.offset.x),$o(d.y,f.offset.y))}return d}removeElementScroll(c){const d=Ht();if(ir(d,c),this.scroll?.wasRoot)return d;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&ir(d,c),$o(d.x,p.offset.x),$o(d.y,p.offset.y))}return d}applyTransform(c,d=!1){const u=Ht();ir(u,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Lo(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Ci(p.latestValues)&&Lo(u,p.latestValues)}return Ci(this.latestValues)&&Lo(u,this.latestValues),u}removeTransform(c){const d=Ht();ir(d,c);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!Ci(f.latestValues))continue;ym(f.latestValues)&&f.updateSnapshot();const p=Ht(),m=f.measurePageBox();ir(p,m),Pb(d,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Ci(this.latestValues)&&Pb(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==d;if(!(c||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=dn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),fl(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ht(),this.targetWithTransforms=Ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),O3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ir(this.target,this.layout.layoutBox),E2(this.target,this.targetDelta)):ir(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),fl(this.relativeTargetOrigin,this.target,y.target),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ym(this.parent.latestValues)||C2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(u=!1),u)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;ir(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;G4(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ht());const{target:v}=c;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_b(this.prevProjectionDelta.x,this.projectionDelta.x),_b(this.prevProjectionDelta.y,this.projectionDelta.y)),hl(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!Fb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Fb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bo(),this.projectionDelta=Bo(),this.projectionDeltaWithTransform=Bo()}setAnimationOrigin(c,d=!1){const u=this.snapshot,f=u?u.latestValues:{},p={...this.latestValues},m=Bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const y=Ht(),v=u?u.source:void 0,b=this.layout?this.layout.source:void 0,j=v!==b,S=this.getStack(),N=!S||S.members.length<=1,_=!!(j&&!N&&this.options.crossfade===!0&&!this.path.some(kP));this.animationProgress=0;let C;this.mixTargetDelta=E=>{const A=E/1e3;Bb(m.x,c.x,A),Bb(m.y,c.y,A),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fl(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NP(this.relativeTarget,this.relativeTargetOrigin,y,A),C&&cP(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Ht()),ir(C,this.relativeTarget)),j&&(this.animationValues=p,rP(p,f,this.latestValues,A,_,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ot.update(()=>{Hd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ko(0)),this.currentAnimation=J3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:u,layout:f,latestValues:p}=c;if(!(!d||!u||!f)){if(this!==c&&this.layout&&f&&X2(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||Ht();const m=Cn(this.layout.layoutBox.x);u.x.min=c.target.x.min,u.x.max=u.x.min+m;const y=Cn(this.layout.layoutBox.y);u.y.min=c.target.y.min,u.y.max=u.y.min+y}ir(d,u),Lo(d,p),hl(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new dP),this.sharedNodes.get(c).add(d);const f=d.options.initialPromotionConfig;d.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:u}=c;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(d=!0),!d)return;const f={};u.z&&ap("z",c,f,this.animationValues);for(let p=0;p<op.length;p++)ap(`rotate${op[p]}`,c,f,this.animationValues),ap(`skew${op[p]}`,c,f,this.animationValues);c.render();for(const p in f)c.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Ud(d?.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Ud(d?.pointerEvents)||""),this.hasProjected&&!Ci(this.latestValues)&&(c.transform=u?u({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=uP(this.projectionDeltaWithTransform,this.treeScale,p);u&&(m=u(p,m)),c.transform=m;const{x:y,y:v}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in kl){if(p[b]===void 0)continue;const{correct:j,applyTo:S,isCSSVariable:N}=kl[b],_=m==="none"?p[b]:j(p[b],f);if(S){const C=S.length;for(let E=0;E<C;E++)c[S[E]]=_}else N?this.options.visualElement.renderState.vars[b]=_:c[b]=_}this.options.layoutId&&(c.pointerEvents=f===this?Ud(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Mb),this.root.sharedNodes.clear()}}}function pP(e){e.updateLayout()}function mP(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?or(p=>{const m=a?t.measuredBox[p]:t.layoutBox[p],y=Cn(m);m.min=n[p].min,m.max=m.min+y}):X2(i,t.layoutBox,n)&&or(p=>{const m=a?t.measuredBox[p]:t.layoutBox[p],y=Cn(n[p]);m.max=m.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+y)});const c=Bo();hl(c,n,t.layoutBox);const d=Bo();a?hl(d,e.applyTransform(r,!0),t.measuredBox):hl(d,n,t.layoutBox);const u=!G2(c);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const v=Ht();fl(v,t.layoutBox,m.layoutBox);const b=Ht();fl(b,n,y.layoutBox),q2(v,b)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=v,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function gP(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function xP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yP(e){e.clearSnapshot()}function Mb(e){e.clearMeasurements()}function $b(e){e.isLayoutDirty=!1}function vP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Lb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function bP(e){e.resolveTargetDelta()}function wP(e){e.calcProjection()}function jP(e){e.resetSkewAndRotation()}function SP(e){e.removeLeadSnapshot()}function Bb(e,t,n){e.translate=$t(t.translate,0,n),e.scale=$t(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function zb(e,t,n,r){e.min=$t(t.min,n.min,r),e.max=$t(t.max,n.max,r)}function NP(e,t,n,r){zb(e.x,t.x,n.x,r),zb(e.y,t.y,n.y,r)}function kP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const CP={duration:.45,ease:[.4,0,.1,1]},Wb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Vb=Wb("applewebkit/")&&!Wb("chrome/")?Math.round:fr;function Ub(e){e.min=Vb(e.min),e.max=Vb(e.max)}function EP(e){Ub(e.x),Ub(e.y)}function X2(e,t,n){return e==="position"||e==="preserve-aspect"&&!D3(Ib(t),Ib(n),.2)}function _P(e){return e!==e.root&&e.scroll?.wasRoot}const AP=Y2({attachResizeListener:(e,t)=>Cl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lp={current:void 0},Q2=Y2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!lp.current){const e=new AP({});e.mount(window),e.setOptions({layoutScroll:!0}),lp.current=e}return lp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),TP={pan:{Feature:K3},drag:{Feature:q3,ProjectionNode:Q2,MeasureLayout:V2}};function Hb(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Ot.postRender(()=>a(t,Ul(t)))}class PP extends ti{mount(){const{current:t}=this.node;t&&(this.unmount=JT(t,(n,r)=>(Hb(this.node,r,"Start"),i=>Hb(this.node,i,"End"))))}unmount(){}}class RP extends ti{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zl(Cl(this.node.current,"focus",()=>this.onFocus()),Cl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gb(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Ot.postRender(()=>a(t,Ul(t)))}class DP extends ti{mount(){const{current:t}=this.node;t&&(this.unmount=n4(t,(n,r)=>(Gb(this.node,r,"Start"),(i,{success:a})=>Gb(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const km=new WeakMap,cp=new WeakMap,OP=e=>{const t=km.get(e.target);t&&t(e)},IP=e=>{e.forEach(OP)};function FP({root:e,...t}){const n=e||document;cp.has(n)||cp.set(n,{});const r=cp.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(IP,{root:e,...t})),r[i]}function MP(e,t,n){const r=FP(t);return km.set(e,n),r.observe(e),()=>{km.delete(e),r.unobserve(e)}}const $P={some:0,all:1};class LP extends ti{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$P[i]},d=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),y=f?p:m;y&&y(u)};return MP(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(BP(t,n))&&this.startObserver()}unmount(){}}function BP({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const zP={inView:{Feature:LP},tap:{Feature:DP},focus:{Feature:RP},hover:{Feature:PP}},WP={layout:{ProjectionNode:Q2,MeasureLayout:V2}},VP={...E3,...zP,...TP,...WP},M=V4(VP,n3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HP=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),qb=e=>{const t=HP(e);return t.charAt(0).toUpperCase()+t.slice(1)},J2=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:c,...d},u)=>g.createElement("svg",{ref:u,...GP,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:J2("lucide",i),...d},[...c.map(([f,p])=>g.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(e,t)=>{const n=g.forwardRef(({className:r,...i},a)=>g.createElement(qP,{ref:a,iconNode:t,className:J2(`lucide-${UP(qb(e))}`,`lucide-${e}`,r),...i}));return n.displayName=qb(e),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],xs=je("arrow-left",KP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Z2=je("arrow-right",YP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],QP=je("award",XP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],us=je("book-open",JP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],eS=je("book",ZP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],tR=je("bookmark",eR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Cm=je("bot",nR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hl=je("calendar",rR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],iR=je("camera",sR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Gl=je("check",oR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pr=je("chevron-down",aR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Kb=je("chevron-left",lR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xo=je("chevron-right",cR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ou=je("chevron-up",dR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Mn=je("circle-check-big",uR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tS=je("circle-check",hR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],Yb=je("circle-play",fR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],nS=je("circle-x",pR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gR=je("circle",mR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Qo=je("clock",xR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],vR=je("cloud-off",yR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],wR=je("cloud",bR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],SR=je("download",jR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],kR=je("ellipsis-vertical",NR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],El=je("eye-off",CR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wo=je("eye",ER);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3 15 2 2 4-4",key:"1lhrkk"}]],rS=je("file-check-2",_R);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Em=je("file-text",AR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"m9 13 2 2 4-4",key:"6343dt"}]],PR=je("folder-check",TR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],sS=je("folder-plus",RR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],OR=je("gamepad-2",DR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],au=je("gift",IR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],iS=je("git-merge",FR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],_m=je("heart",MR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Ki=je("house",$R);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],md=je("key",LR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],zR=je("layers",BR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],VR=je("layout-dashboard",WR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],oS=je("layout-grid",UR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],GR=je("library",HR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],aS=je("lightbulb",qR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],YR=je("link-2",KR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],lS=je("list-checks",XR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],JR=je("list",QR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Am=je("loader-circle",ZR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],t6=je("loader",e6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],lu=je("lock",n6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],s6=je("log-out",r6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],cS=je("mail",i6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],a6=je("maximize",o6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],c6=je("medal",l6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],u6=je("message-circle-plus",d6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],dS=je("message-square",h6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],cu=je("pause",f6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],m6=je("pen",p6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Bi=je("play",g6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jo=je("plus",x6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],uS=je("printer",y6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],il=je("puzzle",v6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],w6=je("refresh-cw",b6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ql=je("rotate-ccw",j6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]],hS=je("rows-3",S6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Zg=je("search",N6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],C6=je("send",k6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fS=je("settings",E6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],A6=je("share-2",_6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],P6=je("shield",T6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Gd=je("shopping-cart",R6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],pS=je("shuffle",D6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Tm=je("skull",O6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],F6=je("smile",I6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ur=je("sparkles",M6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],du=je("square-check-big",$6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],e0=je("square-pen",L6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],_l=je("square",B6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ys=je("star",z6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],mS=je("table-2",W6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],hr=je("target",V6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],H6=je("thumbs-down",U6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],q6=je("thumbs-up",G6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Xb=je("timer",K6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Wi=je("trash-2",Y6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],gS=je("trending-up",X6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],hs=je("trophy",Q6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Z6=je("undo-2",J6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Qb=je("upload",eD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],nD=je("user-plus",tD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xS=je("user",rD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],t0=je("users",sD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],n0=je("volume-2",iD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yn=je("x",oD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ks=je("zap",aD);function Or({onClick:e}){return s.jsx(M.button,{whileTap:{scale:.95},onClick:e,className:"w-11 h-11 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/40",style:{minWidth:"44px",minHeight:"44px"},children:s.jsx(xs,{className:"w-5 h-5 text-[#491B6D]"})})}function Kl({onBack:e,title:t,subtitle:n,rightElement:r}){return s.jsx("div",{className:"sticky top-0 z-40 backdrop-blur-lg flex-shrink-0",style:{background:"transparent"},children:s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 md:p-8 gap-2 sm:gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Or,{onClick:e})}),s.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[s.jsx("h1",{className:"text-[#091A7A] text-center truncate max-w-full",style:{fontSize:"18px",fontWeight:600},children:t}),n&&s.jsx("p",{className:"text-[#6B7280] text-center truncate max-w-full",style:{fontSize:"12px",fontWeight:500},children:n})]}),s.jsx("div",{className:"flex-shrink-0",children:r||s.jsx("div",{className:"w-11 h-11"})})]})})}function yS(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=yS(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function vS(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=yS(e))&&(r&&(r+=" "),r+=t);return r}const lD=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},cD=(e,t)=>({classGroupId:e,validator:t}),bS=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),uu="-",Jb=[],dD="arbitrary..",uD=e=>{const t=fD(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return hD(c);const d=c.split(uu),u=d[0]===""&&d.length>1?1:0;return wS(d,u,t)},getConflictingClassGroupIds:(c,d)=>{if(d){const u=r[c],f=n[c];return u?f?lD(f,u):u:f||Jb}return n[c]||Jb}}},wS=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],a=n.nextPart.get(i);if(a){const f=wS(e,t+1,a);if(f)return f}const c=n.validators;if(c===null)return;const d=t===0?e.join(uu):e.slice(t).join(uu),u=c.length;for(let f=0;f<u;f++){const p=c[f];if(p.validator(d))return p.classGroupId}},hD=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?dD+r:void 0})(),fD=e=>{const{theme:t,classGroups:n}=e;return pD(n,t)},pD=(e,t)=>{const n=bS();for(const r in e){const i=e[r];r0(i,n,r,t)}return n},r0=(e,t,n,r)=>{const i=e.length;for(let a=0;a<i;a++){const c=e[a];mD(c,t,n,r)}},mD=(e,t,n,r)=>{if(typeof e=="string"){gD(e,t,n);return}if(typeof e=="function"){xD(e,t,n,r);return}yD(e,t,n,r)},gD=(e,t,n)=>{const r=e===""?t:jS(t,e);r.classGroupId=n},xD=(e,t,n,r)=>{if(vD(e)){r0(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(cD(n,e))},yD=(e,t,n,r)=>{const i=Object.entries(e),a=i.length;for(let c=0;c<a;c++){const[d,u]=i[c];r0(u,jS(t,d),n,r)}},jS=(e,t)=>{let n=e;const r=t.split(uu),i=r.length;for(let a=0;a<i;a++){const c=r[a];let d=n.nextPart.get(c);d||(d=bS(),n.nextPart.set(c,d)),n=d}return n},vD=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,bD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(a,c)=>{n[a]=c,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(a){let c=n[a];if(c!==void 0)return c;if((c=r[a])!==void 0)return i(a,c),c},set(a,c){a in n?n[a]=c:i(a,c)}}},Pm="!",Zb=":",wD=[],ew=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),jD=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const a=[];let c=0,d=0,u=0,f;const p=i.length;for(let j=0;j<p;j++){const S=i[j];if(c===0&&d===0){if(S===Zb){a.push(i.slice(u,j)),u=j+1;continue}if(S==="/"){f=j;continue}}S==="["?c++:S==="]"?c--:S==="("?d++:S===")"&&d--}const m=a.length===0?i:i.slice(u);let y=m,v=!1;m.endsWith(Pm)?(y=m.slice(0,-1),v=!0):m.startsWith(Pm)&&(y=m.slice(1),v=!0);const b=f&&f>u?f-u:void 0;return ew(a,v,y,b)};if(t){const i=t+Zb,a=r;r=c=>c.startsWith(i)?a(c.slice(i.length)):ew(wD,!1,c,void 0,!0)}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},SD=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let a=0;a<n.length;a++){const c=n[a],d=c[0]==="[",u=t.has(c);d||u?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(c)):i.push(c)}return i.length>0&&(i.sort(),r.push(...i)),r}},ND=e=>({cache:bD(e.cacheSize),parseClassName:jD(e),sortModifiers:SD(e),...uD(e)}),kD=/\s+/,CD=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,c=[],d=e.trim().split(kD);let u="";for(let f=d.length-1;f>=0;f-=1){const p=d[f],{isExternal:m,modifiers:y,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:j}=n(p);if(m){u=p+(u.length>0?" "+u:u);continue}let S=!!j,N=r(S?b.substring(0,j):b);if(!N){if(!S){u=p+(u.length>0?" "+u:u);continue}if(N=r(b),!N){u=p+(u.length>0?" "+u:u);continue}S=!1}const _=y.length===0?"":y.length===1?y[0]:a(y).join(":"),C=v?_+Pm:_,E=C+N;if(c.indexOf(E)>-1)continue;c.push(E);const A=i(N,S);for(let F=0;F<A.length;++F){const D=A[F];c.push(C+D)}u=p+(u.length>0?" "+u:u)}return u},ED=(...e)=>{let t=0,n,r,i="";for(;t<e.length;)(n=e[t++])&&(r=SS(n))&&(i&&(i+=" "),i+=r);return i},SS=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=SS(e[r]))&&(n&&(n+=" "),n+=t);return n},_D=(e,...t)=>{let n,r,i,a;const c=u=>{const f=t.reduce((p,m)=>m(p),e());return n=ND(f),r=n.cache.get,i=n.cache.set,a=d,d(u)},d=u=>{const f=r(u);if(f)return f;const p=CD(u,n);return i(u,p),p};return a=c,(...u)=>a(ED(...u))},AD=[],Zt=e=>{const t=n=>n[e]||AD;return t.isThemeGetter=!0,t},NS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,kS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,TD=/^\d+\/\d+$/,PD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,DD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,OD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ID=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vo=e=>TD.test(e),ot=e=>!!e&&!Number.isNaN(Number(e)),Ws=e=>!!e&&Number.isInteger(Number(e)),dp=e=>e.endsWith("%")&&ot(e.slice(0,-1)),os=e=>PD.test(e),FD=()=>!0,MD=e=>RD.test(e)&&!DD.test(e),CS=()=>!1,$D=e=>OD.test(e),LD=e=>ID.test(e),BD=e=>!Me(e)&&!$e(e),zD=e=>aa(e,AS,CS),Me=e=>NS.test(e),ji=e=>aa(e,TS,MD),up=e=>aa(e,GD,ot),tw=e=>aa(e,ES,CS),WD=e=>aa(e,_S,LD),gd=e=>aa(e,PS,$D),$e=e=>kS.test(e),tl=e=>la(e,TS),VD=e=>la(e,qD),nw=e=>la(e,ES),UD=e=>la(e,AS),HD=e=>la(e,_S),xd=e=>la(e,PS,!0),aa=(e,t,n)=>{const r=NS.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},la=(e,t,n=!1)=>{const r=kS.exec(e);return r?r[1]?t(r[1]):n:!1},ES=e=>e==="position"||e==="percentage",_S=e=>e==="image"||e==="url",AS=e=>e==="length"||e==="size"||e==="bg-size",TS=e=>e==="length",GD=e=>e==="number",qD=e=>e==="family-name",PS=e=>e==="shadow",KD=()=>{const e=Zt("color"),t=Zt("font"),n=Zt("text"),r=Zt("font-weight"),i=Zt("tracking"),a=Zt("leading"),c=Zt("breakpoint"),d=Zt("container"),u=Zt("spacing"),f=Zt("radius"),p=Zt("shadow"),m=Zt("inset-shadow"),y=Zt("text-shadow"),v=Zt("drop-shadow"),b=Zt("blur"),j=Zt("perspective"),S=Zt("aspect"),N=Zt("ease"),_=Zt("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...E(),$e,Me],F=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],O=()=>[$e,Me,u],V=()=>[vo,"full","auto",...O()],G=()=>[Ws,"none","subgrid",$e,Me],ee=()=>["auto",{span:["full",Ws,$e,Me]},Ws,$e,Me],se=()=>[Ws,"auto",$e,Me],ie=()=>["auto","min","max","fr",$e,Me],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...O()],T=()=>[vo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],R=()=>[e,$e,Me],I=()=>[...E(),nw,tw,{position:[$e,Me]}],W=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",UD,zD,{size:[$e,Me]}],K=()=>[dp,tl,ji],U=()=>["","none","full",f,$e,Me],Z=()=>["",ot,tl,ji],H=()=>["solid","dashed","dotted","double"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>[ot,dp,nw,tw],le=()=>["","none",b,$e,Me],fe=()=>["none",ot,$e,Me],ue=()=>["none",ot,$e,Me],Ne=()=>[ot,$e,Me],Te=()=>[vo,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[os],breakpoint:[os],color:[FD],container:[os],"drop-shadow":[os],ease:["in","out","in-out"],font:[BD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[os],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[os],shadow:[os],spacing:["px",ot],text:[os],"text-shadow":[os],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vo,Me,$e,S]}],container:["container"],columns:[{columns:[ot,Me,$e,d]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[Ws,"auto",$e,Me]}],basis:[{basis:[vo,"full","auto",d,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ot,vo,"auto","initial","none",Me]}],grow:[{grow:["",ot,$e,Me]}],shrink:[{shrink:["",ot,$e,Me]}],order:[{order:[Ws,"first","last","none",$e,Me]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:ee()}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:ee()}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ie()}],"auto-rows":[{"auto-rows":ie()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:T()}],w:[{w:[d,"screen",...T()]}],"min-w":[{"min-w":[d,"screen","none",...T()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...T()]}],h:[{h:["screen","lh",...T()]}],"min-h":[{"min-h":["screen","lh","none",...T()]}],"max-h":[{"max-h":["screen","lh",...T()]}],"font-size":[{text:["base",n,tl,ji]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,$e,up]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dp,Me]}],"font-family":[{font:[VD,Me,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,$e,Me]}],"line-clamp":[{"line-clamp":[ot,"none",$e,up]}],leading:[{leading:[a,...O()]}],"list-image":[{"list-image":["none",$e,Me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",$e,Me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[ot,"from-font","auto",$e,ji]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[ot,"auto",$e,Me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e,Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e,Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:I()}],"bg-repeat":[{bg:W()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ws,$e,Me],radial:["",$e,Me],conic:[Ws,$e,Me]},HD,WD]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ot,$e,Me]}],"outline-w":[{outline:["",ot,tl,ji]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",p,xd,gd]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",m,xd,gd]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[ot,ji]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",y,xd,gd]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[ot,$e,Me]}],"mix-blend":[{"mix-blend":[...ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ot]}],"mask-image-linear-from-pos":[{"mask-linear-from":q()}],"mask-image-linear-to-pos":[{"mask-linear-to":q()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":q()}],"mask-image-t-to-pos":[{"mask-t-to":q()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":q()}],"mask-image-r-to-pos":[{"mask-r-to":q()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":q()}],"mask-image-b-to-pos":[{"mask-b-to":q()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":q()}],"mask-image-l-to-pos":[{"mask-l-to":q()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":q()}],"mask-image-x-to-pos":[{"mask-x-to":q()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":q()}],"mask-image-y-to-pos":[{"mask-y-to":q()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[$e,Me]}],"mask-image-radial-from-pos":[{"mask-radial-from":q()}],"mask-image-radial-to-pos":[{"mask-radial-to":q()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[ot]}],"mask-image-conic-from-pos":[{"mask-conic-from":q()}],"mask-image-conic-to-pos":[{"mask-conic-to":q()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:I()}],"mask-repeat":[{mask:W()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",$e,Me]}],filter:[{filter:["","none",$e,Me]}],blur:[{blur:le()}],brightness:[{brightness:[ot,$e,Me]}],contrast:[{contrast:[ot,$e,Me]}],"drop-shadow":[{"drop-shadow":["","none",v,xd,gd]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",ot,$e,Me]}],"hue-rotate":[{"hue-rotate":[ot,$e,Me]}],invert:[{invert:["",ot,$e,Me]}],saturate:[{saturate:[ot,$e,Me]}],sepia:[{sepia:["",ot,$e,Me]}],"backdrop-filter":[{"backdrop-filter":["","none",$e,Me]}],"backdrop-blur":[{"backdrop-blur":le()}],"backdrop-brightness":[{"backdrop-brightness":[ot,$e,Me]}],"backdrop-contrast":[{"backdrop-contrast":[ot,$e,Me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ot,$e,Me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ot,$e,Me]}],"backdrop-invert":[{"backdrop-invert":["",ot,$e,Me]}],"backdrop-opacity":[{"backdrop-opacity":[ot,$e,Me]}],"backdrop-saturate":[{"backdrop-saturate":[ot,$e,Me]}],"backdrop-sepia":[{"backdrop-sepia":["",ot,$e,Me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",$e,Me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ot,"initial",$e,Me]}],ease:[{ease:["linear","initial",N,$e,Me]}],delay:[{delay:[ot,$e,Me]}],animate:[{animate:["none",_,$e,Me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,$e,Me]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:ue()}],"scale-x":[{"scale-x":ue()}],"scale-y":[{"scale-y":ue()}],"scale-z":[{"scale-z":ue()}],"scale-3d":["scale-3d"],skew:[{skew:Ne()}],"skew-x":[{"skew-x":Ne()}],"skew-y":[{"skew-y":Ne()}],transform:[{transform:[$e,Me,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Te()}],"translate-x":[{"translate-x":Te()}],"translate-y":[{"translate-y":Te()}],"translate-z":[{"translate-z":Te()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e,Me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e,Me]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[ot,tl,ji,up]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},YD=_D(KD);function wn(...e){return YD(vS(e))}function hu({className:e,type:t,...n}){return s.jsx("input",{type:t,"data-slot":"input",className:wn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}function XD({className:e,...t}){return s.jsx("textarea",{"data-slot":"textarea",className:wn("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function rw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Yi(...e){return t=>{let n=!1;const r=e.map(i=>{const a=rw(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():rw(e[i],null)}}}}function Bt(...e){return g.useCallback(Yi(...e),e)}var QD=Symbol.for("react.lazy"),fu=fg[" use ".trim().toString()];function JD(e){return typeof e=="object"&&e!==null&&"then"in e}function RS(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===QD&&"_payload"in e&&JD(e._payload)}function DS(e){const t=eO(e),n=g.forwardRef((r,i)=>{let{children:a,...c}=r;RS(a)&&typeof fu=="function"&&(a=fu(a._payload));const d=g.Children.toArray(a),u=d.find(nO);if(u){const f=u.props.children,p=d.map(m=>m===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:m);return s.jsx(t,{...c,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,p):null})}return s.jsx(t,{...c,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var ZD=DS("Slot");function eO(e){const t=g.forwardRef((n,r)=>{let{children:i,...a}=n;if(RS(i)&&typeof fu=="function"&&(i=fu(i._payload)),g.isValidElement(i)){const c=sO(i),d=rO(a,i.props);return i.type!==g.Fragment&&(d.ref=r?Yi(r,c):c),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tO=Symbol("radix.slottable");function nO(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tO}function rO(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function sO(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const sw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,iw=vS,iO=(e,t)=>n=>{var r;if(t?.variants==null)return iw(e,n?.class,n?.className);const{variants:i,defaultVariants:a}=t,c=Object.keys(i).map(f=>{const p=n?.[f],m=a?.[f];if(p===null)return null;const y=sw(p)||sw(m);return i[f][y]}),d=n&&Object.entries(n).reduce((f,p)=>{let[m,y]=p;return y===void 0||(f[m]=y),f},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:m,className:y,...v}=p;return Object.entries(v).every(b=>{let[j,S]=b;return Array.isArray(S)?S.includes({...a,...d}[j]):{...a,...d}[j]===S})?[...f,m,y]:f},[]);return iw(e,c,u,n?.class,n?.className)},oO=iO("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Un({className:e,variant:t,size:n,asChild:r=!1,...i}){const a=r?ZD:"button";return s.jsx(a,{"data-slot":"button",className:wn(oO({variant:t,size:n,className:e})),...i})}function ow(e,[t,n]){return Math.min(n,Math.max(t,e))}function bt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function aO(e,t){const n=g.createContext(t),r=a=>{const{children:c,...d}=a,u=g.useMemo(()=>d,Object.values(d));return s.jsx(n.Provider,{value:u,children:c})};r.displayName=e+"Provider";function i(a){const c=g.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Yl(e,t=[]){let n=[];function r(a,c){const d=g.createContext(c),u=n.length;n=[...n,c];const f=m=>{const{scope:y,children:v,...b}=m,j=y?.[e]?.[u]||d,S=g.useMemo(()=>b,Object.values(b));return s.jsx(j.Provider,{value:S,children:v})};f.displayName=a+"Provider";function p(m,y){const v=y?.[e]?.[u]||d,b=g.useContext(v);if(b)return b;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(c=>g.createContext(c));return function(d){const u=d?.[e]||a;return g.useMemo(()=>({[`__scope${e}`]:{...d,[e]:u}}),[d,u])}};return i.scopeName=e,[r,lO(i,...t)]}function lO(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const c=r.reduce((d,{useScope:u,scopeName:f})=>{const m=u(a)[`__scope${f}`];return{...d,...m}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function aw(e){const t=cO(e),n=g.forwardRef((r,i)=>{const{children:a,...c}=r,d=g.Children.toArray(a),u=d.find(uO);if(u){const f=u.props.children,p=d.map(m=>m===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:m);return s.jsx(t,{...c,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,p):null})}return s.jsx(t,{...c,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function cO(e){const t=g.forwardRef((n,r)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const c=fO(i),d=hO(a,i.props);return i.type!==g.Fragment&&(d.ref=r?Yi(r,c):c),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dO=Symbol("radix.slottable");function uO(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dO}function hO(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function fO(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function pO(e){const t=e+"CollectionProvider",[n,r]=Yl(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=j=>{const{scope:S,children:N}=j,_=me.useRef(null),C=me.useRef(new Map).current;return s.jsx(i,{scope:S,itemMap:C,collectionRef:_,children:N})};c.displayName=t;const d=e+"CollectionSlot",u=aw(d),f=me.forwardRef((j,S)=>{const{scope:N,children:_}=j,C=a(d,N),E=Bt(S,C.collectionRef);return s.jsx(u,{ref:E,children:_})});f.displayName=d;const p=e+"CollectionItemSlot",m="data-radix-collection-item",y=aw(p),v=me.forwardRef((j,S)=>{const{scope:N,children:_,...C}=j,E=me.useRef(null),A=Bt(S,E),F=a(p,N);return me.useEffect(()=>(F.itemMap.set(E,{ref:E,...C}),()=>void F.itemMap.delete(E))),s.jsx(y,{[m]:"",ref:A,children:_})});v.displayName=p;function b(j){const S=a(e+"CollectionConsumer",j);return me.useCallback(()=>{const _=S.collectionRef.current;if(!_)return[];const C=Array.from(_.querySelectorAll(`[${m}]`));return Array.from(S.itemMap.values()).sort((F,D)=>C.indexOf(F.ref.current)-C.indexOf(D.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:c,Slot:f,ItemSlot:v},b,r]}var mO=g.createContext(void 0);function gO(e){const t=g.useContext(mO);return e||t||"ltr"}function xO(e){const t=yO(e),n=g.forwardRef((r,i)=>{const{children:a,...c}=r,d=g.Children.toArray(a),u=d.find(bO);if(u){const f=u.props.children,p=d.map(m=>m===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:m);return s.jsx(t,{...c,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,p):null})}return s.jsx(t,{...c,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function yO(e){const t=g.forwardRef((n,r)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const c=jO(i),d=wO(a,i.props);return i.type!==g.Fragment&&(d.ref=r?Yi(r,c):c),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vO=Symbol("radix.slottable");function bO(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vO}function wO(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function jO(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var SO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nt=SO.reduce((e,t)=>{const n=xO(`Primitive.${t}`),r=g.forwardRef((i,a)=>{const{asChild:c,...d}=i,u=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...d,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function NO(e,t){e&&_r.flushSync(()=>e.dispatchEvent(t))}function Vi(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>t.current?.(...n),[])}function kO(e,t=globalThis?.document){const n=Vi(e);g.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var CO="DismissableLayer",Rm="dismissableLayer.update",EO="dismissableLayer.pointerDownOutside",_O="dismissableLayer.focusOutside",lw,OS=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lu=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:c,onDismiss:d,...u}=e,f=g.useContext(OS),[p,m]=g.useState(null),y=p?.ownerDocument??globalThis?.document,[,v]=g.useState({}),b=Bt(t,D=>m(D)),j=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=j.indexOf(S),_=p?j.indexOf(p):-1,C=f.layersWithOutsidePointerEventsDisabled.size>0,E=_>=N,A=PO(D=>{const O=D.target,V=[...f.branches].some(G=>G.contains(O));!E||V||(i?.(D),c?.(D),D.defaultPrevented||d?.())},y),F=RO(D=>{const O=D.target;[...f.branches].some(G=>G.contains(O))||(a?.(D),c?.(D),D.defaultPrevented||d?.())},y);return kO(D=>{_===f.layers.size-1&&(r?.(D),!D.defaultPrevented&&d&&(D.preventDefault(),d()))},y),g.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(lw=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),cw(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=lw)}},[p,y,n,f]),g.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),cw())},[p,f]),g.useEffect(()=>{const D=()=>v({});return document.addEventListener(Rm,D),()=>document.removeEventListener(Rm,D)},[]),s.jsx(Nt.div,{...u,ref:b,style:{pointerEvents:C?E?"auto":"none":void 0,...e.style},onFocusCapture:bt(e.onFocusCapture,F.onFocusCapture),onBlurCapture:bt(e.onBlurCapture,F.onBlurCapture),onPointerDownCapture:bt(e.onPointerDownCapture,A.onPointerDownCapture)})});Lu.displayName=CO;var AO="DismissableLayerBranch",TO=g.forwardRef((e,t)=>{const n=g.useContext(OS),r=g.useRef(null),i=Bt(t,r);return g.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Nt.div,{...e,ref:i})});TO.displayName=AO;function PO(e,t=globalThis?.document){const n=Vi(e),r=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const a=d=>{if(d.target&&!r.current){let u=function(){IS(EO,n,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function RO(e,t=globalThis?.document){const n=Vi(e),r=g.useRef(!1);return g.useEffect(()=>{const i=a=>{a.target&&!r.current&&IS(_O,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function cw(){const e=new CustomEvent(Rm);document.dispatchEvent(e)}function IS(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?NO(i,a):i.dispatchEvent(a)}var hp=0;function s0(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??dw()),document.body.insertAdjacentElement("beforeend",e[1]??dw()),hp++,()=>{hp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),hp--}},[])}function dw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fp="focusScope.autoFocusOnMount",pp="focusScope.autoFocusOnUnmount",uw={bubbles:!1,cancelable:!0},DO="FocusScope",Bu=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...c}=e,[d,u]=g.useState(null),f=Vi(i),p=Vi(a),m=g.useRef(null),y=Bt(t,j=>u(j)),v=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let j=function(C){if(v.paused||!d)return;const E=C.target;d.contains(E)?m.current=E:Hs(m.current,{select:!0})},S=function(C){if(v.paused||!d)return;const E=C.relatedTarget;E!==null&&(d.contains(E)||Hs(m.current,{select:!0}))},N=function(C){if(document.activeElement===document.body)for(const A of C)A.removedNodes.length>0&&Hs(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",S);const _=new MutationObserver(N);return d&&_.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",S),_.disconnect()}}},[r,d,v.paused]),g.useEffect(()=>{if(d){fw.add(v);const j=document.activeElement;if(!d.contains(j)){const N=new CustomEvent(fp,uw);d.addEventListener(fp,f),d.dispatchEvent(N),N.defaultPrevented||(OO(LO(FS(d)),{select:!0}),document.activeElement===j&&Hs(d))}return()=>{d.removeEventListener(fp,f),setTimeout(()=>{const N=new CustomEvent(pp,uw);d.addEventListener(pp,p),d.dispatchEvent(N),N.defaultPrevented||Hs(j??document.body,{select:!0}),d.removeEventListener(pp,p),fw.remove(v)},0)}}},[d,f,p,v]);const b=g.useCallback(j=>{if(!n&&!r||v.paused)return;const S=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,N=document.activeElement;if(S&&N){const _=j.currentTarget,[C,E]=IO(_);C&&E?!j.shiftKey&&N===E?(j.preventDefault(),n&&Hs(C,{select:!0})):j.shiftKey&&N===C&&(j.preventDefault(),n&&Hs(E,{select:!0})):N===_&&j.preventDefault()}},[n,r,v.paused]);return s.jsx(Nt.div,{tabIndex:-1,...c,ref:y,onKeyDown:b})});Bu.displayName=DO;function OO(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Hs(r,{select:t}),document.activeElement!==n)return}function IO(e){const t=FS(e),n=hw(t,e),r=hw(t.reverse(),e);return[n,r]}function FS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function hw(e,t){for(const n of e)if(!FO(n,{upTo:t}))return n}function FO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function MO(e){return e instanceof HTMLInputElement&&"select"in e}function Hs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&MO(e)&&t&&e.select()}}var fw=$O();function $O(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=pw(e,t),e.unshift(t)},remove(t){e=pw(e,t),e[0]?.resume()}}}function pw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function LO(e){return e.filter(t=>t.tagName!=="A")}var jn=globalThis?.document?g.useLayoutEffect:()=>{},BO=fg[" useId ".trim().toString()]||(()=>{}),zO=0;function zi(e){const[t,n]=g.useState(BO());return jn(()=>{n(r=>r??String(zO++))},[e]),e||(t?`radix-${t}`:"")}const WO=["top","right","bottom","left"],Qs=Math.min,Hn=Math.max,pu=Math.round,yd=Math.floor,Kr=e=>({x:e,y:e}),VO={left:"right",right:"left",bottom:"top",top:"bottom"},UO={start:"end",end:"start"};function Dm(e,t,n){return Hn(e,Qs(t,n))}function vs(e,t){return typeof e=="function"?e(t):e}function bs(e){return e.split("-")[0]}function ca(e){return e.split("-")[1]}function i0(e){return e==="x"?"y":"x"}function o0(e){return e==="y"?"height":"width"}const HO=new Set(["top","bottom"]);function Hr(e){return HO.has(bs(e))?"y":"x"}function a0(e){return i0(Hr(e))}function GO(e,t,n){n===void 0&&(n=!1);const r=ca(e),i=a0(e),a=o0(i);let c=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=mu(c)),[c,mu(c)]}function qO(e){const t=mu(e);return[Om(e),t,Om(t)]}function Om(e){return e.replace(/start|end/g,t=>UO[t])}const mw=["left","right"],gw=["right","left"],KO=["top","bottom"],YO=["bottom","top"];function XO(e,t,n){switch(e){case"top":case"bottom":return n?t?gw:mw:t?mw:gw;case"left":case"right":return t?KO:YO;default:return[]}}function QO(e,t,n,r){const i=ca(e);let a=XO(bs(e),n==="start",r);return i&&(a=a.map(c=>c+"-"+i),t&&(a=a.concat(a.map(Om)))),a}function mu(e){return e.replace(/left|right|bottom|top/g,t=>VO[t])}function JO(e){return{top:0,right:0,bottom:0,left:0,...e}}function MS(e){return typeof e!="number"?JO(e):{top:e,right:e,bottom:e,left:e}}function gu(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function xw(e,t,n){let{reference:r,floating:i}=e;const a=Hr(t),c=a0(t),d=o0(c),u=bs(t),f=a==="y",p=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,y=r[d]/2-i[d]/2;let v;switch(u){case"top":v={x:p,y:r.y-i.height};break;case"bottom":v={x:p,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:m};break;case"left":v={x:r.x-i.width,y:m};break;default:v={x:r.x,y:r.y}}switch(ca(t)){case"start":v[c]-=y*(n&&f?-1:1);break;case"end":v[c]+=y*(n&&f?-1:1);break}return v}const ZO=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:c}=n,d=a.filter(Boolean),u=await(c.isRTL==null?void 0:c.isRTL(t));let f=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:m}=xw(f,r,u),y=r,v={},b=0;for(let j=0;j<d.length;j++){const{name:S,fn:N}=d[j],{x:_,y:C,data:E,reset:A}=await N({x:p,y:m,initialPlacement:r,placement:y,strategy:i,middlewareData:v,rects:f,platform:c,elements:{reference:e,floating:t}});p=_??p,m=C??m,v={...v,[S]:{...v[S],...E}},A&&b<=50&&(b++,typeof A=="object"&&(A.placement&&(y=A.placement),A.rects&&(f=A.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):A.rects),{x:p,y:m}=xw(f,y,u)),j=-1)}return{x:p,y:m,placement:y,strategy:i,middlewareData:v}};async function Al(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:c,elements:d,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:y=!1,padding:v=0}=vs(t,e),b=MS(v),S=d[y?m==="floating"?"reference":"floating":m],N=gu(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:f,rootBoundary:p,strategy:u})),_=m==="floating"?{x:r,y:i,width:c.floating.width,height:c.floating.height}:c.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),E=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},A=gu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:_,offsetParent:C,strategy:u}):_);return{top:(N.top-A.top+b.top)/E.y,bottom:(A.bottom-N.bottom+b.bottom)/E.y,left:(N.left-A.left+b.left)/E.x,right:(A.right-N.right+b.right)/E.x}}const eI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:c,elements:d,middlewareData:u}=t,{element:f,padding:p=0}=vs(e,t)||{};if(f==null)return{};const m=MS(p),y={x:n,y:r},v=a0(i),b=o0(v),j=await c.getDimensions(f),S=v==="y",N=S?"top":"left",_=S?"bottom":"right",C=S?"clientHeight":"clientWidth",E=a.reference[b]+a.reference[v]-y[v]-a.floating[b],A=y[v]-a.reference[v],F=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let D=F?F[C]:0;(!D||!await(c.isElement==null?void 0:c.isElement(F)))&&(D=d.floating[C]||a.floating[b]);const O=E/2-A/2,V=D/2-j[b]/2-1,G=Qs(m[N],V),ee=Qs(m[_],V),se=G,ie=D-j[b]-ee,J=D/2-j[b]/2+O,$=Dm(se,J,ie),L=!u.arrow&&ca(i)!=null&&J!==$&&a.reference[b]/2-(J<se?G:ee)-j[b]/2<0,T=L?J<se?J-se:J-ie:0;return{[v]:y[v]+T,data:{[v]:$,centerOffset:J-$-T,...L&&{alignmentOffset:T}},reset:L}}}),tI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:c,initialPlacement:d,platform:u,elements:f}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:j=!0,...S}=vs(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=bs(i),_=Hr(d),C=bs(d)===d,E=await(u.isRTL==null?void 0:u.isRTL(f.floating)),A=y||(C||!j?[mu(d)]:qO(d)),F=b!=="none";!y&&F&&A.push(...QO(d,j,b,E));const D=[d,...A],O=await Al(t,S),V=[];let G=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&V.push(O[N]),m){const J=GO(i,c,E);V.push(O[J[0]],O[J[1]])}if(G=[...G,{placement:i,overflows:V}],!V.every(J=>J<=0)){var ee,se;const J=(((ee=a.flip)==null?void 0:ee.index)||0)+1,$=D[J];if($&&(!(m==="alignment"?_!==Hr($):!1)||G.every(R=>Hr(R.placement)===_?R.overflows[0]>0:!0)))return{data:{index:J,overflows:G},reset:{placement:$}};let L=(se=G.filter(T=>T.overflows[0]<=0).sort((T,R)=>T.overflows[1]-R.overflows[1])[0])==null?void 0:se.placement;if(!L)switch(v){case"bestFit":{var ie;const T=(ie=G.filter(R=>{if(F){const I=Hr(R.placement);return I===_||I==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(I=>I>0).reduce((I,W)=>I+W,0)]).sort((R,I)=>R[1]-I[1])[0])==null?void 0:ie[0];T&&(L=T);break}case"initialPlacement":L=d;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function yw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function vw(e){return WO.some(t=>e[t]>=0)}const nI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=vs(e,t);switch(r){case"referenceHidden":{const a=await Al(t,{...i,elementContext:"reference"}),c=yw(a,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:vw(c)}}}case"escaped":{const a=await Al(t,{...i,altBoundary:!0}),c=yw(a,n.floating);return{data:{escapedOffsets:c,escaped:vw(c)}}}default:return{}}}}},$S=new Set(["left","top"]);async function rI(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),c=bs(n),d=ca(n),u=Hr(n)==="y",f=$S.has(c)?-1:1,p=a&&u?-1:1,m=vs(t,e);let{mainAxis:y,crossAxis:v,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return d&&typeof b=="number"&&(v=d==="end"?b*-1:b),u?{x:v*p,y:y*f}:{x:y*f,y:v*p}}const sI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:c,middlewareData:d}=t,u=await rI(t,e);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:c}}}}},iI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:d={fn:S=>{let{x:N,y:_}=S;return{x:N,y:_}}},...u}=vs(e,t),f={x:n,y:r},p=await Al(t,u),m=Hr(bs(i)),y=i0(m);let v=f[y],b=f[m];if(a){const S=y==="y"?"top":"left",N=y==="y"?"bottom":"right",_=v+p[S],C=v-p[N];v=Dm(_,v,C)}if(c){const S=m==="y"?"top":"left",N=m==="y"?"bottom":"right",_=b+p[S],C=b-p[N];b=Dm(_,b,C)}const j=d.fn({...t,[y]:v,[m]:b});return{...j,data:{x:j.x-n,y:j.y-r,enabled:{[y]:a,[m]:c}}}}}},oI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:c}=t,{offset:d=0,mainAxis:u=!0,crossAxis:f=!0}=vs(e,t),p={x:n,y:r},m=Hr(i),y=i0(m);let v=p[y],b=p[m];const j=vs(d,t),S=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(u){const C=y==="y"?"height":"width",E=a.reference[y]-a.floating[C]+S.mainAxis,A=a.reference[y]+a.reference[C]-S.mainAxis;v<E?v=E:v>A&&(v=A)}if(f){var N,_;const C=y==="y"?"width":"height",E=$S.has(bs(i)),A=a.reference[m]-a.floating[C]+(E&&((N=c.offset)==null?void 0:N[m])||0)+(E?0:S.crossAxis),F=a.reference[m]+a.reference[C]+(E?0:((_=c.offset)==null?void 0:_[m])||0)-(E?S.crossAxis:0);b<A?b=A:b>F&&(b=F)}return{[y]:v,[m]:b}}}},aI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:c,elements:d}=t,{apply:u=()=>{},...f}=vs(e,t),p=await Al(t,f),m=bs(i),y=ca(i),v=Hr(i)==="y",{width:b,height:j}=a.floating;let S,N;m==="top"||m==="bottom"?(S=m,N=y===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(N=m,S=y==="end"?"top":"bottom");const _=j-p.top-p.bottom,C=b-p.left-p.right,E=Qs(j-p[S],_),A=Qs(b-p[N],C),F=!t.middlewareData.shift;let D=E,O=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(D=_),F&&!y){const G=Hn(p.left,0),ee=Hn(p.right,0),se=Hn(p.top,0),ie=Hn(p.bottom,0);v?O=b-2*(G!==0||ee!==0?G+ee:Hn(p.left,p.right)):D=j-2*(se!==0||ie!==0?se+ie:Hn(p.top,p.bottom))}await u({...t,availableWidth:O,availableHeight:D});const V=await c.getDimensions(d.floating);return b!==V.width||j!==V.height?{reset:{rects:!0}}:{}}}};function zu(){return typeof window<"u"}function da(e){return LS(e)?(e.nodeName||"").toLowerCase():"#document"}function Kn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qr(e){var t;return(t=(LS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function LS(e){return zu()?e instanceof Node||e instanceof Kn(e).Node:!1}function Tr(e){return zu()?e instanceof Element||e instanceof Kn(e).Element:!1}function Yr(e){return zu()?e instanceof HTMLElement||e instanceof Kn(e).HTMLElement:!1}function bw(e){return!zu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Kn(e).ShadowRoot}const lI=new Set(["inline","contents"]);function Xl(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Pr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!lI.has(i)}const cI=new Set(["table","td","th"]);function dI(e){return cI.has(da(e))}const uI=[":popover-open",":modal"];function Wu(e){return uI.some(t=>{try{return e.matches(t)}catch{return!1}})}const hI=["transform","translate","scale","rotate","perspective"],fI=["transform","translate","scale","rotate","perspective","filter"],pI=["paint","layout","strict","content"];function l0(e){const t=c0(),n=Tr(e)?Pr(e):e;return hI.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||fI.some(r=>(n.willChange||"").includes(r))||pI.some(r=>(n.contain||"").includes(r))}function mI(e){let t=Js(e);for(;Yr(t)&&!Zo(t);){if(l0(t))return t;if(Wu(t))return null;t=Js(t)}return null}function c0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const gI=new Set(["html","body","#document"]);function Zo(e){return gI.has(da(e))}function Pr(e){return Kn(e).getComputedStyle(e)}function Vu(e){return Tr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Js(e){if(da(e)==="html")return e;const t=e.assignedSlot||e.parentNode||bw(e)&&e.host||Qr(e);return bw(t)?t.host:t}function BS(e){const t=Js(e);return Zo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yr(t)&&Xl(t)?t:BS(t)}function Tl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=BS(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),c=Kn(i);if(a){const d=Im(c);return t.concat(c,c.visualViewport||[],Xl(i)?i:[],d&&n?Tl(d):[])}return t.concat(i,Tl(i,[],n))}function Im(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zS(e){const t=Pr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Yr(e),a=i?e.offsetWidth:n,c=i?e.offsetHeight:r,d=pu(n)!==a||pu(r)!==c;return d&&(n=a,r=c),{width:n,height:r,$:d}}function d0(e){return Tr(e)?e:e.contextElement}function Vo(e){const t=d0(e);if(!Yr(t))return Kr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=zS(t);let c=(a?pu(n.width):n.width)/r,d=(a?pu(n.height):n.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const xI=Kr(0);function WS(e){const t=Kn(e);return!c0()||!t.visualViewport?xI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yI(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Kn(e)?!1:t}function Ui(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=d0(e);let c=Kr(1);t&&(r?Tr(r)&&(c=Vo(r)):c=Vo(e));const d=yI(a,n,r)?WS(a):Kr(0);let u=(i.left+d.x)/c.x,f=(i.top+d.y)/c.y,p=i.width/c.x,m=i.height/c.y;if(a){const y=Kn(a),v=r&&Tr(r)?Kn(r):r;let b=y,j=Im(b);for(;j&&r&&v!==b;){const S=Vo(j),N=j.getBoundingClientRect(),_=Pr(j),C=N.left+(j.clientLeft+parseFloat(_.paddingLeft))*S.x,E=N.top+(j.clientTop+parseFloat(_.paddingTop))*S.y;u*=S.x,f*=S.y,p*=S.x,m*=S.y,u+=C,f+=E,b=Kn(j),j=Im(b)}}return gu({width:p,height:m,x:u,y:f})}function Uu(e,t){const n=Vu(e).scrollLeft;return t?t.left+n:Ui(Qr(e)).left+n}function VS(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Uu(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function vI(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",c=Qr(r),d=t?Wu(t.floating):!1;if(r===c||d&&a)return n;let u={scrollLeft:0,scrollTop:0},f=Kr(1);const p=Kr(0),m=Yr(r);if((m||!m&&!a)&&((da(r)!=="body"||Xl(c))&&(u=Vu(r)),Yr(r))){const v=Ui(r);f=Vo(r),p.x=v.x+r.clientLeft,p.y=v.y+r.clientTop}const y=c&&!m&&!a?VS(c,u):Kr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+p.x+y.x,y:n.y*f.y-u.scrollTop*f.y+p.y+y.y}}function bI(e){return Array.from(e.getClientRects())}function wI(e){const t=Qr(e),n=Vu(e),r=e.ownerDocument.body,i=Hn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Hn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Uu(e);const d=-n.scrollTop;return Pr(r).direction==="rtl"&&(c+=Hn(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:c,y:d}}const ww=25;function jI(e,t){const n=Kn(e),r=Qr(e),i=n.visualViewport;let a=r.clientWidth,c=r.clientHeight,d=0,u=0;if(i){a=i.width,c=i.height;const p=c0();(!p||p&&t==="fixed")&&(d=i.offsetLeft,u=i.offsetTop)}const f=Uu(r);if(f<=0){const p=r.ownerDocument,m=p.body,y=getComputedStyle(m),v=p.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,b=Math.abs(r.clientWidth-m.clientWidth-v);b<=ww&&(a-=b)}else f<=ww&&(a+=f);return{width:a,height:c,x:d,y:u}}const SI=new Set(["absolute","fixed"]);function NI(e,t){const n=Ui(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Yr(e)?Vo(e):Kr(1),c=e.clientWidth*a.x,d=e.clientHeight*a.y,u=i*a.x,f=r*a.y;return{width:c,height:d,x:u,y:f}}function jw(e,t,n){let r;if(t==="viewport")r=jI(e,n);else if(t==="document")r=wI(Qr(e));else if(Tr(t))r=NI(t,n);else{const i=WS(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return gu(r)}function US(e,t){const n=Js(e);return n===t||!Tr(n)||Zo(n)?!1:Pr(n).position==="fixed"||US(n,t)}function kI(e,t){const n=t.get(e);if(n)return n;let r=Tl(e,[],!1).filter(d=>Tr(d)&&da(d)!=="body"),i=null;const a=Pr(e).position==="fixed";let c=a?Js(e):e;for(;Tr(c)&&!Zo(c);){const d=Pr(c),u=l0(c);!u&&d.position==="fixed"&&(i=null),(a?!u&&!i:!u&&d.position==="static"&&!!i&&SI.has(i.position)||Xl(c)&&!u&&US(e,c))?r=r.filter(p=>p!==c):i=d,c=Js(c)}return t.set(e,r),r}function CI(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const c=[...n==="clippingAncestors"?Wu(t)?[]:kI(t,this._c):[].concat(n),r],d=c[0],u=c.reduce((f,p)=>{const m=jw(t,p,i);return f.top=Hn(m.top,f.top),f.right=Qs(m.right,f.right),f.bottom=Qs(m.bottom,f.bottom),f.left=Hn(m.left,f.left),f},jw(t,d,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function EI(e){const{width:t,height:n}=zS(e);return{width:t,height:n}}function _I(e,t,n){const r=Yr(t),i=Qr(t),a=n==="fixed",c=Ui(e,!0,a,t);let d={scrollLeft:0,scrollTop:0};const u=Kr(0);function f(){u.x=Uu(i)}if(r||!r&&!a)if((da(t)!=="body"||Xl(i))&&(d=Vu(t)),r){const v=Ui(t,!0,a,t);u.x=v.x+t.clientLeft,u.y=v.y+t.clientTop}else i&&f();a&&!r&&i&&f();const p=i&&!r&&!a?VS(i,d):Kr(0),m=c.left+d.scrollLeft-u.x-p.x,y=c.top+d.scrollTop-u.y-p.y;return{x:m,y,width:c.width,height:c.height}}function mp(e){return Pr(e).position==="static"}function Sw(e,t){if(!Yr(e)||Pr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Qr(e)===n&&(n=n.ownerDocument.body),n}function HS(e,t){const n=Kn(e);if(Wu(e))return n;if(!Yr(e)){let i=Js(e);for(;i&&!Zo(i);){if(Tr(i)&&!mp(i))return i;i=Js(i)}return n}let r=Sw(e,t);for(;r&&dI(r)&&mp(r);)r=Sw(r,t);return r&&Zo(r)&&mp(r)&&!l0(r)?n:r||mI(e)||n}const AI=async function(e){const t=this.getOffsetParent||HS,n=this.getDimensions,r=await n(e.floating);return{reference:_I(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function TI(e){return Pr(e).direction==="rtl"}const PI={convertOffsetParentRelativeRectToViewportRelativeRect:vI,getDocumentElement:Qr,getClippingRect:CI,getOffsetParent:HS,getElementRects:AI,getClientRects:bI,getDimensions:EI,getScale:Vo,isElement:Tr,isRTL:TI};function GS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function RI(e,t){let n=null,r;const i=Qr(e);function a(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,u){d===void 0&&(d=!1),u===void 0&&(u=1),a();const f=e.getBoundingClientRect(),{left:p,top:m,width:y,height:v}=f;if(d||t(),!y||!v)return;const b=yd(m),j=yd(i.clientWidth-(p+y)),S=yd(i.clientHeight-(m+v)),N=yd(p),C={rootMargin:-b+"px "+-j+"px "+-S+"px "+-N+"px",threshold:Hn(0,Qs(1,u))||1};let E=!0;function A(F){const D=F[0].intersectionRatio;if(D!==u){if(!E)return c();D?c(!1,D):r=setTimeout(()=>{c(!1,1e-7)},1e3)}D===1&&!GS(f,e.getBoundingClientRect())&&c(),E=!1}try{n=new IntersectionObserver(A,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,C)}n.observe(e)}return c(!0),a}function DI(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,f=d0(e),p=i||a?[...f?Tl(f):[],...Tl(t)]:[];p.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const m=f&&d?RI(f,n):null;let y=-1,v=null;c&&(v=new ResizeObserver(N=>{let[_]=N;_&&_.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(t)})),n()}),f&&!u&&v.observe(f),v.observe(t));let b,j=u?Ui(e):null;u&&S();function S(){const N=Ui(e);j&&!GS(j,N)&&n(),j=N,b=requestAnimationFrame(S)}return n(),()=>{var N;p.forEach(_=>{i&&_.removeEventListener("scroll",n),a&&_.removeEventListener("resize",n)}),m?.(),(N=v)==null||N.disconnect(),v=null,u&&cancelAnimationFrame(b)}}const OI=sI,II=iI,FI=tI,MI=aI,$I=nI,Nw=eI,LI=oI,BI=(e,t,n)=>{const r=new Map,i={platform:PI,...n},a={...i.platform,_c:r};return ZO(e,t,{...i,platform:a})};var zI=typeof document<"u",WI=function(){},qd=zI?g.useLayoutEffect:WI;function xu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!xu(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!xu(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function qS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kw(e,t){const n=qS(e);return Math.round(t*n)/n}function gp(e){const t=g.useRef(e);return qd(()=>{t.current=e}),t}function VI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:c}={},transform:d=!0,whileElementsMounted:u,open:f}=e,[p,m]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,v]=g.useState(r);xu(y,r)||v(r);const[b,j]=g.useState(null),[S,N]=g.useState(null),_=g.useCallback(R=>{R!==F.current&&(F.current=R,j(R))},[]),C=g.useCallback(R=>{R!==D.current&&(D.current=R,N(R))},[]),E=a||b,A=c||S,F=g.useRef(null),D=g.useRef(null),O=g.useRef(p),V=u!=null,G=gp(u),ee=gp(i),se=gp(f),ie=g.useCallback(()=>{if(!F.current||!D.current)return;const R={placement:t,strategy:n,middleware:y};ee.current&&(R.platform=ee.current),BI(F.current,D.current,R).then(I=>{const W={...I,isPositioned:se.current!==!1};J.current&&!xu(O.current,W)&&(O.current=W,_r.flushSync(()=>{m(W)}))})},[y,t,n,ee,se]);qd(()=>{f===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,m(R=>({...R,isPositioned:!1})))},[f]);const J=g.useRef(!1);qd(()=>(J.current=!0,()=>{J.current=!1}),[]),qd(()=>{if(E&&(F.current=E),A&&(D.current=A),E&&A){if(G.current)return G.current(E,A,ie);ie()}},[E,A,ie,G,V]);const $=g.useMemo(()=>({reference:F,floating:D,setReference:_,setFloating:C}),[_,C]),L=g.useMemo(()=>({reference:E,floating:A}),[E,A]),T=g.useMemo(()=>{const R={position:n,left:0,top:0};if(!L.floating)return R;const I=kw(L.floating,p.x),W=kw(L.floating,p.y);return d?{...R,transform:"translate("+I+"px, "+W+"px)",...qS(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:W}},[n,d,L.floating,p.x,p.y]);return g.useMemo(()=>({...p,update:ie,refs:$,elements:L,floatingStyles:T}),[p,ie,$,L,T])}const UI=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Nw({element:r.current,padding:i}).fn(n):{}:r?Nw({element:r,padding:i}).fn(n):{}}}},HI=(e,t)=>({...OI(e),options:[e,t]}),GI=(e,t)=>({...II(e),options:[e,t]}),qI=(e,t)=>({...LI(e),options:[e,t]}),KI=(e,t)=>({...FI(e),options:[e,t]}),YI=(e,t)=>({...MI(e),options:[e,t]}),XI=(e,t)=>({...$I(e),options:[e,t]}),QI=(e,t)=>({...UI(e),options:[e,t]});var JI="Arrow",KS=g.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return s.jsx(Nt.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});KS.displayName=JI;var ZI=KS;function eF(e){const[t,n]=g.useState(void 0);return jn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let c,d;if("borderBoxSize"in a){const u=a.borderBoxSize,f=Array.isArray(u)?u[0]:u;c=f.inlineSize,d=f.blockSize}else c=e.offsetWidth,d=e.offsetHeight;n({width:c,height:d})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var u0="Popper",[YS,Hu]=Yl(u0),[tF,XS]=YS(u0),QS=e=>{const{__scopePopper:t,children:n}=e,[r,i]=g.useState(null);return s.jsx(tF,{scope:t,anchor:r,onAnchorChange:i,children:n})};QS.displayName=u0;var JS="PopperAnchor",ZS=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=XS(JS,n),c=g.useRef(null),d=Bt(t,c),u=g.useRef(null);return g.useEffect(()=>{const f=u.current;u.current=r?.current||c.current,f!==u.current&&a.onAnchorChange(u.current)}),r?null:s.jsx(Nt.div,{...i,ref:d})});ZS.displayName=JS;var h0="PopperContent",[nF,rF]=YS(h0),eN=g.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:v="optimized",onPlaced:b,...j}=e,S=XS(h0,n),[N,_]=g.useState(null),C=Bt(t,q=>_(q)),[E,A]=g.useState(null),F=eF(E),D=F?.width??0,O=F?.height??0,V=r+(a!=="center"?"-"+a:""),G=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ee=Array.isArray(f)?f:[f],se=ee.length>0,ie={padding:G,boundary:ee.filter(iF),altBoundary:se},{refs:J,floatingStyles:$,placement:L,isPositioned:T,middlewareData:R}=VI({strategy:"fixed",placement:V,whileElementsMounted:(...q)=>DI(...q,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[HI({mainAxis:i+O,alignmentAxis:c}),u&&GI({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?qI():void 0,...ie}),u&&KI({...ie}),YI({...ie,apply:({elements:q,rects:le,availableWidth:fe,availableHeight:ue})=>{const{width:Ne,height:Te}=le.reference,Ze=q.floating.style;Ze.setProperty("--radix-popper-available-width",`${fe}px`),Ze.setProperty("--radix-popper-available-height",`${ue}px`),Ze.setProperty("--radix-popper-anchor-width",`${Ne}px`),Ze.setProperty("--radix-popper-anchor-height",`${Te}px`)}}),E&&QI({element:E,padding:d}),oF({arrowWidth:D,arrowHeight:O}),y&&XI({strategy:"referenceHidden",...ie})]}),[I,W]=rN(L),B=Vi(b);jn(()=>{T&&B?.()},[T,B]);const K=R.arrow?.x,U=R.arrow?.y,Z=R.arrow?.centerOffset!==0,[H,ne]=g.useState();return jn(()=>{N&&ne(window.getComputedStyle(N).zIndex)},[N]),s.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:T?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(nF,{scope:n,placedSide:I,onArrowChange:A,arrowX:K,arrowY:U,shouldHideArrow:Z,children:s.jsx(Nt.div,{"data-side":I,"data-align":W,...j,ref:C,style:{...j.style,animation:T?void 0:"none"}})})})});eN.displayName=h0;var tN="PopperArrow",sF={top:"bottom",right:"left",bottom:"top",left:"right"},nN=g.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=rF(tN,r),c=sF[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(ZI,{...i,ref:n,style:{...i.style,display:"block"}})})});nN.displayName=tN;function iF(e){return e!==null}var oF=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,c=i.arrow?.centerOffset!==0,d=c?0:e.arrowWidth,u=c?0:e.arrowHeight,[f,p]=rN(n),m={start:"0%",center:"50%",end:"100%"}[p],y=(i.arrow?.x??0)+d/2,v=(i.arrow?.y??0)+u/2;let b="",j="";return f==="bottom"?(b=c?m:`${y}px`,j=`${-u}px`):f==="top"?(b=c?m:`${y}px`,j=`${r.floating.height+u}px`):f==="right"?(b=`${-u}px`,j=c?m:`${v}px`):f==="left"&&(b=`${r.floating.width+u}px`,j=c?m:`${v}px`),{data:{x:b,y:j}}}});function rN(e){const[t,n="center"]=e.split("-");return[t,n]}var sN=QS,f0=ZS,iN=eN,oN=nN,aF="Portal",Gu=g.forwardRef((e,t)=>{const{container:n,...r}=e,[i,a]=g.useState(!1);jn(()=>a(!0),[]);const c=n||i&&globalThis?.document?.body;return c?vj.createPortal(s.jsx(Nt.div,{...r,ref:t}),c):null});Gu.displayName=aF;function lF(e){const t=cF(e),n=g.forwardRef((r,i)=>{const{children:a,...c}=r,d=g.Children.toArray(a),u=d.find(uF);if(u){const f=u.props.children,p=d.map(m=>m===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:m);return s.jsx(t,{...c,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,p):null})}return s.jsx(t,{...c,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function cF(e){const t=g.forwardRef((n,r)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const c=fF(i),d=hF(a,i.props);return i.type!==g.Fragment&&(d.ref=r?Yi(r,c):c),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dF=Symbol("radix.slottable");function uF(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dF}function hF(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function fF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pF=fg[" useInsertionEffect ".trim().toString()]||jn;function yu({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,c]=mF({defaultProp:t,onChange:n}),d=e!==void 0,u=d?e:i;{const p=g.useRef(e!==void 0);g.useEffect(()=>{const m=p.current;m!==d&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,r])}const f=g.useCallback(p=>{if(d){const m=gF(p)?p(e):p;m!==e&&c.current?.(m)}else a(p)},[d,e,a,c]);return[u,f]}function mF({defaultProp:e,onChange:t}){const[n,r]=g.useState(e),i=g.useRef(n),a=g.useRef(t);return pF(()=>{a.current=t},[t]),g.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function gF(e){return typeof e=="function"}function xF(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var aN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),yF="VisuallyHidden",vF=g.forwardRef((e,t)=>s.jsx(Nt.span,{...e,ref:t,style:{...aN,...e.style}}));vF.displayName=yF;var bF=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},bo=new WeakMap,vd=new WeakMap,bd={},xp=0,lN=function(e){return e&&(e.host||lN(e.parentNode))},wF=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=lN(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},jF=function(e,t,n,r){var i=wF(t,Array.isArray(e)?e:[e]);bd[n]||(bd[n]=new WeakMap);var a=bd[n],c=[],d=new Set,u=new Set(i),f=function(m){!m||d.has(m)||(d.add(m),f(m.parentNode))};i.forEach(f);var p=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(y){if(d.has(y))p(y);else try{var v=y.getAttribute(r),b=v!==null&&v!=="false",j=(bo.get(y)||0)+1,S=(a.get(y)||0)+1;bo.set(y,j),a.set(y,S),c.push(y),j===1&&b&&vd.set(y,!0),S===1&&y.setAttribute(n,"true"),b||y.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",y,N)}})};return p(t),d.clear(),xp++,function(){c.forEach(function(m){var y=bo.get(m)-1,v=a.get(m)-1;bo.set(m,y),a.set(m,v),y||(vd.has(m)||m.removeAttribute(r),vd.delete(m)),v||m.removeAttribute(n)}),xp--,xp||(bo=new WeakMap,bo=new WeakMap,vd=new WeakMap,bd={})}},p0=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=bF(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),jF(r,i,n,"aria-hidden")):function(){return null}},Fm=function(e,t){return Fm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Fm(e,t)};function cN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Fm(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var cr=function(){return cr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},cr.apply(this,arguments)};function ni(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function dN(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var d=e.length-1;d>=0;d--)(c=e[d])&&(a=(i<3?c(a):i>3?c(t,n,a):c(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function uN(e,t){return function(n,r){t(n,r,e)}}function hN(e,t,n,r,i,a){function c(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var d=r.kind,u=d==="getter"?"get":d==="setter"?"set":"value",f=!t&&e?r.static?e:e.prototype:null,p=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),m,y=!1,v=n.length-1;v>=0;v--){var b={};for(var j in r)b[j]=j==="access"?{}:r[j];for(var j in r.access)b.access[j]=r.access[j];b.addInitializer=function(N){if(y)throw new TypeError("Cannot add initializers after decoration has completed");a.push(c(N||null))};var S=(0,n[v])(d==="accessor"?{get:p.get,set:p.set}:p[u],b);if(d==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(m=c(S.get))&&(p.get=m),(m=c(S.set))&&(p.set=m),(m=c(S.init))&&i.unshift(m)}else(m=c(S))&&(d==="field"?i.unshift(m):p[u]=m)}f&&Object.defineProperty(f,r.name,p),y=!0}function fN(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function pN(e){return typeof e=="symbol"?e:"".concat(e)}function mN(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function gN(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ze(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function d(p){try{f(r.next(p))}catch(m){c(m)}}function u(p){try{f(r.throw(p))}catch(m){c(m)}}function f(p){p.done?a(p.value):i(p.value).then(d,u)}f((r=r.apply(e,t||[])).next())})}function xN(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(f){return function(p){return u([f,p])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var qu=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function yN(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&qu(t,e,n)}function vu(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m0(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],c;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(d){c={error:d}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return a}function vN(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m0(arguments[t]));return e}function bN(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],c=0,d=a.length;c<d;c++,i++)r[i]=a[c];return r}function g0(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function ea(e){return this instanceof ea?(this.v=e,this):new ea(e)}function wN(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(v){return function(b){return Promise.resolve(b).then(v,m)}}function d(v,b){r[v]&&(i[v]=function(j){return new Promise(function(S,N){a.push([v,j,S,N])>1||u(v,j)})},b&&(i[v]=b(i[v])))}function u(v,b){try{f(r[v](b))}catch(j){y(a[0][3],j)}}function f(v){v.value instanceof ea?Promise.resolve(v.value.v).then(p,m):y(a[0][2],v)}function p(v){u("next",v)}function m(v){u("throw",v)}function y(v,b){v(b),a.shift(),a.length&&u(a[0][0],a[0][1])}}function jN(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(c){return(n=!n)?{value:ea(e[i](c)),done:!1}:a?a(c):c}:a}}function SN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof vu=="function"?vu(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(c){return new Promise(function(d,u){c=e[a](c),i(d,u,c.done,c.value)})}}function i(a,c,d,u){Promise.resolve(u).then(function(f){a({value:f,done:d})},c)}}function NN(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var SF=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Mm=function(e){return Mm=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Mm(e)};function kN(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Mm(e),r=0;r<n.length;r++)n[r]!=="default"&&qu(t,e,n[r]);return SF(t,e),t}function CN(e){return e&&e.__esModule?e:{default:e}}function EN(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function _N(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function AN(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function TN(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var NF=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function PN(e){function t(a){e.error=e.hasError?new NF(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(c){return t(c),i()})}else r|=1}catch(c){t(c)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function RN(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,c){return r?t?".jsx":".js":i&&(!a||!c)?n:i+a+"."+c.toLowerCase()+"js"}):e}const kF={__extends:cN,__assign:cr,__rest:ni,__decorate:dN,__param:uN,__esDecorate:hN,__runInitializers:fN,__propKey:pN,__setFunctionName:mN,__metadata:gN,__awaiter:ze,__generator:xN,__createBinding:qu,__exportStar:yN,__values:vu,__read:m0,__spread:vN,__spreadArrays:bN,__spreadArray:g0,__await:ea,__asyncGenerator:wN,__asyncDelegator:jN,__asyncValues:SN,__makeTemplateObject:NN,__importStar:kN,__importDefault:CN,__classPrivateFieldGet:EN,__classPrivateFieldSet:_N,__classPrivateFieldIn:AN,__addDisposableResource:TN,__disposeResources:PN,__rewriteRelativeImportExtension:RN},CF=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:TN,get __assign(){return cr},__asyncDelegator:jN,__asyncGenerator:wN,__asyncValues:SN,__await:ea,__awaiter:ze,__classPrivateFieldGet:EN,__classPrivateFieldIn:AN,__classPrivateFieldSet:_N,__createBinding:qu,__decorate:dN,__disposeResources:PN,__esDecorate:hN,__exportStar:yN,__extends:cN,__generator:xN,__importDefault:CN,__importStar:kN,__makeTemplateObject:NN,__metadata:gN,__param:uN,__propKey:pN,__read:m0,__rest:ni,__rewriteRelativeImportExtension:RN,__runInitializers:fN,__setFunctionName:mN,__spread:vN,__spreadArray:g0,__spreadArrays:bN,__values:vu,default:kF},Symbol.toStringTag,{value:"Module"}));var Kd="right-scroll-bar-position",Yd="width-before-scroll-bar",EF="with-scroll-bars-hidden",_F="--removed-body-scroll-bar-size";function yp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function AF(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var TF=typeof window<"u"?g.useLayoutEffect:g.useEffect,Cw=new WeakMap;function PF(e,t){var n=AF(null,function(r){return e.forEach(function(i){return yp(i,r)})});return TF(function(){var r=Cw.get(n);if(r){var i=new Set(r),a=new Set(e),c=n.current;i.forEach(function(d){a.has(d)||yp(d,null)}),a.forEach(function(d){i.has(d)||yp(d,c)})}Cw.set(n,e)},[e]),n}function RF(e){return e}function DF(e,t){t===void 0&&(t=RF);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var c=t(a,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(a){for(r=!0;n.length;){var c=n;n=[],c.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(a),c=n}var u=function(){var p=c;c=[],p.forEach(a)},f=function(){return Promise.resolve().then(u)};f(),n={push:function(p){c.push(p),f()},filter:function(p){return c=c.filter(p),n}}}};return i}function OF(e){e===void 0&&(e={});var t=DF(null);return t.options=cr({async:!0,ssr:!1},e),t}var DN=function(e){var t=e.sideCar,n=ni(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,cr({},n))};DN.isSideCarExport=!0;function IF(e,t){return e.useMedium(t),DN}var ON=OF(),vp=function(){},Ku=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:vp,onWheelCapture:vp,onTouchMoveCapture:vp}),i=r[0],a=r[1],c=e.forwardProps,d=e.children,u=e.className,f=e.removeScrollBar,p=e.enabled,m=e.shards,y=e.sideCar,v=e.noRelative,b=e.noIsolation,j=e.inert,S=e.allowPinchZoom,N=e.as,_=N===void 0?"div":N,C=e.gapMode,E=ni(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=y,F=PF([n,t]),D=cr(cr({},E),i);return g.createElement(g.Fragment,null,p&&g.createElement(A,{sideCar:ON,removeScrollBar:f,shards:m,noRelative:v,noIsolation:b,inert:j,setCallbacks:a,allowPinchZoom:!!S,lockRef:n,gapMode:C}),c?g.cloneElement(g.Children.only(d),cr(cr({},D),{ref:F})):g.createElement(_,cr({},D,{className:u,ref:F}),d))});Ku.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ku.classNames={fullWidth:Yd,zeroRight:Kd};var FF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function MF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=FF();return t&&e.setAttribute("nonce",t),e}function $F(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function LF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var BF=function(){var e=0,t=null;return{add:function(n){e==0&&(t=MF())&&($F(t,n),LF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},zF=function(){var e=BF();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},IN=function(){var e=zF(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},WF={left:0,top:0,right:0,gap:0},bp=function(e){return parseInt(e||"",10)||0},VF=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[bp(n),bp(r),bp(i)]},UF=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return WF;var t=VF(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},HF=IN(),Uo="data-scroll-locked",GF=function(e,t,n,r){var i=e.left,a=e.top,c=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(EF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(Uo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kd,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Yd,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Kd," .").concat(Kd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yd," .").concat(Yd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Uo,`] {
    `).concat(_F,": ").concat(d,`px;
  }
`)},Ew=function(){var e=parseInt(document.body.getAttribute(Uo)||"0",10);return isFinite(e)?e:0},qF=function(){g.useEffect(function(){return document.body.setAttribute(Uo,(Ew()+1).toString()),function(){var e=Ew()-1;e<=0?document.body.removeAttribute(Uo):document.body.setAttribute(Uo,e.toString())}},[])},KF=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;qF();var a=g.useMemo(function(){return UF(i)},[i]);return g.createElement(HF,{styles:GF(a,!t,i,n?"":"!important")})},$m=!1;if(typeof window<"u")try{var wd=Object.defineProperty({},"passive",{get:function(){return $m=!0,!0}});window.addEventListener("test",wd,wd),window.removeEventListener("test",wd,wd)}catch{$m=!1}var wo=$m?{passive:!1}:!1,YF=function(e){return e.tagName==="TEXTAREA"},FN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!YF(e)&&n[t]==="visible")},XF=function(e){return FN(e,"overflowY")},QF=function(e){return FN(e,"overflowX")},_w=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=MN(e,r);if(i){var a=$N(e,r),c=a[1],d=a[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},JF=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ZF=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},MN=function(e,t){return e==="v"?XF(t):QF(t)},$N=function(e,t){return e==="v"?JF(t):ZF(t)},e8=function(e,t){return e==="h"&&t==="rtl"?-1:1},t8=function(e,t,n,r,i){var a=e8(e,window.getComputedStyle(t).direction),c=a*r,d=n.target,u=t.contains(d),f=!1,p=c>0,m=0,y=0;do{if(!d)break;var v=$N(e,d),b=v[0],j=v[1],S=v[2],N=j-S-a*b;(b||N)&&MN(e,d)&&(m+=N,y+=b);var _=d.parentNode;d=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!u&&d!==document.body||u&&(t.contains(d)||t===d));return(p&&Math.abs(m)<1||!p&&Math.abs(y)<1)&&(f=!0),f},jd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Aw=function(e){return[e.deltaX,e.deltaY]},Tw=function(e){return e&&"current"in e?e.current:e},n8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},r8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},s8=0,jo=[];function i8(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),i=g.useState(s8++)[0],a=g.useState(IN)[0],c=g.useRef(e);g.useEffect(function(){c.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var j=g0([e.lockRef.current],(e.shards||[]).map(Tw),!0).filter(Boolean);return j.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),j.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var d=g.useCallback(function(j,S){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!c.current.allowPinchZoom;var N=jd(j),_=n.current,C="deltaX"in j?j.deltaX:_[0]-N[0],E="deltaY"in j?j.deltaY:_[1]-N[1],A,F=j.target,D=Math.abs(C)>Math.abs(E)?"h":"v";if("touches"in j&&D==="h"&&F.type==="range")return!1;var O=_w(D,F);if(!O)return!0;if(O?A=D:(A=D==="v"?"h":"v",O=_w(D,F)),!O)return!1;if(!r.current&&"changedTouches"in j&&(C||E)&&(r.current=A),!A)return!0;var V=r.current||A;return t8(V,S,j,V==="h"?C:E)},[]),u=g.useCallback(function(j){var S=j;if(!(!jo.length||jo[jo.length-1]!==a)){var N="deltaY"in S?Aw(S):jd(S),_=t.current.filter(function(A){return A.name===S.type&&(A.target===S.target||S.target===A.shadowParent)&&n8(A.delta,N)})[0];if(_&&_.should){S.cancelable&&S.preventDefault();return}if(!_){var C=(c.current.shards||[]).map(Tw).filter(Boolean).filter(function(A){return A.contains(S.target)}),E=C.length>0?d(S,C[0]):!c.current.noIsolation;E&&S.cancelable&&S.preventDefault()}}},[]),f=g.useCallback(function(j,S,N,_){var C={name:j,delta:S,target:N,should:_,shadowParent:o8(N)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(E){return E!==C})},1)},[]),p=g.useCallback(function(j){n.current=jd(j),r.current=void 0},[]),m=g.useCallback(function(j){f(j.type,Aw(j),j.target,d(j,e.lockRef.current))},[]),y=g.useCallback(function(j){f(j.type,jd(j),j.target,d(j,e.lockRef.current))},[]);g.useEffect(function(){return jo.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",u,wo),document.addEventListener("touchmove",u,wo),document.addEventListener("touchstart",p,wo),function(){jo=jo.filter(function(j){return j!==a}),document.removeEventListener("wheel",u,wo),document.removeEventListener("touchmove",u,wo),document.removeEventListener("touchstart",p,wo)}},[]);var v=e.removeScrollBar,b=e.inert;return g.createElement(g.Fragment,null,b?g.createElement(a,{styles:r8(i)}):null,v?g.createElement(KF,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function o8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const a8=IF(ON,i8);var Yu=g.forwardRef(function(e,t){return g.createElement(Ku,cr({},e,{ref:t,sideCar:a8}))});Yu.classNames=Ku.classNames;var l8=[" ","Enter","ArrowUp","ArrowDown"],c8=[" ","Enter"],Hi="Select",[Xu,Qu,d8]=pO(Hi),[ua]=Yl(Hi,[d8,Hu]),Ju=Hu(),[u8,ri]=ua(Hi),[h8,f8]=ua(Hi),LN=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:c,defaultValue:d,onValueChange:u,dir:f,name:p,autoComplete:m,disabled:y,required:v,form:b}=e,j=Ju(t),[S,N]=g.useState(null),[_,C]=g.useState(null),[E,A]=g.useState(!1),F=gO(f),[D,O]=yu({prop:r,defaultProp:i??!1,onChange:a,caller:Hi}),[V,G]=yu({prop:c,defaultProp:d,onChange:u,caller:Hi}),ee=g.useRef(null),se=S?b||!!S.closest("form"):!0,[ie,J]=g.useState(new Set),$=Array.from(ie).map(L=>L.props.value).join(";");return s.jsx(sN,{...j,children:s.jsxs(u8,{required:v,scope:t,trigger:S,onTriggerChange:N,valueNode:_,onValueNodeChange:C,valueNodeHasChildren:E,onValueNodeHasChildrenChange:A,contentId:zi(),value:V,onValueChange:G,open:D,onOpenChange:O,dir:F,triggerPointerDownPosRef:ee,disabled:y,children:[s.jsx(Xu.Provider,{scope:t,children:s.jsx(h8,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(L=>{J(T=>new Set(T).add(L))},[]),onNativeOptionRemove:g.useCallback(L=>{J(T=>{const R=new Set(T);return R.delete(L),R})},[]),children:n})}),se?s.jsxs(ak,{"aria-hidden":!0,required:v,tabIndex:-1,name:p,autoComplete:m,value:V,onChange:L=>G(L.target.value),disabled:y,form:b,children:[V===void 0?s.jsx("option",{value:""}):null,Array.from(ie)]},$):null]})})};LN.displayName=Hi;var BN="SelectTrigger",zN=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=Ju(n),c=ri(BN,n),d=c.disabled||r,u=Bt(t,c.onTriggerChange),f=Qu(n),p=g.useRef("touch"),[m,y,v]=ck(j=>{const S=f().filter(C=>!C.disabled),N=S.find(C=>C.value===c.value),_=dk(S,j,N);_!==void 0&&c.onValueChange(_.value)}),b=j=>{d||(c.onOpenChange(!0),v()),j&&(c.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return s.jsx(f0,{asChild:!0,...a,children:s.jsx(Nt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":lk(c.value)?"":void 0,...i,ref:u,onClick:bt(i.onClick,j=>{j.currentTarget.focus(),p.current!=="mouse"&&b(j)}),onPointerDown:bt(i.onPointerDown,j=>{p.current=j.pointerType;const S=j.target;S.hasPointerCapture(j.pointerId)&&S.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(b(j),j.preventDefault())}),onKeyDown:bt(i.onKeyDown,j=>{const S=m.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&y(j.key),!(S&&j.key===" ")&&l8.includes(j.key)&&(b(),j.preventDefault())})})})});zN.displayName=BN;var WN="SelectValue",VN=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:c="",...d}=e,u=ri(WN,n),{onValueNodeHasChildrenChange:f}=u,p=a!==void 0,m=Bt(t,u.onValueNodeChange);return jn(()=>{f(p)},[f,p]),s.jsx(Nt.span,{...d,ref:m,style:{pointerEvents:"none"},children:lk(u.value)?s.jsx(s.Fragment,{children:c}):a})});VN.displayName=WN;var p8="SelectIcon",UN=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return s.jsx(Nt.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});UN.displayName=p8;var m8="SelectPortal",HN=e=>s.jsx(Gu,{asChild:!0,...e});HN.displayName=m8;var Gi="SelectContent",GN=g.forwardRef((e,t)=>{const n=ri(Gi,e.__scopeSelect),[r,i]=g.useState();if(jn(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?_r.createPortal(s.jsx(qN,{scope:e.__scopeSelect,children:s.jsx(Xu.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(KN,{...e,ref:t})});GN.displayName=Gi;var Cr=10,[qN,si]=ua(Gi),g8="SelectContentImpl",x8=lF("SelectContent.RemoveScroll"),KN=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:c,side:d,sideOffset:u,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:y,collisionPadding:v,sticky:b,hideWhenDetached:j,avoidCollisions:S,...N}=e,_=ri(Gi,n),[C,E]=g.useState(null),[A,F]=g.useState(null),D=Bt(t,q=>E(q)),[O,V]=g.useState(null),[G,ee]=g.useState(null),se=Qu(n),[ie,J]=g.useState(!1),$=g.useRef(!1);g.useEffect(()=>{if(C)return p0(C)},[C]),s0();const L=g.useCallback(q=>{const[le,...fe]=se().map(Te=>Te.ref.current),[ue]=fe.slice(-1),Ne=document.activeElement;for(const Te of q)if(Te===Ne||(Te?.scrollIntoView({block:"nearest"}),Te===le&&A&&(A.scrollTop=0),Te===ue&&A&&(A.scrollTop=A.scrollHeight),Te?.focus(),document.activeElement!==Ne))return},[se,A]),T=g.useCallback(()=>L([O,C]),[L,O,C]);g.useEffect(()=>{ie&&T()},[ie,T]);const{onOpenChange:R,triggerPointerDownPosRef:I}=_;g.useEffect(()=>{if(C){let q={x:0,y:0};const le=ue=>{q={x:Math.abs(Math.round(ue.pageX)-(I.current?.x??0)),y:Math.abs(Math.round(ue.pageY)-(I.current?.y??0))}},fe=ue=>{q.x<=10&&q.y<=10?ue.preventDefault():C.contains(ue.target)||R(!1),document.removeEventListener("pointermove",le),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",fe,{capture:!0})}}},[C,R,I]),g.useEffect(()=>{const q=()=>R(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[R]);const[W,B]=ck(q=>{const le=se().filter(Ne=>!Ne.disabled),fe=le.find(Ne=>Ne.ref.current===document.activeElement),ue=dk(le,q,fe);ue&&setTimeout(()=>ue.ref.current.focus())}),K=g.useCallback((q,le,fe)=>{const ue=!$.current&&!fe;(_.value!==void 0&&_.value===le||ue)&&(V(q),ue&&($.current=!0))},[_.value]),U=g.useCallback(()=>C?.focus(),[C]),Z=g.useCallback((q,le,fe)=>{const ue=!$.current&&!fe;(_.value!==void 0&&_.value===le||ue)&&ee(q)},[_.value]),H=r==="popper"?Lm:YN,ne=H===Lm?{side:d,sideOffset:u,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:y,collisionPadding:v,sticky:b,hideWhenDetached:j,avoidCollisions:S}:{};return s.jsx(qN,{scope:n,content:C,viewport:A,onViewportChange:F,itemRefCallback:K,selectedItem:O,onItemLeave:U,itemTextRefCallback:Z,focusSelectedItem:T,selectedItemText:G,position:r,isPositioned:ie,searchRef:W,children:s.jsx(Yu,{as:x8,allowPinchZoom:!0,children:s.jsx(Bu,{asChild:!0,trapped:_.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:bt(i,q=>{_.trigger?.focus({preventScroll:!0}),q.preventDefault()}),children:s.jsx(Lu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:s.jsx(H,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:q=>q.preventDefault(),...N,...ne,onPlaced:()=>J(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:bt(N.onKeyDown,q=>{const le=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!le&&q.key.length===1&&B(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let ue=se().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(q.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const Ne=q.target,Te=ue.indexOf(Ne);ue=ue.slice(Te+1)}setTimeout(()=>L(ue)),q.preventDefault()}})})})})})})});KN.displayName=g8;var y8="SelectItemAlignedPosition",YN=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=ri(Gi,n),c=si(Gi,n),[d,u]=g.useState(null),[f,p]=g.useState(null),m=Bt(t,D=>p(D)),y=Qu(n),v=g.useRef(!1),b=g.useRef(!0),{viewport:j,selectedItem:S,selectedItemText:N,focusSelectedItem:_}=c,C=g.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&f&&j&&S&&N){const D=a.trigger.getBoundingClientRect(),O=f.getBoundingClientRect(),V=a.valueNode.getBoundingClientRect(),G=N.getBoundingClientRect();if(a.dir!=="rtl"){const Ne=G.left-O.left,Te=V.left-Ne,Ze=D.left-Te,rt=D.width+Ze,he=Math.max(rt,O.width),Pe=window.innerWidth-Cr,ae=ow(Te,[Cr,Math.max(Cr,Pe-he)]);d.style.minWidth=rt+"px",d.style.left=ae+"px"}else{const Ne=O.right-G.right,Te=window.innerWidth-V.right-Ne,Ze=window.innerWidth-D.right-Te,rt=D.width+Ze,he=Math.max(rt,O.width),Pe=window.innerWidth-Cr,ae=ow(Te,[Cr,Math.max(Cr,Pe-he)]);d.style.minWidth=rt+"px",d.style.right=ae+"px"}const ee=y(),se=window.innerHeight-Cr*2,ie=j.scrollHeight,J=window.getComputedStyle(f),$=parseInt(J.borderTopWidth,10),L=parseInt(J.paddingTop,10),T=parseInt(J.borderBottomWidth,10),R=parseInt(J.paddingBottom,10),I=$+L+ie+R+T,W=Math.min(S.offsetHeight*5,I),B=window.getComputedStyle(j),K=parseInt(B.paddingTop,10),U=parseInt(B.paddingBottom,10),Z=D.top+D.height/2-Cr,H=se-Z,ne=S.offsetHeight/2,q=S.offsetTop+ne,le=$+L+q,fe=I-le;if(le<=Z){const Ne=ee.length>0&&S===ee[ee.length-1].ref.current;d.style.bottom="0px";const Te=f.clientHeight-j.offsetTop-j.offsetHeight,Ze=Math.max(H,ne+(Ne?U:0)+Te+T),rt=le+Ze;d.style.height=rt+"px"}else{const Ne=ee.length>0&&S===ee[0].ref.current;d.style.top="0px";const Ze=Math.max(Z,$+j.offsetTop+(Ne?K:0)+ne)+fe;d.style.height=Ze+"px",j.scrollTop=le-Z+j.offsetTop}d.style.margin=`${Cr}px 0`,d.style.minHeight=W+"px",d.style.maxHeight=se+"px",r?.(),requestAnimationFrame(()=>v.current=!0)}},[y,a.trigger,a.valueNode,d,f,j,S,N,a.dir,r]);jn(()=>C(),[C]);const[E,A]=g.useState();jn(()=>{f&&A(window.getComputedStyle(f).zIndex)},[f]);const F=g.useCallback(D=>{D&&b.current===!0&&(C(),_?.(),b.current=!1)},[C,_]);return s.jsx(b8,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:v,onScrollButtonChange:F,children:s.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:s.jsx(Nt.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});YN.displayName=y8;var v8="SelectPopperPosition",Lm=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Cr,...a}=e,c=Ju(n);return s.jsx(iN,{...c,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Lm.displayName=v8;var[b8,x0]=ua(Gi,{}),Bm="SelectViewport",XN=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=si(Bm,n),c=x0(Bm,n),d=Bt(t,a.onViewportChange),u=g.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Xu.Slot,{scope:n,children:s.jsx(Nt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:bt(i.onScroll,f=>{const p=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=c;if(y?.current&&m){const v=Math.abs(u.current-p.scrollTop);if(v>0){const b=window.innerHeight-Cr*2,j=parseFloat(m.style.minHeight),S=parseFloat(m.style.height),N=Math.max(j,S);if(N<b){const _=N+v,C=Math.min(b,_),E=_-C;m.style.height=C+"px",m.style.bottom==="0px"&&(p.scrollTop=E>0?E:0,m.style.justifyContent="flex-end")}}}u.current=p.scrollTop})})})]})});XN.displayName=Bm;var QN="SelectGroup",[w8,j8]=ua(QN),S8=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=zi();return s.jsx(w8,{scope:n,id:i,children:s.jsx(Nt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});S8.displayName=QN;var JN="SelectLabel",N8=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=j8(JN,n);return s.jsx(Nt.div,{id:i.id,...r,ref:t})});N8.displayName=JN;var bu="SelectItem",[k8,ZN]=ua(bu),ek=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...c}=e,d=ri(bu,n),u=si(bu,n),f=d.value===r,[p,m]=g.useState(a??""),[y,v]=g.useState(!1),b=Bt(t,_=>u.itemRefCallback?.(_,r,i)),j=zi(),S=g.useRef("touch"),N=()=>{i||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(k8,{scope:n,value:r,disabled:i,textId:j,isSelected:f,onItemTextChange:g.useCallback(_=>{m(C=>C||(_?.textContent??"").trim())},[]),children:s.jsx(Xu.ItemSlot,{scope:n,value:r,disabled:i,textValue:p,children:s.jsx(Nt.div,{role:"option","aria-labelledby":j,"data-highlighted":y?"":void 0,"aria-selected":f&&y,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...c,ref:b,onFocus:bt(c.onFocus,()=>v(!0)),onBlur:bt(c.onBlur,()=>v(!1)),onClick:bt(c.onClick,()=>{S.current!=="mouse"&&N()}),onPointerUp:bt(c.onPointerUp,()=>{S.current==="mouse"&&N()}),onPointerDown:bt(c.onPointerDown,_=>{S.current=_.pointerType}),onPointerMove:bt(c.onPointerMove,_=>{S.current=_.pointerType,i?u.onItemLeave?.():S.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:bt(c.onPointerLeave,_=>{_.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:bt(c.onKeyDown,_=>{u.searchRef?.current!==""&&_.key===" "||(c8.includes(_.key)&&N(),_.key===" "&&_.preventDefault())})})})})});ek.displayName=bu;var ol="SelectItemText",tk=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,c=ri(ol,n),d=si(ol,n),u=ZN(ol,n),f=f8(ol,n),[p,m]=g.useState(null),y=Bt(t,N=>m(N),u.onItemTextChange,N=>d.itemTextRefCallback?.(N,u.value,u.disabled)),v=p?.textContent,b=g.useMemo(()=>s.jsx("option",{value:u.value,disabled:u.disabled,children:v},u.value),[u.disabled,u.value,v]),{onNativeOptionAdd:j,onNativeOptionRemove:S}=f;return jn(()=>(j(b),()=>S(b)),[j,S,b]),s.jsxs(s.Fragment,{children:[s.jsx(Nt.span,{id:u.textId,...a,ref:y}),u.isSelected&&c.valueNode&&!c.valueNodeHasChildren?_r.createPortal(a.children,c.valueNode):null]})});tk.displayName=ol;var nk="SelectItemIndicator",rk=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return ZN(nk,n).isSelected?s.jsx(Nt.span,{"aria-hidden":!0,...r,ref:t}):null});rk.displayName=nk;var zm="SelectScrollUpButton",sk=g.forwardRef((e,t)=>{const n=si(zm,e.__scopeSelect),r=x0(zm,e.__scopeSelect),[i,a]=g.useState(!1),c=Bt(t,r.onScrollButtonChange);return jn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const f=u.scrollTop>0;a(f)};const u=n.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?s.jsx(ok,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=n;d&&u&&(d.scrollTop=d.scrollTop-u.offsetHeight)}}):null});sk.displayName=zm;var Wm="SelectScrollDownButton",ik=g.forwardRef((e,t)=>{const n=si(Wm,e.__scopeSelect),r=x0(Wm,e.__scopeSelect),[i,a]=g.useState(!1),c=Bt(t,r.onScrollButtonChange);return jn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const f=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<f;a(p)};const u=n.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?s.jsx(ok,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=n;d&&u&&(d.scrollTop=d.scrollTop+u.offsetHeight)}}):null});ik.displayName=Wm;var ok=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=si("SelectScrollButton",n),c=g.useRef(null),d=Qu(n),u=g.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return g.useEffect(()=>()=>u(),[u]),jn(()=>{d().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),s.jsx(Nt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:bt(i.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:bt(i.onPointerMove,()=>{a.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:bt(i.onPointerLeave,()=>{u()})})}),C8="SelectSeparator",E8=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Nt.div,{"aria-hidden":!0,...r,ref:t})});E8.displayName=C8;var Vm="SelectArrow",_8=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Ju(n),a=ri(Vm,n),c=si(Vm,n);return a.open&&c.position==="popper"?s.jsx(oN,{...i,...r,ref:t}):null});_8.displayName=Vm;var A8="SelectBubbleInput",ak=g.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=g.useRef(null),a=Bt(r,i),c=xF(t);return g.useEffect(()=>{const d=i.current;if(!d)return;const u=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(c!==t&&p){const m=new Event("change",{bubbles:!0});p.call(d,t),d.dispatchEvent(m)}},[c,t]),s.jsx(Nt.select,{...n,style:{...aN,...n.style},ref:a,defaultValue:t})});ak.displayName=A8;function lk(e){return e===""||e===void 0}function ck(e){const t=Vi(e),n=g.useRef(""),r=g.useRef(0),i=g.useCallback(c=>{const d=n.current+c;t(d),(function u(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>u(""),1e3))})(d)},[t]),a=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function dk(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let c=T8(e,Math.max(a,0));i.length===1&&(c=c.filter(f=>f!==n));const u=c.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function T8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var P8=LN,R8=zN,D8=VN,O8=UN,I8=HN,F8=GN,M8=XN,$8=ek,L8=tk,B8=rk,z8=sk,W8=ik;function V8({...e}){return s.jsx(P8,{"data-slot":"select",...e})}function U8({...e}){return s.jsx(D8,{"data-slot":"select-value",...e})}function H8({className:e,size:t="default",children:n,...r}){return s.jsxs(R8,{"data-slot":"select-trigger","data-size":t,className:wn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,s.jsx(O8,{asChild:!0,children:s.jsx(pr,{className:"size-4 opacity-50"})})]})}function G8({className:e,children:t,position:n="popper",...r}){return s.jsx(I8,{children:s.jsxs(F8,{"data-slot":"select-content",className:wn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(K8,{}),s.jsx(M8,{className:wn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(Y8,{})]})})}function q8({className:e,children:t,...n}){return s.jsxs($8,{"data-slot":"select-item",className:wn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(B8,{children:s.jsx(Gl,{className:"size-4"})})}),s.jsx(L8,{children:t})]})}function K8({className:e,...t}){return s.jsx(z8,{"data-slot":"select-scroll-up-button",className:wn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ou,{className:"size-4"})})}function Y8({className:e,...t}){return s.jsx(W8,{"data-slot":"select-scroll-down-button",className:wn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(pr,{className:"size-4"})})}function X8(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const Q8=e=>{switch(e){case"success":return eM;case"info":return nM;case"warning":return tM;case"error":return rM;default:return null}},J8=Array(12).fill(0),Z8=({visible:e,className:t})=>me.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},me.createElement("div",{className:"sonner-spinner"},J8.map((n,r)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),eM=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),tM=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nM=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),rM=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),sM=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),iM=()=>{const[e,t]=me.useState(document.hidden);return me.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let Um=1;class oM{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...i}=t,a=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Um++,c=this.toasts.find(u=>u.id===a),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),c?this.toasts=this.toasts.map(u=>u.id===a?(this.publish({...u,...t,id:a,title:r}),{...u,...t,id:a,dismissible:d,title:r}):u):this.addToast({title:r,...i,dismissible:d,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,c;const d=i.then(async f=>{if(c=["resolve",f],me.isValidElement(f))a=!1,this.create({id:r,type:"default",message:f});else if(lM(f)&&!f.ok){a=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,y=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,b=typeof m=="object"&&!me.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:y,...b})}else if(f instanceof Error){a=!1;const m=typeof n.error=="function"?await n.error(f):n.error,y=typeof n.description=="function"?await n.description(f):n.description,b=typeof m=="object"&&!me.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:y,...b})}else if(n.success!==void 0){a=!1;const m=typeof n.success=="function"?await n.success(f):n.success,y=typeof n.description=="function"?await n.description(f):n.description,b=typeof m=="object"&&!me.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:y,...b})}}).catch(async f=>{if(c=["reject",f],n.error!==void 0){a=!1;const p=typeof n.error=="function"?await n.error(f):n.error,m=typeof n.description=="function"?await n.description(f):n.description,v=typeof p=="object"&&!me.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:m,...v})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((f,p)=>d.then(()=>c[0]==="reject"?p(c[1]):f(c[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(t,n)=>{const r=n?.id||Um++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const In=new oM,aM=(e,t)=>{const n=t?.id||Um++;return In.addToast({title:e,...t,id:n}),n},lM=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",cM=aM,dM=()=>In.toasts,uM=()=>In.getActiveToasts(),ce=Object.assign(cM,{success:In.success,info:In.info,warning:In.warning,error:In.error,custom:In.custom,message:In.message,promise:In.promise,dismiss:In.dismiss,loading:In.loading},{getHistory:dM,getToasts:uM});X8("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Sd(e){return e.label!==void 0}const hM=3,fM="24px",pM="16px",Pw=4e3,mM=356,gM=14,xM=45,yM=200;function Vr(...e){return e.filter(Boolean).join(" ")}function vM(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const bM=e=>{var t,n,r,i,a,c,d,u,f;const{invert:p,toast:m,unstyled:y,interacting:v,setHeights:b,visibleToasts:j,heights:S,index:N,toasts:_,expanded:C,removeToast:E,defaultRichColors:A,closeButton:F,style:D,cancelButtonStyle:O,actionButtonStyle:V,className:G="",descriptionClassName:ee="",duration:se,position:ie,gap:J,expandByDefault:$,classNames:L,icons:T,closeButtonAriaLabel:R="Close toast"}=e,[I,W]=me.useState(null),[B,K]=me.useState(null),[U,Z]=me.useState(!1),[H,ne]=me.useState(!1),[q,le]=me.useState(!1),[fe,ue]=me.useState(!1),[Ne,Te]=me.useState(!1),[Ze,rt]=me.useState(0),[he,Pe]=me.useState(0),ae=me.useRef(m.duration||se||Pw),pe=me.useRef(null),ke=me.useRef(null),xe=N===0,Ye=N+1<=j,it=m.type,Tt=m.dismissible!==!1,tt=m.className||"",mt=m.descriptionClassName||"",ct=me.useMemo(()=>S.findIndex(Oe=>Oe.toastId===m.id)||0,[S,m.id]),Y=me.useMemo(()=>{var Oe;return(Oe=m.closeButton)!=null?Oe:F},[m.closeButton,F]),Ee=me.useMemo(()=>m.duration||se||Pw,[m.duration,se]),we=me.useRef(0),We=me.useRef(0),nt=me.useRef(0),ut=me.useRef(null),[un,Gt]=ie.split("-"),Xn=me.useMemo(()=>S.reduce((Oe,de,Ce)=>Ce>=ct?Oe:Oe+de.height,0),[S,ct]),dt=iM(),Sn=m.invert||p,$n=it==="loading";We.current=me.useMemo(()=>ct*J+Xn,[ct,Xn]),me.useEffect(()=>{ae.current=Ee},[Ee]),me.useEffect(()=>{Z(!0)},[]),me.useEffect(()=>{const Oe=ke.current;if(Oe){const de=Oe.getBoundingClientRect().height;return Pe(de),b(Ce=>[{toastId:m.id,height:de,position:m.position},...Ce]),()=>b(Ce=>Ce.filter(De=>De.toastId!==m.id))}},[b,m.id]),me.useLayoutEffect(()=>{if(!U)return;const Oe=ke.current,de=Oe.style.height;Oe.style.height="auto";const Ce=Oe.getBoundingClientRect().height;Oe.style.height=de,Pe(Ce),b(De=>De.find(Xe=>Xe.toastId===m.id)?De.map(Xe=>Xe.toastId===m.id?{...Xe,height:Ce}:Xe):[{toastId:m.id,height:Ce,position:m.position},...De])},[U,m.title,m.description,b,m.id,m.jsx,m.action,m.cancel]);const kt=me.useCallback(()=>{ne(!0),rt(We.current),b(Oe=>Oe.filter(de=>de.toastId!==m.id)),setTimeout(()=>{E(m)},yM)},[m,E,b,We]);me.useEffect(()=>{if(m.promise&&it==="loading"||m.duration===1/0||m.type==="loading")return;let Oe;return C||v||dt?(()=>{if(nt.current<we.current){const De=new Date().getTime()-we.current;ae.current=ae.current-De}nt.current=new Date().getTime()})():(()=>{ae.current!==1/0&&(we.current=new Date().getTime(),Oe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),kt()},ae.current))})(),()=>clearTimeout(Oe)},[C,v,m,it,dt,kt]),me.useEffect(()=>{m.delete&&(kt(),m.onDismiss==null||m.onDismiss.call(m,m))},[kt,m.delete]);function mr(){var Oe;if(T?.loading){var de;return me.createElement("div",{className:Vr(L?.loader,m==null||(de=m.classNames)==null?void 0:de.loader,"sonner-loader"),"data-visible":it==="loading"},T.loading)}return me.createElement(Z8,{className:Vr(L?.loader,m==null||(Oe=m.classNames)==null?void 0:Oe.loader),visible:it==="loading"})}const Xt=m.icon||T?.[it]||Q8(it);var gt,wt;return me.createElement("li",{tabIndex:0,ref:ke,className:Vr(G,tt,L?.toast,m==null||(t=m.classNames)==null?void 0:t.toast,L?.default,L?.[it],m==null||(n=m.classNames)==null?void 0:n[it]),"data-sonner-toast":"","data-rich-colors":(gt=m.richColors)!=null?gt:A,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":U,"data-promise":!!m.promise,"data-swiped":Ne,"data-removed":H,"data-visible":Ye,"data-y-position":un,"data-x-position":Gt,"data-index":N,"data-front":xe,"data-swiping":q,"data-dismissible":Tt,"data-type":it,"data-invert":Sn,"data-swipe-out":fe,"data-swipe-direction":B,"data-expanded":!!(C||$&&U),"data-testid":m.testId,style:{"--index":N,"--toasts-before":N,"--z-index":_.length-N,"--offset":`${H?Ze:We.current}px`,"--initial-height":$?"auto":`${he}px`,...D,...m.style},onDragEnd:()=>{le(!1),W(null),ut.current=null},onPointerDown:Oe=>{Oe.button!==2&&($n||!Tt||(pe.current=new Date,rt(We.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(le(!0),ut.current={x:Oe.clientX,y:Oe.clientY})))},onPointerUp:()=>{var Oe,de,Ce;if(fe||!Tt)return;ut.current=null;const De=Number(((Oe=ke.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),st=Number(((de=ke.current)==null?void 0:de.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Xe=new Date().getTime()-((Ce=pe.current)==null?void 0:Ce.getTime()),qe=I==="x"?De:st,ht=Math.abs(qe)/Xe;if(Math.abs(qe)>=xM||ht>.11){rt(We.current),m.onDismiss==null||m.onDismiss.call(m,m),K(I==="x"?De>0?"right":"left":st>0?"down":"up"),kt(),ue(!0);return}else{var at,vt;(at=ke.current)==null||at.style.setProperty("--swipe-amount-x","0px"),(vt=ke.current)==null||vt.style.setProperty("--swipe-amount-y","0px")}Te(!1),le(!1),W(null)},onPointerMove:Oe=>{var de,Ce,De;if(!ut.current||!Tt||((de=window.getSelection())==null?void 0:de.toString().length)>0)return;const Xe=Oe.clientY-ut.current.y,qe=Oe.clientX-ut.current.x;var ht;const at=(ht=e.swipeDirections)!=null?ht:vM(ie);!I&&(Math.abs(qe)>1||Math.abs(Xe)>1)&&W(Math.abs(qe)>Math.abs(Xe)?"x":"y");let vt={x:0,y:0};const ge=Ae=>1/(1.5+Math.abs(Ae)/20);if(I==="y"){if(at.includes("top")||at.includes("bottom"))if(at.includes("top")&&Xe<0||at.includes("bottom")&&Xe>0)vt.y=Xe;else{const Ae=Xe*ge(Xe);vt.y=Math.abs(Ae)<Math.abs(Xe)?Ae:Xe}}else if(I==="x"&&(at.includes("left")||at.includes("right")))if(at.includes("left")&&qe<0||at.includes("right")&&qe>0)vt.x=qe;else{const Ae=qe*ge(qe);vt.x=Math.abs(Ae)<Math.abs(qe)?Ae:qe}(Math.abs(vt.x)>0||Math.abs(vt.y)>0)&&Te(!0),(Ce=ke.current)==null||Ce.style.setProperty("--swipe-amount-x",`${vt.x}px`),(De=ke.current)==null||De.style.setProperty("--swipe-amount-y",`${vt.y}px`)}},Y&&!m.jsx&&it!=="loading"?me.createElement("button",{"aria-label":R,"data-disabled":$n,"data-close-button":!0,onClick:$n||!Tt?()=>{}:()=>{kt(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Vr(L?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(wt=T?.close)!=null?wt:sM):null,(it||m.icon||m.promise)&&m.icon!==null&&(T?.[it]!==null||m.icon)?me.createElement("div",{"data-icon":"",className:Vr(L?.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||mr():null,m.type!=="loading"?Xt:null):null,me.createElement("div",{"data-content":"",className:Vr(L?.content,m==null||(a=m.classNames)==null?void 0:a.content)},me.createElement("div",{"data-title":"",className:Vr(L?.title,m==null||(c=m.classNames)==null?void 0:c.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?me.createElement("div",{"data-description":"",className:Vr(ee,mt,L?.description,m==null||(d=m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),me.isValidElement(m.cancel)?m.cancel:m.cancel&&Sd(m.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||O,onClick:Oe=>{Sd(m.cancel)&&Tt&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Oe),kt())},className:Vr(L?.cancelButton,m==null||(u=m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,me.isValidElement(m.action)?m.action:m.action&&Sd(m.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||V,onClick:Oe=>{Sd(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Oe),!Oe.defaultPrevented&&kt())},className:Vr(L?.actionButton,m==null||(f=m.classNames)==null?void 0:f.actionButton)},m.action.label):null)};function Rw(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function wM(e,t){const n={};return[e,t].forEach((r,i)=>{const a=i===1,c=a?"--mobile-offset":"--offset",d=a?pM:fM;function u(f){["top","right","bottom","left"].forEach(p=>{n[`${c}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${c}-${f}`]=d:n[`${c}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):u(d)}),n}const jM=me.forwardRef(function(t,n){const{id:r,invert:i,position:a="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:u,className:f,offset:p,mobileOffset:m,theme:y="light",richColors:v,duration:b,style:j,visibleToasts:S=hM,toastOptions:N,dir:_=Rw(),gap:C=gM,icons:E,containerAriaLabel:A="Notifications"}=t,[F,D]=me.useState([]),O=me.useMemo(()=>r?F.filter(U=>U.toasterId===r):F.filter(U=>!U.toasterId),[F,r]),V=me.useMemo(()=>Array.from(new Set([a].concat(O.filter(U=>U.position).map(U=>U.position)))),[O,a]),[G,ee]=me.useState([]),[se,ie]=me.useState(!1),[J,$]=me.useState(!1),[L,T]=me.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=me.useRef(null),I=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),W=me.useRef(null),B=me.useRef(!1),K=me.useCallback(U=>{D(Z=>{var H;return(H=Z.find(ne=>ne.id===U.id))!=null&&H.delete||In.dismiss(U.id),Z.filter(({id:ne})=>ne!==U.id)})},[]);return me.useEffect(()=>In.subscribe(U=>{if(U.dismiss){requestAnimationFrame(()=>{D(Z=>Z.map(H=>H.id===U.id?{...H,delete:!0}:H))});return}setTimeout(()=>{vj.flushSync(()=>{D(Z=>{const H=Z.findIndex(ne=>ne.id===U.id);return H!==-1?[...Z.slice(0,H),{...Z[H],...U},...Z.slice(H+1)]:[U,...Z]})})})}),[F]),me.useEffect(()=>{if(y!=="system"){T(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?T("dark"):T("light")),typeof window>"u")return;const U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:Z})=>{T(Z?"dark":"light")})}catch{U.addListener(({matches:H})=>{try{T(H?"dark":"light")}catch(ne){console.error(ne)}})}},[y]),me.useEffect(()=>{F.length<=1&&ie(!1)},[F]),me.useEffect(()=>{const U=Z=>{var H;if(c.every(le=>Z[le]||Z.code===le)){var q;ie(!0),(q=R.current)==null||q.focus()}Z.code==="Escape"&&(document.activeElement===R.current||(H=R.current)!=null&&H.contains(document.activeElement))&&ie(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[c]),me.useEffect(()=>{if(R.current)return()=>{W.current&&(W.current.focus({preventScroll:!0}),W.current=null,B.current=!1)}},[R.current]),me.createElement("section",{ref:n,"aria-label":`${A} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((U,Z)=>{var H;const[ne,q]=U.split("-");return O.length?me.createElement("ol",{key:U,dir:_==="auto"?Rw():_,tabIndex:-1,ref:R,className:f,"data-sonner-toaster":!0,"data-sonner-theme":L,"data-y-position":ne,"data-x-position":q,style:{"--front-toast-height":`${((H=G[0])==null?void 0:H.height)||0}px`,"--width":`${mM}px`,"--gap":`${C}px`,...j,...wM(p,m)},onBlur:le=>{B.current&&!le.currentTarget.contains(le.relatedTarget)&&(B.current=!1,W.current&&(W.current.focus({preventScroll:!0}),W.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||B.current||(B.current=!0,W.current=le.relatedTarget)},onMouseEnter:()=>ie(!0),onMouseMove:()=>ie(!0),onMouseLeave:()=>{J||ie(!1)},onDragEnd:()=>ie(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},O.filter(le=>!le.position&&Z===0||le.position===U).map((le,fe)=>{var ue,Ne;return me.createElement(bM,{key:le.id,icons:E,index:fe,toast:le,defaultRichColors:v,duration:(ue=N?.duration)!=null?ue:b,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:i,visibleToasts:S,closeButton:(Ne=N?.closeButton)!=null?Ne:u,interacting:J,position:U,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:K,toasts:O.filter(Te=>Te.position==le.position),heights:G.filter(Te=>Te.position==le.position),setHeights:ee,expandByDefault:d,gap:C,expanded:se,swipeDirections:t.swipeDirections})})):null}))}),Ge="ooxinxuphknbfhbancgs",En="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9veGlueHVwaGtuYmZoYmFuY2dzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MDExMTQsImV4cCI6MjA3NDM3NzExNH0.lrbSZb3DTTWBkX3skjOHZ7N_WC_5YURB0ncDHFrwEzY",SM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class y0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class NM extends y0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Dw extends y0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ow extends y0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hm||(Hm={}));class kM{constructor(t,{headers:n={},customFetch:r,region:i=Hm.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=SM(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ze(this,arguments,void 0,function*(n,r={}){var i;let a,c;try{const{headers:d,method:u,body:f,signal:p,timeout:m}=r;let y={},{region:v}=r;v||(v=this.region);const b=new URL(`${this.url}/${n}`);v&&v!=="any"&&(y["x-region"]=v,b.searchParams.set("forceFunctionRegion",v));let j;f&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",j=f):typeof f=="string"?(y["Content-Type"]="text/plain",j=f):typeof FormData<"u"&&f instanceof FormData?j=f:(y["Content-Type"]="application/json",j=JSON.stringify(f)):j=f;let S=p;m&&(c=new AbortController,a=setTimeout(()=>c.abort(),m),p?(S=c.signal,p.addEventListener("abort",()=>c.abort())):S=c.signal);const N=yield this.fetch(b.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),d),body:j,signal:S}).catch(A=>{throw new NM(A)}),_=N.headers.get("x-relay-error");if(_&&_==="true")throw new Dw(N);if(!N.ok)throw new Ow(N);let C=((i=N.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return C==="application/json"?E=yield N.json():C==="application/octet-stream"||C==="application/pdf"?E=yield N.blob():C==="text/event-stream"?E=N:C==="multipart/form-data"?E=yield N.formData():E=yield N.text(),{data:E,error:null,response:N}}catch(d){return{data:null,error:d,response:d instanceof Ow||d instanceof Dw?d.context:void 0}}finally{a&&clearTimeout(a)}})}}var gn={};const ha=R5(CF);var Nd={},kd={},Cd={},Ed={},_d={},Ad={},Iw;function uk(){if(Iw)return Ad;Iw=1,Object.defineProperty(Ad,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ad.default=e,Ad}var Fw;function hk(){if(Fw)return _d;Fw=1,Object.defineProperty(_d,"__esModule",{value:!0});const t=ha.__importDefault(uk());class n{constructor(i){var a,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,p,m,y;let v=null,b=null,j=null,S=u.status,N=u.statusText;if(u.ok){if(this.method!=="HEAD"){const A=await u.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?b=A:b=JSON.parse(A))}const C=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),E=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");C&&E&&E.length>1&&(j=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(v={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,j=null,S=406,N="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const C=await u.text();try{v=JSON.parse(C),Array.isArray(v)&&u.status===404&&(b=[],v=null,S=200,N="OK")}catch{u.status===404&&C===""?(S=204,N="No Content"):v={message:C}}if(v&&this.isMaybeSingle&&(!((y=v?.details)===null||y===void 0)&&y.includes("0 rows"))&&(v=null,S=200,N="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:b,count:j,status:S,statusText:N}});return this.shouldThrowOnError||(d=d.catch(u=>{var f,p,m;return{error:{message:`${(f=u?.name)!==null&&f!==void 0?f:"FetchError"}: ${u?.message}`,details:`${(p=u?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(m=u?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),d.then(i,a)}returns(){return this}overrideTypes(){return this}}return _d.default=n,_d}var Mw;function fk(){if(Mw)return Ed;Mw=1,Object.defineProperty(Ed,"__esModule",{value:!0});const t=ha.__importDefault(hk());class n extends t.default{select(i){let a=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:c,foreignTable:d,referencedTable:u=d}={}){const f=u?`${u}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${i}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:c=a}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,a,{foreignTable:c,referencedTable:d=c}={}){const u=typeof d>"u"?"offset":`${d}.offset`,f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:c=!1,buffers:d=!1,wal:u=!1,format:f="text"}={}){var p;const m=[i?"analyze":null,a?"verbose":null,c?"settings":null,d?"buffers":null,u?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Ed.default=n,Ed}var $w;function v0(){if($w)return Cd;$w=1,Object.defineProperty(Cd,"__esModule",{value:!0});const t=ha.__importDefault(fk()),n=new RegExp("[,()]");class r extends t.default{eq(a,c){return this.url.searchParams.append(a,`eq.${c}`),this}neq(a,c){return this.url.searchParams.append(a,`neq.${c}`),this}gt(a,c){return this.url.searchParams.append(a,`gt.${c}`),this}gte(a,c){return this.url.searchParams.append(a,`gte.${c}`),this}lt(a,c){return this.url.searchParams.append(a,`lt.${c}`),this}lte(a,c){return this.url.searchParams.append(a,`lte.${c}`),this}like(a,c){return this.url.searchParams.append(a,`like.${c}`),this}likeAllOf(a,c){return this.url.searchParams.append(a,`like(all).{${c.join(",")}}`),this}likeAnyOf(a,c){return this.url.searchParams.append(a,`like(any).{${c.join(",")}}`),this}ilike(a,c){return this.url.searchParams.append(a,`ilike.${c}`),this}ilikeAllOf(a,c){return this.url.searchParams.append(a,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(a,c){return this.url.searchParams.append(a,`ilike(any).{${c.join(",")}}`),this}is(a,c){return this.url.searchParams.append(a,`is.${c}`),this}in(a,c){const d=Array.from(new Set(c)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cs.{${c.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(c)}`),this}containedBy(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cd.{${c.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(c)}`),this}rangeGt(a,c){return this.url.searchParams.append(a,`sr.${c}`),this}rangeGte(a,c){return this.url.searchParams.append(a,`nxl.${c}`),this}rangeLt(a,c){return this.url.searchParams.append(a,`sl.${c}`),this}rangeLte(a,c){return this.url.searchParams.append(a,`nxr.${c}`),this}rangeAdjacent(a,c){return this.url.searchParams.append(a,`adj.${c}`),this}overlaps(a,c){return typeof c=="string"?this.url.searchParams.append(a,`ov.${c}`):this.url.searchParams.append(a,`ov.{${c.join(",")}}`),this}textSearch(a,c,{config:d,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const p=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${f}fts${p}.${c}`),this}match(a){return Object.entries(a).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(a,c,d){return this.url.searchParams.append(a,`not.${c}.${d}`),this}or(a,{foreignTable:c,referencedTable:d=c}={}){const u=d?`${d}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,c,d){return this.url.searchParams.append(a,`${c}.${d}`),this}}return Cd.default=r,Cd}var Lw;function pk(){if(Lw)return kd;Lw=1,Object.defineProperty(kd,"__esModule",{value:!0});const t=ha.__importDefault(v0());class n{constructor(i,{headers:a={},schema:c,fetch:d}){this.url=i,this.headers=new Headers(a),this.schema=c,this.fetch=d}select(i,a){const{head:c=!1,count:d}=a??{},u=c?"HEAD":"GET";let f=!1;const p=(i??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",p),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:c=!0}={}){var d;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:c=!1,count:d,defaultToNull:u=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(m.length>0){const y=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var c;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var a;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return kd.default=n,kd}var Bw;function CM(){if(Bw)return Nd;Bw=1,Object.defineProperty(Nd,"__esModule",{value:!0});const e=ha,t=e.__importDefault(pk()),n=e.__importDefault(v0());class r{constructor(a,{headers:c={},schema:d,fetch:u}={}){this.url=a,this.headers=new Headers(c),this.schemaName=d,this.fetch=u}from(a){const c=new URL(`${this.url}/${a}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,c={},{head:d=!1,get:u=!1,count:f}={}){var p;let m;const y=new URL(`${this.url}/rpc/${a}`);let v;d||u?(m=d?"HEAD":"GET",Object.entries(c).filter(([j,S])=>S!==void 0).map(([j,S])=>[j,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([j,S])=>{y.searchParams.append(j,S)})):(m="POST",v=c);const b=new Headers(this.headers);return f&&b.set("Prefer",`count=${f}`),new n.default({method:m,url:y,headers:b,schema:this.schemaName,body:v,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Nd.default=r,Nd}var zw;function EM(){if(zw)return gn;zw=1,Object.defineProperty(gn,"__esModule",{value:!0}),gn.PostgrestError=gn.PostgrestBuilder=gn.PostgrestTransformBuilder=gn.PostgrestFilterBuilder=gn.PostgrestQueryBuilder=gn.PostgrestClient=void 0;const e=ha,t=e.__importDefault(CM());gn.PostgrestClient=t.default;const n=e.__importDefault(pk());gn.PostgrestQueryBuilder=n.default;const r=e.__importDefault(v0());gn.PostgrestFilterBuilder=r.default;const i=e.__importDefault(fk());gn.PostgrestTransformBuilder=i.default;const a=e.__importDefault(hk());gn.PostgrestBuilder=a.default;const c=e.__importDefault(uk());return gn.PostgrestError=c.default,gn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:c.default},gn}var mk=EM();const gk=Ru(mk),_M=Z1({__proto__:null,default:gk},[mk]),{PostgrestClient:AM,PostgrestQueryBuilder:LV,PostgrestFilterBuilder:BV,PostgrestTransformBuilder:zV,PostgrestBuilder:WV,PostgrestError:VV}=gk||_M;class TM{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const PM="2.81.1",RM=`realtime-js/${PM}`,xk="1.0.0",DM="2.0.0",Ww=xk,Gm=1e4,OM=1e3,IM=100;var Ti;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ti||(Ti={}));var en;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(en||(en={}));var ar;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ar||(ar={}));var qm;(function(e){e.websocket="websocket"})(qm||(qm={}));var Pi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Pi||(Pi={}));class FM{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,n){if(this._isArrayBuffer(t.payload))return n(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodePush(t){const{join_ref:n,ref:r,event:i,topic:a,payload:c}=t,d=this.META_LENGTH+n.length+r.length+a.length+i.length,u=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(u),p=0;f.setUint8(p++,this.KINDS.push),f.setUint8(p++,n.length),f.setUint8(p++,r.length),f.setUint8(p++,a.length),f.setUint8(p++,i.length),Array.from(n,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(r,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(a,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(i,y=>f.setUint8(p++,y.charCodeAt(0)));var m=new Uint8Array(u.byteLength+c.byteLength);return m.set(new Uint8Array(u),0),m.set(new Uint8Array(c),u.byteLength),m.buffer}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const{join_ref:i,ref:a,topic:c}=t,d=t.payload.event,u=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+c.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(p),y=0;m.setUint8(y++,this.KINDS.userBroadcastPush),m.setUint8(y++,i.length),m.setUint8(y++,a.length),m.setUint8(y++,c.length),m.setUint8(y++,d.length),m.setUint8(y++,this.BINARY_ENCODING),Array.from(i,b=>m.setUint8(y++,b.charCodeAt(0))),Array.from(a,b=>m.setUint8(y++,b.charCodeAt(0))),Array.from(c,b=>m.setUint8(y++,b.charCodeAt(0))),Array.from(d,b=>m.setUint8(y++,b.charCodeAt(0)));var v=new Uint8Array(p.byteLength+u.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(u),p.byteLength),v.buffer}_encodeJsonUserBroadcastPush(t){var n,r;const{join_ref:i,ref:a,topic:c}=t,d=t.payload.event,u=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},p=new TextEncoder().encode(JSON.stringify(u)).buffer,m=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+c.length+d.length,y=new ArrayBuffer(this.HEADER_LENGTH+m);let v=new DataView(y),b=0;v.setUint8(b++,this.KINDS.userBroadcastPush),v.setUint8(b++,i.length),v.setUint8(b++,a.length),v.setUint8(b++,c.length),v.setUint8(b++,d.length),v.setUint8(b++,this.JSON_ENCODING),Array.from(i,S=>v.setUint8(b++,S.charCodeAt(0))),Array.from(a,S=>v.setUint8(b++,S.charCodeAt(0))),Array.from(c,S=>v.setUint8(b++,S.charCodeAt(0))),Array.from(d,S=>v.setUint8(b++,S.charCodeAt(0)));var j=new Uint8Array(y.byteLength+p.byteLength);return j.set(new Uint8Array(y),0),j.set(new Uint8Array(p),y.byteLength),j.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,c,d,u]=r;return n({join_ref:i,ref:a,topic:c,event:d,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(t,n,i);case this.KINDS.reply:return this._decodeReply(t,n,i);case this.KINDS.broadcast:return this._decodeBroadcast(t,n,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodePush(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),c=n.getUint8(3);let d=this.HEADER_LENGTH+this.META_LENGTH-1;const u=r.decode(t.slice(d,d+i));d=d+i;const f=r.decode(t.slice(d,d+a));d=d+a;const p=r.decode(t.slice(d,d+c));d=d+c;const m=JSON.parse(r.decode(t.slice(d,t.byteLength)));return{join_ref:u,ref:null,topic:f,event:p,payload:m}}_decodeReply(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),c=n.getUint8(3),d=n.getUint8(4);let u=this.HEADER_LENGTH+this.META_LENGTH;const f=r.decode(t.slice(u,u+i));u=u+i;const p=r.decode(t.slice(u,u+a));u=u+a;const m=r.decode(t.slice(u,u+c));u=u+c;const y=r.decode(t.slice(u,u+d));u=u+d;const v=JSON.parse(r.decode(t.slice(u,t.byteLength))),b={status:y,response:v};return{join_ref:f,ref:p,topic:m,event:ar.reply,payload:b}}_decodeBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2);let c=this.HEADER_LENGTH+2;const d=r.decode(t.slice(c,c+i));c=c+i;const u=r.decode(t.slice(c,c+a));c=c+a;const f=JSON.parse(r.decode(t.slice(c,t.byteLength)));return{join_ref:null,ref:null,topic:d,event:u,payload:f}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),c=n.getUint8(3),d=n.getUint8(4);let u=this.HEADER_LENGTH+4;const f=r.decode(t.slice(u,u+i));u=u+i;const p=r.decode(t.slice(u,u+a));u=u+a;const m=r.decode(t.slice(u,u+c));u=u+c;const y=t.slice(u,t.byteLength),v=d===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,b={type:this.BROADCAST,event:p,payload:v};return c>0&&(b.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class yk{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Et||(Et={}));const Vw=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,c)=>(a[c]=MM(c,e,t,i),a),{}):{}},MM=(e,t,n,r)=>{const i=t.find(d=>d.name===e),a=i?.type,c=n[e];return a&&!r.includes(a)?vk(a,c):Km(c)},vk=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return zM(t,n)}switch(e){case Et.bool:return $M(t);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return LM(t);case Et.json:case Et.jsonb:return BM(t);case Et.timestamp:return WM(t);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:return Km(t);default:return Km(t)}},Km=e=>e,$M=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},LM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},BM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},zM=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const c=e.slice(1,n);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(d=>vk(t,d))}return e},WM=e=>typeof e=="string"?e.replace(" ","T"):e,bk=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class wp{constructor(t,n,r={},i=Gm){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Uw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Uw||(Uw={}));class pl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pl.syncState(this.state,i,a,c),this.pendingDiffs.forEach(u=>{this.state=pl.syncDiff(this.state,u,a,c)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=pl.syncDiff(this.state,i,a,c),d())}),this.onJoin((i,a,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:c})}),this.onLeave((i,a,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),c=this.transformState(n),d={},u={};return this.map(a,(f,p)=>{c[f]||(u[f]=p)}),this.map(c,(f,p)=>{const m=a[f];if(m){const y=p.map(S=>S.presence_ref),v=m.map(S=>S.presence_ref),b=p.filter(S=>v.indexOf(S.presence_ref)<0),j=m.filter(S=>y.indexOf(S.presence_ref)<0);b.length>0&&(d[f]=b),j.length>0&&(u[f]=j)}else d[f]=p}),this.syncDiff(a,{joins:d,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(d,u)=>{var f;const p=(f=t[d])!==null&&f!==void 0?f:[];if(t[d]=this.cloneDeep(u),p.length>0){const m=t[d].map(v=>v.presence_ref),y=p.filter(v=>m.indexOf(v.presence_ref)<0);t[d].unshift(...y)}r(d,p,u)}),this.map(c,(d,u)=>{let f=t[d];if(!f)return;const p=u.map(m=>m.presence_ref);f=f.filter(m=>p.indexOf(m.presence_ref)<0),t[d]=f,i(d,f,u),f.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Hw||(Hw={}));var ml;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ml||(ml={}));var cs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(cs||(cs={}));class b0{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=en.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new wp(this,ar.join,this.params,this.timeout),this.rejoinTimer=new yk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=en.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=en.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ar.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new pl(this),this.broadcastEndpointURL=bk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==en.closed){const{config:{broadcast:c,presence:d,private:u}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[ml.PRESENCE]&&this.bindings[ml.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},y={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(v=>t?.(cs.CHANNEL_ERROR,v)),this._onClose(()=>t?.(cs.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var b;if(this.socket.setAuth(),v===void 0){t?.(cs.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,S=(b=j?.length)!==null&&b!==void 0?b:0,N=[];for(let _=0;_<S;_++){const C=j[_],{filter:{event:E,schema:A,table:F,filter:D}}=C,O=v&&v[_];if(O&&O.event===E&&O.schema===A&&O.table===F&&O.filter===D)N.push(Object.assign(Object.assign({},C),{id:O.id}));else{this.unsubscribe(),this.state=en.errored,t?.(cs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(cs.SUBSCRIBED);return}}).receive("error",v=>{this.state=en.errored,t?.(cs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t?.(cs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===en.joined&&t===ml.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let u=d.statusText;try{const f=await d.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:c}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,d,u;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=en.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ar.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new wp(this,ar.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=en.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),c=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),c}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new wp(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>IM){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const c=t.toLocaleLowerCase(),{close:d,error:u,leave:f,join:p}=ar;if(r&&[d,u,f,p].indexOf(c)>=0&&r!==this._joinRef())return;let y=this._onMessage(c,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var b,j,S;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((S=(j=v.filter)===null||j===void 0?void 0:j.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===c}).map(v=>v.callback(y,r)):(a=this.bindings[c])===null||a===void 0||a.filter(v=>{var b,j,S,N,_,C;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in v){const E=v.id,A=(b=v.filter)===null||b===void 0?void 0:b.event;return E&&((j=n.ids)===null||j===void 0?void 0:j.includes(E))&&(A==="*"||A?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const E=(_=(N=v?.filter)===null||N===void 0?void 0:N.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return E==="*"||E===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===c}).map(v=>{if(typeof y=="object"&&"ids"in y){const b=y.data,{schema:j,table:S,commit_timestamp:N,type:_,errors:C}=b;y=Object.assign(Object.assign({},{schema:j,table:S,commit_timestamp:N,eventType:_,new:{},old:{},errors:C}),this._getPayloadRecords(b))}v.callback(y,r)})}_isClosed(){return this.state===en.closed}_isJoined(){return this.state===en.joined}_isJoining(){return this.state===en.joining}_isLeaving(){return this.state===en.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&b0.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ar.close,{},t)}_onError(t){this._on(ar.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=en.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Vw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Vw(t.columns,t.old_record)),n}}const jp=()=>{},Td={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VM=[1e3,2e3,5e3,1e4],UM=1e4,HM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class GM{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gm,this.transport=null,this.heartbeatIntervalMs=Td.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jp,this.ref=0,this.reconnectTimer=null,this.vsn=Ww,this.logger=jp,this.conn=null,this.sendBuffer=[],this.serializer=new FM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${qm.websocket}`,this.httpEndpoint=bk(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ti.connecting:return Pi.Connecting;case Ti.open:return Pi.Open;case Ti.closing:return Pi.Closing;default:return Pi.Closed}}isConnected(){return this.connectionState()===Pi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new b0(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,c=()=>{this.encode(t,d=>{var u;(u=this.conn)===null||u===void 0||u.send(d)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(OM,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Td.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:c}=n,d=c?`(${c})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${d}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ti.open||this.conn.readyState===Ti.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ar.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([HM],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:RM};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(ar.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new yk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Td.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,c,d,u,f,p,m,y,v;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Gm,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Td.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:jp,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:Ww,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(b=>VM[b-1]||UM),this.vsn){case xk:this.encode=(p=t?.encode)!==null&&p!==void 0?p:((b,j)=>j(JSON.stringify(b))),this.decode=(m=t?.decode)!==null&&m!==void 0?m:((b,j)=>j(JSON.parse(b)));break;case DM:this.encode=(y=t?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(v=t?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class w0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Mt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class qM extends w0{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ym extends w0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const j0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),KM=()=>Response,Xm=e=>{if(Array.isArray(e))return e.map(n=>Xm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Xm(r)}),t},YM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Sp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},XM=(e,t,n)=>ze(void 0,void 0,void 0,function*(){const r=yield KM();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,c=i?.statusCode||a+"";t(new qM(Sp(i),a,c))}).catch(i=>{t(new Ym(Sp(i),i))}):t(new Ym(Sp(e),e))}),QM=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(YM(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Ql(e,t,n,r,i,a){return ze(this,void 0,void 0,function*(){return new Promise((c,d)=>{e(n,QM(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>c(u)).catch(u=>XM(u,d,r))})})}function Pl(e,t,n,r){return ze(this,void 0,void 0,function*(){return Ql(e,"GET",t,n,r)})}function Er(e,t,n,r,i){return ze(this,void 0,void 0,function*(){return Ql(e,"POST",t,r,i,n)})}function Qm(e,t,n,r,i){return ze(this,void 0,void 0,function*(){return Ql(e,"PUT",t,r,i,n)})}function JM(e,t,n,r){return ze(this,void 0,void 0,function*(){return Ql(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function S0(e,t,n,r,i){return ze(this,void 0,void 0,function*(){return Ql(e,"DELETE",t,r,i,n)})}class ZM{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return ze(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Mt(t))return{data:null,error:t};throw t}})}}var wk;class e${constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[wk]="BlobDownloadBuilder",this.promise=null}asStream(){return new ZM(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ze(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Mt(t))return{data:null,error:t};throw t}})}}wk=Symbol.toStringTag;const t$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class n${constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=j0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return ze(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},Gw),i);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const u=c.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",c.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,u&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const f=this._removeEmptyFolders(n),p=this._getFinalPath(f),m=yield(t=="PUT"?Qm:Er)(this.fetch,`${this.url}/object/${p}`,a,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Mt(a))return{data:null,error:a};throw a}})}upload(t,n,r){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return ze(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",n);try{let u;const f=Object.assign({upsert:Gw.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",f.cacheControl)):(u=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const m=yield Qm(this.fetch,d.toString(),u,{headers:p});return{data:{path:a,fullPath:m.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Mt(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return ze(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Er(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),c=new URL(this.url+a.url),d=c.searchParams.get("token");if(!d)throw new w0("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:d},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}update(t,n,r){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ze(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return ze(this,void 0,void 0,function*(){try{return{data:{path:(yield Er(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return ze(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Er(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return ze(this,void 0,void 0,function*(){try{const i=yield Er(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),c=a?`?${a}`:"",d=this._getFinalPath(t),u=()=>Pl(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new e$(u,this.shouldThrowOnError)}info(t){return ze(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Pl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Xm(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}exists(t){return ze(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield JM(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r)&&r instanceof Ym){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const d=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${f}`)}}}remove(t){return ze(this,void 0,void 0,function*(){try{return{data:yield S0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}list(t,n,r){return ze(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},t$),n),{prefix:t||""});return{data:yield Er(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}listV2(t,n){return ze(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Er(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const jk="2.81.1",Sk={"X-Client-Info":`storage-js/${jk}`};class r${constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sk),n),this.fetch=j0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ze(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Pl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}getBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}createBucket(t){return ze(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Er(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return ze(this,void 0,void 0,function*(){try{return{data:yield Qm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield S0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class s${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sk),n),this.fetch=j0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}listBuckets(t){return ze(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Pl(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield S0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}}const N0={"X-Client-Info":`storage-js/${jk}`,"Content-Type":"application/json"};class Nk extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Gn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Np extends Nk{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class i$ extends Nk{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var qw;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(qw||(qw={}));const k0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),o$=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Kw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),a$=(e,t,n)=>ze(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(c=>{const d=c?.statusCode||c?.code||i+"";t(new Np(Kw(c),i,d))}).catch(()=>{const c=i+"",d=a.statusText||`HTTP ${i} error`;t(new Np(d,i,c))});else{const c=i+"",d=a.statusText||`HTTP ${i} error`;t(new Np(d,i,c))}}else t(new i$(Kw(e),e))}),l$=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(o$(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function c$(e,t,n,r,i,a){return ze(this,void 0,void 0,function*(){return new Promise((c,d)=>{e(n,l$(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const f=u.headers.get("content-type");return!f||!f.includes("application/json")?{}:u.json()}).then(u=>c(u)).catch(u=>a$(u,d,r))})})}function qn(e,t,n,r,i){return ze(this,void 0,void 0,function*(){return c$(e,"POST",t,r,i,n)})}class d${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},N0),n),this.fetch=k0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ze(this,void 0,void 0,function*(){try{return{data:(yield qn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n))return{data:null,error:n};throw n}})}getIndex(t,n){return ze(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gn(r))return{data:null,error:r};throw r}})}listIndexes(t){return ze(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return ze(this,void 0,void 0,function*(){try{return{data:(yield qn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gn(r))return{data:null,error:r};throw r}})}}class u${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},N0),n),this.fetch=k0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ze(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield qn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n))return{data:null,error:n};throw n}})}getVectors(t){return ze(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n))return{data:null,error:n};throw n}})}listVectors(t){return ze(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield qn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n))return{data:null,error:n};throw n}})}queryVectors(t){return ze(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n))return{data:null,error:n};throw n}})}deleteVectors(t){return ze(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield qn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n))return{data:null,error:n};throw n}})}}class h${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},N0),n),this.fetch=k0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:(yield qn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n))return{data:null,error:n};throw n}})}getBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n))return{data:null,error:n};throw n}})}listBuckets(){return ze(this,arguments,void 0,function*(t={}){try{return{data:yield qn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:(yield qn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gn(n))return{data:null,error:n};throw n}})}}class f$ extends h${constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new p$(this.url,this.headers,t,this.fetch)}}class p$ extends d${constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ze(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ze(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ze(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ze(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new m$(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class m$ extends u${constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ze(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ze(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ze(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ze(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ze(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class g$ extends r${constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new n$(this.url,this.headers,t,this.fetch)}get vectors(){return new f$(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new s$(this.url+"/iceberg",this.headers,this.fetch)}}const x$="2.81.1";let al="";typeof Deno<"u"?al="deno":typeof document<"u"?al="web":typeof navigator<"u"&&navigator.product==="ReactNative"?al="react-native":al="node";const y$={"X-Client-Info":`supabase-js-${al}/${x$}`},v$={headers:y$},b$={schema:"public"},w$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},j$={},S$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),N$=()=>Headers,k$=(e,t,n)=>{const r=S$(n),i=N$();return async(a,c)=>{var d;const u=(d=await t())!==null&&d!==void 0?d:e;let f=new i(c?.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${u}`),r(a,Object.assign(Object.assign({},c),{headers:f}))}};function C$(e){return e.endsWith("/")?e:e+"/"}function E$(e,t){var n,r;const{db:i,auth:a,realtime:c,global:d}=e,{db:u,auth:f,realtime:p,global:m}=t,y={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},p),c),storage:{},global:Object.assign(Object.assign(Object.assign({},m),d),{headers:Object.assign(Object.assign({},(n=m?.headers)!==null&&n!==void 0?n:{}),(r=d?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function _$(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(C$(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const kk="2.81.1",Do=30*1e3,Jm=3,kp=Jm*Do,A$="http://localhost:9999",T$="supabase.auth.token",P$={"X-Client-Info":`gotrue-js/${kk}`},Zm="X-Supabase-Api-Version",Ck={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},R$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,D$=600*1e3;class Rl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class O$ extends Rl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function I$(e){return Ve(e)&&e.name==="AuthApiError"}class Ri extends Rl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ii extends Rl{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Sr extends ii{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function F$(e){return Ve(e)&&e.name==="AuthSessionMissingError"}class So extends ii{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pd extends ii{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Rd extends ii{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function M$(e){return Ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class Yw extends ii{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eg extends ii{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Cp(e){return Ve(e)&&e.name==="AuthRetryableFetchError"}class Xw extends ii{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class tg extends ii{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qw=` 	
\r=`.split(""),$$=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Qw.length;t+=1)e[Qw[t].charCodeAt(0)]=-2;for(let t=0;t<wu.length;t+=1)e[wu[t].charCodeAt(0)]=t;return e})();function Jw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(wu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(wu[r]),t.queuedBits-=6}}function Ek(e,t,n){const r=$$[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Zw(e){const t=[],n=c=>{t.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=c=>{z$(c,r,n)};for(let c=0;c<e.length;c+=1)Ek(e.charCodeAt(c),i,a);return t.join("")}function L$(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function B$(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}L$(r,t)}}function z$(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ho(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Ek(e.charCodeAt(i),n,r);return new Uint8Array(t)}function W$(e){const t=[];return B$(e,n=>t.push(n)),new Uint8Array(t)}function Mi(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Jw(i,n,r)),Jw(null,n,r),t.join("")}function V$(e){return Math.round(Date.now()/1e3)+e}function U$(){return Symbol("auth-callback")}const cn=()=>typeof window<"u"&&typeof document<"u",Si={tested:!1,writable:!1},_k=()=>{if(!cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Si.tested)return Si.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Si.tested=!0,Si.writable=!0}catch{Si.tested=!0,Si.writable=!1}return Si.writable};function H$(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const Ak=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),G$=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Oo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ni=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Vs=async(e,t)=>{await e.removeItem(t)};class Zu{constructor(){this.promise=new Zu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Zu.promiseConstructor=Promise;function Ep(e){const t=e.split(".");if(t.length!==3)throw new tg("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!R$.test(t[r]))throw new tg("JWT not in base64url format");return{header:JSON.parse(Zw(t[0])),payload:JSON.parse(Zw(t[1])),signature:Ho(t[2]),raw:{header:t[0],payload:t[1]}}}async function q$(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function K$(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){r(c);return}}catch(c){if(!t(a,c)){i(c);return}}})()})}function Y$(e){return("0"+e.toString(16)).substr(-2)}function X$(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Y$).join("")}async function Q$(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function J$(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Q$(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function No(e,t,n=!1){const r=X$();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Oo(e,`${t}-code-verifier`,i);const a=await J$(r);return[a,r===a?"plain":"s256"]}const Z$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eL(e){const t=e.headers.get(Zm);if(!t||!t.match(Z$))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function tL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function nL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ko(e){if(!rL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _p(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sL(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function e1(e){return JSON.parse(JSON.stringify(e))}const Ei=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iL=[502,503,504];async function t1(e){var t;if(!G$(e))throw new eg(Ei(e),0);if(iL.includes(e.status))throw new eg(Ei(e),e.status);let n;try{n=await e.json()}catch(a){throw new Ri(Ei(a),a)}let r;const i=eL(e);if(i&&i.getTime()>=Ck["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Xw(Ei(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Sr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new Xw(Ei(n),e.status,n.weak_password.reasons);throw new O$(Ei(n),e.status||500,r)}const oL=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Qe(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[Zm]||(a[Zm]=Ck["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const c=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(c.redirect_to=r.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",u=await aL(e,t,n+d,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function aL(e,t,n,r,i,a){const c=oL(t,r,i,a);let d;try{d=await e(n,Object.assign({},c))}catch(u){throw console.error(u),new eg(Ei(u),0)}if(d.ok||await t1(d),r?.noResolveJson)return d;try{return await d.json()}catch(u){await t1(u)}}function Nr(e){var t;let n=null;dL(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=V$(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function n1(e){const t=Nr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function lL(e){return{data:e,error:null}}function cL(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,c=ni(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},c);return{data:{properties:d,user:u},error:null}}function r1(e){return e}function dL(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ap=["global","local","others"];class uL{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Ak(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Ap[0]){if(Ap.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ap.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:qs})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ni(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:cL,redirectTo:n?.redirectTo})}catch(n){if(Ve(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qs})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,c,d,u;try{const f={nextPage:null,lastPage:0,total:0},p=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:r1});if(p.error)throw p.error;const m=await p.json(),y=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,v=(u=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(b=>{const j=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);f[`${S}Page`]=j}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Ve(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){ko(t);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qs})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ko(t);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:qs})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ko(t);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:qs})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ko(t.userId);try{const{data:n,error:r}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ko(t.userId),ko(t.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,c,d,u;try{const f={nextPage:null,lastPage:0,total:0},p=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:r1});if(p.error)throw p.error;const m=await p.json(),y=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,v=(u=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(b=>{const j=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);f[`${S}Page`]=j}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Ve(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Qe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}}function s1(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Co={debug:!!(globalThis&&_k()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class hL extends Tk{}async function fL(e,t,n){Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Co.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Co.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function pL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Pk(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function mL(e){return parseInt(e,16)}function gL(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function xL(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:c,notBefore:d,requestId:u,resources:f,scheme:p,uri:m,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Pk(e.address),b=p?`${p}://${r}`:r,j=e.statement?`${e.statement}
`:"",S=`${b} wants you to sign in with your Ethereum account:
${v}

${j}`;let N=`URI: ${m}
Version: ${y}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${a.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),u&&(N+=`
Request ID: ${u}`),f){let _=`
Resources:`;for(const C of f){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);_+=`
- ${C}`}N+=_}return`${S}
${N}`}class Kt extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class ju extends Kt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function yL({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Kt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Kt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Kt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Kt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Kt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Kt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Kt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(Rk(c)){if(a.rp.id!==c)return new Kt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Kt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Kt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function vL({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Kt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Rk(r)){if(n.rpId!==r)return new Kt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Kt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class bL{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const wL=new bL;function jL(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=ni(e,["challenge","user","excludeCredentials"]),a=Ho(t).buffer,c=Object.assign(Object.assign({},n),{id:Ho(n.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:a,user:c});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];d.excludeCredentials[u]=Object.assign(Object.assign({},f),{id:Ho(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return d}function SL(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=ni(e,["challenge","allowCredentials"]),i=Ho(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];a.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Ho(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function NL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Mi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Mi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Mi(new Uint8Array(i.authenticatorData)),clientDataJSON:Mi(new Uint8Array(i.clientDataJSON)),signature:Mi(new Uint8Array(i.signature)),userHandle:i.userHandle?Mi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Rk(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function i1(){var e,t;return!!(cn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function CL(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ju("Browser returned unexpected credential type",t)}:{data:null,error:new ju("Empty credential response",t)}}catch(t){return{data:null,error:yL({error:t,options:e})}}}async function EL(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ju("Browser returned unexpected credential type",t)}:{data:null,error:new ju("Empty credential response",t)}}catch(t){return{data:null,error:vL({error:t,options:e})}}}const _L={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},AL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Su(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const c=i[a];if(c!==void 0)if(Array.isArray(c))r[a]=c;else if(n(c))r[a]=c;else if(t(c)){const d=r[a];t(d)?r[a]=Su(d,c):r[a]=Su(c)}else r[a]=c}return r}function TL(e,t){return Su(_L,e,t||{})}function PL(e,t){return Su(AL,e,t||{})}class RL{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:d};const u=i??wL.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=TL(c.webauthn.credential_options.publicKey,a?.create),{data:p,error:m}=await CL({publicKey:f,signal:u});return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const f=PL(c.webauthn.credential_options.publicKey,a?.request),{data:p,error:m}=await EL(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:u}));return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(c){return Ve(c)?{data:null,error:c}:{data:null,error:new Ri("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Rl("rpId is required for WebAuthn authentication")};try{if(!i1())return{data:null,error:new Ri("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!c)return{data:null,error:d};const{webauthn:u}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(c){return Ve(c)?{data:null,error:c}:{data:null,error:new Ri("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Rl("rpId is required for WebAuthn registration")};try{if(!i1())return{data:null,error:new Ri("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:d};const{data:u,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:c.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(c){return Ve(c)?{data:null,error:c}:{data:null,error:new Ri("Unexpected error in register",c)}}}}pL();const DL={url:A$,storageKey:T$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:P$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function o1(e,t,n){return await n()}const Eo={};class Dl{get jwks(){var t,n;return(n=(t=Eo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Eo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},DL),t);if(this.storageKey=a.storageKey,this.instanceID=(n=Dl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Dl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&cn()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new uL({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Ak(a.fetch),this.lock=a.lock||o1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:cn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=fL:this.lock=o1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new RL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:_k()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=s1(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=s1(this.memoryStorage)),cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${kk}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(cn()&&(n=H$(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),cn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),M$(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ve(n)?this._returnResult({error:n}):this._returnResult({error:new Ri("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Nr}),{data:c,error:d}=a;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const u=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(Ve(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:p,password:m,options:y}=t;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await No(this.storage,this.storageKey)),a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:p,password:m,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:v,code_challenge_method:b},xform:Nr})}else if("phone"in t){const{phone:p,password:m,options:y}=t;a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=y?.data)!==null&&r!==void 0?r:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Nr})}else throw new Pd("You must provide either an email or phone number and a password");const{data:c,error:d}=a;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const u=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(Ve(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:c,options:d}=t;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:n1})}else if("phone"in t){const{phone:a,password:c,options:d}=t;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:n1})}else throw new Pd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new So;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ve(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,c,d,u,f,p,m,y;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:j,wallet:S,statement:N,options:_}=t;let C;if(cn())if(typeof S=="object")C=S;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")C=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=S}const E=new URL((n=_?.url)!==null&&n!==void 0?n:window.location.href),A=await C.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=Pk(A[0]);let D=(r=_?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!D){const V=await C.request({method:"eth_chainId"});D=mL(V)}const O={domain:E.host,address:F,statement:N,uri:E.href,version:"1",chainId:D,nonce:(i=_?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(a=_?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=_?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(u=_?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(f=_?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=_?.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=xL(O),b=await C.request({method:"personal_sign",params:[gL(v),F]})}try{const{data:j,error:S}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:b},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Nr});if(S)throw S;if(!j||!j.session||!j.user){const N=new So;return this._returnResult({data:{user:null,session:null},error:N})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:S})}catch(j){if(Ve(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(t){var n,r,i,a,c,d,u,f,p,m,y,v;let b,j;if("message"in t)b=t.message,j=t.signature;else{const{chain:S,wallet:N,statement:_,options:C}=t;let E;if(cn())if(typeof N=="object")E=N;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))E=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=N}const A=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const F=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),_?{statement:_}:null));let D;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")D=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)D=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)b=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),j=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${A.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(r=C?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=C?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((m=(p=C?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...C.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const F=await E.signMessage(new TextEncoder().encode(b),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=F}}try{const{data:S,error:N}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Mi(j)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Nr});if(N)throw N;if(!S||!S.session||!S.user){const _=new So;return this._returnResult({data:{user:null,session:null},error:_})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:N})}catch(S){if(Ve(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await Ni(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:c}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Nr});if(await Vs(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!a||!a.session||!a.user){const d=new So;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:c})}catch(a){if(Ve(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:c}=t,d=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Nr}),{data:u,error:f}=d;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const p=new So;return this._returnResult({data:{user:null,session:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:f})}catch(n){if(Ve(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,c;try{if("email"in t){const{email:d,options:u}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await No(this.storage,this.storageKey));const{error:m}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:d,options:u}=t,{data:f,error:p}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(c=u?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Pd("You must provide either an email or phone number.")}catch(d){if(Ve(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:d}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Nr});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const u=c.session,f=c.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(Ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,c;try{let d=null,u=null;this.flowType==="pkce"&&([d,u]=await No(this.storage,this.storageKey));const f=await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:u}),headers:this.headers,xform:lL});return!((a=f.data)===null||a===void 0)&&a.url&&cn()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(d){if(Ve(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Sr;const{error:i}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ve(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:c}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:c,error:d}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new Pd("You must provide either an email or phone number and a type")}catch(n){if(Ve(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ni(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<kp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const c=await Ni(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=_p()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=sL(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qs}):await this._useSession(async n=>{var r,i,a;const{data:c,error:d}=n;if(d)throw d;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sr}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:qs})})}catch(n){if(Ve(n))return F$(n)&&(await this._removeSession(),await Vs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Sr;const c=i.session;let d=null,u=null;this.flowType==="pkce"&&t.email!=null&&([d,u]=await No(this.storage,this.storageKey));const{data:f,error:p}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:u}),jwt:c.access_token,xform:qs});if(p)throw p;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(r){if(Ve(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Sr;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:c}=Ep(t.access_token);if(c.exp&&(r=c.exp,i=r<=n),i){const{data:d,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ve(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:c,error:d}=n;if(d)throw d;t=(r=c.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Sr;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ve(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!cn())throw new Rd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Rd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Yw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Yw("No code detected.");const{data:_,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:c,expires_in:d,expires_at:u,token_type:f}=t;if(!a||!d||!c||!f)throw new Rd("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(d);let y=p+m;u&&(y=parseInt(u));const v=y-p;v*1e3<=Do&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const b=y-m;p-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,y,p):p-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,y,p);const{data:j,error:S}=await this._getUser(a);if(S)throw S;const N={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:y,refresh_token:c,token_type:f,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(r){if(Ve(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ni(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const c=(r=i.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!(I$(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await Vs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=U$(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:c}=n;if(c)throw c;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await No(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ve(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var c,d,u,f,p;const{data:m,error:y}=a;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return cn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Ve(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:c,provider:d,token:u,access_token:f,nonce:p}=t,m=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:u,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Nr}),{data:y,error:v}=m;return v?this._returnResult({data:{user:null,session:null},error:v}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new So}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:v}))}catch(i){if(Ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:c}=n;if(c)throw c;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await K$(async i=>(i>0&&await q$(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Nr})),(i,a)=>{const c=200*Math.pow(2,i);return a&&Cp(a)&&Date.now()+c-r<Do})}catch(r){if(this._debug(n,"error",r),Ve(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),cn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ni(this.storage,this.storageKey);if(i&&this.userStorage){let c=await Ni(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await Oo(this.userStorage,this.storageKey+"-user",c)),i.user=(t=c?.user)!==null&&t!==void 0?t:_p()}else if(i&&!i.user&&!i.user){const c=await Ni(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await Vs(this.storage,this.storageKey+"-user"),await Oo(this.storage,this.storageKey,i)):i.user=_p()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<kp;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${kp}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Cp(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(i.access_token);!d&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Sr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Zu;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new Sr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(i,"error",a),Ve(a)){const c={data:null,error:a};return Cp(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(c),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Oo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=e1(i);await Oo(this.storage,this.storageKey,a)}else{const i=e1(n);await Oo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Vs(this.storage,this.storageKey),await Vs(this.storage,this.storageKey+"-code-verifier"),await Vs(this.storage,this.storageKey+"-user"),this.userStorage&&await Vs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&cn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Do);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Do);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Do}ms, refresh threshold is ${Jm} ticks`),i<=Jm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Tk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,c]=await No(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(d.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await Qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:c}=n;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:f}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?NL(t.webauthn.credential_response):kL(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:u}=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:u}))})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const c=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:jL(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:SL(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ep(r.access_token);let c=null;a.aal&&(c=a.aal);let d=c;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const f=a.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Qe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Sr})})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Sr});const c=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&cn()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Sr});const c=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&cn()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(d=>d.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(d=>d.kid===t),r&&this.jwks_cached_at+D$>i)return r;const{data:a,error:c}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(d=>d.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:b}=await this.getSession();if(b||!v.session)return this._returnResult({data:null,error:b});r=v.session.access_token}const{header:i,payload:a,signature:c,raw:{header:d,payload:u}}=Ep(r);n?.allowExpired||tL(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:a,header:i,signature:c},error:null}}const p=nL(i.alg),m=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,c,W$(`${d}.${u}`)))throw new tg("Invalid JWT signature");return{data:{claims:a,header:i,signature:c},error:null}}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}}Dl.nextInstanceID={};const OL=Dl;class IL extends OL{constructor(t){super(t)}}class FL{constructor(t,n,r){var i,a,c;this.supabaseUrl=t,this.supabaseKey=n;const d=_$(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const u=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:b$,realtime:j$,auth:Object.assign(Object.assign({},w$),{storageKey:u}),global:v$},p=E$(r??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=p.auth)!==null&&c!==void 0?c:{},this.headers,p.global.fetch),this.fetch=k$(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new AM(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new g$(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new kM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:c,flowType:d,lock:u,debug:f,throwOnError:p},m,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IL({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),m),storageKey:c,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:d,lock:u,debug:f,throwOnError:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new GM(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ML=(e,t,n)=>new FL(e,t,n);function $L(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}$L()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const LL=`https://${Ge}.supabase.co`;let Tp=null;function Yn(){return Tp||(Tp=ML(LL,En,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:{getItem:e=>typeof window>"u"?null:localStorage.getItem(e),setItem:(e,t)=>{typeof window>"u"||localStorage.setItem(e,t)},removeItem:e=>{typeof window>"u"||localStorage.removeItem(e)}}}}),console.log(" Supabase client initialized")),Tp}function BL(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var fa=e=>{const{present:t,children:n}=e,r=zL(t),i=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),a=Bt(r.ref,WL(i));return typeof n=="function"||r.isPresent?g.cloneElement(i,{ref:a}):null};fa.displayName="Presence";function zL(e){const[t,n]=g.useState(),r=g.useRef(null),i=g.useRef(e),a=g.useRef("none"),c=e?"mounted":"unmounted",[d,u]=BL(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const f=Dd(r.current);a.current=d==="mounted"?f:"none"},[d]),jn(()=>{const f=r.current,p=i.current;if(p!==e){const y=a.current,v=Dd(f);e?u("MOUNT"):v==="none"||f?.display==="none"?u("UNMOUNT"):u(p&&y!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),jn(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,m=v=>{const j=Dd(r.current).includes(CSS.escape(v.animationName));if(v.target===t&&j&&(u("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=v=>{v.target===t&&(a.current=Dd(r.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:g.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Dd(e){return e?.animationName||"none"}function WL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function VL(e){const t=UL(e),n=g.forwardRef((r,i)=>{const{children:a,...c}=r,d=g.Children.toArray(a),u=d.find(GL);if(u){const f=u.props.children,p=d.map(m=>m===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:m);return s.jsx(t,{...c,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,p):null})}return s.jsx(t,{...c,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function UL(e){const t=g.forwardRef((n,r)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const c=KL(i),d=qL(a,i.props);return i.type!==g.Fragment&&(d.ref=r?Yi(r,c):c),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HL=Symbol("radix.slottable");function GL(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HL}function qL(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function KL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var eh="Dialog",[Dk]=Yl(eh),[YL,Ir]=Dk(eh),Ok=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:c=!0}=e,d=g.useRef(null),u=g.useRef(null),[f,p]=yu({prop:r,defaultProp:i??!1,onChange:a,caller:eh});return s.jsx(YL,{scope:t,triggerRef:d,contentRef:u,contentId:zi(),titleId:zi(),descriptionId:zi(),open:f,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(m=>!m),[p]),modal:c,children:n})};Ok.displayName=eh;var Ik="DialogTrigger",XL=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ir(Ik,n),a=Bt(t,i.triggerRef);return s.jsx(Nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":_0(i.open),...r,ref:a,onClick:bt(e.onClick,i.onOpenToggle)})});XL.displayName=Ik;var C0="DialogPortal",[QL,Fk]=Dk(C0,{forceMount:void 0}),Mk=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=Ir(C0,t);return s.jsx(QL,{scope:t,forceMount:n,children:g.Children.map(r,c=>s.jsx(fa,{present:n||a.open,children:s.jsx(Gu,{asChild:!0,container:i,children:c})}))})};Mk.displayName=C0;var Nu="DialogOverlay",$k=g.forwardRef((e,t)=>{const n=Fk(Nu,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Ir(Nu,e.__scopeDialog);return a.modal?s.jsx(fa,{present:r||a.open,children:s.jsx(ZL,{...i,ref:t})}):null});$k.displayName=Nu;var JL=VL("DialogOverlay.RemoveScroll"),ZL=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ir(Nu,n);return s.jsx(Yu,{as:JL,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Nt.div,{"data-state":_0(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),qi="DialogContent",Lk=g.forwardRef((e,t)=>{const n=Fk(qi,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Ir(qi,e.__scopeDialog);return s.jsx(fa,{present:r||a.open,children:a.modal?s.jsx(eB,{...i,ref:t}):s.jsx(tB,{...i,ref:t})})});Lk.displayName=qi;var eB=g.forwardRef((e,t)=>{const n=Ir(qi,e.__scopeDialog),r=g.useRef(null),i=Bt(t,n.contentRef,r);return g.useEffect(()=>{const a=r.current;if(a)return p0(a)},[]),s.jsx(Bk,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bt(e.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:bt(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&a.preventDefault()}),onFocusOutside:bt(e.onFocusOutside,a=>a.preventDefault())})}),tB=g.forwardRef((e,t)=>{const n=Ir(qi,e.__scopeDialog),r=g.useRef(!1),i=g.useRef(!1);return s.jsx(Bk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=a.target;n.triggerRef.current?.contains(c)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Bk=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...c}=e,d=Ir(qi,n),u=g.useRef(null),f=Bt(t,u);return s0(),s.jsxs(s.Fragment,{children:[s.jsx(Bu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Lu,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":_0(d.open),...c,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(rB,{titleId:d.titleId}),s.jsx(iB,{contentRef:u,descriptionId:d.descriptionId})]})]})}),E0="DialogTitle",zk=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ir(E0,n);return s.jsx(Nt.h2,{id:i.titleId,...r,ref:t})});zk.displayName=E0;var Wk="DialogDescription",nB=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ir(Wk,n);return s.jsx(Nt.p,{id:i.descriptionId,...r,ref:t})});nB.displayName=Wk;var Vk="DialogClose",Uk=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ir(Vk,n);return s.jsx(Nt.button,{type:"button",...r,ref:t,onClick:bt(e.onClick,()=>i.onOpenChange(!1))})});Uk.displayName=Vk;function _0(e){return e?"open":"closed"}var Hk="DialogTitleWarning",[UV,Gk]=aO(Hk,{contentName:qi,titleName:E0,docsSlug:"dialog"}),rB=({titleId:e})=>{const t=Gk(Hk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},sB="DialogDescriptionWarning",iB=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Gk(sB).contentName}}.`;return g.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},oB=Ok,aB=Mk,lB=$k,cB=Lk,dB=zk,uB=Uk;function Pp({...e}){return s.jsx(oB,{"data-slot":"dialog",...e})}function hB({...e}){return s.jsx(aB,{"data-slot":"dialog-portal",...e})}function fB({className:e,...t}){return s.jsx(lB,{"data-slot":"dialog-overlay",className:wn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Rp({className:e,children:t,...n}){return s.jsxs(hB,{"data-slot":"dialog-portal",children:[s.jsx(fB,{}),s.jsxs(cB,{"data-slot":"dialog-content",className:wn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,s.jsxs(uB,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(yn,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Dp({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-header",className:wn("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Op({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-footer",className:wn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Ip({className:e,...t}){return s.jsx(dB,{"data-slot":"dialog-title",className:wn("text-lg leading-none font-semibold",e),...t})}function pB(e){const t=mB(e),n=g.forwardRef((r,i)=>{const{children:a,...c}=r,d=g.Children.toArray(a),u=d.find(xB);if(u){const f=u.props.children,p=d.map(m=>m===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:m);return s.jsx(t,{...c,ref:i,children:g.isValidElement(f)?g.cloneElement(f,void 0,p):null})}return s.jsx(t,{...c,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function mB(e){const t=g.forwardRef((n,r)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const c=vB(i),d=yB(a,i.props);return i.type!==g.Fragment&&(d.ref=r?Yi(r,c):c),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gB=Symbol("radix.slottable");function xB(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gB}function yB(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function vB(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var th="Popover",[qk]=Yl(th,[Hu]),Jl=Hu(),[bB,oi]=qk(th),Kk=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:c=!1}=e,d=Jl(t),u=g.useRef(null),[f,p]=g.useState(!1),[m,y]=yu({prop:r,defaultProp:i??!1,onChange:a,caller:th});return s.jsx(sN,{...d,children:s.jsx(bB,{scope:t,contentId:zi(),triggerRef:u,open:m,onOpenChange:y,onOpenToggle:g.useCallback(()=>y(v=>!v),[y]),hasCustomAnchor:f,onCustomAnchorAdd:g.useCallback(()=>p(!0),[]),onCustomAnchorRemove:g.useCallback(()=>p(!1),[]),modal:c,children:n})})};Kk.displayName=th;var Yk="PopoverAnchor",wB=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=oi(Yk,n),a=Jl(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=i;return g.useEffect(()=>(c(),()=>d()),[c,d]),s.jsx(f0,{...a,...r,ref:t})});wB.displayName=Yk;var Xk="PopoverTrigger",Qk=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=oi(Xk,n),a=Jl(n),c=Bt(t,i.triggerRef),d=s.jsx(Nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":nC(i.open),...r,ref:c,onClick:bt(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?d:s.jsx(f0,{asChild:!0,...a,children:d})});Qk.displayName=Xk;var A0="PopoverPortal",[jB,SB]=qk(A0,{forceMount:void 0}),Jk=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=oi(A0,t);return s.jsx(jB,{scope:t,forceMount:n,children:s.jsx(fa,{present:n||a.open,children:s.jsx(Gu,{asChild:!0,container:i,children:r})})})};Jk.displayName=A0;var ta="PopoverContent",Zk=g.forwardRef((e,t)=>{const n=SB(ta,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=oi(ta,e.__scopePopover);return s.jsx(fa,{present:r||a.open,children:a.modal?s.jsx(kB,{...i,ref:t}):s.jsx(CB,{...i,ref:t})})});Zk.displayName=ta;var NB=pB("PopoverContent.RemoveScroll"),kB=g.forwardRef((e,t)=>{const n=oi(ta,e.__scopePopover),r=g.useRef(null),i=Bt(t,r),a=g.useRef(!1);return g.useEffect(()=>{const c=r.current;if(c)return p0(c)},[]),s.jsx(Yu,{as:NB,allowPinchZoom:!0,children:s.jsx(eC,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bt(e.onCloseAutoFocus,c=>{c.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:bt(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,f=d.button===2||u;a.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:bt(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),CB=g.forwardRef((e,t)=>{const n=oi(ta,e.__scopePopover),r=g.useRef(!1),i=g.useRef(!1);return s.jsx(eC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=a.target;n.triggerRef.current?.contains(c)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),eC=g.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:p,...m}=e,y=oi(ta,n),v=Jl(n);return s0(),s.jsx(Bu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Lu,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onDismiss:()=>y.onOpenChange(!1),children:s.jsx(iN,{"data-state":nC(y.open),role:"dialog",id:y.contentId,...v,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),tC="PopoverClose",EB=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=oi(tC,n);return s.jsx(Nt.button,{type:"button",...r,ref:t,onClick:bt(e.onClick,()=>i.onOpenChange(!1))})});EB.displayName=tC;var _B="PopoverArrow",AB=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Jl(n);return s.jsx(oN,{...i,...r,ref:t})});AB.displayName=_B;function nC(e){return e?"open":"closed"}var TB=Kk,PB=Qk,RB=Jk,DB=Zk;function OB({...e}){return s.jsx(TB,{"data-slot":"popover",...e})}function IB({...e}){return s.jsx(PB,{"data-slot":"popover-trigger",...e})}function FB({className:e,align:t="center",sideOffset:n=4,...r}){return s.jsx(RB,{children:s.jsx(DB,{"data-slot":"popover-content",align:t,sideOffset:n,className:wn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}let Xd=null,Io=null;function Ol(){Xd=null,Io=null,console.log(" Vocabulary list cache invalidated")}function rC({onBack:e,onBackToHome:t,onSelectVocabulary:n,onStartFlashcards:r,getAuthToken:i}){const[a,c]=g.useState([]),[d,u]=g.useState([]),[f,p]=g.useState(!1),[m,y]=g.useState({}),[v,b]=g.useState(!0),[j,S]=g.useState(!1),[N,_]=g.useState(!1),[C,E]=g.useState(!1),[A,F]=g.useState(null),[D,O]=g.useState(null),[V,G]=g.useState("");g.useEffect(()=>{let U=!1;const Z=ne=>{U||(c(ne.myOwnVocabularies),u(ne.mySharedVocabularies),b(!1))};if(Xd)return Z(Xd),()=>{U=!0};if(Io)return b(!0),Io.then(ne=>Z(ne)).catch(ne=>{U||(console.error("Failed to load vocabularies:",ne),b(!1))}),()=>{U=!0};b(!0);const H=(async()=>{const ne=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies`,{headers:{Authorization:`Bearer ${i?i():En}`}}),q={myOwnVocabularies:[],mySharedVocabularies:[],timestamp:Date.now()};if(ne.ok){const fe=(await ne.json()).vocabularies||[];q.myOwnVocabularies=fe.filter(ue=>!ue.shared_vocabulary_id),q.mySharedVocabularies=fe.filter(ue=>ue.shared_vocabulary_id),console.log(" Loaded My Own vocabularies:",q.myOwnVocabularies.length),console.log(" Loaded My Shared vocabularies:",q.mySharedVocabularies.length)}else{const le=await ne.text();console.error(" Failed to load user vocabularies:",le)}return Xd=q,q})();return Io=H,H.then(ne=>Z(ne)).catch(ne=>{U||(console.error("Failed to load vocabularies:",ne),b(!1))}).finally(()=>{Io===H&&(Io=null)}),()=>{U=!0}},[i]);const ee={id:"my-own",title:"  ",subtitle:" ",progress:0,isExpanded:f,items:a.map(U=>({id:U.id,title:U.title,wordCount:U.total_words||0,estimatedTime:`${Math.ceil((U.total_words||0)/3)} min`,isCompleted:!1,progress:0}))},ie=(()=>{console.log(" Creating shared vocab units from:",d),console.log(" Current sharedVocabExpanded state:",m);const U={};return d.forEach(Z=>{const H=Z.category||"Uncategorized";console.log(` Vocab "${Z.title}" -> category: "${H}"`),U[H]||(U[H]=[]),U[H].push(Z)}),console.log(" Category groups:",U),Object.entries(U).map(([Z,H])=>{const ne=H.reduce((q,le)=>q+(le.total_words||0),0);return{id:`category-${Z}`,title:Z,subtitle:`${ne}   ${H.length} `,progress:0,units:H.map(q=>({id:q.id,title:q.title,wordCount:q.total_words||0,startIndex:1,endIndex:q.total_words||0})),isExpanded:m[Z]||!1,vocabularyId:Z,wordsPerUnit:0,totalWords:ne}})})(),J=[ee],$=U=>{if(console.log(" Toggling unit:",U),U==="my-own")p(!f);else if(U.startsWith("category-")){const Z=U.replace("category-","");console.log(" Toggling category:",Z),y(H=>{const ne={...H,[Z]:!H[Z]};return console.log(" New expanded state:",ne),ne})}},L=U=>{n(U.id,U.title)},T=(U,Z)=>{Z.stopPropagation(),F(U),G(U.title),S(!0)},R=(U,Z)=>{Z.stopPropagation(),F(U),_(!0)},I=async()=>{if(!(!A||!V.trim()))try{const U=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/${A.id}`,{method:"PUT",headers:{Authorization:`Bearer ${i?i():En}`,"Content-Type":"application/json"},body:JSON.stringify({title:V.trim()})});if(U.ok)c(Z=>Z.map(H=>H.id===A.id?{...H,title:V.trim()}:H)),S(!1),F(null),G(""),console.log("Vocabulary renamed successfully");else{const Z=await U.json();console.error("Failed to rename vocabulary:",Z),alert("  .")}}catch(U){console.error("Error renaming vocabulary:",U),alert("    .")}},W=async()=>{if(A)try{const U=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/${A.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${i?i():En}`}});if(U.ok)c(Z=>Z.filter(H=>H.id!==A.id)),_(!1),F(null),console.log("Vocabulary deleted successfully");else{const Z=await U.json();console.error("Failed to delete vocabulary:",Z),alert(" .")}}catch(U){console.error("Error deleting vocabulary:",U),alert("   .")}},B=(U,Z,H)=>{H.stopPropagation(),O({id:U,title:Z}),E(!0)},K=async()=>{if(D)try{const U=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/${D.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${i?i():En}`}});if(U.ok)u(Z=>Z.filter(H=>H.id!==D.id)),E(!1),O(null),console.log("Shared vocabulary deleted successfully");else{const Z=await U.json();console.error("Failed to delete shared vocabulary:",Z),alert(" .")}}catch(U){console.error("Error deleting shared vocabulary:",U),alert("   .")}};return s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"sticky top-0 z-40",style:{background:"transparent"},children:s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsx(Or,{onClick:e}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(GR,{className:"w-5 h-5 text-[#091A7A]"}),s.jsx("h1",{className:"text-[#091A7A]",style:{fontSize:"18px",fontWeight:700},children:"Vocabulary"})]}),t?s.jsx(M.button,{whileTap:{scale:.95},onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full bg-white/80 backdrop-blur-sm shadow-md",children:s.jsx(Ki,{className:"w-5 h-5 text-[#091A7A]"})}):s.jsx("div",{className:"w-10"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-24",style:{overflowY:"auto",WebkitOverflowScrolling:"touch"},children:v?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-[#8B5CF6] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-[#491B6D]",style:{fontSize:"14px",fontWeight:500},children:"  ..."})]})}):s.jsxs("div",{className:"space-y-2.5 pt-2",children:[J.map((U,Z)=>s.jsx("div",{children:s.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Z*.1},className:`backdrop-blur-lg rounded-2xl overflow-hidden shadow-lg ${U.id==="my-own"?"bg-gradient-to-br from-[#FDF2F8] to-[#FCE7F3]":"bg-white/95"}`,children:[s.jsxs(M.div,{whileTap:{scale:.98},onClick:()=>$(U.id),className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-[#091A7A] mb-1",style:{fontSize:"16px",fontWeight:600},children:U.title}),s.jsxs("span",{className:`inline-block ${U.id==="my-own"?"text-[#9CA3AF]":"text-[#8B5CF6]"}`,style:{fontSize:"11px",fontWeight:500},children:[U.items.reduce((H,ne)=>H+ne.wordCount,0)," words"]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs("span",{className:`${U.id==="my-own"?"text-[#9CA3AF]":"text-[#8B5CF6]"}`,style:{fontSize:"12px",fontWeight:600},children:[U.progress,"%"]}),s.jsx(M.div,{animate:{rotate:U.isExpanded?180:0},transition:{duration:.3},children:s.jsx(pr,{className:"w-5 h-5 text-[#091A7A]"})})]})]}),s.jsx("div",{className:"mt-2.5",children:s.jsx("div",{className:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden",children:s.jsx(M.div,{initial:{width:0},animate:{width:`${U.progress}%`},transition:{duration:.8,delay:Z*.1+.2},className:"h-full bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] rounded-full"})})})]}),s.jsx(pt,{children:U.isExpanded&&s.jsx(M.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-200/50 overflow-hidden",children:s.jsx("div",{className:"p-2 space-y-1.5",children:U.items.map((H,ne)=>s.jsxs(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:ne*.05},whileTap:{scale:.98},onClick:()=>L(H),className:`backdrop-blur-sm rounded-xl p-3 flex items-center gap-2.5 ${U.id==="my-own"?"bg-gradient-to-r from-white/95 to-[#FDF2F8]/90":"bg-white/80"}`,children:[s.jsx("div",{className:`w-7 h-7 rounded-lg flex items-center justify-center flex-shrink-0 ${U.id==="my-own"?"bg-gradient-to-br from-[#F9A8D4] to-[#EC4899]":"bg-gradient-to-br from-[#C4B5FD] to-[#A78BFA]"}`,children:s.jsx("span",{className:"text-white",style:{fontSize:"12px",fontWeight:600},children:ne+1})}),s.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between",children:[s.jsx("h4",{className:"text-[#091A7A]",style:{fontSize:"14px",fontWeight:600},children:H.title}),s.jsxs("span",{className:`${U.id==="my-own"?"text-[#F472B6]":"text-[#6B7280]"}`,style:{fontSize:"11px"},children:[H.wordCount," words"]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("button",{onClick:q=>{q.stopPropagation(),r&&r(H.id,H.title)},className:`p-1.5 ${U.id==="my-own"?"hover:bg-pink-100":"hover:bg-purple-100"} rounded-lg transition-colors`,title:" ",children:s.jsx(Yb,{className:`w-5 h-5 ${U.id==="my-own"?"text-[#EC4899]":"text-[#8B5CF6]"}`})})}),U.id==="my-own"&&s.jsx("div",{className:"flex-shrink-0",onClick:q=>q.stopPropagation(),children:s.jsxs(OB,{children:[s.jsx(IB,{asChild:!0,children:s.jsx("button",{className:"p-1 hover:bg-pink-100 rounded-lg transition-colors",children:s.jsx(kR,{className:"w-5 h-5 text-[#EC4899]"})})}),s.jsx(FB,{className:"w-40 p-2 bg-white border border-gray-200 shadow-lg",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:q=>T(H,q),children:[s.jsx(m6,{className:"w-4 h-4 text-[#8B5CF6]"}),s.jsx("span",{className:"text-[#8B5CF6]",style:{fontSize:"14px",fontWeight:500},children:" "})]}),s.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:q=>R(H,q),children:[s.jsx(Wi,{className:"w-4 h-4 text-[#EF4444]"}),s.jsx("span",{className:"text-[#EF4444]",style:{fontSize:"14px",fontWeight:500},children:""})]})]})})]})})]},H.id))})})})]})},U.id)),ie.map((U,Z)=>s.jsx("div",{children:s.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:(J.length+Z)*.1},className:"bg-gradient-to-br from-[#F3E8FF] to-[#E9D5FF] backdrop-blur-lg rounded-2xl overflow-hidden shadow-lg border border-[#C4B5FD]/30",children:[s.jsxs(M.div,{whileTap:{scale:.98},onClick:()=>{console.log(" CLICK detected on category:",U.id,"isExpanded:",U.isExpanded),$(U.id)},className:"p-4 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("h3",{className:"text-[#5B21B6]",style:{fontSize:"16px",fontWeight:600},children:U.title})]}),s.jsx("span",{className:"inline-block text-[#7C3AED] mt-1",style:{fontSize:"11px",fontWeight:500},children:U.subtitle})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs("span",{className:"text-[#7C3AED]",style:{fontSize:"12px",fontWeight:600},children:[U.progress,"%"]}),s.jsx(M.div,{animate:{rotate:U.isExpanded?180:0},transition:{duration:.3},children:s.jsx(pr,{className:"w-5 h-5 text-[#5B21B6]"})})]})]}),s.jsx("div",{className:"mt-2.5",children:s.jsx("div",{className:"w-full h-1.5 bg-white/60 rounded-full overflow-hidden",children:s.jsx(M.div,{initial:{width:0},animate:{width:`${U.progress}%`},transition:{duration:.8,delay:(J.length+Z)*.1+.2},className:"h-full bg-gradient-to-r from-[#7C3AED] to-[#A78BFA] rounded-full"})})})]}),s.jsx(pt,{children:U.isExpanded&&s.jsx(M.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-[#C4B5FD]/30 overflow-hidden",children:s.jsx("div",{className:"p-2 space-y-1.5",children:U.units.map((H,ne)=>s.jsxs(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:ne*.05},whileTap:{scale:.98},onClick:()=>n(H.id,H.title),className:"bg-white/90 backdrop-blur-sm rounded-xl p-3 flex items-center gap-2.5",children:[s.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-[#A78BFA] to-[#7C3AED] rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white",style:{fontSize:"12px",fontWeight:600},children:ne+1})}),s.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between",children:[s.jsx("h4",{className:"text-[#5B21B6]",style:{fontSize:"14px",fontWeight:600},children:H.title}),s.jsxs("span",{className:"text-[#8B5CF6]",style:{fontSize:"11px"},children:[H.wordCount," words"]})]}),s.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1",children:[s.jsx("button",{onClick:q=>{q.stopPropagation(),r&&r(H.id,H.title)},className:"p-1.5 hover:bg-purple-100 rounded-lg transition-colors",title:" ",children:s.jsx(Yb,{className:"w-5 h-5 text-[#7C3AED]"})}),s.jsx("button",{onClick:q=>B(H.id,H.title,q),className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors",title:"",children:s.jsx(Wi,{className:"w-4 h-4 text-red-500"})})]})]},H.id))})})})]})},U.id))]})}),s.jsx(Pp,{open:j,onOpenChange:S,children:s.jsxs(Rp,{className:"sm:max-w-[350px] bg-white rounded-[24px] border-none shadow-xl",children:[s.jsx(Dp,{children:s.jsx(Ip,{className:"text-[#091A7A] text-lg font-bold",children:"  "})}),s.jsx("div",{className:"space-y-4",children:s.jsx(hu,{id:"name",value:V,onChange:U=>G(U.target.value),placeholder:" ",className:"rounded-xl border-gray-200 focus:border-[#8B5CF6] focus:ring-[#8B5CF6]"})}),s.jsxs(Op,{className:"flex-col gap-2 sm:flex-col",children:[s.jsx(Un,{type:"button",onClick:I,className:"w-full bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] hover:from-[#7C3AED] hover:to-[#6D28D9] text-white rounded-xl h-11 font-medium",children:""}),s.jsx(Un,{type:"button",onClick:()=>S(!1),className:"w-full bg-white hover:bg-gray-50 text-[#091A7A] border border-gray-200 rounded-xl h-11 font-medium",children:""})]})]})}),s.jsx(Pp,{open:N,onOpenChange:_,children:s.jsxs(Rp,{className:"sm:max-w-[350px] bg-white rounded-[24px] border-none shadow-xl",children:[s.jsx(Dp,{children:s.jsx(Ip,{className:"text-[#091A7A] text-lg font-bold",children:" "})}),s.jsx("div",{className:"space-y-3",children:s.jsx("p",{className:"text-[#091A7A] text-sm",children:"   ?"})}),s.jsxs(Op,{className:"flex-col gap-2 sm:flex-col",children:[s.jsx(Un,{type:"button",onClick:W,className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl h-11 font-medium",children:""}),s.jsx(Un,{type:"button",onClick:()=>_(!1),className:"w-full bg-white hover:bg-gray-50 text-[#091A7A] border border-gray-200 rounded-xl h-11 font-medium",children:""})]})]})}),s.jsx(Pp,{open:C,onOpenChange:E,children:s.jsxs(Rp,{className:"sm:max-w-[350px] bg-white rounded-[24px] border-none shadow-xl",children:[s.jsx(Dp,{children:s.jsx(Ip,{className:"text-[#091A7A] text-lg font-bold",children:"  "})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-[#091A7A] text-sm",children:[s.jsx("strong",{className:"text-[#8B5CF6]",children:D?.title}),"  ?"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"       ."})]}),s.jsxs(Op,{className:"flex-col gap-2 sm:flex-col",children:[s.jsx(Un,{type:"button",onClick:K,className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl h-11 font-medium",children:""}),s.jsx(Un,{type:"button",onClick:()=>E(!1),className:"w-full bg-white hover:bg-gray-50 text-[#091A7A] border border-gray-200 rounded-xl h-11 font-medium",children:""})]})]})})]})}const T0=Object.freeze(Object.defineProperty({__proto__:null,VocabularyListScreen:rC,invalidateVocabularyListCache:Ol},Symbol.toStringTag,{value:"Module"})),Fp=()=>new Date().toISOString().split("T")[0],MB=()=>typeof globalThis.crypto<"u"&&typeof globalThis.crypto.randomUUID=="function"?globalThis.crypto.randomUUID():`vocab_${Math.random().toString(36).slice(2)}`,Mp=Yn(),$p=20,$B=3;function LB({onBack:e,onSaveComplete:t,getAuthToken:n,onNavigateToGift:r}){const[i,a]=g.useState(Fp()),[c,d]=g.useState(""),[u,f]=g.useState(!1),[p,m]=g.useState(null),[y,v]=g.useState([]),[b,j]=g.useState(null),[S,N]=g.useState(!1),[_,C]=g.useState(!1),[E,A]=g.useState([]),[F,D]=g.useState(""),[O,V]=g.useState(!1),G=g.useMemo(()=>c.split(/[\n,]+/).map($=>$.trim()).filter(Boolean),[c]),ee=async()=>{const{data:{session:$}}=await Mp.auth.getSession(),L=$?.access_token||n?.();if(L){V(!0);try{const T=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies`,{headers:{Authorization:`Bearer ${L}`}});if(T.ok){const R=await T.json(),I=Array.isArray(R)?R:R.vocabularies||[];A(I.map(W=>({id:W.id,title:W.title})))}}catch(T){console.error("   :",T)}finally{V(!1)}}},se=async($,L)=>{const T=[];for(let ne=0;ne<$.length;ne+=$p)T.push($.slice(ne,ne+$p));const R=[];let I=0,W=0,B=0;j({current:0,total:T.length});const K=async(ne,q,le=3)=>{for(let fe=1;fe<=le;fe++)try{const ue=await fetch(`https://${Ge}.supabase.co/functions/v1/server/generate-vocabulary-batch`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({words:ne.map(Ze=>({word:Ze}))})}),Ne=await ue.json();if(!ue.ok)throw new Error(Ne?.error||` ${q+1}  `);const Te=Array.isArray(Ne.results)?Ne.results:Array.isArray(Ne.data)?Ne.data:[];if(Ne.success===!1||Te.length===0)throw new Error(Ne?.error||` ${q+1} AI  `);return{index:q,items:Te,inputTokens:Ne.inputTokens||0,outputTokens:Ne.outputTokens||0}}catch(ue){if(console.error(`  ${q+1}  ${fe}/${le} :`,ue),fe<le)await new Promise(Ne=>setTimeout(Ne,2e3));else throw ue}throw new Error(` ${q+1}   `)},U=async ne=>{const q=Math.min(ne+$B,T.length),le=[];for(let ue=ne;ue<q;ue++)le.push(K(T[ue],ue));const fe=await Promise.all(le);for(const ue of fe)R.push({index:ue.index,items:ue.items}),I+=ue.inputTokens,W+=ue.outputTokens,B++,j({current:B,total:T.length}),ce.loading(`AI   ... (${B}/${T.length} , ${B*$p}/${$.length})`,{id:"user-vocab-progress"});return q};let Z=0;for(;Z<T.length;)Z=await U(Z),Z<T.length&&await new Promise(ne=>setTimeout(ne,300));return j(null),R.sort((ne,q)=>ne.index-q.index),{results:R.flatMap(ne=>ne.items),inputTokens:I,outputTokens:W}},ie=async()=>{if(G.length===0){ce.error("   .");return}const{data:{session:$}}=await Mp.auth.getSession(),L=$?.access_token||n?.();if(!L){ce.error(" .  .");return}f(!0),m(null),v([]);try{ce.dismiss("user-vocab-progress"),ce.loading(`AI ${G.length}   `,{id:"user-vocab-progress"});const{results:T,inputTokens:R,outputTokens:I}=await se(G,L);if(T.length===0)throw new Error("AI    .");ce.loading(`${T.length}   ...`,{id:"user-vocab-progress"});const W=MB(),B=await fetch(`https://${Ge}.supabase.co/functions/v1/server/save-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({vocabularyId:W,title:i.trim()||Fp(),category:"My Own",level:"Beginner",words:T})}),K=await B.json();if(!B.ok)throw new Error(K.error||"  .");v(T),m({inputTokens:R||0,outputTokens:I||0}),d(""),a(Fp()),Ol(),ce.success("     ! ",{id:"user-vocab-progress"}),t&&K.vocabulary?.id&&t(K.vocabulary.id,K.vocabulary.title||i)}catch(T){console.error("  :",T),ce.error(T?.message||"    .",{id:"user-vocab-progress"})}finally{f(!1),N(!1)}},J=async()=>{if(G.length===0){ce.error("   .");return}if(!F){ce.error("  .");return}const{data:{session:$}}=await Mp.auth.getSession(),L=$?.access_token||n?.();if(!L){ce.error(" .  .");return}f(!0),m(null),v([]);try{ce.dismiss("user-vocab-progress"),ce.loading(`AI ${G.length}   `,{id:"user-vocab-progress"});const{results:T,inputTokens:R,outputTokens:I}=await se(G,L);if(T.length===0)throw new Error("AI    .");ce.loading(`${T.length}   ...`,{id:"user-vocab-progress"});const W=await fetch(`https://${Ge}.supabase.co/functions/v1/server/add-words-to-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({vocabularyId:F,words:T})}),B=await W.json();if(!W.ok)throw new Error(B.error||"  .");const K=E.find(U=>U.id===F);v(T),m({inputTokens:R||0,outputTokens:I||0}),d(""),D(""),Ol(),ce.success(`${K?.title||""} ${T.length}  ! `,{id:"user-vocab-progress"}),t&&F&&t(F,K?.title||"")}catch(T){console.error("  :",T),ce.error(T?.message||"    .",{id:"user-vocab-progress"})}finally{f(!1),C(!1)}};return s.jsxs("div",{className:"flex h-full flex-col",children:[s.jsx(Kl,{onBack:e,title:"AI Vocabulary Maker",subtitle:"   AI ",rightElement:r?s.jsxs(M.button,{whileTap:{scale:.95},onClick:r,className:"flex items-center gap-1.5 px-3 py-2 bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED] rounded-full shadow-lg hover:shadow-xl transition-shadow",title:"Presets",children:[s.jsx(au,{className:"w-4 h-4 text-white flex-shrink-0"}),s.jsx("span",{className:"text-white text-xs font-semibold hidden sm:inline",children:"Presets"})]}):void 0}),s.jsx("div",{className:"flex-1 overflow-auto px-4 pb-6",children:s.jsxs("div",{className:"bg-white/95 backdrop-blur-xl border border-white/50 rounded-3xl shadow-xl p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-[#091A7A] mb-2",children:"  (   )"}),s.jsx(XD,{value:c,onChange:$=>d($.target.value),placeholder:`) meticulous, resilience, nostalgia
     .`,className:"min-h-[280px] resize-none"}),s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[" ",G.length,"  ."]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{disabled:u||G.length===0,onClick:()=>{if(G.length===0){ce.error("   .");return}N(!0)},className:"flex-1 h-14 font-semibold rounded-lg flex flex-col items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed bg-gradient-to-r from-[#491B6D] to-[#5E2278] text-white",style:{fontSize:"14px"},children:[s.jsx(Jo,{className:"w-5 h-5"}),u?"AI   ...":"  "]}),s.jsxs("button",{disabled:u||G.length===0,onClick:()=>{if(G.length===0){ce.error("   .");return}ee(),C(!0)},className:"flex-1 h-14 font-semibold rounded-lg flex flex-col items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed bg-gradient-to-r from-[#491B6D] to-[#5E2278] text-white",style:{fontSize:"14px"},children:[s.jsx(sS,{className:"w-5 h-5"}),"  "]})]}),b&&s.jsxs("div",{className:"bg-white border border-[#C4B5FD] rounded-2xl p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[#7C3AED] font-semibold",children:[s.jsx(ur,{className:"w-5 h-5 animate-pulse"}),"AI   ..."]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-[#7C3AED] to-[#A78BFA] h-3 rounded-full transition-all duration-500",style:{width:`${b.current/b.total*100}%`}})}),s.jsxs("p",{className:"text-sm text-gray-600",children:[" ",b.current,"/",b.total,"  ..."]})]}),y.length>0&&s.jsxs("div",{className:"bg-white border border-dashed border-[#C4B5FD] rounded-2xl p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[#2563EB] font-semibold",children:[s.jsx(tS,{className:"w-5 h-5"}),"   "]}),s.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-700",children:y.slice(0,10).map($=>s.jsxs("div",{className:"px-3 py-2 bg-[#F5F3FF] rounded-lg",children:[s.jsx("span",{className:"font-semibold text-[#5B21B6]",children:$.word}),s.jsx("span",{className:"ml-2 text-xs text-gray-500",children:$.partOfSpeech}),s.jsx("p",{className:"text-xs text-gray-600 truncate",children:$.meaning})]},`${$.word}-${$.meaning}`))}),y.length>10&&s.jsxs("p",{className:"text-xs text-gray-500",children:[" ",y.length-10,"   ."]}),p&&s.jsxs("div",{className:"text-xs text-gray-500",children:["     ",p.inputTokens.toLocaleString()," /  ",p.outputTokens.toLocaleString()]})]})]})}),S&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[s.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-4",children:"  "}),s.jsx(hu,{value:i,onChange:$=>a($.target.value),placeholder:"  ",className:"mb-4"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Un,{onClick:ie,className:"flex-1 bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] hover:from-[#7C3AED] hover:to-[#6D28D9] text-white",disabled:u,children:u?" ...":""}),s.jsx(Un,{variant:"outline",onClick:()=>N(!1),className:"flex-1",disabled:u,children:""})]})]})}),_&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[s.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-4",children:"  "}),O?s.jsx("div",{className:"text-center py-4 text-gray-500",children:"   ..."}):E.length===0?s.jsx("div",{className:"text-center py-4 text-gray-500",children:"  ."}):s.jsxs(V8,{value:F,onValueChange:D,children:[s.jsx(H8,{className:"mb-4 bg-white border-gray-300",children:s.jsx(U8,{placeholder:" "})}),s.jsx(G8,{className:"bg-white border border-gray-200 shadow-lg",children:E.map($=>s.jsx(q8,{value:$.id,className:"hover:bg-gray-100",children:$.title},$.id))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Un,{variant:"outline",onClick:()=>{C(!1),D("")},className:"flex-1 rounded-lg border-gray-300",disabled:u,children:""}),s.jsx(Un,{variant:"outline",onClick:J,className:"flex-1 rounded-lg border-gray-300 bg-[#7C3AED] text-white hover:bg-[#6D28D9] hover:text-white",disabled:u||!F,children:u?" ...":""})]})]})})]})}const BB="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function sC(e){const[t,n]=g.useState(!1),r=()=>{n(!0)},{src:i,alt:a,style:c,className:d,...u}=e;return t?s.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${d??""}`,style:c,children:s.jsx("div",{className:"flex items-center justify-center w-full h-full",children:s.jsx("img",{src:BB,alt:"Error loading image",...u,"data-original-url":i})})}):s.jsx("img",{src:i,alt:a,className:d,style:c,...u,onError:r})}const zB=[{id:1,title:"First Quiz Complete",description:"Completed your first quiz",icon:eS,earned:!0},{id:2,title:"Week Warrior",description:"7-day learning streak",icon:Hl,earned:!1},{id:3,title:"Math Master",description:"100% in Mathematics quiz",icon:hr,earned:!0},{id:4,title:"XP Champion",description:"Earned 10,000 XP",icon:Ks,earned:!1}],WB=[{label:"Total XP",value:"5,500",icon:Ks,color:"from-yellow-400 to-yellow-600"},{label:"Current Streak",value:"3 days",icon:Hl,color:"from-orange-400 to-orange-600"},{label:"Quizzes Completed",value:"12",icon:eS,color:"from-blue-400 to-blue-600"},{label:"Avg. Score",value:"87%",icon:gS,color:"from-green-400 to-green-600"}];function VB({onBack:e,userXP:t,profileImage:n,levelProgress:r}){const i=r.currentLevel,a=r.xpForNextLevel-r.xpInCurrentLevel,c=r.xpInCurrentLevel/r.xpForNextLevel*100;return s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"relative overflow-hidden",style:{background:"transparent"},children:s.jsxs("div",{className:"relative p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(Or,{onClick:e}),s.jsx(M.button,{whileTap:{scale:.95},className:"w-12 h-12 bg-card-glass backdrop-blur-lg rounded-full flex items-center justify-center shadow-card border border-white/20",children:s.jsx(fS,{className:"w-5 h-5 text-[#091A7A]"})})]}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsxs(M.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative",children:[s.jsx(sC,{src:n,alt:"Profile",className:"w-24 h-24 rounded-full border-4 border-white shadow-xl object-cover object-top"}),s.jsx("div",{className:"absolute -bottom-2 -right-2 px-3 py-1 bg-gradient-to-r from-[#091A7A] to-[#1a2b8a] rounded-full",children:s.jsxs("span",{className:"text-white font-bold text-sm",children:["Lv.",i]})})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-[#091A7A]",children:"Abhi Dhande"}),s.jsx("p",{className:"text-[#091A7A]/70",children:"Learning enthusiast"})]}),s.jsxs("div",{className:"w-full max-w-xs space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm text-[#091A7A]/70",children:[s.jsxs("span",{children:["Level ",i]}),s.jsxs("span",{children:[a," XP to next level"]})]}),s.jsx("div",{className:"h-3 bg-white/40 rounded-full overflow-hidden",children:s.jsx(M.div,{initial:{width:0},animate:{width:`${c}%`},transition:{delay:.5,duration:1},className:"h-full bg-gradient-to-r from-[#091A7A] to-[#1a2b8a] rounded-full"})})]})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"font-semibold text-[#091A7A] mb-4",children:"Your Stats"}),s.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:WB.map((d,u)=>s.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+u*.1},className:"p-4 bg-white/60 backdrop-blur-sm rounded-2xl border border-white/40 shadow-sm",children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${d.color} rounded-xl flex items-center justify-center mb-3`,children:s.jsx(d.icon,{className:"w-5 h-5 text-white"})}),s.jsx("p",{className:"text-2xl font-bold text-[#091A7A]",children:d.label==="Total XP"?t.toLocaleString():d.value}),s.jsx("p",{className:"text-xs text-[#091A7A]/70",children:d.label})]},d.label))}),s.jsx("h3",{className:"font-semibold text-[#091A7A] mb-4",children:"Achievements"}),s.jsx("div",{className:"space-y-3",children:zB.map((d,u)=>s.jsx(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+u*.1},className:`p-4 rounded-2xl border ${d.earned?"bg-gradient-to-r from-green-50 to-green-100/50 border-green-200":"bg-white/40 border-white/30"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${d.earned?"bg-gradient-to-br from-green-400 to-green-600":"bg-gray-200"}`,children:s.jsx(d.icon,{className:`w-6 h-6 ${d.earned?"text-white":"text-gray-400"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:`font-semibold ${d.earned?"text-green-800":"text-[#091A7A]/60"}`,children:d.title}),d.earned&&s.jsx(QP,{className:"w-4 h-4 text-green-600"})]}),s.jsx("p",{className:`text-sm ${d.earned?"text-green-700":"text-[#091A7A]/50"}`,children:d.description})]})]})},d.id))})]})]})}const ng="/assets/1627f3a870e9b56d751d07f53392d7a84aa55817-nVPN00k3.png",a1=[{id:1,name:"Dr. Sarah Wilson",avatar:"https://images.unsplash.com/photo-1607746882042-944635dfe10e?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:2,name:"Prof. Michael Chen",avatar:"https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:3,name:"Ms. Emily Davis",avatar:"https://images.unsplash.com/photo-1580489944761-15a19d654956?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:4,name:"Dr. James Rodriguez",avatar:"https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:5,name:"Prof. Lisa Thompson",avatar:"https://images.unsplash.com/photo-1614289371518-722f2615943d?w=128&h=128&fit=crop&crop=faces&facepad=3"},{id:6,name:"Dr. Alex Kumar",avatar:"https://images.unsplash.com/photo-1507591064344-4c6ce005b128?w=128&h=128&fit=crop&crop=faces&facepad=3"}],UB=e=>{const t=[{id:"unit1",title:"Algebra & Geometry",progress:60,chapters:[{id:"ch1",title:"Introduction to Algebra",duration:"12 min",progress:100,isUnlocked:!0,isCompleted:!0},{id:"ch2",title:"Linear Equations",duration:"15 min",progress:80,isUnlocked:!0,isCompleted:!1},{id:"ch3",title:"Quadratic Equations",duration:"18 min",progress:40,isUnlocked:!0,isCompleted:!1}]},{id:"unit2",title:"Trigonometry & Statistics",progress:20,chapters:[{id:"ch4",title:"Basics of Trigonometry",duration:"14 min",progress:20,isUnlocked:!0,isCompleted:!1},{id:"ch5",title:"Probability & Statistics",duration:"16 min",progress:0,isUnlocked:!1,isCompleted:!1}]}],n=[{id:"unit1",title:"Grammar & Vocabulary",progress:75,chapters:[{id:"ch1",title:"Parts of Speech",duration:"10 min",progress:100,isUnlocked:!0,isCompleted:!0},{id:"ch2",title:"Sentence Structure",duration:"13 min",progress:90,isUnlocked:!0,isCompleted:!1},{id:"ch3",title:"Advanced Grammar",duration:"17 min",progress:35,isUnlocked:!0,isCompleted:!1}]},{id:"unit2",title:"Literature & Writing",progress:30,chapters:[{id:"ch4",title:"Creative Writing",duration:"20 min",progress:60,isUnlocked:!0,isCompleted:!1},{id:"ch5",title:"Poetry Analysis",duration:"15 min",progress:0,isUnlocked:!1,isCompleted:!1}]}],r=[{id:"unit1",title:"Physics & Chemistry",progress:50,chapters:[{id:"ch1",title:"Matter & Energy",duration:"14 min",progress:100,isUnlocked:!0,isCompleted:!0},{id:"ch2",title:"Chemical Reactions",duration:"16 min",progress:25,isUnlocked:!0,isCompleted:!1},{id:"ch3",title:"Forces & Motion",duration:"18 min",progress:25,isUnlocked:!0,isCompleted:!1}]},{id:"unit2",title:"Biology & Earth Science",progress:15,chapters:[{id:"ch4",title:"Cell Biology",duration:"12 min",progress:30,isUnlocked:!0,isCompleted:!1},{id:"ch5",title:"Ecosystems",duration:"15 min",progress:0,isUnlocked:!1,isCompleted:!1}]}],i=[{id:"unit1",title:"World History",progress:45,chapters:[{id:"ch1",title:"Ancient Civilizations",duration:"16 min",progress:100,isUnlocked:!0,isCompleted:!0},{id:"ch2",title:"Medieval Period",duration:"14 min",progress:35,isUnlocked:!0,isCompleted:!1},{id:"ch3",title:"Modern Era",duration:"18 min",progress:0,isUnlocked:!0,isCompleted:!1}]},{id:"unit2",title:"Geography & Culture",progress:25,chapters:[{id:"ch4",title:"World Geography",duration:"13 min",progress:50,isUnlocked:!0,isCompleted:!1},{id:"ch5",title:"Cultural Studies",duration:"17 min",progress:0,isUnlocked:!1,isCompleted:!1}]}];switch(e.toLowerCase()){case"mathematics":return t;case"english":return n;case"science":return r;case"social studies":return i;default:return t}},HB=e=>{switch(e.toLowerCase()){case"mathematics":return"Algebra, Geometry & Trigonometry  Grade 10";case"english":return"Grammar, Literature & Writing  Grade 10";case"science":return"Physics, Chemistry & Biology  Grade 10";case"social studies":return"History, Geography & Culture  Grade 10";default:return"Education you can believe in"}},GB=e=>{for(const t of e)for(const n of t.chapters)if(!n.isCompleted&&n.isUnlocked)return{unit:t.title,chapter:n.title,progress:n.progress};return{unit:e[0].title,chapter:e[0].chapters[0].title,progress:e[0].chapters[0].progress}};function qB({subject:e,onBack:t,onStartQuiz:n,onLessonClick:r}){const[i,a]=g.useState(["unit1"]),c=UB(e.name),d=HB(e.name),u=GB(c),f=Math.round(c.reduce((v,b)=>v+b.progress,0)/c.length),p=c.reduce((v,b)=>v+b.chapters.length,0),m=c.reduce((v,b)=>v+b.chapters.length*15,0),y=v=>{a(b=>b.includes(v)?b.filter(j=>j!==v):[...b,v])};return s.jsxs("div",{className:"h-full bg-gradient-to-b from-[#ADC8FF] via-[#E8F2FF]/95 to-white",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ADC8FF]/30 via-transparent to-transparent"}),s.jsxs("div",{className:"relative px-6 pt-4 pb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(Or,{onClick:t}),s.jsx("h1",{className:"text-section-header text-[#4F8EFF]/80",children:"Course Details"}),s.jsx(M.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-12 h-12 bg-white/95 backdrop-blur-md rounded-2xl flex items-center justify-center shadow-lg border border-white/40",children:s.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-[#091A7A] to-[#4F8EFF] flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})})]}),s.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/90 backdrop-blur-md rounded-3xl p-6 shadow-xl border border-white/50 mb-6",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${e.color} rounded-3xl flex items-center justify-center shadow-lg`,children:e.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-main-heading text-[#4F8EFF] mb-2",children:e.name}),s.jsx("p",{className:"text-small text-[#6B8EFF]/80 mb-3",children:d}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qo,{className:"w-4 h-4 text-[#6B8EFF]/60"}),s.jsxs("span",{className:"text-tiny text-[#6B8EFF]/70",children:[Math.floor(m/60),"h ",m%60,"min"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ys,{className:"w-4 h-4 text-amber-500 fill-current"}),s.jsx("span",{className:"text-tiny font-medium text-[#4F8EFF]",children:"4.9"})]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-subheading text-[#4F8EFF]",children:"Overall Progress"}),s.jsxs("span",{className:"text-subheading font-semibold text-[#4F8EFF]",children:[f,"%"]})]}),s.jsx("div",{className:"h-3 bg-[#ADC8FF]/30 rounded-full overflow-hidden",children:s.jsx(M.div,{initial:{width:0},animate:{width:`${f}%`},transition:{delay:.3,duration:1.2,ease:"easeOut"},className:"h-full bg-gradient-to-r from-[#4F8EFF] to-[#7BA7FF] rounded-full shadow-sm"})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-tiny text-[#6B8EFF]/70",children:"Course Content"}),s.jsxs("span",{className:"text-tiny text-[#6B8EFF]/80",children:[p," Videos"]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(t0,{className:"w-4 h-4 text-[#6B8EFF]/70"}),s.jsx("span",{className:"text-small text-[#6B8EFF]/70",children:"Instructors"})]}),s.jsxs("div",{className:"flex items-center",children:[a1.slice(0,5).map((v,b)=>s.jsx(M.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:b*.1},className:"relative",style:{marginLeft:b>0?"-12px":"0"},children:s.jsx("img",{src:b===0?ng:v.avatar,alt:v.name,className:"w-11 h-11 rounded-full border-3 border-white shadow-lg object-cover object-[center_20%]"})},v.id)),s.jsx("div",{className:"w-11 h-11 bg-white/95 backdrop-blur-md rounded-full border-3 border-white shadow-lg flex items-center justify-center",style:{marginLeft:"-12px"},children:s.jsxs("span",{className:"text-xs font-semibold text-[#4F8EFF]",children:["+",a1.length-5]})})]})]})]})]}),s.jsx("div",{className:"px-6 mb-6",children:s.jsx(M.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:n,className:"w-full bg-subject-gradient text-[#4F8EFF] rounded-3xl p-5 shadow-xl border border-white/40 backdrop-blur-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-white/30 rounded-xl flex items-center justify-center",children:s.jsx(Bi,{className:"w-4 h-4 text-[#4F8EFF]"})}),s.jsx("span",{className:"text-subheading font-semibold",children:"Continue Learning"})]}),s.jsxs("p",{className:"text-small text-[#4F8EFF]/80 font-medium",children:[u.unit,": ",u.chapter]}),s.jsxs("p",{className:"text-small text-[#4F8EFF]/70 font-medium",children:[u.progress,"% completed"]})]}),s.jsx("div",{className:"w-14 h-14 bg-white backdrop-blur-sm rounded-full flex items-center justify-center border border-white/30 shadow-lg",children:s.jsx(Bi,{className:"w-6 h-6 text-[#4F8EFF]"})})]})})}),s.jsx("div",{className:"flex-1 px-6 pb-6",children:s.jsx("div",{className:"space-y-6",children:c.map((v,b)=>{const j=i.includes(v.id);return s.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1},className:"bg-white/95 backdrop-blur-xl rounded-3xl overflow-hidden shadow-elevated border border-white/60 ring-1 ring-[#ADC8FF]/20",whileHover:{scale:1.01,boxShadow:"0 25px 50px rgba(9, 26, 122, 0.3), 0 0 0 1px rgba(173, 200, 255, 0.4)"},transition:{duration:.3,ease:"easeOut"},children:[s.jsxs(M.button,{whileHover:{backgroundColor:"rgba(173, 200, 255, 0.08)"},whileTap:{scale:.98},onClick:()=>y(v.id),className:"w-full p-6 flex items-center justify-between relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#ADC8FF]/5 via-transparent to-[#ADC8FF]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"text-left relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-[#ADC8FF] rounded-full flex items-center justify-center border border-white/30 shadow-lg ring-1 ring-[#ADC8FF]/30",children:s.jsx("span",{className:"text-small font-semibold text-[#091A7A]",children:b+1})}),s.jsxs("span",{className:"text-body font-semibold text-[#091A7A]/80",children:["Unit ",b+1]})]}),s.jsx("h3",{className:"text-subheading text-[#4F8EFF] mb-2",children:v.title}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-2.5 w-24 bg-[#ADC8FF]/30 rounded-full overflow-hidden shadow-inner",children:s.jsx(M.div,{initial:{width:0},animate:{width:`${v.progress}%`},transition:{delay:.5,duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-[#4F8EFF] to-[#7BA7FF] rounded-full shadow-sm"})}),s.jsxs("span",{className:"text-small font-semibold text-[#091A7A]",children:[v.progress,"%"]})]})]}),s.jsx(M.div,{animate:{rotate:j?90:0},transition:{duration:.3,ease:"easeInOut"},className:"w-12 h-12 bg-[#ADC8FF]/15 rounded-full flex items-center justify-center border border-white/40 shadow-sm relative z-10",whileHover:{backgroundColor:"rgba(173, 200, 255, 0.25)"},children:s.jsx(Xo,{className:"w-5 h-5 text-[#091A7A]/70"})})]}),s.jsx(M.div,{initial:!1,animate:{height:j?"auto":0},transition:{duration:.4,ease:"easeInOut"},className:"overflow-hidden",children:s.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[s.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-[#ADC8FF]/30 to-transparent mb-4"}),v.chapters.map((S,N)=>s.jsxs(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:N*.08},className:"bg-white/90 backdrop-blur-sm rounded-2xl p-5 border border-white/70 shadow-card ring-1 ring-[#ADC8FF]/10 relative overflow-hidden",whileHover:{scale:1.02,boxShadow:"0 8px 25px rgba(9, 26, 122, 0.15)"},transition:{duration:.2},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ADC8FF]/3 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:"w-11 h-11 bg-gradient-to-br from-[#ADC8FF]/40 to-[#ADC8FF]/20 rounded-full flex items-center justify-center border border-white/50 shadow-sm",children:s.jsx("span",{className:"text-small font-semibold text-[#091A7A]",children:N+1})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-subheading text-[#091A7A] mb-1.5 font-medium",children:S.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qo,{className:"w-3.5 h-3.5 text-[#6B8EFF]/70"}),s.jsx("span",{className:"text-small text-[#091A7A]/60 font-medium",children:S.duration})]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:S.isCompleted?s.jsx("div",{className:"w-9 h-9 bg-green-50 rounded-full flex items-center justify-center border border-green-200 shadow-sm",children:s.jsx(Mn,{className:"w-4.5 h-4.5 text-green-600"})}):S.isUnlocked?s.jsx(M.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>r?.(S.title),className:"w-9 h-9 bg-gradient-to-br from-[#4F8EFF] to-[#7BA7FF] rounded-full flex items-center justify-center shadow-lg border border-white/30",children:s.jsx(Bi,{className:"w-3.5 h-3.5 text-white"})}):s.jsx("div",{className:"w-9 h-9 bg-gray-50 rounded-full flex items-center justify-center border border-gray-200 shadow-sm",children:s.jsx(lu,{className:"w-4 h-4 text-gray-400"})})})]}),S.progress>0&&!S.isCompleted&&s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"h-2 bg-[#ADC8FF]/25 rounded-full overflow-hidden shadow-inner",children:s.jsx(M.div,{initial:{width:0},animate:{width:`${S.progress}%`},transition:{delay:.3,duration:.8,ease:"easeOut"},className:"h-full bg-gradient-to-r from-[#4F8EFF] to-[#7BA7FF] rounded-full shadow-sm"})})})]},S.id))]})})]},v.id)})})})]})}function iC({onBack:e,vocabularyId:t,vocabularyName:n,totalWords:r,onComplete:i}){const[a,c]=g.useState([]),[d,u]=g.useState(!0),[f,p]=g.useState(new Set),[m,y]=g.useState(new Set),[v,b]=g.useState([]),j=100,[S,N]=g.useState(null),[_,C]=g.useState(0),E=g.useRef(0),A=g.useRef(0),F=g.useRef(!1);g.useEffect(()=>{D()},[t]);const D=async()=>{try{u(!0);const L=await fetch(`https://${Ge}.supabase.co/functions/v1/server/shared-vocabulary/${t}/words`,{headers:{Authorization:`Bearer ${En}`}});if(!L.ok)throw new Error("Failed to fetch words");const T=await L.json();c(T.words||[])}catch(L){console.error("Error fetching words:",L),ce.error("  ")}finally{u(!1)}},O=L=>{y(T=>{const R=new Set(T);return R.has(L)?R.delete(L):R.add(L),R})},V=(L,T)=>{E.current=L.touches[0].clientX,A.current=L.touches[0].clientY,F.current=!1,N(T)},G=(L,T)=>{if(S!==T)return;const R=L.touches[0].clientX-E.current,I=L.touches[0].clientY-A.current;!F.current&&Math.abs(R)>Math.abs(I)&&Math.abs(R)>10&&(F.current=!0),F.current&&(L.preventDefault(),C(R))},ee=L=>{Math.abs(_)>100&&F.current&&se(L),C(0),N(null),F.current=!1},se=L=>{p(T=>new Set(T).add(L)),b(T=>[...T,L]),y(T=>{const R=new Set(T);return R.delete(L),R})},ie=()=>{if(v.length===0)return;const L=v[v.length-1];p(T=>{const R=new Set(T);return R.delete(L),R}),b(T=>T.slice(0,-1))},J=()=>{const L=a.filter(T=>!f.has(T.id)).map(T=>T.id);if(L.length===0){ce.error(" 1   ");return}i(L,j)},$=a.filter(L=>!f.has(L.id));return Math.ceil($.length/j),d?s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-[#8B5CF6] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-[#091A7A]/70",children:" ..."})]})}):s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"sticky top-0 z-40 backdrop-blur-xl border-b border-gray-100 px-6 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(M.button,{whileTap:{scale:.95},onClick:e,className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm border border-gray-200",children:s.jsx(xs,{className:"w-5 h-5 text-[#091A7A]"})}),s.jsxs("div",{className:"text-center flex-1",children:[s.jsx("h1",{className:"text-lg font-bold text-[#091A7A]",children:n}),s.jsxs("p",{className:"text-sm text-[#091A7A]/60",children:[$.length," / ",r,"  "]})]}),s.jsx(M.button,{whileTap:{scale:.95},onClick:ie,disabled:v.length===0,className:`w-10 h-10 rounded-full flex items-center justify-center shadow-sm transition-all ${v.length>0?"bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED]":"bg-gray-200"}`,children:s.jsx(Z6,{className:"w-5 h-5 text-white"})})]}),s.jsx("div",{className:"text-xs text-[#091A7A]/50 mt-2 text-center",children:"     "})]}),s.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:s.jsxs("div",{className:"p-4",children:[s.jsx(pt,{children:$.map((L,T)=>{const R=m.has(L.id),I=S===L.id,W=I?_:0,B=Math.max(.3,1-Math.abs(W)/200);return s.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:B,y:0,x:W},exit:{opacity:0,x:W>0?300:-300,height:0},transition:{duration:.2},onTouchStart:K=>V(K,L.id),onTouchMove:K=>G(K,L.id),onTouchEnd:()=>ee(L.id),className:"relative bg-white/95 backdrop-blur-lg rounded-[20px] p-4 mb-3 shadow-md border border-white/20",style:{touchAction:I?"none":"auto"},children:[I&&Math.abs(W)>50&&s.jsx("div",{className:`absolute top-1/2 -translate-y-1/2 ${W>0?"right-4":"left-4"}`,children:s.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center opacity-80",children:s.jsx(yn,{className:"w-6 h-6 text-white",strokeWidth:3})})}),s.jsx("div",{className:"absolute top-3 left-3 w-6 h-6 bg-[#8B5CF6] rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-[10px] text-white font-medium",children:T+1})}),s.jsxs("div",{className:"flex items-center justify-between pl-10 cursor-pointer",onClick:()=>O(L.id),children:[s.jsx("span",{className:"text-base font-semibold text-gray-700",children:L.word}),s.jsx("span",{className:`text-sm transition-opacity ${R?"text-[#091A7A] opacity-100":"text-[#091A7A]/30 opacity-50"}`,children:R?L.meaning:"  "})]})]},L.id)})}),$.length===0&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx("p",{className:"text-[#091A7A]/70",children:"  "}),s.jsx("p",{className:"text-sm text-[#091A7A]/50 mt-1",children:"    "})]})]})}),s.jsxs("div",{className:"sticky bottom-0 backdrop-blur-lg border-t border-white/20 p-4",children:[s.jsx("div",{className:"mb-3 text-center",children:s.jsx("p",{className:"text-sm text-[#091A7A]/60",children:"100   ."})}),s.jsx(M.button,{whileTap:{scale:.98},onClick:J,disabled:$.length===0,className:`w-full h-12 rounded-[20px] flex items-center justify-center shadow-lg transition-all ${$.length>0?"bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] text-white":"bg-gray-300 text-gray-500"}`,children:"  "})]})]})}const KB=[{id:"all",name:"All"},{id:"TOEIC",name:"TOEIC"},{id:"SAT",name:"SAT"},{id:"GRE",name:"GRE"},{id:"School",name:" "},{id:"General",name:"General English"}];function YB({onBack:e,getAuthToken:t}){const[n,r]=g.useState("all"),[i,a]=g.useState([]),[c,d]=g.useState([]),[u,f]=g.useState(!0),[p,m]=g.useState(null),y=g.useRef(null);g.useEffect(()=>{v()},[]);const v=async()=>{try{f(!0);const N=await fetch(`https://${Ge}.supabase.co/functions/v1/server/shared-vocabularies`,{headers:{Authorization:`Bearer ${En}`}});if(!N.ok)throw new Error("Failed to fetch vocabularies");const _=await N.json();a(_.vocabularies||[])}catch(N){console.error("Error fetching vocabularies:",N),ce.error("Failed to load vocabularies")}finally{f(!1)}};g.useEffect(()=>{let N=i;n!=="all"&&(N=N.filter(_=>_.category===n)),d(N)},[n,i]);const b=N=>{switch(N){case"TOEIC":return"bg-yellow-400 text-purple-900";case"SAT":return"bg-white text-purple-700";case"GRE":return"bg-purple-300 text-purple-900";case"School":return"bg-pink-300 text-purple-900";case"General":return"bg-green-300 text-green-900";default:return"bg-purple-300 text-purple-900"}},j=N=>{m(N)},S=async(N,_)=>{if(p)try{const C=t?t():localStorage.getItem("supabase_access_token")||En;if(!(await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({name:p.name,description:p.description,words_per_unit:_,selected_word_ids:N,shared_vocabulary_id:p.id})})).ok)throw new Error("Failed to add vocabulary");ce.success("Vocabulary added successfully!"),m(null)}catch(C){console.error("Error adding vocabulary:",C),ce.error("Failed to add vocabulary")}};return p?s.jsx(iC,{onBack:()=>m(null),vocabularyId:p.id,vocabularyName:p.name,totalWords:p.total_words,onComplete:S}):s.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-b from-[#E8E0FF] to-[#F0EBFF]",children:[s.jsx(Kl,{onBack:e,title:"",subtitle:"   "}),s.jsx("div",{className:"px-4 pb-4",children:s.jsx("div",{ref:y,className:"flex gap-2 overflow-x-auto scrollbar-hide",children:KB.map(N=>s.jsx(M.button,{whileTap:{scale:.95},onClick:()=>r(N.id),className:`px-4 py-2 rounded-full whitespace-nowrap transition-all text-sm ${n===N.id?"bg-white text-[#491B6D] shadow-md":"bg-white/30 text-[#491B6D] border border-white/50"}`,children:N.name},N.id))})}),s.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-4 py-6",children:[u?s.jsx("div",{className:"flex items-center justify-center py-16",children:s.jsx("div",{className:"w-12 h-12 border-4 border-[#8B6FC4] border-t-transparent rounded-full animate-spin"})}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(pt,{children:c.map((N,_)=>s.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:_*.05},whileTap:{scale:.98},onClick:()=>j(N),className:"bg-white/40 backdrop-blur-lg rounded-3xl p-5 border border-white/50 shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-white/60 rounded-2xl flex items-center justify-center flex-shrink-0",children:s.jsx(us,{className:"w-7 h-7 text-[#8B6FC4]"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-[#4A3A6B] mb-2 line-clamp-2",children:N.name}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${b(N.category)}`,children:N.category||"General"}),s.jsxs("span",{className:"text-[#8B6FC4] text-xs",children:[N.total_words," "]})]})]}),s.jsx(Xo,{className:"w-5 h-5 text-[#8B6FC4] flex-shrink-0 mt-1"})]})},N.id))}),c.length===0&&!u&&s.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[s.jsx("div",{className:"w-16 h-16 bg-white/40 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(us,{className:"w-8 h-8 text-[#8B6FC4]"})}),s.jsx("p",{className:"text-[#6B5A8B]",children:"No vocabulary found"})]})]}),s.jsx("div",{className:"h-4"})]})]})}function XB({onBack:e,onTakeQuiz:t,lessonTitle:n="Introduction to Algebra",teacherName:r="Dr. Sarah Wilson"}){const[i,a]=g.useState(!1),[c,d]=g.useState(!1),[u,f]=g.useState(!1),[p,m]=g.useState(!1),[y,v]=g.useState(!1),[b,j]=g.useState(35),S={name:r,designation:"Mathematics Professor",rating:4.8,avatar:"https://images.unsplash.com/photo-1511629091441-ee46146481b6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxvbmxpbmUlMjBlZHVjYXRpb24lMjB0ZWFjaGVyJTIwcHJvZmVzc29yfGVufDF8fHx8MTc1NzUzNzU0MHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",followers:"12.5K"},N=()=>{a(!i)},_=()=>{u&&f(!1),d(!c)},C=()=>{c&&d(!1),f(!u)},E=()=>{m(!p)},A=()=>{v(!y)};return s.jsxs("div",{className:"h-full bg-gradient-to-b from-[#ADC8FF] via-[#E8F2FF]/95 to-white",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative w-full aspect-video bg-black",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1560785472-2f186f554644?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXRoZW1hdGljcyUyMGxlc3NvbiUyMGFsZ2VicmElMjBlcXVhdGlvbnN8ZW58MXx8fHwxNzU3NTM4NzY4fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral')"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-black/40"}),s.jsx("div",{className:"absolute bottom-16 left-4 right-4",children:s.jsxs("div",{className:"bg-black/60 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[s.jsx("h3",{className:"text-white font-semibold text-lg mb-1",children:"Introduction to Algebra"}),s.jsx("p",{className:"text-white/80 text-sm",children:"Learn the fundamentals of algebraic equations"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),s.jsx("span",{className:"text-white/60 text-xs",children:"7:20 duration"})]})]})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(M.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:N,className:"w-20 h-20 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-2xl border-4 border-white/50",children:i?s.jsx(cu,{className:"w-8 h-8 text-[#091A7A] ml-1"}):s.jsx(Bi,{className:"w-8 h-8 text-[#091A7A] ml-1"})})})]}),s.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300",children:[s.jsxs("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between z-10",children:[s.jsx(M.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"w-10 h-10 bg-black/40 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/20",children:s.jsx(xs,{className:"w-5 h-5 text-white"})}),s.jsx(M.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-10 h-10 bg-black/40 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/20",children:s.jsx(a6,{className:"w-5 h-5 text-white"})})]}),s.jsxs("div",{className:"absolute bottom-4 left-4 right-4 z-10",children:[s.jsx("div",{className:"w-full h-1 bg-white/30 rounded-full mb-3 overflow-hidden",children:s.jsx(M.div,{initial:{width:0},animate:{width:`${b}%`},className:"h-full bg-white rounded-full"})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(M.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:N,className:"w-8 h-8 flex items-center justify-center",children:i?s.jsx(cu,{className:"w-6 h-6 text-white"}):s.jsx(Bi,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-white text-sm font-medium",children:"2:35 / 7:20"})]}),s.jsx(M.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"w-8 h-8 flex items-center justify-center",children:s.jsx(n0,{className:"w-6 h-6 text-white"})})]})]})]})]}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-6",children:[s.jsx("h1",{className:"text-white font-semibold text-lg mb-1",children:n}),s.jsx("p",{className:"text-white/80 text-sm",children:"Mathematics  Grade 10"})]})]}),s.jsxs("div",{className:"flex-1 px-6",children:[s.jsxs("div",{className:"flex items-center gap-4 py-4 border-b border-white/20",children:[s.jsxs(M.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,className:`flex items-center gap-2 px-4 py-2 rounded-full border transition-all duration-200 ${c?"bg-[#4F8EFF] border-[#4F8EFF] text-white":"bg-white/90 border-white/40 text-[#4F8EFF] hover:bg-[#4F8EFF]/10"}`,children:[s.jsx(q6,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"1.2K"})]}),s.jsxs(M.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C,className:`flex items-center gap-2 px-4 py-2 rounded-full border transition-all duration-200 ${u?"bg-gray-500 border-gray-500 text-white":"bg-white/90 border-white/40 text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(H6,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"23"})]}),s.jsxs(M.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:E,className:`flex items-center gap-2 px-4 py-2 rounded-full border transition-all duration-200 ${p?"bg-amber-500 border-amber-500 text-white":"bg-white/90 border-white/40 text-amber-600 hover:bg-amber-50"}`,children:[s.jsx(tR,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:p?"Saved":"Save"})]})]}),s.jsx("div",{className:"py-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"relative",children:s.jsx("img",{src:S.avatar,alt:S.name,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"text-subheading text-[#091A7A] font-semibold",children:S.name}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ys,{className:"w-3.5 h-3.5 text-amber-500 fill-current"}),s.jsx("span",{className:"text-tiny text-[#091A7A] font-medium",children:S.rating})]})]}),s.jsx("p",{className:"text-small text-[#6B8EFF]/80",children:S.designation}),s.jsxs("p",{className:"text-tiny text-[#6B8EFF]/60",children:[S.followers," followers"]})]}),s.jsxs(M.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:A,className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-200 ${y?"bg-gray-100 text-gray-600 border border-gray-200":"bg-[#4F8EFF] text-white border border-[#4F8EFF] hover:bg-[#3B7FFF]"}`,children:[s.jsx(nD,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:y?"Following":"Follow"})]})]})}),s.jsxs("div",{className:"pb-6",children:[s.jsx("h3",{className:"text-subheading text-[#091A7A] font-semibold mb-3",children:"Lesson Summary"}),s.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-2xl p-4 border border-white/50 shadow-card",children:[s.jsx("p",{className:"text-body text-[#4F8EFF] leading-relaxed",children:"In this lesson, you'll learn how to solve quadratic equations using step-by-step methods. We'll cover the quadratic formula, factoring techniques, and completing the square method. You'll also see real-world examples of how quadratic equations are used in physics and engineering."}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[s.jsx("span",{className:"px-3 py-1 bg-[#ADC8FF]/30 text-[#091A7A] text-tiny font-medium rounded-full",children:"Quadratic Formula"}),s.jsx("span",{className:"px-3 py-1 bg-[#ADC8FF]/30 text-[#091A7A] text-tiny font-medium rounded-full",children:"Factoring"}),s.jsx("span",{className:"px-3 py-1 bg-[#ADC8FF]/30 text-[#091A7A] text-tiny font-medium rounded-full",children:"Real Applications"})]})]})]}),s.jsx("div",{className:"pb-28"})]}),s.jsx("div",{className:"fixed bottom-8 left-8 right-8",children:s.jsx(M.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:t,className:"w-full bg-[#ADC8FF] text-[#091A7A] rounded-full p-4 shadow-lg",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("span",{className:"text-subheading font-semibold text-[#091A7A]",children:"Take Quiz for this Lesson"})})})})]})}function QB({show:e,type:t,title:n,subtitle:r,xpGain:i,onComplete:a}){const c=()=>{switch(t){case"xp-gain":return s.jsx(Ks,{className:"w-6 h-6 text-yellow-400",fill:"currentColor"});case"level-up":return s.jsx(hs,{className:"w-6 h-6 text-yellow-400"});case"streak":return s.jsx(ys,{className:"w-6 h-6 text-orange-400",fill:"currentColor"});case"achievement":return s.jsx(hr,{className:"w-6 h-6 text-green-400"});case"quiz-complete":return s.jsx(Mn,{className:"w-6 h-6 text-green-400"});default:return s.jsx(Ks,{className:"w-6 h-6 text-blue-400"})}},u=(()=>{switch(t){case"xp-gain":return{bg:"from-yellow-500 to-orange-500",border:"border-yellow-400/50",shadow:"shadow-yellow-500/25"};case"level-up":return{bg:"from-yellow-400 to-yellow-600",border:"border-yellow-300/50",shadow:"shadow-yellow-500/30"};case"streak":return{bg:"from-orange-500 to-red-500",border:"border-orange-400/50",shadow:"shadow-orange-500/25"};case"achievement":return{bg:"from-green-500 to-emerald-500",border:"border-green-400/50",shadow:"shadow-green-500/25"};case"quiz-complete":return{bg:"from-blue-500 to-indigo-500",border:"border-blue-400/50",shadow:"shadow-blue-500/25"};default:return{bg:"from-blue-500 to-purple-500",border:"border-blue-400/50",shadow:"shadow-blue-500/25"}}})();return s.jsx(pt,{children:e&&s.jsxs(s.Fragment,{children:[s.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/20 backdrop-blur-sm z-[100] rounded-[3rem]",onClick:a}),s.jsx(M.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",stiffness:300,damping:25,duration:.5},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[101]",children:s.jsxs("div",{className:`
              relative p-5 bg-gradient-to-br ${u.bg} 
              rounded-2xl shadow-2xl ${u.shadow} 
              border ${u.border} backdrop-blur-xl
              min-w-[260px] max-w-[300px]
            `,children:[s.jsx("div",{className:"absolute inset-0 bg-white/10 rounded-2xl opacity-50"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 via-transparent to-transparent rounded-2xl"}),s.jsxs("div",{className:"relative z-10 text-center",children:[s.jsx(M.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:200},className:"mb-3 flex justify-center",children:s.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:c()})}),s.jsx(M.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-base font-semibold text-white mb-1",children:n}),r&&s.jsx(M.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-white/90 text-xs mb-3",children:r}),i&&s.jsxs(M.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5,type:"spring"},className:"flex items-center justify-center gap-1.5 bg-white/20 rounded-full px-3 py-1.5 backdrop-blur-sm",children:[s.jsx(Ks,{className:"w-3.5 h-3.5 text-yellow-300",fill:"currentColor"}),s.jsxs("span",{className:"text-white font-medium text-xs",children:["+",i," XP"]})]}),s.jsx(M.div,{initial:{scaleX:1},animate:{scaleX:0},transition:{duration:3,ease:"linear"},className:"absolute bottom-0 left-0 h-1 bg-white/30 rounded-b-2xl origin-left",style:{width:"100%"},onAnimationComplete:a})]})]})})]})})}function JB({show:e,xpGain:t}){return s.jsx(pt,{children:e&&s.jsxs(M.div,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-10},transition:{duration:.4,ease:"easeOut"},className:"absolute top-16 left-1/2 transform -translate-x-1/2 z-50",children:[s.jsxs(M.div,{animate:{scale:[1,1.05,1],rotate:[0,-2,2,0]},transition:{duration:.6,ease:"easeInOut",times:[0,.3,.7,1]},className:"flex items-center gap-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-full shadow-lg backdrop-blur-sm border border-green-400/30",children:[s.jsx(M.div,{animate:{rotate:[0,180]},transition:{duration:.4,ease:"easeOut"},children:s.jsx(Jo,{className:"w-4 h-4"})}),s.jsxs("span",{className:"font-medium text-sm",children:[t," XP"]}),s.jsx(M.div,{animate:{scale:[1,1.2,1],filter:["brightness(1)","brightness(1.5)","brightness(1)"]},transition:{duration:.6,ease:"easeInOut",repeat:1},children:s.jsx(Ks,{className:"w-4 h-4 text-yellow-300",fill:"currentColor"})})]}),Array.from({length:6}).map((n,r)=>s.jsx(M.div,{initial:{opacity:0,scale:0,x:0,y:0},animate:{opacity:[0,1,0],scale:[0,1,0],x:[0,(Math.random()-.5)*40],y:[0,(Math.random()-.5)*40]},transition:{duration:1,delay:.2+r*.1,ease:"easeOut"},className:`absolute w-1.5 h-1.5 rounded-full ${r%3===0?"bg-yellow-300":r%3===1?"bg-green-300":"bg-white"}`,style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},r))]})})}const Lp="learningAppProgress",l1="learningAppProgress_backup";function ZB({userXP:e,currentProgress:t,totalQuizzesCompleted:n,lastActiveDate:r,onProgressLoaded:i}){const a=f=>{if(f<1e3)return{currentLevel:1,xpForNextLevel:1e3,xpInCurrentLevel:f};const y=f-1e3,b=2+Math.floor(y/500),j=y%500;return{currentLevel:b,xpForNextLevel:500,xpInCurrentLevel:j}},c=f=>{try{const p={...f,lastSaved:new Date().toISOString(),version:"1.0"};localStorage.setItem(Lp,JSON.stringify(p));const m=localStorage.getItem(Lp);m&&localStorage.setItem(l1,m),console.log(" Progress saved successfully")}catch(p){console.error(" Failed to save progress:",p)}},d=()=>{try{const f=localStorage.getItem(Lp);if(f){const p=JSON.parse(f);return console.log(" Progress loaded from storage"),p}}catch(f){console.error(" Failed to load progress:",f);try{const p=localStorage.getItem(l1);if(p){const m=JSON.parse(p);return console.log(" Progress loaded from backup"),m}}catch(p){console.error(" Failed to load backup progress:",p)}}return null},u=()=>({userXP:5500,currentProgress:40,totalQuizzesCompleted:2,completedStages:[],unlockedSubjects:["math","english","science"],dailyGoalProgress:40,lastActiveDate:new Date().toISOString(),totalSessionTime:0,achievements:[],levelProgress:a(5500)});return g.useEffect(()=>{const f=d();if(f)f.levelProgress=a(f.userXP),i(f);else{const p=u();c(p),i(p)}},[]),g.useEffect(()=>{const f={userXP:e,currentProgress:t,totalQuizzesCompleted:n,completedStages:[],unlockedSubjects:["math","english","science","social-studies"],dailyGoalProgress:t,lastActiveDate:r||new Date().toISOString(),totalSessionTime:0,achievements:[],levelProgress:a(e)},p=setTimeout(()=>{c(f)},1e3);return()=>clearTimeout(p)},[e,t,n,r]),null}const Di={calculateLevel:e=>{if(e<1e3)return{currentLevel:1,xpForNextLevel:1e3,xpInCurrentLevel:e};const r=e-1e3,a=2+Math.floor(r/500),c=r%500;return{currentLevel:a,xpForNextLevel:500,xpInCurrentLevel:c}},checkForLevelUp:(e,t)=>{const n=Di.calculateLevel(e).currentLevel;return Di.calculateLevel(t).currentLevel>n},exportProgress:()=>{const e=localStorage.getItem("learningAppProgress");if(e){const t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`learning-progress-${new Date().toISOString().split("T")[0]}.json`,r.click(),URL.revokeObjectURL(n)}},clearProgress:()=>{localStorage.removeItem("learningAppProgress"),localStorage.removeItem("learningAppProgress_backup"),console.log(" Progress cleared")}};function e9({show:e,status:t,className:n=""}){const[r,i]=g.useState("saved");g.useEffect(()=>{e&&i(t)},[e,t]);const a=()=>{switch(r){case"saving":return s.jsx(t6,{className:"w-3 h-3 animate-spin"});case"saved":return s.jsx(Gl,{className:"w-3 h-3"});case"error":return s.jsx(vR,{className:"w-3 h-3"});default:return s.jsx(wR,{className:"w-3 h-3"})}},c=()=>{switch(r){case"saving":return"bg-blue-500/90 text-white";case"saved":return"bg-green-500/90 text-white";case"error":return"bg-red-500/90 text-white";default:return"bg-gray-500/90 text-white"}},d=()=>{switch(r){case"saving":return"Saving...";case"saved":return"Saved";case"error":return"Error";default:return"Saved"}};return s.jsx(pt,{children:e&&s.jsx(M.div,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:10},transition:{duration:.2,ease:"easeOut"},className:`fixed top-20 right-4 z-50 ${n}`,children:s.jsxs("div",{className:`
            flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium
            backdrop-blur-xl border border-white/20 shadow-lg
            ${c()}
          `,children:[a(),s.jsx("span",{children:d()})]})})})}function t9(){const[e,t]=g.useState("saved"),[n,r]=g.useState(!1);return{saveStatus:e,showIndicator:n,triggerSave:()=>{t("saving"),r(!0),setTimeout(()=>{t("saved"),setTimeout(()=>{r(!1)},1500)},800)},triggerError:()=>{t("error"),r(!0),setTimeout(()=>{r(!1)},3e3)}}}const oC="/assets/aeb1623adfde368b33dc26e61638e23dfc50bf84-C69uHyjO.png";function n9({onLoginComplete:e,onGoToSignup:t}){const[n,r]=g.useState({email:"",password:""}),[i,a]=g.useState(!1),[c,d]=g.useState(!1),[u,f]=g.useState(""),p=(j,S)=>{r(N=>({...N,[j]:S})),f("")},m=async()=>{if(!n.email||!n.password){f("  .");return}d(!0),f("");try{console.log(" Signing in with Supabase Auth...");const j=Yn(),{data:S,error:N}=await j.auth.signInWithPassword({email:n.email,password:n.password});if(N){console.error(" Supabase signin error:",N);let E=" .";throw N.message.includes("Invalid login credentials")||N.message.includes("invalid_credentials")?E=`    .
   .`:N.message.includes("Email not confirmed")?E="  .":E=N.message,new Error(E)}if(console.log(" Login response:",S),!S.session||!S.session.access_token)throw console.error(" Invalid response structure:",S),new Error("   .    .");const _=S.session.access_token,C=S.user;localStorage.setItem("supabase_access_token",_),localStorage.setItem("supabase_user",JSON.stringify(C)),console.log(" Login successful, token saved"),console.log(" Access token:",_.substring(0,20)+"..."),e(C,_)}catch(j){console.error(" Login error:",j),f(j.message||" .")}finally{d(!1)}},y=j=>{j.key==="Enter"&&n.email&&n.password&&m()},v=async()=>{d(!0),f("");try{const j=Yn(),{error:S}=await j.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:window.location.origin,queryParams:{scope:"profile_nickname profile_image"}}});if(S)throw S}catch(j){console.error(" Kakao login error:",j),f("  ."),d(!1)}},b=async()=>{d(!0),f("");try{const j=Yn(),{error:S}=await j.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(S)throw S}catch(j){console.error(" Google login error:",j),f("Google  ."),d(!1)}};return s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-8 py-12 min-h-screen",children:[s.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12 text-center",children:[s.jsx("img",{src:oC,alt:"JEJEVOCA",className:"w-32 h-32 mx-auto mb-6"}),s.jsx("h1",{className:"text-5xl font-extrabold mb-3",style:{color:"#1e3a8a"},children:"JEJEVOCA"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"   "})]}),s.jsx(M.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1},className:"w-full max-w-sm",children:s.jsxs("div",{className:"bg-white/80 backdrop-blur-lg border border-white/30 rounded-3xl p-8 shadow-xl space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(cS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"email",value:n.email,onChange:j=>p("email",j.target.value),onKeyPress:y,placeholder:"example@email.com",className:"w-full pl-10 pr-3 py-3 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"email"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(lu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:i?"text":"password",value:n.password,onChange:j=>p("password",j.target.value),onKeyPress:y,placeholder:"",className:"w-full pl-10 pr-10 py-3 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"current-password"}),s.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:i?s.jsx(El,{size:18}):s.jsx(Wo,{size:18})})]})]}),u&&s.jsx(M.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-xl p-3 text-center",children:s.jsx("p",{className:"text-red-600 text-sm",children:u})}),s.jsx(M.button,{whileTap:{scale:.98},onClick:m,disabled:c||!n.email||!n.password,className:`w-full py-3 rounded-2xl font-medium transition-all text-center ${c||!n.email||!n.password?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-[#491B6D] text-white shadow-lg shadow-[#491B6D]/30"}`,children:c?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),s.jsx("span",{children:" ..."})]}):""}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-200"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-4 bg-white text-gray-500",children:" "})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(M.button,{whileTap:{scale:.98},onClick:v,disabled:c,className:"w-full py-3 rounded-2xl font-medium transition-all text-center flex items-center justify-center gap-2",style:{backgroundColor:"#FEE500",color:"#000000"},children:[s.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 3C6.5 3 2 6.6 2 11c0 2.8 1.9 5.3 4.7 6.7l-1.1 4.1c-.1.3.2.6.5.4l5.3-3.5c.5.1 1 .1 1.6.1 5.5 0 10-3.6 10-8S17.5 3 12 3z"})})," "]}),s.jsxs(M.button,{whileTap:{scale:.98},onClick:b,disabled:c,className:"w-full py-3 rounded-2xl font-medium bg-white border border-gray-300 text-gray-700 transition-all text-center flex items-center justify-center gap-2 hover:bg-gray-50",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google "]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-200"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-4 bg-white text-gray-500",children:""})})]}),s.jsx(M.button,{whileTap:{scale:.98},onClick:t,className:"w-full py-3 rounded-2xl font-medium bg-white border border-[#491B6D] text-[#491B6D] transition-all text-center",children:" "}),s.jsx("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-xl",children:s.jsxs("p",{className:"text-xs text-purple-700 text-center",children:["  ?  ",s.jsx("strong",{children:""}),"  !"]})})]})}),s.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-8 text-center text-gray-600 text-sm",children:" JEJETRANSFER. All rights reserved.  Made by "})]})}function r9({onBack:e,onSignupComplete:t}){const[n,r]=g.useState({fullName:"",email:"",password:"",confirmPassword:""}),[i,a]=g.useState(!1),[c,d]=g.useState(!1),[u,f]=g.useState(!1),[p,m]=g.useState(""),y=(N,_)=>{r(C=>({...C,[N]:_})),m("")},v=async()=>{if(!n.fullName||!n.email||!n.password||!n.confirmPassword){m("  .");return}if(n.password!==n.confirmPassword){m("  .");return}if(n.password.length<6){m("  6  .");return}f(!0),m("");try{console.log(" Creating account with Supabase Auth...");const N=Yn(),{data:_,error:C}=await N.auth.signUp({email:n.email,password:n.password,options:{emailRedirectTo:void 0,data:{full_name:n.fullName}}});if(C){console.error(" Supabase signup error:",C);let O=" .";throw C.message.includes("already registered")||C.message.includes("already exists")?O=`  .
 .`:C.message.includes("invalid email")?O="   .":C.message.includes("password")?O="  6  .":O=C.message,new Error(O)}console.log(" Signup successful:",_.user?.id);const{data:E,error:A}=await N.auth.signInWithPassword({email:n.email,password:n.password});if(A)throw console.error(" Auto signin failed:",A),new Error("    .  .");if(!E.session||!E.session.access_token)throw new Error("  .");const F=E.session.access_token,D=E.user;localStorage.setItem("supabase_access_token",F),localStorage.setItem("supabase_user",JSON.stringify(D)),console.log(" Auto-login successful"),console.log(" Access token:",F.substring(0,20)+"...");try{console.log(" Creating user profile...");const{error:O}=await N.from("profiles").insert({id:D.id,student_name:n.fullName,email:n.email});O?console.error(" Profile creation failed:",O):console.log(" Profile created successfully")}catch(O){console.error(" Profile creation error:",O)}t(D,F)}catch(N){console.error(" Signup error:",N),m(N.message||" .")}finally{f(!1)}},b=async()=>{f(!0),m("");try{const N=Yn(),{error:_}=await N.auth.signInWithOAuth({provider:"kakao",options:{queryParams:{scope:"profile_nickname profile_image"}}});if(_)throw _}catch(N){console.error(" Kakao signup error:",N),m("  ."),f(!1)}},j=async()=>{f(!0),m("");try{const N=Yn(),{error:_}=await N.auth.signInWithOAuth({provider:"google"});if(_)throw _}catch(N){console.error(" Google signup error:",N),m("Google  ."),f(!1)}},S=n.fullName&&n.email&&n.password&&n.confirmPassword&&n.password===n.confirmPassword;return s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-8 py-12 min-h-screen",children:[s.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 text-center",children:[s.jsx("img",{src:oC,alt:"JEJEVOCA",className:"w-24 h-24 mx-auto mb-3"}),s.jsx("h2",{className:"text-[#491B6D]",children:""}),s.jsx("p",{className:"text-gray-600 text-sm",children:"JEJEVOCA  "})]}),s.jsx(M.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1},className:"w-full max-w-sm",children:s.jsxs("div",{className:"bg-white/80 backdrop-blur-lg border border-white/30 rounded-3xl p-8 shadow-xl space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(xS,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",value:n.fullName,onChange:N=>y("fullName",N.target.value),placeholder:"",className:"w-full pl-12 pr-4 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(cS,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"email",value:n.email,onChange:N=>y("email",N.target.value),placeholder:"example@email.com",className:"w-full pl-12 pr-4 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"email"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(lu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:i?"text":"password",value:n.password,onChange:N=>y("password",N.target.value),placeholder:" 6 ",className:"w-full pl-12 pr-12 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"new-password"}),s.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:i?s.jsx(El,{size:20}):s.jsx(Wo,{size:20})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(lu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:c?"text":"password",value:n.confirmPassword,onChange:N=>y("confirmPassword",N.target.value),placeholder:" ",className:"w-full pl-12 pr-12 py-4 bg-white border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#491B6D]/30 transition-all",autoComplete:"new-password"}),s.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:c?s.jsx(El,{size:20}):s.jsx(Wo,{size:20})})]})]}),p&&s.jsx(M.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-xl p-3 text-center",children:s.jsx("p",{className:"text-red-600 text-sm",children:p})}),s.jsx(M.button,{whileTap:{scale:.98},onClick:v,disabled:u||!S,className:`w-full py-4 rounded-2xl font-medium transition-all min-h-[56px] ${u||!S?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-[#491B6D] text-white shadow-lg shadow-[#491B6D]/30"}`,children:u?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),s.jsx("span",{children:" ..."})]}):" "}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-200"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-4 bg-white text-gray-500",children:" "})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(M.button,{whileTap:{scale:.98},onClick:b,disabled:u,className:"w-full py-4 rounded-2xl font-medium transition-all min-h-[56px] text-center flex items-center justify-center gap-2",style:{backgroundColor:"#FEE500",color:"#000000"},children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 3C6.5 3 2 6.6 2 11c0 2.8 1.9 5.3 4.7 6.7l-1.1 4.1c-.1.3.2.6.5.4l5.3-3.5c.5.1 1 .1 1.6.1 5.5 0 10-3.6 10-8S17.5 3 12 3z"})})," "]}),s.jsxs(M.button,{whileTap:{scale:.98},onClick:j,disabled:u,className:"w-full py-4 rounded-2xl font-medium bg-white border-2 border-gray-300 text-gray-700 transition-all min-h-[56px] text-center flex items-center justify-center gap-2 hover:bg-gray-50",children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google "]})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-200"})})}),s.jsx(M.button,{whileTap:{scale:.98},onClick:e,className:"w-full py-3 rounded-2xl font-medium bg-white border border-gray-200 text-gray-700 transition-all",children:" "})]})}),s.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-8 text-center text-gray-600 text-sm",children:" JEJETRANSFER. All rights reserved.  Made by "})]})}const s9="modulepreload",i9=function(e){return"/"+e},c1={},Fr=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),u=d?.nonce||d?.getAttribute("nonce");i=c(n.map(f=>{if(f=i9(f),f in c1)return;c1[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":s9,p||(y.as="script"),y.crossOrigin="",y.href=f,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((v,b)=>{y.addEventListener("load",v),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return t().catch(a)})};function o9({vocabulary:e,onToggleWord:t,onSelectAll:n,onDeselectAll:r,isWordSelected:i,onAddToVocabulary:a}){const[c,d]=g.useState(!1),u=(b,j)=>({id:`extractor-${j}-${b.word}`,word:b.word,meaning:b.meaning,source:"Passage Extractor",metadata:{pos:b.pos,level:b.level}}),f=b=>{const j=u(e[b],b);t(j)},p=()=>{if(!n)return;const j=e.map((S,N)=>u(S,N)).filter(S=>!i(S.id));j.length>0&&n(j)},m=()=>{if(!r)return;const b=e.map((j,S)=>u(j,S).id);r(b)};if(!e||e.length===0)return null;const y=()=>{if(!a)return;const b=e.map((j,S)=>u(j,S)).filter(j=>i(j.id));b.length!==0&&a(b)},v=e.filter((b,j)=>i(u(b,j).id)).length;return s.jsxs("div",{className:"bg-white rounded-2xl border border-purple-100 p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-bold text-[#491B6D]",children:" "}),s.jsxs("div",{className:"flex gap-2",children:[n&&s.jsx("button",{onClick:p,className:"text-xs text-purple-600 hover:text-purple-800",children:" "}),r&&s.jsx("button",{onClick:m,className:"text-xs text-gray-500 hover:text-gray-700",children:" "}),a&&v>0&&s.jsxs(M.button,{whileTap:{scale:.95},onClick:y,className:"flex items-center gap-1 px-3 py-1.5 bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] text-white rounded-full text-xs font-semibold shadow-sm",children:[s.jsx(Jo,{className:"w-3 h-3"}),"  (",v,")"]})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-[400px] overflow-y-auto",children:e.map((b,j)=>{const S=u(b,j),N=i(S.id);return s.jsx(M.div,{whileTap:{scale:.98},onClick:()=>f(j),className:`p-3 rounded-xl border cursor-pointer transition-all ${N?"bg-purple-50 border-purple-300 shadow-sm":"bg-gray-50 border-gray-200 hover:border-purple-200"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center flex-shrink-0 mt-0.5 ${N?"bg-purple-600 border-purple-600":"border-gray-300"}`,children:N&&s.jsx(Gl,{className:"w-2.5 h-2.5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-semibold text-[#491B6D] text-sm break-words",children:b.word}),s.jsx("p",{className:"text-xs text-gray-600 mt-0.5 break-words",children:b.meaning})]})]})},`${b.word}-${j}`)})})]})}const a9={paragraphClassName:"text-[12px] leading-relaxed text-[#35215d] mb-2 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-[12px] text-[#35215d]",boldClassName:"font-semibold text-[#4C1D95]"},d1=(e,t,n)=>e.replace(/--([^-]+)--/g,"**$1**").split(/(\*\*[^*]+\*\*)/g).filter(Boolean).map((a,c)=>a.startsWith("**")&&a.endsWith("**")?s.jsx("strong",{className:n,children:a.slice(2,-2)},`${t}-bold-${c}`):s.jsx("span",{children:a},`${t}-text-${c}`)),Go=(e,t={})=>{const n={...a9,...t};return e.split(/\n{2,}/).map((i,a)=>{const c=i.split(`
`).filter(Boolean);return c.length>1&&c.every(u=>/^[-*]\s+/.test(u.trim()))?s.jsx("ul",{className:n.listClassName,children:c.map((u,f)=>{const p=u.replace(/^[-*]\s+/,"");return s.jsx("li",{children:d1(p,`li-${a}-${f}`,n.boldClassName)},`li-${a}-${f}`)})},`section-${a}`):s.jsx("p",{className:n.paragraphClassName,children:d1(i,`p-${a}`,n.boldClassName)},`section-${a}`)})},l9=e=>e.replace(/\[EN\]/gi,"").replace(/\[KR\]/gi,"").replace(/[ ]{2,}/g," ").trim();function c9({analysis:e}){const[t,n]=g.useState(new Set([0])),[r,i]=g.useState(!0);if(!e)return null;const a=p=>{const m=p.match(/\[ \]([\s\S]*?)(?=\[ \]|$)/i);if(!m)return null;const y=m[1].trim(),v={material:"",subject:"",mainPoint:"",threeLine:[],background:""},b=y.match(/:\s*(.+?)(?=\n:|$)/i);b&&(v.material=b[1].trim());const j=y.match(/:\s*([\s\S]*?)(?=\n3 :|$)/i);j&&(v.mainPoint=j[1].trim());const S=y.match(/3 :([\s\S]*?)(?=\n:|$)/i);if(S){const C=S[1].split(`
`).map(E=>E.trim()).filter(E=>E.startsWith("-")||E.startsWith("")).map(E=>E.replace(/^[-]\s*/,"").trim()).filter(Boolean);v.threeLine=C}const N=y.match(/:\s*(.+?)(?=\n:|$)/i);N&&(v.subject=N[1].trim());const _=y.match(/:\s*([\s\S]+?)$/i);return _&&(v.background=_[1].trim()),v},c=p=>{const m=[],y=p.match(/\[ \]([\s\S]*?)$/i);return(y?y[1]:p).replace(/\*\*/g,"").replace(/\*/g,"").replace(/^#+\s+/gm,"").trim().split(/(?=|||||||||)/).forEach(S=>{if(!S.trim())return;const N=S.trim().split(`
`).map(F=>F.trim()).filter(Boolean);if(N.length<1)return;const _=N[0].match(/^(|||||||||)/);if(!_)return;const E={number:{"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10"}[_[1]]||_[1],english:"",translation:"",paraphrase:"",summary:""};let A="";N.forEach((F,D)=>{if(!(D===0&&F.startsWith(E.number))){if(F.includes("[EN]")||F.startsWith("[EN]")){A="english";const O=F.replace(/\[EN\]/gi,"").trim();O&&(E.english+=(E.english?" ":"")+O)}else if(F.includes("[KR]")||F.startsWith("[KR]")){A="translation";const O=F.replace(/\[KR\]/gi,"").trim();O&&(E.translation+=(E.translation?" ":"")+O)}else if(F.startsWith("=>")||F.startsWith("")){A="paraphrase";const O=F.replace(/^[=>]+\s*/,"").trim();O&&(E.paraphrase+=(E.paraphrase?" ":"")+O)}else if(F.includes("  ")||F.includes(":")){A="summary";const O=F.replace(/.*  :\s*/i,"").replace(/.*:\s*/i,"").replace(/^[()]+/,"").replace(/[()]+$/,"").trim();O&&(E.summary+=(E.summary?" ":"")+O)}else if(A&&F.trim()){const O=F.trim();A==="english"?E.english+=" "+O:A==="translation"?E.translation+=" "+O:A==="paraphrase"?E.paraphrase+=" "+O:A==="summary"&&(E.summary+=" "+O)}}}),E.english=E.english.replace(/\s+/g," ").trim(),E.translation=E.translation.replace(/\s+/g," ").trim(),E.paraphrase=E.paraphrase.replace(/\s+/g," ").trim(),E.summary=E.summary.replace(/\s+/g," ").trim(),E.english&&m.push(E)}),m},d=a(e),u=c(e),f=p=>{const m=new Set(t);m.has(p)?m.delete(p):m.add(p),n(m)};return u.length===0&&!d?s.jsxs("div",{className:"bg-white rounded-2xl border border-blue-100 p-4 space-y-2",children:[s.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-2",children:" "}),s.jsx("div",{className:"space-y-2",children:Go(l9(e),{paragraphClassName:"text-sm text-gray-700 leading-relaxed mb-2 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-gray-700",boldClassName:"font-semibold text-[#491B6D]"})})]}):s.jsxs("div",{className:"bg-white rounded-2xl border border-blue-100 p-4 space-y-3",children:[s.jsx("h3",{className:"text-lg font-bold text-[#491B6D]",children:" "}),s.jsxs("div",{className:"space-y-3",children:[d&&s.jsxs(M.div,{layout:!0,className:"border border-purple-200 rounded-2xl bg-gradient-to-br from-purple-50 to-white shadow-sm overflow-hidden",children:[s.jsxs("button",{type:"button",onClick:()=>i(!r),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-purple-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{className:"text-sm font-bold text-gray-900",children:" "})]}),r?s.jsx(ou,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}):s.jsx(pr,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),s.jsx(pt,{children:r&&s.jsxs(M.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-4 pb-4 pt-2 space-y-3 bg-white",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-xs font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[s.jsx("span",{children:""}),"  & "]}),s.jsx("div",{className:"bg-purple-50 rounded-xl p-3 border border-purple-100",children:s.jsx("p",{className:"text-sm text-gray-800 leading-relaxed font-medium",children:d.material})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-xs font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[s.jsx("span",{children:""}),"  "]}),s.jsxs("div",{className:"bg-purple-50 rounded-xl p-3 border border-purple-100",children:[s.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:d.mainPoint}),d.threeLine.length>0&&s.jsx("ul",{className:"mt-2 space-y-1",children:d.threeLine.map((p,m)=>s.jsxs("li",{className:"text-sm text-gray-700 leading-relaxed flex items-start gap-2",children:[s.jsx("span",{className:"text-purple-500 flex-shrink-0",children:""}),s.jsx("span",{children:p})]},m))})]})]}),d.subject&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-xs font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[s.jsx("span",{children:""}),"  "]}),s.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-purple-50 border border-purple-200 p-3 rounded-xl",children:s.jsx("p",{className:"text-sm text-purple-900 leading-relaxed font-semibold",children:d.subject})})]}),d.background&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-xs font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[s.jsx("span",{children:""})," "]}),s.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-200 p-3 rounded-xl",children:s.jsx("p",{className:"text-sm text-indigo-900 leading-relaxed",children:d.background})})]})]})})]}),u.map((p,m)=>s.jsxs(M.div,{layout:!0,className:"border border-gray-200 rounded-2xl bg-white shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[s.jsxs("button",{type:"button",onClick:()=>f(m),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("span",{className:"w-8 h-8 bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED] text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0 shadow-sm",children:p.number}),s.jsx("p",{className:"text-sm text-gray-700 font-medium truncate",children:p.english})]}),t.has(m)?s.jsx(ou,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}):s.jsx(pr,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),s.jsx(pt,{children:t.has(m)&&s.jsxs(M.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-4 pb-4 pt-2 space-y-3 bg-gray-50",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-semibold text-[#7C3AED] uppercase tracking-wider",children:""}),s.jsxs("div",{className:"bg-white rounded-xl p-3 border border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-900 leading-relaxed font-medium whitespace-pre-line",children:p.english}),p.translation&&s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mt-2 whitespace-pre-line",children:p.translation})]})]}),p.paraphrase&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-semibold text-[#8B5CF6] uppercase tracking-wider",children:""}),s.jsx("div",{className:"bg-white rounded-xl p-3 border border-gray-200",children:Go(p.paraphrase,{paragraphClassName:"text-sm text-gray-700 leading-relaxed mb-1 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-gray-700",boldClassName:"font-semibold text-[#7C3AED]"})})]}),p.summary&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-semibold text-[#D97706] uppercase tracking-wider",children:"  "}),s.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 p-3 rounded-xl",children:s.jsx("div",{className:"text-sm text-amber-900 leading-relaxed font-medium",children:Go(p.summary,{paragraphClassName:"text-sm text-amber-900 leading-relaxed mb-1 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-amber-900",boldClassName:"font-bold text-amber-900"})})})]})]})})]},m))]})]})}function d9({explanation:e}){const[t,n]=g.useState(new Set([0,1,2]));if(!e)return null;const r={"":"1","":"2","":"3","":"4","":"5"},i=u=>u.split(`
`).map((f,p)=>{const y=f.trim().match(/^([])\s*(.*)/);if(y){const v=r[y[1]]||y[1];return s.jsx("div",{className:"mb-2 last:mb-0",children:s.jsxs("span",{className:"inline-flex items-start gap-2",children:[s.jsxs("span",{className:"flex-shrink-0 font-bold text-[#7C3AED] text-base",children:[v,"."]}),s.jsx("span",{className:"text-sm text-gray-700 leading-relaxed flex-1",children:y[2]})]})},p)}return s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed mb-2 last:mb-0",children:f},p)}).filter(f=>!(typeof f=="object"&&"props"in f&&f.props.children==="")),c=(u=>{const f=[],p=u.replace(/\*\*/g,"").replace(/\*/g,"").replace(/^#+\s+/gm,"").trim(),m=[/1\s*Step\s*1\)\s*\s*([\s\S]*?)(?=2|$)/i,/Step\s*1[:\)]\s*\s*([\s\S]*?)(?=Step\s*2|$)/i,/1\.\s*\s*([\s\S]*?)(?=2\.|$)/i,/\s*Step\s*1\s*\s*\s*([\s\S]*?)(?=\s*Step\s*2|$)/i];for(const b of m){const j=p.match(b);if(j){f.push({title:"Step 1:  ",content:j[1].trim(),icon:hr,color:"bg-red-500"});break}}const y=[/2\s*Step\s*2\)\s*\s*([\s\S]*?)(?=3|$)/i,/Step\s*2[:\)]\s*\s*([\s\S]*?)(?=Step\s*3|$)/i,/2\.\s*\s*([\s\S]*?)(?=3\.|$)/i,/\s*Step\s*2\s*\s*\s*([\s\S]*?)(?=\s*Step\s*3|$)/i];for(const b of y){const j=p.match(b);if(j){f.push({title:"Step 2:  ",content:j[1].trim(),icon:Zg,color:"bg-yellow-500"});break}}const v=[/3\s*Step\s*3\)\s*\s*([\s\S]*?)$/i,/Step\s*3[:\)]\s*\s*([\s\S]*?)$/i,/3\.\s*\s*([\s\S]*?)$/i,/\s*Step\s*3\s*\s*\s*([\s\S]*?)$/i];for(const b of v){const j=p.match(b);if(j){const S=j[1].trim(),N=/[]/.test(S);f.push({title:"Step 3:  ",content:S,icon:Mn,color:"bg-green-500",hasCircledNumbers:N});break}}return f})(e),d=u=>{const f=new Set(t);f.has(u)?f.delete(u):f.add(u),n(f)};return c.length===0?s.jsxs("div",{className:"bg-white rounded-2xl border border-green-100 p-4",children:[s.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-3",children:" "}),s.jsx("div",{className:"space-y-2",children:Go(e,{paragraphClassName:"text-sm text-gray-700 leading-relaxed mb-2 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-gray-700",boldClassName:"font-semibold text-[#166534]"})})]}):s.jsxs("div",{className:"bg-white rounded-2xl border border-green-100 p-4 space-y-3",children:[s.jsx("h3",{className:"text-lg font-bold text-[#491B6D]",children:" "}),s.jsx("div",{className:"space-y-3",children:c.map((u,f)=>(u.icon,s.jsxs(M.div,{layout:!0,className:"border border-gray-100 rounded-2xl shadow-sm overflow-hidden",children:[s.jsxs("button",{onClick:()=>d(f),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED] rounded-full flex items-center justify-center flex-shrink-0 shadow-sm",children:s.jsx("span",{className:"text-white font-bold text-sm",children:f+1})}),s.jsx("p",{className:"text-sm font-semibold text-gray-800",children:u.title})]}),t.has(f)?s.jsx(ou,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}):s.jsx(pr,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),s.jsx(pt,{children:t.has(f)&&s.jsx(M.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-4 pb-4 pt-2 bg-gray-50",children:s.jsx("div",{className:"bg-white rounded-xl p-3 border border-gray-200",children:u.hasCircledNumbers?i(u.content):Go(u.content,{paragraphClassName:"text-sm text-gray-700 leading-relaxed mb-2 last:mb-0",listClassName:"list-disc pl-4 space-y-1 text-sm text-gray-700",boldClassName:"font-bold text-[#7C3AED]"})})})})]},f)))})]})}function P0(){const[e,t]=g.useState({}),n=m=>{t(y=>y[m.id]?y:{...y,[m.id]:m})},r=m=>{t(y=>{let v=!1;const b={...y};return m.forEach(j=>{b[j.id]||(b[j.id]=j,v=!0)}),v?b:y})},i=m=>{t(y=>{if(!y[m])return y;const v={...y};return delete v[m],v})},a=m=>{t(y=>{let v=!1;const b={...y};return m.forEach(j=>{b[j]&&(delete b[j],v=!0)}),v?b:y})},c=m=>{t(y=>{const v={...y};return v[m.id]?delete v[m.id]:v[m.id]=m,v})},d=()=>t({}),u=g.useMemo(()=>Object.values(e),[e]),f=u.length;return{selectedWords:u,count:f,addWord:n,addWords:r,removeWord:i,removeWords:a,toggleWord:c,clear:d,isSelected:m=>!!e[m]}}const u1=20,h1=3;function u9(e){return e.trim().replace(/\*\*/g,"").replace(/\*/g,"").replace(/__/g,"").replace(/_/g,"").replace(/~~(.*?)~~/g,"$1").replace(/`/g,"").replace(/\s+/g," ").trim()}async function f1(e,t,n){const r=e.map(f=>({word:u9(f.word)})),i=[];for(let f=0;f<r.length;f+=u1)i.push(r.slice(f,f+u1));const a=[];let c=0;n?.onProgress&&n.onProgress({current:0,total:i.length});const d=async(f,p,m=3)=>{for(let y=1;y<=m;y++)try{const v=await fetch(`https://${Ge}.supabase.co/functions/v1/server/generate-vocabulary-batch`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({words:f})}),b=await v.json();if(!v.ok)throw new Error(b?.error||` ${p+1}  `);const j=Array.isArray(b.results)?b.results:Array.isArray(b.data)?b.data:[];if(b.success===!1||j.length===0)throw new Error(b?.error||` ${p+1} AI  `);return{index:p,items:j}}catch(v){if(console.error(`  ${p+1}  ${y}/${m} :`,v),y<m)await new Promise(b=>setTimeout(b,2e3));else throw v}throw new Error(` ${p+1}   `)};for(let f=0;f<i.length;f+=h1){const p=i.slice(f,f+h1).map((y,v)=>d(y,f+v)),m=await Promise.all(p);a.push(...m),c+=m.length,n?.onProgress&&n.onProgress({current:c,total:i.length}),n?.onBatchUpdate&&n.onBatchUpdate(`  ... (${c}/${i.length} )`)}return a.sort((f,p)=>f.index-p.index),a.flatMap(f=>f.items)}const h9=Yn(),f9=()=>typeof globalThis.crypto<"u"&&typeof globalThis.crypto.randomUUID=="function"?globalThis.crypto.randomUUID():`vocab_${Date.now()}_${Math.random().toString(36).slice(2)}`,Bp=async()=>{const{data:{session:e}}=await h9.auth.getSession(),t=e?.access_token;if(!t)throw new Error(" .  .");return t};function R0({open:e,onClose:t,words:n,onRemoveWord:r,onClear:i,onActionComplete:a,currentVocabularyId:c,currentVocabularyTitle:d}){const[u,f]=g.useState("new"),[p,m]=g.useState(""),[y,v]=g.useState([]),[b,j]=g.useState(""),[S,N]=g.useState(!1),[_,C]=g.useState(!1),[E,A]=g.useState(null),F=g.useRef(null),D=g.useRef(null),O=n.length,V=()=>{_||t()},G=async()=>{N(!0);try{const $=await Bp(),L=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies`,{headers:{Authorization:`Bearer ${$}`}}),T=await L.json();if(!L.ok)throw new Error(T.error||"   .");const R=Array.isArray(T)?T:Array.isArray(T.vocabularies)?T.vocabularies:[];v(R)}catch($){console.error("   :",$),ce.error($?.message||"   .")}finally{N(!1)}};g.useEffect(()=>{e&&(f("new"),c?(f("existing"),j(c)):j(""),G(),setTimeout(()=>{const $=c?D.current:F.current;$&&($.focus(),$.click())},300))},[e,c]),g.useEffect(()=>{e&&setTimeout(()=>{const $=u==="new"?F.current:D.current;$&&($.focus(),$.click())},200)},[u,e]);const ee=g.useMemo(()=>u==="new"?"  ":"  ",[u]),se=g.useMemo(()=>{const $=[...y];if(c&&d)if(!$.some(T=>T.id===c))$.unshift({id:c,title:`${d} ( )`,total_words:void 0});else{const T=$.findIndex(R=>R.id===c);if(T!==-1){$[T]={...$[T],title:`${$[T].title} ( )`};const[R]=$.splice(T,1);$.unshift(R)}}return $},[y,c,d]),ie=async()=>{if(O===0){ce.error("  .");return}if(!p.trim()){ce.error("  .");return}try{C(!0),ce.loading("   ...",{id:"word-basket-action"});const $=await Bp(),L=await f1(n.map(I=>({word:I.word})),$,{onProgress:I=>A(I),onBatchUpdate:I=>ce.loading(I,{id:"word-basket-action"})});if(L.length===0)throw new Error("  .");ce.loading("   ...",{id:"word-basket-action"});const T=await fetch(`https://${Ge}.supabase.co/functions/v1/server/save-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify({vocabularyId:f9(),title:p.trim(),category:"My Own",level:"Custom",words:L})}),R=await T.json();if(!T.ok)throw new Error(R.error||"  .");ce.success("  ! ",{id:"word-basket-action"}),a?.(),i(),V()}catch($){console.error("  :",$),ce.error($?.message||"  .",{id:"word-basket-action"})}finally{C(!1),A(null)}},J=async()=>{if(O===0){ce.error("  .");return}if(!b){ce.error("  .");return}try{C(!0),ce.loading("   ...",{id:"word-basket-action"});const $=await Bp(),L=await f1(n.map(I=>({word:I.word})),$,{onProgress:I=>A(I),onBatchUpdate:I=>ce.loading(I,{id:"word-basket-action"})});if(L.length===0)throw new Error("  .");ce.loading("   ...",{id:"word-basket-action"});const T=await fetch(`https://${Ge}.supabase.co/functions/v1/server/add-words-to-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify({vocabularyId:b,words:L})}),R=await T.json();if(!T.ok)throw new Error(R.error||"  .");ce.success("  !",{id:"word-basket-action"}),a?.(),i(),V()}catch($){console.error("  :",$),ce.error($?.message||"  .",{id:"word-basket-action"})}finally{C(!1),A(null)}};return s.jsx(pt,{children:e&&s.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-center justify-center px-4 py-6",children:s.jsxs(M.div,{initial:{y:40,opacity:0},animate:{y:0,opacity:1},exit:{y:40,opacity:0},className:"w-full max-w-2xl max-h-[90vh] bg-white rounded-3xl shadow-2xl border border-gray-100 overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-[#F5F3FF] to-white",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs uppercase tracking-wide text-[#7C3AED] font-semibold",children:[O,"  "]}),s.jsx("h2",{className:"text-xl font-bold text-[#1F1D2B]",children:ee})]}),s.jsx("button",{onClick:V,className:"w-10 h-10 rounded-full bg-white shadow-sm border border-gray-100 flex items-center justify-center",children:s.jsx(yn,{className:"w-5 h-5 text-gray-600"})})]}),s.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:()=>f("new"),className:`p-3 rounded-2xl border flex items-center gap-2 text-sm font-semibold ${u==="new"?"border-[#7C3AED] bg-[#F5F3FF] text-[#5B21B6]":"border-gray-200 text-gray-500"}`,children:[s.jsx(sS,{className:"w-4 h-4"})," "]}),s.jsxs("button",{onClick:()=>f("existing"),className:`p-3 rounded-2xl border flex items-center gap-2 text-sm font-semibold ${u==="existing"?"border-[#7C3AED] bg-[#F5F3FF] text-[#5B21B6]":"border-gray-200 text-gray-500"}`,children:[s.jsx(PR,{className:"w-4 h-4"})," "]})]}),s.jsx("div",{className:"space-y-4",children:u==="new"?s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:" "}),s.jsx("input",{ref:F,type:"text",value:p,onChange:$=>m($.target.value),placeholder:": 2025-11-17  ",className:"w-full rounded-2xl border border-gray-200 px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-[#C4B5FD]"})]}):s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-500 mb-2 block",children:"  "}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{ref:D,value:b,onChange:$=>j($.target.value),className:"w-full appearance-none rounded-2xl border border-gray-200 px-4 py-2.5 pr-10 focus:outline-none focus:ring-2 focus:ring-[#C4B5FD]",children:[s.jsx("option",{value:"",children:" "}),se.map($=>s.jsxs("option",{value:$.id,children:[$.title,$.total_words!==void 0?` (${$.total_words})`:""]},$.id))]}),s.jsx(pr,{className:"w-4 h-4 text-gray-500 absolute right-4 top-1/2 -translate-y-1/2"})]}),S&&s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"  ..."}),!S&&se.length===0&&s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"   ."})]})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-400 mb-2",children:" "}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:n.map($=>s.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-gray-100 bg-gray-50 px-4 py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-[#1F1D2B]",children:$.word}),s.jsx("p",{className:"text-xs text-gray-500",children:$.meaning}),$.source&&s.jsx("p",{className:"text-[10px] text-[#7C3AED] mt-0.5",children:$.source})]}),s.jsx("button",{onClick:()=>r($.id),className:"text-xs text-gray-500 hover:text-[#DC2626]",children:""})]},$.id))})]})]}),s.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 bg-white",children:[s.jsx("button",{onClick:i,className:"text-sm text-gray-500 hover:text-[#7C3AED]",disabled:_,children:"  "}),s.jsxs("button",{onClick:u==="new"?ie:J,disabled:_,className:"w-full sm:w-auto px-6 py-3 rounded-2xl bg-gradient-to-r from-[#5B21B6] to-[#7C3AED] text-white font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[_&&s.jsx(Am,{className:"w-4 h-4 animate-spin"}),u==="new"?"  ":" "]})]})]})})})}const p1=Yn(),nl=60,p9=`https://${Ge}.supabase.co/functions/v1/text-analyzer/analyze`,m1=3,m9=1500,g9=e=>new Promise(t=>setTimeout(t,e)),x9=e=>{if(!e?.length)return;const t=new Set,n=[];for(const r of e){const i=r.word?.trim();if(!i)continue;const a=i.toLowerCase();t.has(a)||(t.add(a),n.push({word:i,pos:r.pos?.trim()||"",meaning:r.meaning?.trim()||"",level:r.level?.trim()||""}))}return n.length?n:void 0},g1=e=>{if(!e)return;const t=e.replace(/\r/g,"").split(`
`),n=[];let r=!1;for(const a of t){const c=a.trim().replace(/[ ]{2,}/g," ");if(!c){n.length>0&&!r&&(r=!0);continue}r&&(n.push(""),r=!1),n.push(c)}return n.join(`
`).replace(/\n{3,}/g,`

`).trim()||void 0},x1=e=>e.replace(/\r/g,"").replace(/[|]/g,"I").replace(/[-]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248)).replace(/[--]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248)).replace(/[ \t]{2,}/g," ").replace(/\n{3,}/g,`

`).split(`
`).map(t=>t.trimEnd()).join(`
`).trim(),zp=e=>({vocabulary:x9(e.vocabulary),analysis:g1(e.analysis),explanation:g1(e.explanation)}),Wp=(e,t,n,r)=>({text:e,options:t,answerKey:n.trim(),...r&&{questionType:r}}),y9=async(e,t)=>{const n=await fetch(p9,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)}),r=await n.json();if(!n.ok)throw new Error(r.error||"  ");return r},Vp=async(e,t)=>{let n=null;for(let r=1;r<=m1;r++)try{return await y9(e,t)}catch(i){if(n=i instanceof Error?i:new Error(String(i)),r<m1){await g9(m9);continue}throw n}throw n??new Error("  ")};function v9({onBack:e,onNavigateToTutor:t}){const[n,r]=g.useState([]),[i,a]=g.useState(()=>localStorage.getItem("textExtractorInput")||""),[c,d]=g.useState(""),[u,f]=g.useState("blank"),[p,m]=g.useState(!1),[y,v]=g.useState(!1),[b,j]=g.useState(()=>{const H=localStorage.getItem("textExtractorResults");return H?JSON.parse(H):null}),S=g.useRef(null),N=H=>{a(H),localStorage.setItem("textExtractorInput",H)};g.useEffect(()=>{b&&localStorage.setItem("textExtractorResults",JSON.stringify(b))},[b]);const{selectedWords:_,count:C,toggleWord:E,addWords:A,removeWords:F,removeWord:D,clear:O,isSelected:V}=P0(),[G,ee]=g.useState(!1),[se,ie]=g.useState(null),[J,$]=g.useState(!1),[L,T]=g.useState("");g.useEffect(()=>{const H=document.createElement("div");return H.id="print-portal-container",document.body.appendChild(H),ie(H),()=>{document.body.removeChild(H)}},[]),g.useEffect(()=>{J&&setTimeout(()=>{S.current?.focus()},200)},[J]);const R=[{id:"word",label:"",sublabel:"Word",icon:us},{id:"translation",label:"",sublabel:"Translation",icon:dS},{id:"explanation",label:"",sublabel:"Explanation",icon:aS}],I=H=>{r(ne=>ne.includes(H)?ne.filter(q=>q!==H):[...ne,H])},W=H=>new Promise((ne,q)=>{const le=new FileReader;le.readAsDataURL(H),le.onload=()=>{const ue=le.result.split(",")[1];ne(ue)},le.onerror=q}),B=()=>{const H=document.createElement("input");H.type="file",H.accept="image/*",H.onchange=async ne=>{const q=ne.target?.files?.[0];if(q){v(!0);try{const{data:{session:le}}=await p1.auth.getSession(),fe=le?.access_token;if(!fe){ce.error(" .");return}const ue=await W(q),Ne=await fetch(`https://${Ge}.supabase.co/functions/v1/text-analyzer/ocr`,{method:"POST",headers:{Authorization:`Bearer ${fe}`,"Content-Type":"application/json"},body:JSON.stringify({image:ue})}),Te=await Ne.json();if(!Ne.ok)throw new Error(Te.error||"OCR  ");if(Te.text){const Ze=x1(Te.text);N(Ze),ce.success("  .")}else ce.error("    .")}catch(le){console.error("OCR error:",le),ce.error(le.message||"OCR    .")}finally{v(!1)}}},H.click()},K=async()=>{if(!i.trim()||n.length===0){ce.error("  .");return}m(!0),j(null),localStorage.removeItem("textExtractorResults");try{const{data:{session:H}}=await p1.auth.getSession(),ne=H?.access_token;if(!ne){ce.error(" .");return}ce.loading("AI  ...",{id:"analysis-progress"});const q=n.includes("word"),le=n.includes("translation"),fe=n.includes("explanation"),ue=[];if(q){const Ne=(async()=>{try{const Te=Wp(i,{vocabulary:!0,analysis:!1,explanation:!1},c),Ze=await Vp(ne,Te),rt=zp(Ze);j(he=>({...he,vocabulary:rt.vocabulary}))}catch(Te){console.error("Vocabulary extraction error:",Te)}})();ue.push(Ne)}if(le){const Ne=(async()=>{try{const Te=Wp(i,{vocabulary:!1,analysis:!0,explanation:!1},c),Ze=await Vp(ne,Te),rt=zp(Ze);j(he=>({...he,analysis:rt.analysis}))}catch(Te){console.error("Text analysis error:",Te)}})();ue.push(Ne)}if(fe){const Ne=(async()=>{try{const Te=Wp(i,{vocabulary:!1,analysis:!1,explanation:!0},c,u),Ze=await Vp(ne,Te),rt=zp(Ze);j(he=>({...he,explanation:rt.explanation}))}catch(Te){console.error("Explanation error:",Te)}})();ue.push(Ne)}await Promise.all(ue),ce.success(" !",{id:"analysis-progress"})}catch(H){console.error("Analysis error:",H),ce.error(H.message||"   .",{id:"analysis-progress"})}finally{m(!1)}},U=()=>{j(null),N(""),localStorage.removeItem("textExtractorResults"),localStorage.removeItem("textExtractorInput"),ce.info("  .")},Z=()=>{if(!L.trim()){ce.error(" .");return}if(!t){ce.error("AI     .");return}let H=`[Passage Extractor  ]

`;H+=`:
${i}

`,c&&(H+=`: ${c}

`),b?.vocabulary&&b.vocabulary.length>0&&(H+=` :
`,b.vocabulary.forEach(ne=>{H+=`- ${ne.word}: ${ne.meaning}
`}),H+=`
`),b?.analysis&&(H+=` :
${b.analysis}

`),b?.explanation&&(H+=` :
${b.explanation}

`),H+=` : ${L}`,console.log("Navigating to AI Tutor:",{question:L,hasContext:!!H}),t(L,H),$(!1),T("")};return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:`
        @media print {
          @page {
            margin: 1.5cm;
          }

          /* Hide entire app */
          body > #root {
            display: none !important;
          }

          /* Show only print portal */
          #print-portal-container {
            display: block !important;
          }
        }

        /* Hide print portal by default */
        #print-portal-container {
          display: none;
        }

        @media screen {
          #print-portal-container {
            display: none !important;
          }
        }
      `}),se&&b&&_r.createPortal(s.jsxs("div",{style:{padding:"20px",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"9pt",lineHeight:"1.6"},children:[s.jsxs("div",{style:{marginBottom:"20px",borderBottom:"2px solid #000",paddingBottom:"10px",display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[s.jsx("h1",{style:{fontSize:"18pt",margin:0,fontWeight:"bold"},children:"Passage Extractor "}),s.jsx("div",{style:{fontSize:"9pt",color:"#666"},children:new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})})]}),i&&s.jsxs("div",{style:{marginBottom:"25px",padding:"15px",backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"8px"},children:[s.jsx("h2",{style:{fontSize:"12pt",marginBottom:"10px",fontWeight:"bold",color:"#491B6D"},children:" "}),s.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6",fontSize:"9pt",color:"#000"},children:x1(i)}),c&&s.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px dashed #dee2e6"},children:[s.jsx("span",{style:{fontWeight:"bold",fontSize:"9pt",color:"#000"},children:": "}),s.jsx("span",{style:{fontSize:"9pt",color:"#dc3545"},children:c})]})]}),b.vocabulary&&b.vocabulary.length>0&&s.jsxs("div",{style:{marginBottom:"25px",pageBreakInside:"avoid"},children:[s.jsx("h2",{style:{fontSize:"12pt",marginBottom:"10px",fontWeight:"bold",color:"#491B6D"},children:" "}),s.jsx("div",{style:{columnCount:2,columnGap:"20px"},children:b.vocabulary.map((H,ne)=>s.jsxs("div",{style:{marginBottom:"6px",breakInside:"avoid",color:"#000",display:"flex"},children:[s.jsx("span",{style:{fontWeight:"bold",minWidth:"120px",flexShrink:0},children:H.word}),s.jsx("span",{children:H.meaning})]},ne))})]}),b.analysis&&s.jsxs("div",{style:{marginBottom:"25px",pageBreakInside:"avoid"},children:[s.jsx("h2",{style:{fontSize:"12pt",marginBottom:"10px",fontWeight:"bold",color:"#491B6D"},children:" "}),s.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6",fontSize:"9pt",columnCount:2,columnGap:"20px",color:"#000"},children:b.analysis})]}),b.explanation&&s.jsxs("div",{style:{marginBottom:"25px",pageBreakInside:"avoid"},children:[s.jsx("h2",{style:{fontSize:"12pt",marginBottom:"10px",fontWeight:"bold",color:"#491B6D"},children:" "}),s.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6",fontSize:"9pt",columnCount:2,columnGap:"20px",color:"#000"},children:b.explanation})]})]}),se),s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx(Kl,{onBack:e,title:"Passage Extractor",subtitle:" ,  ,   ",rightElement:b?s.jsx(M.button,{whileTap:{scale:.95},onClick:U,className:"w-11 h-11 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/40",style:{minWidth:"44px",minHeight:"44px"},children:s.jsx(ql,{className:"w-5 h-5 text-[#491B6D]"})}):void 0}),s.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-4 pb-8",children:s.jsxs("div",{className:"pt-2",children:[s.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4 passage-extractor-no-print",children:R.map(H=>{const ne=H.icon,q=n.includes(H.id);return s.jsxs(M.button,{whileTap:{scale:.95},onClick:()=>I(H.id),className:"relative bg-white/90 border border-gray-200 p-3 shadow-sm transition-all rounded-2xl",children:[q&&s.jsx("div",{className:"absolute top-1.5 right-1.5 w-4 h-4 bg-[#491B6D] rounded-full flex items-center justify-center",children:s.jsx(Gl,{className:"w-2.5 h-2.5 text-white",strokeWidth:3})}),s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center ${q?"bg-[#491B6D]":"bg-[#491B6D]/10"}`,children:s.jsx(ne,{className:`w-5 h-5 ${q?"text-white":"text-[#491B6D]"}`})})}),s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"text-[#091A7A]",style:{fontSize:"13px",fontWeight:600},children:H.label})})]},H.id)})}),s.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/95 backdrop-blur-xl border border-white/50 p-6 shadow-xl rounded-3xl passage-extractor-no-print",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 passage-extractor-no-print",children:[s.jsx("h2",{className:"text-[#091A7A] no-print",style:{fontSize:"16px",fontWeight:700},children:" "}),s.jsx(M.button,{whileTap:{scale:.95},onClick:B,disabled:y,className:"w-10 h-10 bg-[#491B6D]/10 flex items-center justify-center rounded-[12px]",children:y?s.jsx(Am,{className:"w-5 h-5 text-[#491B6D] animate-spin"}):s.jsx(iR,{className:"w-5 h-5 text-[#491B6D]"})})]}),s.jsx("textarea",{value:i,onChange:H=>N(H.target.value),placeholder:"   ...",className:"w-full h-64 p-4 bg-[#F9FAFB] border border-gray-200 focus:border-[#491B6D] focus:outline-none resize-none text-[#374151] transition-colors rounded-md",style:{fontSize:"14px",fontWeight:400,lineHeight:"1.6"}}),n.includes("explanation")&&s.jsxs(M.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-[#091A7A] mb-2",children:" ()"}),s.jsx("input",{type:"text",value:c,onChange:H=>d(H.target.value),placeholder:":   resilient",className:"w-full p-3 bg-[#F9FAFB] border border-gray-200 focus:border-[#491B6D] focus:outline-none text-[#374151] transition-colors rounded-md",style:{fontSize:"14px"}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-[#091A7A] mb-2",children:" "}),s.jsxs("select",{value:u,onChange:H=>f(H.target.value),className:"w-full p-3 bg-[#F9FAFB] border border-gray-200 focus:border-[#491B6D] focus:outline-none text-[#374151] transition-colors rounded-md",style:{fontSize:"14px"},children:[s.jsx("option",{value:"blank",children:" & "}),s.jsx("option",{value:"main_idea",children:" (///)"}),s.jsx("option",{value:"matching",children:" (/)"}),s.jsx("option",{value:"order",children:" "}),s.jsx("option",{value:"insertion",children:" "}),s.jsx("option",{value:"irrelevant",children:"  "}),s.jsx("option",{value:"other",children:""})]})]})]})]}),s.jsx(M.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},whileTap:{scale:.98},onClick:K,disabled:!i.trim()||n.length===0||p,className:`w-full p-5 shadow-lg transition-all mt-4 rounded-2xl passage-extractor-no-print ${i.trim()&&n.length>0&&!p?"bg-gradient-to-r from-[#491B6D] to-[#5E2278] opacity-100":"bg-gray-300 opacity-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p?s.jsx(Am,{className:"w-5 h-5 text-white animate-spin"}):s.jsx(ur,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-white",style:{fontSize:"16px",fontWeight:600},children:p?"AI  ...":"  "})]})}),b&&s.jsxs(M.div,{id:"passage-extractor-print-content",initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-4",children:[b.vocabulary&&b.vocabulary.length>0&&s.jsx(o9,{vocabulary:b.vocabulary,onToggleWord:H=>{const ne=V(H.id);if(!ne&&C>=nl){ce.error(`  ${nl}   .`);return}E(H),ce[ne?"info":"success"](ne?" .":" .",{duration:1500})},onSelectAll:H=>{if(C>=nl){ce.error(`  ${nl}   .`);return}const ne=H.filter(fe=>!V(fe.id));if(ne.length===0){ce.info("   .");return}const q=nl-C,le=ne.slice(0,q);A(le),ce.success(`${le.length}   .`)},onDeselectAll:H=>{F(H),ce.info("   .")},isWordSelected:V,onAddToVocabulary:H=>{A(H),ee(!0)}}),b.analysis&&s.jsx(c9,{analysis:b.analysis}),b.explanation&&s.jsx(d9,{explanation:b.explanation}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 passage-extractor-no-print",children:[s.jsx(M.button,{whileTap:{scale:.98},onClick:()=>window.print(),className:"p-4 bg-white border border-gray-200 rounded-2xl shadow-sm hover:shadow-md transition-all",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(uS,{className:"w-5 h-5 text-[#491B6D]"}),s.jsx("span",{className:"text-[#491B6D] font-semibold text-sm",children:""})]})}),s.jsx(M.button,{whileTap:{scale:.98},onClick:()=>$(!0),className:"p-4 bg-gradient-to-r from-[#491B6D] to-[#5E2278] rounded-2xl shadow-sm hover:shadow-md transition-all",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(u6,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-white font-semibold text-sm",children:" "})]})})]})]})]})}),s.jsx(R0,{open:G,onClose:()=>ee(!1),words:_,onRemoveWord:D,onClear:O,onActionComplete:async()=>{ee(!1);const{invalidateVocabularyListCache:H}=await Fr(async()=>{const{invalidateVocabularyListCache:ne}=await Promise.resolve().then(()=>T0);return{invalidateVocabularyListCache:ne}},[]);H()}}),s.jsx(pt,{children:J&&s.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:()=>$(!1),children:s.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:H=>H.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl w-full max-w-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-bold text-[#491B6D]",children:" "}),s.jsx("button",{onClick:()=>$(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",children:s.jsx(yn,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"     AI  ."}),s.jsx("textarea",{ref:S,value:L,onChange:H=>T(H.target.value),placeholder:": 3       ",className:"w-full p-4 border border-gray-200 rounded-2xl focus:border-[#491B6D] focus:outline-none resize-none min-h-[120px] text-sm",onKeyDown:H=>{H.key==="Enter"&&(H.metaKey||H.ctrlKey)&&Z()}}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>$(!1),className:"flex-1 p-3 border border-gray-200 rounded-2xl text-gray-700 font-semibold hover:bg-gray-50 transition-colors",children:""}),s.jsx("button",{onClick:Z,disabled:!L.trim(),className:"flex-1 p-3 bg-gradient-to-r from-[#491B6D] to-[#5E2278] rounded-2xl text-white font-semibold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"AI  "})]})]})})})]})]})}function b9({words:e,onWordCleared:t,onClose:n,onGameComplete:r}){const[a,c]=g.useState([]),[d,u]=g.useState(0),[f,p]=g.useState([]),[m,y]=g.useState(0),[v,b]=g.useState(!1),[j,S]=g.useState(!1),[N,_]=g.useState(!1);g.useEffect(()=>{if(e.length>0&&a.length===0){const J=[];e.forEach(L=>{J.push({id:`${L.id}-word`,wordId:L.id,content:L.word,type:"word",isFlipped:!1,isMatched:!1}),J.push({id:`${L.id}-meaning`,wordId:L.id,content:L.meaning,type:"meaning",isFlipped:!1,isMatched:!1})});const $=J.sort(()=>Math.random()-.5);c($)}},[e,a.length]);const C=Math.ceil(e.length/8),E=d*8*2,A=E+16,F=a.slice(E,A),D=J=>{if(v)return;const $=F.find(L=>L.id===J);if(!(!$||$.isFlipped||$.isMatched)&&!(f.length>=2)&&(c(L=>L.map(T=>T.id===J?{...T,isFlipped:!0}:T)),p(L=>[...L,J]),f.length===1)){b(!0),y(R=>R+1);const L=f[0],T=F.find(R=>R.id===L);T&&T.wordId===$.wordId&&T.type!==$.type?setTimeout(()=>{if(c(I=>I.map(W=>W.wordId===$.wordId?{...W,isMatched:!0,isFlipped:!1}:W)),t($.wordId),p([]),b(!1),F.filter(I=>!I.isMatched&&I.wordId!==$.wordId).length===0){const I=d<C-1;setTimeout(I?()=>{_(!0)}:()=>{S(!0),r&&r()},500)}},600):setTimeout(()=>{c(R=>R.map(I=>I.id===L||I.id===J?{...I,isFlipped:!1}:I)),p([]),b(!1)},1e3)}},O=()=>{u(J=>J+1),_(!1),y(0)},V=()=>{c(J=>J.map($=>({...$,isFlipped:!1,isMatched:!1}))),p([]),y(0),S(!1),_(!1),u(0),b(!1)},G=F.filter(J=>J.isMatched).length/2,ee=e.length,se=d+1,ie=Math.min(8,e.length-d*8);return s.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-gradient-to-br from-red-50 to-red-100 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/80 backdrop-blur-sm border-b border-red-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-red-900",children:"  "}),s.jsx("p",{className:"text-xs text-red-600",children:"  !"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(M.button,{whileTap:{scale:.95},onClick:V,className:"p-2 bg-red-100 rounded-lg",children:s.jsx(ql,{className:"w-5 h-5 text-red-600"})}),s.jsx(M.button,{whileTap:{scale:.95},onClick:n,className:"p-2 bg-red-100 rounded-lg",children:s.jsx(yn,{className:"w-5 h-5 text-red-600"})})]})]}),s.jsxs("div",{className:"flex justify-center gap-6 p-3 bg-white/60",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-red-500 font-medium",children:""}),s.jsxs("p",{className:"text-lg font-bold text-red-700",children:[se,"/",C]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-red-500 font-medium",children:" "}),s.jsxs("p",{className:"text-lg font-bold text-red-700",children:[G,"/",ie]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-red-500 font-medium",children:" "}),s.jsx("p",{className:"text-lg font-bold text-red-700",children:m})]})]}),s.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:s.jsx("div",{className:"grid gap-3 max-w-4xl mx-auto",style:{gridTemplateColumns:"repeat(4, 1fr)",gridAutoRows:"minmax(80px, auto)"},children:F.map(J=>s.jsx(M.div,{initial:{scale:0,rotateY:180},animate:{scale:1,rotateY:0},transition:{type:"spring",stiffness:300,damping:25},onClick:()=>!J.isMatched&&D(J.id),className:J.isMatched?"pointer-events-none":"cursor-pointer",style:{perspective:"1000px"},children:s.jsxs(M.div,{animate:{rotateY:J.isFlipped||J.isMatched?180:0},transition:{duration:.4},className:"relative w-full h-full min-h-[80px]",style:{transformStyle:"preserve-3d"},children:[s.jsx("div",{className:`absolute inset-0 rounded-xl flex items-center justify-center ${J.type==="word"?"bg-gradient-to-br from-rose-400 to-red-500 shadow-md":"bg-gradient-to-br from-rose-200 to-red-300 shadow-sm"}`,style:{backfaceVisibility:"hidden"},children:s.jsx("span",{className:"text-xl",children:""})}),s.jsx("div",{className:`absolute inset-0 rounded-xl flex items-center justify-center p-2 border ${J.isMatched?"bg-gradient-to-br from-green-50 to-emerald-100 border-green-300 shadow-md":J.type==="word"?"bg-gradient-to-br from-white to-rose-50 border-rose-200 shadow-md":"bg-gradient-to-br from-rose-50 to-pink-50 border-rose-100 shadow-sm"}`,style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:s.jsx("p",{className:`text-center font-medium ${J.isMatched?"text-green-700 font-bold":J.type==="word"?"text-red-700 font-semibold":"text-rose-600"}`,style:{fontSize:J.content.length>15?"10px":J.content.length>12?"11px":"13px",wordBreak:"break-word",lineHeight:1.2},children:J.content})})]})},J.id))})}),s.jsx(pt,{children:N&&s.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 flex items-center justify-center z-60",children:s.jsxs(M.div,{initial:{scale:.5,y:50},animate:{scale:1,y:0},exit:{scale:.5,y:50},className:"bg-white rounded-2xl p-8 mx-4 text-center shadow-2xl",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:[" ",se," !"]}),s.jsxs("p",{className:"text-gray-600 mb-1",children:[ie,"  "]}),s.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["   (",se,"/",C,")"]}),s.jsx(M.button,{whileTap:{scale:.95},onClick:O,className:"w-full px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl font-semibold",children:"   "})]})})}),s.jsx(pt,{children:j&&s.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 flex items-center justify-center z-60",children:s.jsxs(M.div,{initial:{scale:.5,y:50},animate:{scale:1,y:0},exit:{scale:.5,y:50},className:"bg-white rounded-2xl p-8 mx-4 text-center shadow-2xl",children:[s.jsx(hs,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"! "}),s.jsx("p",{className:"text-gray-600 mb-1",children:"  !"}),s.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:[ee,"  / ",m," "]}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx(M.button,{whileTap:{scale:.95},onClick:V,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-semibold",children:" "}),s.jsx(M.button,{whileTap:{scale:.95},onClick:n,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold",children:""})]})]})})})]})}const _i={maxLives:3,zombieCount:4,zombieSpeed:.3,totalQuestions:10},_o={MIN_Y:10,MAX_Y:70,MIN_X:10,MAX_X:90},y1={CORRECT_ANSWER:100,WRONG_ANSWER:-50},Qd={BACKGROUND:"#0a1628",HEART_FULL:"#ef4444",HEART_EMPTY:"#4b5563"};function w9(e){const[t,n]=g.useState({currentWord:null,zombies:[],score:0,lives:_i.maxLives,isGameOver:!1,isPaused:!1,questionNumber:0,totalQuestions:_i.totalQuestions}),r=g.useRef(new Set),i=g.useRef(),a=g.useRef(()=>{}),c=()=>({x:_o.MIN_X+Math.random()*(_o.MAX_X-_o.MIN_X),y:_o.MIN_Y+Math.random()*(_o.MAX_Y-_o.MIN_Y)}),d=g.useCallback(()=>{e.length!==0&&n(m=>{const y=e.filter(N=>!r.current.has(N.id));if(y.length===0||m.questionNumber>=m.totalQuestions)return{...m,isGameOver:!0};const v=y[Math.floor(Math.random()*y.length)];r.current.add(v.id);const b=e.filter(N=>N.id!==v.id).sort(()=>Math.random()-.5).slice(0,_i.zombieCount-1),S=[v,...b].sort(()=>Math.random()-.5).map((N,_)=>{const C=c();return{id:`zombie-${Date.now()}-${_}`,wordId:N.id,meaning:N.meaning,x:C.x,y:C.y,speed:_i.zombieSpeed+Math.random()*.2,direction:Math.random()>.5?"down":"up",isCorrect:N.id===v.id}});return{...m,currentWord:v,zombies:S,questionNumber:m.questionNumber+1}})},[e]);g.useEffect(()=>{a.current=d},[d]);const u=g.useCallback(m=>{n(y=>{const v=y.zombies.find(b=>b.id===m);if(!v)return y;if(v.isCorrect)return setTimeout(()=>a.current(),500),{...y,score:y.score+y1.CORRECT_ANSWER};{const b=y.lives-1;return{...y,lives:b,score:Math.max(0,y.score+y1.WRONG_ANSWER),isGameOver:b<=0}}})},[]);g.useEffect(()=>()=>{i.current&&cancelAnimationFrame(i.current)},[t.isPaused,t.isGameOver]);const f=g.useCallback(()=>{r.current.clear(),n({currentWord:null,zombies:[],score:0,lives:_i.maxLives,isGameOver:!1,isPaused:!1,questionNumber:0,totalQuestions:Math.min(_i.totalQuestions,e.length)}),setTimeout(()=>{a.current()},100)},[e.length]),p=g.useCallback(()=>{n(m=>({...m,isPaused:!m.isPaused}))},[]);return{gameState:t,startGame:f,handleZombieClick:u,togglePause:p,generateNextQuestion:d}}const j9="/assets/KakaoTalk_Photo_2025-11-17-19-39-42-BXhh9LMP.png",S9="/assets/KakaoTalk_Photo_2025-11-17-19-39-46-CQctTSuR.png",N9="/assets/KakaoTalk_Photo_2025-11-17-19-39-49-BTLZm4LH.png",k9="/assets/KakaoTalk_Photo_2025-11-17-19-39-52-BzIwN0jb.png",v1=[j9,S9,N9,k9];function C9({zombie:e,onClick:t}){const n=Math.abs(e.id.split("").reduce((m,y)=>m+y.charCodeAt(0),0))%v1.length,r=v1[n],i=e.id.split("").reduce((m,y)=>m+y.charCodeAt(0),0),a=3+i%3,c=10+i%8,d=50+i%50,u=50+i%60,p=i*31%4;return s.jsxs(M.div,{"data-zombie-id":e.id,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{scale:{duration:.3}},onClick:()=>t(e.id),className:"absolute cursor-pointer select-none z-30",style:{left:`${e.x}%`,top:`${e.y}%`,transform:"translate(-50%, -50%)"},whileTap:{scale:.9},children:[s.jsxs("div",{className:"relative flex flex-col items-center",style:{animation:`ghostFloat-${e.id} ${a}s ease-in-out infinite, ghostDrift-${e.id} ${c}s ease-in-out infinite`,animationDelay:`${i%10*.1}s`},children:[s.jsx("div",{className:"relative",children:s.jsx("img",{src:r,alt:"ghost",className:"w-20 h-20 object-contain",style:{filter:"drop-shadow(0 0 10px rgba(100, 100, 100, 0.5))",animation:`ghostWobble-${e.id} ${2+i%2}s ease-in-out infinite`}})}),s.jsx("div",{className:"mt-1 px-3 py-1.5 bg-white/95 rounded-lg shadow-lg border border-gray-200",style:{maxWidth:"120px"},children:s.jsx("span",{className:"text-gray-800 font-semibold leading-tight block text-center",style:{fontSize:e.meaning.length>10?"10px":e.meaning.length>6?"11px":"12px"},children:e.meaning})})]}),s.jsx("style",{children:`
        @keyframes ghostFloat-${e.id} {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-15px); }
        }
        @keyframes ghostDrift-${e.id} {
          ${p===0?`
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(${d}px, -${u}px); }
            50% { transform: translate(-${d*.5}px, ${u}px); }
            75% { transform: translate(${d*.7}px, ${u*.5}px); }
          `:p===1?`
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(-${d}px, ${u}px); }
            50% { transform: translate(${d*.8}px, -${u*.6}px); }
            75% { transform: translate(-${d*.3}px, -${u*.8}px); }
          `:p===2?`
            0%, 100% { transform: translate(0, 0); }
            33% { transform: translate(${d*.9}px, ${u*.7}px); }
            66% { transform: translate(-${d*.6}px, -${u}px); }
          `:`
            0%, 100% { transform: translate(0, 0); }
            20% { transform: translate(-${d*.8}px, -${u*.5}px); }
            40% { transform: translate(${d*.4}px, ${u}px); }
            60% { transform: translate(${d}px, -${u*.3}px); }
            80% { transform: translate(-${d*.5}px, ${u*.6}px); }
          `}
        }
        @keyframes ghostWobble-${e.id} {
          0%, 100% { transform: rotate(-3deg); }
          50% { transform: rotate(3deg); }
        }
      `})]})}function E9({word:e}){return s.jsx(M.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:"text-center",children:s.jsx("div",{className:"inline-block px-8 py-4 rounded-lg",style:{background:"linear-gradient(135deg, #1e3a5f 0%, #0f172a 100%)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.5), 0 0 40px rgba(59, 130, 246, 0.2)",border:"2px solid rgba(59, 130, 246, 0.3)"},children:s.jsx("h1",{className:"text-white font-black tracking-wider",style:{fontSize:"36px",textShadow:"0 0 20px rgba(59, 130, 246, 0.5), 0 4px 8px rgba(0, 0, 0, 0.8)",fontFamily:"system-ui, -apple-system, sans-serif"},children:e})})})}function _9({lives:e,maxLives:t}){return s.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:t}).map((n,r)=>s.jsx(M.div,{initial:{scale:0},animate:{scale:1},transition:{delay:r*.1},children:s.jsx(_m,{className:"w-8 h-8",fill:r<e?Qd.HEART_FULL:"transparent",color:r<e?Qd.HEART_FULL:Qd.HEART_EMPTY,strokeWidth:2})},r))})}function A9({score:e,questionNumber:t,totalQuestions:n}){return s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-white",children:[s.jsx("span",{className:"text-sm opacity-70",children:"SCORE"}),s.jsx("div",{className:"text-2xl font-bold",children:e})]}),s.jsxs("div",{className:"text-white",children:[s.jsx("span",{className:"text-sm opacity-70",children:"QUESTION"}),s.jsxs("div",{className:"text-2xl font-bold",children:[t,"/",n]})]})]})}function T9(){return s.jsx(M.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:"relative",children:s.jsxs("div",{className:"w-10 h-16 relative",style:{background:"linear-gradient(180deg, #374151 0%, #1f2937 100%)",borderRadius:"4px 4px 2px 2px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.5)"},children:[s.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 w-2 h-4",style:{background:"linear-gradient(180deg, #4b5563 0%, #374151 100%)",borderRadius:"2px 2px 0 0"}}),s.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-6 h-8",style:{background:"linear-gradient(180deg, #1f2937 0%, #111827 100%)",borderRadius:"0 0 4px 4px"}})]})})}function aC({vocabularyWords:e,onBack:t,onBackToHome:n}){const{gameState:r,startGame:i,handleZombieClick:a,togglePause:c}=w9(e),[d,u]=g.useState([]),[f,p]=g.useState([]),m=g.useRef(null),y=g.useRef(null),v=g.useCallback((b,j)=>{const S=m.current?.getBoundingClientRect(),N=r.zombies.find(_=>_.id===b);if(S&&y.current&&N){const _=y.current.getBoundingClientRect(),C=`bullet-${Date.now()}`,E=`explosion-${Date.now()}`,A=_.left+_.width/2-S.left,F=_.top-S.top,D=j.clientX-S.left,O=j.clientY-S.top;u(V=>[...V,{id:C,startX:A,startY:F,endX:D,endY:O}]),setTimeout(()=>{p(V=>[...V,{id:E,x:D,y:O,isCorrect:N.isCorrect}]),setTimeout(()=>{p(V=>V.filter(G=>G.id!==E))},600)},250),setTimeout(()=>{u(V=>V.filter(G=>G.id!==C))},300)}a(b)},[a,r.zombies]);return g.useEffect(()=>{e.length>0&&i()},[]),g.useEffect(()=>{const b=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",()=>{document.body.style.overflow=b,document.documentElement.style.overflow=""}},[]),s.jsxs("div",{className:"h-screen w-full flex flex-col relative overflow-hidden",style:{background:Qd.BACKGROUND},children:[s.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none z-0",style:{background:"radial-gradient(ellipse at center, rgba(59, 130, 246, 0.1) 0%, transparent 70%)"}}),s.jsxs("div",{className:"relative z-20 flex items-center justify-between p-4",children:[s.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-sm",children:s.jsx(xs,{className:"w-5 h-5 text-white"})}),s.jsx(A9,{score:r.score,questionNumber:r.questionNumber,totalQuestions:r.totalQuestions}),s.jsx("button",{onClick:c,className:"w-10 h-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-sm",children:r.isPaused?s.jsx(Bi,{className:"w-5 h-5 text-white"}):s.jsx(cu,{className:"w-5 h-5 text-white"})})]}),s.jsx("div",{className:"relative z-20 flex justify-center py-2",children:s.jsx(_9,{lives:r.lives,maxLives:_i.maxLives})}),s.jsx("div",{className:"relative z-20 flex justify-center py-4",children:r.currentWord&&s.jsx(E9,{word:r.currentWord.word})}),s.jsxs("div",{ref:m,className:"flex-1 relative z-30 overflow-hidden",children:[s.jsx(pt,{children:r.zombies.map(b=>s.jsx(C9,{zombie:b,onClick:j=>{const S=document.querySelector(`[data-zombie-id="${j}"]`);if(S){const N=S.getBoundingClientRect(),_={clientX:N.left+N.width/2,clientY:N.top+N.height/2};v(j,_)}else a(j)}},b.id))}),s.jsx(pt,{children:d.map(b=>s.jsx(M.div,{initial:{x:b.startX,y:b.startY,scale:1,opacity:1},animate:{x:b.endX,y:b.endY,scale:.5,opacity:.8},exit:{opacity:0},transition:{duration:.25,ease:"linear"},className:"absolute pointer-events-none z-50",style:{width:"12px",height:"12px",borderRadius:"50%",background:"radial-gradient(circle, #ff4444 0%, #cc0000 70%, #990000 100%)",boxShadow:"0 0 20px #ff4444, 0 0 40px #ff0000"}},b.id))}),s.jsx(pt,{children:f.map(b=>s.jsxs(M.div,{initial:{scale:0,opacity:1},animate:{scale:3,opacity:0},exit:{opacity:0},transition:{duration:.6,ease:"easeOut"},className:"absolute pointer-events-none z-50",style:{left:b.x,top:b.y,transform:"translate(-50%, -50%)"},children:[s.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"radial-gradient(circle, rgba(255, 68, 68, 0.9) 0%, rgba(204, 0, 0, 0.5) 40%, transparent 70%)",boxShadow:"0 0 40px rgba(255, 68, 68, 0.8), 0 0 80px rgba(255, 0, 0, 0.4)"}}),[...Array(8)].map((j,S)=>s.jsx(M.div,{initial:{x:0,y:0,opacity:1},animate:{x:Math.cos(S*Math.PI*2/8)*50,y:Math.sin(S*Math.PI*2/8)*50,opacity:0},transition:{duration:.5,ease:"easeOut"},className:"absolute",style:{left:"50%",top:"50%",width:"8px",height:"8px",borderRadius:"50%",background:"#ff4444",boxShadow:"0 0 10px #ff0000",transform:"translate(-50%, -50%)"}},S))]},b.id))})]}),s.jsx("div",{ref:y,className:"relative z-20 flex justify-center pb-8",children:s.jsx(T9,{})}),s.jsx(pt,{children:r.isPaused&&!r.isGameOver&&s.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/70",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-8",children:"PAUSED"}),s.jsx("button",{onClick:c,className:"px-8 py-4 bg-blue-600 text-white rounded-xl text-xl font-bold",children:"RESUME"})]})})}),s.jsx(pt,{children:r.isGameOver&&s.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:r.lives>0?"COMPLETE!":"GAME OVER"}),s.jsxs("p",{className:"text-2xl text-white mb-2",children:["Score: ",r.score]}),s.jsxs("p",{className:"text-lg text-gray-400 mb-8",children:[r.questionNumber,"/",r.totalQuestions," Questions"]}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsxs("button",{onClick:i,className:"px-6 py-3 bg-green-600 text-white rounded-xl text-lg font-bold flex items-center gap-2",children:[s.jsx(ql,{className:"w-5 h-5"}),"RETRY"]}),s.jsx("button",{onClick:n||t,className:"px-6 py-3 bg-gray-600 text-white rounded-xl text-lg font-bold",children:"EXIT"})]})]})})})]})}const P9={DEV:!1},b1=typeof import.meta<"u"?P9:void 0,R9=!!b1?.DEV&&b1?.VITE_DEBUG_WORD_LIST==="true",Od=(...e)=>{R9&&console.log("[WordListScreen]",...e)},w1=60,D9={derivative:"",synonym:"",antonym:""};function O9({onBack:e,onBackToHome:t,vocabularyTitle:n,unitName:r,vocabularyWords:i,onAddToStarred:a,onMoveToGraveyard:c,onDeletePermanently:d,onStartFlashcards:u,filterType:f,starredWordIds:p=[],graveyardWordIds:m=[],wrongAnswersWordIds:y=[],hideHeader:v=!1,hideActionButtons:b=!1,unitNumber:j,vocabularyId:S,onRefreshVocabulary:N}){const[_,C]=g.useState(!1),[E,A]=g.useState(!1),{selectedWords:F,count:D,toggleWord:O,clear:V,isSelected:G,removeWord:ee}=P0(),[se,ie]=g.useState(!1);Od(" Received props:",{vocabularyWords:i?.length||0,hideActionButtons:b,hideHeader:v,filterType:f}),g.useEffect(()=>{const Y=window.getComputedStyle(document.body).overflow,Ee=window.getComputedStyle(document.body).overflowY;return document.body.style.overflow="hidden",document.body.style.overflowY="hidden",document.documentElement.style.overflow="hidden",document.documentElement.style.overflowY="hidden",()=>{document.body.style.overflow=Y,document.body.style.overflowY=Ee,document.documentElement.style.overflow="",document.documentElement.style.overflowY=""}},[]);const J=g.useMemo(()=>!i||i.length===0?[]:(Od(" Converting words:",i.length),i.map((Y,Ee)=>({id:Y.id||`word-${Ee}`,word:Y.word||"",pronunciation:Y.pronunciation||"",partOfSpeech:Y.partOfSpeech||"",meaning:Y.meaning||"",example:Y.example_sentence||Y.englishExample||Y.example||"",translation:Y.translation||"",story:Y.etymology||Y.story||"",derivatives:Array.isArray(Y.derivatives)?Y.derivatives.map(we=>({word:we.word||we,meaning:we.meaning||""})):typeof Y.derivatives=="string"&&Y.derivatives?Y.derivatives.split(",").map(we=>{const We=we.trim(),nt=We.match(/^(.+?)\s*\((.+?)\)\s*$/);return nt?{word:nt[1].trim(),meaning:nt[2].trim()}:{word:We,meaning:""}}):[],synonyms:Array.isArray(Y.synonyms)?Y.synonyms.map(we=>({word:we.word||we,meaning:we.meaning||""})):typeof Y.synonyms=="string"&&Y.synonyms?Y.synonyms.split(",").map(we=>({word:we.trim(),meaning:""})):[],antonyms:Array.isArray(Y.antonyms)?Y.antonyms.map(we=>({word:we.word||we,meaning:we.meaning||""})):typeof Y.antonyms=="string"&&Y.antonyms?Y.antonyms.split(",").map(we=>({word:we.trim(),meaning:""})):[],isStarred:!1,isMeaningRevealed:!0,isExpanded:!1,exampleLanguage:"en",swipeX:0,originalIndex:Ee+1,graveyardAt:Y.updated_at||Y.updatedAt||void 0}))),[i]),$=g.useCallback(()=>{let Y=J;return f==="starred"?J.length===0&&p.length>0?Y=[]:Y=J:f==="graveyard"?J.length===0&&m.length>0?Y=[]:Y=J:f==="wrong-answers"?J.length===0&&y.length>0?Y=[]:Y=J:Y=J.filter(Ee=>!m.includes(Ee.id)),Y.map((Ee,we)=>({...Ee,isStarred:p.includes(Ee.id),isMeaningRevealed:!1,originalIndex:f==="starred"||f==="graveyard"?we+1:Ee.originalIndex}))},[J,f,m,p,y]),[L,T]=g.useState(()=>$()),[R,I]=g.useState(!0),[W,B]=g.useState("en"),[K,U]=g.useState(!1),[Z,H]=g.useState(null);g.useEffect(()=>{Od(" vocabularyWords changed, updating words...");const Y=$();Od(" New words count:",Y.length),T(Ee=>Y.map(we=>{const We=Ee.find(nt=>nt.id===we.id);return We?{...we,isMeaningRevealed:We.isMeaningRevealed,isExpanded:We.isExpanded,exampleLanguage:We.exampleLanguage,swipeX:0}:we}))},[$]);const ne=L.length;L.filter(Y=>Y.isStarred).length;const q=(Y,Ee)=>{if(!Y||!Ee)return Y;const we=new RegExp(`\\b(${Ee})\\b`,"gi");return Y.split(we).map((nt,ut)=>nt.toLowerCase()===Ee.toLowerCase()?s.jsx("span",{style:{color:"#491B6D",fontWeight:700},children:nt},ut):nt)},le=Y=>{T(L.map(Ee=>{if(Ee.id===Y){const we=!Ee.isStarred;return a&&a(Y),{...Ee,isStarred:we}}return Ee}))},fe=Y=>{le(Y)},ue=Y=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();for(let we=0;we<2;we++){const We=new SpeechSynthesisUtterance(Y);We.lang="en-US",We.rate=.8,window.speechSynthesis.speak(We)}const Ee=L.find(we=>we.word===Y);if(Ee){const we=new SpeechSynthesisUtterance(Ee.meaning);we.lang="ko-KR",we.rate=.9,window.speechSynthesis.speak(we)}}},Ne=Y=>{c&&c(Y),T(L.filter(Ee=>Ee.id!==Y))},Te=Y=>{d&&d(Y),T(L.filter(Ee=>Ee.id!==Y))},Ze=Y=>{T(L.map(Ee=>Ee.id===Y?{...Ee,isExpanded:!Ee.isExpanded}:Ee))},rt=Y=>{T(L.map(Ee=>Ee.id===Y?{...Ee,isMeaningRevealed:!Ee.isMeaningRevealed}:Ee))},he=()=>{const Y=!R;I(Y),T(L.map(Ee=>({...Ee,isMeaningRevealed:!Y})))},Pe=Y=>{if(H(Y),Y===null)T($());else{const Ee=new Date,we=new Date(Ee);we.setDate(we.getDate()-Y),we.setHours(0,0,0,0);const We=new Date(we);We.setDate(We.getDate()+1);const nt=$().filter(ut=>{const un=ut.graveyardAt||ut.graveyard_at||ut.updated_at||ut.created_at;if(!un)return!1;const Gt=new Date(un);return Gt>=we&&Gt<We});T(nt)}},ae=()=>{T(L.map(Y=>({...Y,isExpanded:!0})))},pe=()=>{T(L.map(Y=>({...Y,isExpanded:!1})))},ke=Y=>{T(L.map(Ee=>Ee.id===Y?{...Ee,exampleLanguage:Ee.exampleLanguage==="en"?"kr":"en"}:Ee))},xe=()=>{const Y=W==="en"?"kr":"en";B(Y),T(L.map(Ee=>({...Ee,exampleLanguage:Y})))},Ye=(Y,Ee,we,We)=>({id:`${Y.id}-${Ee}-${We}`,word:String(we.word||"").trim(),meaning:we.meaning||"",source:`${D9[Ee]}  ${Y.word}`,metadata:{relationType:Ee,baseWordId:Y.id,baseWord:Y.word,baseMeaning:Y.meaning,translation:Y.translation,partOfSpeech:Y.partOfSpeech}}),it=Y=>{if(!Y.word){ce.error("   .");return}const Ee=G(Y.id);if(!Ee&&D>=w1){ce.error(`  ${w1}   .`);return}O(Y),ce[Ee?"info":"success"](Ee?" .":" .",{duration:1500})},Tt=(Y,Ee,we,We)=>{const nt=Ye(Y,Ee,we,We),ut=G(nt.id);return s.jsxs("button",{onClick:un=>{un.stopPropagation(),it(nt)},"aria-pressed":ut,className:`rounded-lg border px-2 py-1 transition-all text-left ${ut?"bg-[#F8F5FF] border-[#DCCEF8] text-[#5B21B6] shadow-sm":"bg-white/80 border-gray-200/80 text-gray-700 hover:border-[#D8B4FE]"}`,children:[s.jsxs("div",{className:"min-w-0 flex items-center gap-1",children:[s.jsx("p",{className:"text-[11px] font-semibold leading-tight",children:we.word}),we.meaning&&s.jsx("p",{className:"text-[10px] text-gray-500 leading-tight truncate",children:we.meaning})]}),s.jsx("div",{className:`hidden ${ut?"bg-[#5B21B6] border-[#5B21B6] text-white":"border-gray-300 text-gray-400"}`,children:s.jsx(Gd,{className:"w-3.5 h-3.5"})})]},`${nt.id}`)},tt=()=>{if(D===0){ce.info("    .");return}ie(!0)},ct=(()=>{switch(f){case"starred":return{bgGradient:"from-[#FFFEF5] via-[#FFFEF8] to-[#FFFFF9]",headerBg:"from-[#FFFBEB]/80 to-[#FEF3C7]/70",cardBg:"linear-gradient(135deg, rgba(255, 251, 235, 0.7) 0%, rgba(254, 249, 230, 0.65) 100%)",cardBorder:"border-amber-100/30",numberBadgeBg:"from-[#FCD34D] to-[#F59E0B]",accentColor:"#F59E0B",textColor:"#78350F",buttonBg:"#F59E0B",buttonText:"text-white",headerTextColor:"#78350F",secondaryTextColor:"#D97706",cardTextColor:"#78350F",iconColor:"#F59E0B",badgeColor:"#F59E0B",name:" Starred Words"};case"graveyard":return{bgGradient:"from-[#FCFCFC] via-[#FAFAFA] to-[#F9F9F9]",headerBg:"from-[#F9FAFB]/80 to-[#F3F4F6]/70",cardBg:"linear-gradient(135deg, rgba(249, 250, 251, 0.7) 0%, rgba(243, 244, 246, 0.65) 100%)",cardBorder:"border-gray-200/30",numberBadgeBg:"from-[#6B7280] to-[#4B5563]",accentColor:"#6B7280",textColor:"#374151",buttonBg:"#6B7280",buttonText:"text-white",headerTextColor:"#374151",secondaryTextColor:"#6B7280",cardTextColor:"#374151",iconColor:"#6B7280",badgeColor:"#6B7280",name:" Graveyard"};case"wrong-answers":return{bgGradient:"from-[#FFFAFA] via-[#FFFCFC] to-[#FFF9F9]",headerBg:"from-[#FEF2F2]/80 to-[#FEE2E2]/70",cardBg:"linear-gradient(135deg, rgba(254, 242, 242, 0.7) 0%, rgba(254, 226, 226, 0.65) 100%)",cardBorder:"border-red-100/30",numberBadgeBg:"from-[#EF4444] to-[#DC2626]",accentColor:"#DC2626",textColor:"#7F1D1D",buttonBg:"#DC2626",buttonText:"text-white",headerTextColor:"#7F1D1D",secondaryTextColor:"#DC2626",cardTextColor:"#7F1D1D",iconColor:"#DC2626",badgeColor:"#DC2626",name:" Wrong Answers"};default:return{bgGradient:"from-[#F5F3FF] via-[#EDE9FE] to-[#E9E5FF]",headerBg:"from-[#F5F3FF]/80 to-[#EDE9FE]/70",cardBg:"rgba(255, 255, 255, 0.7)",cardBorder:"border-purple-100/30",numberBadgeBg:"from-[#C4B5FD] to-[#A78BFA]",accentColor:"#8B5CF6",textColor:"#491B6D",buttonBg:"#491B6D",buttonText:"text-white",name:n}}})();return s.jsxs("div",{className:"h-screen flex flex-col bg-transparent",children:[!v&&s.jsxs("div",{className:"sticky top-0 z-40 backdrop-blur-lg border-b border-white/20",style:{background:"transparent"},children:[s.jsxs("div",{className:"flex items-center justify-between p-6",children:[s.jsx(Or,{onClick:e}),s.jsxs("div",{className:"flex-1 mx-4 text-center",children:[s.jsx("h1",{style:{fontSize:"18px",fontWeight:700,color:ct.headerTextColor||"#5B21B6"},children:ct.name}),s.jsxs("p",{style:{fontSize:"12px",fontWeight:500,color:ct.secondaryTextColor||"#A78BFA"},children:[r,"  ",ne," "]})]}),t&&s.jsx(M.button,{whileTap:{scale:.95},onClick:t,className:"w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-md",children:s.jsx(Ki,{className:"w-5 h-5",style:{color:ct.headerTextColor||"#5B21B6"}})}),!t&&s.jsx("div",{className:"w-10"})]}),s.jsxs("div",{className:"px-4 pb-3 bg-transparent",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 overflow-x-auto scrollbar-hide m-[0px] p-[3px]",children:[s.jsxs(M.button,{whileTap:{scale:.95},onClick:he,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[R?s.jsx(Wo,{className:"w-3.5 h-3.5",style:{color:ct.iconColor||"#8B5CF6"}}):s.jsx(El,{className:"w-3.5 h-3.5",style:{color:ct.iconColor||"#8B5CF6"}}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:ct.cardTextColor||"#091A7A"},children:R?" ":" "})]}),f!=="graveyard"&&f!=="wrong-answers"&&s.jsxs(s.Fragment,{children:[s.jsxs(M.button,{whileTap:{scale:.95},onClick:L.every(Y=>Y.isExpanded)?pe:ae,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[s.jsx(pr,{className:`w-3.5 h-3.5 transition-transform ${L.every(Y=>Y.isExpanded)?"rotate-180":""}`,style:{color:ct.iconColor||"#8B5CF6"}}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:ct.cardTextColor||"#091A7A"},children:L.every(Y=>Y.isExpanded)?" ":" "})]}),s.jsxs(M.button,{whileTap:{scale:.95},onClick:xe,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1 whitespace-nowrap",children:[s.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:W==="en"?"#491B6D":"#9CA3AF"},children:"EN"}),s.jsx("span",{style:{fontSize:"11px",fontWeight:600,color:"#9CA3AF"},children:"|"}),s.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:W==="kr"?"#491B6D":"#9CA3AF"},children:"KR"})]}),s.jsxs(M.button,{whileTap:{scale:.95},onClick:tt,className:`px-3 py-2 backdrop-blur-lg rounded-xl border shadow-sm flex items-center gap-1.5 whitespace-nowrap ${D>0?"bg-[#5B21B6] text-white border-[#5B21B6]":"bg-white/90 text-[#5B21B6] border-white/40"}`,children:[s.jsx(Gd,{className:"w-3.5 h-3.5"}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600},children:""}),D>0&&s.jsx("span",{style:{fontSize:"10px",fontWeight:700},className:"bg-white/20 px-1.5 py-0.5 rounded-full",children:D})]})]}),f==="graveyard"&&L.length>0&&s.jsxs(M.button,{whileTap:{scale:.95},onClick:()=>A(!0),className:"px-3 py-2 bg-gradient-to-r from-gray-700 to-gray-800 backdrop-blur-lg rounded-xl border border-gray-600 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[s.jsx("span",{style:{fontSize:"14px"},children:""}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#E5E7EB"},children:" "})]}),f==="wrong-answers"&&L.length>0&&s.jsxs(M.button,{whileTap:{scale:.95},onClick:()=>C(!0),className:"px-3 py-2 bg-gradient-to-r from-red-600 to-red-700 backdrop-blur-lg rounded-xl border border-red-500 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[s.jsx("span",{style:{fontSize:"14px"},children:""}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#FEE2E2"},children:" "})]}),f==="graveyard"&&s.jsxs(M.button,{whileTap:{scale:.95},onClick:()=>U(!K),className:`px-3 py-2 backdrop-blur-lg rounded-xl border shadow-sm flex items-center gap-1.5 whitespace-nowrap ${K?"bg-gray-700/90 border-gray-600":"bg-white/90 border-white/40"}`,children:[s.jsx("span",{style:{fontSize:"12px"},children:""}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:K?"#E5E7EB":ct.cardTextColor||"#091A7A"},children:" "})]})]}),f==="graveyard"&&K&&s.jsxs(M.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"flex items-center justify-center gap-1 mt-2 flex-wrap",children:[s.jsx("button",{onClick:()=>Pe(null),className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors ${Z===null?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:""}),[1,2,3,7,14,30].map(Y=>s.jsxs("button",{onClick:()=>Pe(Y),className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors ${Z===Y?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:[Y,""]},Y))]})]})]}),s.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[v&&s.jsxs("div",{className:"sticky top-0 z-40 border-b border-white/20 bg-transparent px-[10px] py-[6px]",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 overflow-x-auto scrollbar-hide m-[0px] p-[3px]",children:[s.jsxs(M.button,{whileTap:{scale:.95},onClick:he,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[R?s.jsx(Wo,{className:"w-3.5 h-3.5",style:{color:ct.iconColor||"#8B5CF6"}}):s.jsx(El,{className:"w-3.5 h-3.5",style:{color:ct.iconColor||"#8B5CF6"}}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:ct.cardTextColor||"#091A7A"},children:R?" ":" "})]}),f!=="graveyard"&&f!=="wrong-answers"&&s.jsxs(s.Fragment,{children:[s.jsxs(M.button,{whileTap:{scale:.95},onClick:L.every(Y=>Y.isExpanded)?pe:ae,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[s.jsx(pr,{className:`w-3.5 h-3.5 transition-transform ${L.every(Y=>Y.isExpanded)?"rotate-180":""}`,style:{color:ct.iconColor||"#8B5CF6"}}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:ct.cardTextColor||"#091A7A"},children:L.every(Y=>Y.isExpanded)?" ":" "})]}),s.jsxs(M.button,{whileTap:{scale:.95},onClick:xe,className:"px-3 py-2 bg-white/90 backdrop-blur-lg rounded-xl border border-white/40 shadow-sm flex items-center gap-1 whitespace-nowrap",children:[s.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:W==="en"?"#491B6D":"#9CA3AF"},children:"EN"}),s.jsx("span",{style:{fontSize:"11px",fontWeight:600,color:"#9CA3AF"},children:"|"}),s.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:W==="kr"?"#491B6D":"#9CA3AF"},children:"KR"})]}),s.jsxs(M.button,{whileTap:{scale:.95},onClick:tt,className:`px-3 py-2 backdrop-blur-lg rounded-xl border shadow-sm flex items-center gap-1.5 whitespace-nowrap ${D>0?"bg-[#5B21B6] text-white border-[#5B21B6]":"bg-white/90 text-[#5B21B6] border-white/40"}`,children:[s.jsx(Gd,{className:"w-3.5 h-3.5"}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600},children:""}),D>0&&s.jsx("span",{style:{fontSize:"10px",fontWeight:700},className:"bg-white/20 px-1.5 py-0.5 rounded-full",children:D})]})]}),f==="graveyard"&&L.length>0&&s.jsxs(M.button,{whileTap:{scale:.95},onClick:()=>A(!0),className:"px-3 py-2 bg-gradient-to-r from-gray-700 to-gray-800 backdrop-blur-lg rounded-xl border border-gray-600 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[s.jsx("span",{style:{fontSize:"14px"},children:""}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#E5E7EB"},children:" "})]}),f==="wrong-answers"&&L.length>0&&s.jsxs(M.button,{whileTap:{scale:.95},onClick:()=>C(!0),className:"px-3 py-2 bg-gradient-to-r from-red-600 to-red-700 backdrop-blur-lg rounded-xl border border-red-500 shadow-sm flex items-center gap-1.5 whitespace-nowrap",children:[s.jsx("span",{style:{fontSize:"14px"},children:""}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#FEE2E2"},children:" "})]}),f==="graveyard"&&s.jsxs(M.button,{whileTap:{scale:.95},onClick:()=>U(!K),className:`px-3 py-2 backdrop-blur-lg rounded-xl border shadow-sm flex items-center gap-1.5 whitespace-nowrap ${K?"bg-gray-700/90 border-gray-600":"bg-white/90 border-white/40"}`,children:[s.jsx("span",{style:{fontSize:"12px"},children:""}),s.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:K?"#E5E7EB":ct.cardTextColor||"#091A7A"},children:" "})]})]}),f==="graveyard"&&K&&s.jsxs(M.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"flex items-center justify-center gap-1 mt-2 flex-wrap",children:[s.jsx("button",{onClick:()=>Pe(null),className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors ${Z===null?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:""}),[1,2,3,7,14,30].map(Y=>s.jsxs("button",{onClick:()=>Pe(Y),className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors ${Z===Y?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:[Y,""]},Y))]})]}),s.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto px-4 pb-64",style:{overflowY:"auto",WebkitOverflowScrolling:"touch"},children:s.jsx("div",{className:"space-y-3 pt-4",children:s.jsx(pt,{mode:"popLayout",children:L.map((Y,Ee)=>s.jsxs(M.div,{className:"relative",layout:!0,exit:{opacity:0,x:-200,transition:{duration:.2,ease:"easeOut"}},children:[f!=="graveyard"&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#6B7280] to-[#4B5563] rounded-2xl flex items-center justify-end px-6",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tm,{className:"w-4 h-4 text-white/80"}),s.jsx("div",{className:"text-white",style:{fontSize:"12px",fontWeight:600},children:" "})]})}),s.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0,x:Y.swipeX},transition:{delay:Math.min(Ee*.02,.3),duration:.2},drag:f!=="graveyard"?"x":!1,dragConstraints:{left:-150,right:0},dragElastic:0,dragDirectionLock:!0,onDirectionLock:we=>{},onDragEnd:(we,We)=>{f!=="graveyard"&&We.offset.x<-100?Ne(Y.id):T(L.map(nt=>nt.id===Y.id?{...nt,swipeX:0}:nt))},onDrag:(we,We)=>{f!=="graveyard"&&T(L.map(nt=>nt.id===Y.id?{...nt,swipeX:Math.min(0,We.offset.x)}:nt))},className:`backdrop-blur-xl rounded-2xl overflow-hidden border ${ct.cardBorder} relative z-10`,style:{background:f==="graveyard"?"linear-gradient(135deg, rgba(55, 65, 81, 0.95) 0%, rgba(75, 85, 99, 0.9) 100%)":f==="starred"?"linear-gradient(135deg, rgba(254, 249, 195, 0.95) 0%, rgba(254, 243, 199, 0.9) 100%)":f==="wrong-answers"?"linear-gradient(135deg, rgba(254, 226, 226, 0.95) 0%, rgba(254, 202, 202, 0.9) 100%)":"rgba(255, 255, 255, 0.95)",boxShadow:"0 2px 8px 0 rgba(0, 0, 0, 0.08)"},children:f==="graveyard"||f==="wrong-answers"?s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[s.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:f==="graveyard"?"#D1D5DB":"#7F1D1D"},children:Y.word}),s.jsx("span",{style:{fontSize:"13px",fontWeight:500,color:f==="graveyard"?"#9CA3AF":"#DC2626"},children:Y.pronunciation})]}),s.jsx("p",{onClick:()=>rt(Y.id),style:{fontSize:"14px",fontWeight:500,color:f==="graveyard"?"#A1A1AA":"#991B1B",lineHeight:1.4,filter:Y.isMeaningRevealed?"none":"blur(8px)",cursor:"pointer",transition:"filter 0.3s ease"},children:Y.meaning})]}),s.jsxs("div",{className:"flex flex-col items-end gap-1.5",children:[f==="graveyard"&&Y.graveyardAt&&s.jsx("span",{style:{fontSize:"10px",fontWeight:500,color:"#9CA3AF",whiteSpace:"nowrap"},children:new Date(Y.graveyardAt).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})}),s.jsx(M.button,{whileTap:{scale:.9},onClick:()=>Te(Y.id),className:`flex-shrink-0 w-10 h-10 rounded-lg border flex items-center justify-center shadow-lg ${f==="graveyard"?"bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600":"bg-gradient-to-br from-red-600 to-red-700 border-red-500"}`,children:s.jsx("span",{className:"text-xl",children:f==="graveyard"?"":""})})]})]})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"cursor-pointer px-[12px] py-[16px] p-[12px]",onClick:()=>Ze(Y.id),children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#491B6D"},children:s.jsx("span",{className:"text-white",style:{fontSize:"11px",fontWeight:700},children:Y.originalIndex})}),s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx("h3",{className:"text-gray-900",style:{fontSize:"16px",fontWeight:600},children:Y.word}),s.jsx("span",{className:"text-gray-500",style:{fontSize:"12px",fontWeight:500},children:Y.pronunciation}),Y.partOfSpeech&&s.jsx("span",{className:"px-1.5 py-0.5 rounded",style:{fontSize:"10px",fontWeight:600,color:"#491B6D",backgroundColor:"rgba(73, 27, 109, 0.08)",border:"1px solid rgba(73, 27, 109, 0.15)"},children:Y.partOfSpeech}),s.jsx(M.button,{whileTap:{scale:.9},onClick:we=>{we.stopPropagation(),ue(Y.word)},className:"flex-shrink-0",children:s.jsx(n0,{className:"w-4 h-4",style:{color:"#491B6D",opacity:.6}})})]}),s.jsx(M.button,{whileTap:{scale:.9},onClick:we=>{we.stopPropagation(),fe(Y.id)},className:"flex-shrink-0 p-1",children:s.jsx(ys,{className:"w-4 h-4",style:{color:Y.isStarred?"#F59E0B":"#491B6D",fill:Y.isStarred?"#F59E0B":"transparent",opacity:Y.isStarred?1:.3}})})]}),s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"w-6 flex-shrink-0"})," ",s.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 cursor-pointer",onClick:we=>{we.stopPropagation(),rt(Y.id)},children:[s.jsx(Wo,{className:"w-3.5 h-3.5 flex-shrink-0",style:{color:"#9CA3AF"}}),s.jsx("p",{className:"text-gray-600 transition-all duration-200",style:{fontSize:"13px",fontWeight:500,color:"#6B7280",lineHeight:1.4,filter:Y.isMeaningRevealed?"blur(0px)":"blur(4px)",userSelect:Y.isMeaningRevealed?"auto":"none"},children:Y.meaning})]}),s.jsx(M.div,{animate:{rotate:Y.isExpanded?180:0},transition:{duration:.2},className:"flex-shrink-0 p-1",children:s.jsx(pr,{className:"w-4 h-4",style:{color:"#491B6D",opacity:.3}})})]}),(Y.example||Y.translation)&&s.jsxs("div",{className:"flex gap-2.5",children:[s.jsx(M.button,{whileTap:{scale:.9},onClick:we=>{we.stopPropagation(),ke(Y.id)},className:"w-6 h-6 flex-shrink-0 rounded-md bg-white/90 border border-[#E5E7EB]/60 flex items-center justify-center shadow-sm",children:s.jsx("span",{style:{fontSize:"8px",fontWeight:700,color:Y.exampleLanguage==="en"?"#491B6D":"#9CA3AF"},children:Y.exampleLanguage==="en"?"EN":"KR"})}),s.jsx("div",{className:"flex-1 bg-[#F3F4F6]/60 border border-[#E5E7EB]/40 rounded-lg px-3 py-2",children:s.jsx("p",{className:"text-[#4B5563]",style:{fontSize:"13px",fontWeight:500,lineHeight:1.5},children:Y.exampleLanguage==="en"?q(Y.example,Y.word):q(Y.translation,Y.word)})})]})]})}),s.jsx(pt,{children:Y.isExpanded&&s.jsx(M.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:s.jsxs("div",{className:"px-4 pb-4 space-y-2 pt-1",children:[Y.story&&s.jsxs("div",{className:"bg-[#F3F4F6]/80 border border-[#E5E7EB]/60 rounded-[16px] p-[10px]",children:[s.jsxs("div",{className:"flex items-start gap-2 mb-1.5",children:[s.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6] mt-2"}),s.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:" "})]}),s.jsx("p",{className:"text-[#4B5563] pl-3",style:{fontSize:"12px",fontWeight:500,lineHeight:1.6},children:Y.story})]}),s.jsxs("div",{className:"space-y-2",children:[Y.derivatives.length>0&&s.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2 border border-[#E5E7EB]/50",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[s.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6]"}),s.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:""})]}),s.jsx("div",{className:"flex flex-wrap gap-1.5 pl-2",children:Y.derivatives.map((we,We)=>Tt(Y,"derivative",we,We))})]}),(Y.synonyms.length>0||Y.antonyms.length>0)&&s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[Y.synonyms.length>0&&s.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2 border border-[#E5E7EB]/50",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[s.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6]"}),s.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:""})]}),s.jsx("div",{className:"flex flex-wrap gap-1.5 pl-2",children:Y.synonyms.map((we,We)=>Tt(Y,"synonym",we,We))})]}),Y.antonyms.length>0&&s.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2 border border-[#E5E7EB]/50",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[s.jsx("div",{className:"w-1 h-1 rounded-full bg-[#8B5CF6]"}),s.jsx("span",{className:"text-[#6B7280]",style:{fontSize:"11px",fontWeight:700},children:""})]}),s.jsx("div",{className:"flex flex-wrap gap-1.5 pl-2",children:Y.antonyms.map((we,We)=>Tt(Y,"antonym",we,We))})]})]})]})]})})})]})})]},Y.id))})})})]}),s.jsx(R0,{open:se,onClose:()=>ie(!1),words:F,onRemoveWord:ee,onClear:V,onActionComplete:async()=>{console.log("[WordListScreen] onActionComplete started"),ie(!1);const{invalidateVocabularyListCache:Y}=await Fr(async()=>{const{invalidateVocabularyListCache:Ee}=await Promise.resolve().then(()=>T0);return{invalidateVocabularyListCache:Ee}},void 0);Y(),console.log("[WordListScreen] Vocabulary list cache invalidated"),N?(console.log("[WordListScreen] Calling onRefreshVocabulary..."),await N(),console.log("[WordListScreen] onRefreshVocabulary completed")):console.log("[WordListScreen] No onRefreshVocabulary provided")},currentVocabularyId:S,currentVocabularyTitle:n}),s.jsx(pt,{children:_&&f==="wrong-answers"&&s.jsx(b9,{words:L.map(Y=>({id:Y.id,word:Y.word,meaning:Y.meaning})),onWordCleared:Y=>{d&&d(Y)},onClose:()=>C(!1),onGameComplete:()=>{}})}),s.jsx(pt,{children:E&&f==="graveyard"&&s.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50",children:s.jsx(aC,{vocabularyWords:L.map(Y=>({id:Y.id,word:Y.word,meaning:Y.meaning,pronunciation:Y.pronunciation})),onBack:()=>A(!1),onBackToHome:t})})})]})}const I9=(e,t)=>e.vocabularyTitle===t.vocabularyTitle&&e.unitName===t.unitName&&e.filterType===t.filterType&&e.hideHeader===t.hideHeader&&e.hideActionButtons===t.hideActionButtons&&e.vocabularyWords===t.vocabularyWords&&e.starredWordIds===t.starredWordIds&&e.graveyardWordIds===t.graveyardWordIds&&e.wrongAnswersWordIds===t.wrongAnswersWordIds&&e.onBack===t.onBack&&e.onBackToHome===t.onBackToHome&&e.onAddToStarred===t.onAddToStarred&&e.onMoveToGraveyard===t.onMoveToGraveyard&&e.onDeletePermanently===t.onDeletePermanently&&e.onStartFlashcards===t.onStartFlashcards,ku=g.memo(O9,I9);ku.displayName="WordListScreen";function F9({onClick:e}){return s.jsx(M.button,{whileTap:{scale:.95},onClick:e,className:"w-11 h-11 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/40",style:{minWidth:"44px",minHeight:"44px"},children:s.jsx(Ki,{className:"w-5 h-5 text-[#491B6D]"})})}const M9=[{id:"1",word:"Ephemeral",pronunciation:"/fem.r.l/",meaning:", ",example:"The beauty of cherry blossoms is ephemeral, lasting only a few weeks.",etymology:"Greek ephemeros (lasting only a day)",synonyms:[{word:"temporary",meaning:""},{word:"fleeting",meaning:""},{word:"transient",meaning:""}],antonyms:[{word:"permanent",meaning:""},{word:"eternal",meaning:""},{word:"lasting",meaning:""}]},{id:"2",word:"Serendipity",pronunciation:"/ser.ndp..ti/",meaning:" ,  ",example:"It was pure serendipity that we met at the cafe.",etymology:"Coined by Horace Walpole from Persian fairy tale",synonyms:[{word:"chance",meaning:""},{word:"fortune",meaning:""},{word:"luck",meaning:""}],antonyms:[{word:"misfortune",meaning:""},{word:"bad luck",meaning:""}]},{id:"3",word:"Ubiquitous",pronunciation:"/jubk.w.ts/",meaning:" , ",example:"Smartphones have become ubiquitous in modern society.",etymology:"Latin ubique (everywhere)",synonyms:[{word:"omnipresent",meaning:""},{word:"pervasive",meaning:""},{word:"universal",meaning:""}],antonyms:[{word:"rare",meaning:""},{word:"scarce",meaning:""},{word:"uncommon",meaning:""}]}];function lC({onBack:e,onBackToHome:t,vocabularyWords:n,onAddToStarred:r,onMoveToGraveyard:i,starredWordIds:a=[],graveyardWordIds:c=[],hideHeader:d=!1,vocabularyId:u,vocabularyTitle:f,onRefreshVocabulary:p}){const[m,y]=g.useState(0),[v,b]=g.useState(!1),[j,S]=g.useState(0),[N,_]=g.useState(!1),[C,E]=g.useState(!1),[A,F]=g.useState(!1),[D,O]=g.useState("en"),[V,G]=g.useState(!1),{toggleWord:ee,isSelected:se,selectedWords:ie,clear:J,removeWord:$}=P0(),L=n&&n.length>0?n.map(ae=>({id:ae.id||"",word:ae.word||"",pronunciation:ae.pronunciation||"",meaning:ae.meaning||"",example:ae.example_sentence||ae.example||"",translation:ae.translation||"",etymology:ae.etymology||"",derivatives:Array.isArray(ae.derivatives)?ae.derivatives.map(pe=>({word:pe.word||pe,meaning:pe.meaning||""})):typeof ae.derivatives=="string"&&ae.derivatives?ae.derivatives.split(",").map(pe=>{const ke=pe.trim(),xe=ke.match(/^(.+?)\s*\((.+?)\)\s*$/);return xe?{word:xe[1].trim(),meaning:xe[2].trim()}:{word:ke,meaning:""}}):[],synonyms:Array.isArray(ae.synonyms)?ae.synonyms.map(pe=>({word:pe.word||pe,meaning:pe.meaning||""})):typeof ae.synonyms=="string"&&ae.synonyms?ae.synonyms.split(",").map(pe=>({word:pe.trim(),meaning:""})):[],antonyms:Array.isArray(ae.antonyms)?ae.antonyms.map(pe=>({word:pe.word||pe,meaning:pe.meaning||""})):typeof ae.antonyms=="string"&&ae.antonyms?ae.antonyms.split(",").map(pe=>({word:pe.trim(),meaning:""})):[]})):M9,[T,R]=g.useState(L);g.useEffect(()=>{if(n&&n.length>0){const ae=n.map(pe=>({id:pe.id||"",word:pe.word||"",pronunciation:pe.pronunciation||"",meaning:pe.meaning||"",example:pe.example_sentence||pe.example||"",translation:pe.translation||"",etymology:pe.etymology||"",derivatives:Array.isArray(pe.derivatives)?pe.derivatives.map(ke=>({word:ke.word||ke,meaning:ke.meaning||""})):typeof pe.derivatives=="string"&&pe.derivatives?pe.derivatives.split(",").map(ke=>{const xe=ke.trim(),Ye=xe.match(/^(.+?)\s*\((.+?)\)\s*$/);return Ye?{word:Ye[1].trim(),meaning:Ye[2].trim()}:{word:xe,meaning:""}}):[],synonyms:Array.isArray(pe.synonyms)?pe.synonyms.map(ke=>({word:ke.word||ke,meaning:ke.meaning||""})):typeof pe.synonyms=="string"&&pe.synonyms?pe.synonyms.split(",").map(ke=>({word:ke.trim(),meaning:""})):[],antonyms:Array.isArray(pe.antonyms)?pe.antonyms.map(ke=>({word:ke.word||ke,meaning:ke.meaning||""})):typeof pe.antonyms=="string"&&pe.antonyms?pe.antonyms.split(",").map(ke=>({word:ke.trim(),meaning:""})):[]}));R(ae),y(0),b(!1)}},[n]);const I=T[m],W=a.includes(I?.id||"");se(I?.id||"");const B=g.useRef(null),K=g.useRef(!1),U=()=>{if(ie.length===0){ce.info(" ");return}G(!0)},Z=(ae,pe,ke,xe)=>{ae.stopPropagation();const Ye=`${I?.id}_${xe}_${pe}`,it=se(Ye);ee({id:Ye,word:pe,meaning:ke,source:` (${xe==="derivative"?"":xe==="synonym"?"":""})`,metadata:{}}),ce.success(it?" ":" ")},H=(ae,pe)=>{if(!ae||!pe)return ae;const ke=new RegExp(`\\b(${pe})\\b`,"gi");return ae.split(ke).map((Ye,it)=>Ye.toLowerCase()===pe.toLowerCase()?s.jsx("span",{style:{color:"#491B6D",fontWeight:700},children:Ye},it):Ye)},ne=()=>{O(ae=>ae==="en"?"kr":"en")};g.useEffect(()=>{const ae=window.getComputedStyle(document.body).overflow,pe=window.getComputedStyle(document.body).overflowY;return document.body.style.overflow="hidden",document.body.style.overflowY="hidden",document.documentElement.style.overflow="hidden",document.documentElement.style.overflowY="hidden",()=>{document.body.style.overflow=ae,document.body.style.overflowY=pe,document.documentElement.style.overflow="",document.documentElement.style.overflowY=""}},[]);const q=(ae,pe)=>{const xe=pe.velocity.x,Ye=pe.offset.x,it=Math.abs(xe)>300,Tt=Ye>50||it&&xe>0,tt=Ye<-50||it&&xe<0;Tt?m>0&&(S(-1),y(m-1),b(!1)):tt&&m<T.length-1&&(S(1),y(m+1),b(!1))},le=()=>{b(!v)},fe=(ae,pe="en-US")=>new Promise(ke=>{if(!("speechSynthesis"in window)){console.warn("Speech synthesis not supported"),ke();return}window.speechSynthesis.cancel();const xe=new SpeechSynthesisUtterance(ae);xe.lang=pe,xe.rate=pe==="ko-KR"?.9:.8,xe.pitch=1,xe.volume=1,xe.onend=()=>{K.current=!1,ke()},xe.onerror=Ye=>{console.error("Speech synthesis error:",Ye),K.current=!1,ke()},K.current=!0,window.speechSynthesis.speak(xe)});g.useEffect(()=>{if(!N){"speechSynthesis"in window&&window.speechSynthesis.cancel(),B.current&&clearTimeout(B.current);return}B.current&&clearTimeout(B.current);const ae=T[m];if(!ae)return;const pe=async()=>{N&&(await fe(ae.word,"en-US"),await new Promise(ke=>setTimeout(ke,300)),N&&(await fe(ae.word,"en-US"),await new Promise(ke=>setTimeout(ke,500)),N&&(b(!0),await new Promise(ke=>setTimeout(ke,600)),N&&(await fe(ae.meaning,"ko-KR"),await new Promise(ke=>setTimeout(ke,800)),N&&(m<T.length-1?(S(1),y(m+1),b(!1)):_(!1))))))};return B.current=setTimeout(()=>{pe()},500),()=>{B.current&&clearTimeout(B.current)}},[N,m,T]),g.useEffect(()=>()=>{"speechSynthesis"in window&&window.speechSynthesis.cancel(),B.current&&clearTimeout(B.current)},[]);const ue=()=>{fe(I.word,"en-US")},Ne=()=>{_(!0)},Te=()=>{_(!1),"speechSynthesis"in window&&window.speechSynthesis.cancel()},Ze=()=>{_(!1),"speechSynthesis"in window&&window.speechSynthesis.cancel(),y(0),b(!1)},rt=ae=>{ae.stopPropagation(),r&&r(I.id)},he=ae=>{ae.stopPropagation(),E(!0),i&&i(I.id),setTimeout(()=>{m<T.length-1?(S(1),y(m+1)):m>0&&(S(-1),y(m-1)),E(!1),b(!1)},300)},Pe=()=>{const ae=[...T].sort(()=>Math.random()-.5);R(ae),y(0),b(!1)};return s.jsxs("div",{className:`flex flex-col ${d?"h-full":"min-h-screen h-screen fixed inset-0"}`,style:d?{overflow:"visible",height:"100%",touchAction:"pan-x",position:"relative"}:{overflow:"hidden",overflowY:"hidden",maxWidth:"100vw",width:"100vw",height:"100dvh",touchAction:"pan-x",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3},children:[!d&&s.jsx("div",{className:"sticky top-0 z-40 backdrop-blur-lg",style:{background:"transparent"},children:s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsx(Or,{onClick:e}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("h1",{className:"text-[#091A7A]",style:{fontSize:"18px",fontWeight:600},children:""}),s.jsxs("p",{className:"text-[#6B7280]",style:{fontSize:"12px",fontWeight:500},children:[m+1," / ",T.length]})]}),t?s.jsx(F9,{onClick:t}):s.jsx("div",{className:"w-12 h-12"})]})}),d&&s.jsx("div",{className:"text-center py-3",children:s.jsxs("p",{className:"text-[#6B7280]",style:{fontSize:"14px",fontWeight:500},children:[m+1," / ",T.length]})}),s.jsx("div",{className:`flex-1 flex justify-center ${d?"items-center":"items-start pt-2"}`,style:{overflow:"visible",maxWidth:"100vw",touchAction:"auto"},children:s.jsxs("div",{className:`w-full max-w-[380px] ${d?"h-[50vh]":"h-full max-h-[50vh]"} relative flex items-center justify-center`,style:{overflow:"visible",touchAction:"auto"},children:[m>0&&s.jsx(M.div,{className:"absolute left-0 pointer-events-none z-0",initial:{opacity:0,x:-20},animate:{opacity:.4,x:0},transition:{duration:.3},style:{width:"70%",height:"85%",transform:"translateX(-75%) scale(0.7)",transformOrigin:"right center"},children:s.jsx("div",{className:"w-full h-full bg-white/90 backdrop-blur-lg shadow-2xl rounded-[20px] border-2 border-white/30",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)"}})}),m<T.length-1&&s.jsx(M.div,{className:"absolute right-0 pointer-events-none z-0",initial:{opacity:0,x:20},animate:{opacity:.4,x:0},transition:{duration:.3},style:{width:"70%",height:"85%",transform:"translateX(75%) scale(0.7)",transformOrigin:"left center"},children:s.jsx("div",{className:"w-full h-full bg-white/90 backdrop-blur-lg shadow-2xl rounded-[20px] border-2 border-white/30",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)"}})}),s.jsx("div",{className:"w-[92%] h-full relative z-10 mx-auto",style:{overflow:"visible",touchAction:"pan-x"},children:s.jsx(pt,{mode:"popLayout",initial:!1,children:s.jsx(M.div,{initial:{scale:.9,opacity:0},animate:{scale:C?.8:1,opacity:C?0:1},exit:{scale:.9,opacity:0},transition:{duration:C?.3:.2},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.3,dragMomentum:!1,dragPropagation:!1,whileDrag:{cursor:"grabbing"},onDragStart:()=>{F(!0)},onDragEnd:(ae,pe)=>{F(!1),q(ae,pe)},className:"absolute inset-0 cursor-grab active:cursor-grabbing",style:{perspective:"1000px",zIndex:10},children:s.jsxs(M.div,{className:"w-full h-full relative",style:{transformStyle:"preserve-3d",pointerEvents:A?"none":"auto"},animate:{rotateY:v?180:0},transition:{duration:.6,type:"spring"},onClick:ae=>{A||le()},children:[s.jsxs("div",{className:"absolute inset-0 bg-white/95 backdrop-blur-lg px-6 py-4 flex flex-col items-center justify-center rounded-[20px] border border-white/20 shadow-2xl",style:{backfaceVisibility:"hidden"},children:[s.jsx(M.button,{whileTap:{scale:.9},onClick:rt,className:"absolute top-5 right-5",children:s.jsx(M.div,{animate:W?{scale:[1,1.3,1],rotate:[0,-15,15,0]}:{},transition:{duration:.5,ease:"easeOut"},children:s.jsx(ys,{className:`w-7 h-7 ${W?"fill-[#FCD34D] text-[#FCD34D] drop-shadow-[0_0_8px_rgba(252,211,77,0.6)]":"text-[#D1D5DB]"}`})})}),s.jsx(M.button,{whileTap:{scale:.9},onClick:he,className:"absolute bottom-5 right-5",children:s.jsx(Tm,{className:"w-7 h-7 text-[#6B7280]"})}),s.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[s.jsx("div",{className:"w-16 h-1 bg-[#491B6D]/20",style:{borderRadius:"var(--radius-pill)"}}),s.jsx("h2",{className:"text-[#091A7A] text-center px-4",style:{fontSize:"40px",fontWeight:700,lineHeight:1.1},children:I.word}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("p",{className:"text-[#6B7280]",style:{fontSize:"14px",fontWeight:500},children:I.pronunciation}),s.jsx(M.button,{whileTap:{scale:.9},onClick:ae=>{ae.stopPropagation(),ue()},className:"w-10 h-10 bg-[#491B6D]/10 rounded-full flex items-center justify-center",children:s.jsx(n0,{className:"w-5 h-5 text-[#491B6D]"})})]}),s.jsx("div",{className:"w-16 h-1 bg-[#491B6D]/20 mt-2",style:{borderRadius:"var(--radius-pill)"}})]}),s.jsx("div",{className:"absolute bottom-8 text-[#9CA3AF]",style:{fontSize:"13px",fontWeight:500},children:" "})]}),s.jsxs("div",{className:"absolute inset-0 bg-white/95 backdrop-blur-lg p-5 overflow-y-auto scrollbar-hide rounded-[20px] border border-white/20 shadow-2xl",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[s.jsx(M.button,{whileTap:{scale:.9},onClick:rt,className:"absolute top-4 right-4 z-10",style:{transform:"scaleX(-1)"},children:s.jsx(M.div,{animate:W?{scale:[1,1.3,1],rotate:[0,-15,15,0]}:{},transition:{duration:.5,ease:"easeOut"},children:s.jsx(ys,{className:`w-6 h-6 ${W?"fill-[#FCD34D] text-[#FCD34D] drop-shadow-[0_0_8px_rgba(252,211,77,0.6)]":"text-[#D1D5DB]"}`})})}),s.jsx(M.button,{whileTap:{scale:.9},onClick:he,className:"absolute bottom-4 right-4 z-10",style:{transform:"scaleX(-1)"},children:s.jsx(Tm,{className:"w-6 h-6 text-[#6B7280]"})}),s.jsxs("div",{className:"flex flex-col gap-3 scrollable-content",style:{touchAction:"pan-y",overflowY:"auto",WebkitOverflowScrolling:"touch"},children:[s.jsx("div",{className:"text-center pb-3 border-b border-gray-200",children:s.jsx("h3",{className:"text-[#491B6D]",style:{fontSize:"24px",fontWeight:700},children:I.word})}),s.jsx("div",{className:"text-center py-2",children:s.jsx("p",{className:"text-[#374151]",style:{fontSize:"18px",fontWeight:700,lineHeight:1.3},children:I.meaning})}),(I.example||I.translation)&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:ae=>{ae.stopPropagation(),ne()},className:"w-8 h-8 flex-shrink-0 rounded-md bg-white/90 border border-[#E5E7EB]/60 flex items-center justify-center shadow-sm",style:{transform:"scaleX(-1)"},children:s.jsx("span",{style:{fontSize:"9px",fontWeight:700,color:D==="en"?"#491B6D":"#9CA3AF",transform:"scaleX(-1)"},children:D==="en"?"EN":"KR"})}),s.jsx("div",{className:"flex-1 bg-[#F3F4F6]/60 border border-[#E5E7EB]/40 rounded-lg px-3 py-2",children:s.jsx("p",{className:"text-[#4B5563]",style:{fontSize:"12px",fontWeight:500,lineHeight:1.5},children:H(D==="en"?I.example:I.translation||I.example,I.word)})})]}),I.etymology&&s.jsx("div",{className:"bg-[#F3F4F6]/80 border border-[#E5E7EB]/60 rounded-[16px] p-[10px]",children:s.jsx("p",{className:"text-[#4B5563]",style:{fontSize:"11.5px",fontWeight:500,lineHeight:1.6},children:I.etymology})}),s.jsxs("div",{className:"space-y-2",children:[I.derivatives&&I.derivatives.length>0&&s.jsx("div",{className:"bg-white/60 rounded-[16px] p-2 border border-[#E5E7EB]/50",children:s.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-1",children:I.derivatives.map((ae,pe)=>{const ke=`${I.id}_derivative_${ae.word}`,xe=se(ke);return s.jsxs(M.button,{whileTap:{scale:.95},onClick:Ye=>Z(Ye,ae.word,ae.meaning||"","derivative"),className:`inline-flex items-baseline gap-1 px-2 py-1 rounded-lg transition-colors ${xe?"bg-[#7C3AED]/10 border border-[#7C3AED]":"hover:bg-gray-100 border border-transparent"}`,children:[s.jsx("span",{className:`text-[11px] font-semibold ${xe?"text-[#7C3AED]":"text-gray-700"}`,children:ae.word}),ae.meaning&&s.jsxs("span",{className:"text-[10px] text-gray-500",children:["(",ae.meaning,")"]})]},pe)})})}),(I.synonyms&&I.synonyms.length>0||I.antonyms&&I.antonyms.length>0)&&s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.synonyms&&I.synonyms.length>0&&s.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2 border border-[#E5E7EB]/50",children:[s.jsx("p",{className:"text-[#6B7280] mb-1",style:{fontSize:"10px",fontWeight:600,letterSpacing:"0.02em"},children:""}),s.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-1",children:I.synonyms.map((ae,pe)=>{const ke=`${I.id}_synonym_${ae.word}`,xe=se(ke);return s.jsxs(M.button,{whileTap:{scale:.95},onClick:Ye=>Z(Ye,ae.word,ae.meaning||"","synonym"),className:`inline-flex items-baseline gap-1 px-2 py-1 rounded-lg transition-colors ${xe?"bg-[#7C3AED]/10 border border-[#7C3AED]":"hover:bg-gray-100 border border-transparent"}`,children:[s.jsx("span",{className:`text-[11px] font-semibold ${xe?"text-[#7C3AED]":"text-gray-700"}`,children:ae.word}),ae.meaning&&s.jsxs("span",{className:"text-[10px] text-gray-500",children:["(",ae.meaning,")"]})]},pe)})})]}),I.antonyms&&I.antonyms.length>0&&s.jsxs("div",{className:"bg-white/60 rounded-[16px] p-2 border border-[#E5E7EB]/50",children:[s.jsx("p",{className:"text-[#6B7280] mb-1",style:{fontSize:"10px",fontWeight:600,letterSpacing:"0.02em"},children:""}),s.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-1",children:I.antonyms.map((ae,pe)=>{const ke=`${I.id}_antonym_${ae.word}`,xe=se(ke);return s.jsxs(M.button,{whileTap:{scale:.95},onClick:Ye=>Z(Ye,ae.word,ae.meaning||"","antonym"),className:`inline-flex items-baseline gap-1 px-2 py-1 rounded-lg transition-colors ${xe?"bg-[#7C3AED]/10 border border-[#7C3AED]":"hover:bg-gray-100 border border-transparent"}`,children:[s.jsx("span",{className:`text-[11px] font-semibold ${xe?"text-[#7C3AED]":"text-gray-700"}`,children:ae.word}),ae.meaning&&s.jsxs("span",{className:"text-[10px] text-gray-500",children:["(",ae.meaning,")"]})]},pe)})})]})]})]})]})]})]})},m)})})]})}),s.jsxs("div",{className:`${d?"relative py-4":"absolute bottom-8"} left-0 right-0 z-[9999] flex items-center justify-center gap-3 px-4`,style:{pointerEvents:"auto"},children:[s.jsx(M.button,{whileTap:{scale:.9},onClick:Pe,className:"w-14 h-14 bg-white/95 backdrop-blur-lg rounded-full flex items-center justify-center shadow-xl",children:s.jsx(pS,{className:"w-5 h-5 text-[#8B5CF6]"})}),s.jsx(M.button,{whileTap:{scale:.9},onClick:Ne,disabled:N,className:`w-16 h-16 backdrop-blur-lg rounded-full flex items-center justify-center shadow-xl ${N?"bg-white/50 opacity-50":"bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED]"}`,children:s.jsx(Bi,{className:"w-7 h-7 text-white fill-white"})}),s.jsx(M.button,{whileTap:{scale:.9},onClick:Te,disabled:!N,className:`w-14 h-14 backdrop-blur-lg rounded-full flex items-center justify-center shadow-xl ${N?"bg-white/95":"bg-white/50 opacity-50"}`,children:s.jsx(cu,{className:"w-6 h-6 text-[#491B6D]"})}),s.jsx(M.button,{whileTap:{scale:.9},onClick:Ze,className:"w-14 h-14 bg-white/95 backdrop-blur-lg rounded-full flex items-center justify-center shadow-xl",children:s.jsx(_l,{className:"w-5 h-5 text-[#EF4444] fill-[#EF4444]"})}),s.jsxs(M.button,{whileTap:{scale:.9},onClick:U,className:"w-14 h-14 bg-white/95 backdrop-blur-lg rounded-full flex items-center justify-center shadow-xl relative",children:[s.jsx(Gd,{className:"w-6 h-6 text-[#6B7280]"}),ie.length>0&&s.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-[#7C3AED] rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:ie.length})})]})]}),s.jsx(R0,{open:V,onClose:()=>G(!1),words:ie,onRemoveWord:$,onClear:J,onActionComplete:async()=>{G(!1);const{invalidateVocabularyListCache:ae}=await Fr(async()=>{const{invalidateVocabularyListCache:pe}=await Promise.resolve().then(()=>T0);return{invalidateVocabularyListCache:pe}},void 0);ae(),p&&await p()},currentVocabularyId:u,currentVocabularyTitle:f})]})}function $9({onBack:e,onSelectVocabulary:t}){const[n,r]=g.useState([]),[i,a]=g.useState(!0),[c,d]=g.useState(""),[u,f]=g.useState("All"),[p,m]=g.useState(["All"]),[y,v]=g.useState(new Set);g.useEffect(()=>{b(),j()},[]),g.useEffect(()=>{const C=[document.documentElement,document.body];return C.forEach(E=>E?.classList.add("gift-fullscreen")),()=>{C.forEach(E=>E?.classList.remove("gift-fullscreen"))}},[]);const b=async()=>{try{const C=await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/categories`,{headers:{Authorization:`Bearer ${En}`}});if(!C.ok){console.error("Failed to fetch categories:",await C.text());return}const A=((await C.json()).categories||[]).filter(F=>F.enabled).map(F=>F.name);m(["All",...A])}catch(C){console.error("Error fetching categories:",C)}},j=async()=>{try{let C=await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/shared-vocabularies`,{headers:{Authorization:`Bearer ${En}`}});if(C.ok||(C=await fetch(`https://${Ge}.supabase.co/functions/v1/server/shared-vocabularies`,{headers:{Authorization:`Bearer ${En}`}})),!C.ok){console.error("Failed to fetch vocabularies:",await C.text());return}const E=await C.json();r(E.vocabularies||[])}catch(C){console.error("Error fetching shared vocabularies:",C)}finally{a(!1)}},S=n.filter(C=>(C.title?.toLowerCase()||"").includes(c.toLowerCase())&&(u==="All"||C.category===u)).sort((C,E)=>C.title.localeCompare(E.title,"ko-KR")),N=C=>{v(E=>{const A=new Set(E);return A.has(C)?A.delete(C):A.add(C),A})},_=()=>{n.filter(E=>y.has(E.id)).forEach(E=>{t(E)}),v(new Set)};return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(8px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out forwards;
          opacity: 0;
        }
      `}),s.jsxs("div",{className:"min-h-screen h-full flex flex-col bg-transparent overflow-hidden",children:[s.jsx(Kl,{onBack:e,title:"Presets",subtitle:"  "}),s.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:s.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:[s.jsxs("div",{className:"sticky top-0 z-20 bg-transparent backdrop-blur-xl border-b border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Zg,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#8B5CF6]/50"}),s.jsx("input",{type:"text",value:c,onChange:C=>d(C.target.value),placeholder:"Search preset vocabulary...",className:"w-full pl-12 pr-4 py-3 rounded-full bg-white/90 shadow-md text-[#491B6D] placeholder:text-[#8B5CF6]/40 focus:outline-none focus:ring-2 focus:ring-[#8B5CF6]/30"})]})}),y.size>0&&s.jsxs(M.button,{whileTap:{scale:.95},onClick:_,className:"bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] text-white rounded-full px-5 py-3 flex items-center gap-2 shadow-lg whitespace-nowrap",style:{fontSize:"14px",fontWeight:600},children:[s.jsx(Jo,{className:"w-4 h-4"})," (",y.size,")"]})]}),s.jsx("div",{className:"flex gap-3 px-4 pb-3 overflow-x-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:p.map(C=>s.jsx("button",{onClick:E=>{E.preventDefault(),E.stopPropagation(),f(C)},className:`px-6 py-2.5 rounded-full whitespace-nowrap transition-all flex-shrink-0 active:scale-95 ${u===C?"bg-[#091A7A] text-white shadow-lg":"bg-transparent text-[#091A7A]"}`,style:{fontSize:"15px",fontWeight:600,touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},children:C},C))})]}),s.jsx("div",{className:"px-4 pb-32",children:i?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"w-8 h-8 border-4 border-[#8B5CF6]/20 border-t-[#8B5CF6] rounded-full animate-spin"})}):S.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(au,{className:"w-16 h-16 text-[#491B6D]/40 mx-auto mb-4"}),s.jsx("p",{className:"text-[#491B6D]/70",children:"  "})]}):s.jsx("div",{className:"space-y-3 pt-4",children:S.map((C,E)=>s.jsx("div",{onClick:()=>N(C.id),className:"bg-white/95 backdrop-blur-lg rounded-2xl overflow-hidden shadow-md p-4 cursor-pointer active:scale-[0.98] transition-all duration-200 hover:shadow-lg animate-fade-in",style:{animationDelay:`${Math.min(E*30,300)}ms`},children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center justify-center flex-shrink-0",children:s.jsx("div",{className:`w-5 h-5 rounded-lg border-2 flex items-center justify-center transition-all ${y.has(C.id)?"bg-[#8B5CF6] border-[#8B5CF6]":"bg-white border-[#8B5CF6]/30"}`,children:y.has(C.id)&&s.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{d:"M5 13l4 4L19 7"})})})}),s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED] rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(au,{className:"w-5 h-5 text-white"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[s.jsx("h3",{className:"text-[#491B6D] font-semibold text-sm truncate",children:C.title}),s.jsxs("span",{className:"text-[#8B5CF6] text-xs font-medium whitespace-nowrap",children:[C.total_words.toLocaleString(),""]})]})})]})},C.id))})})]})})]})]})}var L9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],B9=L9.reduce((e,t)=>{const n=DS(`Primitive.${t}`),r=g.forwardRef((i,a)=>{const{asChild:c,...d}=i,u=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...d,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),z9="Label",cC=g.forwardRef((e,t)=>s.jsx(B9.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));cC.displayName=z9;var W9=cC;function j1({className:e,...t}){return s.jsx(W9,{"data-slot":"label",className:wn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function dC({onSave:e,initialData:t=[],data:n,fullscreen:r=!1,headerInfo:i,onHeaderChange:a,onChange:c,getAuthToken:d,hideHeaderFields:u=!1}){const[f,p]=g.useState(!1);g.useRef(null);const[m,y]=g.useState(!1),[v,b]=g.useState(""),j=T=>T.map(R=>({word:R.word,meaning:R.meaning,synonyms:R.synonyms.join(", "),antonyms:R.antonyms.join(", "),example:R.example,translation:R.translation})),[S,N]=g.useState(()=>n&&n.length>0?j(n):Array(10).fill(null).map(()=>({word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""}))),[_,C]=g.useState(null),E=g.useRef({});g.useEffect(()=>{n&&n.length>0&&N(j(n))},[n]);const A=r?["word","meaning","synonyms","antonyms","example","translation"]:["word","meaning"],F={word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""},D=()=>{N([...S,{word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""}])},O=T=>{S.length>1&&N(S.filter((R,I)=>I!==T))},V=(T,R,I)=>{const W=[...S];if(W[T][R]=I,N(W),c&&n&&n[T]){const B={...n[T],[R]:R==="synonyms"||R==="antonyms"?I.split(",").map(U=>U.trim()).filter(U=>U!==""):I},K=[...n];K[T]=B,c(K)}else c&&c(W.map((B,K)=>({id:K+1,word:B.word,pronunciation:n?.[K]?.pronunciation||"",partOfSpeech:n?.[K]?.partOfSpeech||"",meaning:B.meaning,definition:n?.[K]?.definition||void 0,synonyms:B.synonyms.split(",").map(U=>U.trim()).filter(U=>U!==""),antonyms:B.antonyms.split(",").map(U=>U.trim()).filter(U=>U!==""),derivatives:n?.[K]?.derivatives||[],example:B.example,translation:B.translation,translationHighlight:n?.[K]?.translationHighlight||void 0,etymology:n?.[K]?.etymology||""})))},G=(T,R,I)=>{if(T.key==="Enter"){T.preventDefault();const W=R+1;W>=S.length&&D(),setTimeout(()=>{const B=`${W}-${I}`;E.current[B]?.focus()},0)}else if(T.key==="Tab"){T.preventDefault();const W=I+1;if(W<A.length){const B=`${R}-${W}`;E.current[B]?.focus()}else{const B=R+1;B>=S.length&&D(),setTimeout(()=>{const K=`${B}-0`;E.current[K]?.focus()},0)}}},ee=(T,R,I)=>{T.preventDefault();const B=T.clipboardData.getData("text").split(`
`).filter(U=>U.trim()!==""),K=[...S];B.forEach((U,Z)=>{const H=U.split("	"),ne=R+Z;for(;K.length<=ne;)K.push({word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""});H.forEach((q,le)=>{const fe=I+le;fe<A.length&&(K[ne][A[fe]]=q.trim())})}),N(K),c&&c(K.map((U,Z)=>({id:Z+1,word:U.word,pronunciation:n?.[Z]?.pronunciation||"",partOfSpeech:n?.[Z]?.partOfSpeech||"",meaning:U.meaning,definition:n?.[Z]?.definition||void 0,synonyms:U.synonyms.split(",").map(H=>H.trim()).filter(H=>H!==""),antonyms:U.antonyms.split(",").map(H=>H.trim()).filter(H=>H!==""),derivatives:n?.[Z]?.derivatives||[],example:U.example,translation:U.translation,translationHighlight:n?.[Z]?.translationHighlight||"",etymology:n?.[Z]?.etymology||""})))},se=20,ie=3,J=async(T,R=3)=>{try{const I=T.filter(q=>q.word&&q.word.trim()!=="");if(I.length===0)return console.error("  "),{items:[],inputTokens:0,outputTokens:0};const W=d?.();if(!W)throw new Error(" .  .");const B=await fetch(`https://${Ge}.supabase.co/functions/v1/server/generate-vocabulary-batch`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`},body:JSON.stringify({words:I.map(q=>({word:q.word.trim(),meaning:q.meaning?q.meaning.trim():"",synonyms:q.synonyms?q.synonyms.trim():"",antonyms:q.antonyms?q.antonyms.trim():"",example:q.example?q.example.trim():"",translation:q.translation?q.translation.trim():""}))})});if(!B.ok){const q=await B.text();throw console.error(" API :",q),new Error("Failed to generate word info")}const K=await B.json();if(!K.success)throw new Error(K.error||"Generation failed");const U=K.results||K.data||[],Z=K.inputTokens||0,H=K.outputTokens||0;return{items:I.map((q,le)=>{const fe=U[le]||{};return{id:0,word:q.word,pronunciation:fe.pronunciation||"",partOfSpeech:fe.partOfSpeech||"",meaning:fe.meaning||q.meaning,definition:fe.definition||void 0,synonyms:q.synonyms?q.synonyms.split(",").map(ue=>ue.trim()).filter(ue=>ue!==""):fe.synonyms||[],antonyms:q.antonyms?q.antonyms.split(",").map(ue=>ue.trim()).filter(ue=>ue!==""):fe.antonyms||[],derivatives:fe.derivatives||[],example:q.example||fe.example||"",translation:q.translation||fe.translation||"",translationHighlight:fe.translationHighlight||void 0,etymology:fe.etymology||""}}),inputTokens:Z,outputTokens:H}}catch(I){return console.error("API :",I),R>0?(console.log(` ... ( : ${R})`),await new Promise(W=>setTimeout(W,2e3)),J(T,R-1)):{items:T.map(W=>({id:0,word:W.word,pronunciation:"",partOfSpeech:"",meaning:W.meaning,definition:void 0,synonyms:W.synonyms.split(",").map(B=>B.trim()).filter(B=>B!==""),antonyms:W.antonyms.split(",").map(B=>B.trim()).filter(B=>B!==""),derivatives:[],example:W.example,translation:W.translation,translationHighlight:void 0,etymology:""})),inputTokens:0,outputTokens:0}}},$=async T=>{const R=[];for(let q=0;q<T.length;q+=se)R.push(T.slice(q,q+se));const I=[];let W=0,B=0,K=0;const U=async(q,le)=>{const fe=await J(q);return{index:le,items:fe.items,inputTokens:fe.inputTokens,outputTokens:fe.outputTokens}},Z=async q=>{const le=Math.min(q+ie,R.length),fe=[];for(let Ne=q;Ne<le;Ne++)fe.push(U(R[Ne],Ne));const ue=await Promise.all(fe);for(const Ne of ue)I.push({index:Ne.index,items:Ne.items}),W+=Ne.inputTokens,B+=Ne.outputTokens,K++,R.length>1&&ce.loading(`AI   ... (${K}/${R.length} , ${Math.min(K*se,T.length)}/${T.length})`,{id:"generating",duration:1/0});return le};let H=0;for(;H<R.length;)H=await Z(H),H<R.length&&await new Promise(q=>setTimeout(q,1e3));return I.sort((q,le)=>q.index-le.index),{items:I.flatMap(q=>q.items),inputTokens:W,outputTokens:B}},L=async T=>{const R=S,I=R.filter(W=>W.word&&W.word.trim()!=="");if(console.log("=== handleSave  ==="),console.log("  :",R.length),console.log("   :",I.length),console.log(" 3 :",I.slice(0,3)),I.length===0){ce.error(" .",{duration:1e3});return}p(!0),ce.loading(`AI ${I.length}   ...`,{id:"generating",duration:1/0});try{console.log(`     (BATCH_SIZE=${se}, CONCURRENCY=${ie})`);const{items:W,inputTokens:B,outputTokens:K}=await $(I);ce.dismiss("generating"),console.log(" ! ",W.length,""),console.log(`    - : ${B}, : ${K}`);const U=W.map((Z,H)=>({...Z,id:H+1}));N(j(U)),setTimeout(()=>{ce.success(`${U.length}   !`,{duration:1e3})},300),e(U,{inputTokens:B,outputTokens:K})}catch(W){console.error(" :",W),ce.dismiss("generating"),ce.error("AI    .",{duration:1e3})}finally{p(!1)}};return s.jsxs("div",{className:"flex flex-col h-full",children:[i&&a&&!u&&s.jsxs("div",{className:"mb-4 flex-shrink-0 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(j1,{htmlFor:"headerTitle",className:`whitespace-nowrap text-xs ${m?"text-red-600":"text-slate-700"}`,children:" ()"}),s.jsx(hu,{id:"headerTitle",value:i.headerTitle,onChange:T=>{a({...i,headerTitle:T.target.value}),m&&y(!1)},placeholder:":     ",className:`bg-white flex-1 transition-all text-sm ${m?"border-red-500 border-2 ring-4 ring-red-100 animate-shake":"border-gray-300"}`,style:{fontFamily:"SUIT",fontWeight:"600"},required:!0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(j1,{htmlFor:"headerDescription",className:"text-slate-600 whitespace-nowrap text-xs",children:" ()"}),s.jsx(hu,{id:"headerDescription",value:i.headerDescription,onChange:T=>a({...i,headerDescription:T.target.value}),placeholder:": 1 2 ",className:"bg-white border-gray-300 flex-1 text-gray-700 placeholder:text-gray-400 text-sm",style:{fontFamily:"SUIT"}})]})]}),s.jsxs("div",{className:"mb-3 flex gap-2 flex-shrink-0",children:[s.jsx(Un,{onClick:D,variant:"outline",size:"sm",children:"+  "}),s.jsx(Un,{onClick:()=>{N(Array(10).fill(null).map(()=>({word:"",meaning:"",synonyms:"",antonyms:"",example:"",translation:""}))),b(""),ce.success("  ",{duration:1e3})},variant:"outline",size:"sm",children:" "})]}),s.jsx("div",{className:"h-[350px] overflow-auto border border-gray-300 rounded flex-shrink-0",children:s.jsx("div",{className:"overflow-x-scroll overflow-y-auto h-full",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"border border-gray-300 px-2 py-2 text-xs w-12",children:"#"}),A.map(T=>s.jsx("th",{className:"border border-gray-300 px-3 py-2 text-xs min-w-[96px]",children:F[T]},T)),s.jsx("th",{className:"border border-gray-300 px-2 py-2 text-xs w-12",children:""})]})}),s.jsx("tbody",{children:S.map((T,R)=>s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-300 px-2 py-1 text-xs text-center bg-gray-50",children:R+1}),A.map((I,W)=>s.jsx("td",{className:"border border-gray-300 p-0",children:s.jsx("input",{ref:B=>{E.current[`${R}-${W}`]=B},type:"text",value:T[I],onChange:B=>V(R,I,B.target.value),onKeyDown:B=>G(B,R,W),onPaste:B=>ee(B,R,W),onFocus:()=>C({row:R,col:W}),className:"w-full min-w-[96px] px-2 py-1.5 text-xs border-0 focus:outline-none focus:ring-2 focus:ring-blue-500 text-black"})},I)),s.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:s.jsx("button",{onClick:()=>O(R),className:"text-red-600 hover:text-red-800 text-xs",disabled:S.length===1,children:""})})]},R))})]})})}),s.jsx("div",{className:"mt-3 flex gap-2 flex-shrink-0",children:s.jsx(Un,{onClick:async()=>{if(i&&!u&&(i.headerTitle.trim()==="JEJEVOCA"||i.headerTitle.trim()==="")){y(!0),ce.error("  !",{duration:1e3}),setTimeout(()=>{const T=document.getElementById("headerTitle");T&&(i.headerTitle.trim()==="JEJEVOCA"&&a&&a({...i,headerTitle:""}),T.focus(),T.select())},100),setTimeout(()=>{y(!1)},3e3);return}await L()},disabled:f,size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:f?"AI  ...":"   AI  (  )"})})]})}const V9={DEV:!1},Jd=Yn(),U9={isAuthenticated:!1,currentUser:null,token:null,isInitializing:!0};let ll={...U9};const rg=new Set;let Id=null,Up=null,Ai=!1;const S1=typeof import.meta<"u"?V9:void 0,uC=!!S1?.DEV&&S1?.VITE_DEBUG_AUTH==="true",Ur=(e,t)=>{uC&&console.log(e)},gl=(e,t)=>{if(!uC||!e){e||(Up=null);return}Up!==e&&(Up=e,console.log(`${t} ${e.substring(0,20)}...`))},Oi=e=>{typeof window>"u"||(e?localStorage.setItem("supabase_access_token",e):localStorage.removeItem("supabase_access_token"))},ds=e=>{let t=!1;for(const n of Object.keys(e))if(ll[n]!==e[n]){t=!0;break}t&&(ll={...ll,...e},rg.forEach(n=>n(ll)))},H9=async()=>Id||(Id=(async()=>{try{const{data:{session:e}}=await Jd.auth.getSession();e?.access_token?(Ur(" Found existing session"),Oi(e.access_token),gl(e.access_token," Auth token initialized"),ds({isAuthenticated:!0,currentUser:e.user,token:e.access_token}),Ai=!1):(Ur(" No existing session"),Oi(null),gl(null,""),ds({isAuthenticated:!1,currentUser:null,token:null}))}catch(e){console.error(" Error initializing auth:",e),ds({isAuthenticated:!1,currentUser:null,token:null})}finally{ds({isInitializing:!1})}})(),Id);function pa(){const[e,t]=g.useState(ll);g.useEffect(()=>{const a=d=>t(d);rg.add(a),H9();const{data:{subscription:c}}=Jd.auth.onAuthStateChange(async(d,u)=>{Ur(` Auth state changed: ${d}`),d==="SIGNED_IN"&&u?(Ur(" User signed in via auth listener"),Oi(u.access_token),ds({isAuthenticated:!0,currentUser:u.user,token:u.access_token,isInitializing:!1})):d==="SIGNED_OUT"?(Ur(" User signed out via auth listener"),Oi(null),ds({isAuthenticated:!1,currentUser:null,token:null,isInitializing:!1})):d==="TOKEN_REFRESHED"&&u&&(Ur(" Token refreshed via auth listener"),Oi(u.access_token),ds({token:u.access_token}))});return()=>{rg.delete(a),c.unsubscribe()}},[]);const n=g.useCallback((a,c)=>{Ur(" Login: Setting user and token"),Oi(c),gl(c," Auth token updated"),Ai=!1,ds({isAuthenticated:!0,currentUser:a,token:c,isInitializing:!1})},[]),r=g.useCallback(()=>{Ur(" Logging out..."),Jd.auth.signOut(),Oi(null),gl(null,""),ds({isAuthenticated:!1,currentUser:null,token:null,isInitializing:!1})},[]),i=g.useCallback(()=>{if(e.token)return e.token;if(typeof window>"u")return null;const a=localStorage.getItem("supabase_access_token");return a?e.isAuthenticated?(gl(a," Auth token restored"),Ai=!1,a):(Ai||(Ur(" Token in localStorage but not authenticated"),Ai=!0),null):(Ai||(Ur(" No auth token available"),Ai=!0),null)},[e.token,e.isAuthenticated]);return{isAuthenticated:e.isAuthenticated,currentUser:e.currentUser,isInitializing:e.isInitializing,login:n,logout:r,getAuthToken:i,supabase:Jd}}function G9(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const nh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ma(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function D0(e){return"nodeType"in e}function _n(e){var t,n;return e?ma(e)?e:D0(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function O0(e){const{Document:t}=_n(e);return e instanceof t}function Zl(e){return ma(e)?!1:e instanceof _n(e).HTMLElement}function hC(e){return e instanceof _n(e).SVGElement}function ga(e){return e?ma(e)?e.document:D0(e)?O0(e)?e:Zl(e)||hC(e)?e.ownerDocument:document:document:document}const Rr=nh?g.useLayoutEffect:g.useEffect;function rh(e){const t=g.useRef(e);return Rr(()=>{t.current=e}),g.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function q9(){const e=g.useRef(null),t=g.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=g.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Il(e,t){t===void 0&&(t=[e]);const n=g.useRef(e);return Rr(()=>{n.current!==e&&(n.current=e)},t),n}function ec(e,t){const n=g.useRef();return g.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Cu(e){const t=rh(e),n=g.useRef(null),r=g.useCallback(i=>{i!==n.current&&t?.(i,n.current),n.current=i},[]);return[n,r]}function Eu(e){const t=g.useRef();return g.useEffect(()=>{t.current=e},[e]),t.current}let Hp={};function tc(e,t){return g.useMemo(()=>{if(t)return t;const n=Hp[e]==null?0:Hp[e]+1;return Hp[e]=n,e+"-"+n},[e,t])}function fC(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,c)=>{const d=Object.entries(c);for(const[u,f]of d){const p=a[u];p!=null&&(a[u]=p+e*f)}return a},{...t})}}const qo=fC(1),_u=fC(-1);function K9(e){return"clientX"in e&&"clientY"in e}function sh(e){if(!e)return!1;const{KeyboardEvent:t}=_n(e.target);return t&&e instanceof t}function Y9(e){if(!e)return!1;const{TouchEvent:t}=_n(e.target);return t&&e instanceof t}function Au(e){if(Y9(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return K9(e)?{x:e.clientX,y:e.clientY}:null}const Zs=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Zs.Translate.toString(e),Zs.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),N1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function X9(e){return e.matches(N1)?e:e.querySelector(N1)}const Q9={display:"none"};function J9(e){let{id:t,value:n}=e;return me.createElement("div",{id:t,style:Q9},n)}function Z9(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return me.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function e7(){const[e,t]=g.useState("");return{announce:g.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const pC=g.createContext(null);function t7(e){const t=g.useContext(pC);g.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function n7(){const[e]=g.useState(()=>new Set),t=g.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[g.useCallback(r=>{let{type:i,event:a}=r;e.forEach(c=>{var d;return(d=c[i])==null?void 0:d.call(c,a)})},[e]),t]}const r7={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},s7={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function i7(e){let{announcements:t=s7,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=r7}=e;const{announce:a,announcement:c}=e7(),d=tc("DndLiveRegion"),[u,f]=g.useState(!1);if(g.useEffect(()=>{f(!0)},[]),t7(g.useMemo(()=>({onDragStart(m){let{active:y}=m;a(t.onDragStart({active:y}))},onDragMove(m){let{active:y,over:v}=m;t.onDragMove&&a(t.onDragMove({active:y,over:v}))},onDragOver(m){let{active:y,over:v}=m;a(t.onDragOver({active:y,over:v}))},onDragEnd(m){let{active:y,over:v}=m;a(t.onDragEnd({active:y,over:v}))},onDragCancel(m){let{active:y,over:v}=m;a(t.onDragCancel({active:y,over:v}))}}),[a,t])),!u)return null;const p=me.createElement(me.Fragment,null,me.createElement(J9,{id:r,value:i.draggable}),me.createElement(Z9,{id:d,announcement:c}));return n?_r.createPortal(p,n):p}var tn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(tn||(tn={}));function Tu(){}function o7(e,t){return g.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function a7(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Dr=Object.freeze({x:0,y:0});function l7(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function c7(e,t){const n=Au(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function d7(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function u7(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function h7(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function k1(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const f7=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=k1(t,t.left,t.top),a=[];for(const c of r){const{id:d}=c,u=n.get(d);if(u){const f=l7(k1(u),i);a.push({id:d,data:{droppableContainer:c,value:f}})}}return a.sort(d7)};function p7(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),c=i-r,d=a-n;if(r<i&&n<a){const u=t.width*t.height,f=e.width*e.height,p=c*d,m=p/(u+f-p);return Number(m.toFixed(4))}return 0}const m7=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const a of r){const{id:c}=a,d=n.get(c);if(d){const u=p7(d,t);u>0&&i.push({id:c,data:{droppableContainer:a,value:u}})}}return i.sort(u7)};function g7(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function mC(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Dr}function x7(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((c,d)=>({...c,top:c.top+e*d.y,bottom:c.bottom+e*d.y,left:c.left+e*d.x,right:c.right+e*d.x}),{...n})}}const y7=x7(1);function gC(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function v7(e,t,n){const r=gC(t);if(!r)return e;const{scaleX:i,scaleY:a,x:c,y:d}=r,u=e.left-c-(1-i)*parseFloat(n),f=e.top-d-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),p=i?e.width/i:e.width,m=a?e.height/a:e.height;return{width:p,height:m,top:f,right:u+p,bottom:f+m,left:u}}const b7={ignoreTransform:!1};function xa(e,t){t===void 0&&(t=b7);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:p}=_n(e).getComputedStyle(e);f&&(n=v7(n,f,p))}const{top:r,left:i,width:a,height:c,bottom:d,right:u}=n;return{top:r,left:i,width:a,height:c,bottom:d,right:u}}function C1(e){return xa(e,{ignoreTransform:!0})}function w7(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function j7(e,t){return t===void 0&&(t=_n(e).getComputedStyle(e)),t.position==="fixed"}function S7(e,t){t===void 0&&(t=_n(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?n.test(a):!1})}function I0(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(O0(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Zl(i)||hC(i)||n.includes(i))return n;const a=_n(e).getComputedStyle(i);return i!==e&&S7(i,a)&&n.push(i),j7(i,a)?n:r(i.parentNode)}return e?r(e):n}function xC(e){const[t]=I0(e,1);return t??null}function Gp(e){return!nh||!e?null:ma(e)?e:D0(e)?O0(e)||e===ga(e).scrollingElement?window:Zl(e)?e:null:null}function yC(e){return ma(e)?e.scrollX:e.scrollLeft}function vC(e){return ma(e)?e.scrollY:e.scrollTop}function sg(e){return{x:yC(e),y:vC(e)}}var on;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(on||(on={}));function bC(e){return!nh||!e?!1:e===document.scrollingElement}function wC(e){const t={x:0,y:0},n=bC(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,c=e.scrollTop>=r.y,d=e.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:c,isRight:d,maxScroll:r,minScroll:t}}const N7={x:.2,y:.2};function k7(e,t,n,r,i){let{top:a,left:c,right:d,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=N7);const{isTop:f,isBottom:p,isLeft:m,isRight:y}=wC(e),v={x:0,y:0},b={x:0,y:0},j={height:t.height*i.y,width:t.width*i.x};return!f&&a<=t.top+j.height?(v.y=on.Backward,b.y=r*Math.abs((t.top+j.height-a)/j.height)):!p&&u>=t.bottom-j.height&&(v.y=on.Forward,b.y=r*Math.abs((t.bottom-j.height-u)/j.height)),!y&&d>=t.right-j.width?(v.x=on.Forward,b.x=r*Math.abs((t.right-j.width-d)/j.width)):!m&&c<=t.left+j.width&&(v.x=on.Backward,b.x=r*Math.abs((t.left+j.width-c)/j.width)),{direction:v,speed:b}}function C7(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:c}=window;return{top:0,left:0,right:a,bottom:c,width:a,height:c}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function jC(e){return e.reduce((t,n)=>qo(t,sg(n)),Dr)}function E7(e){return e.reduce((t,n)=>t+yC(n),0)}function _7(e){return e.reduce((t,n)=>t+vC(n),0)}function SC(e,t){if(t===void 0&&(t=xa),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);xC(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const A7=[["x",["left","right"],E7],["y",["top","bottom"],_7]];class F0{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=I0(n),i=jC(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,c,d]of A7)for(const u of c)Object.defineProperty(this,u,{get:()=>{const f=d(r),p=i[a]-f;return this.rect[u]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class xl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function T7(e){const{EventTarget:t}=_n(e);return e instanceof t?e:ga(e)}function qp(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var lr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(lr||(lr={}));function E1(e){e.preventDefault()}function P7(e){e.stopPropagation()}var yt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(yt||(yt={}));const NC={start:[yt.Space,yt.Enter],cancel:[yt.Esc],end:[yt.Space,yt.Enter,yt.Tab]},R7=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case yt.Right:return{...n,x:n.x+25};case yt.Left:return{...n,x:n.x-25};case yt.Down:return{...n,y:n.y+25};case yt.Up:return{...n,y:n.y-25}}};class kC{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new xl(ga(n)),this.windowListeners=new xl(_n(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(lr.Resize,this.handleCancel),this.windowListeners.add(lr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(lr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&SC(r),n(Dr)}handleKeyDown(t){if(sh(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=NC,coordinateGetter:c=R7,scrollBehavior:d="smooth"}=i,{code:u}=t;if(a.end.includes(u)){this.handleEnd(t);return}if(a.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:f}=r.current,p=f?{x:f.left,y:f.top}:Dr;this.referenceCoordinates||(this.referenceCoordinates=p);const m=c(t,{active:n,context:r.current,currentCoordinates:p});if(m){const y=_u(m,p),v={x:0,y:0},{scrollableAncestors:b}=r.current;for(const j of b){const S=t.code,{isTop:N,isRight:_,isLeft:C,isBottom:E,maxScroll:A,minScroll:F}=wC(j),D=C7(j),O={x:Math.min(S===yt.Right?D.right-D.width/2:D.right,Math.max(S===yt.Right?D.left:D.left+D.width/2,m.x)),y:Math.min(S===yt.Down?D.bottom-D.height/2:D.bottom,Math.max(S===yt.Down?D.top:D.top+D.height/2,m.y))},V=S===yt.Right&&!_||S===yt.Left&&!C,G=S===yt.Down&&!E||S===yt.Up&&!N;if(V&&O.x!==m.x){const ee=j.scrollLeft+y.x,se=S===yt.Right&&ee<=A.x||S===yt.Left&&ee>=F.x;if(se&&!y.y){j.scrollTo({left:ee,behavior:d});return}se?v.x=j.scrollLeft-ee:v.x=S===yt.Right?j.scrollLeft-A.x:j.scrollLeft-F.x,v.x&&j.scrollBy({left:-v.x,behavior:d});break}else if(G&&O.y!==m.y){const ee=j.scrollTop+y.y,se=S===yt.Down&&ee<=A.y||S===yt.Up&&ee>=F.y;if(se&&!y.x){j.scrollTo({top:ee,behavior:d});return}se?v.y=j.scrollTop-ee:v.y=S===yt.Down?j.scrollTop-A.y:j.scrollTop-F.y,v.y&&j.scrollBy({top:-v.y,behavior:d});break}}this.handleMove(t,qo(_u(m,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}kC.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=NC,onActivation:i}=t,{active:a}=n;const{code:c}=e.nativeEvent;if(r.start.includes(c)){const d=a.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function _1(e){return!!(e&&"distance"in e)}function A1(e){return!!(e&&"delay"in e)}class M0{constructor(t,n,r){var i;r===void 0&&(r=T7(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:c}=a;this.props=t,this.events=n,this.document=ga(c),this.documentListeners=new xl(this.document),this.listeners=new xl(r),this.windowListeners=new xl(_n(c)),this.initialCoordinates=(i=Au(a))!=null?i:Dr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(lr.Resize,this.handleCancel),this.windowListeners.add(lr.DragStart,E1),this.windowListeners.add(lr.VisibilityChange,this.handleCancel),this.windowListeners.add(lr.ContextMenu,E1),this.documentListeners.add(lr.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(A1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(_1(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(lr.Click,P7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(lr.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:c,options:{activationConstraint:d}}=a;if(!i)return;const u=(n=Au(t))!=null?n:Dr,f=_u(i,u);if(!r&&d){if(_1(d)){if(d.tolerance!=null&&qp(f,d.tolerance))return this.handleCancel();if(qp(f,d.distance))return this.handleStart()}if(A1(d)&&qp(f,d.tolerance))return this.handleCancel();this.handlePending(d,f);return}t.cancelable&&t.preventDefault(),c(u)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===yt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const D7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class $0 extends M0{constructor(t){const{event:n}=t,r=ga(n.target);super(t,D7,r)}}$0.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const O7={move:{name:"mousemove"},end:{name:"mouseup"}};var ig;(function(e){e[e.RightClick=2]="RightClick"})(ig||(ig={}));class I7 extends M0{constructor(t){super(t,O7,ga(t.event.target))}}I7.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===ig.RightClick?!1:(r?.({event:n}),!0)}}];const Kp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class F7 extends M0{constructor(t){super(t,Kp)}static setup(){return window.addEventListener(Kp.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Kp.move.name,t)};function t(){}}}F7.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var yl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(yl||(yl={}));var Pu;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Pu||(Pu={}));function M7(e){let{acceleration:t,activator:n=yl.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:c=5,order:d=Pu.TreeOrder,pointerCoordinates:u,scrollableAncestors:f,scrollableAncestorRects:p,delta:m,threshold:y}=e;const v=L7({delta:m,disabled:!a}),[b,j]=q9(),S=g.useRef({x:0,y:0}),N=g.useRef({x:0,y:0}),_=g.useMemo(()=>{switch(n){case yl.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case yl.DraggableRect:return i}},[n,i,u]),C=g.useRef(null),E=g.useCallback(()=>{const F=C.current;if(!F)return;const D=S.current.x*N.current.x,O=S.current.y*N.current.y;F.scrollBy(D,O)},[]),A=g.useMemo(()=>d===Pu.TreeOrder?[...f].reverse():f,[d,f]);g.useEffect(()=>{if(!a||!f.length||!_){j();return}for(const F of A){if(r?.(F)===!1)continue;const D=f.indexOf(F),O=p[D];if(!O)continue;const{direction:V,speed:G}=k7(F,O,_,t,y);for(const ee of["x","y"])v[ee][V[ee]]||(G[ee]=0,V[ee]=0);if(G.x>0||G.y>0){j(),C.current=F,b(E,c),S.current=G,N.current=V;return}}S.current={x:0,y:0},N.current={x:0,y:0},j()},[t,E,r,j,a,c,JSON.stringify(_),JSON.stringify(v),b,f,A,p,JSON.stringify(y)])}const $7={x:{[on.Backward]:!1,[on.Forward]:!1},y:{[on.Backward]:!1,[on.Forward]:!1}};function L7(e){let{delta:t,disabled:n}=e;const r=Eu(t);return ec(i=>{if(n||!r||!i)return $7;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[on.Backward]:i.x[on.Backward]||a.x===-1,[on.Forward]:i.x[on.Forward]||a.x===1},y:{[on.Backward]:i.y[on.Backward]||a.y===-1,[on.Forward]:i.y[on.Forward]||a.y===1}}},[n,t,r])}function B7(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return ec(i=>{var a;return t==null?null:(a=r??i)!=null?a:null},[r,t])}function z7(e,t){return g.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,r)}));return[...n,...a]},[]),[e,t])}var Fl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Fl||(Fl={}));var og;(function(e){e.Optimized="optimized"})(og||(og={}));const T1=new Map;function W7(e,t){let{dragging:n,dependencies:r,config:i}=t;const[a,c]=g.useState(null),{frequency:d,measure:u,strategy:f}=i,p=g.useRef(e),m=S(),y=Il(m),v=g.useCallback(function(N){N===void 0&&(N=[]),!y.current&&c(_=>_===null?N:_.concat(N.filter(C=>!_.includes(C))))},[y]),b=g.useRef(null),j=ec(N=>{if(m&&!n)return T1;if(!N||N===T1||p.current!==e||a!=null){const _=new Map;for(let C of e){if(!C)continue;if(a&&a.length>0&&!a.includes(C.id)&&C.rect.current){_.set(C.id,C.rect.current);continue}const E=C.node.current,A=E?new F0(u(E),E):null;C.rect.current=A,A&&_.set(C.id,A)}return _}return N},[e,a,n,m,u]);return g.useEffect(()=>{p.current=e},[e]),g.useEffect(()=>{m||v()},[n,m]),g.useEffect(()=>{a&&a.length>0&&c(null)},[JSON.stringify(a)]),g.useEffect(()=>{m||typeof d!="number"||b.current!==null||(b.current=setTimeout(()=>{v(),b.current=null},d))},[d,m,v,...r]),{droppableRects:j,measureDroppableContainers:v,measuringScheduled:a!=null};function S(){switch(f){case Fl.Always:return!1;case Fl.BeforeDragging:return n;default:return!n}}}function L0(e,t){return ec(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function V7(e,t){return L0(e,t)}function U7(e){let{callback:t,disabled:n}=e;const r=rh(t),i=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return g.useEffect(()=>()=>i?.disconnect(),[i]),i}function ih(e){let{callback:t,disabled:n}=e;const r=rh(t),i=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return g.useEffect(()=>()=>i?.disconnect(),[i]),i}function H7(e){return new F0(xa(e),e)}function P1(e,t,n){t===void 0&&(t=H7);const[r,i]=g.useState(null);function a(){i(u=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=u??n)!=null?f:null}const p=t(e);return JSON.stringify(u)===JSON.stringify(p)?u:p})}const c=U7({callback(u){if(e)for(const f of u){const{type:p,target:m}=f;if(p==="childList"&&m instanceof HTMLElement&&m.contains(e)){a();break}}}}),d=ih({callback:a});return Rr(()=>{a(),e?(d?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),c?.disconnect())},[e]),r}function G7(e){const t=L0(e);return mC(e,t)}const R1=[];function q7(e){const t=g.useRef(e),n=ec(r=>e?r&&r!==R1&&e&&t.current&&e.parentNode===t.current.parentNode?r:I0(e):R1,[e]);return g.useEffect(()=>{t.current=e},[e]),n}function K7(e){const[t,n]=g.useState(null),r=g.useRef(e),i=g.useCallback(a=>{const c=Gp(a.target);c&&n(d=>d?(d.set(c,sg(c)),new Map(d)):null)},[]);return g.useEffect(()=>{const a=r.current;if(e!==a){c(a);const d=e.map(u=>{const f=Gp(u);return f?(f.addEventListener("scroll",i,{passive:!0}),[f,sg(f)]):null}).filter(u=>u!=null);n(d.length?new Map(d):null),r.current=e}return()=>{c(e),c(a)};function c(d){d.forEach(u=>{const f=Gp(u);f?.removeEventListener("scroll",i)})}},[i,e]),g.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,c)=>qo(a,c),Dr):jC(e):Dr,[e,t])}function D1(e,t){t===void 0&&(t=[]);const n=g.useRef(null);return g.useEffect(()=>{n.current=null},t),g.useEffect(()=>{const r=e!==Dr;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?_u(e,n.current):Dr}function Y7(e){g.useEffect(()=>{if(!nh)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function X7(e,t){return g.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:a}=r;return n[i]=c=>{a(c,t)},n},{}),[e,t])}function CC(e){return g.useMemo(()=>e?w7(e):null,[e])}const O1=[];function Q7(e,t){t===void 0&&(t=xa);const[n]=e,r=CC(n?_n(n):null),[i,a]=g.useState(O1);function c(){a(()=>e.length?e.map(u=>bC(u)?r:new F0(t(u),u)):O1)}const d=ih({callback:c});return Rr(()=>{d?.disconnect(),c(),e.forEach(u=>d?.observe(u))},[e]),i}function EC(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Zl(t)?t:e}function J7(e){let{measure:t}=e;const[n,r]=g.useState(null),i=g.useCallback(f=>{for(const{target:p}of f)if(Zl(p)){r(m=>{const y=t(p);return m?{...m,width:y.width,height:y.height}:y});break}},[t]),a=ih({callback:i}),c=g.useCallback(f=>{const p=EC(f);a?.disconnect(),p&&a?.observe(p),r(p?t(p):null)},[t,a]),[d,u]=Cu(c);return g.useMemo(()=>({nodeRef:d,rect:n,setRef:u}),[n,d,u])}const Z7=[{sensor:$0,options:{}},{sensor:kC,options:{}}],ez={current:{}},Zd={draggable:{measure:C1},droppable:{measure:C1,strategy:Fl.WhileDragging,frequency:og.Optimized},dragOverlay:{measure:xa}};class vl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const tz={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new vl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Tu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Zd,measureDroppableContainers:Tu,windowRect:null,measuringScheduled:!1},_C={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Tu,draggableNodes:new Map,over:null,measureDroppableContainers:Tu},nc=g.createContext(_C),AC=g.createContext(tz);function nz(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new vl}}}function rz(e,t){switch(t.type){case tn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case tn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case tn.DragEnd:case tn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case tn.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new vl(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case tn.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const c=new vl(e.droppable.containers);return c.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:c}}}case tn.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new vl(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function sz(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=g.useContext(nc),a=Eu(r),c=Eu(n?.id);return g.useEffect(()=>{if(!t&&!r&&a&&c!=null){if(!sh(a)||document.activeElement===a.target)return;const d=i.get(c);if(!d)return;const{activatorNode:u,node:f}=d;if(!u.current&&!f.current)return;requestAnimationFrame(()=>{for(const p of[u.current,f.current]){if(!p)continue;const m=X9(p);if(m){m.focus();break}}})}},[r,t,i,c,a]),null}function TC(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...r}),n):n}function iz(e){return g.useMemo(()=>({draggable:{...Zd.draggable,...e?.draggable},droppable:{...Zd.droppable,...e?.droppable},dragOverlay:{...Zd.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function oz(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const a=g.useRef(!1),{x:c,y:d}=typeof i=="boolean"?{x:i,y:i}:i;Rr(()=>{if(!c&&!d||!t){a.current=!1;return}if(a.current||!r)return;const f=t?.node.current;if(!f||f.isConnected===!1)return;const p=n(f),m=mC(p,r);if(c||(m.x=0),d||(m.y=0),a.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const y=xC(f);y&&y.scrollBy({top:m.y,left:m.x})}},[t,c,d,r,n])}const oh=g.createContext({...Dr,scaleX:1,scaleY:1});var Gs;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Gs||(Gs={}));const az=g.memo(function(t){var n,r,i,a;let{id:c,accessibility:d,autoScroll:u=!0,children:f,sensors:p=Z7,collisionDetection:m=m7,measuring:y,modifiers:v,...b}=t;const j=g.useReducer(rz,void 0,nz),[S,N]=j,[_,C]=n7(),[E,A]=g.useState(Gs.Uninitialized),F=E===Gs.Initialized,{draggable:{active:D,nodes:O,translate:V},droppable:{containers:G}}=S,ee=D!=null?O.get(D):null,se=g.useRef({initial:null,translated:null}),ie=g.useMemo(()=>{var gt;return D!=null?{id:D,data:(gt=ee?.data)!=null?gt:ez,rect:se}:null},[D,ee]),J=g.useRef(null),[$,L]=g.useState(null),[T,R]=g.useState(null),I=Il(b,Object.values(b)),W=tc("DndDescribedBy",c),B=g.useMemo(()=>G.getEnabled(),[G]),K=iz(y),{droppableRects:U,measureDroppableContainers:Z,measuringScheduled:H}=W7(B,{dragging:F,dependencies:[V.x,V.y],config:K.droppable}),ne=B7(O,D),q=g.useMemo(()=>T?Au(T):null,[T]),le=Xt(),fe=V7(ne,K.draggable.measure);oz({activeNode:D!=null?O.get(D):null,config:le.layoutShiftCompensation,initialRect:fe,measure:K.draggable.measure});const ue=P1(ne,K.draggable.measure,fe),Ne=P1(ne?ne.parentElement:null),Te=g.useRef({activatorEvent:null,active:null,activeNode:ne,collisionRect:null,collisions:null,droppableRects:U,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:G,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ze=G.getNodeFor((n=Te.current.over)==null?void 0:n.id),rt=J7({measure:K.dragOverlay.measure}),he=(r=rt.nodeRef.current)!=null?r:ne,Pe=F?(i=rt.rect)!=null?i:ue:null,ae=!!(rt.nodeRef.current&&rt.rect),pe=G7(ae?null:ue),ke=CC(he?_n(he):null),xe=q7(F?Ze??ne:null),Ye=Q7(xe),it=TC(v,{transform:{x:V.x-pe.x,y:V.y-pe.y,scaleX:1,scaleY:1},activatorEvent:T,active:ie,activeNodeRect:ue,containerNodeRect:Ne,draggingNodeRect:Pe,over:Te.current.over,overlayNodeRect:rt.rect,scrollableAncestors:xe,scrollableAncestorRects:Ye,windowRect:ke}),Tt=q?qo(q,V):null,tt=K7(xe),mt=D1(tt),ct=D1(tt,[ue]),Y=qo(it,mt),Ee=Pe?y7(Pe,it):null,we=ie&&Ee?m({active:ie,collisionRect:Ee,droppableRects:U,droppableContainers:B,pointerCoordinates:Tt}):null,We=h7(we,"id"),[nt,ut]=g.useState(null),un=ae?it:qo(it,ct),Gt=g7(un,(a=nt?.rect)!=null?a:null,ue),Xn=g.useRef(null),dt=g.useCallback((gt,wt)=>{let{sensor:Oe,options:de}=wt;if(J.current==null)return;const Ce=O.get(J.current);if(!Ce)return;const De=gt.nativeEvent,st=new Oe({active:J.current,activeNode:Ce,event:De,options:de,context:Te,onAbort(qe){if(!O.get(qe))return;const{onDragAbort:at}=I.current,vt={id:qe};at?.(vt),_({type:"onDragAbort",event:vt})},onPending(qe,ht,at,vt){if(!O.get(qe))return;const{onDragPending:Ae}=I.current,_e={id:qe,constraint:ht,initialCoordinates:at,offset:vt};Ae?.(_e),_({type:"onDragPending",event:_e})},onStart(qe){const ht=J.current;if(ht==null)return;const at=O.get(ht);if(!at)return;const{onDragStart:vt}=I.current,ge={activatorEvent:De,active:{id:ht,data:at.data,rect:se}};_r.unstable_batchedUpdates(()=>{vt?.(ge),A(Gs.Initializing),N({type:tn.DragStart,initialCoordinates:qe,active:ht}),_({type:"onDragStart",event:ge}),L(Xn.current),R(De)})},onMove(qe){N({type:tn.DragMove,coordinates:qe})},onEnd:Xe(tn.DragEnd),onCancel:Xe(tn.DragCancel)});Xn.current=st;function Xe(qe){return async function(){const{active:at,collisions:vt,over:ge,scrollAdjustedTranslate:Ae}=Te.current;let _e=null;if(at&&Ae){const{cancelDrop:Ke}=I.current;_e={activatorEvent:De,active:at,collisions:vt,delta:Ae,over:ge},qe===tn.DragEnd&&typeof Ke=="function"&&await Promise.resolve(Ke(_e))&&(qe=tn.DragCancel)}J.current=null,_r.unstable_batchedUpdates(()=>{N({type:qe}),A(Gs.Uninitialized),ut(null),L(null),R(null),Xn.current=null;const Ke=qe===tn.DragEnd?"onDragEnd":"onDragCancel";if(_e){const Pt=I.current[Ke];Pt?.(_e),_({type:Ke,event:_e})}})}}},[O]),Sn=g.useCallback((gt,wt)=>(Oe,de)=>{const Ce=Oe.nativeEvent,De=O.get(de);if(J.current!==null||!De||Ce.dndKit||Ce.defaultPrevented)return;const st={active:De};gt(Oe,wt.options,st)===!0&&(Ce.dndKit={capturedBy:wt.sensor},J.current=de,dt(Oe,wt))},[O,dt]),$n=z7(p,Sn);Y7(p),Rr(()=>{ue&&E===Gs.Initializing&&A(Gs.Initialized)},[ue,E]),g.useEffect(()=>{const{onDragMove:gt}=I.current,{active:wt,activatorEvent:Oe,collisions:de,over:Ce}=Te.current;if(!wt||!Oe)return;const De={active:wt,activatorEvent:Oe,collisions:de,delta:{x:Y.x,y:Y.y},over:Ce};_r.unstable_batchedUpdates(()=>{gt?.(De),_({type:"onDragMove",event:De})})},[Y.x,Y.y]),g.useEffect(()=>{const{active:gt,activatorEvent:wt,collisions:Oe,droppableContainers:de,scrollAdjustedTranslate:Ce}=Te.current;if(!gt||J.current==null||!wt||!Ce)return;const{onDragOver:De}=I.current,st=de.get(We),Xe=st&&st.rect.current?{id:st.id,rect:st.rect.current,data:st.data,disabled:st.disabled}:null,qe={active:gt,activatorEvent:wt,collisions:Oe,delta:{x:Ce.x,y:Ce.y},over:Xe};_r.unstable_batchedUpdates(()=>{ut(Xe),De?.(qe),_({type:"onDragOver",event:qe})})},[We]),Rr(()=>{Te.current={activatorEvent:T,active:ie,activeNode:ne,collisionRect:Ee,collisions:we,droppableRects:U,draggableNodes:O,draggingNode:he,draggingNodeRect:Pe,droppableContainers:G,over:nt,scrollableAncestors:xe,scrollAdjustedTranslate:Y},se.current={initial:Pe,translated:Ee}},[ie,ne,we,Ee,O,he,Pe,U,G,nt,xe,Y]),M7({...le,delta:V,draggingRect:Ee,pointerCoordinates:Tt,scrollableAncestors:xe,scrollableAncestorRects:Ye});const kt=g.useMemo(()=>({active:ie,activeNode:ne,activeNodeRect:ue,activatorEvent:T,collisions:we,containerNodeRect:Ne,dragOverlay:rt,draggableNodes:O,droppableContainers:G,droppableRects:U,over:nt,measureDroppableContainers:Z,scrollableAncestors:xe,scrollableAncestorRects:Ye,measuringConfiguration:K,measuringScheduled:H,windowRect:ke}),[ie,ne,ue,T,we,Ne,rt,O,G,U,nt,Z,xe,Ye,K,H,ke]),mr=g.useMemo(()=>({activatorEvent:T,activators:$n,active:ie,activeNodeRect:ue,ariaDescribedById:{draggable:W},dispatch:N,draggableNodes:O,over:nt,measureDroppableContainers:Z}),[T,$n,ie,ue,N,W,O,nt,Z]);return me.createElement(pC.Provider,{value:C},me.createElement(nc.Provider,{value:mr},me.createElement(AC.Provider,{value:kt},me.createElement(oh.Provider,{value:Gt},f)),me.createElement(sz,{disabled:d?.restoreFocus===!1})),me.createElement(i7,{...d,hiddenTextDescribedById:W}));function Xt(){const gt=$?.autoScrollEnabled===!1,wt=typeof u=="object"?u.enabled===!1:u===!1,Oe=F&&!gt&&!wt;return typeof u=="object"?{...u,enabled:Oe}:{enabled:Oe}}}),lz=g.createContext(null),I1="button",cz="Draggable";function dz(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const a=tc(cz),{activators:c,activatorEvent:d,active:u,activeNodeRect:f,ariaDescribedById:p,draggableNodes:m,over:y}=g.useContext(nc),{role:v=I1,roleDescription:b="draggable",tabIndex:j=0}=i??{},S=u?.id===t,N=g.useContext(S?oh:lz),[_,C]=Cu(),[E,A]=Cu(),F=X7(c,t),D=Il(n);Rr(()=>(m.set(t,{id:t,key:a,node:_,activatorNode:E,data:D}),()=>{const V=m.get(t);V&&V.key===a&&m.delete(t)}),[m,t]);const O=g.useMemo(()=>({role:v,tabIndex:j,"aria-disabled":r,"aria-pressed":S&&v===I1?!0:void 0,"aria-roledescription":b,"aria-describedby":p.draggable}),[r,v,j,S,b,p.draggable]);return{active:u,activatorEvent:d,activeNodeRect:f,attributes:O,isDragging:S,listeners:r?void 0:F,node:_,over:y,setNodeRef:C,setActivatorNodeRef:A,transform:N}}function PC(){return g.useContext(AC)}const uz="Droppable",hz={timeout:25};function RC(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const a=tc(uz),{active:c,dispatch:d,over:u,measureDroppableContainers:f}=g.useContext(nc),p=g.useRef({disabled:n}),m=g.useRef(!1),y=g.useRef(null),v=g.useRef(null),{disabled:b,updateMeasurementsFor:j,timeout:S}={...hz,...i},N=Il(j??r),_=g.useCallback(()=>{if(!m.current){m.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{f(Array.isArray(N.current)?N.current:[N.current]),v.current=null},S)},[S]),C=ih({callback:_,disabled:b||!c}),E=g.useCallback((O,V)=>{C&&(V&&(C.unobserve(V),m.current=!1),O&&C.observe(O))},[C]),[A,F]=Cu(E),D=Il(t);return g.useEffect(()=>{!C||!A.current||(C.disconnect(),m.current=!1,C.observe(A.current))},[A,C]),g.useEffect(()=>(d({type:tn.RegisterDroppable,element:{id:r,key:a,disabled:n,node:A,rect:y,data:D}}),()=>d({type:tn.UnregisterDroppable,key:a,id:r})),[r]),g.useEffect(()=>{n!==p.current.disabled&&(d({type:tn.SetDroppableDisabled,id:r,key:a,disabled:n}),p.current.disabled=n)},[r,a,n,d]),{active:c,rect:y,isOver:u?.id===r,node:A,over:u,setNodeRef:F}}function fz(e){let{animation:t,children:n}=e;const[r,i]=g.useState(null),[a,c]=g.useState(null),d=Eu(n);return!n&&!r&&d&&i(d),Rr(()=>{if(!a)return;const u=r?.key,f=r?.props.id;if(u==null||f==null){i(null);return}Promise.resolve(t(f,a)).then(()=>{i(null)})},[t,r,a]),me.createElement(me.Fragment,null,n,r?g.cloneElement(r,{ref:c}):null)}const pz={x:0,y:0,scaleX:1,scaleY:1};function mz(e){let{children:t}=e;return me.createElement(nc.Provider,{value:_C},me.createElement(oh.Provider,{value:pz},t))}const gz={position:"fixed",touchAction:"none"},xz=e=>sh(e)?"transform 250ms ease":void 0,yz=g.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:a,className:c,rect:d,style:u,transform:f,transition:p=xz}=e;if(!d)return null;const m=i?f:{...f,scaleX:1,scaleY:1},y={...gz,width:d.width,height:d.height,top:d.top,left:d.left,transform:Zs.Transform.toString(m),transformOrigin:i&&r?c7(r,d):void 0,transition:typeof p=="function"?p(r):p,...u};return me.createElement(n,{className:c,style:y,ref:t},a)}),vz=e=>t=>{let{active:n,dragOverlay:r}=t;const i={},{styles:a,className:c}=e;if(a!=null&&a.active)for(const[d,u]of Object.entries(a.active))u!==void 0&&(i[d]=n.node.style.getPropertyValue(d),n.node.style.setProperty(d,u));if(a!=null&&a.dragOverlay)for(const[d,u]of Object.entries(a.dragOverlay))u!==void 0&&r.node.style.setProperty(d,u);return c!=null&&c.active&&n.node.classList.add(c.active),c!=null&&c.dragOverlay&&r.node.classList.add(c.dragOverlay),function(){for(const[u,f]of Object.entries(i))n.node.style.setProperty(u,f);c!=null&&c.active&&n.node.classList.remove(c.active)}},bz=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Zs.Transform.toString(t)},{transform:Zs.Transform.toString(n)}]},wz={duration:250,easing:"ease",keyframes:bz,sideEffects:vz({styles:{active:{opacity:"0"}}})};function jz(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return rh((a,c)=>{if(t===null)return;const d=n.get(a);if(!d)return;const u=d.node.current;if(!u)return;const f=EC(c);if(!f)return;const{transform:p}=_n(c).getComputedStyle(c),m=gC(p);if(!m)return;const y=typeof t=="function"?t:Sz(t);return SC(u,i.draggable.measure),y({active:{id:a,data:d.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:c,rect:i.dragOverlay.measure(f)},droppableContainers:r,measuringConfiguration:i,transform:m})})}function Sz(e){const{duration:t,easing:n,sideEffects:r,keyframes:i}={...wz,...e};return a=>{let{active:c,dragOverlay:d,transform:u,...f}=a;if(!t)return;const p={x:d.rect.left-c.rect.left,y:d.rect.top-c.rect.top},m={scaleX:u.scaleX!==1?c.rect.width*u.scaleX/d.rect.width:1,scaleY:u.scaleY!==1?c.rect.height*u.scaleY/d.rect.height:1},y={x:u.x-p.x,y:u.y-p.y,...m},v=i({...f,active:c,dragOverlay:d,transform:{initial:u,final:y}}),[b]=v,j=v[v.length-1];if(JSON.stringify(b)===JSON.stringify(j))return;const S=r?.({active:c,dragOverlay:d,...f}),N=d.node.animate(v,{duration:t,easing:n,fill:"forwards"});return new Promise(_=>{N.onfinish=()=>{S?.(),_()}})}}let F1=0;function Nz(e){return g.useMemo(()=>{if(e!=null)return F1++,F1},[e])}const kz=me.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:a,modifiers:c,wrapperElement:d="div",className:u,zIndex:f=999}=e;const{activatorEvent:p,active:m,activeNodeRect:y,containerNodeRect:v,draggableNodes:b,droppableContainers:j,dragOverlay:S,over:N,measuringConfiguration:_,scrollableAncestors:C,scrollableAncestorRects:E,windowRect:A}=PC(),F=g.useContext(oh),D=Nz(m?.id),O=TC(c,{activatorEvent:p,active:m,activeNodeRect:y,containerNodeRect:v,draggingNodeRect:S.rect,over:N,overlayNodeRect:S.rect,scrollableAncestors:C,scrollableAncestorRects:E,transform:F,windowRect:A}),V=L0(y),G=jz({config:r,draggableNodes:b,droppableContainers:j,measuringConfiguration:_}),ee=V?S.setRef:void 0;return me.createElement(mz,null,me.createElement(fz,{animation:G},m&&D?me.createElement(yz,{key:D,id:m.id,ref:ee,as:d,activatorEvent:p,adjustScale:t,className:u,transition:a,rect:V,style:{zIndex:f,...i},transform:O},n):null))});function DC(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Cz(e,t){return e.reduce((n,r,i)=>{const a=t.get(r);return a&&(n[i]=a),n},Array(e.length))}function Fd(e){return e!==null&&e>=0}function Ez(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function _z(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const OC=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=DC(t,r,n),c=t[i],d=a[i];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},Md={scaleX:1,scaleY:1},Az=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:c}=e;const d=(t=a[n])!=null?t:r;if(!d)return null;if(i===n){const f=a[c];return f?{x:0,y:n<c?f.top+f.height-(d.top+d.height):f.top-d.top,...Md}:null}const u=Tz(a,i,n);return i>n&&i<=c?{x:0,y:-d.height-u,...Md}:i<n&&i>=c?{x:0,y:d.height+u,...Md}:{x:0,y:0,...Md}};function Tz(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const IC="Sortable",FC=me.createContext({activeIndex:-1,containerId:IC,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:OC,disabled:{draggable:!1,droppable:!1}});function Pz(e){let{children:t,id:n,items:r,strategy:i=OC,disabled:a=!1}=e;const{active:c,dragOverlay:d,droppableRects:u,over:f,measureDroppableContainers:p}=PC(),m=tc(IC,n),y=d.rect!==null,v=g.useMemo(()=>r.map(F=>typeof F=="object"&&"id"in F?F.id:F),[r]),b=c!=null,j=c?v.indexOf(c.id):-1,S=f?v.indexOf(f.id):-1,N=g.useRef(v),_=!Ez(v,N.current),C=S!==-1&&j===-1||_,E=_z(a);Rr(()=>{_&&b&&p(v)},[_,v,b,p]),g.useEffect(()=>{N.current=v},[v]);const A=g.useMemo(()=>({activeIndex:j,containerId:m,disabled:E,disableTransforms:C,items:v,overIndex:S,useDragOverlay:y,sortedRects:Cz(v,u),strategy:i}),[j,m,E.draggable,E.droppable,C,v,S,u,y,i]);return me.createElement(FC.Provider,{value:A},t)}const Rz=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return DC(n,r,i).indexOf(t)},Dz=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:c,previousItems:d,previousContainerId:u,transition:f}=e;return!f||!r||d!==a&&i===c?!1:n?!0:c!==i&&t===u},Oz={duration:200,easing:"ease"},MC="transform",Iz=Zs.Transition.toString({property:MC,duration:0,easing:"linear"}),Fz={roleDescription:"sortable"};function Mz(e){let{disabled:t,index:n,node:r,rect:i}=e;const[a,c]=g.useState(null),d=g.useRef(n);return Rr(()=>{if(!t&&n!==d.current&&r.current){const u=i.current;if(u){const f=xa(r.current,{ignoreTransform:!0}),p={x:u.left-f.left,y:u.top-f.top,scaleX:u.width/f.width,scaleY:u.height/f.height};(p.x||p.y)&&c(p)}}n!==d.current&&(d.current=n)},[t,n,r,i]),g.useEffect(()=>{a&&c(null)},[a]),a}function $z(e){let{animateLayoutChanges:t=Dz,attributes:n,disabled:r,data:i,getNewIndex:a=Rz,id:c,strategy:d,resizeObserverConfig:u,transition:f=Oz}=e;const{items:p,containerId:m,activeIndex:y,disabled:v,disableTransforms:b,sortedRects:j,overIndex:S,useDragOverlay:N,strategy:_}=g.useContext(FC),C=Lz(r,v),E=p.indexOf(c),A=g.useMemo(()=>({sortable:{containerId:m,index:E,items:p},...i}),[m,i,E,p]),F=g.useMemo(()=>p.slice(p.indexOf(c)),[p,c]),{rect:D,node:O,isOver:V,setNodeRef:G}=RC({id:c,data:A,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:F,...u}}),{active:ee,activatorEvent:se,activeNodeRect:ie,attributes:J,setNodeRef:$,listeners:L,isDragging:T,over:R,setActivatorNodeRef:I,transform:W}=dz({id:c,data:A,attributes:{...Fz,...n},disabled:C.draggable}),B=G9(G,$),K=!!ee,U=K&&!b&&Fd(y)&&Fd(S),Z=!N&&T,H=Z&&U?W:null,q=U?H??(d??_)({rects:j,activeNodeRect:ie,activeIndex:y,overIndex:S,index:E}):null,le=Fd(y)&&Fd(S)?a({id:c,items:p,activeIndex:y,overIndex:S}):E,fe=ee?.id,ue=g.useRef({activeId:fe,items:p,newIndex:le,containerId:m}),Ne=p!==ue.current.items,Te=t({active:ee,containerId:m,isDragging:T,isSorting:K,id:c,index:E,items:p,newIndex:ue.current.newIndex,previousItems:ue.current.items,previousContainerId:ue.current.containerId,transition:f,wasDragging:ue.current.activeId!=null}),Ze=Mz({disabled:!Te,index:E,node:O,rect:D});return g.useEffect(()=>{K&&ue.current.newIndex!==le&&(ue.current.newIndex=le),m!==ue.current.containerId&&(ue.current.containerId=m),p!==ue.current.items&&(ue.current.items=p)},[K,le,m,p]),g.useEffect(()=>{if(fe===ue.current.activeId)return;if(fe!=null&&ue.current.activeId==null){ue.current.activeId=fe;return}const he=setTimeout(()=>{ue.current.activeId=fe},50);return()=>clearTimeout(he)},[fe]),{active:ee,activeIndex:y,attributes:J,data:A,rect:D,index:E,newIndex:le,items:p,isOver:V,isSorting:K,isDragging:T,listeners:L,node:O,overIndex:S,over:R,setNodeRef:B,setActivatorNodeRef:I,setDroppableNodeRef:G,setDraggableNodeRef:$,transform:Ze??q,transition:rt()};function rt(){if(Ze||Ne&&ue.current.newIndex===E)return Iz;if(!(Z&&!sh(se)||!f)&&(K||Te))return Zs.Transition.toString({...f,property:MC})}}function Lz(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}yt.Down,yt.Right,yt.Up,yt.Left;const Ao=`https://${Ge}.supabase.co/functions/v1/server/admin`,as={async getCategories(e){return(await(await fetch(`${Ao}/categories`,{headers:{Authorization:`Bearer ${e}`}})).json()).categories||[]},async getVocabularies(e,t){const r=await(await fetch(`${Ao}/shared-vocabularies`,{headers:{Authorization:`Bearer ${e}`}})).json();return r.vocabularies?t?r.vocabularies.filter(i=>i.category===t):r.vocabularies:[]},async updateVocabulary(e,t,n){if(!(await fetch(`${Ao}/shared-vocabularies/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(n)})).ok)throw new Error("Failed to update vocabulary")},async deleteVocabulary(e,t){const n=await fetch(`${Ao}/shared-vocabularies/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(!n.ok){const r=await n.json().catch(()=>({})),i=r.error||`Failed to delete vocabulary (${n.status})`;throw console.error("Delete vocabulary error:",r),new Error(i)}},async mergeVocabularies(e,t,n,r){const i=await fetch(`${Ao}/shared-vocabularies/merge`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({targetVocabId:t,sourceVocabIds:n,newTitle:r})});if(!i.ok){const a=await i.json().catch(()=>({})),c=a.error||`Failed to merge vocabularies (${i.status})`;throw console.error("Merge error details:",a),new Error(c)}},async deleteCategory(e,t){if(!(await fetch(`${Ao}/categories/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).ok)throw new Error("Failed to delete category")}};function Bz({vocabulary:e,isSelected:t,onToggleSelect:n,onEdit:r,onDelete:i}){const{attributes:a,listeners:c,setNodeRef:d,transform:u,transition:f,isDragging:p}=$z({id:e.id}),m={transform:Zs.Transform.toString(u),transition:f,opacity:p?.5:1};return s.jsx("div",{ref:d,style:m,className:`bg-white rounded-lg p-4 shadow-sm border-2 transition-all ${t?"border-[#8B5CF6] bg-purple-50":"border-gray-200 hover:border-gray-300"} ${p?"cursor-grabbing":"cursor-grab"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:t,onChange:()=>n(e.id),className:"w-5 h-5 rounded border-gray-300 text-[#8B5CF6] focus:ring-[#8B5CF6] cursor-pointer",onClick:y=>y.stopPropagation()}),s.jsx("div",{...a,...c,className:"flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded cursor-grab active:cursor-grabbing",children:s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-[#491B6D]",children:e.title}),s.jsxs("div",{className:"text-sm text-gray-500",children:[e.total_words||e.words?.length||0," ",e.description&&`  ${e.description}`]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(M.button,{whileTap:{scale:.95},onClick:y=>{y.stopPropagation(),r(e)},className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",children:s.jsx(e0,{className:"w-4 h-4 text-blue-600"})}),s.jsx(M.button,{whileTap:{scale:.95},onClick:y=>{y.stopPropagation(),i(e.id)},className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Wi,{className:"w-4 h-4 text-red-500"})})]})]})})}function zz({selectedVocabularies:e,onMerge:t,onClose:n}){const[r,i]=g.useState(e[0]?.id||""),[a,c]=g.useState(""),d=()=>{if(!r){alert("   .");return}t(r,a||e.find(f=>f.id===r)?.title||" ")},u=e.reduce((f,p)=>f+(p.total_words||p.words?.length||0),0);return s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/50",children:s.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-4 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#491B6D] to-[#5E2278] p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(iS,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-xl font-bold",children:" "})]}),s.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(yn,{className:"w-5 h-5"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:["  (",e.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:e.map(f=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("input",{type:"radio",name:"target",value:f.id,checked:r===f.id,onChange:p=>i(p.target.value),className:"w-4 h-4 text-[#8B5CF6] focus:ring-[#8B5CF6]"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900",children:f.title}),s.jsxs("div",{className:"text-xs text-gray-500",children:[f.total_words||f.words?.length||0," "]})]})]},f.id))}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"*        "})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"   ()"}),s.jsx("input",{type:"text",value:a,onChange:f=>c(f.target.value),placeholder:e.find(f=>f.id===r)?.title||" ",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B5CF6]/30"})]}),s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-purple-900 mb-2",children:"  "}),s.jsxs("div",{className:"text-sm text-purple-700 space-y-1",children:[s.jsxs("p",{children:["  : ",u,""]}),s.jsxs("p",{children:[" : ",e.length-1,"    ,  ."]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(M.button,{whileTap:{scale:.98},onClick:d,className:"flex-1 bg-gradient-to-r from-[#491B6D] to-[#5E2278] text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-shadow",children:""}),s.jsx(M.button,{whileTap:{scale:.98},onClick:n,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition-colors",children:""})]})]})]})})}function Wz({category:e,isExpanded:t,isSelected:n,onToggle:r,onToggleSelect:i,onEdit:a}){const{setNodeRef:c,isOver:d}=RC({id:`category-${e.id}`,data:{type:"category",category:e.name}});return s.jsx("div",{ref:c,className:`p-6 flex items-center justify-between transition-all ${d?"bg-purple-100 border-l-4 border-[#8B5CF6]":"hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{onClick:u=>{u.stopPropagation(),i()},className:"cursor-pointer",children:n?s.jsx(du,{className:"w-5 h-5 text-[#8B5CF6]"}):s.jsx(_l,{className:"w-5 h-5 text-gray-400"})}),s.jsxs("div",{className:"flex items-center gap-4 flex-1 cursor-pointer",onClick:r,children:[s.jsx("div",{className:"text-3xl",children:e.icon}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:600,color:"#491B6D"},children:e.name}),s.jsx("div",{className:"text-sm text-gray-500",children:d?"  ":`ID: ${e.id}`})]})]}),a&&s.jsx(e0,{className:"w-5 h-5 text-blue-500 cursor-pointer hover:text-blue-700 mr-2",onClick:u=>{u.stopPropagation(),a()}}),s.jsx(pr,{className:`w-5 h-5 text-gray-400 transition-transform cursor-pointer ${t?"rotate-180":""}`,onClick:r})]})})}function Vz({getAuthToken:e,onUpdate:t}){const[n,r]=g.useState([]),[i,a]=g.useState([]),[c,d]=g.useState(!0),[u,f]=g.useState(null),[p,m]=g.useState(new Set),[y,v]=g.useState(new Set),[b,j]=g.useState(!1),[S,N]=g.useState(null),[_,C]=g.useState(null),[E,A]=g.useState(""),[F,D]=g.useState(""),[O,V]=g.useState({name:"",icon:""}),[G,ee]=g.useState(null),[se,ie]=g.useState(""),[J,$]=g.useState(""),L=a7(o7($0,{activationConstraint:{distance:8}}));g.useEffect(()=>{T()},[]);const T=async()=>{try{const he=e();if(!he)return;d(!0);const Pe=await as.getCategories(he);r(Pe)}catch(he){console.error("Error loading categories:",he),ce.error("  ")}finally{d(!1)}},R=async he=>{const Pe=e();if(Pe)try{const ae=await as.getVocabularies(Pe,he);a(ae)}catch(ae){console.error("Error loading vocabularies:",ae),ce.error("  ")}},I=async(he,Pe)=>{u===he?(f(null),a([]),m(new Set)):(f(he),await R(Pe))},W=he=>{v(Pe=>{const ae=new Set(Pe);return ae.has(he)?ae.delete(he):ae.add(he),ae})},B=he=>{C(he.id),A(he.name),D(he.icon)},K=async()=>{if(!_)return;const he=e();if(he)try{await as.updateCategory(he,_,{name:E,icon:F}),ce.success(" !"),C(null),await T(),t?.()}catch(Pe){console.error("Error updating category:",Pe),ce.error("  ")}},U=async()=>{if(y.size===0||!confirm(`  ${y.size}  ?`))return;const he=e();if(he)try{const Pe=Array.from(y).map(ae=>as.deleteCategory(he,ae));await Promise.all(Pe),ce.success(`${y.size}  .`),v(new Set),await T(),t?.()}catch(Pe){console.error("Error deleting categories:",Pe),ce.error("  ")}},Z=he=>{m(Pe=>{const ae=new Set(Pe);return ae.has(he)?ae.delete(he):ae.add(he),ae})},H=()=>{p.size===i.length?m(new Set):m(new Set(i.map(he=>he.id)))},ne=async(he,Pe)=>{const ae=e();if(!ae)return;const pe=Array.from(p).filter(ke=>ke!==he);try{await as.mergeVocabularies(ae,he,pe,Pe),ce.success(" !"),j(!1),m(new Set);const ke=n.find(xe=>xe.id===u);ke&&await R(ke.name),t?.()}catch(ke){console.error("Error merging vocabularies:",ke),ce.error(" ")}},q=async he=>{if(!confirm("   ?"))return;const Pe=e();if(Pe)try{await as.deleteVocabulary(Pe,he),ce.success(" .");const ae=n.find(pe=>pe.id===u);ae&&await R(ae.name),t?.()}catch(ae){console.error("Error deleting vocabulary:",ae),ce.error(" ")}},le=he=>{ee(he),ie(he.title),$(he.description||"")},fe=async()=>{if(!G)return;const he=e();if(he)try{await as.updateVocabulary(he,G.id,{title:se,description:J}),ce.success(" !"),ee(null);const Pe=n.find(ae=>ae.id===u);Pe&&await R(Pe.name),t?.()}catch(Pe){console.error("Error updating vocabulary:",Pe),ce.error(" ")}},ue=he=>{N(he.active.id)},Ne=async he=>{const{active:Pe,over:ae}=he;if(N(null),!ae)return;const pe=i.find(xe=>xe.id===Pe.id);if(!pe)return;const ke=String(ae.id);if(ke.startsWith("category-")){const xe=ke.replace("category-",""),Ye=n.find(it=>it.id===xe);Ye&&pe.category!==Ye.name&&await Te(pe.id,Ye.name)}},Te=async(he,Pe)=>{const ae=e();if(ae)try{await as.updateVocabulary(ae,he,{category:Pe}),ce.success(` "${Pe}"  !`);const pe=n.find(ke=>ke.id===u);pe&&await R(pe.name),t?.()}catch(pe){console.error("Error moving vocabulary:",pe),ce.error(" ")}},Ze=i.filter(he=>p.has(he.id)),rt=S?i.find(he=>he.id===S):null;return s.jsxs(az,{sensors:L,collisionDetection:f7,onDragStart:ue,onDragEnd:Ne,children:[s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-2xl mb-2",style:{fontWeight:700,color:"#491B6D"},children:"  "}),s.jsx("p",{className:"text-gray-600",children:"         "})]}),y.size>0&&s.jsxs(M.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 bg-red-50 border border-red-200 rounded-2xl p-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("span",{className:"text-red-900 font-semibold",children:[y.size,"  "]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(M.button,{whileTap:{scale:.95},onClick:U,className:"px-4 py-2 bg-red-600 text-white rounded-lg flex items-center gap-2 font-semibold hover:shadow-lg transition-shadow",children:[s.jsx(Wi,{className:"w-4 h-4"})," "]}),s.jsx(M.button,{whileTap:{scale:.95},onClick:()=>v(new Set),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold",children:" "})]})]}),p.size>0&&s.jsxs(M.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 bg-purple-50 border border-purple-200 rounded-2xl p-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("span",{className:"text-purple-900 font-semibold",children:[p.size," "]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(M.button,{whileTap:{scale:.95},onClick:async()=>{if(!confirm(`  ${p.size}  ?`))return;const he=e();if(he)try{const Pe=Array.from(p).map(pe=>as.deleteVocabulary(he,pe));await Promise.all(Pe),ce.success(`${p.size}  .`),m(new Set);const ae=n.find(pe=>pe.id===u);ae&&await R(ae.name),t?.()}catch(Pe){console.error("Error deleting vocabularies:",Pe),ce.error("  ")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg flex items-center gap-2 font-semibold hover:shadow-lg transition-shadow",children:[s.jsx(Wi,{className:"w-4 h-4"})," "]}),p.size>=2&&s.jsxs(M.button,{whileTap:{scale:.95},onClick:()=>j(!0),className:"px-4 py-2 bg-[#491B6D] text-white rounded-lg flex items-center gap-2 font-semibold hover:shadow-lg transition-shadow",children:[s.jsx(iS,{className:"w-4 h-4"}),""]}),s.jsx(M.button,{whileTap:{scale:.95},onClick:()=>m(new Set),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold",children:" "})]})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:c?s.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):s.jsx("div",{className:"divide-y divide-gray-200",children:n.map(he=>s.jsxs("div",{children:[s.jsx(Wz,{category:he,isExpanded:u===he.id,isSelected:y.has(he.id),onToggle:()=>I(he.id,he.name),onToggleSelect:()=>W(he.id),onEdit:()=>B(he)}),u===he.id&&s.jsx("div",{className:"bg-gray-50 border-t border-gray-200 p-4",children:i.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"   ."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsxs("button",{onClick:H,className:"flex items-center gap-2 text-sm text-gray-700 hover:text-[#491B6D] font-semibold",children:[p.size===i.length?s.jsx(du,{className:"w-5 h-5 text-[#8B5CF6]"}):s.jsx(_l,{className:"w-5 h-5"}),"  / "]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[" ",i.length," "]})]}),s.jsx(Pz,{items:i.map(Pe=>Pe.id),strategy:Az,children:s.jsx("div",{className:"space-y-3",children:i.map(Pe=>s.jsx(Bz,{vocabulary:Pe,isSelected:p.has(Pe.id),onToggleSelect:Z,onEdit:le,onDelete:q},Pe.id))})})]})})]},he.id))})}),s.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-2xl p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:" "}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"    "}),s.jsx("li",{children:"        "}),s.jsx("li",{children:"       "}),s.jsx("li",{children:"      "}),s.jsx("li",{children:"    "})]})]})]})}),s.jsx(kz,{children:rt&&s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-2xl border-2 border-[#8B5CF6] opacity-80",children:s.jsx("div",{className:"font-semibold text-[#491B6D]",children:rt.title})})}),b&&s.jsx(zz,{selectedVocabularies:Ze,onMerge:ne,onClose:()=>j(!1)}),G&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md mx-4",children:[s.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-4",children:" "}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",value:se,onChange:he=>ie(he.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#8B5CF6] focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("textarea",{value:J,onChange:he=>$(he.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#8B5CF6] focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex gap-2 mt-6",children:[s.jsx("button",{onClick:()=>ee(null),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:""}),s.jsx("button",{onClick:fe,className:"flex-1 px-4 py-2 bg-[#8B5CF6] text-white rounded-lg hover:bg-[#7C3AED]",children:""})]})]})}),_&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md mx-4",children:[s.jsx("h3",{className:"text-lg font-bold text-[#491B6D] mb-4",children:" "}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",value:E,onChange:he=>A(he.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#8B5CF6] focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",value:F,onChange:he=>D(he.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#8B5CF6] focus:border-transparent",placeholder:""})]})]}),s.jsxs("div",{className:"flex gap-2 mt-6",children:[s.jsx("button",{onClick:()=>C(null),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:""}),s.jsx("button",{onClick:K,className:"flex-1 px-4 py-2 bg-[#8B5CF6] text-white rounded-lg hover:bg-[#7C3AED]",children:""})]})]})})]})}function Uz({getAuthToken:e}){const[t,n]=g.useState([]),[r,i]=g.useState([]),[a,c]=g.useState(!0),[d,u]=g.useState("all"),[f,p]=g.useState(null),[m,y]=g.useState(""),[v,b]=g.useState(new Set),[j,S]=g.useState("none"),[N,_]=g.useState(new Set);g.useEffect(()=>{C(),E()},[]);const C=async()=>{try{const $=e();if(!$)return;const T=await(await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/categories`,{headers:{Authorization:`Bearer ${$}`}})).json();i(T.categories||[])}catch($){console.error("Error loading categories:",$)}},E=async()=>{const $=e();if($)try{c(!0);const T=await(await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/shared-vocabularies`,{headers:{Authorization:`Bearer ${$}`}})).json();T.vocabularies&&n(T.vocabularies)}catch(L){console.error("Error loading vocabularies:",L)}finally{c(!1)}},A=async $=>{if(!confirm("   ?"))return;const L=e();if(L)try{await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/shared-vocabularies/${$}`,{method:"DELETE",headers:{Authorization:`Bearer ${L}`}}),ce.success(" ."),await E()}catch(T){console.error("Error deleting vocabulary:",T),ce.error(" .")}},F=async($,L)=>{if(!confirm(`"${L}"    AI ?

     , AI  .`))return;const T=e();if(!T){ce.error(" .");return}const R=ce.loading("  AI  ...");try{const I=await fetch(`https://${Ge}.supabase.co/functions/v1/admin-tools/regenerate-examples`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({vocabularyId:$})}),W=await I.json();if(!I.ok)throw new Error(W.error||"AI  ");ce.success(`AI  !
: ${W.processedCount}, : ${W.errorCount}`,{id:R,duration:5e3}),_(B=>new Set(B).add($)),await E()}catch(I){console.error("Error regenerating examples:",I),ce.error(`AI  : ${I.message}`,{id:R})}},D=($,L)=>{p($),y(L)},O=()=>{p(null),y("")},V=async $=>{const L=e();if(L)try{if(!(await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/shared-vocabularies/${$}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({category:m})})).ok)throw new Error("  ");ce.success(" ."),p(null),y(""),await E()}catch(T){console.error("Error updating category:",T),ce.error("  ")}},G=$=>{b(L=>{const T=new Set(L);return T.has($)?T.delete($):T.add($),T})},ee=()=>{v.size===ie.length?b(new Set):b(new Set(ie.map($=>$.id)))},se=async()=>{if(v.size===0){ce.error("  .");return}if(!confirm(` ${v.size}  ?`))return;const $=e();if(!$)return;const L=ce.loading("  ...");try{const T=Array.from(v).map(R=>fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/shared-vocabularies/${R}`,{method:"DELETE",headers:{Authorization:`Bearer ${$}`}}));await Promise.all(T),ce.success(`${v.size}  .`,{id:L}),b(new Set),await E()}catch(T){console.error("Error deleting vocabularies:",T),ce.error("   .",{id:L})}},ie=d==="all"?t:t.filter($=>$.category===d),J=[...ie].sort(($,L)=>{if(j==="none")return 0;const T=$.title.localeCompare(L.title,"ko-KR");return j==="asc"?T:-T});return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl mb-2",style:{fontWeight:700,color:"#491B6D"},children:"Vocabulary Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage all shared vocabulary lists"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[v.size>0&&s.jsxs(M.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},whileTap:{scale:.95},onClick:se,className:"flex items-center gap-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",style:{fontWeight:600},children:[s.jsx(Wi,{className:"w-4 h-4"}),"  (",v.size,")"]}),s.jsx("label",{className:"text-sm text-gray-600",style:{fontWeight:600},children:":"}),s.jsxs("select",{value:j,onChange:$=>S($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"none",children:" "}),s.jsx("option",{value:"asc",children:" ()"}),s.jsx("option",{value:"desc",children:"  ()"})]}),s.jsx("label",{className:"text-sm text-gray-600",style:{fontWeight:600},children:":"}),s.jsxs("select",{value:d,onChange:$=>u($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"all",children:" "}),r.map($=>s.jsxs("option",{value:$.name,children:[$.icon," ",$.name]},$.id))]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:a?s.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):J.length===0?s.jsx("div",{className:"p-12 text-center text-gray-500",children:d==="all"?' . "Create Vocabulary"    .':"   ."}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:s.jsxs("button",{onClick:ee,className:"flex items-center gap-2 hover:text-purple-600 transition-colors",children:[v.size===J.length&&J.length>0?s.jsx(du,{className:"w-5 h-5"}):s.jsx(_l,{className:"w-5 h-5"}),s.jsx("span",{children:"Select All"})]})}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Title"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Category"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Level"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Words"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Downloads"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:J.map($=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("button",{onClick:()=>G($.id),className:"flex items-center justify-center hover:text-purple-600 transition-colors",children:v.has($.id)?s.jsx(du,{className:"w-5 h-5 text-purple-600"}):s.jsx(_l,{className:"w-5 h-5"})})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900",style:{fontWeight:600},children:$.title})}),s.jsx("td",{className:"px-6 py-4",children:f===$.id?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("select",{value:m,onChange:L=>y(L.target.value),className:"px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-purple-500",children:r.map(L=>s.jsxs("option",{value:L.name,children:[L.icon," ",L.name]},L.id))}),s.jsx("button",{onClick:()=>V($.id),className:"p-1 hover:bg-green-50 rounded transition-colors",children:s.jsx(Gl,{className:"w-4 h-4 text-green-600"})}),s.jsx("button",{onClick:O,className:"p-1 hover:bg-red-50 rounded transition-colors",children:s.jsx(yn,{className:"w-4 h-4 text-red-600"})})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-3 py-1 rounded-full text-xs bg-[#8B5CF6]/10 text-[#8B5CF6]",style:{fontWeight:600},children:$.category}),s.jsx("button",{onClick:()=>D($.id,$.category),className:"p-1 opacity-0 group-hover:opacity-100 hover:bg-gray-100 rounded transition-all",children:s.jsx(e0,{className:"w-3 h-3 text-gray-500"})})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:$.level})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:$.total_words?.toLocaleString()||0})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:$.downloads?.toLocaleString()||0})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsxs(M.button,{whileTap:{scale:.95},onClick:()=>F($.id,$.title),className:`p-2 rounded-lg transition-colors relative ${N.has($.id)?"bg-green-50 hover:bg-green-100":"hover:bg-purple-50"}`,title:N.has($.id)?"AI   ( )":"AI  ( + )",children:[s.jsx(w6,{className:`w-4 h-4 ${N.has($.id)?"text-green-600":"text-purple-500"}`}),N.has($.id)&&s.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]}),s.jsx(M.button,{whileTap:{scale:.95},onClick:()=>A($.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Wi,{className:"w-4 h-4 text-red-500"})})]})})]},$.id))})]})})]})}function Hz({onClose:e}){const{getAuthToken:t}=pa(),[n,r]=g.useState("overview");return s.jsx("div",{className:"fixed inset-0 z-[100] bg-gray-50",children:s.jsxs("div",{className:"h-full flex",children:[s.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg",style:{fontWeight:700,color:"#491B6D"},children:"Admin Panel"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JEJEVOCA Dashboard"})]}),s.jsx(M.button,{whileTap:{scale:.95},onClick:e,className:"w-8 h-8 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",children:s.jsx(yn,{className:"w-4 h-4 text-gray-600"})})]})}),s.jsxs("nav",{className:"flex-1 p-4 space-y-1",children:[s.jsx(ki,{icon:s.jsx(VR,{className:"w-5 h-5"}),label:"Overview",active:n==="overview",onClick:()=>r("overview")}),s.jsx(ki,{icon:s.jsx(us,{className:"w-5 h-5"}),label:"Vocabularies",active:n==="vocabularies",onClick:()=>r("vocabularies")}),s.jsx(ki,{icon:s.jsx(Qb,{className:"w-5 h-5"}),label:"Create Vocabulary",active:n==="upload",onClick:()=>r("upload")}),s.jsx(ki,{icon:s.jsx(Qb,{className:"w-5 h-5"}),label:"Bulk Upload",active:n==="bulk-upload",onClick:()=>r("bulk-upload")}),s.jsx(ki,{icon:s.jsx(t0,{className:"w-5 h-5"}),label:"User Management",active:n==="users",onClick:()=>r("users")}),s.jsx(ki,{icon:s.jsx(fS,{className:"w-5 h-5"}),label:"Categories",active:n==="categories",onClick:()=>r("categories")}),s.jsx(ki,{icon:s.jsx(Hl,{className:"w-5 h-5"}),label:" ",active:!1,onClick:()=>{window.location.href="/admin/admission"}})]}),s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsx("div",{className:"text-xs text-gray-500 text-center",children:" JEJETRANSFER 2025"})})]}),s.jsxs("div",{className:"flex-1 overflow-auto",children:[n==="overview"&&s.jsx(Gz,{}),n==="vocabularies"&&s.jsx(Uz,{getAuthToken:t}),n==="upload"&&s.jsx(Kz,{}),n==="bulk-upload"&&s.jsx(qz,{}),n==="users"&&s.jsx(Yz,{}),n==="categories"&&s.jsx(Vz,{getAuthToken:t})]})]})})}function ki({icon:e,label:t,active:n,onClick:r}){return s.jsxs(M.button,{whileTap:{scale:.98},onClick:r,className:`w-full px-4 py-3 rounded-lg flex items-center gap-3 transition-colors ${n?"bg-[#491B6D] text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e,s.jsx("span",{style:{fontSize:"14px",fontWeight:600},children:t})]})}function Gz(){const{getAuthToken:e}=pa(),[t,n]=g.useState({totalVocabularies:0,totalDownloads:0,activeUsers:0,avgRating:"0.0"});g.useEffect(()=>{r()},[]);const r=async()=>{try{const i=e();if(!i)return;const c=await(await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/stats`,{headers:{Authorization:`Bearer ${i}`}})).json();c.stats&&n(c.stats)}catch(i){console.error("Error loading stats:",i)}};return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-2xl mb-2",style:{fontWeight:700,color:"#491B6D"},children:"Dashboard Overview"}),s.jsx("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening today."})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[s.jsx($d,{icon:s.jsx(us,{className:"w-6 h-6"}),label:"Total Vocabularies",value:t.totalVocabularies.toString(),change:"+12%",positive:!0,color:"#8B5CF6"}),s.jsx($d,{icon:s.jsx(SR,{className:"w-6 h-6"}),label:"Total Downloads",value:t.totalDownloads.toString(),change:"+0.3%",positive:!0,color:"#7C3AED"}),s.jsx($d,{icon:s.jsx(t0,{className:"w-6 h-6"}),label:"Active Users",value:t.activeUsers.toString(),change:"+6.08%",positive:!0,color:"#6D28D9"}),s.jsx($d,{icon:s.jsx(ys,{className:"w-6 h-6"}),label:"Avg Rating",value:t.avgRating,change:"+0.2",positive:!0,color:"#5B21B6"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"col-span-2 bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:"#491B6D"},children:"Downloads Trend"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Last 6 months"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8B5CF6]"}),s.jsx("span",{className:"text-xs text-gray-600",children:"This year"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300"}),s.jsx("span",{className:"text-xs text-gray-600",children:"Last year"})]})]})]}),s.jsx("div",{className:"h-64 flex items-end justify-between gap-3",children:[30,45,60,80,55,70].map((i,a)=>s.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[s.jsx("div",{className:"w-full rounded-t-lg bg-gradient-to-t from-[#8B5CF6] to-[#A78BFA] transition-all",style:{height:`${i}%`}}),s.jsx("div",{className:"w-full rounded-t-lg bg-gray-200",style:{height:`${i*.7}%`}})]},a))})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"mb-6",style:{fontSize:"16px",fontWeight:600,color:"#491B6D"},children:"Top Categories"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(rl,{label:"TOEIC",percentage:52.1,color:"#8B5CF6"}),s.jsx(rl,{label:"SAT",percentage:22.8,color:"#A78BFA"}),s.jsx(rl,{label:"GRE",percentage:13.9,color:"#C4B5FD"}),s.jsx(rl,{label:"School",percentage:8.2,color:"#DDD6FE"}),s.jsx(rl,{label:"General",percentage:3,color:"#EDE9FE"})]})]})]})]})}function qz(){const{getAuthToken:e}=pa(),[t,n]=g.useState(""),[r,i]=g.useState(""),[a,c]=g.useState(""),[d,u]=g.useState([]),[f,p]=g.useState("200"),[m,y]=g.useState([]),[v,b]=g.useState(!1);g.useEffect(()=>{(async()=>{try{const N=e();if(!N){ce.error(" .");return}const C=await(await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/categories`,{headers:{Authorization:`Bearer ${N}`}})).json();if(C.categories){const E=C.categories.filter(A=>A.enabled);u(E),E.length>0&&i(E[0].name)}}catch(N){console.error("Error loading categories:",N)}})()},[e]);const j=async()=>{if(!t.trim()){ce.error("Title .");return}if(!r){ce.error("Category .");return}const S=m.filter(D=>D.word&&D.word.trim()!=="");if(S.length===0){ce.error("  .");return}if(!f.trim()||parseInt(f)<=0){ce.error("  .");return}const N=e();if(!N){ce.error(" .");return}const _=parseInt(f),C=Math.ceil(S.length/_),E=30,A=4;b(!0);let F=0;try{for(let D=0;D<C;D++){const O=D*_,V=Math.min((D+1)*_,S.length),G=S.slice(O,V),ee=`${t} (${D+1}/${C})`;ce.loading(`${ee} AI  ... (${D+1}/${C})`,{id:`bulk-processing-${D}`});const se=[];for(let L=0;L<G.length;L+=E)se.push(G.slice(L,L+E));const ie=async(L,T)=>{console.log(` AI  ${T+1} : ${L.length} `);const R=await fetch(`https://${Ge}.supabase.co/functions/v1/server/generate-vocabulary-batch`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({words:L.map(W=>({word:W.word?.trim()||"",meaning:W.meaning?.trim()||"",synonyms:Array.isArray(W.synonyms)?W.synonyms.join(", "):W.synonyms||"",antonyms:Array.isArray(W.antonyms)?W.antonyms.join(", "):W.antonyms||"",example:W.example?.trim()||"",translation:W.translation?.trim()||""}))})});if(!R.ok){const W=await R.json();throw new Error(`AI  : ${W.error||"   "}`)}const I=await R.json();if(!I.success||!I.results)throw new Error("AI  :  ");return console.log(` AI  ${T+1} :  ${L.length}   ${I.results.length}`),I.results.length!==L.length&&console.warn(` AI   ! : ${L.length}, : ${I.results.length}`),I.results},J=[];console.log(` Part ${D+1}:  ${G.length}  ${se.length} AI  `);for(let L=0;L<se.length;L+=A){const T=se.slice(L,L+A),R=await Promise.all(T.map((W,B)=>ie(W,L+B)));J.push(...R.flat());const I=Math.min(L+A,se.length);ce.loading(`${ee} AI  ... ( ${I}/${se.length})`,{id:`bulk-processing-${D}`}),L+A<se.length&&await new Promise(W=>setTimeout(W,1e3))}console.log(` Part ${D+1} :  ${G.length}  AI  ${J.length}`),J.length!==G.length&&console.error(` Part ${D+1}   ! : ${G.length}, AI : ${J.length}`),ce.loading(`${ee}  ... (${D+1}/${C})`,{id:`bulk-processing-${D}`});const $=await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/shared-vocabularies`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({title:ee,category:r,description:a?`${a} (${O+1}-${V} )`:`${O+1}-${V} `,words:J})});if(!$.ok){const L=await $.json();throw new Error(`${ee}  : ${L.error||"   "}`)}ce.dismiss(`bulk-processing-${D}`),ce.success(`${ee} !`,{duration:2e3}),F++,D<C-1&&await new Promise(L=>setTimeout(L,500))}ce.success(`${F}  ! ( ${S.length} )`),n(""),c(""),y([]),p("200")}catch(D){console.error("Failed to bulk upload:",D),ce.error(D?.message||"    .")}finally{b(!1)}};return s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-[#491B6D] mb-2",children:"  "}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"   AI    50   (2  )."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Title *"}),s.jsx("input",{type:"text",value:t,onChange:S=>n(S.target.value),placeholder:":   ",className:"w-full px-3 py-2 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Category *"}),r==="__new__"?s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",placeholder:" (: )",value:d.find(S=>S.name==="__temp__")?.icon||"",onChange:S=>{const N=S.target.value.slice(0,2);u(_=>_.find(E=>E.name==="__temp__")?_.map(E=>E.name==="__temp__"?{...E,icon:N}:E):[..._,{id:"__temp__",name:"__temp__",icon:N,enabled:!0}])},className:"w-20 px-3 py-2 border rounded-lg text-center",maxLength:2}),s.jsx("input",{type:"text",placeholder:"  (: )",value:d.find(S=>S.name==="__temp__")?.tempName||"",onChange:S=>{const N=S.target.value;u(_=>_.find(E=>E.name==="__temp__")?_.map(E=>E.name==="__temp__"?{...E,tempName:N}:E):[..._,{id:"__temp__",name:"__temp__",icon:"",tempName:N,enabled:!0}])},className:"flex-1 px-3 py-2 border rounded-lg"}),s.jsx("button",{onClick:async()=>{const S=d.find(_=>_.name==="__temp__");if(!S?.tempName||!S?.icon){ce.error("    .");return}const N=e();if(!N){ce.error(" .");return}try{const _=await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/categories`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({name:S.tempName,icon:S.icon})}),C=await _.json();if(!_.ok)throw console.error(" Category creation error response:",C),new Error(C.error||"  ");console.log(" Category created:",C.category),ce.success("  !");const E={id:C.category.id,name:C.category.name,icon:C.category.icon,enabled:C.category.enabled,sort_order:C.category.order};u(A=>{const F=A.filter(O=>O.name!=="__temp__");return F.find(O=>O.name===E.name)?F:[...F,E]}),i(C.category.name),console.log(" Category added to list and selected:",C.category.name)}catch(_){console.error("Error creating category:",_),ce.error("  .")}},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:""}),s.jsx("button",{onClick:()=>{u(S=>S.filter(N=>N.name!=="__temp__")),i(d.length>0?d[0].name:"")},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""})]})}):s.jsxs("select",{value:r,onChange:S=>i(S.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"",children:" "}),d.filter(S=>S.name!=="__temp__").map(S=>s.jsxs("option",{value:S.name,children:[S.icon," ",S.name]},S.id)),s.jsx("option",{value:"__new__",children:"   ..."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Description"}),s.jsx("input",{type:"text",value:a,onChange:S=>c(S.target.value),placeholder:"  ()",className:"w-full px-3 py-2 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"  *"}),s.jsx("input",{type:"number",value:f,onChange:S=>p(S.target.value),placeholder:"50",className:"w-full px-3 py-2 border rounded-lg",min:"1"})]})]}),s.jsx(dC,{data:m,onChange:y,onSave:()=>{},hideHeaderFields:!0,fullscreen:!0}),m.length>0&&f.trim()&&parseInt(f)>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["  ",m.length,"   ",Math.ceil(m.length/parseInt(f)),"  "]}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx("button",{onClick:j,disabled:v,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-[#491B6D] to-[#5E2278] text-white font-semibold shadow-lg disabled:opacity-50",children:v?" ...":" AI    "})})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"  "}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:"      "}),s.jsx("li",{children:' "   AI "    '}),s.jsx("li",{children:" AI , , ,    "}),s.jsx("li",{children:" 50()      (2  )"}),s.jsx("li",{children:' : 1000   " (1/20)", " (2/20)" ...  20 '})]})]})]})}function Kz(){const{getAuthToken:e}=pa(),[t,n]=g.useState(""),[r,i]=g.useState(""),[a,c]=g.useState(""),[d,u]=g.useState([]),[f,p]=g.useState([]),[m,y]=g.useState({headerTitle:"",headerDescription:""}),[v,b]=g.useState(null),[j,S]=g.useState(!1),[N,_]=g.useState("");g.useEffect(()=>{(async()=>{try{const A=e();if(console.log(" Token:",A?"exists":"null"),!A){ce.error(" .  .");return}const D=await(await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/categories`,{headers:{Authorization:`Bearer ${A}`}})).json();if(console.log(" Categories response:",D),D.categories){const O=D.categories.filter(V=>V.enabled);console.log(" Enabled categories:",O),u(O),O.length>0&&i(O[0].name)}}catch(A){console.error("Error loading categories:",A)}})()},[e]);const C=async()=>{if(!t.trim()){ce.error("Title .");return}if(!r){ce.error("Category .");return}if(f.length===0){ce.error("   .");return}const E=e();if(!E){ce.error(" .  .");return}S(!0);try{const A=N.trim()!==""?parseInt(N):0;if(A>0&&f.length>A){const F=Math.ceil(f.length/A);let D=0;for(let O=0;O<F;O++){const V=O*A,G=Math.min((O+1)*A,f.length),ee=f.slice(V,G),se=`${t} (${O+1}/${F})`;ce.loading(`${se}  ...`,{id:"saving-parts"});const ie=await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/shared-vocabularies`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({title:se,category:r,description:a?`${a} (${V+1}-${G} )`:`${V+1}-${G} `,words:ee})});if(!ie.ok){const J=await ie.json();throw new Error(`${se}  : ${J.error||"   "}`)}D++,await new Promise(J=>setTimeout(J,500))}ce.dismiss("saving-parts"),ce.success(`${D}  ! ( ${f.length} )`)}else{const F=await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/shared-vocabularies`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({title:t,category:r,description:a,words:f})});if(!F.ok){const D=await F.json();throw new Error(D.error||"  .")}ce.success("  !")}n(""),c(""),p([]),y({headerTitle:"",headerDescription:""}),_("")}catch(A){console.error("Failed to save shared vocabulary:",A),ce.error(A?.message||"    .")}finally{S(!1)}};return s.jsxs("div",{className:"p-8 space-y-6 overflow-auto",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-[#491B6D]",children:"  "}),s.jsx("p",{className:"text-sm text-gray-500",children:"    ."})]}),s.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Title *"}),s.jsx("input",{type:"text",value:t,onChange:E=>{n(E.target.value),y(A=>({...A,headerTitle:E.target.value}))},placeholder:": JEJE   100",className:"w-full px-3 py-2 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Category *"}),r==="__new__"?s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",placeholder:" (: )",value:d.find(E=>E.name==="__temp__")?.icon||"",onChange:E=>{const A=E.target.value.slice(0,2);u(F=>F.find(O=>O.name==="__temp__")?F.map(O=>O.name==="__temp__"?{...O,icon:A}:O):[...F,{id:"__temp__",name:"__temp__",icon:A,enabled:!0}])},className:"w-20 px-3 py-2 border rounded-lg text-center",maxLength:2}),s.jsx("input",{type:"text",placeholder:"  (: )",value:d.find(E=>E.name==="__temp__")?.tempName||"",onChange:E=>{const A=E.target.value;u(F=>F.find(O=>O.name==="__temp__")?F.map(O=>O.name==="__temp__"?{...O,tempName:A}:O):[...F,{id:"__temp__",name:"__temp__",icon:"",tempName:A,enabled:!0}])},className:"flex-1 px-3 py-2 border rounded-lg"}),s.jsx("button",{onClick:async()=>{const E=d.find(F=>F.name==="__temp__");if(!E?.tempName||!E?.icon){ce.error("    .");return}const A=e();if(!A){ce.error(" .");return}try{const F=await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/categories`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({name:E.tempName,icon:E.icon})}),D=await F.json();if(!F.ok)throw console.error(" Category creation error response:",D),new Error(D.error||"  ");console.log(" Category created:",D.category),ce.success("  !");const O={id:D.category.id,name:D.category.name,icon:D.category.icon,enabled:D.category.enabled,sort_order:D.category.order};u(V=>{const G=V.filter(se=>se.name!=="__temp__");return G.find(se=>se.name===O.name)?G:[...G,O]}),i(D.category.name),console.log(" Category added to list and selected:",D.category.name)}catch(F){console.error("Error creating category:",F),ce.error("  .")}},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:""}),s.jsx("button",{onClick:()=>{u(E=>E.filter(A=>A.name!=="__temp__")),i(d.length>0?d[0].name:"")},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""})]})}):s.jsxs("select",{value:r,onChange:E=>i(E.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"",children:" "}),d.filter(E=>E.name!=="__temp__").map(E=>s.jsxs("option",{value:E.name,children:[E.icon," ",E.name]},E.id)),s.jsx("option",{value:"__new__",children:"   ..."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Description"}),s.jsx("textarea",{value:a,onChange:E=>c(E.target.value),placeholder:"  ",className:"w-full px-3 py-2 border rounded-lg h-24"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"  ()"}),s.jsx("input",{type:"number",value:N,onChange:E=>_(E.target.value),placeholder:": 200 (   )",className:"w-full px-3 py-2 border rounded-lg",min:"1"}),N.trim()!==""&&f.length>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["  ",f.length,"   ",Math.ceil(f.length/parseInt(N||"1")),"  "]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-[#491B6D]",children:"  & AI "}),s.jsx("p",{className:"text-sm text-gray-500",children:"CSV ,  , AI    ."})]})}),s.jsx(dC,{fullscreen:!0,data:f,headerInfo:m,onHeaderChange:y,onChange:p,getAuthToken:e,hideHeaderFields:!0,onSave:(E,A)=>{p(E),A&&b(A),ce.success(`${E.length}  .`)}})]}),v&&s.jsxs("div",{className:"bg-[#F4EEFF] border border-[#E0D4FF] rounded-2xl p-4 text-sm text-gray-600",children:["  AI      ",v.inputTokens.toLocaleString()," /  ",v.outputTokens.toLocaleString()]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:C,disabled:j,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-[#491B6D] to-[#5E2278] text-white font-semibold shadow-lg disabled:opacity-50",children:j?" ...":"  "})})]})}function Yz(){const{getAuthToken:e}=pa(),[t,n]=g.useState([]),[r,i]=g.useState(!0);g.useEffect(()=>{a()},[]);const a=async()=>{try{const d=e();if(!d)return;i(!0);const f=await(await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/users`,{headers:{Authorization:`Bearer ${d}`}})).json();f.users&&n(f.users)}catch(d){console.error("Error loading users:",d)}finally{i(!1)}},c=async(d,u,f)=>{const p=e();if(p)try{await fetch(`https://${Ge}.supabase.co/functions/v1/server/admin/users/${d}/permissions`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({role:u,permissions:f})}),await a()}catch(m){console.error("Error updating permissions:",m),alert("  ")}};return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-2xl mb-2",style:{fontWeight:700,color:"#491B6D"},children:"User Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage users and their permissions"})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:r?s.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"User"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Role"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Stats"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Last Active"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs text-gray-600 uppercase tracking-wider",style:{fontWeight:600},children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(d=>s.jsx(Xz,{user:d,onUpdatePermissions:c},d.id))})]})})]})}function $d({icon:e,label:t,value:n,change:r,positive:i,color:a}){return s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:`${a}20`,color:a},children:e}),s.jsx("span",{className:`text-sm ${i?"text-green-600":"text-red-600"}`,style:{fontWeight:600},children:r})]}),s.jsx("div",{className:"text-2xl mb-1",style:{fontWeight:700,color:"#491B6D"},children:n}),s.jsx("div",{className:"text-sm text-gray-600",children:t})]})}function rl({label:e,percentage:t,color:n}){return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-700",style:{fontWeight:600},children:e}),s.jsxs("span",{className:"text-sm text-gray-600",children:[t,"%"]})]}),s.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${t}%`,backgroundColor:n}})})]})}function Xz({user:e,onUpdatePermissions:t}){const[n,r]=g.useState(!1),[i,a]=g.useState(e.role),c=e.stats||{},d=e.lastActive||e.lastSignInAt||e.createdAt,u=d?new Date(d):null,f=u&&!Number.isNaN(u.getTime())?u.toLocaleDateString():"Never",p=()=>{t(e.id,i,e.permissions),r(!1)};return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm",style:{fontWeight:600,color:"#491B6D"},children:e.name}),s.jsx("div",{className:"text-xs text-gray-500",children:e.email})]})}),s.jsx("td",{className:"px-6 py-4",children:n?s.jsxs("select",{value:i,onChange:m=>a(m.target.value),className:"px-3 py-1 rounded-lg border border-gray-300 text-sm",children:[s.jsx("option",{value:"user",children:"User"}),s.jsx("option",{value:"admin",children:"Admin"})]}):s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${e.role==="admin"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,style:{fontWeight:600},children:e.role})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsxs("div",{children:[": ",c.vocabulariesCreated??0]}),s.jsxs("div",{children:[": ",c.quizzesCompleted??0]}),s.jsxs("div",{children:["XP: ",c.xp??0]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:f})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"flex items-center justify-end gap-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx(M.button,{whileTap:{scale:.95},onClick:p,className:"p-2 hover:bg-green-50 rounded-lg transition-colors",children:s.jsx(Mn,{className:"w-4 h-4 text-green-600"})}),s.jsx(M.button,{whileTap:{scale:.95},onClick:()=>{r(!1),a(e.role)},className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(nS,{className:"w-4 h-4 text-red-500"})})]}):s.jsx(M.button,{whileTap:{scale:.95},onClick:()=>r(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(P6,{className:"w-4 h-4 text-gray-600"})})})})]})}function Qz({onBack:e,onHomeClick:t}){const[n,r]=g.useState(new Date),[i,a]=g.useState(null);g.useEffect(()=>{window.scrollTo(0,0)},[]);const c=[{id:1,name:"",department:"",deadline:"2025.09.15",color:"#491B6D"},{id:2,name:"",department:"",deadline:"2025.09.20",color:"#5B21B6"},{id:3,name:"",department:"",deadline:"2025.09.25",color:"#7C3AED"}],[d,u]=g.useState(!1),[f,p]=g.useState(!1),[m,y]=g.useState(!1),[v,b]=g.useState(!1),[j,S]=g.useState(null),N=new Date,_=["","","","","","",""],C=n.getFullYear(),E=n.getMonth(),A=new Date(C,E,1).getDay(),F=new Date(C,E+1,0).getDate(),D=["1","2","3","4","5","6","7","8","9","10","11","12"],O=Array.from({length:A},(T,R)=>R),V=Array.from({length:F},(T,R)=>R+1),G=[{date:15,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:17,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:18,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:18,month:8,year:2025,title:"",subtitle:"",color:"#F59E0B"},{date:19,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:19,month:8,year:2025,title:"",subtitle:"",color:"#F59E0B"},{date:20,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:20,month:8,year:2025,title:"",subtitle:"",color:"#F59E0B"},{date:21,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:22,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:22,month:8,year:2025,title:"",subtitle:"",color:"#8B5CF6"},{date:23,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:23,month:8,year:2025,title:"",subtitle:"",color:"#8B5CF6"},{date:24,month:8,year:2025,title:"",subtitle:"",color:"#8B5CF6"},{date:25,month:8,year:2025,title:"",subtitle:"1",color:"#6366F1"},{date:25,month:8,year:2025,title:"",subtitle:"",color:"#8B5CF6"},{date:26,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:27,month:8,year:2025,title:"",subtitle:"1",color:"#6366F1"},{date:27,month:8,year:2025,title:"",subtitle:"",color:"#10B981"},{date:28,month:8,year:2025,title:"",subtitle:"1",color:"#6366F1"}],ee=T=>G.filter(R=>R.date===T&&R.month===E&&R.year===C),se=T=>{a({date:T,month:E,year:C})},ie=()=>{r(new Date(C,E-1,1)),a(null)},J=()=>{r(new Date(C,E+1,1)),a(null)},$=()=>i?G.filter(T=>T.date===i.date&&T.month===i.month&&T.year===i.year):[],L=()=>{if(!j)return null;const T=new Date;T.setHours(0,0,0,0);const R=new Date(j.date);return R.setHours(0,0,0,0),Math.ceil((R.getTime()-T.getTime())/(1e3*60*60*24))};return s.jsxs("div",{className:"min-h-screen pb-24",style:{background:"transparent"},children:[s.jsx("div",{className:"relative p-6",style:{background:"transparent"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(M.button,{whileTap:{scale:.95},onClick:e,className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"white",boxShadow:"0 4px 12px rgba(73, 27, 109, 0.15)"},children:s.jsx(Kb,{className:"w-5 h-5",style:{color:"#491B6D"}})}),s.jsx("h1",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"20px",color:"#491B6D"},children:"  Calendar"}),t&&s.jsx(M.button,{whileTap:{scale:.95},onClick:t,className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"white",boxShadow:"0 4px 12px rgba(73, 27, 109, 0.15)"},children:s.jsx(Ki,{className:"w-5 h-5",style:{color:"#491B6D"}})})]})}),s.jsxs("div",{className:"px-6 space-y-6",children:[s.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-6 backdrop-blur-lg rounded-3xl border",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)",borderColor:"rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px -8px rgba(73, 27, 109, 0.2)"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:[C," ",D[E]]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(M.button,{whileTap:{scale:.95},onClick:ie,className:"w-9 h-9 flex items-center justify-center rounded-xl",style:{background:"rgba(73, 27, 109, 0.1)"},children:s.jsx(Kb,{className:"w-5 h-5",style:{color:"#491B6D"}})}),s.jsx(M.button,{whileTap:{scale:.95},onClick:J,className:"w-9 h-9 flex items-center justify-center rounded-xl",style:{background:"rgba(73, 27, 109, 0.1)"},children:s.jsx(Xo,{className:"w-5 h-5",style:{color:"#491B6D"}})})]})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-3",children:_.map((T,R)=>s.jsx("div",{className:"text-center py-2",style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"11px",color:R===0?"#EF4444":R===6?"#3B82F6":"#6B7280"},children:T},R))}),s.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[O.map((T,R)=>s.jsx("div",{className:"aspect-square"},`empty-${R}`)),V.map(T=>{const R=ee(T),I=T===N.getDate()&&E===N.getMonth()&&C===N.getFullYear(),W=i?.date===T&&i?.month===E&&i?.year===C;return s.jsxs(M.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:T*.005,type:"spring",stiffness:400},whileTap:{scale:.9},onClick:()=>se(T),className:"aspect-square rounded-lg flex flex-col items-center justify-center relative p-1",style:{background:I?"linear-gradient(135deg, #A78BFA 0%, #8B5CF6 100%)":W?"rgba(73, 27, 109, 0.15)":R.length>0?"rgba(73, 27, 109, 0.05)":"transparent",border:W?"2px solid #491B6D":"none"},children:[s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:I?700:500,fontSize:"13px",color:I?"#FFFFFF":"#491B6D"},children:T}),R.length>0&&s.jsx("div",{className:"flex gap-0.5 mt-0.5 flex-wrap justify-center",children:R.slice(0,2).map((B,K)=>s.jsx("div",{className:"w-1 h-1 rounded-full",style:{background:B.color}},K))})]},T)})]})]}),s.jsx(pt,{children:i&&$().length>0&&s.jsxs(M.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"p-6 backdrop-blur-lg rounded-3xl border overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)",borderColor:"rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px -8px rgba(73, 27, 109, 0.2)"},children:[s.jsxs("div",{className:"mb-4 pb-3 border-b flex items-center justify-between",style:{borderColor:"rgba(73, 27, 109, 0.1)"},children:[s.jsxs("div",{children:[s.jsxs("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:[C," ",D[E]," ",i.date,""]}),s.jsxs("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#8B5CF6"},children:[$().length," "]})]}),s.jsx(M.button,{whileTap:{scale:.95},onClick:()=>a(null),className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"rgba(73, 27, 109, 0.1)"},children:s.jsx(yn,{className:"w-4 h-4",style:{color:"#491B6D"}})})]}),s.jsx("div",{className:"space-y-3",children:$().map((T,R)=>s.jsxs(M.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:R*.05},className:"p-4 rounded-2xl border flex items-start gap-3",style:{background:"rgba(255, 255, 255, 0.8)",borderColor:T.color,borderWidth:"2px"},children:[s.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${T.color}15`},children:s.jsx(Qo,{className:"w-5 h-5",style:{color:T.color}})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:T.title}),s.jsx("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:T.subtitle})]})]},R))})]})}),s.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"p-6 backdrop-blur-lg rounded-3xl border",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)",borderColor:"rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px -8px rgba(73, 27, 109, 0.2)"},children:[s.jsx("h3",{className:"mb-4",style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:"   "}),s.jsx("div",{className:"space-y-3 mb-4",children:c.map((T,R)=>s.jsx(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+R*.1},className:"p-4 rounded-2xl border",style:{background:"rgba(255, 255, 255, 0.6)",borderColor:"rgba(73, 27, 109, 0.1)"},children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:T.color}}),s.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:T.name})]}),s.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:400,fontSize:"13px",color:"#6B7280"},children:T.department}),s.jsxs("p",{className:"mt-2",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"12px",color:"#F59E0B"},children:[": ",T.deadline]})]}),s.jsx(M.button,{whileTap:{scale:.95},onClick:()=>{setUniversities(c.filter(I=>I.id!==T.id))},className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"rgba(239, 68, 68, 0.1)"},children:s.jsx(yn,{className:"w-4 h-4",style:{color:"#EF4444"}})})]})},T.id))}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs(M.button,{whileTap:{scale:.95},onClick:()=>u(!0),className:"py-3 px-3 rounded-xl flex items-center justify-center gap-1.5",style:{background:"linear-gradient(135deg, #A78BFA 0%, #8B5CF6 100%)",boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)"},children:[s.jsx(Jo,{className:"w-4 h-4",style:{color:"#FFFFFF"}}),s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#FFFFFF"},children:""})]}),s.jsxs(M.button,{whileTap:{scale:.95},onClick:()=>p(!0),className:"py-3 px-3 rounded-xl flex items-center justify-center gap-1.5",style:{background:"linear-gradient(135deg, #FCD34D 0%, #F59E0B 100%)",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)"},children:[s.jsx(Zg,{className:"w-4 h-4",style:{color:"#FFFFFF"}}),s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#FFFFFF"},children:""})]}),s.jsxs(M.button,{whileTap:{scale:.95},onClick:()=>y(!0),className:"py-3 px-3 rounded-xl flex items-center justify-center gap-1.5",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[s.jsx(Em,{className:"w-4 h-4",style:{color:"#FFFFFF"}}),s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#FFFFFF"},children:""})]})]})]}),s.jsx(M.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15,duration:.5},whileTap:{scale:.98},onClick:()=>b(!0),className:"w-full p-6 backdrop-blur-lg rounded-3xl border cursor-pointer",style:{background:j?`linear-gradient(135deg, ${j.color}15 0%, ${j.color}05 100%)`:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%)",borderColor:j?.color||"rgba(255, 255, 255, 0.3)",boxShadow:`0 8px 32px -8px ${j?.color||"rgba(73, 27, 109, 0.2)"}40`},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center",style:{background:j?`${j.color}20`:"rgba(73, 27, 109, 0.1)"},children:s.jsx(hr,{className:"w-8 h-8",style:{color:j?.color||"#491B6D"}})}),s.jsx("div",{className:"flex-1 text-left",children:j?s.jsxs(s.Fragment,{children:[s.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:j.name}),s.jsxs("h3",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:800,fontSize:"32px",color:j.color,lineHeight:"1"},children:["D-",L()]})]}):s.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:"D-Day "})})]}),s.jsx(Xo,{className:"w-6 h-6",style:{color:"#6B7280"}})]})})]}),d&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)"},children:s.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md p-6 rounded-3xl",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:" "}),s.jsx(M.button,{whileTap:{scale:.95},onClick:()=>u(!1),children:s.jsx(yn,{className:"w-6 h-6",style:{color:"#491B6D"}})})]}),s.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:400,fontSize:"14px",color:"#6B7280"},children:"    ! "})]})}),f&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)"},children:s.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md p-6 rounded-3xl",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:"  "}),s.jsx(M.button,{whileTap:{scale:.95},onClick:()=>p(!1),children:s.jsx(yn,{className:"w-6 h-6",style:{color:"#491B6D"}})})]}),s.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:400,fontSize:"14px",color:"#6B7280"},children:"    ! "})]})}),m&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)"},children:s.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md rounded-3xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxHeight:"80vh"},children:[s.jsx("div",{className:"p-6 border-b",style:{borderColor:"rgba(73, 27, 109, 0.1)"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:" "}),s.jsx(M.button,{whileTap:{scale:.95},onClick:()=>y(!1),children:s.jsx(yn,{className:"w-6 h-6",style:{color:"#491B6D"}})})]})}),s.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(80vh - 100px)"},children:s.jsx("div",{className:"space-y-4",children:c.map(T=>s.jsx(M.div,{whileTap:{scale:.98},className:"p-5 rounded-2xl border cursor-pointer",style:{background:"rgba(255, 255, 255, 0.8)",borderColor:T.color,borderWidth:"2px"},children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${T.color}20`},children:s.jsx(Em,{className:"w-6 h-6",style:{color:T.color}})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"16px",color:"#491B6D"},children:T.name}),s.jsx("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:T.department}),s.jsxs("div",{className:"mt-3 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"11px",color:"#8B5CF6"},children:""}),s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"11px",color:"#6B7280"},children:T.deadline})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"11px",color:"#8B5CF6"},children:""}),s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"11px",color:"#6B7280"},children:", , "})]})]}),s.jsx(M.button,{whileTap:{scale:.95},className:"mt-4 w-full py-2 px-4 rounded-lg",style:{background:T.color,boxShadow:`0 4px 12px ${T.color}40`},children:s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"13px",color:"#FFFFFF"},children:" PDF "})})]})]})},T.id))})})]})}),v&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{background:"rgba(0, 0, 0, 0.5)"},children:s.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md rounded-3xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxHeight:"80vh"},children:[s.jsx("div",{className:"p-6 border-b",style:{borderColor:"rgba(73, 27, 109, 0.1)"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#491B6D"},children:"D-Day "}),s.jsx("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:400,fontSize:"13px",color:"#6B7280"},children:"  "})]}),s.jsx(M.button,{whileTap:{scale:.95},onClick:()=>b(!1),children:s.jsx(yn,{className:"w-6 h-6",style:{color:"#491B6D"}})})]})}),s.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(80vh - 100px)"},children:s.jsxs("div",{className:"space-y-3",children:[c.map(T=>{const R=new Date(T.deadline),I=j?.name===`${T.name} `;return s.jsx(M.button,{whileTap:{scale:.98},onClick:()=>{S({name:`${T.name} `,date:R,color:T.color}),b(!1)},className:"w-full p-5 rounded-2xl border text-left",style:{background:I?`${T.color}15`:"rgba(255, 255, 255, 0.8)",borderColor:I?T.color:"rgba(73, 27, 109, 0.1)",borderWidth:I?"2px":"1px"},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${T.color}20`},children:s.jsx(Hl,{className:"w-6 h-6",style:{color:T.color}})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:T.name}),s.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:" "}),s.jsx("p",{className:"mt-1",style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"12px",color:T.color},children:T.deadline})]}),I&&s.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{background:T.color},children:s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:3,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})]})},T.id)}),s.jsxs("div",{className:"flex items-center gap-3 py-2",children:[s.jsx("div",{className:"flex-1 h-px",style:{background:"rgba(73, 27, 109, 0.1)"}}),s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"12px",color:"#6B7280"},children:""}),s.jsx("div",{className:"flex-1 h-px",style:{background:"rgba(73, 27, 109, 0.1)"}})]}),s.jsx(M.button,{whileTap:{scale:.98},className:"w-full p-5 rounded-2xl border",style:{background:"rgba(139, 92, 246, 0.05)",borderColor:"rgba(139, 92, 246, 0.2)",borderStyle:"dashed",borderWidth:"2px"},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:"rgba(139, 92, 246, 0.15)"},children:s.jsx(Jo,{className:"w-6 h-6",style:{color:"#8B5CF6"}})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"15px",color:"#491B6D"},children:"  "}),s.jsx("p",{style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"13px",color:"#6B7280"},children:"  "})]})]})})]})})]})})]})}const Jz={},M1=e=>{let t;const n=new Set,r=(p,m)=>{const y=typeof p=="function"?p(t):p;if(!Object.is(y,t)){const v=t;t=m??(typeof y!="object"||y===null)?y:Object.assign({},t,y),n.forEach(b=>b(t,v))}},i=()=>t,u={setState:r,getState:i,getInitialState:()=>f,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(Jz?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,i,u);return u},Zz=e=>e?M1(e):M1;var Yp={exports:{}},Xp={},Qp={exports:{}},Jp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1;function eW(){if($1)return Jp;$1=1;var e=Ml();function t(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,c=e.useDebugValue;function d(m,y){var v=y(),b=r({inst:{value:v,getSnapshot:y}}),j=b[0].inst,S=b[1];return a(function(){j.value=v,j.getSnapshot=y,u(j)&&S({inst:j})},[m,v,y]),i(function(){return u(j)&&S({inst:j}),m(function(){u(j)&&S({inst:j})})},[m]),c(v),v}function u(m){var y=m.getSnapshot;m=m.value;try{var v=y();return!n(m,v)}catch{return!0}}function f(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return Jp.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Jp}var L1;function tW(){return L1||(L1=1,Qp.exports=eW()),Qp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function nW(){if(B1)return Xp;B1=1;var e=Ml(),t=tW();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,c=e.useEffect,d=e.useMemo,u=e.useDebugValue;return Xp.useSyncExternalStoreWithSelector=function(f,p,m,y,v){var b=a(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=d(function(){function N(F){if(!_){if(_=!0,C=F,F=y(F),v!==void 0&&j.hasValue){var D=j.value;if(v(D,F))return E=D}return E=F}if(D=E,r(C,F))return D;var O=y(F);return v!==void 0&&v(D,O)?(C=F,D):(C=F,E=O)}var _=!1,C,E,A=m===void 0?null:m;return[function(){return N(p())},A===null?void 0:function(){return N(A())}]},[p,m,y,v]);var S=i(f,b[0],b[1]);return c(function(){j.hasValue=!0,j.value=S},[S]),u(S),S},Xp}var z1;function rW(){return z1||(z1=1,Yp.exports=nW()),Yp.exports}var sW=rW();const iW=Ru(sW),$C={},{useDebugValue:oW}=me,{useSyncExternalStoreWithSelector:aW}=iW;let W1=!1;const lW=e=>e;function cW(e,t=lW,n){($C?"production":void 0)!=="production"&&n&&!W1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),W1=!0);const r=aW(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return oW(r),r}const V1=e=>{($C?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Zz(e):e,n=(r,i)=>cW(t,r,i);return Object.assign(n,t),n},dW=e=>e?V1(e):V1,U1={starredWords:[],graveyardWords:[],wrongAnswersWords:[],myVocabularies:[],isLoading:!1,hasLoaded:!1},ls=async(e,t,n={})=>{const r=e?.();if(!r)throw new Error("  .  .");const i=await fetch(`https://${Ge}.supabase.co/functions/v1/server${t}`,{...n,headers:{Authorization:`Bearer ${r}`,...n.headers}});let a=null;const c=await i.text();if(c)try{a=JSON.parse(c)}catch(d){console.error(" Failed to parse response JSON:",d,c),a={error:c}}if(!i.ok){const d=a?.message||a?.error||" ";throw new Error(d)}return a},uW=dW((e,t)=>({...U1,loadWordLists:async n=>{if(!n?.()){console.log(" Skipping word lists load - no auth token");return}if(!(t().isLoading||t().hasLoaded)){e({isLoading:!0});try{const[i,a,c,d]=await Promise.all([ls(n,"/starred"),ls(n,"/graveyard"),ls(n,"/wrong-answers"),ls(n,"/my-vocabularies")]);e({starredWords:i?.words?.map(u=>u.id)||[],graveyardWords:a?.words?.map(u=>u.id)||[],wrongAnswersWords:c?.words?.map(u=>u.id)||[],myVocabularies:d?.vocabularies||[],hasLoaded:!0})}catch(i){console.error(" Failed to load word lists:",i)}finally{e({isLoading:!1})}}},toggleStarred:async(n,r)=>{if(!n?.()){console.warn(" Cannot toggle starred without auth token");return}const a=t().starredWords.includes(r);e(c=>({starredWords:a?c.starredWords.filter(d=>d!==r):[...c.starredWords,r]}));try{await ls(n,`/starred/${r}`,{method:a?"DELETE":"POST",headers:{"Content-Type":"application/json"}})}catch(c){console.error(" Error toggling starred:",c),e(d=>({starredWords:a?[...d.starredWords,r]:d.starredWords.filter(u=>u!==r)}))}},moveToGraveyard:async(n,r)=>{if(!n?.()){console.warn(" Cannot move to graveyard without auth token");return}const a={graveyardWords:t().graveyardWords,starredWords:t().starredWords,wrongAnswersWords:t().wrongAnswersWords};e(c=>({graveyardWords:c.graveyardWords.includes(r)?c.graveyardWords:[...c.graveyardWords,r],starredWords:c.starredWords.filter(d=>d!==r),wrongAnswersWords:c.wrongAnswersWords.filter(d=>d!==r)}));try{await ls(n,`/graveyard/${r}`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(c){console.error(" Error moving to graveyard:",c),e({graveyardWords:a.graveyardWords,starredWords:a.starredWords,wrongAnswersWords:a.wrongAnswersWords})}},deletePermanently:async(n,r)=>{if(!n?.()){console.warn(" Cannot delete from graveyard without auth token");return}const a={graveyardWords:t().graveyardWords,starredWords:t().starredWords,wrongAnswersWords:t().wrongAnswersWords};e(c=>({graveyardWords:c.graveyardWords.filter(d=>d!==r),starredWords:c.starredWords.filter(d=>d!==r),wrongAnswersWords:c.wrongAnswersWords.filter(d=>d!==r)}));try{await ls(n,`/graveyard/${r}`,{method:"DELETE"})}catch(c){console.error(" Error deleting word permanently:",c),e({graveyardWords:a.graveyardWords,starredWords:a.starredWords,wrongAnswersWords:a.wrongAnswersWords})}},addWrongAnswer:async(n,r)=>{if(!n?.()){console.warn(" Cannot track wrong answer without auth token");return}if(!t().wrongAnswersWords.includes(r)){e(a=>({wrongAnswersWords:[...a.wrongAnswersWords,r]}));try{await ls(n,`/wrong-answers/${r}`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(a){console.error(" Error adding wrong answer:",a),e(c=>({wrongAnswersWords:c.wrongAnswersWords.filter(d=>d!==r)}))}}},refreshMyVocabularies:async n=>{if(!n?.()){console.warn(" Cannot refresh vocabularies without auth token");return}try{const i=await ls(n,"/my-vocabularies");e({myVocabularies:i?.vocabularies||[]})}catch(i){console.error(" Error refreshing vocabularies:",i)}},reset:()=>{e(U1)}}));function hW(e){const{starredWords:t,graveyardWords:n,wrongAnswersWords:r,myVocabularies:i,isLoading:a,loadWordLists:c,toggleStarred:d,moveToGraveyard:u,deletePermanently:f,addWrongAnswer:p,refreshMyVocabularies:m,reset:y}=uW(),v=g.useCallback(()=>c(e),[c,e]),b=g.useCallback(C=>d(e,C),[d,e]),j=g.useCallback(C=>u(e,C),[u,e]),S=g.useCallback(C=>f(e,C),[f,e]),N=g.useCallback(C=>p(e,C),[p,e]),_=g.useCallback(()=>m(e),[m,e]);return{starredWords:t,graveyardWords:n,wrongAnswersWords:r,myVocabularies:i,isLoading:a,loadWordLists:v,toggleStarred:b,moveToGraveyard:j,deletePermanently:S,addWrongAnswer:N,refreshMyVocabularies:_,resetStore:y}}function fW(e){const[t,n]=g.useState(0),r=g.useRef(null),i=()=>{r.current&&clearTimeout(r.current);const c=t+1;n(c),c>=5?(n(0),e.onAdminAccess&&e.onAdminAccess()):r.current=setTimeout(()=>{n(0)},2e3)},a=()=>{if(!e.ddayInfo)return null;const c=new Date;c.setHours(0,0,0,0);const d=new Date(e.ddayInfo.date);d.setHours(0,0,0,0);const u=Math.ceil((d.getTime()-c.getTime())/(1e3*60*60*24));return Math.abs(u)};return s.jsxs("div",{className:"relative px-7 pt-6 pb-5 overflow-hidden",style:{background:"transparent"},children:[s.jsx("div",{className:"absolute top-0 left-0 w-40 h-40 rounded-full opacity-20 blur-3xl",style:{background:"radial-gradient(circle, rgba(139, 92, 246, 0.3) 0%, transparent 70%)",transform:"translate(-20%, -20%)"}}),s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 rounded-full opacity-15 blur-3xl",style:{background:"radial-gradient(circle, rgba(167, 139, 250, 0.3) 0%, transparent 70%)",transform:"translate(20%, -20%)"}}),s.jsxs("div",{className:"relative flex items-center justify-between",children:[s.jsxs(M.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{duration:.6,ease:[.16,1,.3,1]},className:"flex flex-col gap-0",children:[s.jsxs("div",{style:{fontFamily:"Inter, -apple-system, sans-serif",fontSize:"36px",letterSpacing:"-1.6px",filter:"drop-shadow(0 2px 4px rgba(9, 26, 122, 0.15))"},onClick:i,children:[s.jsx("span",{style:{fontWeight:800,color:"#091A7A"},children:"JEJE"}),s.jsx("span",{style:{fontWeight:500,color:"#091A7A"},children:"VOCA"})]}),s.jsx(M.span,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},transition:{delay:.15,duration:.5},style:{fontFamily:"Inter, -apple-system, sans-serif",fontSize:"9px",fontWeight:600,color:"#4B5563",letterSpacing:"0.5px"},children:"BETA 3.0"})]}),s.jsxs(M.div,{initial:{opacity:0,x:15},animate:{opacity:1,x:0},transition:{duration:.6,ease:[.16,1,.3,1]},className:"flex items-center gap-3",children:[s.jsxs(M.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1,duration:.5},className:"flex flex-col items-end gap-1",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsxs("span",{style:{fontFamily:"Lexend, sans-serif",fontSize:"12px",fontWeight:600,color:"#491B6D"},children:[e.userName||"",""]}),s.jsx(M.span,{animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},style:{fontSize:"13px"},children:""})]}),e.ddayInfo&&s.jsx(M.button,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},whileTap:{scale:.95},onClick:e.onDdayClick,className:"relative group",children:s.jsxs("div",{className:"px-4 py-1.5 rounded-full relative overflow-hidden",style:{background:"linear-gradient(135deg, #491B6D 0%, #7C3AED 100%)",boxShadow:"0 6px 20px rgba(73, 27, 109, 0.4), 0 2px 8px rgba(124, 58, 237, 0.3)"},children:[s.jsx(M.div,{className:"absolute inset-0",animate:{x:["-100%","100%"]},transition:{duration:3,repeat:1/0,repeatDelay:2,ease:"easeInOut"},style:{background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent)"}}),s.jsxs("span",{className:"relative",style:{fontFamily:"Lexend, sans-serif",fontSize:"17px",fontWeight:900,color:"white",letterSpacing:"0.5px",textShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"},children:["D-",a()]})]})})]}),s.jsx(M.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},whileTap:{scale:.9},className:"w-12 h-12 rounded-full flex items-center justify-center border-none",style:{background:"white",boxShadow:"0 10px 25px -5px rgba(9, 26, 122, 0.3), 0 8px 10px -6px rgba(9, 26, 122, 0.2)",cursor:"pointer"},onClick:e.onLogout,children:s.jsx(s6,{className:"w-5 h-5",style:{color:"#091A7A"}})})]})]})]})}const pW="/assets/d591fc627aa5b7799a1427ce1ddf2818333b2abf-DlciBEN6.png",mW="/assets/58e118d790296ac36e08d84dc8b8f99cdbd1d5bf-BOVzN0Jf.png";function gW(){return s.jsx(M.img,{src:mW,alt:"Star",width:64,height:64,className:"w-16 h-16 object-contain",whileTap:{scale:.95}})}const xW="/assets/2826bb0f82e8ee44cdcabe4b9b093d546b513206-CY4s6HfL.png";function yW(){return s.jsx(M.img,{src:xW,alt:"Skull",width:64,height:64,className:"w-16 h-16 object-contain",whileTap:{scale:.95}})}function vW({onSubjectClick:e,starredCount:t=0,graveyardCount:n=0,wrongAnswersCount:r=0}){const i=[{id:"starred",name:" ",description:"",progress:0,icon:s.jsx(gW,{}),color:"from-[#091A7A] to-[#FCD34D]",count:t},{id:"graveyard",name:" ",description:"",progress:0,icon:s.jsx(yW,{}),color:"from-[#091A7A] to-[#6B7280]",count:n},{id:"wrong-answers",name:" ",description:"",progress:0,icon:s.jsx(sC,{src:pW,alt:"Wrong Answers Icon",className:"w-10 h-10"}),color:"from-[#091A7A] to-[#EF4444]",count:r}];return s.jsxs("div",{className:"relative mx-6 mb-6",children:[s.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden -inset-8",children:[s.jsx(M.div,{className:"absolute top-16 left-4 w-1.5 h-1.5 bg-gradient-to-br from-[#ADC8FF]/40 to-[#091A7A]/20 rounded-full blur-sm",animate:{y:[0,-25,0],x:[0,15,0],scale:[.4,1.2,.4],opacity:[.2,.7,.2]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:.5}}),s.jsx(M.div,{className:"absolute top-32 right-8 w-1 h-1 bg-gradient-to-br from-[#091A7A]/30 to-[#ADC8FF]/40 rounded-full blur-sm",animate:{y:[0,-18,0],x:[0,-12,0],scale:[.3,.9,.3],opacity:[.3,.6,.3]},transition:{duration:9,repeat:1/0,ease:"easeInOut",delay:2}}),s.jsx(M.div,{className:"absolute bottom-20 left-16 w-0.5 h-0.5 bg-gradient-to-br from-[#ADC8FF]/50 to-[#091A7A]/10 rounded-full blur-sm",animate:{y:[0,-30,0],x:[0,20,0],scale:[.5,1.5,.5],opacity:[.4,.8,.4]},transition:{duration:15,repeat:1/0,ease:"easeInOut",delay:4}}),s.jsx(M.div,{className:"absolute top-24 right-2 w-2 h-2 bg-gradient-to-br from-yellow-300/30 to-orange-300/20 rounded-full blur-sm",animate:{y:[0,-22,0],x:[0,-8,0],scale:[.2,1,.2],opacity:[.2,.5,.2],rotate:[0,180,360]},transition:{duration:11,repeat:1/0,ease:"easeInOut",delay:6}})]}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:i.map((a,c)=>s.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7+c*.1,duration:.5},whileTap:{scale:.95},onClick:()=>e(a),className:"relative flex-1 cursor-pointer",children:s.jsxs("div",{className:"relative p-2.5 backdrop-blur-lg border rounded-full overflow-visible group",style:{width:"95px",height:"95px",background:a.id==="starred"?"linear-gradient(135deg, rgba(254, 252, 232, 0.95) 0%, rgba(254, 249, 195, 0.9) 100%)":a.id==="graveyard"?"linear-gradient(135deg, rgba(249, 250, 251, 0.95) 0%, rgba(243, 244, 246, 0.9) 100%)":a.id==="wrong-answers"?"linear-gradient(135deg, rgba(254, 242, 242, 0.95) 0%, rgba(254, 226, 226, 0.9) 100%)":"linear-gradient(135deg, rgba(173, 200, 255, 0.9) 0%, rgba(173, 200, 255, 0.7) 100%)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",borderColor:"rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px -8px rgba(9, 26, 122, 0.2)"},children:[s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center gap-2",children:[s.jsx(M.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.9+c*.1,duration:.4,type:"spring",stiffness:200},className:"absolute min-w-[24px] h-[24px] px-2 flex items-center justify-center rounded-full",style:{top:"2px",right:"-6px",background:a.id==="starred"?"linear-gradient(135deg, #FCD34D 0%, #F59E0B 100%)":a.id==="graveyard"?"linear-gradient(135deg, #9CA3AF 0%, #6B7280 100%)":"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},children:s.jsx("span",{style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"11px",lineHeight:"14px",color:"#FFFFFF"},children:a.count})}),a.icon&&s.jsx(M.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:.9,y:[0,-4,0]},transition:{scale:{delay:.8+c*.15,duration:.5,type:"spring"},opacity:{delay:.8+c*.15,duration:.5},y:{duration:4+c*.5,repeat:1/0,ease:"easeInOut",delay:1+c*.3}},className:"w-10 h-10 flex items-center justify-center",style:{filter:"drop-shadow(0 4px 12px rgba(9, 26, 122, 0.12))"},children:a.icon}),s.jsx("div",{children:s.jsx("h4",{style:{fontFamily:"Lexend, sans-serif",fontWeight:600,fontSize:"10px",lineHeight:"14px",color:"#091A7A"},children:a.name})})]}),s.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-full",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 50%, transparent 100%)"}})]})},a.id))})]})}const bW="/assets/a89a6ef3f88fd2857fdad1d76f0f4ad72a96dff2-DsW-fqgf.png";function wW(){return s.jsx("div",{className:"relative size-full","data-name":"Icons",children:s.jsx("div",{className:"absolute bg-center bg-cover bg-no-repeat inset-0","data-name":"ChatGPT Image Sep 6, 2025, 06_15_01 PM 1",style:{backgroundImage:`url('${bW}')`}})})}function jW({illustrationImage:e,onStartQuiz:t,currentProgress:n=40,totalQuizzesCompleted:r=0}){const[i,a]=g.useState(n),[c,d]=g.useState(n);g.useEffect(()=>{if(n!==i){const m=i,v=(n-m)/30;let b=0;const j=setInterval(()=>{b++;const S=m+v*b;d(Math.round(S)),b>=30&&(clearInterval(j),d(n),a(n))},1500/30);return()=>clearInterval(j)}},[n]);const u=()=>c>=80?"  !       !":c>=60?" !     .":c>=40?"       !":`  !   ${c}%  .`;return s.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"relative",children:[s.jsxs(M.div,{initial:{opacity:0,scale:.8,y:20,rotate:-10},animate:{opacity:.95,scale:1,rotate:0,y:[0,-12,0],x:[0,4,0],rotateY:[0,5,0]},transition:{opacity:{delay:.6,duration:.8},scale:{delay:.6,duration:.8,type:"spring",stiffness:200},rotate:{delay:.6,duration:.8},y:{duration:7,repeat:1/0,ease:"easeInOut",delay:1.2},x:{duration:9,repeat:1/0,ease:"easeInOut",delay:.8},rotateY:{duration:12,repeat:1/0,ease:"easeInOut",delay:2}},className:"absolute -top-6 right-2 opacity-95 z-50 pointer-events-none",style:{width:"85px",height:"85px",filter:"drop-shadow(0 8px 20px rgba(9, 26, 122, 0.25))",transformStyle:"preserve-3d"},children:[s.jsx(wW,{}),s.jsx(M.div,{className:"absolute -top-3 -left-3 w-2 h-2 bg-yellow-400/60 rounded-full",animate:{scale:[0,1.2,0],opacity:[0,.8,0],rotate:[0,180,360],x:[0,6,0],y:[0,-4,0]},transition:{duration:4,repeat:1/0,delay:2.5,ease:"easeInOut"}}),s.jsx(M.div,{className:"absolute -bottom-2 -right-3 w-1.5 h-1.5 bg-cyan-400/70 rounded-full",animate:{scale:[0,1,0],opacity:[0,.9,0],x:[0,-5,0],y:[0,3,0]},transition:{duration:3.5,repeat:1/0,delay:3.8,ease:"easeInOut"}}),s.jsx(M.div,{className:"absolute top-2 right-2 w-1 h-1 bg-purple-400/50 rounded-full",animate:{scale:[0,.8,0],opacity:[0,.6,0],x:[0,-3,0],y:[0,6,0]},transition:{duration:5,repeat:1/0,delay:5.2,ease:"easeInOut"}}),s.jsx(M.div,{className:"absolute top-4 left-1 w-0.5 h-0.5 bg-pink-400/60 rounded-full",animate:{scale:[0,1.5,0],opacity:[0,.7,0],x:[0,4,0],y:[0,-8,0]},transition:{duration:6,repeat:1/0,delay:1.8,ease:"easeInOut"}})]}),s.jsxs(M.div,{whileTap:{scale:.98},onClick:t,className:"relative p-6 bg-card-glass backdrop-blur-lg rounded-[20px] border border-white/20 shadow-card overflow-hidden cursor-pointer",style:{background:"rgba(249, 250, 251, 0.8)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",boxShadow:"0 2px 8px 0 rgba(0, 0, 0, 0.08)",position:"relative",minHeight:"160px"},children:[s.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-center",children:[s.jsx(M.h3,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.4},style:{fontFamily:"Lexend, sans-serif",fontWeight:700,fontSize:"18px",color:"#091A7A",lineHeight:"1.3",marginBottom:"12px"},children:"  "}),s.jsx(M.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.5},style:{fontFamily:"Lexend, sans-serif",fontWeight:500,fontSize:"14px",color:"#6B7280",lineHeight:"1.5",maxWidth:"calc(100% - 64px)"},children:u()})]}),s.jsx(M.button,{whileTap:{scale:.9},onClick:f=>{f.stopPropagation(),t()},className:"absolute bottom-4 right-4 w-12 h-12 bg-white rounded-full shadow-interactive border-none cursor-pointer flex items-center justify-center z-15",style:{boxShadow:"0 10px 25px -5px rgba(9, 26, 122, 0.3), 0 8px 10px -6px rgba(9, 26, 122, 0.2)"},children:s.jsx(Z2,{className:"w-6 h-6",style:{color:"#091A7A"}})}),s.jsx(M.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-4 right-4 w-12 h-12 pointer-events-none rounded-full z-14",style:{background:"rgba(173, 200, 255, 0.3)"}}),s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 50%, transparent 100%)",borderRadius:"20px"}})]})]})}function SW({onClick:e}){const n=[{id:"mon",label:"M"},{id:"tue",label:"T"},{id:"wed",label:"W"},{id:"thu",label:"T"},{id:"fri",label:"F"},{id:"sat",label:"S"},{id:"sun",label:"S"}],r=[{id:"date-1",date:1},{id:"date-2",date:2},{id:"date-3",date:3},{id:"date-4",date:4},{id:"date-5",date:5},{id:"date-6",date:6},{id:"date-7",date:7}];return s.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},onClick:e,whileTap:{scale:.98},className:"p-6 bg-white/95 backdrop-blur-xl rounded-[24px] shadow-lg border border-gray-100 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-5",children:[s.jsx("h3",{className:"text-[18px] font-bold text-[#091A7A]",children:"  "}),s.jsx("span",{className:"text-[12px] text-gray-500 font-medium",children:"September 2025"})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-3",children:[n.map(i=>s.jsx("div",{className:"text-center text-[11px] text-gray-400 font-semibold uppercase tracking-wide py-1",children:i.label},i.id)),r.map((i,a)=>s.jsx(M.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.6+a*.05,type:"spring",stiffness:400,damping:15},whileHover:{scale:1.1},whileTap:{scale:.95},className:`aspect-square flex items-center justify-center rounded-full text-[12px] font-medium transition-all duration-200 ${i.date===3?"bg-[#ADC8FF] text-[#091A7A] shadow-md":"text-gray-500 hover:bg-gray-50"}`,children:i.date},i.id))]})]})}const NW="data:image/svg+xml,%3Csvg%20preserveAspectRatio%3D%22none%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20overflow%3D%22visible%22%20style%3D%22display%3A%20block%3B%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20id%3D%22home-01%22%3E%0A%3Cpath%20id%3D%22Vector%22%20d%3D%22M3%2011.9896V14.5C3%2017.7998%203%2019.4497%204.02513%2020.4749C5.05025%2021.5%206.70017%2021.5%2010%2021.5H14C17.2998%2021.5%2018.9497%2021.5%2019.9749%2020.4749C21%2019.4497%2021%2017.7998%2021%2014.5V11.9896C21%2010.3083%2021%209.46773%2020.6441%208.74005C20.2882%208.01237%2019.6247%207.49628%2018.2976%206.46411L16.2976%204.90855C14.2331%203.30285%2013.2009%202.5%2012%202.5C10.7991%202.5%209.76689%203.30285%207.70242%204.90855L5.70241%206.46411C4.37533%207.49628%203.71179%208.01237%203.3559%208.74005C3%209.46773%203%2010.3083%203%2011.9896Z%22%20stroke%3D%22var(--stroke-0%2C%20white)%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%3Cpath%20id%3D%22Vector_2%22%20d%3D%22M15.0002%2017C14.2007%2017.6224%2013.1504%2018%2012.0002%2018C10.8499%2018%209.79971%2017.6224%209.00018%2017%22%20stroke%3D%22var(--stroke-0%2C%20white)%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A";function kW({src:e,active:t,IconComponent:n,isEmoji:r,emojiText:i}){return r&&i?s.jsx("div",{className:"relative w-6 h-6 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:i})}):n?s.jsx("div",{className:"relative w-6 h-6 flex items-center justify-center",children:s.jsx(n,{className:`w-5 h-5 transition-all duration-300 ${t?"text-[#8B5CF6]":"text-white"}`,strokeWidth:2})}):s.jsx("div",{className:"relative w-6 h-6 flex items-center justify-center",children:s.jsx("img",{className:`w-full h-full object-contain transition-all duration-300 ${t?"brightness-0 saturate-100":"brightness-0 invert"}`,style:t?{filter:"invert(40%) sepia(89%) saturate(2476%) hue-rotate(242deg) brightness(96%) contrast(92%)"}:{},src:e,alt:""})})}function CW({currentScreen:e,onScreenChange:t}){const n=[{icon:NW,screen:"home",active:e==="home"},{IconComponent:au,screen:"gift",active:e==="gift"},{IconComponent:ur,screen:"vocabulary-creator",active:e==="vocabulary-creator"},{IconComponent:Cm,screen:"ai",active:e==="ai"},{IconComponent:dS,screen:"text-extractor",active:e==="text-extractor"}],r=[10,70,130,190,250],i=[10,70,130,190,250],a=()=>{switch(e){case"home":return 0;case"gift":return 1;case"vocabulary-creator":return 2;case"ai":case"ai-tutor":return 3;case"text-extractor":return 4;default:return 0}};return s.jsx(M.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:1,duration:.6,ease:"easeOut"},className:"fixed bottom-6 left-4 right-4 z-50",children:s.jsxs("div",{className:"bg-[#091A7A]/95 backdrop-blur-lg relative rounded-[50px] mx-auto shadow-elevated border border-white/20",style:{width:"320px",height:"80px"},children:[s.jsx(M.div,{className:"absolute bg-white rounded-full shadow-interactive",style:{width:"60px",height:"60px",top:"10px"},animate:{left:`${i[a()]}px`},transition:{duration:.3,ease:"easeInOut"}}),s.jsx("div",{className:"absolute inset-0",children:n.map((c,d)=>s.jsx(M.button,{whileTap:{scale:.95},onClick:()=>t(c.screen),className:"absolute z-10 flex items-center justify-center rounded-full transition-all duration-200",style:{left:`${r[d]}px`,width:"60px",height:"60px",top:"10px"},children:s.jsx(kW,{src:c.icon,IconComponent:c.IconComponent,active:c.active,isEmoji:c.isEmoji,emojiText:c.emojiText})},d))})]})})}const To=[{id:1,question:"What is 15  8?",options:["110","120","130","140"],correctAnswer:1},{id:2,question:"Which planet is known as the Red Planet?",options:["Venus","Mars","Jupiter","Saturn"],correctAnswer:1},{id:3,question:"What is the capital of Australia?",options:["Sydney","Melbourne","Canberra","Perth"],correctAnswer:2}];function EW({onBack:e,onXPGain:t,onStreakIncrease:n}){const[r,i]=g.useState(0),[a,c]=g.useState(null),[d,u]=g.useState(!1),[f,p]=g.useState(0),[m,y]=g.useState(30),[v,b]=g.useState(!1),j=To[r];g.useEffect(()=>{if(d||v)return;const C=setInterval(()=>{y(E=>E<=1?(u(!0),0):E-1)},1e3);return()=>clearInterval(C)},[r,d,v]),g.useEffect(()=>{if(d&&m===0){const C=setTimeout(()=>{N()},2e3);return()=>clearTimeout(C)}},[d,m]);const S=C=>{d||c(C)},N=()=>{if(a===j.correctAnswer&&p(C=>C+1),u(!1),c(null),r<To.length-1)i(C=>C+1),y(30);else{b(!0);const C=f*50+(a===j.correctAnswer?50:0);t(C),f>=2&&n()}},_=()=>{a!==null&&u(!0)};return v?s.jsxs("div",{className:"p-6 h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx(M.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"w-12 h-12 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/50",children:s.jsx(xs,{className:"w-5 h-5 text-[#091A7A]"})}),s.jsx("h1",{className:"text-2xl font-bold text-[#091A7A]",children:"Quiz Complete!"})]}),s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-8",children:[s.jsx(M.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-32 h-32 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full flex items-center justify-center shadow-xl",children:s.jsx(ys,{className:"w-16 h-16 text-white",fill:"currentColor"})}),s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("h2",{className:"text-3xl font-bold text-[#091A7A]",children:[f,"/3"]}),s.jsx("p",{className:"text-lg text-[#091A7A]/70",children:"Great job!"}),s.jsx("div",{className:"px-6 py-3 bg-gradient-to-r from-green-100 to-green-50 rounded-2xl border border-green-200",children:s.jsxs("p",{className:"text-green-700 font-semibold",children:["+",f*50," XP Earned!"]})})]}),s.jsx(M.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"w-full py-4 bg-gradient-to-r from-[#091A7A] to-[#1a2b8a] text-white font-semibold rounded-2xl shadow-lg",children:"Continue Learning"})]})]}):s.jsxs("div",{className:"p-6 h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx(M.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"w-12 h-12 bg-card-glass backdrop-blur-lg rounded-full flex items-center justify-center shadow-card border border-white/20 animate-button",children:s.jsx(xs,{className:"w-5 h-5 text-[#091A7A]"})}),s.jsxs(M.div,{animate:{scale:m<=5?[1,1.1,1]:1,backgroundColor:m<=5?["rgba(255,255,255,0.9)","rgba(239,68,68,0.2)","rgba(255,255,255,0.9)"]:"rgba(255,255,255,0.9)"},transition:{duration:m<=5?.5:0,repeat:m<=5?1/0:0},className:"flex items-center gap-2 px-4 py-2 bg-card-glass backdrop-blur-lg rounded-[50px] border border-white/20",children:[s.jsx(Qo,{className:`w-4 h-4 ${m<=5?"text-[#EF4444]":"text-[#091A7A]"}`}),s.jsxs("span",{className:`text-small font-medium ${m<=5?"text-[#EF4444]":"text-[#091A7A]"}`,children:[m,"s"]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between text-small text-[#6B7280] mb-3",children:[s.jsxs("span",{children:["Question ",r+1," of ",To.length]}),s.jsxs("span",{className:"font-medium text-[#091A7A]",children:[Math.round(r/To.length*100),"%"]})]}),s.jsx("div",{className:"h-3 bg-white/40 rounded-[50px] overflow-hidden border border-white/20",children:s.jsx(M.div,{initial:{width:0},animate:{width:`${(r+1)/To.length*100}%`},className:"h-full bg-gradient-to-r from-[#091A7A] to-[#3B82F6] rounded-[50px]"})})]}),s.jsxs("div",{className:"flex-1 space-y-6",children:[s.jsxs(M.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"p-6 bg-white/80 backdrop-blur-sm rounded-3xl border border-white/60 shadow-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-[#091A7A] mb-6",children:j.question}),s.jsx("div",{className:"space-y-3",children:j.options.map((C,E)=>s.jsx(M.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>S(E),className:`w-full p-4 text-left rounded-2xl border-2 transition-all ${a===E?d?E===j.correctAnswer?"bg-green-100 border-green-300 text-green-800":"bg-red-100 border-red-300 text-red-800":"bg-[#ADC8FF]/30 border-[#091A7A] text-[#091A7A]":d&&E===j.correctAnswer?"bg-green-100 border-green-300 text-green-800":"bg-white/60 border-white/40 text-[#091A7A] hover:bg-[#ADC8FF]/20"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:C}),d&&s.jsxs(s.Fragment,{children:[E===j.correctAnswer&&s.jsx(Mn,{className:"w-5 h-5 text-green-600"}),a===E&&E!==j.correctAnswer&&s.jsx(nS,{className:"w-5 h-5 text-red-600"})]})]})},E))})]},r),s.jsx(M.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d?N:_,disabled:a===null&&!d,className:`w-full py-4 font-semibold rounded-full shadow-lg transition-all text-center ${a===null&&!d?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-[#091A7A] to-[#1a2b8a] text-white"}`,children:d?r<To.length-1?"Next Question":"Finish Quiz":"Submit Answer"})]})]})}const _W=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>mV),void 0).then(e=>({default:e.VocabularyCard}))),AW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>vV),void 0).then(e=>({default:e.VocabularyTable}))),TW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>bV),void 0).then(e=>({default:e.VocabularyTableSimple}))),PW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>wV),void 0).then(e=>({default:e.VocabularyTestSimple}))),RW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>jV),void 0).then(e=>({default:e.VocabularyTestSynonym}))),DW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>SV),void 0).then(e=>({default:e.VocabularyTestSynonymAnswer}))),OW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>xV),void 0).then(e=>({default:e.A4PageLayout}))),IW=g.lazy(()=>Fr(()=>Promise.resolve().then(()=>gV),void 0).then(e=>({default:e.HeaderFooter}))),H1=[{id:"card",title:"",description:", ,   ",icon:oS},{id:"table",title:" ",description:"     ",icon:mS},{id:"simple",title:" ",description:"   ",icon:hS},{id:"quiz-simple",title:" ",description:"   ",icon:ur},{id:"quiz-synonym",title:" ",description:"  ",icon:lS},{id:"quiz-synonym-answer",title:" ",description:"   ",icon:rS}],ag=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>typeof t=="string"?t:typeof t=="object"&&t!==null?t.word:"").map(t=>(t||"").trim()).filter(Boolean);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return ag(t)}catch{}return e.split(/[\n,]+/).map(t=>t.trim()).filter(Boolean)}return[]},lg=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>{if(typeof t=="string"){const[n,r]=t.split(":").map(i=>i.trim());return{word:n,meaning:r||""}}return typeof t=="object"&&t!==null?{word:String(t.word||"").trim(),meaning:String(t.meaning||"").trim()}:{word:"",meaning:""}}).filter(t=>t.word);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return lg(t)}catch{}return e.split(/[,;]/).map(t=>{const[n,r]=t.split(":").map(i=>i.trim());return{word:n,meaning:r||""}}).filter(t=>t.word)}return typeof e=="object"?lg([e]):[]},FW=e=>(e||[]).map((t,n)=>{const r=t||{},i=String(r.word||r.term||"").trim();return i?{id:n+1,word:i,pronunciation:r.pronunciation||"",partOfSpeech:r.partOfSpeech||r.part_of_speech||"",meaning:r.meaning||r.translation||"",definition:r.definition||"",synonyms:ag(r.synonyms),antonyms:ag(r.antonyms),derivatives:lg(r.derivatives),example:r.example||r.example_sentence||"",translation:r.translation||"",translationHighlight:r.translationHighlight||r.translation_highlight||"",etymology:r.etymology||""}:null}).filter(Boolean),MW=`
@media screen {
  #pdf-print-layout {
    display: none;
  }
}

@media print {
  body {
    margin: 0 !important;
    background: #fff !important;
  }
  .pdf-print-overlay {
    display: none !important;
  }
  #pdf-print-layout {
    display: block !important;
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
  }
}
`;function $W({onBack:e,vocabularyId:t,vocabularyTitle:n,words:r,hideHeader:i=!1}){const[a,c]=g.useState("card"),d=g.useMemo(()=>FW(r||[]),[r]),u=g.useMemo(()=>({headerTitle:n||"AI Vocabulary",headerDescription:d.length?`${d.length.toLocaleString()} `:"",footerLeft:new Date().toLocaleDateString("ko-KR")}),[n,d.length]),f=()=>d.length?s.jsxs(g.Suspense,{fallback:s.jsx("div",{className:"py-16 text-center text-gray-400 text-sm",children:"  ..."}),children:[a==="card"&&s.jsx(OW,{headerContent:s.jsx(IW,{headerInfo:u,showFooter:!0}),showHeaderOnFirstPageOnly:!0,children:d.map(m=>s.jsx(_W,{...m},m.id))}),a==="table"&&s.jsx(AW,{data:d,headerInfo:u}),a==="simple"&&s.jsx(TW,{data:d,headerInfo:u}),a==="quiz-simple"&&s.jsx(PW,{data:d,headerInfo:u}),a==="quiz-synonym"&&s.jsx(RW,{data:d,headerInfo:u}),a==="quiz-synonym-answer"&&s.jsx(DW,{data:d,headerInfo:u})]}):null,p=()=>{if(!d.length){alert("  .");return}window.print()};return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:MW}}),s.jsxs("div",{className:"h-full flex flex-col pdf-print-overlay pdf-print-root",children:[!i&&s.jsx(Kl,{onBack:e,title:"PDF ",subtitle:"  "}),s.jsxs("main",{className:`flex-1 overflow-y-auto scrollbar-hide px-4 ${i?"pt-2 pb-6":"pt-4 pb-28"} space-y-6`,children:[!i&&s.jsxs("section",{className:"max-w-4xl mx-auto bg-white/90 backdrop-blur-lg rounded-2xl border border-white/50 shadow-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-500",children:" "}),s.jsx("p",{className:"text-xl font-bold text-[#091A7A]",children:n||"  "}),s.jsx("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-400 mt-2",children:s.jsxs("span",{children:[d.length.toLocaleString()," "]})})]}),s.jsx("section",{className:"max-w-4xl mx-auto",children:s.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:H1.map(m=>{const y=m.icon,v=a===m.id;return s.jsx(M.button,{whileTap:{scale:.98},onClick:()=>c(m.id),className:`w-full p-4 bg-white/90 backdrop-blur-lg rounded-2xl border-2 shadow-lg transition-all text-left ${v?"border-[#491B6D] shadow-xl":"border-white/40"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center ${v?"bg-[#491B6D] text-white":"bg-[#F3E8FF] text-[#7C3AED]"}`,children:s.jsx(y,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:`mb-1 ${v?"text-[#491B6D]":"text-[#091A7A]"}`,style:{fontSize:"16px",fontWeight:600},children:m.title}),s.jsx("p",{className:"text-[#6B7280]",style:{fontSize:"13px",fontWeight:400},children:m.description})]})]})},m.id)})})}),s.jsx("section",{className:"max-w-4xl mx-auto",children:s.jsxs(M.button,{whileTap:{scale:.98},onClick:p,disabled:!d.length,className:`w-full py-4 rounded-2xl shadow-xl flex items-center justify-center gap-2 ${d.length===0?"bg-gray-300 opacity-50 cursor-not-allowed text-white":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] text-white"}`,children:[s.jsx(uS,{className:"w-5 h-5"}),s.jsx("span",{className:"text-white",style:{fontSize:"16px",fontWeight:600},children:d.length===0?"  ":`${H1.find(m=>m.id===a)?.title} `})]})})]})]}),s.jsx("div",{id:"pdf-print-layout",className:"pdf-print-root",children:d.length?f():null})]})}const Zp=5;function LW({words:e,mode:t,onComplete:n,onWrongAnswer:r}){const[i,a]=g.useState([]),[c,d]=g.useState(0),[u,f]=g.useState([]),[p,m]=g.useState([]),[y,v]=g.useState(null),[b,j]=g.useState(null),[S,N]=g.useState(new Set),[_,C]=g.useState(null),[E,A]=g.useState(0),[F,D]=g.useState(0),[O,V]=g.useState(0),G=Math.ceil(e.length/Zp);g.useEffect(()=>{const $=[...e].sort(()=>Math.random()-.5);a($),d(0),V(0)},[e,t]),g.useEffect(()=>{if(i.length===0)return;const $=c*Zp,L=Math.min($+Zp,i.length),T=i.slice($,L);ee(T)},[i,c,t]);const ee=$=>{const L=T=>{const R=[...T];for(let I=R.length-1;I>0;I--){const W=Math.floor(Math.random()*(I+1));[R[I],R[W]]=[R[W],R[I]]}return R};if(t==="word-to-meaning"){const T=$.map((I,W)=>({id:`left-${c}-${W}`,content:I.word,type:"left",matched:!1,wordId:I.id,isWord:!0})),R=L($.map((I,W)=>({id:`right-${c}-${W}`,content:I.meaning,type:"right",matched:!1,wordId:I.id,isWord:!1})));f(T),m(R)}else{const T=$.map((I,W)=>({id:`left-${c}-${W}`,content:I.meaning,type:"left",matched:!1,wordId:I.id,isWord:!1})),R=L($.map((I,W)=>({id:`right-${c}-${W}`,content:I.word,type:"right",matched:!1,wordId:I.id,isWord:!0})));f(T),m(R)}N(new Set),v(null),j(null),A(0),D(0)},se=$=>{$.matched||($.type==="left"?v(y===$.id?null:$.id):j(b===$.id?null:$.id))};g.useEffect(()=>{y&&b&&ie()},[y,b]);const ie=()=>{const $=u.find(T=>T.id===y),L=p.find(T=>T.id===b);if(!(!$||!L))if(D(T=>T+1),$.wordId===L.wordId){const T=new Set(S);T.add($.id),T.add(L.id),N(T),f(R=>R.map(I=>I.id===$.id?{...I,matched:!0}:I)),m(R=>R.map(I=>I.id===L.id?{...I,matched:!0}:I)),A(R=>R+1),V(R=>R+1),v(null),j(null),T.size===u.length*2&&setTimeout(()=>{c<G-1?d(R=>R+1):n(O+1,O+1)},800)}else C({left:$.id,right:L.id}),r&&r($.wordId),setTimeout(()=>{C(null),v(null),j(null)},800)},J=($,L)=>$.matched?"bg-emerald-50 border-emerald-200 text-emerald-700":_&&(_.left===$.id||_.right===$.id)?"bg-red-50 border-red-200 text-red-700 animate-shake":L?"bg-white border-[#7C3AED] text-[#4C1D95] shadow-card":"bg-white/95 border-white/60 text-[#2E1065]";return s.jsx("div",{className:"h-full bg-transparent overflow-y-auto",children:s.jsxs("div",{className:"max-w-4xl mx-auto w-full px-4 py-6 space-y-5",children:[s.jsx("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl p-4 shadow-card border border-white/60",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] rounded-2xl flex items-center justify-center",children:s.jsx(hr,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-[#5B21B6]",children:t==="word-to-meaning"?"  ":"  "}),s.jsxs("p",{className:"text-xs font-medium text-[#8B5CF6]",children:[" ",c+1,"/",G]})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-2xl font-extrabold text-[#5B21B6]",children:[O,"/",e.length]})})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("div",{className:"space-y-2",children:u.map($=>s.jsx(M.button,{whileTap:{scale:$.matched?1:.97},onClick:()=>se($),disabled:$.matched,className:`w-full min-h-[70px] py-3 px-3 rounded-2xl border transition-all duration-200 text-center shadow-sm ${J($,y===$.id)}`,style:{touchAction:"manipulation"},children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[s.jsx("span",{className:`${$.isWord?"text-sm":"text-xs"} font-semibold text-[#2E1065]`,children:$.content}),$.matched&&s.jsx(Mn,{className:"w-4 h-4 text-emerald-600"})]})},$.id))}),s.jsx("div",{className:"space-y-2",children:p.map($=>s.jsx(M.button,{whileTap:{scale:$.matched?1:.97},onClick:()=>se($),disabled:$.matched,className:`w-full min-h-[70px] py-3 px-3 rounded-2xl border transition-all duration-200 text-center shadow-sm ${J($,b===$.id)}`,style:{touchAction:"manipulation"},children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[s.jsx("span",{className:`${$.isWord?"text-sm":"text-xs"} font-semibold text-[#2E1065]`,children:$.content}),$.matched&&s.jsx(Mn,{className:"w-4 h-4 text-emerald-600"})]})},$.id))})]})]})})}function BW({words:e,mode:t,onComplete:n,onWrongAnswer:r}){const[i,a]=g.useState([]),[c,d]=g.useState(0),[u,f]=g.useState(null),[p,m]=g.useState(!1),[y,v]=g.useState(0),[b,j]=g.useState(0);g.useEffect(()=>{S()},[e,t]);const S=()=>{const A=e.slice(0,Math.min(10,e.length)).map(F=>{const D=e.filter(ie=>ie.id!==F.id).sort(()=>Math.random()-.5).slice(0,3);let O,V,G;t==="word-to-meaning"?(O=F.word,V=F.meaning,G=D.map(ie=>ie.meaning)):(O=F.meaning,V=F.word,G=D.map(ie=>ie.word));const ee=[V,...G].sort(()=>Math.random()-.5),se=ee.indexOf(V);return{id:`q-${F.id}`,prompt:O,wordId:F.id,options:ee,correctAnswer:se}});a(A),d(0),f(null),m(!1),v(0),j(0)},N=E=>{if(p)return;const A=i[c];f(E),m(!0),E===A.correctAnswer?(v(F=>F+1),j(F=>F+1)):r&&r(A.wordId),setTimeout(()=>{c+1>=i.length?n(y+(E===A.correctAnswer?1:0),b+(E===A.correctAnswer?1:0)):(d(F=>F+1),f(null),m(!1))},1500)};if(i.length===0)return s.jsx("div",{className:"h-full flex items-center justify-center bg-gradient-to-br from-purple-50 via-white to-pink-50",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{style:{color:"#8B5CF6"},children:"Loading questions..."})})});const _=i[c],C=(c+1)/i.length*100;return s.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-purple-50 via-white to-pink-50 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-700 rounded-2xl flex items-center justify-center",children:s.jsx(hr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg",style:{fontWeight:700,color:"#491B6D"},children:t==="word-to-meaning"?"  ":"  "}),s.jsx("p",{className:"text-xs",style:{color:"#8B5CF6"},children:" "})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl",style:{fontWeight:800,color:"#491B6D"},children:[c+1,"/",i.length]}),s.jsxs("div",{className:"text-xs",style:{color:"#8B5CF6"},children:[": ",y]})]})]}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx(M.div,{initial:{width:0},animate:{width:`${C}%`},className:"h-full bg-gradient-to-r from-purple-500 to-purple-700",transition:{duration:.3}})})}),s.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 text-center",children:s.jsx("div",{className:"inline-block bg-gradient-to-br from-purple-500 to-purple-700 text-white px-8 py-6 rounded-3xl shadow-2xl border-2 border-white/40",children:s.jsx("h3",{className:"text-xl",style:{fontWeight:800},children:_.prompt})})},c),s.jsx("div",{className:"flex-1 space-y-3",children:_.options.map((E,A)=>{const F=u===A,D=A===_.correctAnswer,O=p;let V="bg-white border-purple-200";return O&&D?V="bg-gradient-to-br from-emerald-400 to-emerald-600 border-emerald-300":O&&F&&!D?V="bg-gradient-to-br from-red-400 to-red-600 border-red-300":F&&(V="bg-purple-100 border-purple-400"),s.jsx(M.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:A*.1},whileTap:{scale:p?1:.95},onClick:()=>!p&&N(A),disabled:p,className:`w-full p-5 rounded-2xl border-2 transition-all duration-200 ${V}`,style:{touchAction:"manipulation"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-sm flex-1 text-left ${O&&(D||F&&!D)?"text-white":"text-[#491B6D]"}`,style:{fontWeight:600},children:E}),O&&D&&s.jsx(Mn,{className:"w-6 h-6 text-white ml-2 flex-shrink-0"}),O&&F&&!D&&s.jsx(yn,{className:"w-6 h-6 text-white ml-2 flex-shrink-0"})]})},A)})}),s.jsx(pt,{children:p&&s.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-4 text-center",children:u===_.correctAnswer?s.jsxs("div",{className:"flex items-center justify-center gap-2 text-emerald-600",children:[s.jsx(ur,{className:"w-5 h-5"}),s.jsx("span",{style:{fontWeight:700},children:"! "})]}):s.jsx("div",{className:"text-red-600",children:s.jsx("span",{style:{fontWeight:700},children:".  !"})})})})]})}function zW({words:e,matchGameType:t,onBack:n,onBackToHome:r,onComplete:i,onWrongAnswer:a,stage:c,journeyName:d,wordCount:u,isStarredVocabulary:f}){const p=t.startsWith("card-match"),m=t==="card-match-word"||t==="quiz-word"?"word-to-meaning":"meaning-to-word",y=f?"#78350F":"#091A7A",v=f?"#D97706":"#7C3AED";return s.jsxs("div",{className:"h-full bg-transparent overflow-y-auto",children:[s.jsx("div",{className:"max-w-4xl mx-auto w-full px-4 py-4 space-y-4",children:s.jsx("div",{className:`rounded-3xl p-4 shadow-card border border-white/40 ${f?"bg-gradient-to-b from-[#FFFBEB]/90 via-[#FEF3C7]/80 to-white/90":"bg-gradient-to-b from-[#E9D5FF]/90 via-[#E0E7FF]/80 to-white/90"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Or,{onClick:n}),s.jsxs("div",{className:"flex-1 text-center space-y-0.5",children:[s.jsx("h1",{className:"text-lg font-bold",style:{color:y},children:d}),s.jsxs("p",{className:"text-xs font-medium",style:{color:v},children:[u," "]})]}),r?s.jsx("button",{onClick:r,className:"w-10 h-10 bg-white/95 backdrop-blur-xl rounded-full flex items-center justify-center shadow-card border border-white/60",children:s.jsx(Ki,{className:"w-5 h-5",style:{color:y}})}):s.jsx("div",{className:"w-10 h-10"})]})})}),s.jsx("div",{className:"max-w-4xl mx-auto w-full px-4 pb-6",children:p?s.jsx(LW,{words:e,mode:m,onComplete:i,onWrongAnswer:a}):s.jsx(BW,{words:e,mode:m,onComplete:i,onWrongAnswer:a})})]})}function WW({words:e,onComplete:t,onWrongAnswer:n}){const[r,i]=g.useState(!1),[a,c]=g.useState([]),[d,u]=g.useState(0),[f,p]=g.useState(0),[m,y]=g.useState(0),[v,b]=g.useState(null),[j,S]=g.useState(!1),[N]=g.useState(10),[_,C]=g.useState(10),E=g.useRef();g.useEffect(()=>(r&&d<a.length&&A(),()=>{E.current&&clearInterval(E.current)}),[d,r]);const A=()=>{C(N),E.current&&clearInterval(E.current),E.current=setInterval(()=>{C(ie=>ie<=1?(E.current&&clearInterval(E.current),F(),0):ie-1)},1e3)},F=()=>{const ie=a[d];n&&ie&&n(ie.wordId),setTimeout(()=>{d+1>=a.length?G():(u(J=>J+1),b(null),S(!1))},500)},D=()=>{const J=e.slice(0,Math.min(10,e.length)).map($=>{const L=e.filter(I=>I.id!==$.id).sort(()=>Math.random()-.5).slice(0,3).map(I=>I.meaning),T=[$.meaning,...L].sort(()=>Math.random()-.5),R=T.indexOf($.meaning);return{id:`q-${$.id}`,word:$.word,wordId:$.id,options:T,correctAnswer:R}});c(J)},O=()=>{D(),i(!0),u(0),p(0),y(0),b(null),S(!1)},V=ie=>{if(j)return;const J=a[d];if(b(ie),S(!0),E.current&&clearInterval(E.current),ie===J.correctAnswer){const $=Math.floor(_*2);p(L=>L+10+$),y(L=>L+1)}else n&&n(J.wordId);setTimeout(()=>{d+1>=a.length?G():(u($=>$+1),b(null),S(!1))},1200)},G=()=>{E.current&&clearInterval(E.current),setTimeout(()=>{t(f,m)},500)};if(!r)return s.jsx("div",{className:"h-full flex flex-col items-center justify-center bg-gradient-to-br from-orange-50 via-white to-yellow-50 p-6",children:s.jsxs(M.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-orange-500 to-yellow-500 rounded-3xl flex items-center justify-center shadow-2xl",children:s.jsx(Ks,{className:"w-12 h-12 text-white"})}),s.jsx("h1",{className:"text-2xl mb-3",style:{fontWeight:800,color:"#491B6D"},children:" "}),s.jsxs("p",{className:"text-sm mb-8",style:{color:"#8B5CF6"},children:["    !",s.jsx("br",{}),"   !"]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 mb-8 space-y-3 text-left max-w-xs mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(Qo,{className:"w-4 h-4 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:" 10"}),s.jsx("div",{className:"text-xs",style:{color:"#8B5CF6"},children:"   !"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(hs,{className:"w-4 h-4 text-yellow-500"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:[" ",Math.min(10,e.length),""]}),s.jsx("div",{className:"text-xs",style:{color:"#8B5CF6"},children:" +10 + "})]})]})]}),s.jsx(M.button,{whileTap:{scale:.95},onClick:O,className:"px-12 py-4 bg-gradient-to-r from-orange-500 to-yellow-500 text-white rounded-2xl shadow-xl",children:s.jsx("span",{style:{fontWeight:700},children:" !"})})]})});const ee=a[d];if(!ee)return null;const se=(d+1)/a.length*100;return s.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-orange-50 via-white to-yellow-50 p-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:[" ",d+1,"/",a.length]}),s.jsxs("span",{className:"text-xs",style:{fontWeight:700,color:"#EA580C"},children:[": ",f]})]}),s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx(M.div,{initial:{width:0},animate:{width:`${se}%`},className:"h-full bg-gradient-to-r from-orange-500 to-yellow-500"})})]}),s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"relative w-20 h-20",children:[s.jsxs("svg",{className:"w-20 h-20 transform -rotate-90",children:[s.jsx("circle",{cx:"40",cy:"40",r:"35",stroke:"#FED7AA",strokeWidth:"6",fill:"none"}),s.jsx(M.circle,{cx:"40",cy:"40",r:"35",stroke:"#EA580C",strokeWidth:"6",fill:"none",strokeDasharray:`${2*Math.PI*35}`,initial:{strokeDashoffset:0},animate:{strokeDashoffset:`${2*Math.PI*35*(1-_/N)}`},transition:{duration:.3}})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("span",{className:"text-xl",style:{fontWeight:800,color:"#EA580C"},children:_})})]})}),s.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 text-center",children:s.jsx("div",{className:"inline-block bg-gradient-to-br from-orange-500 to-yellow-500 text-white px-8 py-4 rounded-3xl shadow-2xl",children:s.jsx("h2",{className:"text-2xl",style:{fontWeight:800},children:ee.word})})},d),s.jsx("div",{className:"flex-1 space-y-3",children:ee.options.map((ie,J)=>{const $=v===J,L=J===ee.correctAnswer,T=j;let R="bg-white border-orange-200";return T&&L?R="bg-gradient-to-br from-emerald-400 to-emerald-600 border-emerald-300":T&&$&&!L?R="bg-gradient-to-br from-red-400 to-red-600 border-red-300":$&&(R="bg-orange-100 border-orange-400"),s.jsx(M.button,{whileTap:{scale:j?1:.95},onClick:()=>!j&&V(J),disabled:j,className:`w-full p-4 rounded-2xl border-2 transition-all duration-200 ${R}`,style:{touchAction:"manipulation"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-sm flex-1 text-left ${T&&(L||$&&!L)?"text-white":"text-[#491B6D]"}`,style:{fontWeight:600},children:ie}),T&&L&&s.jsx(Mn,{className:"w-5 h-5 text-white ml-2 flex-shrink-0"}),T&&$&&!L&&s.jsx(yn,{className:"w-5 h-5 text-white ml-2 flex-shrink-0"})]})},J)})})]})}function VW({words:e,onComplete:t,onWrongAnswer:n}){const[r,i]=g.useState(!1),[a,c]=g.useState([]),[d,u]=g.useState(null),[f,p]=g.useState(3),[m,y]=g.useState(0),[v,b]=g.useState(60),[j,S]=g.useState(0),N=g.useRef(),_=g.useRef();g.useEffect(()=>(r&&(E(),C()),()=>{N.current&&cancelAnimationFrame(N.current),_.current&&clearInterval(_.current)}),[r]),g.useEffect(()=>{(f===0||v===0)&&D()},[f,v]);const C=()=>{_.current=setInterval(()=>{b(V=>V<=1?(_.current&&clearInterval(_.current),0):V-1)},1e3)},E=()=>{A();const V=()=>{u(G=>{if(!G)return G;const ee=G.yPosition+G.speed;return ee>100?(p(se=>se-1),n&&n(G.wordId),setTimeout(()=>A(),500),null):{...G,yPosition:ee}}),N.current=requestAnimationFrame(V)};N.current=requestAnimationFrame(V)},A=()=>{if(e.length===0)return;const V=e[Math.floor(Math.random()*e.length)],G=e.filter(J=>J.id!==V.id).sort(()=>Math.random()-.5).slice(0,3).map(J=>J.meaning),ee=[V.meaning,...G].sort(()=>Math.random()-.5),se=ee.indexOf(V.meaning),ie={id:`word-${Date.now()}`,word:V.word,wordId:V.id,options:ee,correctAnswer:se,yPosition:0,speed:.3+m*.02};u(ie)},F=V=>{d&&(V===d.correctAnswer?(y(G=>G+10),S(G=>G+1),u(null),setTimeout(()=>A(),300)):(p(G=>G-1),n&&n(d.wordId),u(null),setTimeout(()=>A(),500)))},D=()=>{N.current&&cancelAnimationFrame(N.current),_.current&&clearInterval(_.current),setTimeout(()=>{t(m,j)},1e3)},O=()=>{i(!0),p(3),y(0),S(0),b(60)};return r?s.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-indigo-50 via-white to-purple-50 relative overflow-hidden",children:[s.jsx("div",{className:"p-4 bg-white/80 backdrop-blur-lg shadow-lg z-20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:[...Array(3)].map((V,G)=>s.jsx(_m,{className:`w-6 h-6 ${G<f?"fill-red-500 text-red-500":"fill-gray-200 text-gray-200"}`},G))}),s.jsxs("div",{className:"flex items-center gap-2 bg-blue-100 px-3 py-1 rounded-full",children:[s.jsx(Xb,{className:"w-4 h-4 text-blue-600"}),s.jsxs("span",{className:"text-sm",style:{fontWeight:700,color:"#1E40AF"},children:[v,"s"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-purple-100 px-4 py-1 rounded-full",children:[s.jsx(hs,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-sm",style:{fontWeight:700,color:"#6B21A8"},children:m})]})]})}),s.jsx("div",{className:"flex-1 relative",children:s.jsx(pt,{children:d&&s.jsx(M.div,{initial:{y:-100},style:{top:`${d.yPosition}%`},className:"absolute left-1/2 -translate-x-1/2 z-10",children:s.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-700 text-white px-6 py-3 rounded-2xl shadow-2xl border-2 border-white/40",children:s.jsx("div",{className:"text-xl text-center",style:{fontWeight:800},children:d.word})})},d.id)})}),d&&s.jsx("div",{className:"p-4 space-y-3 bg-white/90 backdrop-blur-lg z-20",children:d.options.map((V,G)=>s.jsx(M.button,{whileTap:{scale:.95},onClick:()=>F(G),className:"w-full p-4 bg-white border-2 border-purple-200 rounded-2xl text-left shadow-lg",style:{touchAction:"manipulation"},children:s.jsx("span",{className:"text-sm",style:{fontWeight:600,color:"#491B6D"},children:V})},G))})]}):s.jsx("div",{className:"h-full flex flex-col items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6",children:s.jsxs(M.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-3xl flex items-center justify-center shadow-2xl",children:s.jsx(Ks,{className:"w-12 h-12 text-white"})}),s.jsx("h1",{className:"text-2xl mb-3",style:{fontWeight:800,color:"#491B6D"},children:"  "}),s.jsxs("p",{className:"text-sm mb-8",style:{color:"#8B5CF6"},children:["   !",s.jsx("br",{}),"60    !"]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 mb-8 space-y-3 text-left max-w-xs mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(_m,{className:"w-4 h-4 text-red-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:": 3"}),s.jsx("div",{className:"text-xs",style:{color:"#8B5CF6"},children:"  -1"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Xb,{className:"w-4 h-4 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs",style:{fontWeight:700,color:"#491B6D"},children:": 60"}),s.jsx("div",{className:"text-xs",style:{color:"#8B5CF6"},children:"   !"})]})]})]}),s.jsx(M.button,{whileTap:{scale:.95},onClick:O,className:"px-12 py-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-2xl shadow-xl",children:s.jsx("span",{style:{fontWeight:700},children:" !"})})]})})}function UW({words:e,gameType:t,onBack:n,onComplete:r,onWrongAnswer:i}){return s.jsxs("div",{className:"h-full bg-gradient-to-br from-indigo-50 via-white to-purple-50 relative",children:[s.jsx("div",{className:"absolute top-6 left-6 z-30",children:s.jsx(Or,{onClick:n})}),s.jsx("div",{className:"h-full pt-20",children:t==="fall"?s.jsx(VW,{words:e,onComplete:r,onWrongAnswer:i}):s.jsx(WW,{words:e,onComplete:r,onWrongAnswer:i})})]})}function HW({stage:e,currentStageId:t,currentQuestionIndex:n,totalQuestions:r,question:i,selectedAnswers:a,showFeedback:c,lastAnswerCorrect:d,isMultiSelect:u,isSentenceQuestion:f,sentenceTranslationVisible:p,showConfetti:m,ConfettiComponent:y,onBack:v,onBackToHome:b,onAnswerSelect:j,onToggleSentenceTranslation:S,onSubmitAnswer:N,journeyName:_,wordCount:C,isStarredVocabulary:E}){const A=E?"#78350F":"#091A7A",F=E?"#D97706":"#7C3AED";return s.jsxs("div",{className:"h-full bg-transparent overflow-y-auto",children:[m&&s.jsx(y,{}),s.jsxs("div",{className:"max-w-md mx-auto w-full px-4 py-4 space-y-4",children:[s.jsx("div",{className:`rounded-3xl p-4 shadow-card border border-white/40 ${E?"bg-gradient-to-b from-[#FFFBEB]/90 via-[#FEF3C7]/80 to-white/90":"bg-gradient-to-b from-[#E9D5FF]/90 via-[#E0E7FF]/80 to-white/90"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Or,{onClick:v}),s.jsxs("div",{className:"flex-1 text-center space-y-0.5",children:[s.jsx("h1",{className:"text-lg font-bold",style:{color:A},children:_}),s.jsxs("p",{className:"text-xs font-medium",style:{color:F},children:[C," "]})]}),b?s.jsx(M.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:b,className:"w-10 h-10 bg-white/95 backdrop-blur-xl rounded-full flex items-center justify-center shadow-card border border-white/60",children:s.jsx(Ki,{className:"w-5 h-5",style:{color:A}})}):s.jsx("div",{className:"w-10 h-10"})]})}),s.jsxs(M.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-5 shadow-card border border-white/60",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#091A7A] to-[#4F8EFF] rounded-2xl flex items-center justify-center shadow-md",children:s.jsx("div",{className:"w-6 h-6 text-white flex items-center justify-center",children:e?.icon})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-[#091A7A]",children:e?.title}),s.jsxs("p",{className:"text-xs text-[#4F8EFF] mt-0.5",children:["Stage ",t,"  Question ",n+1," / ",r]})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"w-full h-2.5 bg-gray-100 rounded-full overflow-hidden",children:s.jsx(M.div,{initial:{width:0},animate:{width:`${(n+1)/r*100}%`},className:"h-full bg-gradient-to-r from-[#091A7A] to-[#4F8EFF] rounded-full",transition:{duration:.6,ease:"easeOut"}})})})]}),s.jsx(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-5 shadow-card border border-white/60",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-xs font-semibold text-[#7C3AED] text-center",children:["Question ",n+1]}),s.jsx("h2",{className:"text-base font-semibold text-[#091A7A] text-center leading-relaxed",children:i.question}),f&&i.sentenceData&&s.jsxs("div",{className:"space-y-2 text-center",children:[s.jsx("p",{className:"text-sm font-semibold text-[#1E1B4B] leading-relaxed",children:p&&i.sentenceData.translation?i.sentenceData.translation:i.sentenceData.english}),i.sentenceData.translation&&s.jsx("button",{onClick:S,className:"mx-auto px-3 py-1.5 rounded-full bg-[#F4F4FF] text-[#5B21B6] text-xs font-semibold shadow-inner",children:p?" ":" "})]})]})},n),s.jsx("div",{className:u?"grid grid-cols-2 gap-3":"space-y-3",children:i.options.map((D,O)=>{const V=a.includes(O),G=i.correctAnswers?.includes(O)||typeof i.correctAnswer=="number"&&i.correctAnswer===O;let ee="bg-white/95 border-white/60",se="text-[#091A7A]",ie="bg-gray-100 text-gray-500";return c?G?(ee="bg-emerald-50/95 border-emerald-200/60",se="text-emerald-700",ie="bg-emerald-100 text-emerald-600"):V&&(ee="bg-red-50/90 border-red-200/60",se="text-red-700",ie="bg-red-100 text-red-600"):V&&(ee="bg-[#091A7A]/10 border-[#091A7A]/20",se="text-[#091A7A]",ie="bg-[#091A7A] text-white"),s.jsx(M.button,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{delay:.3+O*.05},whileHover:{scale:c?1:1.01},whileTap:{scale:c?1:.98},onClick:()=>j(O),disabled:c,className:`w-full p-3 rounded-2xl backdrop-blur-xl border transition-all duration-300 text-left shadow-sm ${ee}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-2xl flex items-center justify-center font-semibold text-sm ${ie}`,children:String.fromCharCode(65+O)}),s.jsx("span",{className:`font-medium flex-1 text-sm ${se}`,children:D}),c&&G&&s.jsx(Mn,{className:"w-4 h-4 text-emerald-600"})]})},O)})}),s.jsx(pt,{children:c&&s.jsx(M.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{delay:.2},className:`p-5 rounded-2xl backdrop-blur-xl border shadow-card ${d?"bg-emerald-50/95 border-emerald-200/60":"bg-red-50/95 border-red-200/60"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center ${d?"bg-emerald-100":"bg-red-100"}`,children:d?s.jsx(Mn,{className:"w-4 h-4 text-emerald-600"}):s.jsx(gR,{className:"w-4 h-4 text-red-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`font-semibold text-sm mb-1 ${d?"text-emerald-700":"text-red-700"}`,children:d?"!":"  "}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:i.explanation})]})]})})}),!c&&u&&s.jsx(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},className:"pt-1",children:s.jsx("button",{onClick:()=>N(),disabled:!a.length,className:`w-full py-3 rounded-2xl font-semibold shadow-card border transition-all duration-300 ${a.length?"bg-gradient-to-r from-[#7C3AED] to-[#A78BFA] text-white border-transparent":"bg-white/70 text-gray-400 border-gray-200 cursor-not-allowed"}`,children:a.length?" ":" "})})]})]})}const vn=e=>[...e].sort(()=>Math.random()-.5),G1=e=>e?Array.isArray(e)?e.map(t=>typeof t=="string"?t:t?.word||"").map(t=>t.trim()).filter(Boolean):typeof e=="string"?e.split(/[,;/]/).map(t=>t.trim()).filter(Boolean):[]:[],GW=e=>e?Array.isArray(e)?e.map(t=>{if(typeof t=="string"){const[n,r]=t.split(":").map(i=>i.trim());return{word:n,meaning:r||""}}return{word:t?.word?.trim()||"",meaning:t?.meaning?.trim()||""}}).filter(t=>t.word):typeof e=="string"?e.split(/[,;]/).map(t=>{const[n,r]=t.split(":").map(i=>i.trim());return{word:n,meaning:r||""}}).filter(t=>t.word):[]:[],qW=e=>{const t=e?.word||e?.term;if(!t)return null;const n=e?.id||t;return n?{id:String(n),word:t,meaning:e?.meaning||e?.translation||"",translation:e?.translation||"",example:e?.example||e?.example_sentence||"",derivatives:GW(e?.derivatives),synonyms:G1(e?.synonyms),antonyms:G1(e?.antonyms)}:null},em=e=>e&&e.replace(/\([^)]*\)/g,"_____"),q1=(e,t)=>{if(!e||!t)return e;const n=new RegExp(t,"gi");return e.replace(n,"_____")},K1=(e,t)=>({...e,id:t,options:[...e.options],correctAnswers:e.correctAnswers?[...e.correctAnswers]:void 0,wordId:e.wordId,sentenceData:e.sentenceData?{...e.sentenceData}:void 0}),KW=(e,t=20)=>{const n=e.filter(c=>c?.id&&c?.word&&c?.meaning);if(!n.length)return[];const r=n.map(c=>c.meaning);let i=1;const a=[];return vn(n).forEach(c=>{if(a.length>=t)return;const d=vn(r.filter(f=>f&&f!==c.meaning)).slice(0,3);if(d.length<3)return;const u=vn([c.meaning,...d]);a.push({id:i++,type:"multiple-choice",wordId:c.id,word:c.word,question:`${c.word}    ?`,options:u,correctAnswer:u.indexOf(c.meaning),explanation:`${c.word}: ${c.meaning}`})}),a},YW=(e,t=12)=>{const n=e.flatMap(c=>(c?.derivatives||[]).map(d=>({wordId:c.id,root:c.word,derivative:d?.word,meaning:d?.meaning}))).filter(c=>c.wordId&&c.derivative&&c.meaning);if(!n.length)return[];const r=n.map(c=>c.meaning);let i=1;const a=[];return vn(n).forEach(c=>{if(a.length>=t)return;const d=vn(r.filter(f=>f&&f!==c.meaning)).slice(0,3);if(d.length<3)return;const u=vn([c.meaning,...d]);a.push({id:i++,type:"multiple-choice",wordId:c.wordId,question:`'${c.root}'  '${c.derivative}' ?`,options:u,correctAnswer:u.indexOf(c.meaning),explanation:`${c.derivative} (${c.root}): ${c.meaning}`})}),a},XW=(e,t=12)=>{const n=[],r=e.filter(a=>a?.id&&((a?.synonyms?.length||0)>=2||(a?.antonyms?.length||0)>=2)),i=e.map(a=>a.word).filter(Boolean);return vn(r).forEach(a=>{if(n.length>=t)return;const c=(a.synonyms?.length||0)>=2&&((a.antonyms?.length||0)<2||Math.random()>.5),d=c?a.synonyms||[]:a.antonyms||[];if(d.length<2)return;const u=Math.min(d.length,3),f=Math.max(2,u),p=vn(d).slice(0,f),m=vn([...i,...e.flatMap(S=>c?S.synonyms||[]:S.antonyms||[])].filter(S=>S&&!p.includes(S))),y=[...p];if(m.forEach(S=>{y.length>=8||y.includes(S)||y.push(S)}),y.length<8)return;const v=y.filter(S=>!p.includes(S)),b=vn([...p,...vn(v).slice(0,8-p.length)]),j=b.reduce((S,N,_)=>(p.includes(N)&&S.push(_),S),[]);n.push({id:n.length+1,type:"multi-select",wordId:a.id,question:`'${a.word}' ${c?"":""}   (${p.length})`,options:b,correctAnswers:j,explanation:`${c?"":""}: ${p.join(", ")}`})}),n},QW=(e,t=12)=>{const n=e.filter(c=>c?.id&&c?.word&&c?.example);if(!n.length)return[];const r=e.map(c=>c.word).filter(Boolean);let i=1;const a=[];return vn(n).forEach(c=>{if(a.length>=t||!c.word||!c.example)return;const d=vn(r.filter(f=>f&&f!==c.word)).slice(0,3);if(d.length<3)return;const u=vn([c.word,...d]);a.push({id:i++,type:"sentence",wordId:c.id,question:"    .",options:u,correctAnswer:u.indexOf(c.word),explanation:`${c.word}: ${c.meaning||""}`,word:c.word,sentenceData:{english:em(q1(c.example,c.word)),translation:c.translation?em(q1(c.translation,c.word)):em(c.translation||c.meaning||"")}})}),a},JW=(e,t=30)=>{const n=[...e.meaningQuestions,...e.derivativeQuestions,...e.synAntQuestions,...e.sentenceQuestions];if(!n.length)return[];const r=[],i=vn(n);let a=1;for(const c of i){if(r.length>=t)break;r.push(K1(c,a++))}for(;r.length<t&&e.meaningQuestions.length;){const c=e.meaningQuestions[r.length%e.meaningQuestions.length];r.push(K1(c,r.length+1))}return r},ZW=e=>{if(!e||!e.length)return null;const t=e.map(qW).filter(d=>!!d);if(!t.length)return null;const n=KW(t,20);if(!n.length)return null;const r=YW(t,12),i=XW(t,12),a=QW(t,12),c=JW({meaningQuestions:n,derivativeQuestions:r,synAntQuestions:i,sentenceQuestions:a},30);return{1:n,2:r.length?r:n,3:i.length?i:n,4:a.length?a:n,5:c.length?c:n}},Y1={math:[{id:1,title:"Meaning Quiz",icon:s.jsx(hr,{className:"w-6 h-6"}),status:"current",xpReward:50},{id:2,title:"Derivatives",icon:s.jsx(us,{className:"w-6 h-6"}),status:"locked",xpReward:75},{id:3,title:"Synonyms & Antonyms",icon:s.jsx(il,{className:"w-6 h-6"}),status:"locked",xpReward:100},{id:4,title:"Sentence Completion",icon:s.jsx(md,{className:"w-6 h-6"}),status:"locked",xpReward:125},{id:5,title:"All in One",icon:s.jsx(hs,{className:"w-6 h-6"}),status:"locked",xpReward:150}],english:[{id:1,title:"Grammar Basics",icon:s.jsx(hr,{className:"w-6 h-6"}),status:"current",xpReward:50},{id:2,title:"Reading & Writing",icon:s.jsx(us,{className:"w-6 h-6"}),status:"locked",xpReward:75},{id:3,title:"Literary Analysis",icon:s.jsx(il,{className:"w-6 h-6"}),status:"locked",xpReward:100},{id:4,title:"Advanced Composition",icon:s.jsx(md,{className:"w-6 h-6"}),status:"locked",xpReward:125},{id:5,title:"Literary Mastery",icon:s.jsx(hs,{className:"w-6 h-6"}),status:"locked",xpReward:150}],science:[{id:1,title:"Basic Science",icon:s.jsx(hr,{className:"w-6 h-6"}),status:"current",xpReward:50},{id:2,title:"Physical Science",icon:s.jsx(us,{className:"w-6 h-6"}),status:"locked",xpReward:75},{id:3,title:"Biology & Chemistry",icon:s.jsx(il,{className:"w-6 h-6"}),status:"locked",xpReward:100},{id:4,title:"Physics & Earth",icon:s.jsx(md,{className:"w-6 h-6"}),status:"locked",xpReward:125},{id:5,title:"Advanced Science",icon:s.jsx(hs,{className:"w-6 h-6"}),status:"locked",xpReward:150}],social:[{id:1,title:"Civics & Geography",icon:s.jsx(hr,{className:"w-6 h-6"}),status:"current",xpReward:50},{id:2,title:"American History",icon:s.jsx(us,{className:"w-6 h-6"}),status:"locked",xpReward:75},{id:3,title:"World Cultures",icon:s.jsx(il,{className:"w-6 h-6"}),status:"locked",xpReward:100},{id:4,title:"Government & Economics",icon:s.jsx(md,{className:"w-6 h-6"}),status:"locked",xpReward:125},{id:5,title:"Global Studies",icon:s.jsx(hs,{className:"w-6 h-6"}),status:"locked",xpReward:150}]},eV={math:"Voca Master Journey",english:"English Journey",science:"Science Journey",social:"Social Studies Journey"},Po=5,X1={1:["normal","match"],2:["normal","match"],3:["normal"],4:["normal"],5:["normal"]};function Q1({onBack:e,onBackToHome:t,onXPGain:n,userXP:r,selectedSubject:i,vocabularyTitle:a,vocabularyWords:c,onQuizCompletion:d,onWrongAnswer:u,onAddToStarred:f,onMoveToGraveyard:p,onDeletePermanently:m,starredWordIds:y=[],graveyardWordIds:v=[],wrongAnswersWordIds:b=[],getAuthToken:j,onRefreshVocabulary:S,vocabularyId:N,isLoading:_}){const C=i?.id||"math",E=a||eV[C]||"Math Journey",[A,F]=g.useState(Y1[C]||Y1.math),[D,O]=g.useState(null),[V,G]=g.useState(0),[ee,se]=g.useState([]),[ie,J]=g.useState(!1),[$,L]=g.useState(null),[T,R]=g.useState(0),[I,W]=g.useState(!1),[B,K]=g.useState(!1),[U,Z]=g.useState(null),[H,ne]=g.useState(0),[q,le]=g.useState(!1),[fe,ue]=g.useState("normal"),[Ne,Te]=g.useState(null),[Ze,rt]=g.useState(null),[he,Pe]=g.useState(null),ae=!!i,[pe,ke]=g.useState("word-list"),xe=i?.id==="starred",[Ye,it]=g.useState({}),Tt=g.useRef({}),tt=g.useRef(null),mt=g.useRef({}),ct=g.useRef({}),Y=g.useRef({}),[Ee,we]=g.useState(0),We=g.useRef({starred:"",graveyard:"",wrongAnswers:""}),nt=g.useCallback((ge,Ae)=>{const _e=Ae[ge]||[];if(!_e.length)return;const Ke=vn(_e);it(Pt=>({...Pt,[ge]:Ke}))},[]),ut=g.useCallback(ge=>{ge&&(delete Tt.current[ge],delete ct.current[ge],Object.keys(Y.current).forEach(Ae=>{Ae.startsWith(`${ge}:`)&&delete Y.current[Ae]}),mt.current[ge]=(mt.current[ge]||0)+1,we(Ae=>Ae+1))},[]);g.useEffect(()=>{const ge=(y||[]).join("|");ge!==We.current.starred&&(We.current.starred=ge,ut("starred"))},[y,ut]),g.useEffect(()=>{const ge=(v||[]).join("|");ge!==We.current.graveyard&&(We.current.graveyard=ge,ut("graveyard"))},[v,ut]),g.useEffect(()=>{const ge=(b||[]).join("|");ge!==We.current.wrongAnswers&&(We.current.wrongAnswers=ge,ut("wrong-answers"))},[b,ut]);const un=g.useCallback(async()=>{if(console.log("[GameMapQuizScreen] refreshVocabulary called"),S){console.log("[GameMapQuizScreen] Using parent onRefreshVocabulary"),await S();return}console.log("[GameMapQuizScreen] Using local invalidateVocabulary for:",N),N&&ut(N)},[S,N,ut]),[Gt,Xn]=g.useState({1:new Set,2:new Set,3:new Set,4:new Set,5:new Set}),[dt,Sn]=g.useState([]),[$n,kt]=g.useState(!0),[mr,Xt]=g.useState(!1),gt=g.useMemo(()=>ZW(dt),[dt]),wt=g.useMemo(()=>subjectQuestions[C]||subjectQuestions.math,[C]),Oe=g.useMemo(()=>gt||(dt.length>0?{}:wt),[gt,wt,dt.length]),de=g.useMemo(()=>{const ge=dt.flatMap(Ae=>(Ae?.derivatives||[]).map((_e,Ke)=>({id:`${Ae.id}-derivative-${Ke}`,word:_e?.word||_e?.term||"",meaning:_e?.meaning||""}))).filter(Ae=>Ae.word&&Ae.meaning);return{1:dt,2:ge.length?ge:dt,3:dt,4:dt,5:dt}},[dt]),Ce=g.useCallback(ge=>{const Ae=de[ge];return Ae&&Ae.length?Ae:dt},[de,dt]);g.useEffect(()=>{if(c&&c.length>0){console.log(`[GameMapQuizScreen]  Using ${c.length} words from props (unit-filtered)`),Sn(c),kt(!1);return}const ge=i?.id;if(!ge){console.log("[GameMapQuizScreen]  No selectedSubject.id, using sample words"),Sn([]),kt(!1);return}const Ae=mt.current[ge]||0,_e=`${ge}:${Ae}`,Ke=Tt.current[ge];if(Ke&&ct.current[ge]===Ae){Sn(Ke),kt(!1);return}const Pt=Y.current[_e];if(Pt){kt(!0);let Rt=!1;return Pt.then(Qn=>{Rt||(Sn(Qn),kt(!1))}).catch(Qn=>{Rt||(console.error("[GameMapQuizScreen]  Error loading vocabulary words:",Qn),kt(!1))}),()=>{Rt=!0}}if(tt.current===_e)return;let jt=!1;const Ln=(async()=>{const Rt=["starred","graveyard","wrong-answers"].includes(ge);let Qn="";Rt?Qn=`https://${Ge}.supabase.co/functions/v1/server/${ge}`:Qn=`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/${ge}`;const rc=j?j():En,ya=await fetch(Qn,{headers:{Authorization:`Bearer ${rc}`}});if(!ya.ok){const js=await ya.text();throw new Error(js||"Failed to load vocabulary words")}const Jn=await ya.json();console.log("[GameMapQuizScreen]  API response:",Jn);const Mr=[];return Rt?Jn.words&&Array.isArray(Jn.words)?Mr.push(...Jn.words):Array.isArray(Jn)&&Mr.push(...Jn):Jn.units&&Array.isArray(Jn.units)&&Jn.units.forEach(js=>{js.words&&Array.isArray(js.words)&&Mr.push(...js.words)}),console.log(`[GameMapQuizScreen]  Loaded ${Mr.length} words from vocabulary ${ge}`),console.log("[GameMapQuizScreen]  First word:",Mr[0]),Tt.current[ge]=Mr,ct.current[ge]=Ae,Mr})();return Y.current[_e]=Ln,tt.current=_e,kt(!0),console.log("[GameMapQuizScreen]  Loading words for vocabulary ID:",ge),Ln.then(Rt=>{jt||Sn(Rt)}).catch(Rt=>{jt||console.error("[GameMapQuizScreen]  Error loading vocabulary words:",Rt)}).finally(()=>{jt||kt(!1),tt.current===_e&&(tt.current=null),delete Y.current[_e]}),()=>{jt=!0}},[c,i?.id,j,Ee]),g.useEffect(()=>{Xt(!1)},[V,D]);const De=ge=>{if(!A.find(Ke=>Ke.id===ge))return;const _e=X1[ge]||["normal"];if(_e.length===1){const Ke=_e[0];if(Ke==="match"&&Ce(ge).length<Po){alert(`    ${Po}   .`);return}ue(Ke),st(ge,Ke);return}Pe(ge),le(!0)},st=(ge,Ae)=>{if(Ae==="match"&&Ce(ge).length<Po){alert(`    ${Po}   .`);return}if(Ae!=="match"&&!(Oe[ge]||[]).length){if(dt.length>0){const Ke=A.find(Pt=>Pt.id===ge)?.title||" ";alert(`${Ke}   .        .`)}return}O(ge),G(0),R(0),se([]),J(!1),L(null),Z(new Date),ne(0),ue(Ae),le(!1),Pe(null),Xt(!1),nt(ge,Oe),Ae==="match"?Te("card-match-word"):Ae==="game"&&rt(Math.random()>.5?"fall":"speed")},Xe=g.useCallback((ge,Ae)=>{R(ge),ne(ge),W(!0),D&&ge>=3&&F(_e=>_e.map(Ke=>Ke.id===D?{...Ke,status:"completed"}:Ke.id===D+1&&Ke.status==="locked"?{...Ke,status:"current"}:Ke))},[D]),qe=ge=>{if(ie)return;const Ae=D?Ye[D]||Oe[D]:null,_e=Ae?Ae[V]:null;if(_e)if(_e.type==="multi-select")se(Ke=>Ke.includes(ge)?Ke.filter(Pt=>Pt!==ge):[...Ke,ge]);else{const Ke=[ge];se(Ke),setTimeout(()=>{ht(Ke)},120)}},ht=ge=>{if(!D)return;const Ae=Ye[D]||Oe[D]||[],_e=Ae[V],Ke=ge??ee;if(!_e||Ke.length===0)return;let Pt=!1;if(_e.type==="multi-select"&&_e.correctAnswers){const jt=[...Ke].sort(),Ln=[..._e.correctAnswers].sort();Pt=jt.length===Ln.length&&jt.every((Rt,Qn)=>Rt===Ln[Qn])}else typeof _e.correctAnswer=="number"&&(Pt=Ke[0]===_e.correctAnswer);if(J(!0),L(Pt),Pt)R(jt=>jt+1),ne(jt=>jt+1);else{const jt=_e.wordId||_e.word;u&&jt&&u(jt)}setTimeout(()=>{V<Ae.length-1?(G(jt=>jt+1),se([]),J(!1),L(null),Xt(!1)):(se([]),J(!1),L(null),Xt(!1),at())},2500)},at=()=>{if(!(!D||!A.find(Ae=>Ae.id===D)))if(Xn(Ae=>{const _e={...Ae};return _e[D]||(_e[D]=new Set),_e[D].add(fe),_e}),F(Ae=>Ae.map(_e=>_e.id===D?{..._e,status:"completed"}:_e.id===D+1?{..._e,status:"current"}:_e)),D===5){const _e=U?new Date().getTime()-U.getTime():0,Ke=Math.floor(_e/6e4),Pt=Math.floor(_e%6e4/1e3),jt=`${Ke}:${Pt.toString().padStart(2,"0")}`,Ln=Object.values(Oe).flat().length,Rt=Math.round(H/Ln*100);d({xpGained:0,completionTime:jt,accuracy:Rt,totalQuestions:Ln,correctAnswers:H,stageName:E})}else setTimeout(()=>{const Ae=A.find(_e=>_e.id===D+1);Ae&&Ae.status!=="locked"?De(D+1):vt()},800)},vt=()=>{O(null),W(!1),G(0),se([]),J(!1),L(null),Xt(!1),R(0)};if(D){const ge=A.find(jt=>jt.id===D);if(fe==="match"){const jt=D?Ce(D):dt;return jt.length?s.jsx(zW,{words:jt,matchGameType:Ne||"card-match-word",onBack:vt,onBackToHome:t,onComplete:(Ln,Rt)=>Xe(Rt,ge),onWrongAnswer:u,stage:ge,journeyName:E,wordCount:jt.length,isStarredVocabulary:xe}):s.jsx("div",{className:"min-h-screen flex items-center justify-center text-[#091A7A]",children:s.jsx("p",{children:"    ."})})}if(fe==="game"&&dt.length>0)return s.jsx(UW,{words:dt,gameType:Ze||"fall",onBack:vt,onComplete:(jt,Ln)=>Xe(Ln,ge),onWrongAnswer:u});const Ae=D?Ye[D]||Oe[D]||[]:[],_e=Ae[V];if(!_e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center text-[#091A7A]",children:s.jsx("p",{children:"  .    ."})});const Ke=_e.type==="multi-select",Pt=_e.type==="sentence"&&_e.sentenceData;return s.jsx(HW,{stage:ge,currentStageId:D,currentQuestionIndex:V,totalQuestions:Ae.length,question:_e,selectedAnswers:ee,showFeedback:ie,lastAnswerCorrect:$,isMultiSelect:Ke,isSentenceQuestion:!!Pt,sentenceTranslationVisible:mr,onBack:vt,onBackToHome:t,onAnswerSelect:qe,onToggleSentenceTranslation:()=>Xt(jt=>!jt),onSubmitAnswer:ht,journeyName:E,wordCount:dt.length,isStarredVocabulary:xe})}return s.jsxs("div",{className:"h-full bg-transparent relative flex flex-col",children:[s.jsxs("div",{className:`flex-shrink-0 z-50 pdf-print-overlay bg-gradient-to-b ${xe?"from-[#FFFBEB]/80 to-[#FEF3C7]/70":"from-[#D4C5FF] to-transparent"}`,children:[s.jsx("div",{className:"p-6 pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Or,{onClick:e}),s.jsxs("div",{className:"flex-1 mx-4 text-center",children:[s.jsx("h1",{style:{fontSize:"18px",fontWeight:700,color:xe?"#78350F":"#5B21B6"},children:xe?" Starred Words":E}),s.jsxs("p",{style:{fontSize:"12px",fontWeight:500,color:xe?"#D97706":"#A78BFA"},children:[dt.length," "]})]}),t?s.jsx(M.button,{whileTap:{scale:.95},onClick:t,className:"w-10 h-10 bg-white/90 backdrop-blur-md rounded-full flex items-center justify-center shadow-card",children:s.jsx(Ki,{className:"w-5 h-5",style:{color:xe?"#78350F":"#5B21B6"}})}):s.jsx("div",{className:"w-10 h-10"})]})}),s.jsx("div",{className:"px-4 pb-2",children:s.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl border border-white/40 shadow-lg p-1.5",children:s.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[s.jsxs(M.button,{whileTap:{scale:.97},onClick:()=>ke("word-list"),className:`py-2.5 px-2 rounded-xl flex flex-col items-center gap-1 transition-all duration-200 ${pe==="word-list"?xe?"bg-gradient-to-br from-[#F59E0B] to-[#FCD34D] shadow-md":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] shadow-md":"hover:bg-white/50"}`,children:[s.jsx(JR,{className:`w-4 h-4 ${pe==="word-list"?"text-white":xe?"text-[#D97706]":"text-[#7C3AED]"}`}),s.jsx("span",{className:`text-[10px] font-semibold ${pe==="word-list"?"text-white":xe?"text-[#78350F]":"text-[#5B21B6]"}`,children:"Word List"})]}),s.jsxs(M.button,{whileTap:{scale:.97},onClick:()=>ke("quiz-map"),className:`py-2.5 px-2 rounded-xl flex flex-col items-center gap-1 transition-all duration-200 ${pe==="quiz-map"?xe?"bg-gradient-to-br from-[#F59E0B] to-[#FCD34D] shadow-md":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] shadow-md":"hover:bg-white/50"}`,children:[s.jsx(OR,{className:`w-4 h-4 ${pe==="quiz-map"?"text-white":xe?"text-[#D97706]":"text-[#7C3AED]"}`}),s.jsx("span",{className:`text-[10px] font-semibold ${pe==="quiz-map"?"text-white":xe?"text-[#78350F]":"text-[#5B21B6]"}`,children:"Quiz Map"})]}),s.jsxs(M.button,{whileTap:{scale:.97},onClick:()=>ke("flashcards"),className:`py-2.5 px-2 rounded-xl flex flex-col items-center gap-1 transition-all duration-200 ${pe==="flashcards"?xe?"bg-gradient-to-br from-[#F59E0B] to-[#FCD34D] shadow-md":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] shadow-md":"hover:bg-white/50"}`,children:[s.jsx(zR,{className:`w-4 h-4 ${pe==="flashcards"?"text-white":xe?"text-[#D97706]":"text-[#7C3AED]"}`}),s.jsx("span",{className:`text-[10px] font-semibold ${pe==="flashcards"?"text-white":xe?"text-[#78350F]":"text-[#5B21B6]"}`,children:"Flash Cards"})]}),s.jsxs(M.button,{whileTap:{scale:ae?.97:1},onClick:()=>ae&&ke("pdf-print"),className:`py-2.5 px-2 rounded-xl flex flex-col items-center gap-1 transition-all duration-200 ${pe==="pdf-print"?xe?"bg-gradient-to-br from-[#F59E0B] to-[#FCD34D] shadow-md":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] shadow-md":ae?"hover:bg-white/50":"opacity-40 cursor-not-allowed"}`,children:[s.jsx(Em,{className:`w-4 h-4 ${pe==="pdf-print"?"text-white":xe?"text-[#D97706]":"text-[#7C3AED]"}`}),s.jsx("span",{className:`text-[10px] font-semibold ${pe==="pdf-print"?"text-white":xe?"text-[#78350F]":"text-[#5B21B6]"}`,children:"PDF Print"})]})]})})})]}),s.jsx("div",{className:"flex-1 relative z-10 overflow-hidden",children:s.jsxs(pt,{mode:"wait",children:[pe==="word-list"&&s.jsx(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full",children:s.jsx(ku,{onBack:e,onBackToHome:t,vocabularyTitle:i?.name||" ",unitName:"Unit 1",vocabularyWords:dt,starredWordIds:y,graveyardWordIds:v,wrongAnswersWordIds:b,isLoading:_,vocabularyId:N,onAddToStarred:f,onMoveToGraveyard:p,onDeletePermanently:m,onStartFlashcards:()=>{console.log("[GameMapQuizScreen]  Flashcard button clicked in WordList! Setting activeTab to flashcards"),ke("flashcards")},onRefreshVocabulary:un,hideHeader:!0})},"word-list"),pe==="quiz-map"&&s.jsx(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full overflow-y-auto scrollbar-hide",children:s.jsxs("div",{className:"max-w-sm mx-auto relative pt-2 pb-4",children:[s.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-0",viewBox:"0 0 300 500",preserveAspectRatio:"xMidYMin meet",children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"pathGradientTab",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:xe?"#FEF3C7":"#DDD6FE",stopOpacity:"0.8"}),s.jsx("stop",{offset:"30%",stopColor:xe?"#FCD34D":"#C4B5FD",stopOpacity:"0.5"}),s.jsx("stop",{offset:"70%",stopColor:xe?"#F59E0B":"#A78BFA",stopOpacity:"0.5"}),s.jsx("stop",{offset:"100%",stopColor:xe?"#FEF3C7":"#DDD6FE",stopOpacity:"0.8"})]}),s.jsxs("filter",{id:"pathGlowTab",children:[s.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),s.jsxs("feMerge",{children:[s.jsx("feMergeNode",{in:"coloredBlur"}),s.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),s.jsx(M.path,{d:`M 150 30
                       C 150 45, 120 70, 90 110
                       C 60 150, 140 170, 210 200
                       C 280 230, 180 250, 90 290
                       C 0 330, 120 350, 150 390`,stroke:"url(#pathGradientTab)",strokeWidth:"4",fill:"none",strokeLinecap:"round",filter:"url(#pathGlowTab)",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:2,ease:"easeInOut"}})]}),s.jsx("div",{className:"relative z-10",children:A.map((ge,Ae)=>{const Ke=[{x:"50%",y:"30px",transform:"translateX(-50%)"},{x:"25%",y:"110px",transform:"translateX(-50%)"},{x:"65%",y:"200px",transform:"translateX(-50%)"},{x:"25%",y:"290px",transform:"translateX(-50%)"},{x:"50%",y:"380px",transform:"translateX(-50%)"}][Ae];return s.jsxs(M.div,{initial:{opacity:0,scale:.8,y:30},animate:{opacity:1,scale:1,y:0},transition:{delay:Ae*.15,duration:.7,ease:[.34,1.56,.64,1]},className:"absolute",style:{left:Ke.x,top:Ke.y,transform:Ke.transform},children:[s.jsxs(M.button,{whileTap:{scale:.92},onClick:()=>De(ge.id),className:`relative w-[72px] h-[72px] rounded-3xl flex items-center justify-center transition-all duration-300 backdrop-blur-lg border-2 ${ge.status==="completed"?"bg-gradient-to-br from-emerald-400 via-emerald-500 to-emerald-600 border-white/30 text-white shadow-xl shadow-emerald-500/40":ge.status==="current"?xe?"bg-gradient-to-br from-[#F59E0B] via-[#FBBF24] to-[#FCD34D] border-white/30 text-white shadow-xl shadow-amber-500/40":"bg-gradient-to-br from-[#7C3AED] via-[#8B5CF6] to-[#A78BFA] border-white/30 text-white shadow-xl shadow-purple-500/40":"bg-white/70 border-white/50 text-gray-400 shadow-md"}`,children:[ge.status==="completed"?s.jsx(M.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.4,type:"spring",stiffness:300,damping:15},children:s.jsx(Mn,{className:"w-8 h-8 drop-shadow-lg"})}):s.jsx("div",{className:"relative",children:s.jsx("div",{className:`w-6 h-6 ${ge.status==="locked"?"opacity-40":""}`,children:ge.icon})}),s.jsx("div",{className:`absolute -top-1.5 -right-1.5 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold shadow-lg ${ge.status==="completed"?"bg-white text-emerald-600":ge.status==="current"?xe?"bg-white text-amber-600":"bg-white text-purple-600":"bg-gray-200 text-gray-500"}`,children:ge.id}),ge.status==="current"&&s.jsxs(s.Fragment,{children:[s.jsx(M.div,{animate:{scale:[1,1.3,1],opacity:[.6,0,.6]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},className:`absolute inset-0 ${xe?"bg-amber-400":"bg-purple-400"} rounded-3xl blur-lg -z-10`}),s.jsx(M.div,{animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-3xl -z-10",style:{background:xe?"conic-gradient(from 0deg, transparent 0deg, rgba(251, 191, 36, 0.3) 90deg, transparent 180deg)":"conic-gradient(from 0deg, transparent 0deg, rgba(167, 139, 250, 0.3) 90deg, transparent 180deg)"}})]}),ge.status==="completed"&&s.jsx(M.div,{animate:{scale:[1,1.15,1],opacity:[.5,.8,.5]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-emerald-400 rounded-3xl blur-xl -z-10"})]}),s.jsx(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Ae*.15+.5},className:"absolute top-[78px] text-center z-20 max-w-[130px]",style:{left:Ae===3?"-15px":Ae===1?"0px":Ae===0||Ae===2?"26px":"36px",transform:Ae===1?"translateX(-100%)":Ae===3?"translateX(-120%)":"translateX(-50%)"},children:s.jsx("div",{className:`px-2.5 py-1.5 rounded-xl backdrop-blur-lg shadow-md border ${ge.status==="completed"?"bg-emerald-50/95 border-emerald-200/60 text-emerald-700":ge.status==="current"?xe?"bg-white/95 border-amber-200/60 text-amber-700":"bg-white/95 border-purple-200/60 text-purple-700":"bg-white/80 border-white/40 text-gray-500"}`,children:s.jsx("div",{className:`text-[11px] ${ge.status==="completed"?"font-semibold":"font-medium"}`,children:ge.title})})})]},ge.id)})}),s.jsx(M.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.8},className:"mt-[500px] mx-4 p-5 bg-white/95 backdrop-blur-xl rounded-3xl border-2 border-white/60 shadow-2xl",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[s.jsx(ur,{className:`w-4 h-4 ${xe?"text-amber-500":"text-purple-500"}`}),s.jsx("h3",{className:`text-sm ${xe?"text-amber-700":"text-purple-700"}`,style:{fontWeight:700},children:"Your Progress"}),s.jsx(ur,{className:`w-4 h-4 ${xe?"text-amber-500":"text-purple-500"}`})]}),s.jsx("p",{className:`text-xs ${xe?"text-amber-400":"text-purple-400"}`,children:E})]}),s.jsxs("div",{className:"flex items-center justify-center gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(M.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1.5,type:"spring",stiffness:200},className:`text-2xl bg-gradient-to-br ${xe?"from-amber-600 to-amber-400":"from-purple-600 to-purple-400"} bg-clip-text text-transparent mb-1`,style:{fontWeight:700},children:A.filter(ge=>ge.status==="completed").length}),s.jsx("div",{className:`text-xs ${xe?"text-amber-500":"text-purple-500"}`,style:{fontWeight:600},children:"Completed"})]}),s.jsx("div",{className:`w-px h-10 bg-gradient-to-b from-transparent ${xe?"via-amber-200":"via-purple-200"} to-transparent`}),s.jsxs("div",{className:"text-center",children:[s.jsx(M.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1.6,type:"spring",stiffness:200},className:"text-2xl text-gray-300 mb-1",style:{fontWeight:700},children:A.filter(ge=>ge.status==="locked").length}),s.jsx("div",{className:"text-xs text-gray-400",style:{fontWeight:600},children:"Remaining"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("div",{className:`w-full h-2.5 ${xe?"bg-amber-100/60":"bg-purple-100/60"} rounded-full overflow-hidden shadow-inner`,children:s.jsx(M.div,{initial:{width:0},animate:{width:`${A.filter(ge=>ge.status==="completed").length/A.length*100}%`},transition:{delay:2,duration:1.5,ease:[.34,1.56,.64,1]},className:`h-full bg-gradient-to-r ${xe?"from-amber-500 via-amber-400 to-amber-500":"from-purple-500 via-purple-400 to-purple-500"} rounded-full shadow-lg relative`,children:s.jsx(M.div,{animate:{x:[-20,100],opacity:[0,1,0]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent"})})}),s.jsxs("div",{className:`text-[10px] ${xe?"text-amber-400":"text-purple-400"}`,style:{fontWeight:600},children:[Math.round(A.filter(ge=>ge.status==="completed").length/A.length*100),"% Complete"]})]})]})})]})},"quiz-map"),pe==="flashcards"&&s.jsx(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full",children:s.jsx(lC,{onBack:()=>ke("word-list"),onBackToHome:t,vocabularyWords:dt,starredWordIds:y,graveyardWordIds:v,vocabularyId:N,vocabularyTitle:i?.name,onAddToStarred:f,onMoveToGraveyard:p,onRefreshVocabulary:un,hideHeader:!0})},"flashcards"),pe==="pdf-print"&&ae&&s.jsx(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full",children:s.jsx($W,{onBack:()=>ke("word-list"),vocabularyId:i?.id||"",vocabularyTitle:i?.name||"",words:dt,hideHeader:!0})},"pdf-print")]})}),s.jsx(pt,{children:q&&s.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex items-center justify-center p-6",onClick:()=>{le(!1),Pe(null)},children:s.jsxs(M.div,{initial:{scale:.8,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:20},transition:{type:"spring",damping:20},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-6 shadow-2xl border-2 border-white/60 max-w-sm w-full",onClick:ge=>ge.stopPropagation(),children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-lg mb-1",style:{fontWeight:700,color:"#491B6D"},children:"  "}),s.jsx("p",{className:"text-xs",style:{color:"#8B5CF6"},children:"   "})]}),(()=>{const ge=he?X1[he]||["normal"]:[];return s.jsxs("div",{className:"space-y-3",children:[ge.includes("normal")&&s.jsxs(M.button,{whileTap:{scale:.95},onClick:()=>he&&st(he,"normal"),className:`w-full p-4 rounded-2xl shadow-lg flex items-center justify-between relative ${he&&Gt[he]?.has("normal")?"bg-gradient-to-br from-emerald-400 to-emerald-600 text-white":"bg-gradient-to-br from-[#7C3AED] to-[#A78BFA] text-white"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:s.jsx(hr,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-sm",style:{fontWeight:700},children:"Normal"}),s.jsx("div",{className:"text-xs opacity-80",children:"  "})]})]}),he&&Gt[he]?.has("normal")?s.jsx(Mn,{className:"w-5 h-5"}):s.jsx(Xo,{className:"w-5 h-5"})]}),ge.includes("match")&&(()=>{const Ae=he?Ce(he).length:0,_e=Ae<Po;return s.jsxs(M.button,{whileTap:{scale:_e?1:.95},onClick:()=>{_e||!he||st(he,"match")},className:`w-full p-4 rounded-2xl shadow-md flex items-center justify-between ${_e?"bg-gray-100 border-2 border-dashed border-gray-300 text-gray-400 cursor-not-allowed":he&&Gt[he]?.has("match")?"bg-gradient-to-br from-emerald-400 to-emerald-600 text-white border-2 border-emerald-300":"bg-white border-2 border-[#A78BFA]"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${_e?"bg-gray-200":he&&Gt[he]?.has("match")?"bg-white/20":"bg-[#EDE9FE]"}`,children:s.jsx(il,{className:`w-5 h-5 ${_e?"text-gray-400":he&&Gt[he]?.has("match")?"text-white":"text-[#7C3AED]"}`})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-sm",style:{fontWeight:700,color:_e?"#9CA3AF":he&&Gt[he]?.has("match")?"#fff":"#491B6D"},children:"Match"}),s.jsx("div",{className:"text-xs",style:{color:_e?"#9CA3AF":he&&Gt[he]?.has("match")?"rgba(255,255,255,0.8)":"#8B5CF6"},children:_e?`  (${Ae}/${Po})`:"-  "})]})]}),he&&Gt[he]?.has("match")?s.jsx(Mn,{className:"w-5 h-5 text-white"}):_e?s.jsx("span",{className:"text-xs text-gray-400",children:""}):s.jsx(Xo,{className:"w-5 h-5 text-[#7C3AED]"})]})})()]})})(),s.jsx(M.button,{whileTap:{scale:.95},onClick:()=>{le(!1),Pe(null)},className:"mt-4 w-full p-3 bg-gray-100 rounded-xl",children:s.jsx("span",{className:"text-sm",style:{fontWeight:600,color:"#6B7280"},children:""})})]})})})]})}function tV({onBack:e,onRetakeQuiz:t,onNextChallenge:n,userXP:r,xpGained:i,completionTime:a,accuracy:c,totalQuestions:d,correctAnswers:u,stageName:f}){const[p,m]=g.useState(!0),[y,v]=g.useState(0),b=[{icon:s.jsx(hr,{className:"w-6 h-6"}),label:"Accuracy",value:`${c}%`,color:"emerald"},{icon:s.jsx(Qo,{className:"w-6 h-6"}),label:"Time",value:a,color:"blue"},{icon:s.jsx(tS,{className:"w-6 h-6"}),label:"Correct",value:`${u}/${d}`,color:"green"},{icon:s.jsx(gS,{className:"w-6 h-6"}),label:"XP Gained",value:`+${i}`,color:"purple"}];g.useEffect(()=>{const _=setTimeout(()=>m(!1),4e3);return()=>clearTimeout(_)},[]),g.useEffect(()=>{const _=setInterval(()=>{v(C=>(C+1)%b.length)},2e3);return()=>clearInterval(_)},[]);const S=c>=90?{level:"Excellent",color:"emerald",emoji:""}:c>=80?{level:"Great",color:"blue",emoji:""}:c>=70?{level:"Good",color:"orange",emoji:""}:{level:"Keep Practicing",color:"gray",emoji:""},N=()=>s.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:[...Array(50)].map((_,C)=>s.jsx(M.div,{initial:{y:-100,x:Math.random()*window.innerWidth,rotate:0,opacity:1},animate:{y:window.innerHeight+100,rotate:360,opacity:0},transition:{duration:Math.random()*3+2,delay:Math.random()*2,ease:"easeOut"},className:`absolute w-3 h-3 ${C%4===0?"bg-yellow-400":C%4===1?"bg-blue-400":C%4===2?"bg-emerald-400":"bg-purple-400"} rounded-full`},C))});return s.jsxs("div",{className:"h-full relative overflow-hidden",children:[p&&s.jsx(N,{}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx(M.div,{animate:{scale:[1,1.2,1],rotate:[0,10,0],opacity:[.1,.2,.1]},transition:{duration:8,repeat:1/0},className:"absolute -top-20 -right-20 w-60 h-60 bg-gradient-to-br from-[#091A7A]/10 to-[#4F8EFF]/10 rounded-full blur-3xl"}),s.jsx(M.div,{animate:{scale:[1,1.1,1],rotate:[0,-15,0],opacity:[.1,.15,.1]},transition:{duration:10,repeat:1/0,delay:2},className:"absolute -bottom-20 -left-20 w-80 h-80 bg-gradient-to-br from-[#ADC8FF]/10 to-[#4F8EFF]/10 rounded-full blur-3xl"})]}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[s.jsxs("div",{className:"pt-12 px-6 text-center",children:[s.jsx(M.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.3},className:"mb-6",children:s.jsxs("div",{className:"relative inline-flex",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center shadow-2xl shadow-yellow-500/25",children:s.jsx(hs,{className:"w-12 h-12 text-white"})}),s.jsxs(M.div,{animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear"},className:"absolute inset-0",children:[s.jsx(ur,{className:"absolute -top-2 left-2 w-4 h-4 text-yellow-400"}),s.jsx(ur,{className:"absolute top-2 -right-2 w-5 h-5 text-orange-400"}),s.jsx(ur,{className:"absolute -bottom-2 right-2 w-3 h-3 text-yellow-500"}),s.jsx(ur,{className:"absolute bottom-2 -left-2 w-4 h-4 text-orange-300"})]})]})}),s.jsxs(M.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-8",children:[s.jsxs("h1",{className:"text-2xl font-bold text-[#091A7A] mb-2",children:[f," Complete! "]}),s.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium ${S.color==="emerald"?"bg-emerald-100 text-emerald-700":S.color==="blue"?"bg-blue-100 text-blue-700":S.color==="orange"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`,children:[s.jsx("span",{children:S.emoji}),s.jsx("span",{children:S.level})]})]})]}),s.jsx("div",{className:"px-6 mb-8",children:s.jsxs(M.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white/95 backdrop-blur-xl rounded-3xl p-6 shadow-lg border border-white/40",children:[s.jsx("h2",{className:"text-lg font-semibold text-[#091A7A] text-center mb-6",children:"Your Performance"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:b.map((_,C)=>s.jsxs(M.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1+C*.1},className:`p-4 rounded-2xl border transition-all duration-300 ${y===C?"bg-[#091A7A]/5 border-[#091A7A]/20 shadow-lg":"bg-gray-50/50 border-gray-100"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-xl mb-3 flex items-center justify-center ${_.color==="emerald"?"bg-emerald-100 text-emerald-600":_.color==="blue"?"bg-blue-100 text-blue-600":_.color==="green"?"bg-green-100 text-green-600":_.color==="purple"?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600"}`,children:_.icon}),s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:_.label}),s.jsx("p",{className:"text-lg font-bold text-[#091A7A]",children:_.value})]},_.label))})]})}),s.jsx("div",{className:"px-6 mb-8",children:s.jsxs(M.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:1.2},className:"bg-gradient-to-r from-[#091A7A]/5 to-[#4F8EFF]/5 backdrop-blur-xl rounded-3xl p-6 border border-[#ADC8FF]/30",children:[s.jsx("h3",{className:"font-semibold text-[#091A7A] mb-4 text-center",children:"Rewards Earned"}),s.jsxs("div",{className:"flex items-center justify-center gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-2xl flex items-center justify-center mb-2 mx-auto",children:s.jsx(ys,{className:"w-6 h-6 text-yellow-600"})}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"XP Gained"}),s.jsxs("p",{className:"font-bold text-[#091A7A]",children:["+",i]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-2xl flex items-center justify-center mb-2 mx-auto",children:s.jsx(c6,{className:"w-6 h-6 text-purple-600"})}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Badge"}),s.jsx("p",{className:"font-bold text-[#091A7A] text-xs",children:"Quiz Master"})]})]})]})}),s.jsxs("div",{className:"flex-1 flex flex-col justify-end px-6 pb-8 space-y-4",children:[s.jsxs(M.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.4},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:n,className:"w-full bg-gradient-to-r from-[#091A7A] to-[#4F8EFF] text-white py-4 rounded-2xl font-semibold shadow-lg flex items-center justify-center gap-2",children:[s.jsx("span",{children:"Continue Learning"}),s.jsx(Z2,{className:"w-5 h-5"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(M.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.5},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"flex-1 bg-white/90 backdrop-blur-xl border border-white/40 text-[#091A7A] py-3 rounded-2xl font-medium shadow-sm flex items-center justify-center gap-2",children:[s.jsx(ql,{className:"w-4 h-4"}),s.jsx("span",{children:"Retake"})]}),s.jsxs(M.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.6},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{},className:"flex-1 bg-white/90 backdrop-blur-xl border border-white/40 text-[#091A7A] py-3 rounded-2xl font-medium shadow-sm flex items-center justify-center gap-2",children:[s.jsx(A6,{className:"w-4 h-4"}),s.jsx("span",{children:"Share"})]}),s.jsx(M.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.7},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-4 bg-white/90 backdrop-blur-xl border border-white/40 text-[#091A7A] py-3 rounded-2xl font-medium shadow-sm",children:"Home"})]})]})]})]})}const nV=[{icon:pS,text:"  ?",category:"",prompt:"      ,    :"},{icon:YR,text:"   ?",category:"",prompt:"         :"},{icon:aS,text:"   .",category:"",prompt:"        ,  :"},{icon:F6,text:"  ? ?",category:"",prompt:"    .  , ,      :"}],tm=3,rV=1500,sV=e=>new Promise(t=>setTimeout(t,e)),iV=e=>{if(!e)return"";const t=e.replace(/\r/g,"").replace(/\t/g," ").replace(/--([^-\n]+)--/g,"$1").replace(/#{1,3}\s*/g,"").replace(/---+/g,"").replace(/[*]/g,"-").trim();if(!t)return"";const n=new Set,r=[];let i=!1;const a=t.replace(/[ ]{2,}/g," ");for(const d of a.split(`
`)){const u=d.trim();if(!u){!i&&r.length>0&&(i=!0);continue}i&&(r.push(""),i=!1);const f=u.toLowerCase();n.has(f)||(n.add(f),r.push(u))}return r.join(`
`).replace(/\n{3,}/g,`

`).replace(/\n{2,}/g,`

`).trim()};function oV({onBack:e}){const[t,n]=g.useState(()=>{const E=localStorage.getItem("aiTutorMessages");return E?JSON.parse(E).map(F=>({...F,timestamp:new Date(F.timestamp)})):[{id:"1",text:"!   JEJEVOCA AI .         .     ,  !",isUser:!1,timestamp:new Date}]}),[r,i]=g.useState(""),[a,c]=g.useState(!1),d=g.useRef(null),[u,f]=g.useState(!1),[p,m]=g.useState(null);g.useEffect(()=>{localStorage.setItem("aiTutorMessages",JSON.stringify(t))},[t]),g.useEffect(()=>{const E=sessionStorage.getItem("tutorContext"),A=sessionStorage.getItem("tutorInitialQuestion");E&&A&&(sessionStorage.removeItem("tutorContext"),sessionStorage.removeItem("tutorInitialQuestion"),setTimeout(()=>{i(A),N(E)},500))},[]);const y=()=>{d.current?.scrollIntoView({behavior:"smooth"})};g.useEffect(()=>{y()},[t,a]);const v=async E=>{const F=[...t.filter(V=>!V.isLoading).map(V=>({role:V.isUser?"user":"model",parts:[{text:V.text}]})),{role:"user",parts:[{text:E}]}],D=`https://${Ge}.supabase.co/functions/v1/server/ai-chat`;let O=null;for(let V=1;V<=tm;V++)try{const G=await fetch(D,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${En}`},body:JSON.stringify({conversationHistory:F})}),ee=await G.text();let se={};try{se=ee?JSON.parse(ee):{}}catch($){console.warn("API response is not JSON, falling back to text:",ee,$),se={message:ee}}if(!G.ok)throw console.error("API Error Response:",se),new Error(se.error||se.message||G.statusText||"API request failed");const ie=se.message||se.response||ee||"",J=iV(ie);return console.log("API Success Response:",se),J||ie||".     ."}catch(G){if(O=G instanceof Error?G:new Error(String(G)),console.warn(`Gemini request failed (attempt ${V}/${tm}):`,O),V<tm){await sV(rV);continue}return console.error("Gemini API Error:",O),".     .  . : "+O.message}return".     .  ."},b=E=>{if(m(E),E.category===""){const A={id:Date.now().toString(),text:E.text,isUser:!0,timestamp:new Date};n(F=>[...F,A]),_(E.prompt)}else f(!0),i("")},j=()=>{if(!r.trim()||!p)return;const E={id:Date.now().toString(),text:`${p.text}
: "${r}"`,isUser:!0,timestamp:new Date};n(F=>[...F,E]);const A=`${p.prompt} "${r}"`;_(A),i(""),f(!1),m(null)},S=()=>{const E={id:"1",text:"!   JEJEVOCA AI .         .     ,  !",isUser:!1,timestamp:new Date};n([E]),localStorage.setItem("aiTutorMessages",JSON.stringify([E])),ce.info("  .")},N=async E=>{const A=E||r;if(!A.trim())return;const F={id:Date.now().toString(),text:E?r:A,isUser:!0,timestamp:new Date};n(O=>[...O,F]);const D=E||r;E||i(""),_(D)},_=async E=>{c(!0);const A={id:"loading-"+Date.now(),text:" ...",isUser:!1,timestamp:new Date,isLoading:!0};n(O=>[...O,A]);const F=await v(E);n(O=>O.filter(V=>!V.isLoading));const D={id:Date.now().toString(),text:F,isUser:!1,timestamp:new Date};n(O=>[...O,D]),c(!1)},C=()=>s.jsx(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex justify-start",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#C4B5FD] to-[#A78BFA] flex items-center justify-center",children:s.jsx(Cm,{className:"w-4 h-4 text-[#491B6D]"})}),s.jsx("div",{className:"bg-white/80 border border-white/60 rounded-2xl rounded-tl-md p-4",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(M.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:0},className:"w-2 h-2 bg-[#491B6D]/60 rounded-full"}),s.jsx(M.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:.2},className:"w-2 h-2 bg-[#491B6D]/60 rounded-full"}),s.jsx(M.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:.4},className:"w-2 h-2 bg-[#491B6D]/60 rounded-full"})]})})]})});return s.jsxs("div",{className:"h-full flex flex-col bg-transparent",children:[s.jsx("div",{className:"relative overflow-hidden",style:{background:"transparent"},children:s.jsxs("div",{className:"flex items-center justify-between p-6 backdrop-blur-xl border-b border-white/20",children:[s.jsx(Or,{onClick:e}),s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-lg",style:{fontWeight:700,color:"#091A7A"},children:"JEJEVOCA AI "}),s.jsx("p",{className:"text-xs",style:{color:"#6B7280"},children:"    "})]}),s.jsx(M.button,{whileTap:{scale:.95},onClick:S,className:"w-11 h-11 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/40",style:{minWidth:"44px",minHeight:"44px"},children:s.jsx(ql,{className:"w-5 h-5 text-[#491B6D]"})})]})}),s.jsx(pt,{children:t.length===1&&!u&&s.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-6 space-y-4",children:[s.jsx("div",{className:"text-center space-y-2",children:s.jsx("p",{className:"text-sm",style:{fontWeight:600,color:"#491B6D"},children:"  ?"})}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:nV.map((E,A)=>s.jsxs(M.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:A*.1},whileTap:{scale:.95},onClick:()=>b(E),className:"p-4 bg-white/80 backdrop-blur-sm rounded-2xl border border-[#A78BFA]/30 shadow-md active:shadow-lg transition-all duration-300 flex flex-col items-center justify-center text-center",children:[s.jsx(E.icon,{className:"w-6 h-6 mb-2",style:{color:"#8B5CF6"}}),s.jsx("p",{className:"text-xs mb-2",style:{fontWeight:600,color:"#491B6D"},children:E.text}),s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"rgba(139, 92, 246, 0.15)",color:"#8B5CF6"},children:E.category})]},A))})]})}),s.jsx(pt,{children:u&&p&&s.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"rgba(0, 0, 0, 0.7)"},onClick:()=>{f(!1),m(null),i("")},children:s.jsxs(M.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.15},onClick:E=>E.stopPropagation(),className:"bg-white rounded-2xl p-6 border border-[#A78BFA]/30 shadow-2xl w-full max-w-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(p.icon,{className:"w-6 h-6",style:{color:"#8B5CF6"}}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm",style:{fontWeight:700,color:"#491B6D"},children:p.category}),s.jsx("p",{className:"text-xs",style:{color:"#8B5CF6"},children:p.text})]})]}),s.jsx("input",{type:"text",value:r,onChange:E=>i(E.target.value),onKeyPress:E=>E.key==="Enter"&&j(),placeholder:"  (: ambiguous)",className:"w-full p-3 mb-3 bg-white border-2 rounded-xl focus:outline-none focus:ring-2",style:{borderColor:"#C4B5FD",color:"#491B6D"},autoFocus:!0}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(M.button,{whileTap:{scale:.95},onClick:()=>{f(!1),m(null),i("")},className:"px-5 py-2 rounded-lg",style:{backgroundColor:"#F3F4F6",color:"#6B7280",fontWeight:600,fontSize:"14px"},children:""}),s.jsx(M.button,{whileTap:{scale:.95},onClick:j,disabled:!r.trim(),className:"px-5 py-2 rounded-lg text-white",style:{backgroundColor:r.trim()?"#8B5CF6":"#D1D5DB",fontWeight:600,fontSize:"14px"},children:""})]})]})})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 scrollbar-hide",children:[t.map((E,A)=>s.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.05},className:`flex ${E.isUser?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[85%] ${E.isUser?"order-1":"order-2"}`,children:s.jsxs("div",{className:`flex items-start gap-3 ${E.isUser?"flex-row-reverse":"flex-row"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${E.isUser?"bg-[#491B6D]":"bg-gradient-to-br from-[#C4B5FD] to-[#A78BFA]"}`,children:E.isUser?s.jsx(xS,{className:"w-4 h-4 text-white"}):s.jsx(Cm,{className:"w-4 h-4 text-[#491B6D]"})}),s.jsxs("div",{className:`p-4 rounded-2xl shadow-sm ${E.isUser?"bg-[#491B6D] text-white rounded-tr-md":"bg-white/90 rounded-tl-md border border-white/60"}`,style:E.isUser?{}:{color:"#491B6D"},children:[s.jsx("div",{className:"space-y-2",children:E.isUser?s.jsx("div",{className:"text-[12px] whitespace-pre-wrap leading-relaxed",children:E.text}):Go(E.text)}),s.jsx("div",{className:`text-xs mt-2 ${E.isUser?"text-white/70":"opacity-50"}`,children:E.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})})},E.id)),s.jsx(pt,{children:a&&s.jsx(C,{})}),s.jsx("div",{ref:d})]}),s.jsxs("div",{className:"bg-white/90 backdrop-blur-sm border-t border-white/30 px-[20px] py-[16px]",children:[s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsx("div",{className:"flex-1 relative",children:s.jsx("input",{type:"text",value:r,onChange:E=>i(E.target.value),onKeyPress:E=>E.key==="Enter"&&!E.shiftKey&&N(),placeholder:" ...",className:"w-full p-4 pr-12 bg-white border-2 rounded-2xl focus:outline-none focus:ring-2 transition-all duration-200 text-sm",style:{borderColor:"#C4B5FD",color:"#491B6D"},disabled:a||u})}),s.jsx(M.button,{whileTap:{scale:.95},onClick:N,disabled:!r.trim()||a||u,className:`w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg transition-all duration-200 ${r.trim()&&!a&&!u?"bg-gradient-to-br from-[#8B5CF6] to-[#7C3AED] text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:s.jsx(C6,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs mt-2 text-center",style:{color:"#8B5CF6",opacity:.6},children:"AI   .   ."})]})]})}const aV={application_end:"#f43f5e",exam_date:"#2563eb",result_date:"#22c55e"};function LC({onBack:e}){const t=g.useMemo(()=>Yn(),[]),[n,r]=g.useState(null),[i,a]=g.useState(""),[c,d]=g.useState([]),[u,f]=g.useState([]),[p,m]=g.useState(new Date),[y,v]=g.useState(new Date),[b,j]=g.useState([]),[S,N]=g.useState(!0),[_,C]=g.useState(""),[E,A]=g.useState([]);g.useEffect(()=>{t.auth.getUser().then(({data:I})=>{r(I.user?.id||null)})},[]);const F=async()=>{if(!n)return;N(!0);const{data:I}=await t.from("student_applications").select("id,status,universities(name,application_start,application_end,exam_date,result_date),departments(name)").eq("student_id",n),W=I?.map(B=>({id:B.id,status:B.status,university_name:B.universities?.name,department_name:B.departments?.name,...B.universities}))||[];f(W),N(!1)};g.useEffect(()=>{F()},[n]),g.useEffect(()=>{const I=[];u.forEach(W=>{["application_end","exam_date","result_date"].forEach(B=>{const K=W?.[B];K&&I.push({id:`${W.id}-${B}`,title:W.university_name||"",subtitle:{application_end:" ",exam_date:"",result_date:""}[B],date:K,color:aV[B],status:W.status})})}),j(I)},[u]);const D=async()=>{const{data:I}=await t.functions.invoke("admission-manager",{body:{action:"search-departments",payload:{keyword:i}}});d(I||[])},O=async I=>{if(!n){alert(" .");return}await t.from("student_applications").upsert({student_id:n,university_id:I.university_id,department_id:I.department_id,status:""}),F(),alert(`${I.university_name} ${I.department_name}   !`)},V=async()=>{const{data:I}=await t.functions.invoke("admission-manager",{body:{action:"search-departments",payload:{keyword:_}}});A(I||[])},G=p.getFullYear(),ee=p.getMonth(),se=new Date(G,ee,1).getDay(),ie=new Date(G,ee+1,0).getDate(),J=Array.from({length:se},(I,W)=>W),$=Array.from({length:ie},(I,W)=>W+1),L=b.reduce((I,W)=>{const B=W.date;return I[B]||(I[B]=[]),I[B].push(W),I},{}),T=y.toISOString().slice(0,10),R=L[T]||[];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#FDF2F8] via-[#F5F3FF] to-[#E0F2FE] py-10",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 space-y-8",children:[s.jsx("div",{className:"flex items-center justify-between",children:e?s.jsxs("button",{onClick:e,className:"flex items-center gap-2 rounded-full bg-white/90 border border-white/70 shadow-lg px-4 py-2 text-sm font-semibold text-[#7c3aed]",style:{boxShadow:"0 12px 32px rgba(124,58,237,0.15)"},children:[s.jsx(xs,{className:"w-4 h-4"}),""]}):s.jsx("div",{})}),s.jsxs("header",{className:"text-center space-y-3",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-[#7c3aed]",children:"Student Planner"}),s.jsx("h1",{className:"text-3xl font-black text-[#1e1b4b]",children:"   "}),s.jsx("p",{className:"text-gray-600 text-sm",children:"      ."})]}),s.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("input",{className:"flex-1 rounded-3xl border border-gray-100 bg-gray-50 px-5 py-3 shadow-inner text-sm focus:outline-none focus:ring-2 focus:ring-[#7c3aed]",placeholder:"   ",value:i,onChange:I=>a(I.target.value)}),s.jsx("button",{className:"rounded-3xl px-6 py-3 bg-[#7c3aed] text-white font-semibold shadow-lg shadow-purple-200",onClick:D,children:""})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.map(I=>s.jsxs("div",{className:"border rounded-3xl p-4 bg-white/95 shadow",children:[s.jsx("p",{className:"text-xs text-[#7c3aed] uppercase tracking-[0.2em]",children:I.university_name}),s.jsx("h3",{className:"text-xl font-bold text-[#1e1b4b]",children:I.department_name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[" ",I.quota||"-"," /  ",I.competition_rate||"-"]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-2 space-y-1",children:[s.jsxs("p",{children:[": ",I.application_start||"-"," ~ ",I.application_end||"-"]}),s.jsxs("p",{children:[": ",I.exam_date||"-"]}),s.jsxs("p",{children:[": ",I.result_date||"-"]})]}),s.jsx("button",{className:"admission-button-primary mt-3 rounded-2xl bg-[#7c3aed] px-4 py-2 text-white",onClick:()=>O(I),children:" "})]},I.department_id)),!c.length&&s.jsx("p",{className:"text-center text-gray-500 col-span-full",children:"  ."})]})]}),s.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"admission-section-title",children:"  Calendar"}),s.jsx("p",{className:"text-sm text-gray-500",children:"        ."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"w-10 h-10 rounded-full bg-[#f3e8ff] text-[#7c3aed] flex items-center justify-center shadow-inner",onClick:()=>m(new Date(p.getFullYear(),p.getMonth()-1,1)),children:""}),s.jsx("button",{className:"w-10 h-10 rounded-full bg-[#f3e8ff] text-[#7c3aed] flex items-center justify-center shadow-inner",onClick:()=>m(new Date(p.getFullYear(),p.getMonth()+1,1)),children:""})]})]}),s.jsxs("div",{className:"text-center font-semibold text-lg text-[#4c1d95]",children:[p.getFullYear()," ",p.getMonth()+1,""]}),s.jsx("div",{className:"grid grid-cols-7 text-center text-sm text-gray-400",children:["","","","","","",""].map(I=>s.jsx("div",{className:I===""?"text-rose-400":I===""?"text-blue-500":"",children:I},I))}),s.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:[J.map(I=>s.jsx("div",{},`blank-${I}`)),$.map(I=>{const W=new Date(G,ee,I),B=W.toISOString().slice(0,10),K=T===B,U=L[B]?.length;return s.jsxs("button",{onClick:()=>v(W),className:`relative mx-auto flex h-11 w-11 items-center justify-center rounded-full font-semibold transition-all ${K?"bg-white text-[#7c3aed] border-2 border-[#7c3aed] shadow-lg":"text-[#1e1b4b]"}`,children:[I,U&&!K&&s.jsx("span",{className:"absolute bottom-0 h-1.5 w-1.5 rounded-full",style:{background:L[B][0].color}})]},I)})]}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("p",{className:"text-sm font-semibold text-[#4c1d95] flex items-center gap-2",children:[s.jsx(Hl,{className:"w-4 h-4"}),"   "]}),R.length?R.map(I=>s.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-[#ede9fe] bg-[#f9f5ff] px-4 py-3 shadow-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#7c3aed] font-semibold",children:I.title}),s.jsx("p",{className:"text-xs text-gray-500",children:I.subtitle})]}),s.jsx("span",{className:"text-xs font-semibold",style:{color:I.color},children:I.subtitle})]},I.id)):s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"   ."})]})]}),s.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"admission-section-title",children:"   "}),s.jsx("p",{className:"text-sm text-gray-500",children:"     /  /   ."})]})}),s.jsxs("div",{className:"space-y-3",children:[u.map(I=>s.jsxs("div",{className:"rounded-3xl border border-[#f1e7ff] bg-white px-4 py-3 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-[#4c1d95]",children:I.university_name}),s.jsx("p",{className:"text-sm text-gray-500",children:I.department_name||" "}),s.jsxs("p",{className:"text-xs text-gray-400",children:[": ",I.application_end||"-","  : ",I.exam_date||"-","  : ",I.result_date||"-"]})]}),s.jsx("span",{className:"text-xs font-semibold px-3 py-1 rounded-full bg-[#f5f0ff] text-[#7c3aed]",children:I.status})]},I.id)),!u.length&&s.jsx("p",{className:"text-sm text-center text-gray-500",children:"   ."})]})]}),s.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"admission-section-title",children:" "}),s.jsx("p",{className:"text-sm text-gray-500",children:"         ."})]}),s.jsxs("div",{className:"flex gap-2 flex-1",children:[s.jsx("input",{className:"flex-1 rounded-3xl border border-gray-100 bg-gray-50 px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-[#7c3aed]",value:_,onChange:I=>C(I.target.value)}),s.jsx("button",{className:"rounded-3xl px-6 py-3 bg-[#7c3aed] text-white font-semibold shadow-lg shadow-purple-200",onClick:V,children:""})]})]}),s.jsxs("div",{className:"overflow-auto",children:[s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-xs uppercase tracking-widest text-gray-500",children:[s.jsx("th",{className:"py-2",children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:E.map(I=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-2 font-semibold",children:I.university_name}),s.jsx("td",{children:I.department_name}),s.jsx("td",{children:I.quota||"-"}),s.jsx("td",{children:I.competition_rate||"-"}),s.jsxs("td",{className:"text-xs",children:[I.application_start||"-"," ~ ",I.application_end||"-"]}),s.jsx("td",{children:I.exam_date||"-"}),s.jsx("td",{children:I.result_date||"-"})]},I.department_id))})]}),!E.length&&s.jsx("p",{className:"text-center text-gray-500 py-6",children:"  ."})]})]})]})})}var lV=(e,t,n,r,i,a,c,d)=>{let u=document.documentElement,f=["light","dark"];function p(v){(Array.isArray(e)?e:[e]).forEach(b=>{let j=b==="class",S=j&&a?i.map(N=>a[N]||N):i;j?(u.classList.remove(...S),u.classList.add(a&&a[v]?a[v]:v)):u.setAttribute(b,v)}),m(v)}function m(v){d&&f.includes(v)&&(u.style.colorScheme=v)}function y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)p(r);else try{let v=localStorage.getItem(t)||n,b=c&&v==="system"?y():v;p(b)}catch{}},cV=g.createContext(void 0),dV={setTheme:e=>{},themes:[]},uV=()=>{var e;return(e=g.useContext(cV))!=null?e:dV};g.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:c,themes:d,nonce:u,scriptProps:f})=>{let p=JSON.stringify([n,t,a,e,d,c,r,i]).slice(1,-1);return g.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${lV.toString()})(${p})`}})});const hV=({...e})=>{const{theme:t="system"}=uV();return s.jsx(jM,{theme:"light",className:"toaster group",toastOptions:{style:{background:"white",color:"#491B6D",border:"1px solid #E5E7EB",borderRadius:"16px",padding:"16px",fontSize:"14px",fontWeight:500,boxShadow:"0 10px 40px rgba(73, 27, 109, 0.1)"},className:"toast-custom",classNames:{success:"success-toast",error:"error-toast",warning:"warning-toast",info:"info-toast"}},style:{"--normal-bg":"white","--normal-text":"#491B6D","--normal-border":"#E5E7EB","--success-bg":"white","--success-text":"#166534","--success-border":"#E5E7EB","--error-bg":"white","--error-text":"#991B1B","--error-border":"#E5E7EB","--info-bg":"white","--info-text":"#1E40AF","--info-border":"#E5E7EB","--warning-bg":"white","--warning-text":"#92400E","--warning-border":"#E5E7EB"},...e})},BC={login:"/login",signup:"/signup",home:"/",quiz:"/quiz","game-map-quiz":"/game-map-quiz","quiz-completion":"/quiz-completion",ai:"/ai","ai-tutor":"/ai-tutor",profile:"/profile","subject-detail":"/subject-detail",videos:"/videos","vocabulary-list":"/vocabulary-list","lesson-player":"/lesson-player","text-extractor":"/text-extractor","word-list":"/word-list",flashcard:"/flashcard",gift:"/gift","word-selection":"/word-selection","vocabulary-creator":"/vocabulary-creator","full-calendar":"/full-calendar",calendar:"/calendar","zombie-game":"/zombie-game"},B0=Object.entries(BC).reduce((e,[t,n])=>(e[n]=t,e),{});B0["/home"]="home";B0[""]="home";function fV(){const e=pa(),t=hW(e.getAuthToken),{saveStatus:n,showIndicator:r,triggerSave:i}=t9(),a=dj(),c=ei(),d=g.useMemo(()=>{let de=c.pathname;return de.length>1&&de.endsWith("/")&&(de=de.replace(/\/+$/,"")),B0[de]??"home"},[c.pathname]),[u,f]=g.useState(null),[p,m]=g.useState(null),[y,v]=g.useState(null),[b,j]=g.useState(!1),[S,N]=g.useState([]),[_,C]=g.useState(null),[E,A]=g.useState(""),[F,D]=g.useState(null),[O,V]=g.useState(5500),[G,ee]=g.useState({xpGained:0,completionTime:"0:00",accuracy:0,totalQuestions:0,correctAnswers:0,stageName:""}),[se,ie]=g.useState(40),[J,$]=g.useState(2),[L,T]=g.useState(!1),[R,I]=g.useState(0),[W,B]=g.useState(!1),[K,U]=g.useState({type:"xp-gain",title:"",subtitle:"",xpGain:0}),[Z,H]=g.useState(!1),[ne,q]=g.useState(Di.calculateLevel(5500)),[le,fe]=g.useState([]),[ue,Ne]=g.useState([]),[Te,Ze]=g.useState(!1),[rt,he]=g.useState({name:" ",date:new Date(2025,8,15),color:"#8B5CF6"}),[Pe,ae]=g.useState(!1),[pe,ke]=g.useState(!1),xe=g.useRef({}),Ye=g.useRef({}),it=async(de,Ce)=>{const De=e.getAuthToken();if(!De)throw new Error("  .");const st=de==="starred"||de==="graveyard"||de==="wrong-answers";let Xe=st?`https://${Ge}.supabase.co/functions/v1/server/${de}`:`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/${de}`;Ce&&!st&&(Xe+=`?unit=${Ce}`);const qe=await fetch(Xe,{headers:{Authorization:`Bearer ${De}`}});if(!qe.ok)throw new Error(`Failed to load ${de} words`);return(await qe.json()).words||[]},Tt="https://images.unsplash.com/photo-1743247299142-8f1c919776c4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHwzZCUyMGNoYXJhY3RlciUyMGxlYXJuaW5nJTIwaWxsdXN0cmF0aW9ufGVufDF8fHx8MTc1NzQzMTU5MHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",tt=g.useCallback((de,Ce)=>{const De=BC[de];De&&(console.log("[Navigate] Going to screen:",de,De),a(De,{replace:Ce?.replace}))},[a]),mt=g.useCallback(()=>{typeof window<"u"&&window.history.length>1?a(-1):tt("home",{replace:!0})},[a,tt]),ct=(de,Ce,De)=>{const st=De?`${de}-unit-${De}`:de,Xe=xe.current[st];Xe?(N(Xe),j(!1)):j(!0),v({id:de,title:Ce,unitNumber:De})},Y=g.useCallback(async()=>{if(console.log("[App] refreshCurrentVocabulary called, selectedVocabulary:",y),!y?.id){console.log("[App] No selectedVocabulary.id, skipping refresh");return}const de=y.unitNumber?`${y.id}-unit-${y.unitNumber}`:y.id;console.log("[App] Invalidating cache for key:",de),delete xe.current[de];try{j(!0),console.log("[App] Fetching fresh vocabulary data...");const Ce=await it(y.id,y.unitNumber);console.log(`[App] Fetched ${Ce.length} words`),xe.current[de]=Ce,N(Ce),console.log("[App] vocabularyWords state updated")}catch(Ce){console.error("[App] Error refreshing vocabulary:",Ce)}finally{j(!1)}},[y?.id,y?.unitNumber]),Ee=de=>{f(de),de.id==="starred"||de.id==="graveyard"||de.id==="wrong-answers"?(ct(de.id,de.name),tt("word-list")):tt("subject-detail")},we=()=>{f(null),m(null),tt("home",{replace:!0})};g.useEffect(()=>{d==="home"&&(f(null),m(null))},[d]);const We=de=>{const Ce=O,De=Ce+de;I(de),T(!0),V(De);const st=Di.calculateLevel(De);q(st),Di.checkForLevelUp(Ce,De)?(U({type:"level-up",title:`Level ${st.currentLevel}!`,subtitle:"You leveled up! Keep going!",xpGain:de}),B(!0)):(H(!0),setTimeout(()=>H(!1),2e3),de>=25&&(U({type:"xp-gain",title:"Excellent Work!",subtitle:"You earned bonus XP!",xpGain:de}),B(!0))),dt()},nt=de=>{m(de),tt("lesson-player")},ut=de=>{ee(de),$(ht=>ht+1);const Ce=Math.min(100,se+(de.accuracy>=50?20:10));ie(Ce);const De=O,st=De+de.xpGained;I(de.xpGained),T(!0),V(st);const Xe=Di.calculateLevel(st);q(Xe);const qe=Di.checkForLevelUp(De,st);setTimeout(()=>{U(qe?{type:"level-up",title:`Level ${Xe.currentLevel}!`,subtitle:"Quiz completed with a level up!",xpGain:de.xpGained}:{type:"quiz-complete",title:"Quiz Completed!",subtitle:`${de.correctAnswers}/${de.totalQuestions} correct  ${de.accuracy}% accuracy`,xpGain:de.xpGained}),B(!0)},1e3),dt(),tt("quiz-completion")},un=()=>{T(!1),I(0)},Gt=()=>{B(!1)},Xn=de=>{V(de.userXP),ie(de.currentProgress),$(de.totalQuizzesCompleted),q(de.levelProgress),fe(de.completedStages),Ne(de.achievements),console.log(" Progress loaded:",de)},dt=()=>{i()},Sn=()=>{tt("game-map-quiz")},$n=()=>{we()},kt=(de,Ce)=>{console.log(" Signup complete! User:",de.id),e.login(de,Ce),tt("home"),setTimeout(()=>{console.log(" Loading word lists after login..."),t.loadWordLists()},100)},mr=()=>{Ze(!0)},Xt=()=>{Ze(!1)},gt=()=>{confirm("  ?")&&(e.logout(),t.resetStore&&t.resetStore(),V(0),fe([]),tt("login",{replace:!0}),console.log(" Logged out successfully"))};g.useEffect(()=>{(async()=>{if(!y||!y.id){N([]),j(!1);return}const Ce=y.unitNumber?`${y.id}-unit-${y.unitNumber}`:y.id,De=xe.current[Ce];De?(N(De),j(!1)):j(!0);try{const st=y.unitNumber?` Loading words for vocabulary: ${y.id} (Unit ${y.unitNumber})`:` Loading words for vocabulary: ${y.id}`;console.log(st);const Xe=await it(y.id,y.unitNumber);console.log(` Loaded ${Xe.length} words for vocabulary`),xe.current[Ce]=Xe,N(Xe)}catch(st){console.error(" Error loading vocabulary words:",st),N([])}finally{j(!1)}})()},[y?.id,y?.unitNumber]);const wt=g.useCallback(de=>{e.isInitializing||!e.isAuthenticated||(delete xe.current[de],!Ye.current[de]&&(typeof navigator<"u"&&navigator&&"onLine"in navigator&&!navigator.onLine||(Ye.current[de]=new Promise(Ce=>{setTimeout(async()=>{try{const De=await it(de);xe.current[de]=De,y?.id===de&&(N(De),j(!1))}catch(De){console.warn(`[Prefetch] Failed to refresh ${de}:`,De)}finally{Ye.current[de]=null,Ce()}},200)}))))},[y?.id,e.isAuthenticated,e.isInitializing]);g.useEffect(()=>{e.isAuthenticated&&wt("starred")},[t.starredWords,wt,e.isAuthenticated]),g.useEffect(()=>{e.isAuthenticated&&wt("graveyard")},[t.graveyardWords,wt,e.isAuthenticated]),g.useEffect(()=>{e.isAuthenticated&&wt("wrong-answers")},[t.wrongAnswersWords,wt,e.isAuthenticated]),g.useEffect(()=>{e.isInitializing||(e.isAuthenticated?(d==="login"||d==="signup")&&tt("home",{replace:!0}):d!=="login"&&d!=="signup"&&tt("login",{replace:!0}))},[e.isAuthenticated,e.isInitializing,d,tt]),g.useEffect(()=>{e.isAuthenticated&&!e.isInitializing&&(console.log(" App mounted with authenticated user, loading word lists..."),setTimeout(()=>{t.loadWordLists()},200))},[e.isAuthenticated,e.isInitializing]);const Oe=()=>{if(e.isInitializing)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});switch(d){case"login":return s.jsx(n9,{onLoginComplete:kt,onGoToSignup:()=>tt("signup")});case"signup":return s.jsx(r9,{onBack:()=>tt("login"),onSignupComplete:kt});case"home":return s.jsxs("div",{className:"space-y-6",children:[s.jsx(fW,{profileImage:ng,userXP:O,recentXPGain:R,showXPAnimation:L,onXPAnimationComplete:un,levelProgress:ne,onAdminAccess:mr,ddayInfo:rt,onDdayClick:()=>ae(!0),onLogout:gt,userName:e.currentUser?.user_metadata?.name||e.currentUser?.email?.split("@")[0]}),s.jsx(vW,{onSubjectClick:Ee,starredCount:t.starredWords.length,graveyardCount:t.graveyardWords.length,wrongAnswersCount:t.wrongAnswersWords.length}),s.jsx("div",{className:"px-6",children:s.jsx(jW,{illustrationImage:Tt,onStartQuiz:()=>tt("vocabulary-list"),currentProgress:se,totalQuizzesCompleted:J})}),s.jsx("div",{className:"px-6",children:s.jsx(SW,{onClick:()=>tt("calendar")})}),s.jsx("div",{className:"px-6 pb-4 pt-3",children:s.jsx("div",{className:"text-center text-gray-600",style:{fontSize:"11px"},children:" JEJETRANSFER. All rights reserved.  Made by "})})]});case"quiz":return s.jsx(EW,{onBack:mt,onXPGain:We});case"game-map-quiz":return s.jsx(Q1,{onBack:mt,onBackToHome:we,onXPGain:We,userXP:O,selectedSubject:u,vocabularyTitle:y?.title,vocabularyWords:S,onQuizCompletion:ut,onWrongAnswer:t.addWrongAnswer,starredWordIds:t.starredWords,graveyardWordIds:t.graveyardWords,wrongAnswersWordIds:t.wrongAnswersWords,onAddToStarred:t.toggleStarred,onMoveToGraveyard:t.moveToGraveyard,onDeletePermanently:t.deletePermanently,getAuthToken:e.getAuthToken,onRefreshVocabulary:Y,vocabularyId:y?.id,isLoading:b});case"quiz-completion":return s.jsx(tV,{onBack:mt,onRetakeQuiz:Sn,onNextChallenge:$n,userXP:O,xpGained:G.xpGained,completionTime:G.completionTime,accuracy:G.accuracy,totalQuestions:G.totalQuestions,correctAnswers:G.correctAnswers,stageName:G.stageName});case"ai":case"ai-tutor":return s.jsx(oV,{onBack:mt});case"profile":return s.jsx(VB,{onBack:mt,userXP:O,profileImage:ng,levelProgress:ne});case"videos":return s.jsx(YB,{onBack:mt,getAuthToken:e.getAuthToken});case"vocabulary-list":return s.jsx(rC,{onBack:mt,onBackToHome:we,onSelectVocabulary:(de,Ce,De)=>{ct(de,Ce,De),f({id:de,name:Ce,description:"",progress:0,icon:null,color:"#491B6D"}),tt("game-map-quiz")},onStartFlashcards:(de,Ce,De)=>{ct(de,Ce,De),f({id:de,name:Ce,description:"",progress:0,icon:null,color:"#491B6D"}),tt("flashcard")},getAuthToken:e.getAuthToken},Date.now());case"subject-detail":return u?s.jsx(qB,{subject:u,onBack:mt,onStartQuiz:()=>tt("game-map-quiz"),onLessonClick:nt}):null;case"lesson-player":return s.jsx(XB,{onBack:mt,onTakeQuiz:()=>tt("game-map-quiz"),lessonTitle:p||"Introduction to Algebra"});case"text-extractor":return s.jsx(v9,{onBack:mt,onNavigateToTutor:(de,Ce)=>{sessionStorage.setItem("tutorContext",Ce),sessionStorage.setItem("tutorInitialQuestion",de),tt("ai-tutor")}});case"word-list":return u?t.isLoading&&(u.id==="starred"||u.id==="graveyard"||u.id==="wrong-answers")?s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin"}),s.jsx("p",{className:"text-sm font-medium text-purple-600",children:"  ..."})]})}):u.id==="starred"?s.jsx(Q1,{onBack:mt,onBackToHome:we,onXPGain:We,userXP:O,selectedSubject:u,vocabularyTitle:u.name,onQuizCompletion:ut,onWrongAnswer:t.addWrongAnswer,starredWordIds:t.starredWords,graveyardWordIds:t.graveyardWords,wrongAnswersWordIds:t.wrongAnswersWords,onAddToStarred:t.toggleStarred,onMoveToGraveyard:t.moveToGraveyard,onDeletePermanently:t.deletePermanently,getAuthToken:e.getAuthToken,onRefreshVocabulary:Y,vocabularyId:y?.id,isLoading:b}):u.id==="graveyard"||u.id==="wrong-answers"?s.jsx(ku,{onBack:mt,onBackToHome:we,vocabularyTitle:u.name,unitName:u.id==="graveyard"?"Graveyard Collection":"Wrong Answers Collection",vocabularyWords:S,filterType:u.id==="graveyard"?"graveyard":"wrong-answers",starredWordIds:t.starredWords,graveyardWordIds:t.graveyardWords,wrongAnswersWordIds:t.wrongAnswersWords,isLoading:b,vocabularyId:y?.id,onAddToStarred:t.toggleStarred,onMoveToGraveyard:t.moveToGraveyard,onDeletePermanently:t.deletePermanently,onStartFlashcards:()=>tt("flashcard"),onRefreshVocabulary:Y}):s.jsx(ku,{onBack:mt,onBackToHome:we,vocabularyTitle:u.name,unitName:y?.unitNumber?`Unit ${y.unitNumber}`:"Unit 1",vocabularyWords:S,filterType:"all",starredWordIds:t.starredWords,graveyardWordIds:t.graveyardWords,wrongAnswersWordIds:t.wrongAnswersWords,isLoading:b,vocabularyId:y?.id,onAddToStarred:t.toggleStarred,onMoveToGraveyard:t.moveToGraveyard,onDeletePermanently:t.deletePermanently,onStartFlashcards:()=>{console.log("[App] onStartFlashcards called, navigating to flashcard"),tt("flashcard")},onRefreshVocabulary:Y}):null;case"flashcard":return s.jsx(lC,{onBack:mt,onBackToHome:we,vocabularyWords:S,starredWordIds:t.starredWords,graveyardWordIds:t.graveyardWords,onAddToStarred:t.toggleStarred,onMoveToGraveyard:t.moveToGraveyard,vocabularyId:y?.id,vocabularyTitle:y?.title,onRefreshVocabulary:Y});case"zombie-game":return s.jsx(aC,{vocabularyWords:S,onBack:mt,onBackToHome:we});case"gift":return s.jsx($9,{onBack:mt,onSelectVocabulary:async de=>{console.log(" Adding shared vocabulary:",de.title);try{const Xe=((await(await fetch(`https://${Ge}.supabase.co/functions/v1/server/shared-vocabulary/${de.id}/words`,{headers:{Authorization:`Bearer ${En}`}})).json()).words||[]).map(at=>at.id);console.log(` Adding ${Xe.length} words...`);const qe=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/add-shared`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.getAuthToken()}`},body:JSON.stringify({sharedVocabularyId:de.id,selectedWordIds:Xe})}),ht=await qe.json();if(!qe.ok)throw console.error(" Server error:",qe.status,ht),new Error(ht.error||`Server error: ${qe.status}`);if(ht.vocabulary)console.log(" Successfully added vocabulary to user collection"),Ol(),await t.refreshMyVocabularies(),alert(`"${de.title}"  ! (${Xe.length} )`);else throw new Error(ht.error||"Failed to add vocabulary")}catch(Ce){console.error(" Error adding vocabulary:",Ce),alert(`  : ${Ce instanceof Error?Ce.message:"   "}`)}}});case"word-selection":return _?s.jsx(iC,{vocabularyId:_.id,vocabularyName:_.title,totalWords:_.total_words||0,onBack:mt,onComplete:async(de,Ce)=>{try{console.log(" Adding shared vocabulary to user collection..."),console.log("Selected words:",de.length),console.log("Words per unit:",Ce);const qe=((await(await fetch(`https://${Ge}.supabase.co/functions/v1/server/shared-vocabulary/${_.id}/words`,{headers:{Authorization:`Bearer ${En}`}})).json()).words||[]).filter(vt=>de.includes(vt.id)),ht=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/add-shared`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.getAuthToken()}`},body:JSON.stringify({sharedVocabularyId:_.id,title:_.title,description:_.description||"",wordsPerUnit:Ce,selectedWordIds:de})}),at=await ht.json();if(console.log(" Add shared vocabulary response:",at),!ht.ok)throw console.error(" Server error:",ht.status,at),new Error(at.error||`Server error: ${ht.status}`);if(at.vocabulary)console.log(" Successfully added vocabulary to user collection"),Ol(),await t.refreshMyVocabularies(),alert(`"${_.title}"  ! (${qe.length} , ${Math.ceil(qe.length/Ce)} )`);else throw new Error(at.error||"Failed to add vocabulary")}catch(De){console.error(" Error adding vocabulary:",De),alert(`  : ${De instanceof Error?De.message:"   "}`)}finally{C(null),we()}}}):null;case"vocabulary-creator":return s.jsx(LB,{onBack:mt,getAuthToken:e.getAuthToken,onNavigateToGift:()=>tt("gift"),onSaveComplete:(de,Ce)=>{console.log(` Vocabulary created: ${de}, navigating to WordList`),t.refreshMyVocabularies(),ct(de,Ce),f({id:de,name:Ce,description:"",progress:0,icon:null,color:"#491B6D"}),tt("word-list")}});case"full-calendar":return s.jsx(Qz,{onBack:mt,onHomeClick:we});case"calendar":return s.jsx(LC,{onBack:mt});default:return null}};return s.jsxs("div",{className:"min-h-screen overflow-hidden flex flex-col",style:{background:d==="word-list"&&u?u.id==="starred"?"linear-gradient(to bottom, #FFFEF5, #FFFEF8, #FFFFF9)":u.id==="graveyard"?"linear-gradient(to bottom, #FCFCFC, #FAFAFA, #F9F9F9)":u.id==="wrong-answers"?"linear-gradient(to bottom, #FFFAFA, #FFFCFC, #FFF9F9)":"linear-gradient(to bottom, #D4C5FF, rgba(229, 217, 255, 0.95), white)":"linear-gradient(to bottom, #D4C5FF, rgba(229, 217, 255, 0.95), white)"},children:[Te&&s.jsx(Hz,{onClose:Xt}),s.jsx(ZB,{userXP:O,currentProgress:se,totalQuizzesCompleted:J,onProgressLoaded:Xn}),s.jsxs("div",{className:`flex-1 ${d==="word-list"?"overflow-hidden":"overflow-y-auto scrollbar-hide"} relative`,children:[d==="opening"?Oe():s.jsxs(M.div,{className:d==="word-list"?"h-full":"",initial:{opacity:0,scale:d==="welcome"?.95:d==="home"?1:.98,y:d==="welcome"?20:d==="home"?0:15,filter:"blur(8px)"},animate:{opacity:1,scale:1,y:0,filter:"blur(0px)"},exit:{opacity:0,scale:.95,y:-15,filter:"blur(4px)"},transition:{duration:d==="welcome"?.8:.5,ease:d==="welcome"?[.23,1,.32,1]:"easeInOut",type:d==="welcome"?"spring":"tween",bounce:d==="welcome"?.25:0},children:[d==="welcome"&&s.jsxs(s.Fragment,{children:[s.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.2,ease:"easeOut"},className:"absolute inset-0 pointer-events-none",children:[...Array(12)].map((de,Ce)=>s.jsx(M.div,{initial:{x:Math.random()*400,y:Math.random()*800,opacity:0,scale:0},animate:{opacity:[0,.4,0],scale:[0,1,0],x:[Math.random()*400,Math.random()*400,Math.random()*400],y:[Math.random()*800,Math.random()*800+50,Math.random()*800+100]},transition:{duration:6,delay:Math.random()*2,repeat:1/0,ease:"easeInOut"},className:"absolute w-2 h-2 rounded-full",style:{background:"linear-gradient(45deg, #C8B6FF, #7C3AED)",filter:"blur(1px)"}},Ce))}),s.jsx(M.div,{initial:{opacity:0},animate:{opacity:[0,.3,0],background:["radial-gradient(circle at 30% 20%, #C8B6FF 0%, transparent 50%)","radial-gradient(circle at 70% 60%, #7C3AED 0%, transparent 40%)","radial-gradient(circle at 20% 80%, #C8B6FF 0%, transparent 60%)"]},transition:{opacity:{duration:2,ease:"easeInOut"},background:{duration:8,repeat:1/0,ease:"easeInOut"}},className:"absolute inset-0 pointer-events-none"})]}),Oe()]},d),s.jsx(QB,{show:W,type:K.type,title:K.title,subtitle:K.subtitle,xpGain:K.xpGain,onComplete:Gt}),s.jsx(JB,{show:Z,xpGain:R}),s.jsx(e9,{show:r,status:n}),s.jsx("div",{className:d==="subject-detail"||d==="lesson-player"||d==="game-map-quiz"||d==="vocabulary-list"||d==="word-list"?"h-8":"h-28"})]}),d!=="login"&&d!=="signup"&&d!=="opening"&&d!=="welcome"&&d!=="subject-detail"&&d!=="lesson-player"&&d!=="game-map-quiz"&&d!=="vocabulary-list"&&d!=="word-list"&&d!=="quiz-completion"&&d!=="full-calendar"&&!_&&s.jsx(CW,{currentScreen:d,onScreenChange:de=>{window.scrollTo({top:0,behavior:"instant"}),de==="home"?we():tt(de)}}),s.jsx(hV,{position:"top-center",richColors:!0})]})}function xn({value:e,onChange:t,className:n="",style:r={},multiline:i=!1,isEditable:a=!1,children:c,inputWidth:d}){const[u,f]=g.useState(!1),[p,m]=g.useState(e),y=g.useRef(null);g.useEffect(()=>{m(e)},[e]),g.useEffect(()=>{u&&y.current&&(y.current.focus(),y.current.select())},[u]);const v=()=>{t(p),f(!1)},b=j=>{j.key==="Enter"&&!i?(j.preventDefault(),v()):j.key==="Escape"&&(m(e),f(!1))};if(!a)return s.jsx("span",{className:n,style:r,children:e});if(u){const j={ref:y,value:p,onChange:S=>m(S.target.value),onBlur:v,onKeyDown:b,className:`${n} border border-blue-400 bg-blue-50 outline-none`,style:{...r,width:d||"100%",minWidth:d?"auto":"200px",padding:"2px 4px"}};return i?s.jsx("textarea",{...j,rows:3}):s.jsx("input",{...j,type:"text"})}return s.jsx("span",{onClick:()=>f(!0),className:`${n} cursor-pointer hover:bg-blue-50 print:hover:bg-transparent print:cursor-default font-bold`,style:{...r,fontFamily:"SUIT, sans-serif"},title:" ",children:c||e})}const zC=({id:e,word:t,pronunciation:n,partOfSpeech:r,meaning:i,definition:a,synonyms:c,antonyms:d,derivatives:u,example:f,translation:p,translationHighlight:m,etymology:y,isEditable:v=!1,onUpdate:b})=>{const j=(N,_)=>{const C=N.toLowerCase(),E=_.toLowerCase(),A=C.indexOf(E);return A===-1?N:s.jsxs(s.Fragment,{children:[N.substring(0,A),s.jsx("span",{style:{fontWeight:"bold"},children:N.substring(A,A+_.length)}),N.substring(A+_.length)]})},S=(N,_)=>{if(!_)return N;const C=N.indexOf(_);return C===-1?N:s.jsxs(s.Fragment,{children:[N.substring(0,C),s.jsx("span",{style:{fontWeight:"bold"},children:_}),N.substring(C+_.length)]})};return s.jsx("div",{className:"vocabulary-card border border-gray-200/60 rounded-lg bg-white py-3 pl-4 pr-8 mb-3",style:{overflow:"visible",marginBottom:"12px",pageBreakInside:"avoid",breakInside:"avoid",WebkitColumnBreakInside:"avoid",display:"block"},children:s.jsxs("div",{style:{overflow:"visible"},children:[s.jsxs("div",{className:"grid gap-4 mb-3",style:{gridTemplateColumns:"28% 72%"},children:[s.jsxs("div",{children:[s.jsx("div",{className:"inline-block px-1.5 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-2",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(e).padStart(3,"0")})}),s.jsx("h2",{className:"text-black mb-0.5 tracking-tight",style:{fontSize:"22px",fontWeight:"bold"},children:v?s.jsx(xn,{value:t,onChange:N=>b?.(e,"word",N),isEditable:!0,className:"text-black tracking-tight",style:{fontSize:"22px",fontWeight:"bold"}}):t})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"mb-2",children:[s.jsxs("p",{className:"text-black leading-snug",style:{fontSize:"13px"},children:[s.jsx("span",{className:"text-gray-400 print:text-black",style:{fontSize:"10px",fontWeight:"bold"},children:v?s.jsx(xn,{value:r,onChange:N=>b?.(e,"partOfSpeech",N),isEditable:!0,className:"text-gray-400",style:{fontSize:"10px",fontWeight:"bold"}}):r})," ",v?s.jsx(xn,{value:i,onChange:N=>b?.(e,"meaning",N),isEditable:!0,className:"text-black leading-snug",style:{fontSize:"13px"}}):i]}),a&&s.jsx("p",{className:"text-gray-500 leading-snug mt-0.5 italic",style:{fontSize:"10.5px"},children:v?s.jsx(xn,{value:a,onChange:N=>b?.(e,"definition",N),isEditable:!0,className:"text-gray-500 leading-snug italic",style:{fontSize:"10.5px"}}):a})]}),s.jsxs("div",{className:"pl-2.5 border-l border-gray-300",children:[s.jsx("p",{className:"text-xs text-black leading-snug mb-0.5",children:v?s.jsx(xn,{value:f,onChange:N=>b?.(e,"example",N),isEditable:v,className:"text-xs text-black leading-snug",children:j(f,t)}):j(f,t)}),s.jsx("p",{className:"text-gray-600 leading-snug mb-0",style:{fontSize:"10px"},children:v?s.jsx(xn,{value:p,onChange:N=>b?.(e,"translation",N),isEditable:v,className:"text-gray-600 leading-snug",style:{fontSize:"10px"},children:S(p,m)}):S(p,m)})]})]}),s.jsxs("div",{className:"flex gap-1.5 items-start",children:[s.jsx("div",{className:"w-2 h-2 border-gray-300",style:{border:"1px solid #d1d5db"}}),s.jsx("div",{className:"w-2 h-2 border-gray-300",style:{border:"1px solid #d1d5db"}}),s.jsx("div",{className:"w-2 h-2 border-gray-300",style:{border:"1px solid #d1d5db"}})]})]})]}),s.jsxs("div",{className:"grid gap-4 text-xs bg-[rgba(0,0,0,0)]",style:{gridTemplateColumns:"28% 72%"},children:[s.jsx("div",{children:s.jsx("div",{className:"space-y-1",children:u.map((N,_)=>s.jsxs("div",{className:"leading-tight",children:[s.jsx("div",{className:"text-gray-800 print:text-black",children:N.word}),s.jsx("div",{className:"text-gray-500",style:{fontSize:"10px"},children:N.meaning})]},_))})}),s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"inline-block px-1 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:""})}),s.jsx("div",{className:"space-y-0.5",children:v?s.jsx(xn,{value:c.join(", "),onChange:N=>{const _=N.split(",").map(C=>C.trim()).filter(C=>C);b?.(e,"synonyms",_)},isEditable:!0,className:"text-gray-600 print:text-black",style:{fontSize:"10px"},multiline:!0,inputWidth:"100%"}):c.map((N,_)=>s.jsx("div",{className:"text-gray-600 print:text-black",style:{fontSize:"10px"},children:N},_))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"inline-block px-1 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:""})}),s.jsx("div",{className:"space-y-0.5",children:v?s.jsx(xn,{value:d.join(", "),onChange:N=>{const _=N.split(",").map(C=>C.trim()).filter(C=>C);b?.(e,"antonyms",_)},isEditable:!0,className:"text-gray-600 print:text-black",style:{fontSize:"10px"},multiline:!0,inputWidth:"100%"}):d.map((N,_)=>s.jsx("div",{className:"text-gray-600 print:text-black",style:{fontSize:"10px"},children:N},_))})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("div",{className:"inline-block px-1.5 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:"Tip"})}),s.jsx("div",{className:"text-gray-600 print:text-black leading-snug",style:{fontSize:"10px"},children:v?s.jsx(xn,{value:y,onChange:N=>b?.(e,"etymology",N),isEditable:!0,className:"text-gray-600 leading-snug",style:{fontSize:"10px"},multiline:!0}):y})]})]})]})]})})},pV=g.memo(zC),z0=g.memo(zC),mV=Object.freeze(Object.defineProperty({__proto__:null,VocabularyCard:z0,default:pV},Symbol.toStringTag,{value:"Module"}));function ai({headerInfo:e,showHeader:t=!0,showFooter:n=!0,isEditable:r=!1,onFooterChange:i,onHeaderChange:a}){if(!e)return null;const c=e.headerTitle||e.headerDescription;return s.jsxs(s.Fragment,{children:[t&&c&&s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"inline-block px-4 py-1.5 bg-slate-100 backdrop-blur-md border border-slate-300 rounded-xl rounded-bl-none",children:r?s.jsx("input",{type:"text",value:e.headerTitle||"",onChange:d=>a?.({...e,headerTitle:d.target.value}),placeholder:" ",className:"text-xs uppercase tracking-[0.2em] text-slate-800 placeholder-slate-400 font-medium bg-transparent border-none outline-none text-center min-w-[200px]"}):s.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-800 font-medium",children:e.headerTitle||"Vocabulary Builder"})})}),e.headerDescription&&s.jsx("div",{className:"flex justify-center",children:r?s.jsx("input",{type:"text",value:e.headerDescription||"",onChange:d=>a?.({...e,headerDescription:d.target.value}),placeholder:" ",style:{fontSize:"11px",fontFamily:"SUIT"},className:"text-gray-600 print:text-black text-center border-b border-gray-300 focus:border-gray-600 outline-none bg-transparent max-w-md"}):s.jsx("p",{style:{fontSize:"11px",fontFamily:"SUIT"},className:"text-gray-600 print:text-black text-center",children:e.headerDescription})})]}),n&&s.jsx("div",{className:"mt-4 pt-2",children:r?s.jsx("input",{type:"text",value:e.footerLeft||"",onChange:d=>i?.(d.target.value),placeholder:"  ",style:{fontSize:"11px",fontFamily:"SUIT"},className:"text-gray-600 print:text-black border-b border-gray-300 focus:border-gray-600 outline-none bg-transparent w-64"}):s.jsx("p",{style:{fontSize:"11px",fontFamily:"SUIT"},className:"text-gray-600 print:text-black",children:e.footerLeft||""})})]})}const gV=Object.freeze(Object.defineProperty({__proto__:null,HeaderFooter:ai},Symbol.toStringTag,{value:"Module"}));function li({children:e,headerContent:t,showHeaderOnFirstPageOnly:n=!1}){return s.jsx("div",{className:"page-container",children:s.jsxs("div",{className:"a4-page",children:[n&&t&&s.jsx("div",{className:"page-header",style:{marginBottom:"16px"},children:t}),s.jsx("div",{className:"page-content",children:e})]})})}const xV=Object.freeze(Object.defineProperty({__proto__:null,A4PageLayout:li},Symbol.toStringTag,{value:"Module"})),yV=({data:e,headerInfo:t,isEditable:n=!1,onUpdate:r,onHeaderChange:i})=>{const a=(d,u)=>{const f=d.toLowerCase(),p=u.toLowerCase(),m=f.indexOf(p);return m===-1?d:s.jsxs(s.Fragment,{children:[d.substring(0,m),s.jsx("strong",{children:d.substring(m,m+u.length)}),d.substring(m+u.length)]})},c=e.map(d=>s.jsx("table",{className:"w-full border-collapse",children:s.jsx("tbody",{children:s.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[s.jsx("td",{className:"pt-1 pb-2 px-1 align-top",style:{width:"3%"},children:s.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(d.id).padStart(3,"0")})})}),s.jsx("td",{className:"pt-1 pb-2 px-3 align-top",style:{width:"18%"},children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:n?s.jsx(xn,{value:d.word,onChange:u=>r?.(d.id,"word",u),isEditable:!0,className:"text-black",style:{fontSize:"14px",fontWeight:"bold"}}):d.word}),s.jsx("div",{className:"space-y-1 pb-1",children:d.derivatives.map((u,f)=>s.jsxs("div",{style:{lineHeight:"1.3"},children:[s.jsx("div",{className:"text-gray-800 print:text-black",style:{fontSize:"11px"},children:u.word}),s.jsx("div",{className:"text-gray-500",style:{fontSize:"8px"},children:u.meaning})]},f))})]})}),s.jsx("td",{className:"pt-1 pb-2 px-3 align-top",style:{width:"42%"},children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-[14px]",children:s.jsx("span",{className:"text-black",style:{fontSize:"12px",lineHeight:"0.9"},children:n?s.jsx(xn,{value:d.meaning,onChange:u=>r?.(d.id,"meaning",u),isEditable:!0,className:"text-black",style:{fontSize:"12px",lineHeight:"0.9"}}):d.meaning})}),d.definition&&s.jsx("div",{className:"text-gray-500 italic",style:{fontSize:"9px",lineHeight:"1.3"},children:n?s.jsx(xn,{value:d.definition,onChange:u=>r?.(d.id,"definition",u),isEditable:!0,className:"text-gray-500 italic",style:{fontSize:"9px",lineHeight:"1.3"},multiline:!0}):d.definition}),s.jsx("div",{className:"text-black",style:{fontSize:"10px",lineHeight:"1.3"},children:n?s.jsx(xn,{value:d.example,onChange:u=>r?.(d.id,"example",u),isEditable:!0,className:"text-black",style:{fontSize:"10px",lineHeight:"1.3"},multiline:!0}):a(d.example,d.word)}),s.jsx("div",{className:"text-gray-600",style:{fontSize:"9px",lineHeight:"1.3"},children:n?s.jsx(xn,{value:d.translation,onChange:u=>r?.(d.id,"translation",u),isEditable:!0,className:"text-gray-600",style:{fontSize:"9px",lineHeight:"1.3"},multiline:!0}):d.translation})]})}),s.jsxs("td",{className:"pt-1 pb-2 px-3 align-top",style:{width:"14%"},children:[s.jsx("div",{className:"inline-block px-1 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:""})}),s.jsx("div",{className:"text-gray-600 print:text-black",style:{fontSize:"10px",lineHeight:"1.4"},children:n?s.jsx(xn,{value:d.synonyms.join(", "),onChange:u=>{const f=u.split(",").map(p=>p.trim()).filter(p=>p);r?.(d.id,"synonyms",f)},isEditable:!0,className:"text-gray-600 print:text-black",style:{fontSize:"10px",lineHeight:"1.4"},multiline:!0,inputWidth:"100%"}):d.synonyms.join(", ")})]}),s.jsxs("td",{className:"pt-1 pb-2 px-3 align-top text-[16px]",style:{width:"14%"},children:[s.jsx("div",{className:"inline-block px-1 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60 mb-0.5",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:""})}),s.jsx("div",{className:"text-gray-600 print:text-black",style:{fontSize:"10px",lineHeight:"1.4"},children:n?s.jsx(xn,{value:d.antonyms.join(", "),onChange:u=>{const f=u.split(",").map(p=>p.trim()).filter(p=>p);r?.(d.id,"antonyms",f)},isEditable:!0,className:"text-gray-600 print:text-black",style:{fontSize:"10px",lineHeight:"1.4"},multiline:!0,inputWidth:"100%"}):d.antonyms.join(", ")})]})]})})},d.id));return s.jsx(li,{headerContent:s.jsx(ai,{headerInfo:t,showFooter:!1,isEditable:n,onHeaderChange:i}),showHeaderOnFirstPageOnly:!0,children:c})},W0=g.memo(yV),vV=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTable:W0},Symbol.toStringTag,{value:"Module"}));function V0({data:e,headerInfo:t}){const n=[];for(let i=0;i<e.length;i+=2)n.push({left:e[i],right:e[i+1]||null});const r=n.map((i,a)=>s.jsx("table",{className:"w-full border-collapse",children:s.jsx("tbody",{children:s.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[s.jsx("td",{className:"py-2 px-1 align-top",style:{width:"4%"},children:s.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(i.left.id).padStart(3,"0")})})}),s.jsx("td",{className:"py-2 px-3 align-top",style:{width:"18%"},children:s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:i.left.word})}),s.jsx("td",{className:"py-2 px-3 align-top",style:{width:"28%"},children:s.jsx("div",{className:"text-black",style:{fontSize:"10px"},children:i.left.meaning})}),s.jsx("td",{className:"py-2 px-1 align-top",style:{width:"4%"},children:i.right&&s.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(i.right.id).padStart(3,"0")})})}),s.jsx("td",{className:"py-2 px-3 align-top",style:{width:"18%"},children:i.right&&s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:i.right.word})}),s.jsx("td",{className:"py-2 px-3 align-top",style:{width:"28%"},children:i.right&&s.jsx("div",{className:"text-black",style:{fontSize:"10px"},children:i.right.meaning})})]})})},a));return s.jsx(li,{headerContent:s.jsx(ai,{headerInfo:t,showFooter:!1}),showHeaderOnFirstPageOnly:!0,children:r})}const bV=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTableSimple:V0},Symbol.toStringTag,{value:"Module"}));function U0({data:e,headerInfo:t}){const n=[];for(let i=0;i<e.length;i+=2)n.push({left:e[i],right:e[i+1]||null});const r=n.map((i,a)=>s.jsx("table",{className:"w-full border-collapse",children:s.jsx("tbody",{children:s.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[s.jsx("td",{className:"py-2 px-1 align-top",style:{width:"4%"},children:s.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(i.left.id).padStart(3,"0")})})}),s.jsx("td",{className:"py-2 px-3 align-top",style:{width:"46%"},children:s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:i.left.word})}),s.jsx("td",{className:"py-2 px-1 align-top",style:{width:"4%"},children:i.right&&s.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(i.right.id).padStart(3,"0")})})}),s.jsx("td",{className:"py-2 px-3 align-top",style:{width:"46%"},children:i.right&&s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:i.right.word})})]})})},a));return s.jsx(li,{headerContent:s.jsx(ai,{headerInfo:t,showFooter:!1}),showHeaderOnFirstPageOnly:!0,children:r})}const wV=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTestSimple:U0},Symbol.toStringTag,{value:"Module"}));function H0({data:e,headerInfo:t}){const n=g.useMemo(()=>e.map(a=>{const c=a.synonyms.slice(0,Math.min(3,a.synonyms.length)),d=[],u=e.filter(v=>v.id!==a.id);for(const v of u)d.push({word:v.word,meaning:v.meaning}),v.synonyms.forEach(b=>{d.push({word:b,meaning:`(${v.word} )`})});const p=d.sort(()=>Math.random()-.5).slice(0,4),y=[...c.map(v=>({word:v,isCorrect:!0})),...p.map(v=>({word:v.word,isCorrect:!1,meaning:v.meaning}))].sort(()=>Math.random()-.5);return{id:a.id,word:a.word,correctSynonyms:c,allChoices:y}}),[e]),r=[];for(let a=0;a<n.length;a+=2)r.push({left:n[a],right:n[a+1]||null});const i=r.map((a,c)=>s.jsx("table",{className:"w-full border-collapse",children:s.jsx("tbody",{children:s.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[s.jsxs("td",{className:"py-3 px-4 align-top pb-6",style:{width:"50%",verticalAlign:"top"},children:[s.jsx("div",{className:"mb-3",children:s.jsxs("div",{className:"flex items-start gap-2 my-[4px] mx-[0px] px-[0px] py-[4px]",children:[s.jsx("div",{className:"inline-block px-1.5 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",style:{flexShrink:0},children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(a.left.id).padStart(3,"0")})}),s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",flexShrink:0},className:"text-black",children:a.left.word}),s.jsx("div",{className:"text-gray-500 print:text-black",style:{fontSize:"9px",flexShrink:0,paddingTop:"4px"},children:":"}),s.jsx("div",{className:"flex-1",style:{borderBottom:"1px solid #d1d5db",minHeight:"20px"}})]})}),s.jsx("div",{className:"flex flex-wrap gap-x-3 gap-y-1.5 my-[16px] mx-[0px]",children:a.left.allChoices.map((d,u)=>s.jsxs("div",{className:"inline-flex items-center gap-1.5",style:{fontSize:"11px"},children:[s.jsx("span",{className:"text-gray-400 print:text-black",children:""}),s.jsx("span",{className:"text-gray-700 print:text-black text-[12px]",children:d.word})]},u))})]}),s.jsx("td",{className:"py-3 px-4 align-top border-l border-gray-200 pb-6",style:{width:"50%",verticalAlign:"top"},children:a.right&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-3",children:s.jsxs("div",{className:"flex items-start gap-2 my-[4px] mx-[0px] px-[0px] py-[4px]",children:[s.jsx("div",{className:"inline-block px-1.5 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",style:{flexShrink:0},children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(a.right.id).padStart(3,"0")})}),s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",flexShrink:0},className:"text-black",children:a.right.word}),s.jsx("div",{className:"text-gray-500 print:text-black",style:{fontSize:"9px",flexShrink:0,paddingTop:"4px"},children:":"}),s.jsx("div",{className:"flex-1",style:{borderBottom:"1px solid #d1d5db",minHeight:"20px"}})]})}),s.jsx("div",{className:"flex flex-wrap gap-x-3 gap-y-1.5 my-[16px] mx-[0px]",children:a.right.allChoices.map((d,u)=>s.jsxs("div",{className:"inline-flex items-center gap-1.5",style:{fontSize:"11px"},children:[s.jsx("span",{className:"text-gray-400 print:text-black",children:""}),s.jsx("span",{className:"text-gray-700 print:text-black text-[12px]",children:d.word})]},u))})]})})]})})},c));return s.jsx(li,{headerContent:s.jsx(ai,{headerInfo:t,showFooter:!1}),showHeaderOnFirstPageOnly:!0,children:i})}const jV=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTestSynonym:H0},Symbol.toStringTag,{value:"Module"}));function G0({data:e,headerInfo:t}){const n=()=>e.map(c=>{const d=c.synonyms.slice(0,Math.min(3,c.synonyms.length)),u=[],f=e.filter(b=>b.id!==c.id);for(const b of f)u.push({word:b.word,meaning:b.meaning}),b.synonyms.forEach(j=>{u.push({word:j,meaning:`(${b.word} )`})});const m=u.sort(()=>Math.random()-.5).slice(0,4),v=[...d.map(b=>({word:b,isCorrect:!0})),...m.map(b=>({word:b.word,isCorrect:!1,meaning:b.meaning}))].sort(()=>Math.random()-.5);return{id:c.id,word:c.word,meaning:c.meaning,correctSynonyms:d,allChoices:v}}),r=g.useMemo(()=>n(),[e]),i=[];for(let c=0;c<r.length;c+=2)i.push({left:r[c],right:r[c+1]||null});const a=i.map((c,d)=>s.jsx("table",{className:"w-full border-collapse",children:s.jsx("tbody",{children:s.jsxs("tr",{className:"border-b border-gray-200",style:{pageBreakInside:"avoid",breakInside:"avoid"},children:[s.jsxs("td",{className:"py-3 px-4 align-top",style:{width:"50%",verticalAlign:"top"},children:[s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(c.left.id).padStart(3,"0")})}),s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:c.left.word})]}),s.jsxs("div",{className:"text-black mb-2",style:{fontSize:"12px"},children:[": ",c.left.meaning]})]}),s.jsxs("div",{style:{fontSize:"11px"},children:[s.jsxs("div",{className:"mb-1 text-[12px]",children:[s.jsx("span",{className:"text-gray-600 print:text-black",children:": "}),s.jsx("span",{className:"text-gray-800 print:text-black",style:{fontWeight:"bold"},children:c.left.allChoices.filter(u=>u.isCorrect).map(u=>u.word).join(", ")})]}),s.jsx("div",{className:"space-y-0.5",children:c.left.allChoices.filter(u=>!u.isCorrect).map((u,f)=>s.jsxs("div",{className:"text-gray-600 print:text-black text-[11px]",children:[s.jsx("span",{className:"text-red-600 print:text-black",children:""})," ",u.word,": ",u.meaning]},f))})]})]}),s.jsx("td",{className:"py-3 px-4 align-top border-l border-gray-200",style:{width:"50%",verticalAlign:"top"},children:c.right&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"inline-block px-2 py-0.5 bg-slate-100/80 backdrop-blur-md rounded-full border border-slate-200/60",children:s.jsx("p",{className:"uppercase tracking-tight text-slate-600 font-medium",style:{fontSize:"8px"},children:String(c.right.id).padStart(3,"0")})}),s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},className:"text-black",children:c.right.word})]}),s.jsxs("div",{className:"text-black mb-2",style:{fontSize:"12px"},children:[": ",c.right.meaning]})]}),s.jsxs("div",{style:{fontSize:"11px"},children:[s.jsxs("div",{className:"mb-1 text-[12px]",children:[s.jsx("span",{className:"text-gray-600 print:text-black",children:": "}),s.jsx("span",{className:"text-gray-800 print:text-black",style:{fontWeight:"bold"},children:c.right.allChoices.filter(u=>u.isCorrect).map(u=>u.word).join(", ")})]}),s.jsx("div",{className:"space-y-0.5",children:c.right.allChoices.filter(u=>!u.isCorrect).map((u,f)=>s.jsxs("div",{className:"text-gray-600 print:text-black text-[11px]",children:[s.jsx("span",{className:"text-red-600 print:text-black",children:""})," ",u.word,": ",u.meaning]},f))})]})]})})]})})},d));return s.jsx(li,{headerContent:s.jsx(ai,{headerInfo:t,showFooter:!1}),showHeaderOnFirstPageOnly:!0,children:a})}const SV=Object.freeze(Object.defineProperty({__proto__:null,VocabularyTestSynonymAnswer:G0},Symbol.toStringTag,{value:"Module"})),NV=[{id:"card",title:"",description:"   ",icon:oS},{id:"table",title:" ",description:"     ",icon:mS},{id:"simple",title:" ",description:"   ",icon:hS},{id:"quiz-simple",title:" ",description:"    ",icon:ur},{id:"quiz-synonym",title:" ",description:"  ",icon:lS},{id:"quiz-synonym-answer",title:" ",description:"    ",icon:rS}],cg=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>typeof t=="string"?t:typeof t=="object"&&t!==null?t.word:"").map(t=>(t||"").trim()).filter(Boolean);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return cg(t)}catch{}return e.split(/[\n,]+/).map(t=>t.trim()).filter(Boolean)}return[]},dg=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>{if(typeof t=="string"){const[n,r]=t.split(":").map(i=>i.trim());return{word:n,meaning:r||""}}return typeof t=="object"&&t!==null?{word:String(t.word||"").trim(),meaning:String(t.meaning||"").trim()}:{word:"",meaning:""}}).filter(t=>t.word);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return dg(t)}catch{}return e.split(/[,;]/).map(t=>{const[n,r]=t.split(":").map(i=>i.trim());return{word:n,meaning:r||""}}).filter(t=>t.word)}return typeof e=="object"?dg([e]):[]},kV=e=>e.map((t,n)=>{const r=t||{},i=String(r.word||r.term||"").trim();return i?{id:n+1,word:i,pronunciation:r.pronunciation||"",partOfSpeech:r.partOfSpeech||r.part_of_speech||"",meaning:r.meaning||r.translation||"",definition:r.definition||"",synonyms:cg(r.synonyms),antonyms:cg(r.antonyms),derivatives:dg(r.derivatives),example:r.example||r.example_sentence||"",translation:r.translation||"",translationHighlight:r.translationHighlight||r.translation_highlight||"",etymology:r.etymology||""}:null}).filter(Boolean);function CV(){const e=g.useMemo(()=>new URLSearchParams(window.location.search),[]),t=e.get("vocabularyId")||e.get("vocabId")||"",[n,r]=g.useState("card"),[i,a]=g.useState(t||null),[c,d]=g.useState([]),[u,f]=g.useState(""),[p,m]=g.useState(!1),[y,v]=g.useState(null),b=()=>{window.location.pathname="/"},j=g.useCallback(async E=>{const A=E.trim();if(!A){v(" ID   .");return}const F=localStorage.getItem("supabase_access_token");if(!F){v(" .     .");return}try{m(!0),v(null);const D=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/${A}`,{headers:{Authorization:`Bearer ${F}`}});if(!D.ok){const G=await D.json().catch(()=>({}));throw new Error(G.error||G.message||"  .")}const O=await D.json(),V=kV(O.words||[]);if(V.length===0)throw new Error("   .     .");d(V),f(O.vocabulary?.title||"AI Vocabulary"),a(A)}catch(D){console.error(D),d([]),a(null),v(D instanceof Error?D.message:"  .")}finally{m(!1)}},[]);g.useEffect(()=>{t?j(t):v(" ID    .")},[t,j]);const S=g.useMemo(()=>({headerTitle:u||"AI Vocabulary",headerDescription:c.length?`${c.length.toLocaleString()} `:"",footerLeft:new Date().toLocaleDateString("ko-KR")}),[c.length,u]),N=()=>{if(!c.length)return s.jsx("p",{className:"text-center text-gray-500",children:"  ."});switch(n){case"card":return s.jsx(li,{headerContent:s.jsx(ai,{headerInfo:S,showFooter:!0}),showHeaderOnFirstPageOnly:!0,children:c.map(E=>s.jsx(z0,{...E},E.id))});case"table":return s.jsx(W0,{data:c,headerInfo:S});case"simple":return s.jsx(V0,{data:c,headerInfo:S});case"quiz-simple":return s.jsx(U0,{data:c,headerInfo:S});case"quiz-synonym":return s.jsx(H0,{data:c,headerInfo:S});case"quiz-synonym-answer":return s.jsx(G0,{data:c,headerInfo:S});default:return null}},_=()=>{if(p){alert("  .  .");return}if(!c.length){alert(y||"  .");return}window.print()},C=c.length>0?N():null;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#FDF2F8] via-[#F5F3FF] to-[#E0F2FE] pb-16 print:bg-white print:min-h-0 print:pb-0",children:[s.jsx("header",{className:"sticky top-0 z-40 bg-transparent px-4 pt-6 print:hidden",children:s.jsxs("div",{className:"flex items-center justify-between max-w-6xl mx-auto",children:[s.jsxs(M.button,{onClick:b,whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-3 rounded-2xl bg-white/80 border border-white/60 shadow-lg text-[#491B6D]",children:[s.jsx(xs,{className:"w-4 h-4"}),""]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-[#6B21A8] font-semibold tracking-wide uppercase",children:"AI Vocabulary Export"}),s.jsx("p",{className:"text-lg font-bold text-[#1E1B4B]",children:"  PDF "})]}),s.jsx("div",{className:"w-[140px]"})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-4 mt-8 space-y-8 print:hidden",children:[s.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-[#1E1B4B]",children:u||"  "}),s.jsx("p",{className:"text-sm text-gray-500",children:c.length?`${c.length.toLocaleString()} `:"  "})]}),s.jsxs("div",{className:"text-sm text-gray-400 font-mono bg-gray-50 border border-gray-200 rounded-xl px-3 py-2",children:["ID: ",i||""]})]}),p&&s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-[#C4B5FD] border-t-transparent"}),"  ..."]}),y&&s.jsx("div",{className:"rounded-2xl border border-rose-100 bg-rose-50/70 px-4 py-3 text-sm text-rose-700",children:y})]}),s.jsxs("section",{className:"bg-white/95 rounded-3xl border border-white/70 shadow-xl p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-[#6B21A8] mb-2",children:"1.  "}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:NV.map(E=>{const A=E.icon,F=n===E.id;return s.jsx(M.button,{whileTap:{scale:.97},onClick:()=>r(E.id),className:`p-4 rounded-3xl text-left border shadow-sm transition-all ${F?"bg-gradient-to-br from-[#C084FC] to-[#A855F7] text-white border-transparent shadow-lg shadow-purple-200":"bg-white/90 border-white/60 text-[#1E1B4B] hover:-translate-y-0.5"}`,children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:`p-2 rounded-2xl ${F?"bg-white/20 text-white":"bg-[#F5F3FF] text-[#7C3AED]"}`,children:s.jsx(A,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-semibold",children:E.title}),s.jsx("p",{className:`text-sm ${F?"text-white/80":"text-gray-500"}`,children:E.description})]})]})},E.id)})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-semibold text-[#6B21A8]",children:"2. "}),s.jsx(M.button,{whileTap:{scale:.98},onClick:_,disabled:p||!c.length,className:`w-full rounded-2xl px-6 py-4 text-white font-bold shadow-lg ${p||!c.length?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-br from-[#7C3AED] to-[#A855F7]"}`,children:p?" ...":"  "}),s.jsx("p",{className:"text-xs text-gray-500",children:"      PDF    PDF    ."})]})]})]}),s.jsx("div",{id:"pdf-print-area",className:"pdf-print-root",children:C})]})}const EV=["card","table","simple","quiz-simple","quiz-synonym","quiz-synonym-answer"],ug=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>typeof t=="string"?t:typeof t=="object"&&t!==null?t.word:"").map(t=>(t||"").trim()).filter(Boolean);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return ug(t)}catch{}return e.split(/[\n,]+/).map(t=>t.trim()).filter(Boolean)}return[]},hg=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>{if(typeof t=="string"){const[n,r]=t.split(":").map(i=>i.trim());return{word:n,meaning:r||""}}return typeof t=="object"&&t!==null?{word:String(t.word||"").trim(),meaning:String(t.meaning||"").trim()}:{word:"",meaning:""}}).filter(t=>t.word);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return hg(t)}catch{}return e.split(/[,;]/).map(t=>{const[n,r]=t.split(":").map(i=>i.trim());return{word:n,meaning:r||""}}).filter(t=>t.word)}return typeof e=="object"?hg([e]):[]},_V=e=>(e||[]).map((t,n)=>{const r=t||{},i=String(r.word||r.term||"").trim();return i?{id:n+1,word:i,pronunciation:r.pronunciation||"",partOfSpeech:r.partOfSpeech||r.part_of_speech||"",meaning:r.meaning||r.translation||"",definition:r.definition||"",synonyms:ug(r.synonyms),antonyms:ug(r.antonyms),derivatives:hg(r.derivatives),example:r.example||r.example_sentence||"",translation:r.translation||"",translationHighlight:r.translationHighlight||r.translation_highlight||"",etymology:r.etymology||""}:null}).filter(Boolean),AV=e=>e?EV.includes(e):!1;function TV(){const e=g.useMemo(()=>new URLSearchParams(window.location.search),[]),t=e.get("vocabularyId")||e.get("vocabId")||"",n=AV(e.get("layout"))?e.get("layout"):"card",[r,i]=g.useState([]),[a,c]=g.useState(""),[d,u]=g.useState(!1),[f,p]=g.useState(null);g.useEffect(()=>{const b="pdf-print-page";return document.body.classList.add(b),document.documentElement.classList.add(b),()=>{document.body.classList.remove(b),document.documentElement.classList.remove(b)}},[]);const m=g.useCallback(async()=>{if(!t.trim()){p(" ID   .");return}const b=localStorage.getItem("supabase_access_token");if(!b){p(" .     .");return}try{u(!0),p(null);const j=await fetch(`https://${Ge}.supabase.co/functions/v1/server/user-vocabularies/${t.trim()}`,{headers:{Authorization:`Bearer ${b}`}});if(!j.ok){const _=await j.json().catch(()=>({}));throw new Error(_.error||_.message||"  .")}const S=await j.json(),N=_V(S.words||[]);if(!N.length)throw new Error("   .     .");i(N),c(S.vocabulary?.title||"AI Vocabulary")}catch(j){console.error(j),i([]),p(j instanceof Error?j.message:"  .")}finally{u(!1)}},[t]);g.useEffect(()=>{m()},[m]),g.useEffect(()=>{if(!d&&!f&&r.length){const b=setTimeout(()=>{window.print()},200);return()=>clearTimeout(b)}},[d,f,r.length]);const y=g.useMemo(()=>({headerTitle:a||"AI Vocabulary",headerDescription:r.length?`${r.length.toLocaleString()} `:"",footerLeft:new Date().toLocaleDateString("ko-KR")}),[r.length,a]),v=()=>{if(!r.length)return null;switch(n){case"card":return s.jsx(li,{headerContent:s.jsx(ai,{headerInfo:y,showFooter:!0}),showHeaderOnFirstPageOnly:!0,children:r.map(b=>s.jsx(z0,{...b},b.id))});case"table":return s.jsx(W0,{data:r,headerInfo:y});case"simple":return s.jsx(V0,{data:r,headerInfo:y});case"quiz-simple":return s.jsx(U0,{data:r,headerInfo:y});case"quiz-synonym":return s.jsx(H0,{data:r,headerInfo:y});case"quiz-synonym-answer":return s.jsx(G0,{data:r,headerInfo:y});default:return null}};return s.jsxs("div",{className:"min-h-screen bg-white pdf-print-root",children:[d&&s.jsx("div",{className:"py-12 text-center text-gray-500",children:"  ..."}),f&&s.jsx("div",{className:"py-12 text-center text-rose-600",children:f}),!d&&!f&&r.length>0&&s.jsx("div",{id:"pdf-print-area",children:v()})]})}const nm={name:"",logo_url:"",application_start:"",application_end:"",exam_date:"",result_date:""};function PV({universities:e,departments:t,onRefresh:n}){const r=g.useMemo(()=>Yn(),[]),[i,a]=g.useState(nm),[c,d]=g.useState(null),[u,f]=g.useState(!1),p=async b=>{b.preventDefault(),i.name?.trim()&&(c?await r.from("universities").update(i).eq("id",c):await r.from("universities").insert(i),a(nm),d(null),n())},m=b=>{d(b.id),a({name:b.name,logo_url:b.logo_url||"",application_start:b.application_start||"",application_end:b.application_end||"",exam_date:b.exam_date||"",result_date:b.result_date||""})},y=async b=>{window.confirm("  ?    .")&&(await r.from("universities").delete().eq("id",b),n())},v=async b=>{const j=b.target.files?.[0];if(j){f(!0);try{const N=(await j.text()).split(/\r?\n/).filter(Boolean),[_,...C]=N,E=_.split(",").map(F=>F.trim()),A=C.map(F=>{const D=F.split(","),O={};return E.forEach((V,G)=>{O[V]=D[G]?.trim()}),O});A.length&&(await r.from("universities").upsert(A,{onConflict:"name"}),n())}finally{f(!1)}}};return s.jsxs("section",{className:"admission-card space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"admission-section-title",children:"  "}),s.jsx("p",{className:"text-sm text-gray-500",children:", ,    CSV    ."})]}),s.jsxs("label",{className:"admission-button-primary cursor-pointer",children:[u?" ...":"CSV ",s.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:v,disabled:u})]})]}),s.jsxs("form",{onSubmit:p,className:"admission-grid two",children:[s.jsxs("label",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:""}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:i.name,onChange:b=>a(j=>({...j,name:b.target.value})),placeholder:": "})]}),s.jsxs("label",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:" URL"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:i.logo_url||"",onChange:b=>a(j=>({...j,logo_url:b.target.value})),placeholder:"https://"})]}),["application_start","application_end","exam_date","result_date"].map(b=>s.jsxs("label",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:{application_start:" ",application_end:" ",exam_date:"",result_date:" "}[b]}),s.jsx("input",{type:"date",className:"w-full border rounded-xl px-3 py-2",value:i[b]||"",onChange:j=>a(S=>({...S,[b]:j.target.value}))})]},b)),s.jsxs("div",{className:"col-span-full flex gap-3",children:[s.jsx("button",{className:"admission-button-primary",type:"submit",children:c?"  ":" "}),c&&s.jsx("button",{type:"button",className:"admission-button-primary bg-gray-300 text-gray-800",onClick:()=>{d(null),a(nm)},children:""})]})]}),s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-xs uppercase tracking-widest text-gray-500",children:[s.jsx("th",{className:"py-2",children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:" "}),s.jsx("th",{})]})}),s.jsx("tbody",{children:e.map(b=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-2 font-semibold",children:b.name}),s.jsxs("td",{className:"text-xs text-gray-500",children:[b.application_start||"-"," ~ ",b.application_end||"-"]}),s.jsx("td",{children:b.exam_date||"-"}),s.jsx("td",{children:b.result_date||"-"}),s.jsx("td",{children:t.filter(j=>j.university_id===b.id).length}),s.jsxs("td",{className:"flex gap-2 justify-end py-2",children:[s.jsx("button",{className:"text-[#7c3aed]",onClick:()=>m(b),children:""}),s.jsx("button",{className:"text-rose-500",onClick:()=>y(b.id),children:""})]})]},b.id))})]})})]})}const Ld=["","","","1",""],RV={:"",:"",:"","1":"",:""};function DV({universities:e,matrix:t,onChangeStatus:n}){const r=i=>{if(!i)return Ld[0];const a=Ld.indexOf(i);return Ld[(a+1)%Ld.length]};return s.jsxs("section",{className:"admission-card space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"admission-section-title",children:"   "}),s.jsx("p",{className:"text-sm text-gray-500",children:"       ."})]})}),s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"admission-matrix-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left",children:""}),e.map(i=>s.jsx("th",{children:i.name},i.id))]})}),s.jsx("tbody",{children:t.map(i=>s.jsxs("tr",{children:[s.jsx("td",{className:"text-left font-semibold",children:i.studentName}),e.map(a=>{const c=i.statuses[a.id];return s.jsx("td",{className:"admission-matrix-status",onClick:()=>n(i.studentId,a.id,r(c)),title:c||"",children:c?RV[c]:""},a.id)})]},i.studentId))})]})})]})}function OV({universities:e,applicants:t,selectedUniversity:n,onSelectUniversity:r}){return s.jsxs("section",{className:"admission-card space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"admission-section-title",children:"  "}),s.jsx("p",{className:"text-sm text-gray-500",children:"       ."})]}),s.jsxs("select",{value:n,onChange:i=>r(i.target.value),className:"border rounded-xl px-3 py-2 min-w-[200px]",children:[s.jsx("option",{value:"",children:" "}),e.map(i=>s.jsx("option",{value:i.id,children:i.name},i.id))]})]}),n?s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-xs uppercase tracking-widest text-gray-500",children:[s.jsx("th",{className:"py-2",children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:t.map(i=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-2 font-semibold",children:i.student_name}),s.jsx("td",{children:i.department_name||"-"}),s.jsx("td",{children:i.status}),s.jsx("td",{className:"text-gray-500",children:i.admin_notes||"-"})]},i.id))})]})}):s.jsx("div",{className:"text-center text-gray-500 py-10",children:"   ."})]})}const J1={:"#f43f5e",:"#3b82f6",:"#10b981"};function IV({loading:e,items:t}){return s.jsxs("section",{className:"admission-card space-y-5",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"admission-section-title",children:"D-day "}),s.jsx("p",{className:"text-sm text-gray-500",children:"     ."})]})}),e&&s.jsx("p",{className:"text-center text-gray-500 py-6",children:"  ..."}),!e&&s.jsxs("div",{className:"admission-grid two",children:[t.map(n=>s.jsxs("article",{className:"border rounded-2xl p-4 bg-white/80",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-gray-500",children:n.deadlineType}),s.jsx("h3",{className:"text-xl font-bold",children:n.universityName}),s.jsx("p",{className:"text-sm text-gray-500",children:n.date})]}),s.jsxs("span",{className:"admission-chip",style:{background:`${J1[n.deadlineType]}22`,color:J1[n.deadlineType]},children:["D-",n.countdown]})]}),s.jsx("div",{className:"mt-3 text-sm text-gray-600",children:n.students.length?s.jsx("ul",{className:"list-disc pl-5 space-y-1",children:n.students.map(r=>s.jsx("li",{children:r.name},r.id))}):s.jsx("p",{children:"   ."})})]},`${n.universityId}-${n.deadlineType}`)),!t.length&&s.jsx("p",{className:"text-center text-gray-500 col-span-full",children:"  ."})]})]})}const FV={:"",:"",:"","1":"",:""};function MV(){const e=g.useMemo(()=>Yn(),[]),[t,n]=g.useState("universities"),[r,i]=g.useState([]),[a,c]=g.useState([]),[d,u]=g.useState([]),[f,p]=g.useState([]),[m,y]=g.useState(""),[v,b]=g.useState([]),[j,S]=g.useState(!1),N=async()=>{const{data:O}=await e.from("universities").select("*").order("name");i(O||[])},_=async()=>{const{data:O}=await e.from("departments").select("*");c(O||[])},C=async()=>{const{data:O}=await e.functions.invoke("admission-manager",{body:{action:"get-student-matrix"}});u(O||[])},E=async O=>{if(!O)return;const{data:V}=await e.from("student_applications").select("id,student_id,university_id,department_id,status,admin_notes,profiles:student_id(full_name),universities(name),departments(name)").eq("university_id",O),G=V?.map(ee=>({id:ee.id,student_id:ee.student_id,student_name:ee.profiles?.full_name||"",university_id:ee.university_id,university_name:ee.universities?.name,department_id:ee.department_id,department_name:ee.departments?.name,status:ee.status,admin_notes:ee.admin_notes}))||[];p(G)},A=async()=>{S(!0);try{const{data:O}=await e.functions.invoke("admission-manager",{body:{action:"get-dday-board"}});b(O||[])}finally{S(!1)}};g.useEffect(()=>{N(),_(),C(),A()},[]),g.useEffect(()=>{m&&E(m)},[m]);const F=async(O,V,G)=>{await e.functions.invoke("admission-manager",{body:{action:"update-status",payload:{studentId:O,universityId:V,status:G}}}),C(),m&&E(m)},D=()=>{const O=["",...r.map(J=>J.name)],V=d.map(J=>[J.studentName,...r.map($=>J.statuses[$.id]?FV[J.statuses[$.id]]:"-")]),G=[O,...V].map(J=>J.join(",")).join(`
`),ee=new Blob([G],{type:"text/csv;charset=utf-8;"}),se=window.URL.createObjectURL(ee),ie=document.createElement("a");ie.href=se,ie.download=`admission-status-${Date.now()}.csv`,ie.click(),window.URL.revokeObjectURL(se)};return s.jsxs("div",{className:"admission-admin-root",children:[s.jsxs("header",{className:"max-w-6xl mx-auto px-6 py-12",children:[s.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 text-[#7c3aed] hover:text-[#4c1d95] transition-colors mb-4",children:[s.jsx(xs,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:""})]}),s.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-[#7c3aed] font-semibold",children:"Admission Manager"}),s.jsx("h1",{className:"text-3xl font-black text-[#1e1b4b] mt-2",children:"  "}),s.jsx("p",{className:"text-[#4c1d95]",children:"       ."}),s.jsxs("div",{className:"flex gap-3 mt-6 flex-wrap",children:[s.jsx("button",{className:`admission-button-primary ${t==="universities"?"!bg-[#4c1d95]":""}`,onClick:()=>n("universities"),children:" "}),s.jsx("button",{className:`admission-button-primary ${t==="matrix"?"!bg-[#4c1d95]":""}`,onClick:()=>n("matrix"),children:" "}),s.jsx("button",{className:`admission-button-primary ${t==="applicants"?"!bg-[#4c1d95]":""}`,onClick:()=>n("applicants"),children:" "}),s.jsx("button",{className:`admission-button-primary ${t==="dday"?"!bg-[#4c1d95]":""}`,onClick:()=>n("dday"),children:"D-day "}),s.jsx("button",{className:"admission-button-primary ml-auto",onClick:D,children:"   "})]})]}),s.jsxs("main",{className:"max-w-6xl mx-auto px-6 admission-grid",children:[t==="universities"&&s.jsx(PV,{universities:r,departments:a,onRefresh:()=>{N(),_()}}),t==="matrix"&&s.jsx(DV,{universities:r,matrix:d,onChangeStatus:F}),t==="applicants"&&s.jsx(OV,{universities:r,applicants:f,selectedUniversity:m,onSelectUniversity:y}),t==="dday"&&s.jsx(IV,{loading:j,items:v})]})]})}const WC=document.getElementById("root");if(!WC)throw new Error("Root element not found");B5.createRoot(WC).render(s.jsx(eA,{children:s.jsxs(P_,{children:[s.jsx(Ro,{path:"/admin/admission/*",element:s.jsx(MV,{})}),s.jsx(Ro,{path:"/student/calendar",element:s.jsx(LC,{})}),s.jsx(Ro,{path:"/export/print",element:s.jsx(TV,{})}),s.jsx(Ro,{path:"/export",element:s.jsx(CV,{})}),s.jsx(Ro,{path:"/*",element:s.jsx(fV,{})})]})}));
